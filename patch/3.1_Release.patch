diff --git a/.gitignore b/.gitignore
index 8ae985a5cd2e8..4a9a3cb5ff30f 100644
--- a/.gitignore
+++ b/.gitignore
@@ -80,7 +80,7 @@ vs-chromium-project.txt
 /c_icu
 /cdm
 /ceee/internal/
-/chrome/android/profiles/afdo.prof
+#/chrome/android/profiles/afdo.prof
 /chrome/android/profiles/local.txt
 /chrome/angle_unittests_run.xml
 /chrome/app/vector_icons/google_chrome/
@@ -103,7 +103,7 @@ vs-chromium-project.txt
 /chrome/browser/protector/internal
 /chrome/browser/resources/chromeos/quickoffice
 /chrome/browser/resources/pdf/html_office
-/chrome/browser/resources/media_router/extension/src/
+#/chrome/browser/resources/media_router/extension/src/
 /chrome/browser/resources/preinstalled_web_apps/internal/
 /chrome/browser/resources/media_router_internal/
 /chrome/browser/resources/settings_internal/
@@ -152,8 +152,8 @@ vs-chromium-project.txt
 /chrome/test/data/layout_tests
 /chrome/test/data/password/captured_sites
 /chrome/test/data/pdf_private
-/chrome/test/data/perf/canvas_bench
-/chrome/test/data/perf/frame_rate/content
+#/chrome/test/data/perf/canvas_bench
+#/chrome/test/data/perf/frame_rate/content
 /chrome/test/data/perf/frame_rate/private
 /chrome/test/data/perf/private/
 /chrome/test/data/perf/third_party/
@@ -161,7 +161,7 @@ vs-chromium-project.txt
 /chrome/test/data/vr/
 /chrome/test/data/webrtc/resources
 /chrome/test/data/xr/ar_playback_datasets/*.mp4
-/chrome/test/data/xr/webvr_info/
+#/chrome/test/data/xr/webvr_info/
 /chrome/test/media_router/internal
 /chrome/test/python_tests/
 /chrome/tools/memory
@@ -235,18 +235,18 @@ vs-chromium-project.txt
 /libinteraction
 /llvm
 /media/cast/logging/cast_logging_proto_lib.xml
-/media/cdm/api
+#/media/cdm/api
 /media/media_mojo_bindings.xml
 /media/test/data/internal
 /metro_driver
 /mojo/internal
-/native_client
+#/native_client
 /net/Debug
 /net/net_derived_sources.xml
 /net/net_unittests_run.xml
 /net/Release
 /net/testserver.log
-/net/third_party/quiche/src
+#/net/third_party/quiche/src
 /orderfiles
 /out*/
 /ppapi/native_client/nacl_irt.xml
@@ -297,7 +297,7 @@ vs-chromium-project.txt
 /tools/metrics/histograms/histograms_xml/*.before.pretty-print.xml
 /tools/metrics/histograms/histograms_xml/*/*.before.pretty-print.xml
 /tools/metrics/histograms/enums.before.pretty-print.xml
-/tools/page_cycler/acid3
+#/tools/page_cycler/acid3
 /tools/reclient
 /tools/skia_goldctl/
 /tools/swarming_client
@@ -308,7 +308,7 @@ vs-chromium-project.txt
 /ui/surface/surface.xml
 /ui/surface/surface_gpu_tests.xml
 /ui/webui/internal
-/v8
+#/v8
 /webkit/data
 /webpagereplay_logs/
 /x86-generic_out/
@@ -328,3 +328,4 @@ vs-chromium-project.txt
 
 # Ignore the default results output directory for tools/run-swarmed.py
 /results
+
diff --git a/DEPS b/DEPS
index 5be6aa5b06e0b..9bc5bbe9fe0df 100644
--- a/DEPS
+++ b/DEPS
@@ -261,7 +261,7 @@ vars = {
   # Three lines of non-changing comments so that
   # the commit queue can handle CLs rolling freetype
   # and whatever else without interference from each other.
-  'freetype_revision': 'e9c50fa77de58b749b4b95706f7b55bfff0dd27f',
+  'freetype_revision': '6a2b3e4007e794bfc6c91030d0ed987f925164a8',
   # Three lines of non-changing comments so that
   # the commit queue can handle CLs rolling freetype
   # and whatever else without interference from each other.
diff --git a/base/base_paths_ohos.cc b/base/base_paths_ohos.cc
index fb6e3966f6db7..92f7fd5a891cd 100644
--- a/base/base_paths_ohos.cc
+++ b/base/base_paths_ohos.cc
@@ -10,18 +10,32 @@
 #include <unistd.h>
 
 #include "base/base_paths.h"
+#include "base/command_line.h"
 #include "base/files/file_path.h"
 #include "base/files/file_util.h"
+#include "base/logging.h"
 #include "base/notreached.h"
 #include "base/process/process_metrics.h"
-
-#if defined(OS_OHOS)
-#include "base/command_line.h"
 #include "content/public/common/content_switches.h"
-#endif
 
 namespace base {
 
+bool ParseAssetsOHOS(FilePath* result) {
+  auto bundle_path = base::CommandLine::ForCurrentProcess()->
+    GetSwitchValueASCII(switches::kBundleInstallationDir);
+  if (bundle_path.empty()) {
+    LOG(ERROR) << "Bundle path is empty";
+    return false;
+  }
+  bool for_test = base::CommandLine::ForCurrentProcess()->HasSwitch(switches::kForTest);
+  if (for_test) {
+    *result = FilePath(bundle_path + "/entry/resources/rawfile");
+  } else {
+    *result = FilePath(bundle_path + "/nweb/entry/resources/rawfile");
+  }
+  return true;
+}
+
 bool PathProviderOHOS(int key, FilePath* result) {
   FilePath bin_dir;
   switch (key) {
@@ -54,20 +68,9 @@ bool PathProviderOHOS(int key, FilePath* result) {
       // set to /data/local directory for W|X permission.
       *result = FilePath("/data/local");
       return true;
-    case base::DIR_ASSETS: {
+    case base::DIR_ASSETS:
       // resource file packed to system images
-#if defined(OS_OHOS)
-      bool for_test = base::CommandLine::ForCurrentProcess()->HasSwitch(switches::kForTest);
-      if (for_test) {
-        *result = FilePath("/data/app/el1/bundle/public/com.ohos.nweb/entry/resources/rawfile");
-      } else {
-        *result = FilePath("/data/storage/el1/bundle/nweb/entry/resources/rawfile");
-      }
-#else
-        *result = FilePath("/data/local");
-#endif
-      return true;
-    }
+      return ParseAssetsOHOS(result);
     case base::DIR_OHOS_APP_DATA:
       *result = FilePath("/data/local");
       return true;
diff --git a/base/base_paths_ohos.h b/base/base_paths_ohos.h
index 0b24760f85a7c..6fa381f9cf7f0 100644
--- a/base/base_paths_ohos.h
+++ b/base/base_paths_ohos.h
@@ -12,6 +12,7 @@ enum {
 
   DIR_OHOS_APP_DATA,
   DIR_OHOS_EXTERNAL_STORAGE,
+  DIR_OHOS_APP_INSTALLATION,
 
   PATH_OHOS_END
 };
diff --git a/base/files/scoped_file.cc b/base/files/scoped_file.cc
index a2e1e6b118ea0..2d7bff66cd126 100644
--- a/base/files/scoped_file.cc
+++ b/base/files/scoped_file.cc
@@ -31,7 +31,7 @@ void ScopedFDCloseTraits::Free(int fd) {
   int ret = IGNORE_EINTR(close(fd));
 
 #if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_APPLE) || \
-    defined(OS_FUCHSIA) || defined(OS_ANDROID)
+    defined(OS_FUCHSIA) || defined(OS_ANDROID) || defined(OS_OHOS)
   // NB: Some file descriptors can return errors from close() e.g. network
   // filesystems such as NFS and Linux input devices. On Linux, macOS, and
   // Fuchsia's POSIX layer, errors from close other than EBADF do not indicate
@@ -39,8 +39,6 @@ void ScopedFDCloseTraits::Free(int fd) {
   if (ret != 0 && errno != EBADF)
     ret = 0;
 #endif
-
-  PCHECK(0 == ret);
 }
 
 #endif  // OS_POSIX || OS_FUCHSIA
diff --git a/base/memory/discardable_shared_memory.cc b/base/memory/discardable_shared_memory.cc
index 49c00097464c2..6ecb0c5976e22 100644
--- a/base/memory/discardable_shared_memory.cc
+++ b/base/memory/discardable_shared_memory.cc
@@ -401,7 +401,7 @@ bool DiscardableSharedMemory::Purge(Time current_time) {
 // Linux and Android provide MADV_REMOVE which is preferred as it has a
 // behavior that can be verified in tests. Other POSIX flavors (MacOSX, BSDs),
 // provide MADV_FREE which has the same result but memory is purged lazily.
-#if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_ANDROID)
+#if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_ANDROID) || defined(OS_OHOS)
 #define MADV_PURGE_ARGUMENT MADV_REMOVE
 #elif defined(OS_APPLE)
 // MADV_FREE_REUSABLE is similar to MADV_FREE, but also marks the pages with the
@@ -467,7 +467,7 @@ void DiscardableSharedMemory::ReleaseMemoryIfPossible(size_t offset,
 // Linux and Android provide MADV_REMOVE which is preferred as it has a
 // behavior that can be verified in tests. Other POSIX flavors (MacOSX, BSDs),
 // provide MADV_FREE which has the same result but memory is purged lazily.
-#if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_ANDROID)
+#if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_ANDROID) || defined(OS_OHOS)
 #define MADV_PURGE_ARGUMENT MADV_REMOVE
 #elif defined(OS_APPLE)
 // MADV_FREE_REUSABLE is similar to MADV_FREE, but also marks the pages with the
diff --git a/base/memory/discardable_shared_memory.h b/base/memory/discardable_shared_memory.h
index c5c805a2cf1bc..64c6fa9694ea6 100644
--- a/base/memory/discardable_shared_memory.h
+++ b/base/memory/discardable_shared_memory.h
@@ -27,7 +27,7 @@
 // and Android to indicate that this type of behavior can be expected on
 // those platforms. Note that madvise() will still be used on other POSIX
 // platforms but doesn't provide the zero-fill-on-demand pages guarantee.
-#if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_ANDROID)
+#if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_ANDROID) || defined(OS_OHOS)
 #define DISCARDABLE_SHARED_MEMORY_ZERO_FILL_ON_DEMAND_PAGES_AFTER_PURGE
 #endif
 
diff --git a/base/memory/platform_shared_memory_region_posix.cc b/base/memory/platform_shared_memory_region_posix.cc
index c8e488667b062..22cc89a40ecca 100644
--- a/base/memory/platform_shared_memory_region_posix.cc
+++ b/base/memory/platform_shared_memory_region_posix.cc
@@ -37,7 +37,7 @@ bool CheckFDAccessMode(int fd, int expected_mode) {
   int fd_status = fcntl(fd, F_GETFL);
   if (fd_status == -1) {
     // TODO(crbug.com/838365): convert to DLOG when bug fixed.
-    PLOG(ERROR) << "fcntl(" << fd << ", F_GETFL) failed";
+    LOG(ERROR) << "fcntl(" << fd << ", F_GETFL) failed";
     return false;
   }
 
@@ -96,7 +96,7 @@ PlatformSharedMemoryRegion PlatformSharedMemoryRegion::Take(
   if (size > static_cast<size_t>(std::numeric_limits<int>::max()))
     return {};
 
-  CHECK(
+  DCHECK(
       CheckPlatformHandlePermissionsCorrespondToMode(handle.get(), mode, size));
 
   switch (mode) {
diff --git a/base/message_loop/message_pump_ohos.cc b/base/message_loop/message_pump_ohos.cc
index b49e2a76cb0bf..25a245d9231c4 100644
--- a/base/message_loop/message_pump_ohos.cc
+++ b/base/message_loop/message_pump_ohos.cc
@@ -76,7 +76,11 @@ int timerfd_settime(int ufc,
                     const struct itimerspec* utmr,
                     struct itimerspec* otmr) {
 #if defined(__MUSL__)
+#if defined(__aarch64__)
+  return syscall(__NR_timerfd_settime, ufc, flags, utmr, otmr);
+#else
   return syscall(__NR_timerfd_settime32, ufc, flags, utmr, otmr);
+#endif
 #else
   return syscall(__NR_timerfd_settime, ufc, flags, utmr, otmr);
 #endif
diff --git a/build/config/ohos/BUILD.gn b/build/config/ohos/BUILD.gn
index 881d941065849..7461d2b0f77e7 100644
--- a/build/config/ohos/BUILD.gn
+++ b/build/config/ohos/BUILD.gn
@@ -53,14 +53,14 @@ config("compiler") {
   if (use_musl) {
     if (current_cpu == "arm") {
     } else {
-      ldflags += [ "--rtlib=libgcc" ]
+     # ldflags += [ "--rtlib=libgcc" ]
     }
   }
 
   if (current_cpu == "arm64") {
     # For outline atomics on AArch64 (can't pass this unconditionally
     # due to unused flag warning on other targets).
-    cflags += [ "--rtlib=libgcc" ]
+    # cflags += [ "--rtlib=libgcc" ]
   }
 
   # $compile_api_level corresponds to the API level used for the sysroot path
@@ -76,6 +76,7 @@ config("compiler") {
     abi_target = ""
     compile_api_level = ""
   } else if (current_cpu == "arm64") {
+    abi_target = "aarch64-linux-ohos"
     if (!use_musl) {
       abi_target = "aarch64-linux-android"
       compile_api_level = arm64_ndk_api_level
@@ -130,13 +131,23 @@ config("runtime_library") {
     ]
   }
   if (use_musl) {
-    ldflags += [
-      "-L" + rebase_path("$ohos_sysroot/usr/lib/arm-linux-ohos", root_build_dir),
-      "-L" + rebase_path("$ohos_toolchain_root/lib/arm-linux-ohos/c++", root_build_dir),
-      "-L" + rebase_path("$ohos_toolchain_root/lib/clang/10.0.1/lib/arm-linux-ohos", root_build_dir),
-    ]
     ldflags += [ "-Wl,--dynamic-linker,/lib/ld-musl-arm.so.1" ]
-    libclang_rt_file = "$ohos_toolchain_root/lib/clang/10.0.1/lib/arm-linux-ohos/libclang_rt.builtins.a"
+
+    if (current_cpu == "arm") {
+      ldflags += [ "-L" + rebase_path("$ohos_sysroot/usr/lib/arm-linux-ohos", root_build_dir) ]
+      ldflags += [ "-L" + rebase_path("$ohos_toolchain_root/lib/arm-linux-ohos/c++", root_build_dir) ]
+      ldflags += [ "-L" + rebase_path("$ohos_toolchain_root/lib/clang/10.0.1/lib/arm-linux-ohos", root_build_dir) ]
+      libclang_rt_file = "$ohos_toolchain_root/lib/clang/10.0.1/lib/arm-linux-ohos/libclang_rt.builtins.a"
+    }
+
+    if (current_cpu == "arm64") {
+      ldflags += [ "-Wl,-z,max-page-size=4096" ]
+      ldflags += [ "-Wl,--hash-style=gnu" ]
+      ldflags += [ "-L" + rebase_path("$ohos_sysroot/usr/lib/aarch64-linux-ohos", root_build_dir) ]
+      ldflags += [ "-L" + rebase_path("$ohos_toolchain_root/lib/aarch64-linux-ohos/c++", root_build_dir) ]
+      ldflags += [ "-L" + rebase_path("$ohos_toolchain_root/lib/clang/10.0.1/lib/aarch64-linux-ohos", root_build_dir) ]
+      libclang_rt_file = "$ohos_toolchain_root/lib/clang/10.0.1/lib/aarch64-linux-ohos/libclang_rt.builtins.a"
+    }
 
     libs += [
       rebase_path(libclang_rt_file),
@@ -171,6 +182,21 @@ config("runtime_library") {
       ldflags += [ "-L" + rebase_path("$ohos_ndk_root/aosp_prebuilt_libs/asdk_libs/ndk/platforms/current/arch-arm/usr/lib", root_build_dir) ]
     }
 
+    if (current_cpu == "arm64") {
+      ldflags += [ "-Wl,-z,max-page-size=4096" ]
+      ldflags += [ "-Wl,--hash-style=gnu" ]
+      ldflags += [ "-L" + rebase_path("$ohos_ndk_root/gcc/linux-x86/arm/gcc-linaro-7.5.0-arm-linux-gnueabi/arm-linux-gnueabi/lib", root_build_dir) ]
+      ldflags += [ "-L" + rebase_path("$ohos_ndk_root/gcc/linux-x86/arm/gcc-linaro-7.5.0-arm-linux-gnueabi/lib/gcc/arm-linux-gnueabi/7.5.0", root_build_dir) ]
+      ldflags += [ "-l:libgcc.a" ]
+      ldflags += [ "-L" + rebase_path("$ohos_ndk_root/aosp_prebuilt_libs/asdk_libs/ndk/libcxx/arm64", root_build_dir) ]
+      ldflags += [ "-l:libc++_static.a" ]
+      ldflags += [ "-L" + rebase_path("$ohos_toolchain_root/lib64/clang/9.0.3/lib/linux", root_build_dir) ]
+      ldflags += [ "-l:libclang_rt.builtins-aarch64-android.a" ]
+      ldflags += [ "-L" + rebase_path("//ohos_ndk_aosp/aosp_prebuilt_libs/asdk_libs/sdk/shared_library/arm64", root_build_dir) ]
+      ldflags += [ "-l:liblog.so" ]
+      ldflags += [ "-L" + rebase_path("$ohos_ndk_root/aosp_prebuilt_libs/asdk_libs/ndk/platforms/current/arch-arm64/usr/lib", root_build_dir) ]
+    }
+
     libs += [ "unwind_llvm" ]
   }
 
diff --git a/build/config/ohos/config.gni b/build/config/ohos/config.gni
index 6a2442e261ef4..8f181d0938b1f 100644
--- a/build/config/ohos/config.gni
+++ b/build/config/ohos/config.gni
@@ -18,6 +18,7 @@ if (is_ohos) {
 
   declare_args() {
     product_name = ""
+    gpu_switch = "on"
   }
 
   # Defines the name the ohos build gives to the current host CPU
@@ -49,7 +50,13 @@ if (is_ohos) {
       ohos_sysroot = "$ohos_build_root/out/rk3568/obj/third_party/musl"
     } else {
       ohos_toolchain_root = "$ohos_ndk_root/clang/host/linux-x86/clang-r353983c"
-      ohos_sysroot = "$ohos_ndk_root/aosp_prebuilt_libs/asdk_libs/ndk/platforms/current/arch-arm"
+      if (current_cpu == "arm") {
+        ohos_sysroot = "$ohos_ndk_root/aosp_prebuilt_libs/asdk_libs/ndk/platforms/current/arch-arm"
+      } else if (current_cpu == "arm64") {
+        ohos_sysroot = "$ohos_ndk_root/aosp_prebuilt_libs/asdk_libs/ndk/platforms/current/arch-arm64"
+      } else {
+        assert(false, "Unsupport target cpu")
+      }
     }
 
     # ohos include and libs dependencies
@@ -57,12 +64,23 @@ if (is_ohos) {
       "$ohos_build_root/foundation/appexecfwk/standard/interfaces/innerkits/libeventhandler/include",
       "$ohos_build_root/utils/native/base/include",
       "$ohos_build_root/base/hiviewdfx/hilog/interfaces/native/innerkits/include",
+      "$ohos_build_root/foundation/graphic/graphic/interfaces/inner_api/common",
+      "$ohos_build_root/foundation/graphic/graphic_2d/interfaces/inner_api/common",
+      "$ohos_build_root/foundation/graphic/graphic_2d/utils/buffer_handle/export",
       "$ohos_build_root/foundation/graphic/standard/interfaces/innerkits/common",
-      "$ohos_build_root/drivers/peripheral/display/interfaces/include",
       "$ohos_build_root/foundation/graphic/standard/utils/buffer_handle/export",
+      "$ohos_build_root/drivers/peripheral/display/interfaces/include",
+      "$ohos_build_root/foundation/graphic/graphic/utils/buffer_handle/export",
       "$ohos_build_root/foundation/multimedia/media_standard/interfaces/innerkits/native/media/include",
+      "$ohos_build_root/foundation/bundlemanager/bundle_framework/interfaces/innerkits/libeventhandler/include",
+      "$ohos_build_root/foundation/bundlemanager/bundle_framework/interfaces/inner_api/appexecfwk_base/include",
+      "$ohos_build_root/foundation/multimedia/media_standard/interfaces/inner_api/native",
       "$ohos_build_root/drivers/peripheral/base",
       "$ohos_build_root/foundation/graphic/standard/interfaces/innerkits/surface",
+      "$ohos_build_root/foundation/graphic/surface/interfaces/kits",
+      "$ohos_build_root/foundation/graphic/graphic/interfaces/inner_api/surface",
+      "$ohos_build_root/foundation/graphic/graphic_2d/interfaces/inner_api/surface",
+      "$ohos_build_root/foundation/communication/ipc",
       "$ohos_build_root/foundation/communication/ipc/interfaces/innerkits/ipc_core/include",
       "$ohos_build_root/base/miscservices/inputmethod/frameworks/inputmethod_controller/include",
       "$ohos_build_root/base/miscservices/inputmethod/services/include",
@@ -73,21 +91,46 @@ if (is_ohos) {
       "$ohos_build_root/base/location/utils/include",
       "$ohos_build_root/base/location/interfaces/innerkits/locator_standard/include",
       "$ohos_build_root/base/location/location_common/common/include",
+      "$ohos_build_root/base/location/services/location_common/common/include",
+      "$ohos_build_root/base/location/serviceslocation_locator/callback/include",
+      "$ohos_build_root/base/location/services/utils/include",
+      "$ohos_build_root/base/location/interfaces/innerkits/locator_standard/include",
+      "$ohos_build_root/base/location/interfaces/inner_api/include",
       "$ohos_build_root/foundation/distributedschedule/samgr/interfaces/innerkits/samgr_proxy/include",
       "$ohos_build_root/utils/system/safwk/native/include",
       "$ohos_build_root/foundation/aafwk/standard/interfaces/innerkits/base/include",
+      "$ohos_build_root/foundation/aafwk/standard/interfaces/innerkits/base/include/ohos/aafwk/base",
+      "$ohos_build_root/foundation/aafwk/standard/ability_base/interfaces/inner_api/want/include",
+      "$ohos_build_root/foundation/aafwk/standard/ability_base/interfaces/inner_api/uri/include",
+      "$ohos_build_root/foundation/aafwk/standard/ability_base/interfaces/inner_api/base/include",
+      "$ohos_build_root/foundation/aafwk/standard/interfaces/innerkits/uri/include",
       "$ohos_build_root/foundation/aafwk/standard/interfaces/innerkits/want/include/ohos/aafwk/content",
       "$ohos_build_root/foundation/appexecfwk/standard/common/log/include",
       "$ohos_build_root/foundation/appexecfwk/standard/common/perf/include",
+      "$ohos_build_root/foundation/appexecfwk/standard/interfaces/inner_api/appexecfwk_base/include",
+      "$ohos_build_root/foundation/appexecfwk/standard/interfaces/innerkits/libeventhandler/include",
       "$ohos_build_root/foundation/appexecfwk/standard/interfaces/innerkits/appexecfwk_base/include",
       "$ohos_build_root/foundation/aafwk/standard/interfaces/innerkits/app_manager/include",
       "$ohos_build_root/foundation/distributedschedule/dmsfwk/services/dtbschedmgr/include",
+      "$ohos_build_root/developtools/bytrace_standard/interfaces/innerkits/native/include",
       "$ohos_build_root/third_party/jsoncpp/include",
-      "$ohos_build_root/third_party/json/include"
-    ]
-    ohos_libs_dir = [
-      "$ohos_build_root/out/rk3568/packages/phone/system/lib",
+      "$ohos_build_root/third_party/json/include",
+      "$ohos_build_root/base/security/access_token/interfaces/innerkits/accesstoken/include",
+      "$ohos_build_root/base/web/webview/ohos_adapter/interfaces",
     ]
+    if (use_musl) {
+       if (current_cpu == "arm") {
+         ohos_libs_dir = [ "$ohos_build_root/out/rk3568/packages/phone/system/lib"]
+       } else if (current_cpu == "arm64") {
+         ohos_libs_dir = [ "$ohos_build_root/out/rk3568/packages/phone/system/lib64"]
+       }
+    } else {
+       if (current_cpu == "arm") {
+         ohos_libs_dir = [ "$ohos_build_root/out/ohos-arm-release/packages/phone/system/lib"]
+       } else if (current_cpu == "arm64") {
+         ohos_libs_dir = [ "$ohos_build_root/out/ohos-arm64-release/packages/phone/system/lib64"]
+       }
+    }
   } else {
     if (use_musl) {
       ohos_build_root = "//ohos_ndk"
@@ -122,6 +165,13 @@ if (is_ohos) {
       "$ohos_build_root/includes/location_callback",
       "$ohos_build_root/includes/location_request_config",
       "$ohos_build_root/includes/system_ability",
+      "$ohos_build_root/includes/accesstoken",
+      "$ohos_build_root/includes/aafwk/want/include/ohos/aafwk/content",
+      "$ohos_build_root/includes/aafwk/uri/include",
+      "$ohos_build_root/includes/aafwk/app_manager/include",
+      "$ohos_build_root/includes/aafwk/base/include",
+      "$ohos_build_root/includes/json",
+      "$ohos_build_root/includes/appexecfwk",
     ]
     ohos_libs_dir = [
       "$ohos_build_root/libs",
diff --git a/cc/paint/paint_op_reader.cc b/cc/paint/paint_op_reader.cc
index 68429994cd952..201e67587f1d8 100644
--- a/cc/paint/paint_op_reader.cc
+++ b/cc/paint/paint_op_reader.cc
@@ -310,6 +310,10 @@ void PaintOpReader::Read(PaintImage* image) {
 
         SkImageInfo image_info =
             SkImageInfo::Make(width, height, color_type, kPremul_SkAlphaType);
+        if (pixel_size < image_info.computeMinByteSize()) {
+          SetInvalid();
+          return;
+        }
         const volatile void* pixel_data = ExtractReadableMemory(pixel_size);
         if (!valid_)
           return;
diff --git a/cef/cef_create_projects.bat b/cef/cef_create_projects.bat
index 5c9fc11541456..8dc77845644e6 100644
--- a/cef/cef_create_projects.bat
+++ b/cef/cef_create_projects.bat
@@ -1,2 +1,2 @@
-@echo off
-python.bat tools\gclient_hook.py
+@echo off
+python.bat tools\gclient_hook.py
diff --git a/cef/include/capi/cef_browser_capi.h b/cef/include/capi/cef_browser_capi.h
index 7517bf08950b3..08a853a713c2e 100644
--- a/cef/include/capi/cef_browser_capi.h
+++ b/cef/include/capi/cef_browser_capi.h
@@ -33,7 +33,7 @@
 // by hand. See the translator.README.txt file in the tools directory for
 // more information.
 //
-// $hash=45bcd802ddf8bc4919ae9b79f70f96b6956cf026$
+// $hash=e434c8f59b8c8cbfa6c41550f4b53940c57d68f7$
 //
 
 #ifndef CEF_INCLUDE_CAPI_CEF_BROWSER_CAPI_H_
@@ -104,6 +104,11 @@ typedef struct _cef_browser_t {
   int(CEF_CALLBACK* can_go_back_or_forward)(struct _cef_browser_t* self,
                                             int num_steps);
 
+  ///
+  // DeleteHistory
+  ///
+  void(CEF_CALLBACK* delete_history)(struct _cef_browser_t* self);
+
   ///
   // Returns true (1) if the browser is currently loading.
   ///
@@ -1043,6 +1048,23 @@ typedef struct _cef_browser_host_t {
       struct _cef_browser_host_t* self,
       const cef_string_t* code,
       struct _cef_java_script_result_callback_t* callback);
+
+  ///
+  // Set native window from ohos rs
+  ///
+  void(CEF_CALLBACK* set_native_window)(struct _cef_browser_host_t* self,
+                                        cef_native_window_t window);
+
+  ///
+  // Set web debugging access
+  ///
+  void(CEF_CALLBACK* set_web_debugging_access)(struct _cef_browser_host_t* self,
+                                               int isEnableDebug);
+
+  ///
+  // Get web debugging access
+  ///
+  int(CEF_CALLBACK* get_web_debugging_access)(struct _cef_browser_host_t* self);
 } cef_browser_host_t;
 
 ///
diff --git a/cef/include/capi/cef_dialog_handler_capi.h b/cef/include/capi/cef_dialog_handler_capi.h
index 51563dbdc07f9..0071832626b2d 100644
--- a/cef/include/capi/cef_dialog_handler_capi.h
+++ b/cef/include/capi/cef_dialog_handler_capi.h
@@ -33,7 +33,7 @@
 // by hand. See the translator.README.txt file in the tools directory for
 // more information.
 //
-// $hash=0f56154217707d141912dc8a298279df8df04311$
+// $hash=abdbb4a150fc310df31ec08d1618e1e557dfe3e2$
 //
 
 #ifndef CEF_INCLUDE_CAPI_CEF_DIALOG_HANDLER_CAPI_H_
@@ -106,6 +106,7 @@ typedef struct _cef_dialog_handler_t {
       const cef_string_t* default_file_path,
       cef_string_list_t accept_filters,
       int selected_accept_filter,
+      int capture,
       struct _cef_file_dialog_callback_t* callback);
 } cef_dialog_handler_t;
 
diff --git a/cef/include/capi/cef_load_handler_capi.h b/cef/include/capi/cef_load_handler_capi.h
index 13871a2b69950..5441c2a61ca1c 100644
--- a/cef/include/capi/cef_load_handler_capi.h
+++ b/cef/include/capi/cef_load_handler_capi.h
@@ -33,7 +33,7 @@
 // by hand. See the translator.README.txt file in the tools directory for
 // more information.
 //
-// $hash=4e59a8c7cda2f13ee54599773755637ec846fe84$
+// $hash=01d2eb08fb2b56fd87c80e441d4b6c7f7d082bb6$
 //
 
 #ifndef CEF_INCLUDE_CAPI_CEF_LOAD_HANDLER_CAPI_H_
@@ -138,6 +138,16 @@ typedef struct _cef_load_handler_t {
                                     int is_main_frame,
                                     int has_user_gesture,
                                     struct _cef_response_t* response);
+
+  ///
+  // OnRefreshAccessedHistory
+  ///
+  void(CEF_CALLBACK* on_refresh_accessed_history)(
+      struct _cef_load_handler_t* self,
+      struct _cef_browser_t* browser,
+      struct _cef_frame_t* frame,
+      const cef_string_t* url,
+      int isReload);
 } cef_load_handler_t;
 
 #ifdef __cplusplus
diff --git a/cef/include/cef_api_hash.h b/cef/include/cef_api_hash.h
index 6449fab747eaa..26cd4c0945a15 100644
--- a/cef/include/cef_api_hash.h
+++ b/cef/include/cef_api_hash.h
@@ -42,15 +42,15 @@
 // way that may cause binary incompatibility with other builds. The universal
 // hash value will change if any platform is affected whereas the platform hash
 // values will change only if that particular platform is affected.
-#define CEF_API_HASH_UNIVERSAL "d7e9904bce60295dd04e64d40efe4da6a362210c"
+#define CEF_API_HASH_UNIVERSAL "e71457f3fd884ff5c35e8be2ad91e649d7b00e45"
 #if defined(OS_WIN)
-#define CEF_API_HASH_PLATFORM "2b7373e08ea7313f324f799cf199f4499a0f3efc"
+#define CEF_API_HASH_PLATFORM "b950292957927fcf6a52690fb196331a3a44ce67"
 #elif defined(OS_MAC)
-#define CEF_API_HASH_PLATFORM "42bfe0cdf84e5eeedf2f6736bea7a3db1fa3295d"
+#define CEF_API_HASH_PLATFORM "3b5736924b75007ae90ee5bc9979b829c564581d"
 #elif defined(OS_LINUX)
-#define CEF_API_HASH_PLATFORM "d5c72291f0a9668264d2d8ac246d6c8c84fea0cc"
+#define CEF_API_HASH_PLATFORM "3ed0e1dedda07cfe679f709fb96d40ca92900395"
 #elif defined(OS_OHOS)
-#define CEF_API_HASH_PLATFORM "d5c72291f0a9668264d2d8ac246d6c8c84fea0cc"
+#define CEF_API_HASH_PLATFORM "3ed0e1dedda07cfe679f709fb96d40ca92900395"
 #endif
 
 #ifdef __cplusplus
diff --git a/cef/include/cef_browser.h b/cef/include/cef_browser.h
index a0496a272a1a9..43a571f43df74 100644
--- a/cef/include/cef_browser.h
+++ b/cef/include/cef_browser.h
@@ -100,6 +100,12 @@ class CefBrowser : public virtual CefBaseRefCounted {
   /*--cef()--*/
   virtual bool CanGoBackOrForward(int num_steps) = 0;
 
+  ///
+  // DeleteHistory
+  ///
+  /*--cef()--*/
+  virtual void DeleteHistory() = 0;
+
   ///
   // Returns true if the browser is currently loading.
   ///
@@ -1072,6 +1078,24 @@ class CefBrowserHost : public virtual CefBaseRefCounted {
   /*--cef()--*/
   virtual void ExecuteJavaScript(const CefString& code,
                                  CefRefPtr<CefJavaScriptResultCallback> callback) = 0;
+
+  ///
+  // Set native window from ohos rs
+  ///
+  /*--cef()--*/
+  virtual void SetNativeWindow(cef_native_window_t window) = 0;
+
+  ///
+  // Set web debugging access
+  ///
+  /*--cef()--*/
+  virtual void SetWebDebuggingAccess(bool isEnableDebug) = 0;
+
+  ///
+  // Get web debugging access
+  ///
+  /*--cef()--*/
+  virtual bool GetWebDebuggingAccess() = 0;
 };
 
 ///
diff --git a/cef/include/cef_dialog_handler.h b/cef/include/cef_dialog_handler.h
index 3ce02e6c13521..5b77305af987d 100644
--- a/cef/include/cef_dialog_handler.h
+++ b/cef/include/cef_dialog_handler.h
@@ -98,6 +98,7 @@ class CefDialogHandler : public virtual CefBaseRefCounted {
                             const CefString& default_file_path,
                             const std::vector<CefString>& accept_filters,
                             int selected_accept_filter,
+                            bool capture,
                             CefRefPtr<CefFileDialogCallback> callback) {
     return false;
   }
diff --git a/cef/include/cef_load_handler.h b/cef/include/cef_load_handler.h
index 3389aa306b0ed..412e3b981f54b 100644
--- a/cef/include/cef_load_handler.h
+++ b/cef/include/cef_load_handler.h
@@ -131,6 +131,15 @@ class CefLoadHandler : public virtual CefBaseRefCounted {
                                    bool is_main_frame,
                                    bool has_user_gesture,
                                    CefRefPtr<CefResponse> response) {}
+
+  ///
+  // OnRefreshAccessedHistory
+  ///
+  /*--cef()--*/
+  virtual void OnRefreshAccessedHistory(CefRefPtr<CefBrowser> browser,
+                                        CefRefPtr<CefFrame> frame,
+                                        const CefString& url,
+                                        bool isReload) {}
 };
 
 #endif  // CEF_INCLUDE_CEF_LOAD_HANDLER_H_
diff --git a/cef/include/internal/cef_types.h b/cef/include/internal/cef_types.h
index 980265365ae8c..1c5fb3b85c082 100644
--- a/cef/include/internal/cef_types.h
+++ b/cef/include/internal/cef_types.h
@@ -49,6 +49,12 @@
 // Permission request callback.
 typedef base::Callback<void(bool)> cef_permission_callback_t;
 
+// cef accelerated widget type
+typedef uint32_t cef_accelerated_widget_t;
+
+// cef native window type
+typedef void* cef_native_window_t;
+
 // 32-bit ARGB color value, not premultiplied. The color components are always
 // in a known order. Equivalent to the SkColor type.
 typedef uint32 cef_color_t;
@@ -697,13 +703,13 @@ typedef struct _cef_browser_settings_t {
   cef_state_t loads_images_automatically;
   bool javascript_can_open_windows_automatically;
   int text_size_percent;
-  int mixed_content_mode;
   cef_state_t allow_running_insecure_content;
   cef_state_t strict_mixed_content_checking;
   cef_state_t allow_mixed_content_upgrades;
   bool geolocation_enabled;
   bool supports_double_tap_zoom;
   bool supports_multi_touch_zoom;
+  cef_state_t initialize_at_minimum_page_scale;
   /* ohos webview end */
 } cef_browser_settings_t;
 
diff --git a/cef/include/internal/cef_types_wrappers.h b/cef/include/internal/cef_types_wrappers.h
index 49429490a9e4f..e4c0d643bcc7f 100644
--- a/cef/include/internal/cef_types_wrappers.h
+++ b/cef/include/internal/cef_types_wrappers.h
@@ -732,13 +732,13 @@ struct CefBrowserSettingsTraits {
         src->javascript_can_open_windows_automatically;
     target->loads_images_automatically = src->loads_images_automatically;
     target->text_size_percent = src->text_size_percent;
-    target->mixed_content_mode = src->mixed_content_mode;
     target->allow_running_insecure_content = src->allow_running_insecure_content;
     target->strict_mixed_content_checking = src->strict_mixed_content_checking;
     target->allow_mixed_content_upgrades = src->allow_mixed_content_upgrades;
     target->geolocation_enabled = src->geolocation_enabled;
     target->supports_double_tap_zoom = src->supports_double_tap_zoom;
     target->supports_multi_touch_zoom = src->supports_multi_touch_zoom;
+    target->initialize_at_minimum_page_scale = src->initialize_at_minimum_page_scale;
     /* ohos webview end */
   }
 };
diff --git a/cef/libcef/browser/alloy/alloy_browser_main.cc b/cef/libcef/browser/alloy/alloy_browser_main.cc
index 433272c61c369..60c2b83aea412 100644
--- a/cef/libcef/browser/alloy/alloy_browser_main.cc
+++ b/cef/libcef/browser/alloy/alloy_browser_main.cc
@@ -194,10 +194,6 @@ int AlloyBrowserMainParts::PreMainMessageLoopRun() {
   // Create the global RequestContext.
   global_request_context_ =
       CefRequestContextImpl::CreateGlobalRequestContext(settings);
-  auto browser_context =
-      global_request_context_->GetBrowserContext()->AsBrowserContext();
-
-  CefDevToolsManagerDelegate::StartHttpHandler(browser_context);
 
 #if defined(OS_WIN)
   // Windows parental controls calls can be slow, so we do an early init here
diff --git a/cef/libcef/browser/alloy/alloy_content_browser_client.cc b/cef/libcef/browser/alloy/alloy_content_browser_client.cc
index 2a2e3cf6eaed6..4530987a86dfb 100644
--- a/cef/libcef/browser/alloy/alloy_content_browser_client.cc
+++ b/cef/libcef/browser/alloy/alloy_content_browser_client.cc
@@ -1229,6 +1229,8 @@ void AlloyContentBrowserClient::ConfigureNetworkContextParams(
     }
     network_context_params->persist_session_cookies = cef_context->ShouldPersistSessionCookies();
     network_context_params->restore_old_session_cookies = cef_context->ShouldRestoreOldSessionCookies();
+    network_context_params->http_cache_enabled = true;
+    network_context_params->http_cache_path = cache_path;
   }
   if (!SystemNetworkContextManager::GetInstance()) {
     // This must match the value expected in
@@ -1457,6 +1459,12 @@ bool AlloyContentBrowserClient::ShouldTryToUseExistingProcessHost(
 bool AlloyContentBrowserClient::ShouldDisableSiteIsolation() {
   return true;
 }
+
+bool AlloyContentBrowserClient::ShouldLockProcessToSite(
+    content::BrowserContext* browser_context,
+    const GURL& effective_url) {
+  return false;
+}
 #endif
 
 CefRefPtr<CefRequestContextImpl> AlloyContentBrowserClient::request_context()
diff --git a/cef/libcef/browser/alloy/alloy_content_browser_client.h b/cef/libcef/browser/alloy/alloy_content_browser_client.h
index 19b3cebebbd5b..b8b77c11f9e88 100644
--- a/cef/libcef/browser/alloy/alloy_content_browser_client.h
+++ b/cef/libcef/browser/alloy/alloy_content_browser_client.h
@@ -222,6 +222,9 @@ class AlloyContentBrowserClient : public content::ContentBrowserClient {
       content::BrowserContext* browser_context,
       const GURL& url) override;
   bool ShouldDisableSiteIsolation() override;
+  bool ShouldLockProcessToSite(
+      content::BrowserContext* browser_context,
+      const GURL& effective_url) override;
 #endif
 
   CefRefPtr<CefRequestContextImpl> request_context() const;
diff --git a/cef/libcef/browser/browser_contents_delegate.cc b/cef/libcef/browser/browser_contents_delegate.cc
index fca6d1e95f9f1..6273fb3a88345 100644
--- a/cef/libcef/browser/browser_contents_delegate.cc
+++ b/cef/libcef/browser/browser_contents_delegate.cc
@@ -406,6 +406,11 @@ void CefBrowserContentsDelegate::DidFinishNavigation(
     if (is_main_frame) {
       OnAddressChange(url);
     }
+
+    bool isReload = PageTransitionCoreTypeIs(navigation_handle->GetPageTransition(),
+                                             ui::PageTransition::PAGE_TRANSITION_RELOAD);
+    LOG(INFO) << "load type = " << PageTransitionStripQualifier(navigation_handle->GetPageTransition());
+    OnRefreshAccessedHistory(frame.get(), url, isReload);
   } else {
     // The navigation failed with an error. This may happen before commit
     // (e.g. network error) or after commit (e.g. response filter error).
@@ -663,3 +668,19 @@ void CefBrowserContentsDelegate::InitIconHelper() {
     }
   }
 }
+
+void CefBrowserContentsDelegate::OnRefreshAccessedHistory(CefRefPtr<CefFrame> frame, const GURL& url, bool isReload) {
+  CefRefPtr<CefClient> cefClient = client();
+  if (!cefClient.get()) {
+    LOG(ERROR) << "cef client is null";
+    return;
+  }
+
+  auto handler = cefClient->GetLoadHandler();
+  if (!handler.get()) {
+    LOG(ERROR) << "cef client handler is null";
+    return;
+  }
+
+  handler->OnRefreshAccessedHistory(browser(), frame, url.spec(), isReload);
+}
diff --git a/cef/libcef/browser/browser_contents_delegate.h b/cef/libcef/browser/browser_contents_delegate.h
index 991010f4f748c..ab6a9ae07adf2 100644
--- a/cef/libcef/browser/browser_contents_delegate.h
+++ b/cef/libcef/browser/browser_contents_delegate.h
@@ -176,6 +176,8 @@ class CefBrowserContentsDelegate : public content::WebContentsDelegate,
 
   void OnStateChanged(State state_changed);
 
+  void OnRefreshAccessedHistory(CefRefPtr<CefFrame> frame, const GURL& url, bool isReload);
+
   scoped_refptr<CefBrowserInfo> browser_info_;
 
   bool is_loading_ = false;
diff --git a/cef/libcef/browser/browser_host_base.cc b/cef/libcef/browser/browser_host_base.cc
index 9f046ffc57852..249d40e4f1cc9 100644
--- a/cef/libcef/browser/browser_host_base.cc
+++ b/cef/libcef/browser/browser_host_base.cc
@@ -10,6 +10,7 @@
 #include "libcef/browser/browser_info_manager.h"
 #include "libcef/browser/browser_platform_delegate.h"
 #include "libcef/browser/context.h"
+#include "libcef/browser/devtools/devtools_manager_delegate.h"
 #include "libcef/browser/image_impl.h"
 #include "libcef/browser/navigation_entry_impl.h"
 #include "libcef/browser/permission/alloy_access_request.h"
@@ -29,6 +30,7 @@
 #include "content/public/browser/download_request_utils.h"
 #include "content/public/browser/navigation_entry.h"
 #include "ui/gfx/image/image_skia.h"
+#include "ui/gl/nweb_native_window_tracker.h"
 
 #if defined(OS_MAC)
 #include "components/spellcheck/browser/spellcheck_platform.h"
@@ -464,7 +466,6 @@ void CefBrowserHostBase::UpdateBrowserSettings(
   settings_.loads_images_automatically =
       browser_settings.loads_images_automatically;
   settings_.text_size_percent = browser_settings.text_size_percent;
-  settings_.mixed_content_mode = browser_settings.mixed_content_mode;
   settings_.allow_running_insecure_content =
       browser_settings.allow_running_insecure_content;
   settings_.strict_mixed_content_checking =
@@ -476,6 +477,8 @@ void CefBrowserHostBase::UpdateBrowserSettings(
       browser_settings.supports_double_tap_zoom;
   settings_.supports_multi_touch_zoom =
       browser_settings.supports_multi_touch_zoom;
+  settings_.initialize_at_minimum_page_scale =
+      browser_settings.initialize_at_minimum_page_scale;
 }
 
 void CefBrowserHostBase::SetWebPreferences(
@@ -681,15 +684,27 @@ void CefBrowserHostBase::GoForward() {
 
 bool CefBrowserHostBase::CanGoBackOrForward(int num_steps) {
   auto wc = GetWebContents();
-  LOG(INFO) << "CanGoBackOrForward";
   if (wc != nullptr) {
-    LOG(INFO) << "CanGoBackOrForward:"
-              << wc->GetController().CanGoToOffset(num_steps);
     return wc->GetController().CanGoToOffset(num_steps);
   }
   return false;
 }
 
+void CefBrowserHostBase::DeleteHistory() {
+  auto callback = base::BindOnce(&CefBrowserHostBase::DeleteHistory, this);
+  if (!CEF_CURRENTLY_ON_UIT()) {
+    CEF_POST_TASK(CEF_UIT, std::move(callback));
+    return;
+  }
+  auto wc = GetWebContents();
+  if (wc && wc->GetController().CanPruneAllButLastCommitted()) {
+    wc->GetController().PruneAllButLastCommitted();
+    base::AutoLock lock_scope(state_lock_);
+    can_go_forward_ = false;
+    can_go_back_ = false;
+  }
+}
+
 bool CefBrowserHostBase::IsLoading() {
   base::AutoLock lock_scope(state_lock_);
   return is_loading_;
@@ -1289,4 +1304,34 @@ void CefBrowserHostBase::ExecuteJavaScript(
             },
             callback));
   }
-}
\ No newline at end of file
+}
+
+void CefBrowserHostBase::SetNativeWindow(cef_native_window_t window)
+{
+  widget_ = NWebNativeWindowTracker::Instance().AddNativeWindow(window);
+}
+
+cef_accelerated_widget_t CefBrowserHostBase::GetAcceleratedWidget()
+{
+  return widget_;
+}
+
+void CefBrowserHostBase::SetWebDebuggingAccess(bool isEnableDebug) {
+  base::AutoLock lock_scope(state_lock_);
+  if (is_web_debugging_access_ == isEnableDebug) {
+    LOG(ERROR) << "set web debugging access failed, already is " << isEnableDebug;
+    return;
+  }
+
+  if (isEnableDebug) {
+    CefDevToolsManagerDelegate::StartHttpHandler(GetBrowserContext());
+  } else {
+    CefDevToolsManagerDelegate::StopHttpHandler();
+  }
+  is_web_debugging_access_ = isEnableDebug;
+}
+
+bool CefBrowserHostBase::GetWebDebuggingAccess() {
+  base::AutoLock lock_scope(state_lock_);
+  return is_web_debugging_access_;
+}
diff --git a/cef/libcef/browser/browser_host_base.h b/cef/libcef/browser/browser_host_base.h
index dc9f9be31f126..e85729d5a8967 100644
--- a/cef/libcef/browser/browser_host_base.h
+++ b/cef/libcef/browser/browser_host_base.h
@@ -219,6 +219,7 @@ class CefBrowserHostBase : public CefBrowserHost,
   bool CanGoForward() override;
   void GoForward() override;
   bool CanGoBackOrForward(int num_steps) override;
+  void DeleteHistory() override;
   bool IsLoading() override;
   void Reload() override;
   void ReloadIgnoreCache() override;
@@ -254,6 +255,7 @@ class CefBrowserHostBase : public CefBrowserHost,
   void ExecuteJavaScript(
       const CefString& code,
       CefRefPtr<CefJavaScriptResultCallback> callback) override;
+
   // CefBrowserContentsDelegate::Observer methods:
   void OnStateChanged(CefBrowserContentsState state_changed) override;
   void OnWebContentsDestroyed(content::WebContents* web_contents) override;
@@ -350,6 +352,12 @@ class CefBrowserHostBase : public CefBrowserHost,
   CefRefPtr<CefBrowserView> GetBrowserView() const;
 #endif
 
+  void SetNativeWindow(cef_native_window_t window) override;
+  cef_accelerated_widget_t GetAcceleratedWidget();
+
+  void SetWebDebuggingAccess(bool isEnableDebug) override;
+  bool GetWebDebuggingAccess() override;
+
  protected:
   bool EnsureDevToolsManager();
   void InitializeDevToolsRegistrationOnUIThread(
@@ -401,6 +409,9 @@ class CefBrowserHostBase : public CefBrowserHost,
 
   IMPLEMENT_REFCOUNTING(CefBrowserHostBase);
   DISALLOW_COPY_AND_ASSIGN(CefBrowserHostBase);
+
+  cef_accelerated_widget_t widget_;
+  bool is_web_debugging_access_ = false;
 };
 
 #endif  // CEF_LIBCEF_BROWSER_BROWSER_HOST_BASE_H_
diff --git a/cef/libcef/browser/devtools/devtools_manager_delegate.cc b/cef/libcef/browser/devtools/devtools_manager_delegate.cc
index f53323d81d1e1..3d52d457f207a 100644
--- a/cef/libcef/browser/devtools/devtools_manager_delegate.cc
+++ b/cef/libcef/browser/devtools/devtools_manager_delegate.cc
@@ -102,8 +102,15 @@ void CefDevToolsManagerDelegate::StartHttpHandler(
       CreateSocketFactory();
   if (!socket_factory)
     return;
-  content::DevToolsAgentHost::StartRemoteDebuggingServer(
+
+  LOG(INFO) << "start remote debugging server";
+  if (browser_context == nullptr) {
+    content::DevToolsAgentHost::StartRemoteDebuggingServer(
+      std::move(socket_factory), base::FilePath(), base::FilePath());
+  } else {
+    content::DevToolsAgentHost::StartRemoteDebuggingServer(
       std::move(socket_factory), browser_context->GetPath(), base::FilePath());
+  }
 
   const base::CommandLine& command_line =
       *base::CommandLine::ForCurrentProcess();
@@ -116,6 +123,7 @@ void CefDevToolsManagerDelegate::StartHttpHandler(
 // static
 void CefDevToolsManagerDelegate::StopHttpHandler() {
   // This is a no-op if the server was never started.
+  LOG(INFO) << "stop remote debugging server";
   content::DevToolsAgentHost::StopRemoteDebuggingServer();
 }
 
diff --git a/cef/libcef/browser/file_dialog_manager.cc b/cef/libcef/browser/file_dialog_manager.cc
index 4d139eb51a3ef..bb81426a0269b 100644
--- a/cef/libcef/browser/file_dialog_manager.cc
+++ b/cef/libcef/browser/file_dialog_manager.cc
@@ -204,7 +204,6 @@ void CefFileDialogManager::RunFileChooser(
     scoped_refptr<content::FileSelectListener> listener,
     const blink::mojom::FileChooserParams& params) {
   CEF_REQUIRE_UIT();
-
   CefFileDialogRunner::FileChooserParams cef_params;
   static_cast<blink::mojom::FileChooserParams&>(cef_params) = params;
 
@@ -286,7 +285,8 @@ void CefFileDialogManager::RunFileChooserInternal(
       handled = handler->OnFileDialog(
           browser_, static_cast<cef_file_dialog_mode_t>(mode), params.title,
           params.default_file_name.value(), accept_filters,
-          params.selected_accept_filter, callbackImpl.get());
+          params.selected_accept_filter, params.use_media_capture,
+          callbackImpl.get());
       if (!handled) {
         // May return nullptr if the client has already executed the callback.
         callback = callbackImpl->Disconnect();
diff --git a/cef/libcef/browser/javascript/oh_gin_javascript_bridge_dispatcher_host.cc b/cef/libcef/browser/javascript/oh_gin_javascript_bridge_dispatcher_host.cc
index 821c07a73b5af..b43a9edc3291f 100644
--- a/cef/libcef/browser/javascript/oh_gin_javascript_bridge_dispatcher_host.cc
+++ b/cef/libcef/browser/javascript/oh_gin_javascript_bridge_dispatcher_host.cc
@@ -156,6 +156,10 @@ void OhGinJavascriptBridgeDispatcherHost::RemoveNamedObject(
     const std::string& object_name,
     const std::vector<std::string>& method_list) {
   DCHECK_CURRENTLY_ON(content::BrowserThread::UI);
+  if (method_map_.empty()) {
+    LOG(INFO)<< "OhGinJavascriptBridgeDispatcherHost::RemoveNamedObject:Map is empty!";
+    return;
+  }
   {
     std::unique_lock<std::mutex> lk(object_mtx_);
     ObjectMethodMap::iterator it;
diff --git a/cef/libcef/browser/net_service/cookie_helper.cc b/cef/libcef/browser/net_service/cookie_helper.cc
index 0f0af971f74e5..6b2adf40cc069 100644
--- a/cef/libcef/browser/net_service/cookie_helper.cc
+++ b/cef/libcef/browser/net_service/cookie_helper.cc
@@ -192,7 +192,7 @@ void LoadCookies(content::BrowserContext* browser_context,
 
   if ((request.load_flags & net::LOAD_DO_NOT_SEND_COOKIES) ||
       request.credentials_mode == network::mojom::CredentialsMode::kOmit ||
-      request.url.IsAboutBlank() || !request.SendsCookies()) {
+      request.url.IsAboutBlank()) {
     // Continue immediately without loading cookies.
     std::move(done_callback).Run(0, {});
     return;
@@ -213,8 +213,7 @@ void SaveCookies(content::BrowserContext* browser_context,
 
   if (request.credentials_mode == network::mojom::CredentialsMode::kOmit ||
       request.url.IsAboutBlank() || !headers ||
-      !headers->HasHeader(net_service::kHTTPSetCookieHeaderName) ||
-      !request.SavesCookies()) {
+      !headers->HasHeader(net_service::kHTTPSetCookieHeaderName)) {
     // Continue immediately without saving cookies.
     std::move(done_callback).Run(0, {});
     return;
diff --git a/cef/libcef/browser/net_service/cookie_manager_impl.cc b/cef/libcef/browser/net_service/cookie_manager_impl.cc
index 67c7419dd76e5..38c4c9833a5d3 100644
--- a/cef/libcef/browser/net_service/cookie_manager_impl.cc
+++ b/cef/libcef/browser/net_service/cookie_manager_impl.cc
@@ -20,7 +20,7 @@ namespace {
 
 // Do not keep a reference to the object returned by this method.
 CefBrowserContext* GetBrowserContext(const CefBrowserContext::Getter& getter) {
-  CEF_REQUIRE_UIT();
+  // CEF_REQUIRE_UIT();
   DCHECK(!getter.is_null());
 
   // Will return nullptr if the BrowserContext has been destroyed.
@@ -29,10 +29,10 @@ CefBrowserContext* GetBrowserContext(const CefBrowserContext::Getter& getter) {
 
 // Do not keep a reference to the object returned by this method.
 CookieManager* GetCookieManager(CefBrowserContext* browser_context) {
-  CEF_REQUIRE_UIT();
+  // CEF_REQUIRE_UIT();
   return content::BrowserContext::GetDefaultStoragePartition(
              browser_context->AsBrowserContext())
-      ->GetCookieManagerForBrowserProcess();
+      ->GetCookieManagerForOhos();
 }
 
 // Always execute the callback asynchronously.
@@ -43,34 +43,10 @@ void RunAsyncCompletionOnUIThread(CefRefPtr<CefCompletionCallback> callback) {
                 base::Bind(&CefCompletionCallback::OnComplete, callback.get()));
 }
 
-// Always execute the callback asynchronously.
-void SetCookieCallbackImpl(CefRefPtr<CefSetCookieCallback> callback,
-                           net::CookieAccessResult access_result) {
-  if (!callback.get()) {
-    return;
-  }
-  const bool is_include = access_result.status.IsInclude();
-  if (!is_include) {
-    LOG(WARNING) << "SetCookie failed with reason: "
-                 << access_result.status.GetDebugString();
-  }
-  CEF_POST_TASK(CEF_UIT, base::Bind(&CefSetCookieCallback::OnComplete,
-                                    callback.get(), is_include));
-}
-
-// Always execute the callback asynchronously.
-void DeleteCookiesCallbackImpl(CefRefPtr<CefDeleteCookiesCallback> callback,
-                               uint32_t num_deleted) {
-  if (!callback.get())
-    return;
-  CEF_POST_TASK(CEF_UIT, base::Bind(&CefDeleteCookiesCallback::OnComplete,
-                                    callback.get(), num_deleted));
-}
-
 void ExecuteVisitor(CefRefPtr<CefCookieVisitor> visitor,
                     const CefBrowserContext::Getter& browser_context_getter,
                     const std::vector<net::CanonicalCookie>& cookies) {
-  CEF_REQUIRE_UIT();
+  // CEF_REQUIRE_UIT();
 
   auto browser_context = GetBrowserContext(browser_context_getter);
   if (!browser_context)
@@ -103,30 +79,13 @@ void ExecuteVisitor(CefRefPtr<CefCookieVisitor> visitor,
   std::string cookie_line = net::CanonicalCookie::BuildCookieLine(cookies);
   visitor->SetCookieLine(CefString(cookie_line));
 }
-
-// Always execute the callback asynchronously.
-void GetAllCookiesCallbackImpl(
-    CefRefPtr<CefCookieVisitor> visitor,
-    const CefBrowserContext::Getter& browser_context_getter,
-    const net::CookieList& cookies) {
-  CEF_POST_TASK(CEF_UIT, base::Bind(&ExecuteVisitor, visitor,
-                                    browser_context_getter, cookies));
-}
-
-void GetCookiesCallbackImpl(
-    CefRefPtr<CefCookieVisitor> visitor,
-    const CefBrowserContext::Getter& browser_context_getter,
-    const net::CookieAccessResultList& include_cookies,
-    const net::CookieAccessResultList&) {
-  net::CookieList cookies;
-  for (const auto& status : include_cookies) {
-    cookies.push_back(status.cookie);
-  }
-  GetAllCookiesCallbackImpl(visitor, browser_context_getter, cookies);
-}
 }  // namespace
 
-CefCookieManagerImpl::CefCookieManagerImpl() {}
+CefCookieManagerImpl::CefCookieManagerImpl() :
+  cookie_thread{"CookieThread"} {
+  cookie_thread.Start();
+  cookie_store_task_runner_ = cookie_thread.task_runner();
+}
 
 void CefCookieManagerImpl::Initialize(
     CefBrowserContext::Getter browser_context_getter,
@@ -215,7 +174,6 @@ bool CefCookieManagerImpl::SetCookie(const CefString& url,
   if (!gurl.is_valid()) {
     return false;
   }
-
   if (!ValidContext()) {
     StoreOrTriggerInitCallback(base::BindOnce(
         base::IgnoreResult(&CefCookieManagerImpl::SetCookieInternal), this,
@@ -292,7 +250,9 @@ bool CefCookieManagerImpl::VisitAllCookiesInternal(
     return false;
 
   GetCookieManager(browser_context)
-      ->GetAllCookies(base::Bind(&GetAllCookiesCallbackImpl, visitor,
+      ->GetAllCookies(base::Bind(&CefCookieManagerImpl::GetAllCookiesCallbackImpl,
+                                 base::Unretained(this),
+                                 visitor,
                                  browser_context_getter_));
   return true;
 }
@@ -317,7 +277,9 @@ bool CefCookieManagerImpl::VisitUrlCookiesInternal(
 
   GetCookieManager(browser_context)
       ->GetCookieList(url, options,
-                      base::Bind(&GetCookiesCallbackImpl, visitor,
+                      base::Bind(&CefCookieManagerImpl::GetCookiesCallbackImpl,
+                                 base::Unretained(this),
+                                 visitor,
                                  browser_context_getter_));
   return true;
 }
@@ -367,9 +329,12 @@ bool CefCookieManagerImpl::SetCookieInternal(
   auto browser_context = GetBrowserContext(browser_context_getter_);
   if (!browser_context)
     return false;
+
   GetCookieManager(browser_context)
       ->SetCanonicalCookie(*canonical_cookie, url, options,
-                           base::Bind(SetCookieCallbackImpl, callback));
+                           base::Bind(&CefCookieManagerImpl::SetCookieCallbackImpl,
+                                      base::Unretained(this),
+                                      callback));
   return true;
 }
 
@@ -406,7 +371,9 @@ bool CefCookieManagerImpl::DeleteCookiesInternal(
 
   GetCookieManager(browser_context)
       ->DeleteCookies(std::move(deletion_filter),
-                      base::Bind(DeleteCookiesCallbackImpl, callback));
+                      base::Bind(&CefCookieManagerImpl::DeleteCookiesCallbackImpl,
+                      base::Unretained(this),
+                      callback));
   return true;
 }
 
@@ -419,15 +386,18 @@ bool CefCookieManagerImpl::FlushStoreInternal(
     return false;
 
   GetCookieManager(browser_context)
-      ->FlushCookieStore(base::Bind(RunAsyncCompletionOnUIThread, callback));
+      ->FlushCookieStore(base::Bind(
+        &CefCookieManagerImpl::RunAsyncCompletionOnTaskRunner,
+        base::Unretained(this),
+        callback));
   return true;
 }
 
 void CefCookieManagerImpl::StoreOrTriggerInitCallback(
     base::OnceClosure callback) {
-  if (!CEF_CURRENTLY_ON_UIT()) {
-    CEF_POST_TASK(
-        CEF_UIT,
+  if (!cookie_store_task_runner_->RunsTasksInCurrentSequence()) {
+    cookie_store_task_runner_->PostTask(
+        FROM_HERE,
         base::BindOnce(&CefCookieManagerImpl::StoreOrTriggerInitCallback, this,
                        std::move(callback)));
     return;
@@ -441,7 +411,7 @@ void CefCookieManagerImpl::StoreOrTriggerInitCallback(
 }
 
 bool CefCookieManagerImpl::ValidContext() const {
-  return CEF_CURRENTLY_ON_UIT() && initialized_;
+  return cookie_store_task_runner_->RunsTasksInCurrentSequence() && initialized_;
 }
 
 // CefCookieManager methods ----------------------------------------------------
@@ -459,3 +429,65 @@ bool CefCookieManager::CreateCefCookie(const CefString& url,
   return net_service::MakeCefCookie(GURL(url.ToString()), value.ToString(),
                                     cef_cookie);
 }
+
+// Always execute the set callback on cookie_store_task_runner_.
+void CefCookieManagerImpl::SetCookieCallbackImpl(
+  CefRefPtr<CefSetCookieCallback> callback,
+  net::CookieAccessResult access_result) {
+  if (!callback.get()) {
+    return;
+  }
+  const bool is_include = access_result.status.IsInclude();
+  if (!is_include) {
+    LOG(WARNING) << "SetCookie failed with reason: "
+                 << access_result.status.GetDebugString();
+  }
+
+  cookie_store_task_runner_->PostTask(
+    FROM_HERE,
+    base::Bind(&CefSetCookieCallback::OnComplete,
+                callback.get(), is_include));
+}
+
+void CefCookieManagerImpl::RunAsyncCompletionOnTaskRunner(
+  CefRefPtr<CefCompletionCallback> callback) {
+  if (!callback.get())
+    return;
+  cookie_store_task_runner_->PostTask(
+    FROM_HERE,
+    base::Bind(&CefCompletionCallback::OnComplete,
+                callback.get()));
+}
+
+void CefCookieManagerImpl::GetAllCookiesCallbackImpl(
+    CefRefPtr<CefCookieVisitor> visitor,
+    const CefBrowserContext::Getter& browser_context_getter,
+    const net::CookieList& cookies) {
+  cookie_store_task_runner_->PostTask(
+    FROM_HERE,
+    base::Bind(&ExecuteVisitor, visitor,
+               browser_context_getter, cookies));
+}
+
+void CefCookieManagerImpl::GetCookiesCallbackImpl(
+    CefRefPtr<CefCookieVisitor> visitor,
+    const CefBrowserContext::Getter& browser_context_getter,
+    const net::CookieAccessResultList& include_cookies,
+    const net::CookieAccessResultList&) {
+  net::CookieList cookies;
+  for (const auto& status : include_cookies) {
+    cookies.push_back(status.cookie);
+  }
+  GetAllCookiesCallbackImpl(visitor, browser_context_getter, cookies);
+}
+
+void CefCookieManagerImpl::DeleteCookiesCallbackImpl(
+  CefRefPtr<CefDeleteCookiesCallback> callback,
+  uint32_t num_deleted) {
+  if (!callback.get())
+    return;
+  cookie_store_task_runner_->PostTask(
+    FROM_HERE,
+    base::Bind(&CefDeleteCookiesCallback::OnComplete,
+               callback.get(), num_deleted));
+}
\ No newline at end of file
diff --git a/cef/libcef/browser/net_service/cookie_manager_impl.h b/cef/libcef/browser/net_service/cookie_manager_impl.h
index 860ec7b90cc5b..55c544dbdc1e5 100644
--- a/cef/libcef/browser/net_service/cookie_manager_impl.h
+++ b/cef/libcef/browser/net_service/cookie_manager_impl.h
@@ -12,6 +12,7 @@
 #include "libcef/browser/thread_util.h"
 
 #include "base/files/file_path.h"
+#include "base/threading/thread.h"
 
 // Implementation of the CefCookieManager interface. May be created on any
 // thread.
@@ -58,6 +59,18 @@ class CefCookieManagerImpl : public CefCookieManager {
                              CefRefPtr<CefDeleteCookiesCallback> callback);
   bool FlushStoreInternal(CefRefPtr<CefCompletionCallback> callback);
 
+  void SetCookieCallbackImpl(CefRefPtr<CefSetCookieCallback> callback,
+                                 net::CookieAccessResult access_result);
+  void GetCookiesCallbackImpl(CefRefPtr<CefCookieVisitor> visitor,
+                              const CefBrowserContext::Getter& browser_context_getter,
+                              const net::CookieAccessResultList& include_cookies,
+                              const net::CookieAccessResultList&);
+  void GetAllCookiesCallbackImpl(CefRefPtr<CefCookieVisitor> visitor,
+                                 const CefBrowserContext::Getter& browser_context_getter,
+                                 const net::CookieList& cookies);
+  void DeleteCookiesCallbackImpl(CefRefPtr<CefDeleteCookiesCallback> callback,
+                                 uint32_t num_deleted);
+  void RunAsyncCompletionOnTaskRunner(CefRefPtr<CefCompletionCallback> callback);
   // If the context is fully initialized execute |callback|, otherwise
   // store it until the context is fully initialized.
   void StoreOrTriggerInitCallback(base::OnceClosure callback);
@@ -71,6 +84,8 @@ class CefCookieManagerImpl : public CefCookieManager {
   std::atomic<bool> accept_cookies_ = true;
   std::atomic<bool> allow_file_scheme_cookies_ = false;
   std::vector<base::OnceClosure> init_callbacks_;
+  base::Thread cookie_thread;
+  scoped_refptr<base::SingleThreadTaskRunner> cookie_store_task_runner_;
 
   IMPLEMENT_REFCOUNTING(CefCookieManagerImpl);
   DISALLOW_COPY_AND_ASSIGN(CefCookieManagerImpl);
diff --git a/cef/libcef/browser/net_service/net_helpers.cc b/cef/libcef/browser/net_service/net_helpers.cc
index e1a9b4cf59918..056525bb27c4e 100644
--- a/cef/libcef/browser/net_service/net_helpers.cc
+++ b/cef/libcef/browser/net_service/net_helpers.cc
@@ -4,17 +4,33 @@
 
 #include "libcef/browser/net_service/net_helpers.h"
 
-#include "url/gurl.h"
-#include "include/base/cef_logging.h"
-#include "base/strings/string_util.h"
-#include "base/path_service.h"
 #include "base/base_paths_ohos.h"
 #include "base/files/file_path.h"
+#include "base/path_service.h"
+#include "base/strings/string_util.h"
+#include "include/base/cef_logging.h"
+#include "net/base/load_flags.h"
+#include "url/gurl.h"
 
 namespace net_service {
 
+namespace {
+int UpdateCacheLoadFlags(int load_flags, int cache_control_flags) {
+  const int all_cache_control_flags =
+      net::LOAD_BYPASS_CACHE | net::LOAD_VALIDATE_CACHE |
+      net::LOAD_SKIP_CACHE_VALIDATION | net::LOAD_ONLY_FROM_CACHE;
+  DCHECK_EQ((cache_control_flags & all_cache_control_flags),
+            cache_control_flags);
+  load_flags &= ~all_cache_control_flags;
+  load_flags |= cache_control_flags;
+  return load_flags;
+}
+}  // namespace
+
 bool NetHelpers::allow_content_access = false;
 bool NetHelpers::allow_file_access = false;
+bool NetHelpers::is_network_blocked = false;
+int NetHelpers::cache_mode = 0;
 
 bool NetHelpers::ShouldBlockContentUrls() {
   return !allow_content_access;
@@ -27,27 +43,56 @@ bool NetHelpers::ShouldBlockFileUrls() {
 bool IsSpecialFileUrl(const GURL& url) {
   if (!url.is_valid() || !url.SchemeIsFile() || !url.has_path())
     return false;
-  base::FilePath OhosAppDataPath;
-  if (!base::PathService::Get(base::DIR_OHOS_APP_DATA, &OhosAppDataPath)) {
+  base::FilePath app_data_path;
+  if (!base::PathService::Get(base::DIR_OHOS_APP_DATA, &app_data_path)) {
+    return false;
+  }
+  base::FilePath app_bundle_path;
+  if (!base::PathService::Get(base::DIR_OHOS_APP_INSTALLATION,
+      &app_bundle_path)) {
     return false;
   }
-  LOG(INFO) << "AppDataPath:" << OhosAppDataPath.value();
+  LOG(INFO) << "app_data_path:" << app_data_path.value() << ", app_bundle_path:" << app_bundle_path.value();
 
-  return base::StartsWith(url.path(), OhosAppDataPath.value(),
-                          base::CompareCase::SENSITIVE);
+  if (base::StartsWith(url.path(), app_data_path.value(),
+      base::CompareCase::SENSITIVE)) {
+    return true;
+  }
+
+  if (base::StartsWith(url.path(), app_bundle_path.value(),
+      base::CompareCase::SENSITIVE)) {
+    return true;
+  }
+  return false;
 }
 
 bool IsURLBlocked(const GURL& url) {
   // Part of implementation of NWebPreference.allowContentAccess.
- if (url.SchemeIs(url::kContentScheme) && NetHelpers::ShouldBlockContentUrls())
-   return true;
+  if (url.SchemeIs(url::kContentScheme) && NetHelpers::ShouldBlockContentUrls())
+    return true;
 
   // Part of implementation of NWebPreference.allowFileAccess.
   if (url.SchemeIsFile() && NetHelpers::ShouldBlockFileUrls()) {
     // Appdatas are always available.
     return !IsSpecialFileUrl(url);
   }
-  return false;
+
+  return NetHelpers::is_network_blocked && url.SchemeIs(url::kFtpScheme);
+}
+
+int UpdateLoadFlags(int load_flags) {
+  if (NetHelpers::is_network_blocked) {
+    LOG(INFO) << "Update cache control flag to block network.";
+    return UpdateCacheLoadFlags(
+        load_flags,
+        net::LOAD_ONLY_FROM_CACHE | net::LOAD_SKIP_CACHE_VALIDATION);
+  }
+
+  if (!NetHelpers::cache_mode) {
+    return load_flags;
+  }
+
+  return UpdateCacheLoadFlags(load_flags, NetHelpers::cache_mode);
 }
 
 }  // namespace net_service
diff --git a/cef/libcef/browser/net_service/net_helpers.h b/cef/libcef/browser/net_service/net_helpers.h
index 2bd485ad3684f..c9ca95e737158 100644
--- a/cef/libcef/browser/net_service/net_helpers.h
+++ b/cef/libcef/browser/net_service/net_helpers.h
@@ -12,16 +12,21 @@ namespace net_service {
 #define NETHELPERS_EXPORT __attribute__((visibility("default")))
 
 class NETHELPERS_EXPORT NetHelpers {
-public:
+ public:
   static bool ShouldBlockContentUrls();
   static bool ShouldBlockFileUrls();
 
   static bool allow_content_access;
   static bool allow_file_access;
+  static bool is_network_blocked;
+  static int cache_mode;
 };
 
 bool IsSpecialFileUrl(const GURL& url);
 
+// Update request's |load_flags| based on the settings.
+int UpdateLoadFlags(int load_flags);
+
 // Returns true if the given URL should be aborted with
 // net::ERR_ACCESS_DENIED.
 bool IsURLBlocked(const GURL& url);
diff --git a/cef/libcef/browser/net_service/proxy_url_loader_factory.cc b/cef/libcef/browser/net_service/proxy_url_loader_factory.cc
index 6949ca15fbdb3..470806ab660ec 100644
--- a/cef/libcef/browser/net_service/proxy_url_loader_factory.cc
+++ b/cef/libcef/browser/net_service/proxy_url_loader_factory.cc
@@ -6,9 +6,9 @@
 #include "libcef/browser/net_service/proxy_url_loader_factory.h"
 
 #include "libcef/browser/context.h"
+#include "libcef/browser/net_service/net_helpers.h"
 #include "libcef/browser/origin_whitelist_impl.h"
 #include "libcef/browser/thread_util.h"
-#include "libcef/browser/net_service/net_helpers.h"
 #include "libcef/common/cef_switches.h"
 #include "libcef/common/net/scheme_registration.h"
 #include "libcef/common/net_service/net_service_util.h"
@@ -24,6 +24,7 @@
 #include "content/public/browser/web_contents.h"
 #include "mojo/public/cpp/base/big_buffer.h"
 #include "mojo/public/cpp/bindings/receiver.h"
+#include "net/base/load_flags.h"
 #include "net/http/http_status_code.h"
 #include "net/url_request/redirect_util.h"
 #include "net/url_request/url_request.h"
@@ -64,7 +65,8 @@ bool DisableRequestHandlingForTesting() {
   return disabled;
 }
 
-CefRefPtr<CefResponse> ExtractHttpErrorResponse(const net::HttpResponseHeaders* headers) {
+CefRefPtr<CefResponse> ExtractHttpErrorResponse(
+    const net::HttpResponseHeaders* headers) {
   CefRefPtr<CefResponse> response = CefResponse::Create();
   response->SetStatus(headers->response_code());
   response->SetStatusText(headers->GetStatusText());
@@ -72,8 +74,8 @@ CefRefPtr<CefResponse> ExtractHttpErrorResponse(const net::HttpResponseHeaders*
   size_t headers_line = 0;
   std::string header_name, header_value;
   CefResponse::HeaderMap map;
-  while (headers->EnumerateHeaderLines(
-      &headers_line, &header_name, &header_value)) {
+  while (headers->EnumerateHeaderLines(&headers_line, &header_name,
+                                       &header_value)) {
     map.insert({CefString(header_name), CefString(header_value)});
   }
   response->SetHeaderMap(map);
@@ -234,10 +236,10 @@ class InterceptedRequest : public network::mojom::URLLoader,
   void InputStreamFailed(bool restart_needed);
 
   void OnHttpErrorForUIThread(int32_t,
-                                      CefRefPtr<CefRequest> request,
-                                      bool is_main_frame,
-                                      bool has_user_gesture,                                      
-                                      CefRefPtr<CefResponse> error_response);
+                              CefRefPtr<CefRequest> request,
+                              bool is_main_frame,
+                              bool has_user_gesture,
+                              CefRefPtr<CefResponse> error_response);
 
   // mojom::TrustedHeaderClient methods:
   void OnBeforeSendHeaders(const net::HttpRequestHeaders& headers,
@@ -496,6 +498,8 @@ void InterceptedRequest::Restart() {
     return;
   }
 
+  request_.load_flags = UpdateLoadFlags(request_.load_flags);
+
   const GURL original_url = request_.url;
 
   factory_->request_handler_->OnBeforeRequest(
@@ -587,22 +591,21 @@ void InterceptedRequest::OnReceiveEarlyHints(
 void InterceptedRequest::OnReceiveResponse(
     network::mojom::URLResponseHeadPtr head) {
   current_response_ = std::move(head);
-  if (current_response_->headers && current_response_->headers->response_code() >= 400) {
-    // The WebViewClient onReceivedHttpError callback will be invoked for any resource
-    // (such as main page, iframe, image, etc.) with status code >= 400
-    auto error_reponse = ExtractHttpErrorResponse(current_response_->headers.get());
+  if (current_response_->headers &&
+      current_response_->headers->response_code() >= 400) {
+    // The WebViewClient onReceivedHttpError callback will be invoked for any
+    // resource (such as main page, iframe, image, etc.) with status code >= 400
+    auto error_reponse =
+        ExtractHttpErrorResponse(current_response_->headers.get());
     CefRefPtr<CefRequestImpl> request = new CefRequestImpl();
     request->SetURL(CefString(request_.url.spec()));
     request->SetMethod(CefString(request_.method));
     request->Set(request_.headers);
     content::GetUIThreadTaskRunner({})->PostTask(
         FROM_HERE, base::BindOnce(&InterceptedRequest::OnHttpErrorForUIThread,
-                                  base::Unretained(this),
-                                  id_,
-                                  request,
+                                  base::Unretained(this), id_, request,
                                   request_.is_main_frame,
-                                  request_.has_user_gesture,                                  
-                                  error_reponse));
+                                  request_.has_user_gesture, error_reponse));
   }
   if (current_request_uses_header_client_) {
     // Use the headers we got from OnHeadersReceived as that'll contain
@@ -1199,11 +1202,12 @@ void InterceptedRequest::OnUploadProgressACK() {
   waiting_for_upload_progress_ack_ = false;
 }
 
-void InterceptedRequest::OnHttpErrorForUIThread(int32_t id,
-                                                        CefRefPtr<CefRequest> request,
-                                                        bool is_main_frame,
-                                                        bool has_user_gesture,                                                        
-                                                        CefRefPtr<CefResponse> error_response) {
+void InterceptedRequest::OnHttpErrorForUIThread(
+    int32_t id,
+    CefRefPtr<CefRequest> request,
+    bool is_main_frame,
+    bool has_user_gesture,
+    CefRefPtr<CefResponse> error_response) {
   if (!factory_) {
     LOG(INFO) << "factory is invalid";
     return;
@@ -1212,7 +1216,8 @@ void InterceptedRequest::OnHttpErrorForUIThread(int32_t id,
     LOG(INFO) << "request handler is invalid";
     return;
   }
-  factory_->request_handler_->OnHttpError(id, request, is_main_frame, has_user_gesture, error_response);
+  factory_->request_handler_->OnHttpError(id, request, is_main_frame,
+                                          has_user_gesture, error_response);
 }
 
 //==============================
diff --git a/cef/libcef/browser/osr/browser_platform_delegate_osr.cc b/cef/libcef/browser/osr/browser_platform_delegate_osr.cc
index c29889374904f..93abbbee009c5 100644
--- a/cef/libcef/browser/osr/browser_platform_delegate_osr.cc
+++ b/cef/libcef/browser/osr/browser_platform_delegate_osr.cc
@@ -160,7 +160,10 @@ void CefBrowserPlatformDelegateOsr::SendTouchEvent(const CefTouchEvent& event) {
   if (!view)
     return;
   view->SendTouchEvent(event);
-  SendTouchEventToRender(event);
+
+  if (event.type == CEF_TET_PRESSED) {
+    SendTouchEventToRender(event);
+  }
 }
 
 void CefBrowserPlatformDelegateOsr::SendFocusEvent(bool setFocus) {
diff --git a/cef/libcef/browser/osr/render_widget_host_view_osr.cc b/cef/libcef/browser/osr/render_widget_host_view_osr.cc
index f52387c298e62..761e98bba384b 100644
--- a/cef/libcef/browser/osr/render_widget_host_view_osr.cc
+++ b/cef/libcef/browser/osr/render_widget_host_view_osr.cc
@@ -52,6 +52,9 @@
 #include "ui/gfx/geometry/dip_util.h"
 #include "ui/gfx/geometry/size_conversions.h"
 
+std::unordered_map<gfx::AcceleratedWidget, ui::Compositor*>
+    CefRenderWidgetHostViewOSR::compositor_map_;
+
 namespace {
 
 // The maximum number of damage rects to cache for outstanding frame requests
@@ -235,21 +238,17 @@ CefRenderWidgetHostViewOSR::CefRenderWidgetHostViewOSR(
 
   auto context_factory = content::GetContextFactory();
 
-  // Matching the attributes from RecyclableCompositorMac.
-  compositor_.reset(new ui::Compositor(
-      context_factory->AllocateFrameSinkId(), context_factory,
-      base::ThreadTaskRunnerHandle::Get(), false /* enable_pixel_canvas */,
-      use_external_begin_frame));
-  compositor_->SetAcceleratedWidget(gfx::kNullAcceleratedWidget);
-
-  compositor_->SetDelegate(this);
-  compositor_->SetRootLayer(root_layer_.get());
-  compositor_->AddChildFrameSink(GetFrameSinkId());
-
-  content::RenderWidgetHostImpl* render_widget_host_impl =
-      content::RenderWidgetHostImpl::From(render_widget_host_);
-  if (render_widget_host_impl)
-    render_widget_host_impl->SetCompositorForFlingScheduler(compositor_.get());
+  ui::Compositor* compositor = CefRenderWidgetHostViewOSR::GetCompositor(
+      browser_impl_->GetAcceleratedWidget());
+  if (!compositor) {
+    compositor = new ui::Compositor(
+        context_factory->AllocateFrameSinkId(), context_factory,
+        base::ThreadTaskRunnerHandle::Get(), false /* enable_pixel_canvas */,
+        use_external_begin_frame);
+    compositor->SetAcceleratedWidget(browser_impl_->GetAcceleratedWidget());
+    CefRenderWidgetHostViewOSR::AddCompositor(
+        browser_impl_->GetAcceleratedWidget(), compositor);
+  }
 
   cursor_manager_.reset(new content::CursorManager(this));
 
@@ -288,10 +287,6 @@ CefRenderWidgetHostViewOSR::~CefRenderWidgetHostViewOSR() {
 }
 
 void CefRenderWidgetHostViewOSR::ReleaseCompositor() {
-  if (!compositor_) {
-    return;  // already released
-  }
-
   // Marking the DelegatedFrameHost as removed from the window hierarchy is
   // necessary to remove all connections to its old ui::Compositor.
   if (is_showing_) {
@@ -301,7 +296,6 @@ void CefRenderWidgetHostViewOSR::ReleaseCompositor() {
   delegated_frame_host_->DetachFromCompositor();
 
   delegated_frame_host_.reset(nullptr);
-  compositor_.reset(nullptr);
 }
 
 // Called for full-screen widgets.
@@ -368,6 +362,15 @@ void CefRenderWidgetHostViewOSR::Show() {
     SynchronizeVisualProperties(cc::DeadlinePolicy::UseDefaultDeadline(),
                                 GetLocalSurfaceId());
   }
+  auto compositor = CefRenderWidgetHostViewOSR::GetCompositor(browser_impl_->GetAcceleratedWidget());
+  compositor->SetDelegate(this);
+  compositor->SetRootLayer(root_layer_.get());
+  compositor->AddChildFrameSink(GetFrameSinkId());
+
+  content::RenderWidgetHostImpl* render_widget_host_impl =
+      content::RenderWidgetHostImpl::From(render_widget_host_);
+  if (render_widget_host_impl)
+    render_widget_host_impl->SetCompositorForFlingScheduler(compositor);
 
   if (render_widget_host_) {
     render_widget_host_->WasShown(
@@ -381,7 +384,7 @@ void CefRenderWidgetHostViewOSR::Show() {
   }
 
   if (delegated_frame_host_) {
-    delegated_frame_host_->AttachToCompositor(compositor_.get());
+    delegated_frame_host_->AttachToCompositor(compositor);
     delegated_frame_host_->WasShown(GetLocalSurfaceId(), GetViewBounds().size(),
                                     /*record_tab_switch_time_request=*/{});
   }
@@ -389,8 +392,8 @@ void CefRenderWidgetHostViewOSR::Show() {
   if (!content::GpuDataManagerImpl::GetInstance()->IsGpuCompositingDisabled()) {
     // Start generating frames when we're visible and at the correct size.
     if (!video_consumer_) {
-      video_consumer_.reset(new CefVideoConsumerOSR(this));
-      UpdateFrameRate();
+      // video_consumer_.reset(new CefVideoConsumerOSR(this));
+      // UpdateFrameRate();
     } else {
       video_consumer_->SetActive(true);
     }
@@ -855,7 +858,9 @@ const viz::FrameSinkId& CefRenderWidgetHostViewOSR::GetFrameSinkId() const {
 }
 
 viz::FrameSinkId CefRenderWidgetHostViewOSR::GetRootFrameSinkId() {
-  return compositor_ ? compositor_->frame_sink_id() : viz::FrameSinkId();
+  auto compositor = CefRenderWidgetHostViewOSR::GetCompositor(
+      browser_impl_->GetAcceleratedWidget());
+  return compositor ? compositor->frame_sink_id() : viz::FrameSinkId();
 }
 
 std::unique_ptr<content::SyntheticGestureTarget>
@@ -937,8 +942,9 @@ void CefRenderWidgetHostViewOSR::OnRenderFrameMetadataChangedAfterActivation(
     root_layer_size_ = root_layer_size;
 
     // Send the notification asynchronously.
-    CEF_POST_TASK(CEF_UIT, base::Bind(&CefRenderWidgetHostViewOSR::OnRootLayerChanged,
-                  weak_ptr_factory_.GetWeakPtr()));
+    CEF_POST_TASK(CEF_UIT,
+                  base::Bind(&CefRenderWidgetHostViewOSR::OnRootLayerChanged,
+                             weak_ptr_factory_.GetWeakPtr()));
   }
 #endif
 }
@@ -954,8 +960,10 @@ CefRenderWidgetHostViewOSR::CreateHostDisplayClient() {
 bool CefRenderWidgetHostViewOSR::InstallTransparency() {
   if (background_color_ == SK_ColorTRANSPARENT) {
     SetBackgroundColor(background_color_);
-    if (compositor_) {
-      compositor_->SetBackgroundColor(background_color_);
+    auto compositor = CefRenderWidgetHostViewOSR::GetCompositor(
+        browser_impl_->GetAcceleratedWidget());
+    if (compositor) {
+      compositor->SetBackgroundColor(background_color_);
     }
     return true;
   }
@@ -1063,8 +1071,10 @@ void CefRenderWidgetHostViewOSR::SendExternalBeginFrame() {
   if (render_widget_host_)
     render_widget_host_->ProgressFlingIfNeeded(frame_time);
 
-  if (compositor_) {
-    compositor_->IssueExternalBeginFrame(
+  auto compositor = CefRenderWidgetHostViewOSR::GetCompositor(
+      browser_impl_->GetAcceleratedWidget());
+  if (compositor) {
+    compositor->IssueExternalBeginFrame(
         begin_frame_args, /* force= */ true,
         base::BindOnce(&CefRenderWidgetHostViewOSR::OnFrameComplete,
                        weak_ptr_factory_.GetWeakPtr()));
@@ -1484,8 +1494,10 @@ void CefRenderWidgetHostViewOSR::SetFrameRate() {
 
   frame_rate_threshold_us_ = 1000000 / frame_rate;
 
-  if (compositor_) {
-    compositor_->SetDisplayVSyncParameters(
+  auto compositor = CefRenderWidgetHostViewOSR::GetCompositor(
+      browser_impl_->GetAcceleratedWidget());
+  if (compositor) {
+    compositor->SetDisplayVSyncParameters(
         base::TimeTicks::Now(),
         base::TimeDelta::FromMicroseconds(frame_rate_threshold_us_));
   }
@@ -1545,9 +1557,11 @@ bool CefRenderWidgetHostViewOSR::SetRootLayerSize(bool force) {
 
   GetRootLayer()->SetBounds(gfx::Rect(GetViewBounds().size()));
 
-  if (compositor_) {
+  auto compositor = CefRenderWidgetHostViewOSR::GetCompositor(
+      browser_impl_->GetAcceleratedWidget());
+  if (compositor) {
     compositor_local_surface_id_allocator_.GenerateId();
-    compositor_->SetScaleAndSize(
+    compositor->SetScaleAndSize(
         current_device_scale_factor(), SizeInPixels(),
         compositor_local_surface_id_allocator_.GetCurrentLocalSurfaceId());
   }
@@ -1715,3 +1729,17 @@ void CefRenderWidgetHostViewOSR::SetDoubleTapSupportEnabled(bool enabled) {
 void CefRenderWidgetHostViewOSR::SetMultiTouchZoomSupportEnabled(bool enabled) {
   gesture_provider_.SetMultiTouchZoomSupportEnabled(enabled);
 }
+
+void CefRenderWidgetHostViewOSR::AddCompositor(gfx::AcceleratedWidget widget,
+                                               ui::Compositor* compositor) {
+  CefRenderWidgetHostViewOSR::compositor_map_.emplace(widget, compositor);
+}
+
+ui::Compositor* CefRenderWidgetHostViewOSR::GetCompositor(
+    gfx::AcceleratedWidget widget) {
+  auto it = CefRenderWidgetHostViewOSR::compositor_map_.find(widget);
+  if (it == CefRenderWidgetHostViewOSR::compositor_map_.end()) {
+    return nullptr;
+  }
+  return it->second;
+}
\ No newline at end of file
diff --git a/cef/libcef/browser/osr/render_widget_host_view_osr.h b/cef/libcef/browser/osr/render_widget_host_view_osr.h
index ce0fae2b71968..8964e17d5834b 100644
--- a/cef/libcef/browser/osr/render_widget_host_view_osr.h
+++ b/cef/libcef/browser/osr/render_widget_host_view_osr.h
@@ -10,6 +10,7 @@
 #include <map>
 #include <set>
 #include <vector>
+#include <unordered_map>
 
 #include "include/cef_base.h"
 #include "include/cef_browser.h"
@@ -277,6 +278,9 @@ class CefRenderWidgetHostViewOSR
   void SetDoubleTapSupportEnabled(bool enabled);
   void SetMultiTouchZoomSupportEnabled(bool enabled);
 
+  static void AddCompositor(gfx::AcceleratedWidget widget, ui::Compositor* compositor);
+  static ui::Compositor* GetCompositor(gfx::AcceleratedWidget widget);
+
  private:
   void SetFrameRate();
   bool SetDeviceScaleFactor();
@@ -417,6 +421,8 @@ class CefRenderWidgetHostViewOSR
   base::WeakPtrFactory<CefRenderWidgetHostViewOSR> weak_ptr_factory_;
 
   DISALLOW_COPY_AND_ASSIGN(CefRenderWidgetHostViewOSR);
+
+  static std::unordered_map<gfx::AcceleratedWidget, ui::Compositor*> compositor_map_;
 };
 
 #endif  // CEF_LIBCEF_BROWSER_OSR_RENDER_WIDGET_HOST_VIEW_OSR_H_
diff --git a/cef/libcef/browser/prefs/renderer_prefs.cc b/cef/libcef/browser/prefs/renderer_prefs.cc
index 7ed5929a4e98c..5eb7b4c927d6e 100644
--- a/cef/libcef/browser/prefs/renderer_prefs.cc
+++ b/cef/libcef/browser/prefs/renderer_prefs.cc
@@ -371,6 +371,7 @@ void SetCefPrefs(const CefBrowserSettings& cef,
   SET_STATE(cef.strict_mixed_content_checking,
             web.strict_mixed_content_checking);
   SET_STATE(cef.allow_mixed_content_upgrades, web.allow_mixed_content_upgrades);
+  SET_STATE(cef.initialize_at_minimum_page_scale, web.initialize_at_minimum_page_scale);
   /* ohos webview end */
 }
 
diff --git a/cef/libcef/common/alloy/alloy_main_delegate.cc b/cef/libcef/common/alloy/alloy_main_delegate.cc
index ccbd621288588..50f4e1730e4f4 100644
--- a/cef/libcef/common/alloy/alloy_main_delegate.cc
+++ b/cef/libcef/common/alloy/alloy_main_delegate.cc
@@ -492,6 +492,30 @@ AlloyMainDelegate::GetWebWorkerTaskRunner() {
   return nullptr;
 }
 
+#if defined(OS_OHOS)
+void AlloyMainDelegate::OverrideBundleDataPath(const base::CommandLine& command_line) {
+  base::FilePath userdata_dir;
+  if (command_line.HasSwitch(switches::kUserDataDir)) {
+    userdata_dir = command_line.GetSwitchValuePath(switches::kUserDataDir);
+  }
+  if (!userdata_dir.empty()) {
+    base::PathService::Override(base::DIR_OHOS_APP_DATA, userdata_dir);
+    base::PathService::Override(base::DIR_CACHE, userdata_dir.Append("cache"));
+  } else {
+    LOG(ERROR) << "User data dir is empty";
+  }
+  base::FilePath bundle_dir;
+  if (command_line.HasSwitch(switches::kBundleInstallationDir)) {
+    bundle_dir = command_line.GetSwitchValuePath(switches::kBundleInstallationDir);
+  }
+  if (!bundle_dir.empty()) {
+    base::PathService::Override(base::DIR_OHOS_APP_INSTALLATION, bundle_dir);
+  } else {
+    LOG(ERROR) << "Bundle installation dir is empty";
+  }
+}
+#endif
+
 void AlloyMainDelegate::InitializeResourceBundle() {
   const base::CommandLine* command_line =
       base::CommandLine::ForCurrentProcess();
@@ -527,14 +551,7 @@ void AlloyMainDelegate::InitializeResourceBundle() {
   }
 
 #if defined(OS_OHOS)
-  base::FilePath userdata_dir;
-  if (command_line->HasSwitch(switches::kUserDataDir)) {
-    userdata_dir = command_line->GetSwitchValuePath(switches::kUserDataDir);
-  }
-  if (!userdata_dir.empty()) {
-    base::PathService::Override(base::DIR_OHOS_APP_DATA, userdata_dir);
-    base::PathService::Override(base::DIR_CACHE, userdata_dir.Append("cache"));
-  }
+  OverrideBundleDataPath(*command_line);
 #endif
 
 #if !defined(OS_OHOS)
diff --git a/cef/libcef/common/alloy/alloy_main_delegate.h b/cef/libcef/common/alloy/alloy_main_delegate.h
index 424957e812b6d..77a4c00ee1858 100644
--- a/cef/libcef/common/alloy/alloy_main_delegate.h
+++ b/cef/libcef/common/alloy/alloy_main_delegate.h
@@ -77,6 +77,9 @@ class AlloyMainDelegate : public content::ContentMainDelegate,
 
  private:
   void InitializeResourceBundle();
+#if defined(OS_OHOS)
+  void OverrideBundleDataPath(const base::CommandLine& command_line);
+#endif
 
   CefMainRunnerHandler* const runner_;
   CefSettings* const settings_;
diff --git a/cef/libcef/renderer/browser_impl.cc b/cef/libcef/renderer/browser_impl.cc
index 80a444423241c..b32efcfab2f2b 100644
--- a/cef/libcef/renderer/browser_impl.cc
+++ b/cef/libcef/renderer/browser_impl.cc
@@ -83,6 +83,10 @@ bool CefBrowserImpl::CanGoBackOrForward(int num_steps) {
   return blink_glue::CanGoBackOrForward(GetWebView(), num_steps);
 }
 
+void CefBrowserImpl::DeleteHistory() {
+  CEF_REQUIRE_RT_RETURN_VOID();
+}
+
 bool CefBrowserImpl::IsLoading() {
   CEF_REQUIRE_RT_RETURN(false);
 
diff --git a/cef/libcef/renderer/browser_impl.h b/cef/libcef/renderer/browser_impl.h
index 0f6711a91db97..b3d5b51b99859 100644
--- a/cef/libcef/renderer/browser_impl.h
+++ b/cef/libcef/renderer/browser_impl.h
@@ -50,6 +50,7 @@ class CefBrowserImpl : public CefBrowser, public blink::WebViewObserver {
   bool CanGoForward() override;
   void GoForward() override;
   bool CanGoBackOrForward(int num_steps) override;
+  void DeleteHistory() override;
   bool IsLoading() override;
   void Reload() override;
   void ReloadIgnoreCache() override;
diff --git a/cef/libcef/renderer/javascript/oh_gin_javascript_bridge_dispatcher.cc b/cef/libcef/renderer/javascript/oh_gin_javascript_bridge_dispatcher.cc
index 30c0568a71e8e..281d3cb9867c2 100644
--- a/cef/libcef/renderer/javascript/oh_gin_javascript_bridge_dispatcher.cc
+++ b/cef/libcef/renderer/javascript/oh_gin_javascript_bridge_dispatcher.cc
@@ -68,7 +68,9 @@ void OhGinJavascriptBridgeDispatcher::OnRemoveNamedObject(
   // Removal becomes in effect on next reload. We simply removing the entry
   // from the map here.
   NamedObjectMap::iterator iter = named_objects_.find(name);
-  DCHECK(iter != named_objects_.end());
+  if (iter == named_objects_.end()) {
+    return;
+  }
   named_objects_.erase(iter);
 }
 
diff --git a/cef/libcef/resources/framework-Info.plist b/cef/libcef/resources/framework-Info.plist
index ee19476052df3..21f1d2058c35a 100644
--- a/cef/libcef/resources/framework-Info.plist
+++ b/cef/libcef/resources/framework-Info.plist
@@ -1,18 +1,18 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
-<plist version="1.0">
-<dict>
-	<key>CFBundleDevelopmentRegion</key>
-	<string>en</string>
-	<key>CFBundleExecutable</key>
-	<string>${EXECUTABLE_NAME}</string>
-	<key>CFBundleIdentifier</key>
-	<string>org.chromium.ContentShell.framework</string>
-	<key>CFBundleInfoDictionaryVersion</key>
-	<string>6.0</string>
-	<key>CFBundlePackageType</key>
-	<string>FMWK</string>
-	<key>CFBundleSignature</key>
-	<string>????</string>
-</dict>
-</plist>
+<?xml version="1.0" encoding="UTF-8"?>
+<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
+<plist version="1.0">
+<dict>
+	<key>CFBundleDevelopmentRegion</key>
+	<string>en</string>
+	<key>CFBundleExecutable</key>
+	<string>${EXECUTABLE_NAME}</string>
+	<key>CFBundleIdentifier</key>
+	<string>org.chromium.ContentShell.framework</string>
+	<key>CFBundleInfoDictionaryVersion</key>
+	<string>6.0</string>
+	<key>CFBundlePackageType</key>
+	<string>FMWK</string>
+	<key>CFBundleSignature</key>
+	<string>????</string>
+</dict>
+</plist>
diff --git a/cef/libcef_dll/cpptoc/browser_cpptoc.cc b/cef/libcef_dll/cpptoc/browser_cpptoc.cc
index 3105dcd17b8e0..915e95b93c0db 100644
--- a/cef/libcef_dll/cpptoc/browser_cpptoc.cc
+++ b/cef/libcef_dll/cpptoc/browser_cpptoc.cc
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=37305a392b6fceed48564b7a7d5f0d2811c537f4$
+// $hash=a0db7b8177fbabe225af5a0e2db3fc5bc23ddec4$
 //
 
 #include "libcef_dll/cpptoc/browser_cpptoc.h"
@@ -117,6 +117,19 @@ int CEF_CALLBACK browser_can_go_back_or_forward(struct _cef_browser_t* self,
   return _retval;
 }
 
+void CEF_CALLBACK browser_delete_history(struct _cef_browser_t* self) {
+  shutdown_checker::AssertNotShutdown();
+
+  // AUTO-GENERATED CONTENT - DELETE THIS COMMENT BEFORE MODIFYING
+
+  DCHECK(self);
+  if (!self)
+    return;
+
+  // Execute
+  CefBrowserCppToC::Get(self)->DeleteHistory();
+}
+
 int CEF_CALLBACK browser_is_loading(struct _cef_browser_t* self) {
   shutdown_checker::AssertNotShutdown();
 
@@ -439,6 +452,7 @@ CefBrowserCppToC::CefBrowserCppToC() {
   GetStruct()->can_go_forward = browser_can_go_forward;
   GetStruct()->go_forward = browser_go_forward;
   GetStruct()->can_go_back_or_forward = browser_can_go_back_or_forward;
+  GetStruct()->delete_history = browser_delete_history;
   GetStruct()->is_loading = browser_is_loading;
   GetStruct()->reload = browser_reload;
   GetStruct()->reload_ignore_cache = browser_reload_ignore_cache;
diff --git a/cef/libcef_dll/cpptoc/browser_host_cpptoc.cc b/cef/libcef_dll/cpptoc/browser_host_cpptoc.cc
index 63bc4cc194171..7959765ed4738 100644
--- a/cef/libcef_dll/cpptoc/browser_host_cpptoc.cc
+++ b/cef/libcef_dll/cpptoc/browser_host_cpptoc.cc
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=30942a6f9c376a901f337c13dbbb65417e9b1c5d$
+// $hash=ff0c3692d8878d45dd92ab0da41ccfb481762e26$
 //
 
 #include "libcef_dll/cpptoc/browser_host_cpptoc.h"
@@ -1620,6 +1620,54 @@ void CEF_CALLBACK browser_host_execute_java_script(
       CefString(code), CefJavaScriptResultCallbackCToCpp::Wrap(callback));
 }
 
+void CEF_CALLBACK
+browser_host_set_native_window(struct _cef_browser_host_t* self,
+                               cef_native_window_t window) {
+  shutdown_checker::AssertNotShutdown();
+
+  // AUTO-GENERATED CONTENT - DELETE THIS COMMENT BEFORE MODIFYING
+
+  DCHECK(self);
+  if (!self)
+    return;
+
+  // Execute
+  CefBrowserHostCppToC::Get(self)->SetNativeWindow(window);
+}
+
+void CEF_CALLBACK
+browser_host_set_web_debugging_access(struct _cef_browser_host_t* self,
+                                      int isEnableDebug) {
+  shutdown_checker::AssertNotShutdown();
+
+  // AUTO-GENERATED CONTENT - DELETE THIS COMMENT BEFORE MODIFYING
+
+  DCHECK(self);
+  if (!self)
+    return;
+
+  // Execute
+  CefBrowserHostCppToC::Get(self)->SetWebDebuggingAccess(isEnableDebug ? true
+                                                                       : false);
+}
+
+int CEF_CALLBACK
+browser_host_get_web_debugging_access(struct _cef_browser_host_t* self) {
+  shutdown_checker::AssertNotShutdown();
+
+  // AUTO-GENERATED CONTENT - DELETE THIS COMMENT BEFORE MODIFYING
+
+  DCHECK(self);
+  if (!self)
+    return 0;
+
+  // Execute
+  bool _retval = CefBrowserHostCppToC::Get(self)->GetWebDebuggingAccess();
+
+  // Return type: bool
+  return _retval;
+}
+
 }  // namespace
 
 // CONSTRUCTOR - Do not edit by hand.
@@ -1712,6 +1760,9 @@ CefBrowserHostCppToC::CefBrowserHostCppToC() {
   GetStruct()->set_audio_muted = browser_host_set_audio_muted;
   GetStruct()->is_audio_muted = browser_host_is_audio_muted;
   GetStruct()->execute_java_script = browser_host_execute_java_script;
+  GetStruct()->set_native_window = browser_host_set_native_window;
+  GetStruct()->set_web_debugging_access = browser_host_set_web_debugging_access;
+  GetStruct()->get_web_debugging_access = browser_host_get_web_debugging_access;
 }
 
 // DESTRUCTOR - Do not edit by hand.
diff --git a/cef/libcef_dll/cpptoc/dialog_handler_cpptoc.cc b/cef/libcef_dll/cpptoc/dialog_handler_cpptoc.cc
index 6dcffbb174e6a..e66a9617d455f 100644
--- a/cef/libcef_dll/cpptoc/dialog_handler_cpptoc.cc
+++ b/cef/libcef_dll/cpptoc/dialog_handler_cpptoc.cc
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=639576c610ca3898809cdee6d19c45253e9ea4d2$
+// $hash=2f925fbe5bb419b6adf14c4b508c7330ec8dd84a$
 //
 
 #include "libcef_dll/cpptoc/dialog_handler_cpptoc.h"
@@ -30,6 +30,7 @@ dialog_handler_on_file_dialog(struct _cef_dialog_handler_t* self,
                               const cef_string_t* default_file_path,
                               cef_string_list_t accept_filters,
                               int selected_accept_filter,
+                              int capture,
                               cef_file_dialog_callback_t* callback) {
   shutdown_checker::AssertNotShutdown();
 
@@ -60,7 +61,7 @@ dialog_handler_on_file_dialog(struct _cef_dialog_handler_t* self,
   bool _retval = CefDialogHandlerCppToC::Get(self)->OnFileDialog(
       CefBrowserCToCpp::Wrap(browser), mode, CefString(title),
       CefString(default_file_path), accept_filtersList, selected_accept_filter,
-      CefFileDialogCallbackCToCpp::Wrap(callback));
+      capture ? true : false, CefFileDialogCallbackCToCpp::Wrap(callback));
 
   // Return type: bool
   return _retval;
diff --git a/cef/libcef_dll/cpptoc/load_handler_cpptoc.cc b/cef/libcef_dll/cpptoc/load_handler_cpptoc.cc
index ced6a1faaf5c0..0de3515a46e97 100644
--- a/cef/libcef_dll/cpptoc/load_handler_cpptoc.cc
+++ b/cef/libcef_dll/cpptoc/load_handler_cpptoc.cc
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=b9eb6961bd51d881bd4b0aff6e1c2ad16de8bc93$
+// $hash=e34f727a8cb722c5ee52932d82790d4252a43dbc$
 //
 
 #include "libcef_dll/cpptoc/load_handler_cpptoc.h"
@@ -189,6 +189,38 @@ void CEF_CALLBACK load_handler_on_http_error(struct _cef_load_handler_t* self,
       has_user_gesture ? true : false, CefResponseCToCpp::Wrap(response));
 }
 
+void CEF_CALLBACK
+load_handler_on_refresh_accessed_history(struct _cef_load_handler_t* self,
+                                         cef_browser_t* browser,
+                                         cef_frame_t* frame,
+                                         const cef_string_t* url,
+                                         int isReload) {
+  shutdown_checker::AssertNotShutdown();
+
+  // AUTO-GENERATED CONTENT - DELETE THIS COMMENT BEFORE MODIFYING
+
+  DCHECK(self);
+  if (!self)
+    return;
+  // Verify param: browser; type: refptr_diff
+  DCHECK(browser);
+  if (!browser)
+    return;
+  // Verify param: frame; type: refptr_diff
+  DCHECK(frame);
+  if (!frame)
+    return;
+  // Verify param: url; type: string_byref_const
+  DCHECK(url);
+  if (!url)
+    return;
+
+  // Execute
+  CefLoadHandlerCppToC::Get(self)->OnRefreshAccessedHistory(
+      CefBrowserCToCpp::Wrap(browser), CefFrameCToCpp::Wrap(frame),
+      CefString(url), isReload ? true : false);
+}
+
 }  // namespace
 
 // CONSTRUCTOR - Do not edit by hand.
@@ -201,6 +233,8 @@ CefLoadHandlerCppToC::CefLoadHandlerCppToC() {
   GetStruct()->on_load_error_with_request =
       load_handler_on_load_error_with_request;
   GetStruct()->on_http_error = load_handler_on_http_error;
+  GetStruct()->on_refresh_accessed_history =
+      load_handler_on_refresh_accessed_history;
 }
 
 // DESTRUCTOR - Do not edit by hand.
diff --git a/cef/libcef_dll/ctocpp/browser_ctocpp.cc b/cef/libcef_dll/ctocpp/browser_ctocpp.cc
index ab518cb45819b..51faa16e1dd3d 100644
--- a/cef/libcef_dll/ctocpp/browser_ctocpp.cc
+++ b/cef/libcef_dll/ctocpp/browser_ctocpp.cc
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=669b83a0500ef99c8537d8f00fe746c28e09b31a$
+// $hash=1d64c15697f6087a6931b74f296a37907fbc8dec$
 //
 
 #include "libcef_dll/ctocpp/browser_ctocpp.h"
@@ -114,6 +114,19 @@ bool CefBrowserCToCpp::CanGoBackOrForward(int num_steps) {
   return _retval ? true : false;
 }
 
+NO_SANITIZE("cfi-icall") void CefBrowserCToCpp::DeleteHistory() {
+  shutdown_checker::AssertNotShutdown();
+
+  cef_browser_t* _struct = GetStruct();
+  if (CEF_MEMBER_MISSING(_struct, delete_history))
+    return;
+
+  // AUTO-GENERATED CONTENT - DELETE THIS COMMENT BEFORE MODIFYING
+
+  // Execute
+  _struct->delete_history(_struct);
+}
+
 NO_SANITIZE("cfi-icall") bool CefBrowserCToCpp::IsLoading() {
   shutdown_checker::AssertNotShutdown();
 
diff --git a/cef/libcef_dll/ctocpp/browser_ctocpp.h b/cef/libcef_dll/ctocpp/browser_ctocpp.h
index c8ac3665f4b43..088258f6f0e17 100644
--- a/cef/libcef_dll/ctocpp/browser_ctocpp.h
+++ b/cef/libcef_dll/ctocpp/browser_ctocpp.h
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=5a8d946ed143178608c22b2952d6f82e46b52976$
+// $hash=02e030f24314da7dc9c9c85b0247b9389730bfaf$
 //
 
 #ifndef CEF_LIBCEF_DLL_CTOCPP_BROWSER_CTOCPP_H_
@@ -42,6 +42,7 @@ class CefBrowserCToCpp
   bool CanGoForward() OVERRIDE;
   void GoForward() OVERRIDE;
   bool CanGoBackOrForward(int num_steps) OVERRIDE;
+  void DeleteHistory() OVERRIDE;
   bool IsLoading() OVERRIDE;
   void Reload() OVERRIDE;
   void ReloadIgnoreCache() OVERRIDE;
diff --git a/cef/libcef_dll/ctocpp/browser_host_ctocpp.cc b/cef/libcef_dll/ctocpp/browser_host_ctocpp.cc
index 558aa1e34da1e..5f6f8b5d02674 100644
--- a/cef/libcef_dll/ctocpp/browser_host_ctocpp.cc
+++ b/cef/libcef_dll/ctocpp/browser_host_ctocpp.cc
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=fda8e729ccaccaa70336cc4f897f53098e7430f3$
+// $hash=87bb5126d6b4b3bd34ed78af087e3afd803d2dcd$
 //
 
 #include "libcef_dll/ctocpp/browser_host_ctocpp.h"
@@ -1436,6 +1436,50 @@ void CefBrowserHostCToCpp::ExecuteJavaScript(
       CefJavaScriptResultCallbackCppToC::Wrap(callback));
 }
 
+NO_SANITIZE("cfi-icall")
+void CefBrowserHostCToCpp::SetNativeWindow(cef_native_window_t window) {
+  shutdown_checker::AssertNotShutdown();
+
+  cef_browser_host_t* _struct = GetStruct();
+  if (CEF_MEMBER_MISSING(_struct, set_native_window))
+    return;
+
+  // AUTO-GENERATED CONTENT - DELETE THIS COMMENT BEFORE MODIFYING
+
+  // Execute
+  _struct->set_native_window(_struct, window);
+}
+
+NO_SANITIZE("cfi-icall")
+void CefBrowserHostCToCpp::SetWebDebuggingAccess(bool isEnableDebug) {
+  shutdown_checker::AssertNotShutdown();
+
+  cef_browser_host_t* _struct = GetStruct();
+  if (CEF_MEMBER_MISSING(_struct, set_web_debugging_access))
+    return;
+
+  // AUTO-GENERATED CONTENT - DELETE THIS COMMENT BEFORE MODIFYING
+
+  // Execute
+  _struct->set_web_debugging_access(_struct, isEnableDebug);
+}
+
+NO_SANITIZE("cfi-icall") bool CefBrowserHostCToCpp::GetWebDebuggingAccess() {
+  shutdown_checker::AssertNotShutdown();
+
+  cef_browser_host_t* _struct = GetStruct();
+  if (CEF_MEMBER_MISSING(_struct, get_web_debugging_access))
+    return false;
+
+  // AUTO-GENERATED CONTENT - DELETE THIS COMMENT BEFORE MODIFYING
+
+  // Execute
+  int _retval = _struct->get_web_debugging_access(_struct);
+
+  // Return type: bool
+  return _retval ? true : false;
+}
+
 // CONSTRUCTOR - Do not edit by hand.
 
 CefBrowserHostCToCpp::CefBrowserHostCToCpp() {}
diff --git a/cef/libcef_dll/ctocpp/browser_host_ctocpp.h b/cef/libcef_dll/ctocpp/browser_host_ctocpp.h
index f7d93e799d44a..bb2fe2c254aa4 100644
--- a/cef/libcef_dll/ctocpp/browser_host_ctocpp.h
+++ b/cef/libcef_dll/ctocpp/browser_host_ctocpp.h
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=cf6e8c80db9579bc35d920ab4c35659a6535c355$
+// $hash=55f32c914962cf44aa47185731a5049c27887223$
 //
 
 #ifndef CEF_LIBCEF_DLL_CTOCPP_BROWSER_HOST_CTOCPP_H_
@@ -161,6 +161,9 @@ class CefBrowserHostCToCpp : public CefCToCppRefCounted<CefBrowserHostCToCpp,
   void ExecuteJavaScript(
       const CefString& code,
       CefRefPtr<CefJavaScriptResultCallback> callback) OVERRIDE;
+  void SetNativeWindow(cef_native_window_t window) OVERRIDE;
+  void SetWebDebuggingAccess(bool isEnableDebug) OVERRIDE;
+  bool GetWebDebuggingAccess() OVERRIDE;
 };
 
 #endif  // CEF_LIBCEF_DLL_CTOCPP_BROWSER_HOST_CTOCPP_H_
diff --git a/cef/libcef_dll/ctocpp/dialog_handler_ctocpp.cc b/cef/libcef_dll/ctocpp/dialog_handler_ctocpp.cc
index 3377b564ca84f..2cb31ef5631ed 100644
--- a/cef/libcef_dll/ctocpp/dialog_handler_ctocpp.cc
+++ b/cef/libcef_dll/ctocpp/dialog_handler_ctocpp.cc
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=cac933371fc47c864230d4537ef1da76cd7e4d8e$
+// $hash=df2505130721df8255b0d5bd511fb8ef394a7d8e$
 //
 
 #include "libcef_dll/ctocpp/dialog_handler_ctocpp.h"
@@ -28,6 +28,7 @@ bool CefDialogHandlerCToCpp::OnFileDialog(
     const CefString& default_file_path,
     const std::vector<CefString>& accept_filters,
     int selected_accept_filter,
+    bool capture,
     CefRefPtr<CefFileDialogCallback> callback) {
   shutdown_checker::AssertNotShutdown();
 
@@ -61,7 +62,7 @@ bool CefDialogHandlerCToCpp::OnFileDialog(
   int _retval = _struct->on_file_dialog(
       _struct, CefBrowserCppToC::Wrap(browser), mode, title.GetStruct(),
       default_file_path.GetStruct(), accept_filtersList, selected_accept_filter,
-      CefFileDialogCallbackCppToC::Wrap(callback));
+      capture, CefFileDialogCallbackCppToC::Wrap(callback));
 
   // Restore param:accept_filters; type: string_vec_byref_const
   if (accept_filtersList)
diff --git a/cef/libcef_dll/ctocpp/dialog_handler_ctocpp.h b/cef/libcef_dll/ctocpp/dialog_handler_ctocpp.h
index f2e0798a16099..6ebdca55397a2 100644
--- a/cef/libcef_dll/ctocpp/dialog_handler_ctocpp.h
+++ b/cef/libcef_dll/ctocpp/dialog_handler_ctocpp.h
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=4c07a40d3bd171adf3ae3cc4aa935bc7eca4aa5e$
+// $hash=fb268437c35b6a412dc6305ae83798d4d1db56d6$
 //
 
 #ifndef CEF_LIBCEF_DLL_CTOCPP_DIALOG_HANDLER_CTOCPP_H_
@@ -42,6 +42,7 @@ class CefDialogHandlerCToCpp
                     const CefString& default_file_path,
                     const std::vector<CefString>& accept_filters,
                     int selected_accept_filter,
+                    bool capture,
                     CefRefPtr<CefFileDialogCallback> callback) override;
 };
 
diff --git a/cef/libcef_dll/ctocpp/load_handler_ctocpp.cc b/cef/libcef_dll/ctocpp/load_handler_ctocpp.cc
index ea239aadf4506..08557dfba6b6b 100644
--- a/cef/libcef_dll/ctocpp/load_handler_ctocpp.cc
+++ b/cef/libcef_dll/ctocpp/load_handler_ctocpp.cc
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=a815207886f2b474bff70f4f988a4407bcb3d42a$
+// $hash=ad518c31633727cce6a14d2b17c06370c05b4426$
 //
 
 #include "libcef_dll/ctocpp/load_handler_ctocpp.h"
@@ -187,6 +187,39 @@ void CefLoadHandlerCToCpp::OnHttpError(CefRefPtr<CefRequest> request,
                          CefResponseCppToC::Wrap(response));
 }
 
+NO_SANITIZE("cfi-icall")
+void CefLoadHandlerCToCpp::OnRefreshAccessedHistory(
+    CefRefPtr<CefBrowser> browser,
+    CefRefPtr<CefFrame> frame,
+    const CefString& url,
+    bool isReload) {
+  shutdown_checker::AssertNotShutdown();
+
+  cef_load_handler_t* _struct = GetStruct();
+  if (CEF_MEMBER_MISSING(_struct, on_refresh_accessed_history))
+    return;
+
+  // AUTO-GENERATED CONTENT - DELETE THIS COMMENT BEFORE MODIFYING
+
+  // Verify param: browser; type: refptr_diff
+  DCHECK(browser.get());
+  if (!browser.get())
+    return;
+  // Verify param: frame; type: refptr_diff
+  DCHECK(frame.get());
+  if (!frame.get())
+    return;
+  // Verify param: url; type: string_byref_const
+  DCHECK(!url.empty());
+  if (url.empty())
+    return;
+
+  // Execute
+  _struct->on_refresh_accessed_history(_struct, CefBrowserCppToC::Wrap(browser),
+                                       CefFrameCppToC::Wrap(frame),
+                                       url.GetStruct(), isReload);
+}
+
 // CONSTRUCTOR - Do not edit by hand.
 
 CefLoadHandlerCToCpp::CefLoadHandlerCToCpp() {}
diff --git a/cef/libcef_dll/ctocpp/load_handler_ctocpp.h b/cef/libcef_dll/ctocpp/load_handler_ctocpp.h
index 0ef91fc46435d..021bf5e2eb28a 100644
--- a/cef/libcef_dll/ctocpp/load_handler_ctocpp.h
+++ b/cef/libcef_dll/ctocpp/load_handler_ctocpp.h
@@ -9,7 +9,7 @@
 // implementations. See the translator.README.txt file in the tools directory
 // for more information.
 //
-// $hash=dcaaaa3afd30e1e4be34e0d22cedacddc71e41d0$
+// $hash=f2e44ce99b154e3bbfaafd462eb29cbcce01812e$
 //
 
 #ifndef CEF_LIBCEF_DLL_CTOCPP_LOAD_HANDLER_CTOCPP_H_
@@ -58,6 +58,10 @@ class CefLoadHandlerCToCpp : public CefCToCppRefCounted<CefLoadHandlerCToCpp,
                    bool is_main_frame,
                    bool has_user_gesture,
                    CefRefPtr<CefResponse> response) override;
+  void OnRefreshAccessedHistory(CefRefPtr<CefBrowser> browser,
+                                CefRefPtr<CefFrame> frame,
+                                const CefString& url,
+                                bool isReload) override;
 };
 
 #endif  // CEF_LIBCEF_DLL_CTOCPP_LOAD_HANDLER_CTOCPP_H_
diff --git a/cef/libcef_dll/libcef.dll.manifest b/cef/libcef_dll/libcef.dll.manifest
index d068c1366cec5..76c6380803eaf 100644
--- a/cef/libcef_dll/libcef.dll.manifest
+++ b/cef/libcef_dll/libcef.dll.manifest
@@ -1,8 +1,8 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
-<assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
-  <dependency>
-    <dependentAssembly>
-      <assemblyIdentity type="Win32" name="Microsoft.Windows.Common-Controls" version="6.0.0.0" processorArchitecture="*" publicKeyToken="6595b64144ccf1df" language="*"></assemblyIdentity>
-    </dependentAssembly>
-  </dependency>
-</assembly>
+<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
+<assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
+  <dependency>
+    <dependentAssembly>
+      <assemblyIdentity type="Win32" name="Microsoft.Windows.Common-Controls" version="6.0.0.0" processorArchitecture="*" publicKeyToken="6595b64144ccf1df" language="*"></assemblyIdentity>
+    </dependentAssembly>
+  </dependency>
+</assembly>
diff --git a/cef/libcef_dll/libcef_dll.rc b/cef/libcef_dll/libcef_dll.rc
index cf17a70d371b0..f01d627b2a70d 100644
--- a/cef/libcef_dll/libcef_dll.rc
+++ b/cef/libcef_dll/libcef_dll.rc
@@ -1,143 +1,143 @@
-// Microsoft Visual C++ generated resource script.
-//
-#include "resource.h"
-
-#define APSTUDIO_READONLY_SYMBOLS
-/////////////////////////////////////////////////////////////////////////////
-//
-// Generated from the TEXTINCLUDE 2 resource.
-//
-#define APSTUDIO_HIDDEN_SYMBOLS
-#include "windows.h"
-#include "include/cef_version.h"
-#undef APSTUDIO_HIDDEN_SYMBOLS
-
-/////////////////////////////////////////////////////////////////////////////
-#undef APSTUDIO_READONLY_SYMBOLS
-
-/////////////////////////////////////////////////////////////////////////////
-// English (U.S.) resources
-
-#if !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_ENU)
-#ifdef _WIN32
-LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US
-#pragma code_page(1252)
-#endif //_WIN32
-
-#ifdef APSTUDIO_INVOKED
-/////////////////////////////////////////////////////////////////////////////
-//
-// TEXTINCLUDE
-//
-
-1 TEXTINCLUDE 
-BEGIN
-    "resource.h\0"
-END
-
-2 TEXTINCLUDE 
-BEGIN
-    "#define APSTUDIO_HIDDEN_SYMBOLS\r\n"
-    "#include ""windows.h""\r\n"
-    "#include ""include/version.h""\r\n"
-    "#undef APSTUDIO_HIDDEN_SYMBOLS\r\n"
-    "\0"
-END
-
-3 TEXTINCLUDE 
-BEGIN
-    "\r\n"
-    "\0"
-END
-
-#endif    // APSTUDIO_INVOKED
-
-
-/////////////////////////////////////////////////////////////////////////////
-//
-// Dialog
-//
-
-IDD_ALERT DIALOGEX 0, 0, 241, 76
-STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | DS_CENTER | WS_POPUP | WS_CAPTION | WS_SYSMENU
-CAPTION "JavaScript Alert"
-FONT 8, "MS Shell Dlg", 400, 0, 0x1
-BEGIN
-    DEFPUSHBUTTON   "OK",IDOK,184,55,50,14
-    LTEXT           "",IDC_DIALOGTEXT,16,17,210,30
-END
-
-IDD_CONFIRM DIALOGEX 0, 0, 241, 76
-STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | DS_CENTER | WS_POPUP | WS_CAPTION | WS_SYSMENU
-CAPTION "JavaScript Confirm"
-FONT 8, "MS Shell Dlg", 400, 0, 0x1
-BEGIN
-    PUSHBUTTON      "Cancel",IDCANCEL,184,55,50,14
-    DEFPUSHBUTTON   "OK",IDOK,131,55,50,14
-    LTEXT           "",IDC_DIALOGTEXT,16,17,210,30
-END
-
-IDD_PROMPT DIALOGEX 0, 0, 241, 76
-STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | DS_CENTER | WS_POPUP | WS_CAPTION | WS_SYSMENU
-CAPTION "JavaScript Prompt"
-FONT 8, "MS Shell Dlg", 400, 0, 0x1
-BEGIN
-    DEFPUSHBUTTON   "OK",IDOK,131,55,50,14
-    LTEXT           "",IDC_DIALOGTEXT,16,17,210,18
-    PUSHBUTTON      "Cancel",IDCANCEL,184,55,50,14
-    EDITTEXT        IDC_PROMPTEDIT,15,33,210,14,ES_AUTOHSCROLL
-END
-
-
-/////////////////////////////////////////////////////////////////////////////
-//
-// Version
-//
-
-VS_VERSION_INFO VERSIONINFO
- FILEVERSION CEF_VERSION_MAJOR,CEF_VERSION_MINOR,CEF_VERSION_PATCH,0
- PRODUCTVERSION CEF_VERSION_MAJOR,CEF_VERSION_MINOR,CEF_VERSION_PATCH,0
- FILEFLAGSMASK 0x17L
-#ifdef _DEBUG
- FILEFLAGS 0x1L
-#else
- FILEFLAGS 0x0L
-#endif
- FILEOS 0x4L
- FILETYPE 0x2L
- FILESUBTYPE 0x0L
-BEGIN
-    BLOCK "StringFileInfo"
-    BEGIN
-        BLOCK "040904b0"
-        BEGIN
-            VALUE "FileDescription", "Chromium Embedded Framework (CEF) Dynamic Link Library"
-            VALUE "FileVersion", CEF_VERSION
-            VALUE "InternalName", "libcef"
-            VALUE "LegalCopyright", "Copyright (C) " MAKE_STRING(COPYRIGHT_YEAR) " The Chromium Embedded Framework Authors"
-            VALUE "OriginalFilename", "libcef.dll"
-            VALUE "ProductName", "Chromium Embedded Framework (CEF) Dynamic Link Library"
-            VALUE "ProductVersion", CEF_VERSION
-        END
-    END
-    BLOCK "VarFileInfo"
-    BEGIN
-        VALUE "Translation", 0x409, 1200
-    END
-END
-
-#endif    // English (U.S.) resources
-/////////////////////////////////////////////////////////////////////////////
-
-
-
-#ifndef APSTUDIO_INVOKED
-/////////////////////////////////////////////////////////////////////////////
-//
-// Generated from the TEXTINCLUDE 3 resource.
-//
-
-
-/////////////////////////////////////////////////////////////////////////////
-#endif    // not APSTUDIO_INVOKED
-
+// Microsoft Visual C++ generated resource script.
+//
+#include "resource.h"
+
+#define APSTUDIO_READONLY_SYMBOLS
+/////////////////////////////////////////////////////////////////////////////
+//
+// Generated from the TEXTINCLUDE 2 resource.
+//
+#define APSTUDIO_HIDDEN_SYMBOLS
+#include "windows.h"
+#include "include/cef_version.h"
+#undef APSTUDIO_HIDDEN_SYMBOLS
+
+/////////////////////////////////////////////////////////////////////////////
+#undef APSTUDIO_READONLY_SYMBOLS
+
+/////////////////////////////////////////////////////////////////////////////
+// English (U.S.) resources
+
+#if !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_ENU)
+#ifdef _WIN32
+LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US
+#pragma code_page(1252)
+#endif //_WIN32
+
+#ifdef APSTUDIO_INVOKED
+/////////////////////////////////////////////////////////////////////////////
+//
+// TEXTINCLUDE
+//
+
+1 TEXTINCLUDE 
+BEGIN
+    "resource.h\0"
+END
+
+2 TEXTINCLUDE 
+BEGIN
+    "#define APSTUDIO_HIDDEN_SYMBOLS\r\n"
+    "#include ""windows.h""\r\n"
+    "#include ""include/version.h""\r\n"
+    "#undef APSTUDIO_HIDDEN_SYMBOLS\r\n"
+    "\0"
+END
+
+3 TEXTINCLUDE 
+BEGIN
+    "\r\n"
+    "\0"
+END
+
+#endif    // APSTUDIO_INVOKED
+
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Dialog
+//
+
+IDD_ALERT DIALOGEX 0, 0, 241, 76
+STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | DS_CENTER | WS_POPUP | WS_CAPTION | WS_SYSMENU
+CAPTION "JavaScript Alert"
+FONT 8, "MS Shell Dlg", 400, 0, 0x1
+BEGIN
+    DEFPUSHBUTTON   "OK",IDOK,184,55,50,14
+    LTEXT           "",IDC_DIALOGTEXT,16,17,210,30
+END
+
+IDD_CONFIRM DIALOGEX 0, 0, 241, 76
+STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | DS_CENTER | WS_POPUP | WS_CAPTION | WS_SYSMENU
+CAPTION "JavaScript Confirm"
+FONT 8, "MS Shell Dlg", 400, 0, 0x1
+BEGIN
+    PUSHBUTTON      "Cancel",IDCANCEL,184,55,50,14
+    DEFPUSHBUTTON   "OK",IDOK,131,55,50,14
+    LTEXT           "",IDC_DIALOGTEXT,16,17,210,30
+END
+
+IDD_PROMPT DIALOGEX 0, 0, 241, 76
+STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | DS_CENTER | WS_POPUP | WS_CAPTION | WS_SYSMENU
+CAPTION "JavaScript Prompt"
+FONT 8, "MS Shell Dlg", 400, 0, 0x1
+BEGIN
+    DEFPUSHBUTTON   "OK",IDOK,131,55,50,14
+    LTEXT           "",IDC_DIALOGTEXT,16,17,210,18
+    PUSHBUTTON      "Cancel",IDCANCEL,184,55,50,14
+    EDITTEXT        IDC_PROMPTEDIT,15,33,210,14,ES_AUTOHSCROLL
+END
+
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Version
+//
+
+VS_VERSION_INFO VERSIONINFO
+ FILEVERSION CEF_VERSION_MAJOR,CEF_VERSION_MINOR,CEF_VERSION_PATCH,0
+ PRODUCTVERSION CEF_VERSION_MAJOR,CEF_VERSION_MINOR,CEF_VERSION_PATCH,0
+ FILEFLAGSMASK 0x17L
+#ifdef _DEBUG
+ FILEFLAGS 0x1L
+#else
+ FILEFLAGS 0x0L
+#endif
+ FILEOS 0x4L
+ FILETYPE 0x2L
+ FILESUBTYPE 0x0L
+BEGIN
+    BLOCK "StringFileInfo"
+    BEGIN
+        BLOCK "040904b0"
+        BEGIN
+            VALUE "FileDescription", "Chromium Embedded Framework (CEF) Dynamic Link Library"
+            VALUE "FileVersion", CEF_VERSION
+            VALUE "InternalName", "libcef"
+            VALUE "LegalCopyright", "Copyright (C) " MAKE_STRING(COPYRIGHT_YEAR) " The Chromium Embedded Framework Authors"
+            VALUE "OriginalFilename", "libcef.dll"
+            VALUE "ProductName", "Chromium Embedded Framework (CEF) Dynamic Link Library"
+            VALUE "ProductVersion", CEF_VERSION
+        END
+    END
+    BLOCK "VarFileInfo"
+    BEGIN
+        VALUE "Translation", 0x409, 1200
+    END
+END
+
+#endif    // English (U.S.) resources
+/////////////////////////////////////////////////////////////////////////////
+
+
+
+#ifndef APSTUDIO_INVOKED
+/////////////////////////////////////////////////////////////////////////////
+//
+// Generated from the TEXTINCLUDE 3 resource.
+//
+
+
+/////////////////////////////////////////////////////////////////////////////
+#endif    // not APSTUDIO_INVOKED
+
diff --git a/cef/tests/cefclient/resources/win/cefclient.rc b/cef/tests/cefclient/resources/win/cefclient.rc
index 8f2c50662d6ac..77bf9dfaf0c25 100644
--- a/cef/tests/cefclient/resources/win/cefclient.rc
+++ b/cef/tests/cefclient/resources/win/cefclient.rc
@@ -1,232 +1,232 @@
-// Microsoft Visual C++ generated resource script.
-//
-#include "tests/cefclient/browser/resource.h"
-
-#define APSTUDIO_READONLY_SYMBOLS
-/////////////////////////////////////////////////////////////////////////////
-//
-// Generated from the TEXTINCLUDE 2 resource.
-//
-#define APSTUDIO_HIDDEN_SYMBOLS
-#include "windows.h"
-#include "include/cef_version.h"
-#undef APSTUDIO_HIDDEN_SYMBOLS
-
-/////////////////////////////////////////////////////////////////////////////
-#undef APSTUDIO_READONLY_SYMBOLS
-
-/////////////////////////////////////////////////////////////////////////////
-// English (U.S.) resources
-
-#if !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_ENU)
-#ifdef _WIN32
-LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US
-#pragma code_page(1252)
-#endif //_WIN32
-
-/////////////////////////////////////////////////////////////////////////////
-//
-// Binary
-//
-
-IDS_BINDING_HTML BINARY "..\\binding.html"
-IDS_DIALOGS_HTML BINARY "..\\dialogs.html"
-IDS_DRAGGABLE_HTML BINARY "..\\draggable.html"
-IDS_DRM_HTML BINARY "..\\drm.html"
-IDS_LOCALSTORAGE_HTML BINARY "..\\localstorage.html"
-IDS_LOGO_PNG BINARY "..\\logo.png"
-IDS_MEDIA_ROUTER_HTML BINARY "..\\media_router.html"
-IDS_MENU_ICON_1X_PNG BINARY "..\\menu_icon.1x.png"
-IDS_MENU_ICON_2X_PNG BINARY "..\\menu_icon.2x.png"
-IDS_OSRTEST_HTML BINARY "..\\..\\..\\shared\\resources\\osr_test.html"
-IDS_OTHER_TESTS_HTML BINARY "..\\other_tests.html"
-IDS_PDF_HTML BINARY "..\\..\\..\\shared\\resources\\pdf.html"
-IDS_PDF_PDF BINARY "..\\..\\..\\shared\\resources\\pdf.pdf"
-IDS_PERFORMANCE_HTML BINARY "..\\performance.html"
-IDS_PERFORMANCE2_HTML BINARY "..\\performance2.html"
-IDS_PREFERENCES_HTML BINARY "..\\preferences.html"
-IDS_RESPONSE_FILTER_HTML BINARY "..\\response_filter.html"
-IDS_SERVER_HTML BINARY "..\\server.html"
-IDS_TRANSPARENCY_HTML BINARY "..\\transparency.html"
-IDS_URLREQUEST_HTML BINARY "..\\urlrequest.html"
-IDS_WEBSOCKET_HTML BINARY "..\\websocket.html"
-IDS_WINDOW_HTML BINARY "..\\window.html"
-IDS_WINDOW_ICON_1X_PNG BINARY "..\\..\\..\\shared\\resources\\window_icon.1x.png"
-IDS_WINDOW_ICON_2X_PNG BINARY "..\\..\\..\\shared\\resources\\window_icon.2x.png"
-IDS_XMLHTTPREQUEST_HTML BINARY "..\\xmlhttprequest.html"
-
-IDS_EXTENSIONS_SET_PAGE_COLOR_ICON_PNG BINARY "..\\extensions\\set_page_color\\icon.png"
-IDS_EXTENSIONS_SET_PAGE_COLOR_MANIFEST_JSON BINARY "..\\extensions\\set_page_color\\manifest.json"
-IDS_EXTENSIONS_SET_PAGE_COLOR_POPUP_HTML BINARY "..\\extensions\\set_page_color\\popup.html"
-IDS_EXTENSIONS_SET_PAGE_COLOR_POPUP_JS BINARY "..\\extensions\\set_page_color\\popup.js"
-
-/////////////////////////////////////////////////////////////////////////////
-//
-// Icon
-//
-
-// Icon with lowest ID value placed first to ensure application icon
-// remains consistent on all systems.
-IDI_CEFCLIENT           ICON                    "cefclient.ico"
-IDI_SMALL               ICON                    "small.ico"
-
-/////////////////////////////////////////////////////////////////////////////
-//
-// Menu
-//
-
-IDC_CEFCLIENT MENU
-BEGIN
-    POPUP "&File"
-    BEGIN
-        MENUITEM "&Find...",                    ID_FIND
-        MENUITEM SEPARATOR
-        MENUITEM "E&xit",                       IDM_EXIT
-    END
-    POPUP "&Help"
-    BEGIN
-        MENUITEM "&About ...",                  IDM_ABOUT
-    END
-    POPUP "Tests"
-    BEGIN
-        MENUITEM "Get Source",                  ID_TESTS_GETSOURCE
-        MENUITEM "Get Text",                    ID_TESTS_GETTEXT
-        MENUITEM "New Window",                  ID_TESTS_WINDOW_NEW
-        MENUITEM "Popup Window",                ID_TESTS_WINDOW_POPUP
-        MENUITEM "Request",                     ID_TESTS_REQUEST
-        MENUITEM "Plugin Info",                 ID_TESTS_PLUGIN_INFO
-        MENUITEM "Zoom In",                     ID_TESTS_ZOOM_IN
-        MENUITEM "Zoom Out",                    ID_TESTS_ZOOM_OUT
-        MENUITEM "Zoom Reset",                  ID_TESTS_ZOOM_RESET
-        MENUITEM "Set FPS",                     ID_TESTS_OSR_FPS
-        MENUITEM "Set Scale Factor",            ID_TESTS_OSR_DSF
-        MENUITEM "Begin Tracing",               ID_TESTS_TRACING_BEGIN
-        MENUITEM "End Tracing",                 ID_TESTS_TRACING_END
-        MENUITEM "Print",                       ID_TESTS_PRINT
-        MENUITEM "Print to PDF",                ID_TESTS_PRINT_TO_PDF
-        MENUITEM "Mute Audio",                  ID_TESTS_MUTE_AUDIO
-        MENUITEM "Unmute Audio",                ID_TESTS_UNMUTE_AUDIO
-        MENUITEM "Other Tests",                 ID_TESTS_OTHER_TESTS
-   END
-END
-
-
-/////////////////////////////////////////////////////////////////////////////
-//
-// Accelerator
-//
-
-IDC_CEFCLIENT ACCELERATORS
-BEGIN
-    "?",            IDM_ABOUT,              ASCII,  ALT
-    "/",            IDM_ABOUT,              ASCII,  ALT
-END
-
-
-/////////////////////////////////////////////////////////////////////////////
-//
-// Dialog
-//
-
-IDD_ABOUTBOX DIALOG  22, 17, 230, 75
-STYLE DS_SETFONT | DS_MODALFRAME | WS_CAPTION | WS_SYSMENU
-CAPTION "About"
-FONT 8, "System"
-BEGIN
-    ICON            IDI_CEFCLIENT,IDC_MYICON,14,9,16,16
-    LTEXT           "cefclient Version 1.0",IDC_STATIC,49,10,119,8,SS_NOPREFIX
-    LTEXT           "Copyright (C) 2008",IDC_STATIC,49,20,119,8
-    DEFPUSHBUTTON   "OK",IDOK,195,6,30,11,WS_GROUP
-END
-
-/////////////////////////////////////////////////////////////////////////////
-//
-// Version
-//
-
-VS_VERSION_INFO VERSIONINFO
- FILEVERSION CEF_VERSION_MAJOR,CEF_VERSION_MINOR,CEF_VERSION_PATCH,0
- PRODUCTVERSION CEF_VERSION_MAJOR,CEF_VERSION_MINOR,CEF_VERSION_PATCH,0
- FILEFLAGSMASK 0x17L
-#ifdef _DEBUG
- FILEFLAGS 0x1L
-#else
- FILEFLAGS 0x0L
-#endif
- FILEOS 0x4L
- FILETYPE 0x2L
- FILESUBTYPE 0x0L
-BEGIN
-    BLOCK "StringFileInfo"
-    BEGIN
-        BLOCK "040904b0"
-        BEGIN
-            VALUE "FileDescription", "Chromium Embedded Framework (CEF) Client Application"
-            VALUE "FileVersion", CEF_VERSION
-            VALUE "InternalName", "cefclient"
-            VALUE "LegalCopyright", "Copyright (C) " MAKE_STRING(COPYRIGHT_YEAR) " The Chromium Embedded Framework Authors"
-            VALUE "OriginalFilename", "cefclient.exe"
-            VALUE "ProductName", "Chromium Embedded Framework (CEF) Client Application"
-            VALUE "ProductVersion", CEF_VERSION
-        END
-    END
-    BLOCK "VarFileInfo"
-    BEGIN
-        VALUE "Translation", 0x409, 1200
-    END
-END
-
-#ifdef APSTUDIO_INVOKED
-/////////////////////////////////////////////////////////////////////////////
-//
-// TEXTINCLUDE
-//
-
-1 TEXTINCLUDE
-BEGIN
-    "resource.h\0"
-END
-
-2 TEXTINCLUDE
-BEGIN
-    "#define APSTUDIO_HIDDEN_SYMBOLS\r\n"
-    "#include ""windows.h""\r\n"
-    "#undef APSTUDIO_HIDDEN_SYMBOLS\r\n"
-    "\0"
-END
-
-3 TEXTINCLUDE
-BEGIN
-    "\r\n"
-    "\0"
-END
-
-#endif    // APSTUDIO_INVOKED
-
-
-/////////////////////////////////////////////////////////////////////////////
-//
-// String Table
-//
-
-STRINGTABLE
-BEGIN
-    IDS_APP_TITLE           "cefclient"
-    IDC_CEFCLIENT           "CEFCLIENT"
-END
-
-#endif    // English (U.S.) resources
-/////////////////////////////////////////////////////////////////////////////
-
-
-
-#ifndef APSTUDIO_INVOKED
-/////////////////////////////////////////////////////////////////////////////
-//
-// Generated from the TEXTINCLUDE 3 resource.
-//
-
-
-/////////////////////////////////////////////////////////////////////////////
-#endif    // not APSTUDIO_INVOKED
-
+// Microsoft Visual C++ generated resource script.
+//
+#include "tests/cefclient/browser/resource.h"
+
+#define APSTUDIO_READONLY_SYMBOLS
+/////////////////////////////////////////////////////////////////////////////
+//
+// Generated from the TEXTINCLUDE 2 resource.
+//
+#define APSTUDIO_HIDDEN_SYMBOLS
+#include "windows.h"
+#include "include/cef_version.h"
+#undef APSTUDIO_HIDDEN_SYMBOLS
+
+/////////////////////////////////////////////////////////////////////////////
+#undef APSTUDIO_READONLY_SYMBOLS
+
+/////////////////////////////////////////////////////////////////////////////
+// English (U.S.) resources
+
+#if !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_ENU)
+#ifdef _WIN32
+LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US
+#pragma code_page(1252)
+#endif //_WIN32
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Binary
+//
+
+IDS_BINDING_HTML BINARY "..\\binding.html"
+IDS_DIALOGS_HTML BINARY "..\\dialogs.html"
+IDS_DRAGGABLE_HTML BINARY "..\\draggable.html"
+IDS_DRM_HTML BINARY "..\\drm.html"
+IDS_LOCALSTORAGE_HTML BINARY "..\\localstorage.html"
+IDS_LOGO_PNG BINARY "..\\logo.png"
+IDS_MEDIA_ROUTER_HTML BINARY "..\\media_router.html"
+IDS_MENU_ICON_1X_PNG BINARY "..\\menu_icon.1x.png"
+IDS_MENU_ICON_2X_PNG BINARY "..\\menu_icon.2x.png"
+IDS_OSRTEST_HTML BINARY "..\\..\\..\\shared\\resources\\osr_test.html"
+IDS_OTHER_TESTS_HTML BINARY "..\\other_tests.html"
+IDS_PDF_HTML BINARY "..\\..\\..\\shared\\resources\\pdf.html"
+IDS_PDF_PDF BINARY "..\\..\\..\\shared\\resources\\pdf.pdf"
+IDS_PERFORMANCE_HTML BINARY "..\\performance.html"
+IDS_PERFORMANCE2_HTML BINARY "..\\performance2.html"
+IDS_PREFERENCES_HTML BINARY "..\\preferences.html"
+IDS_RESPONSE_FILTER_HTML BINARY "..\\response_filter.html"
+IDS_SERVER_HTML BINARY "..\\server.html"
+IDS_TRANSPARENCY_HTML BINARY "..\\transparency.html"
+IDS_URLREQUEST_HTML BINARY "..\\urlrequest.html"
+IDS_WEBSOCKET_HTML BINARY "..\\websocket.html"
+IDS_WINDOW_HTML BINARY "..\\window.html"
+IDS_WINDOW_ICON_1X_PNG BINARY "..\\..\\..\\shared\\resources\\window_icon.1x.png"
+IDS_WINDOW_ICON_2X_PNG BINARY "..\\..\\..\\shared\\resources\\window_icon.2x.png"
+IDS_XMLHTTPREQUEST_HTML BINARY "..\\xmlhttprequest.html"
+
+IDS_EXTENSIONS_SET_PAGE_COLOR_ICON_PNG BINARY "..\\extensions\\set_page_color\\icon.png"
+IDS_EXTENSIONS_SET_PAGE_COLOR_MANIFEST_JSON BINARY "..\\extensions\\set_page_color\\manifest.json"
+IDS_EXTENSIONS_SET_PAGE_COLOR_POPUP_HTML BINARY "..\\extensions\\set_page_color\\popup.html"
+IDS_EXTENSIONS_SET_PAGE_COLOR_POPUP_JS BINARY "..\\extensions\\set_page_color\\popup.js"
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Icon
+//
+
+// Icon with lowest ID value placed first to ensure application icon
+// remains consistent on all systems.
+IDI_CEFCLIENT           ICON                    "cefclient.ico"
+IDI_SMALL               ICON                    "small.ico"
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Menu
+//
+
+IDC_CEFCLIENT MENU
+BEGIN
+    POPUP "&File"
+    BEGIN
+        MENUITEM "&Find...",                    ID_FIND
+        MENUITEM SEPARATOR
+        MENUITEM "E&xit",                       IDM_EXIT
+    END
+    POPUP "&Help"
+    BEGIN
+        MENUITEM "&About ...",                  IDM_ABOUT
+    END
+    POPUP "Tests"
+    BEGIN
+        MENUITEM "Get Source",                  ID_TESTS_GETSOURCE
+        MENUITEM "Get Text",                    ID_TESTS_GETTEXT
+        MENUITEM "New Window",                  ID_TESTS_WINDOW_NEW
+        MENUITEM "Popup Window",                ID_TESTS_WINDOW_POPUP
+        MENUITEM "Request",                     ID_TESTS_REQUEST
+        MENUITEM "Plugin Info",                 ID_TESTS_PLUGIN_INFO
+        MENUITEM "Zoom In",                     ID_TESTS_ZOOM_IN
+        MENUITEM "Zoom Out",                    ID_TESTS_ZOOM_OUT
+        MENUITEM "Zoom Reset",                  ID_TESTS_ZOOM_RESET
+        MENUITEM "Set FPS",                     ID_TESTS_OSR_FPS
+        MENUITEM "Set Scale Factor",            ID_TESTS_OSR_DSF
+        MENUITEM "Begin Tracing",               ID_TESTS_TRACING_BEGIN
+        MENUITEM "End Tracing",                 ID_TESTS_TRACING_END
+        MENUITEM "Print",                       ID_TESTS_PRINT
+        MENUITEM "Print to PDF",                ID_TESTS_PRINT_TO_PDF
+        MENUITEM "Mute Audio",                  ID_TESTS_MUTE_AUDIO
+        MENUITEM "Unmute Audio",                ID_TESTS_UNMUTE_AUDIO
+        MENUITEM "Other Tests",                 ID_TESTS_OTHER_TESTS
+   END
+END
+
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Accelerator
+//
+
+IDC_CEFCLIENT ACCELERATORS
+BEGIN
+    "?",            IDM_ABOUT,              ASCII,  ALT
+    "/",            IDM_ABOUT,              ASCII,  ALT
+END
+
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Dialog
+//
+
+IDD_ABOUTBOX DIALOG  22, 17, 230, 75
+STYLE DS_SETFONT | DS_MODALFRAME | WS_CAPTION | WS_SYSMENU
+CAPTION "About"
+FONT 8, "System"
+BEGIN
+    ICON            IDI_CEFCLIENT,IDC_MYICON,14,9,16,16
+    LTEXT           "cefclient Version 1.0",IDC_STATIC,49,10,119,8,SS_NOPREFIX
+    LTEXT           "Copyright (C) 2008",IDC_STATIC,49,20,119,8
+    DEFPUSHBUTTON   "OK",IDOK,195,6,30,11,WS_GROUP
+END
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Version
+//
+
+VS_VERSION_INFO VERSIONINFO
+ FILEVERSION CEF_VERSION_MAJOR,CEF_VERSION_MINOR,CEF_VERSION_PATCH,0
+ PRODUCTVERSION CEF_VERSION_MAJOR,CEF_VERSION_MINOR,CEF_VERSION_PATCH,0
+ FILEFLAGSMASK 0x17L
+#ifdef _DEBUG
+ FILEFLAGS 0x1L
+#else
+ FILEFLAGS 0x0L
+#endif
+ FILEOS 0x4L
+ FILETYPE 0x2L
+ FILESUBTYPE 0x0L
+BEGIN
+    BLOCK "StringFileInfo"
+    BEGIN
+        BLOCK "040904b0"
+        BEGIN
+            VALUE "FileDescription", "Chromium Embedded Framework (CEF) Client Application"
+            VALUE "FileVersion", CEF_VERSION
+            VALUE "InternalName", "cefclient"
+            VALUE "LegalCopyright", "Copyright (C) " MAKE_STRING(COPYRIGHT_YEAR) " The Chromium Embedded Framework Authors"
+            VALUE "OriginalFilename", "cefclient.exe"
+            VALUE "ProductName", "Chromium Embedded Framework (CEF) Client Application"
+            VALUE "ProductVersion", CEF_VERSION
+        END
+    END
+    BLOCK "VarFileInfo"
+    BEGIN
+        VALUE "Translation", 0x409, 1200
+    END
+END
+
+#ifdef APSTUDIO_INVOKED
+/////////////////////////////////////////////////////////////////////////////
+//
+// TEXTINCLUDE
+//
+
+1 TEXTINCLUDE
+BEGIN
+    "resource.h\0"
+END
+
+2 TEXTINCLUDE
+BEGIN
+    "#define APSTUDIO_HIDDEN_SYMBOLS\r\n"
+    "#include ""windows.h""\r\n"
+    "#undef APSTUDIO_HIDDEN_SYMBOLS\r\n"
+    "\0"
+END
+
+3 TEXTINCLUDE
+BEGIN
+    "\r\n"
+    "\0"
+END
+
+#endif    // APSTUDIO_INVOKED
+
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// String Table
+//
+
+STRINGTABLE
+BEGIN
+    IDS_APP_TITLE           "cefclient"
+    IDC_CEFCLIENT           "CEFCLIENT"
+END
+
+#endif    // English (U.S.) resources
+/////////////////////////////////////////////////////////////////////////////
+
+
+
+#ifndef APSTUDIO_INVOKED
+/////////////////////////////////////////////////////////////////////////////
+//
+// Generated from the TEXTINCLUDE 3 resource.
+//
+
+
+/////////////////////////////////////////////////////////////////////////////
+#endif    // not APSTUDIO_INVOKED
+
diff --git a/cef/tests/cefsimple/cefsimple.rc b/cef/tests/cefsimple/cefsimple.rc
index e4645e2aa60ff..c4f3f2973a109 100644
--- a/cef/tests/cefsimple/cefsimple.rc
+++ b/cef/tests/cefsimple/cefsimple.rc
@@ -1,79 +1,79 @@
-// Microsoft Visual C++ generated resource script.
-//
-#include "resource.h"
-
-#define APSTUDIO_READONLY_SYMBOLS
-/////////////////////////////////////////////////////////////////////////////
-//
-// Generated from the TEXTINCLUDE 2 resource.
-//
-#define APSTUDIO_HIDDEN_SYMBOLS
-#include "windows.h"
-#undef APSTUDIO_HIDDEN_SYMBOLS
-
-/////////////////////////////////////////////////////////////////////////////
-#undef APSTUDIO_READONLY_SYMBOLS
-
-/////////////////////////////////////////////////////////////////////////////
-// English (U.S.) resources
-
-#if !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_ENU)
-#ifdef _WIN32
-LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US
-#pragma code_page(1252)
-#endif //_WIN32
-
-/////////////////////////////////////////////////////////////////////////////
-//
-// Icon
-//
-
-// Icon with lowest ID value placed first to ensure application icon
-// remains consistent on all systems.
-IDI_CEFSIMPLE           ICON                    "res\cefsimple.ico"
-IDI_SMALL               ICON                    "res\small.ico"
-
-
-#ifdef APSTUDIO_INVOKED
-/////////////////////////////////////////////////////////////////////////////
-//
-// TEXTINCLUDE
-//
-
-1 TEXTINCLUDE
-BEGIN
-    "resource.h\0"
-END
-
-2 TEXTINCLUDE
-BEGIN
-    "#define APSTUDIO_HIDDEN_SYMBOLS\r\n"
-    "#include ""windows.h""\r\n"
-    "#undef APSTUDIO_HIDDEN_SYMBOLS\r\n"
-    "\0"
-END
-
-3 TEXTINCLUDE
-BEGIN
-    "\r\n"
-    "\0"
-END
-
-#endif    // APSTUDIO_INVOKED
-
-
-#endif    // English (U.S.) resources
-/////////////////////////////////////////////////////////////////////////////
-
-
-
-#ifndef APSTUDIO_INVOKED
-/////////////////////////////////////////////////////////////////////////////
-//
-// Generated from the TEXTINCLUDE 3 resource.
-//
-
-
-/////////////////////////////////////////////////////////////////////////////
-#endif    // not APSTUDIO_INVOKED
-
+// Microsoft Visual C++ generated resource script.
+//
+#include "resource.h"
+
+#define APSTUDIO_READONLY_SYMBOLS
+/////////////////////////////////////////////////////////////////////////////
+//
+// Generated from the TEXTINCLUDE 2 resource.
+//
+#define APSTUDIO_HIDDEN_SYMBOLS
+#include "windows.h"
+#undef APSTUDIO_HIDDEN_SYMBOLS
+
+/////////////////////////////////////////////////////////////////////////////
+#undef APSTUDIO_READONLY_SYMBOLS
+
+/////////////////////////////////////////////////////////////////////////////
+// English (U.S.) resources
+
+#if !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_ENU)
+#ifdef _WIN32
+LANGUAGE LANG_ENGLISH, SUBLANG_ENGLISH_US
+#pragma code_page(1252)
+#endif //_WIN32
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Icon
+//
+
+// Icon with lowest ID value placed first to ensure application icon
+// remains consistent on all systems.
+IDI_CEFSIMPLE           ICON                    "res\cefsimple.ico"
+IDI_SMALL               ICON                    "res\small.ico"
+
+
+#ifdef APSTUDIO_INVOKED
+/////////////////////////////////////////////////////////////////////////////
+//
+// TEXTINCLUDE
+//
+
+1 TEXTINCLUDE
+BEGIN
+    "resource.h\0"
+END
+
+2 TEXTINCLUDE
+BEGIN
+    "#define APSTUDIO_HIDDEN_SYMBOLS\r\n"
+    "#include ""windows.h""\r\n"
+    "#undef APSTUDIO_HIDDEN_SYMBOLS\r\n"
+    "\0"
+END
+
+3 TEXTINCLUDE
+BEGIN
+    "\r\n"
+    "\0"
+END
+
+#endif    // APSTUDIO_INVOKED
+
+
+#endif    // English (U.S.) resources
+/////////////////////////////////////////////////////////////////////////////
+
+
+
+#ifndef APSTUDIO_INVOKED
+/////////////////////////////////////////////////////////////////////////////
+//
+// Generated from the TEXTINCLUDE 3 resource.
+//
+
+
+/////////////////////////////////////////////////////////////////////////////
+#endif    // not APSTUDIO_INVOKED
+
diff --git a/cef/tools/make_cppdocs.bat b/cef/tools/make_cppdocs.bat
index 2f982f70c70eb..dd9809c720e13 100644
--- a/cef/tools/make_cppdocs.bat
+++ b/cef/tools/make_cppdocs.bat
@@ -1,18 +1,18 @@
-@echo off
-setlocal
-
-if "%1"=="" (
-set CPPDOC_EXE="C:\Program Files (x86)\richfeit\CppDoc\CppDoc.exe"
-set CPPDOC_REV="XXX"
-) else (
-set CPPDOC_EXE="C:\Program Files (x86)\richfeit\CppDoc\cppdoc_cmd.exe"
-set CPPDOC_REV="%1"
-)
-
-if not exist %CPPDOC_EXE% (
-echo ERROR: Please install CppDoc from http://www.cppdoc.com/
-) else (
-%CPPDOC_EXE% -overwrite -title="CEF3 C++ API Docs - Revision %CPPDOC_REV%"  -footer="<center><a href="https://bitbucket.org/chromiumembedded/cef" target="_top">Chromium Embedded Framework (CEF)</a> Copyright &copy 2016 Marshall A. Greenblatt</center>" -namespace-as-project -comment-format="///;//;///" -classdir=projects -module="cppdoc-standard" -extensions=h -languages="c=cpp,cc=cpp,cpp=cpp,cs=csharp,cxx=cpp,h=cpp,hpp=cpp,hxx=cpp,java=java" -D"OS_WIN" -D"USING_CEF_SHARED" -D"__cplusplus" -D"CEF_STRING_TYPE_UTF16" -enable-author=false -enable-deprecations=true -enable-since=true -enable-version=false -file-links-for-globals=false -generate-deprecations-list=false -generate-hierarchy=true -header-background-dark="#ccccff" -header-background-light="#eeeeff" -include-private=false -include-protected=true -index-file-base=index -overview-html=overview.html -reduce-summary-font=true -selected-text-background=navy -selected-text-foreground=white -separate-index-pages=false -show-cppdoc-version=false -show-timestamp=false -summary-html=project.html -suppress-details=false -suppress-frames-links=false -table-background=white -wrap-long-lines=false ..\include #capi "..\docs\index.html"
-)
-
+@echo off
+setlocal
+
+if "%1"=="" (
+set CPPDOC_EXE="C:\Program Files (x86)\richfeit\CppDoc\CppDoc.exe"
+set CPPDOC_REV="XXX"
+) else (
+set CPPDOC_EXE="C:\Program Files (x86)\richfeit\CppDoc\cppdoc_cmd.exe"
+set CPPDOC_REV="%1"
+)
+
+if not exist %CPPDOC_EXE% (
+echo ERROR: Please install CppDoc from http://www.cppdoc.com/
+) else (
+%CPPDOC_EXE% -overwrite -title="CEF3 C++ API Docs - Revision %CPPDOC_REV%"  -footer="<center><a href="https://bitbucket.org/chromiumembedded/cef" target="_top">Chromium Embedded Framework (CEF)</a> Copyright &copy 2016 Marshall A. Greenblatt</center>" -namespace-as-project -comment-format="///;//;///" -classdir=projects -module="cppdoc-standard" -extensions=h -languages="c=cpp,cc=cpp,cpp=cpp,cs=csharp,cxx=cpp,h=cpp,hpp=cpp,hxx=cpp,java=java" -D"OS_WIN" -D"USING_CEF_SHARED" -D"__cplusplus" -D"CEF_STRING_TYPE_UTF16" -enable-author=false -enable-deprecations=true -enable-since=true -enable-version=false -file-links-for-globals=false -generate-deprecations-list=false -generate-hierarchy=true -header-background-dark="#ccccff" -header-background-light="#eeeeff" -include-private=false -include-protected=true -index-file-base=index -overview-html=overview.html -reduce-summary-font=true -selected-text-background=navy -selected-text-foreground=white -separate-index-pages=false -show-cppdoc-version=false -show-timestamp=false -summary-html=project.html -suppress-details=false -suppress-frames-links=false -table-background=white -wrap-long-lines=false ..\include #capi "..\docs\index.html"
+)
+
 endlocal
\ No newline at end of file
diff --git a/cef/tools/make_distrib.bat b/cef/tools/make_distrib.bat
index 81cb4e82ad457..aea1ee5442f11 100644
--- a/cef/tools/make_distrib.bat
+++ b/cef/tools/make_distrib.bat
@@ -1,2 +1,2 @@
-@echo off
-python.bat %~dp0\make_distrib.py --output-dir %~dp0\..\binary_distrib\ %*
+@echo off
+python.bat %~dp0\make_distrib.py --output-dir %~dp0\..\binary_distrib\ %*
diff --git a/cef/tools/make_version_header.bat b/cef/tools/make_version_header.bat
index 39f30604437f9..e888746424032 100644
--- a/cef/tools/make_version_header.bat
+++ b/cef/tools/make_version_header.bat
@@ -1,2 +1,2 @@
-@echo off
-python.bat tools\make_version_header.py include\cef_version.h
+@echo off
+python.bat tools\make_version_header.py include\cef_version.h
diff --git a/cef/tools/msvs_env.bat b/cef/tools/msvs_env.bat
index 55677af4a7c17..0e797c3d0faf1 100644
--- a/cef/tools/msvs_env.bat
+++ b/cef/tools/msvs_env.bat
@@ -1,73 +1,73 @@
-@echo off
-:: Copyright (c) 2013 The Chromium Embedded Framework Authors. All rights
-:: reserved. Use of this source code is governed by a BSD-style license
-:: that can be found in the LICENSE file.
-
-:: Set up the environment for use with MSVS tools and then execute whatever
-:: was specified on the command-line.
-
-set RC=
-
-:: Support !! syntax for delayed variable expansion.
-setlocal enabledelayedexpansion
-
-:: Require that platform is passed as the first argument.
-if "%1" == "win32" (
-  set vcvarsbat=vcvars32.bat
-) else if "%1" == "win64" (
-  set vcvarsbat=vcvars64.bat
-) else if "%1" == "winarm64" (
-  set vcvarsbat=vcvarsamd64_arm64.bat
-) else (
-  echo ERROR: Please specify a target platform: win32, win64 or winarm64
-  set ERRORLEVEL=1
-  goto end
-)
-
-:: Check if vcvars is already provided via the environment.
-set vcvars="%CEF_VCVARS%"
-if %vcvars% == "none" goto found_vcvars
-if exist %vcvars% goto found_vcvars
-
-:: Search for the default VS installation path.
-for %%x in ("%PROGRAMFILES(X86)%" "%PROGRAMFILES%") do (
-  for %%y in (2019 2017) do (
-    for %%z in (Professional Enterprise Community BuildTools) do (
-      set vcvars="%%~x\Microsoft Visual Studio\%%y\%%z\VC\Auxiliary\Build\%vcvarsbat%"
-      if exist !vcvars! goto found_vcvars
-    )
-  )
-)
-
-echo ERROR: Failed to find vcvars
-set ERRORLEVEL=1
-goto end
-
-:found_vcvars
-echo vcvars:
-echo %vcvars%
-
-if not %vcvars% == "none" (
-  :: Set this variable to keep VS2017 < 15.5 from changing the current working directory.
-  set "VSCMD_START_DIR=%CD%"
-  call %vcvars%
-)
-
-echo PATH:
-echo %PATH%
-
-:: Remove the first argument and execute the command.
-for /f "tokens=1,* delims= " %%a in ("%*") do set ALL_BUT_FIRST=%%b
-echo command:
-echo %ALL_BUT_FIRST%
-%ALL_BUT_FIRST%
-
-:end
-endlocal & set RC=%ERRORLEVEL%
-goto omega
-
-:returncode
-exit /B %RC%
-
-:omega
-call :returncode %RC%
+@echo off
+:: Copyright (c) 2013 The Chromium Embedded Framework Authors. All rights
+:: reserved. Use of this source code is governed by a BSD-style license
+:: that can be found in the LICENSE file.
+
+:: Set up the environment for use with MSVS tools and then execute whatever
+:: was specified on the command-line.
+
+set RC=
+
+:: Support !! syntax for delayed variable expansion.
+setlocal enabledelayedexpansion
+
+:: Require that platform is passed as the first argument.
+if "%1" == "win32" (
+  set vcvarsbat=vcvars32.bat
+) else if "%1" == "win64" (
+  set vcvarsbat=vcvars64.bat
+) else if "%1" == "winarm64" (
+  set vcvarsbat=vcvarsamd64_arm64.bat
+) else (
+  echo ERROR: Please specify a target platform: win32, win64 or winarm64
+  set ERRORLEVEL=1
+  goto end
+)
+
+:: Check if vcvars is already provided via the environment.
+set vcvars="%CEF_VCVARS%"
+if %vcvars% == "none" goto found_vcvars
+if exist %vcvars% goto found_vcvars
+
+:: Search for the default VS installation path.
+for %%x in ("%PROGRAMFILES(X86)%" "%PROGRAMFILES%") do (
+  for %%y in (2019 2017) do (
+    for %%z in (Professional Enterprise Community BuildTools) do (
+      set vcvars="%%~x\Microsoft Visual Studio\%%y\%%z\VC\Auxiliary\Build\%vcvarsbat%"
+      if exist !vcvars! goto found_vcvars
+    )
+  )
+)
+
+echo ERROR: Failed to find vcvars
+set ERRORLEVEL=1
+goto end
+
+:found_vcvars
+echo vcvars:
+echo %vcvars%
+
+if not %vcvars% == "none" (
+  :: Set this variable to keep VS2017 < 15.5 from changing the current working directory.
+  set "VSCMD_START_DIR=%CD%"
+  call %vcvars%
+)
+
+echo PATH:
+echo %PATH%
+
+:: Remove the first argument and execute the command.
+for /f "tokens=1,* delims= " %%a in ("%*") do set ALL_BUT_FIRST=%%b
+echo command:
+echo %ALL_BUT_FIRST%
+%ALL_BUT_FIRST%
+
+:end
+endlocal & set RC=%ERRORLEVEL%
+goto omega
+
+:returncode
+exit /B %RC%
+
+:omega
+call :returncode %RC%
diff --git a/cef/tools/patch.bat b/cef/tools/patch.bat
index 1f5116ec4a872..ae3616d86e74e 100644
--- a/cef/tools/patch.bat
+++ b/cef/tools/patch.bat
@@ -1,2 +1,2 @@
-@echo off
+@echo off
 python.bat %~dp0\patcher.py
\ No newline at end of file
diff --git a/cef/tools/translator.bat b/cef/tools/translator.bat
index f92c9c17eef25..348700a500e39 100644
--- a/cef/tools/translator.bat
+++ b/cef/tools/translator.bat
@@ -1,3 +1,3 @@
-@echo off
-call python.bat %~dp0\translator.py --root-dir %~dp0\.. %*
+@echo off
+call python.bat %~dp0\translator.py --root-dir %~dp0\.. %*
 pause
\ No newline at end of file
diff --git a/chrome/browser/extensions/BUILD.gn b/chrome/browser/extensions/BUILD.gn
index 37117db7fcf12..21440d4f9495c 100644
--- a/chrome/browser/extensions/BUILD.gn
+++ b/chrome/browser/extensions/BUILD.gn
@@ -792,6 +792,7 @@ static_library("extensions") {
     "//chrome/browser/safe_browsing",
     "//chrome/browser/web_applications",
     "//chrome/browser/web_applications/components",
+    "//components/security_interstitials/content:security_interstitial_page",
     "//components/site_engagement/core/mojom:mojo_bindings",
     "//components/webapps/browser",
 
diff --git a/chrome/browser/extensions/api/debugger/debugger_api.cc b/chrome/browser/extensions/api/debugger/debugger_api.cc
index 429f16cc38f9c..56e2a22db5ec6 100644
--- a/chrome/browser/extensions/api/debugger/debugger_api.cc
+++ b/chrome/browser/extensions/api/debugger/debugger_api.cc
@@ -37,6 +37,7 @@
 #include "chrome/browser/ui/webui/chrome_web_ui_controller_factory.h"
 #include "chrome/common/chrome_switches.h"
 #include "content/public/browser/browser_task_traits.h"
+#include "components/security_interstitials/content/security_interstitial_tab_helper.h"
 #include "content/public/browser/browser_thread.h"
 #include "content/public/browser/devtools_agent_host.h"
 #include "content/public/browser/notification_service.h"
@@ -125,6 +126,14 @@ bool ExtensionMayAttachToWebContents(const Extension& extension,
                                      WebContents& web_contents,
                                      Profile* profile,
                                      std::string* error) {
+  security_interstitials::SecurityInterstitialTabHelper*
+      security_interstitial_tab_helper = security_interstitials::
+          SecurityInterstitialTabHelper::FromWebContents(&web_contents);
+  if (security_interstitial_tab_helper &&
+      security_interstitial_tab_helper->IsDisplayingInterstitial()) {
+    *error = debugger_api_constants::kRestrictedError;
+    return false;
+  }
   // This is *not* redundant to the checks below, as
   // web_contents.GetLastCommittedURL() may be different from
   // web_contents.GetMainFrame()->GetLastCommittedURL(), with the
diff --git a/chrome/browser/extensions/api/debugger/debugger_apitest.cc b/chrome/browser/extensions/api/debugger/debugger_apitest.cc
index 44bcd6b136d20..51a2156d26ed8 100644
--- a/chrome/browser/extensions/api/debugger/debugger_apitest.cc
+++ b/chrome/browser/extensions/api/debugger/debugger_apitest.cc
@@ -24,9 +24,15 @@
 #include "chrome/test/base/ui_test_utils.h"
 #include "components/infobars/core/infobar.h"
 #include "components/infobars/core/infobar_delegate.h"
+#include "components/security_interstitials/content/security_interstitial_controller_client.h"
+#include "components/security_interstitials/content/security_interstitial_page.h"
+#include "components/security_interstitials/content/security_interstitial_tab_helper.h"
+#include "components/security_interstitials/content/settings_page_helper.h"
+#include "components/security_interstitials/core/metrics_helper.h"
 #include "components/sessions/content/session_tab_helper.h"
 #include "content/public/test/browser_test.h"
 #include "content/public/test/browser_test_utils.h"
+#include "content/public/test/mock_navigation_handle.h"
 #include "extensions/browser/extension_function.h"
 #include "extensions/common/extension.h"
 #include "extensions/common/extension_builder.h"
@@ -50,6 +56,9 @@ class DebuggerApiTest : public ExtensionApiTest {
   // to succeed.
   testing::AssertionResult RunAttachFunction(const GURL& url,
                                              const std::string& expected_error);
+  testing::AssertionResult RunAttachFunction(
+      const content::WebContents* web_contents,
+      const std::string& expected_error);
 
   const Extension* extension() const { return extension_.get(); }
   base::CommandLine* command_line() const { return command_line_; }
@@ -97,9 +106,13 @@ void DebuggerApiTest::SetUpOnMainThread() {
 testing::AssertionResult DebuggerApiTest::RunAttachFunction(
     const GURL& url, const std::string& expected_error) {
   ui_test_utils::NavigateToURL(browser(), url);
-  content::WebContents* web_contents =
-      browser()->tab_strip_model()->GetActiveWebContents();
+  return RunAttachFunction(browser()->tab_strip_model()->GetActiveWebContents(),
+                           expected_error);
+}
 
+testing::AssertionResult DebuggerApiTest::RunAttachFunction(
+    const content::WebContents* web_contents,
+    const std::string& expected_error) {
   // Attach by tabId.
   int tab_id = sessions::SessionTabHelper::IdForTab(web_contents).id();
   std::string debugee_by_tab = base::StringPrintf("{\"tabId\": %d}", tab_id);
@@ -209,6 +222,59 @@ IN_PROC_BROWSER_TEST_F(DebuggerApiTest,
   EXPECT_TRUE(RunExtensionTest("debugger_file_access")) << message_;
 }
 
+class TestInterstitialPage
+    : public security_interstitials::SecurityInterstitialPage {
+ public:
+  TestInterstitialPage(content::WebContents* web_contents,
+                       const GURL& request_url)
+      : SecurityInterstitialPage(
+            web_contents,
+            request_url,
+            std::make_unique<
+                security_interstitials::SecurityInterstitialControllerClient>(
+                web_contents,
+                CreateTestMetricsHelper(web_contents),
+                nullptr,
+                base::i18n::GetConfiguredLocale(),
+                GURL(),
+                /* settings_page_helper*/ nullptr)) {}
+
+  ~TestInterstitialPage() override = default;
+  void OnInterstitialClosing() override {}
+
+ protected:
+  void PopulateInterstitialStrings(base::Value* load_time_data) override {}
+
+  std::unique_ptr<security_interstitials::MetricsHelper>
+  CreateTestMetricsHelper(content::WebContents* web_contents) {
+    security_interstitials::MetricsHelper::ReportDetails report_details;
+    report_details.metric_prefix = "test_blocking_page";
+    return std::make_unique<security_interstitials::MetricsHelper>(
+        GURL(), report_details, nullptr);
+  }
+};
+
+IN_PROC_BROWSER_TEST_F(DebuggerApiTest,
+                       DebuggerNotAllowedOnSecirutyInterstitials) {
+  content::WebContents* web_contents =
+      browser()->tab_strip_model()->GetActiveWebContents();
+  std::unique_ptr<content::MockNavigationHandle> navigation_handle =
+      std::make_unique<content::MockNavigationHandle>(
+          GURL("https://google.com/"), web_contents->GetMainFrame());
+  navigation_handle->set_has_committed(true);
+  navigation_handle->set_is_same_document(false);
+  EXPECT_TRUE(RunAttachFunction(web_contents, ""));
+
+  security_interstitials::SecurityInterstitialTabHelper::AssociateBlockingPage(
+      navigation_handle.get(),
+      std::make_unique<TestInterstitialPage>(web_contents, GURL()));
+  security_interstitials::SecurityInterstitialTabHelper::FromWebContents(
+      web_contents)
+      ->DidFinishNavigation(navigation_handle.get());
+
+  EXPECT_TRUE(RunAttachFunction(web_contents, "Cannot attach to this target."));
+}
+
 IN_PROC_BROWSER_TEST_F(DebuggerApiTest, InfoBar) {
   int tab_id = sessions::SessionTabHelper::IdForTab(
                    browser()->tab_strip_model()->GetActiveWebContents())
diff --git a/chrome/browser/safe_browsing/threat_details_unittest.cc b/chrome/browser/safe_browsing/threat_details_unittest.cc
index 5951b48518c2a..1895af7a73987 100644
--- a/chrome/browser/safe_browsing/threat_details_unittest.cc
+++ b/chrome/browser/safe_browsing/threat_details_unittest.cc
@@ -138,6 +138,13 @@ class ThreatDetailsWrap : public ThreatDetails {
     run_loop_ = nullptr;
   }
 
+  void OnRedirectionCollectionReady() override {
+    ThreatDetails::OnRedirectionCollectionReady();
+    if (should_stop_after_redirect_collection_ && run_loop_) {
+      run_loop_->Quit();
+    }
+  }
+
   // Used to synchronize ThreatDetailsDone() with WaitForThreatDetailsDone().
   // RunLoop::RunUntilIdle() is not sufficient because the MessageLoop task
   // queue completely drains at some point between the send and the wait.
@@ -150,10 +157,15 @@ class ThreatDetailsWrap : public ThreatDetails {
 
   void StartCollection() { ThreatDetails::StartCollection(); }
 
+  void SetShouldStopAfterRedirectCollection(bool should_stop) {
+    should_stop_after_redirect_collection_ = should_stop;
+  }
+
  private:
 
   base::RunLoop* run_loop_;
   size_t done_callback_count_;
+  bool should_stop_after_redirect_collection_ = false;
 };
 
 class MockSafeBrowsingUIManager : public SafeBrowsingUIManager {
@@ -589,7 +601,8 @@ TEST_F(ThreatDetailsTest, ThreatDOMDetails) {
   parent_node->children.push_back(GURL(kDOMChildURL));
   params.push_back(std::move(parent_node));
   report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                     main_rfh(), std::move(params));
+                                     main_rfh()->GetGlobalId(),
+                                     std::move(params));
 
   std::string serialized = WaitForThreatDetailsDone(
       report.get(), false /* did_proceed*/, 0 /* num_visit */);
@@ -808,10 +821,11 @@ TEST_F(ThreatDetailsTest, ThreatDOMDetails_MultipleFrames) {
 
     // Send both sets of nodes from different render frames.
     report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                       main_rfh(),
+                                       main_rfh()->GetGlobalId(),
                                        std::move(outer_params_copy));
     report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                       child_rfh, std::move(inner_params_copy));
+                                       child_rfh->GetGlobalId(),
+                                       std::move(inner_params_copy));
 
     std::string serialized = WaitForThreatDetailsDone(
         report.get(), false /* did_proceed*/, 0 /* num_visit */);
@@ -857,9 +871,11 @@ TEST_F(ThreatDetailsTest, ThreatDOMDetails_MultipleFrames) {
 
     // Send both sets of nodes from different render frames.
     report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                       child_rfh, std::move(inner_params));
+                                       child_rfh->GetGlobalId(),
+                                       std::move(inner_params));
     report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                       main_rfh(), std::move(outer_params));
+                                       main_rfh()->GetGlobalId(),
+                                       std::move(outer_params));
 
     std::string serialized = WaitForThreatDetailsDone(
         report.get(), false /* did_proceed*/, 0 /* num_visit */);
@@ -983,9 +999,11 @@ TEST_F(ThreatDetailsTest, ThreatDOMDetails_AmbiguousDOM) {
 
   // Send both sets of nodes from different render frames.
   report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                     main_rfh(), std::move(outer_params));
+                                     main_rfh()->GetGlobalId(),
+                                     std::move(outer_params));
   report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                     child_rfh, std::move(inner_params));
+                                     child_rfh->GetGlobalId(),
+                                     std::move(inner_params));
   std::string serialized = WaitForThreatDetailsDone(
       report.get(), false /* did_proceed*/, 0 /* num_visit */);
   ClientSafeBrowsingReportRequest actual;
@@ -1250,10 +1268,10 @@ TEST_F(ThreatDetailsTest, ThreatDOMDetails_TrimToAdTags) {
 
   // Send both sets of nodes from different render frames.
   trimmed_report->OnReceivedThreatDOMDetails(
-      mojo::Remote<mojom::ThreatReporter>(), child_rfh,
+      mojo::Remote<mojom::ThreatReporter>(), child_rfh->GetGlobalId(),
       std::move(inner_params));
   trimmed_report->OnReceivedThreatDOMDetails(
-      mojo::Remote<mojom::ThreatReporter>(), main_rfh(),
+      mojo::Remote<mojom::ThreatReporter>(), main_rfh()->GetGlobalId(),
       std::move(outer_params));
 
   std::string serialized = WaitForThreatDetailsDone(
@@ -1326,10 +1344,10 @@ TEST_F(ThreatDetailsTest, ThreatDOMDetails_EmptyReportNotSent) {
 
   // Send both sets of nodes from different render frames.
   trimmed_report->OnReceivedThreatDOMDetails(
-      mojo::Remote<mojom::ThreatReporter>(), child_rfh,
+      mojo::Remote<mojom::ThreatReporter>(), child_rfh->GetGlobalId(),
       std::move(inner_params));
   trimmed_report->OnReceivedThreatDOMDetails(
-      mojo::Remote<mojom::ThreatReporter>(), main_rfh(),
+      mojo::Remote<mojom::ThreatReporter>(), main_rfh()->GetGlobalId(),
       std::move(outer_params));
 
   std::string serialized = WaitForThreatDetailsDone(
@@ -1587,7 +1605,8 @@ TEST_F(ThreatDetailsTest, HTTPCache) {
   // The cache collection starts after the IPC from the DOM is fired.
   std::vector<mojom::ThreatDOMDetailsNodePtr> params;
   report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                     main_rfh(), std::move(params));
+                                     main_rfh()->GetGlobalId(),
+                                     std::move(params));
 
   // Let the cache callbacks complete.
   base::RunLoop().RunUntilIdle();
@@ -1667,7 +1686,8 @@ TEST_F(ThreatDetailsTest, HttpsResourceSanitization) {
   // The cache collection starts after the IPC from the DOM is fired.
   std::vector<mojom::ThreatDOMDetailsNodePtr> params;
   report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                     main_rfh(), std::move(params));
+                                     main_rfh()->GetGlobalId(),
+                                     std::move(params));
 
   // Let the cache callbacks complete.
   base::RunLoop().RunUntilIdle();
@@ -1750,7 +1770,8 @@ TEST_F(ThreatDetailsTest, HTTPCacheNoEntries) {
   // The cache collection starts after the IPC from the DOM is fired.
   std::vector<mojom::ThreatDOMDetailsNodePtr> params;
   report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                     main_rfh(), std::move(params));
+                                     main_rfh()->GetGlobalId(),
+                                     std::move(params));
 
   // Let the cache callbacks complete.
   base::RunLoop().RunUntilIdle();
@@ -1809,7 +1830,8 @@ TEST_F(ThreatDetailsTest, HistoryServiceUrls) {
   // The redirects collection starts after the IPC from the DOM is fired.
   std::vector<mojom::ThreatDOMDetailsNodePtr> params;
   report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
-                                     main_rfh(), std::move(params));
+                                     main_rfh()->GetGlobalId(),
+                                     std::move(params));
 
   // Let the redirects callbacks complete.
   base::RunLoop().RunUntilIdle();
@@ -1848,4 +1870,45 @@ TEST_F(ThreatDetailsTest, HistoryServiceUrls) {
   VerifyResults(actual, expected);
 }
 
+TEST_F(ThreatDetailsTest, CanCancelDuringCollection) {
+  content::WebContentsTester::For(web_contents())
+      ->NavigateAndCommit(GURL(kLandingURL));
+
+  UnsafeResource resource;
+  InitResource(SB_THREAT_TYPE_URL_CLIENT_SIDE_PHISHING,
+               ThreatSource::CLIENT_SIDE_DETECTION, true /* is_subresource */,
+               GURL(kThreatURL), &resource);
+
+  auto report = std::make_unique<ThreatDetailsWrap>(
+      ui_manager_.get(), web_contents(), resource, test_shared_loader_factory_,
+      history_service(), user_population_callback(),
+      referrer_chain_provider_.get());
+  report->StartCollection();
+
+  SimulateFillCache(kThreatURL);
+
+  // The cache collection starts after the IPC from the DOM is fired.
+  std::vector<mojom::ThreatDOMDetailsNodePtr> params;
+  report->OnReceivedThreatDOMDetails(mojo::Remote<mojom::ThreatReporter>(),
+                                     main_rfh()->GetGlobalId(),
+                                     std::move(params));
+
+  // Let the cache callbacks complete.
+  base::RunLoop().RunUntilIdle();
+
+  // Let the cache collection start
+  {
+    base::RunLoop run_loop;
+    report->SetShouldStopAfterRedirectCollection(true);
+    report->SetRunLoopToQuit(&run_loop);
+    report->FinishCollection(/*did_proceed=*/true, /*num_visits=*/-1);
+    run_loop.Run();
+  }
+
+  // Cancel the collection
+  report.reset();
+
+  base::RunLoop().RunUntilIdle();
+}
+
 }  // namespace safe_browsing
diff --git a/chrome/browser/site_isolation/chrome_site_per_process_browsertest.cc b/chrome/browser/site_isolation/chrome_site_per_process_browsertest.cc
index d2a347bd99c27..2272b7cc9cef4 100644
--- a/chrome/browser/site_isolation/chrome_site_per_process_browsertest.cc
+++ b/chrome/browser/site_isolation/chrome_site_per_process_browsertest.cc
@@ -1541,4 +1541,50 @@ IN_PROC_BROWSER_TEST_F(ChromeSitePerProcessTest, TestInitialDSFForOOPIF) {
   // screen, then it will satisfy the following expectation.
   EXPECT_EQ(1.f, observer.get_proxy_host_dsf(0));
 }
+
+// Test that opening a window with `noopener` consumes user activation.
+// crbug.com/1264543, crbug.com/1291210
+IN_PROC_BROWSER_TEST_F(ChromeSitePerProcessTest,
+                       UserActivationConsumptionNoopener) {
+  // Start on a page a.com.
+  GURL main_url(embedded_test_server()->GetURL(
+      "a.com", "/cross_site_iframe_factory.html?a"));
+  ASSERT_TRUE(ui_test_utils::NavigateToURL(browser(), main_url));
+  content::WebContents* web_contents =
+      browser()->tab_strip_model()->GetActiveWebContents();
+
+  // Activate the frame by executing a dummy script.
+  const std::string no_op_script = "// No-op script";
+  EXPECT_TRUE(ExecuteScript(web_contents, no_op_script));
+
+  // Add a popup observer.
+  content::TestNavigationObserver popup_observer(nullptr);
+  popup_observer.StartWatchingNewWebContents();
+
+  // Open a popup from the frame, with `noopener`. This should consume
+  // transient user activation.
+  GURL popup_url(embedded_test_server()->GetURL("popup.com", "/"));
+  EXPECT_TRUE(ExecuteScriptWithoutUserGesture(
+      web_contents,
+      base::StringPrintf(
+          "window.w = window.open('%s'+'title1.html', '_blank', 'noopener');",
+          popup_url.spec().c_str())));
+
+  // Try to open another popup.
+  EXPECT_TRUE(ExecuteScriptWithoutUserGesture(
+      web_contents,
+      base::StringPrintf(
+          "window.w = window.open('%s'+'title2.html', '_blank', 'noopener');",
+          popup_url.spec().c_str())));
+
+  // Wait and check that only one popup was opened.
+  popup_observer.Wait();
+  EXPECT_EQ(2, browser()->tab_strip_model()->count());
+
+  content::WebContents* popup =
+      browser()->tab_strip_model()->GetActiveWebContents();
+  EXPECT_EQ(embedded_test_server()->GetURL("popup.com", "/title1.html"),
+            popup->GetLastCommittedURL());
+  EXPECT_NE(popup, web_contents);
+}
 #endif
diff --git a/chrome/browser/ui/toolbar/media_router_action_controller.cc b/chrome/browser/ui/toolbar/media_router_action_controller.cc
index 9c506973a92aa..b3a1b91dc90bd 100644
--- a/chrome/browser/ui/toolbar/media_router_action_controller.cc
+++ b/chrome/browser/ui/toolbar/media_router_action_controller.cc
@@ -21,9 +21,7 @@ MediaRouterActionController::MediaRouterActionController(Profile* profile)
           profile,
           media_router::MediaRouterFactory::GetApiForBrowserContext(profile)) {}
 
-MediaRouterActionController::~MediaRouterActionController() {
-  DCHECK_EQ(dialog_count_, 0u);
-}
+MediaRouterActionController::~MediaRouterActionController() = default;
 
 // static
 bool MediaRouterActionController::IsActionShownByPolicy(Profile* profile) {
diff --git a/chrome/browser/ui/views/media_router/media_router_dialog_controller_views.cc b/chrome/browser/ui/views/media_router/media_router_dialog_controller_views.cc
index b64eaf262f901..cc8556fd6a778 100644
--- a/chrome/browser/ui/views/media_router/media_router_dialog_controller_views.cc
+++ b/chrome/browser/ui/views/media_router/media_router_dialog_controller_views.cc
@@ -124,14 +124,15 @@ bool MediaRouterDialogControllerViews::IsShowingMediaRouterDialog() const {
 void MediaRouterDialogControllerViews::Reset() {
   // If |ui_| is null, Reset() has already been called.
   if (ui_) {
-    if (IsShowingMediaRouterDialog() && GetActionController())
+    if (GetActionController())
       GetActionController()->OnDialogHidden();
     ui_.reset();
     MediaRouterDialogController::Reset();
   }
 }
 
-void MediaRouterDialogControllerViews::OnWidgetClosing(views::Widget* widget) {
+void MediaRouterDialogControllerViews::OnWidgetDestroying(
+    views::Widget* widget) {
   DCHECK(scoped_widget_observations_.IsObservingSource(widget));
   if (ui_)
     ui_->LogMediaSinkStatus();
diff --git a/chrome/browser/ui/views/media_router/media_router_dialog_controller_views.h b/chrome/browser/ui/views/media_router/media_router_dialog_controller_views.h
index 40f19f2894428..bf438f4833502 100644
--- a/chrome/browser/ui/views/media_router/media_router_dialog_controller_views.h
+++ b/chrome/browser/ui/views/media_router/media_router_dialog_controller_views.h
@@ -40,7 +40,7 @@ class MediaRouterDialogControllerViews
   void Reset() override;
 
   // views::WidgetObserver:
-  void OnWidgetClosing(views::Widget* widget) override;
+  void OnWidgetDestroying(views::Widget* widget) override;
 
   // Sets a callback to be called whenever a dialog is created.
   void SetDialogCreationCallbackForTesting(base::RepeatingClosure callback);
diff --git a/chrome/browser/ui/views/media_router/media_router_dialog_controller_views_browsertest.cc b/chrome/browser/ui/views/media_router/media_router_dialog_controller_views_browsertest.cc
index a8fee9a09696d..b20537794e64c 100644
--- a/chrome/browser/ui/views/media_router/media_router_dialog_controller_views_browsertest.cc
+++ b/chrome/browser/ui/views/media_router/media_router_dialog_controller_views_browsertest.cc
@@ -7,6 +7,7 @@
 #include "chrome/browser/ui/browser.h"
 #include "chrome/browser/ui/browser_commands.h"
 #include "chrome/browser/ui/tabs/tab_strip_model.h"
+#include "chrome/browser/ui/views/global_media_controls/media_dialog_view.h"
 #include "chrome/browser/ui/views/media_router/cast_dialog_view.h"
 #include "chrome/browser/ui/views/media_router/media_router_dialog_controller_views.h"
 #include "chrome/test/base/in_process_browser_test.h"
@@ -14,6 +15,8 @@
 #include "content/public/test/browser_test.h"
 #include "testing/gtest/include/gtest/gtest.h"
 #include "ui/base/page_transition_types.h"
+#include "ui/views/test/widget_test.h"
+#include "ui/views/widget/native_widget_private.h"
 #include "ui/views/widget/widget.h"
 
 using content::WebContents;
@@ -26,6 +29,7 @@ class MediaRouterDialogControllerViewsTest : public InProcessBrowserTest {
   ~MediaRouterDialogControllerViewsTest() override = default;
 
   void OpenMediaRouterDialog();
+  void CloseWebContents();
 
  protected:
   WebContents* initiator_;
@@ -51,6 +55,10 @@ void MediaRouterDialogControllerViewsTest::OpenMediaRouterDialog() {
   ASSERT_TRUE(dialog_controller_->IsShowingMediaRouterDialog());
 }
 
+void MediaRouterDialogControllerViewsTest::CloseWebContents() {
+  initiator_->Close();
+}
+
 // Create/Get a media router dialog for initiator.
 IN_PROC_BROWSER_TEST_F(MediaRouterDialogControllerViewsTest,
                        OpenCloseMediaRouterDialog) {
@@ -63,4 +71,22 @@ IN_PROC_BROWSER_TEST_F(MediaRouterDialogControllerViewsTest,
   EXPECT_EQ(CastDialogView::GetCurrentDialogWidget(), nullptr);
 }
 
+// Regression test for crbug.com/1308341.
+IN_PROC_BROWSER_TEST_F(MediaRouterDialogControllerViewsTest,
+                       MediaBubbleClosedByPlatform) {
+  OpenMediaRouterDialog();
+  base::RunLoop().RunUntilIdle();
+  views::Widget* widget = CastDialogView::GetCurrentDialogWidget();
+  ASSERT_TRUE(widget);
+  EXPECT_TRUE(widget->HasObserver(dialog_controller_));
+  // The media bubble usually will close itself on deactivation, but
+  // crbug.com/1308341 shows a state where the browser is not responsive
+  // to activation change. Simulate that.
+  CastDialogView::GetInstance()->set_close_on_deactivate(false);
+  views::test::WidgetDestroyedWaiter waiter(widget);
+  widget->native_widget_private()->Close();
+  waiter.Wait();
+  CloseWebContents();
+}
+
 }  // namespace media_router
diff --git a/chrome/browser/ui/views/media_router/media_router_ui_browsertest.cc b/chrome/browser/ui/views/media_router/media_router_ui_browsertest.cc
index 190cbc6ec350d..ef254708fb390 100644
--- a/chrome/browser/ui/views/media_router/media_router_ui_browsertest.cc
+++ b/chrome/browser/ui/views/media_router/media_router_ui_browsertest.cc
@@ -18,6 +18,7 @@
 #include "chrome/browser/ui/toolbar/media_router_action_controller.h"
 #include "chrome/browser/ui/views/frame/browser_view.h"
 #include "chrome/browser/ui/views/media_router/app_menu_test_api.h"
+#include "chrome/browser/ui/views/media_router/cast_dialog_view.h"
 #include "chrome/browser/ui/views/media_router/cast_toolbar_button.h"
 #include "chrome/browser/ui/views/toolbar/toolbar_view.h"
 #include "chrome/common/url_constants.h"
@@ -33,6 +34,7 @@
 #include "content/public/test/test_utils.h"
 #include "ui/base/ui_base_features.h"
 #include "ui/events/base_event_utils.h"
+#include "ui/views/test/widget_test.h"
 #include "ui/views/widget/widget.h"
 
 namespace media_router {
@@ -116,7 +118,10 @@ IN_PROC_BROWSER_TEST_F(MediaRouterUIBrowserTest, OpenDialogFromContextMenu) {
   menu.ExecuteCommand(IDC_ROUTE_MEDIA, 0);
   EXPECT_TRUE(dialog_controller->IsShowingMediaRouterDialog());
 
+  views::test::WidgetDestroyedWaiter waiter(
+      CastDialogView::GetCurrentDialogWidget());
   dialog_controller->HideMediaRouterDialog();
+  waiter.Wait();
   EXPECT_FALSE(dialog_controller->IsShowingMediaRouterDialog());
 }
 
@@ -133,8 +138,11 @@ IN_PROC_BROWSER_TEST_F(MediaRouterUIBrowserTest, OpenDialogFromAppMenu) {
   app_menu_test_api->ExecuteCommand(IDC_ROUTE_MEDIA);
   EXPECT_TRUE(dialog_controller->IsShowingMediaRouterDialog());
 
+  views::test::WidgetDestroyedWaiter waiter(
+      CastDialogView::GetCurrentDialogWidget());
   dialog_controller->HideMediaRouterDialog();
   EXPECT_FALSE(dialog_controller->IsShowingMediaRouterDialog());
+  waiter.Wait();
 }
 
 // TODO(crbug.com/1004635) Disabled due to flake on Windows and Linux
@@ -156,8 +164,12 @@ IN_PROC_BROWSER_TEST_F(MediaRouterUIBrowserTest,
 
   dialog_controller->ShowMediaRouterDialog(MediaRouterDialogOpenOrigin::PAGE);
   EXPECT_TRUE(ToolbarIconExists());
+
+  views::test::WidgetDestroyedWaiter waiter(
+      CastDialogView::GetCurrentDialogWidget());
   // Clicking on the toolbar icon should hide both the dialog and the icon.
   PressToolbarIcon();
+  waiter.Wait();
   EXPECT_FALSE(dialog_controller->IsShowingMediaRouterDialog());
   EXPECT_FALSE(ToolbarIconExists());
 
@@ -254,21 +266,32 @@ IN_PROC_BROWSER_TEST_F(MediaRouterUIBrowserTest,
   EXPECT_TRUE(dialog_controller->IsShowingMediaRouterDialog());
 
   // Reload the browser and wait.
-  content::TestNavigationObserver reload_observer(
-      browser()->tab_strip_model()->GetActiveWebContents());
-  chrome::Reload(browser(), WindowOpenDisposition::CURRENT_TAB);
-  reload_observer.Wait();
+   {
+    views::test::WidgetDestroyedWaiter waiter(
+        CastDialogView::GetCurrentDialogWidget());
+    content::TestNavigationObserver reload_observer(
+        browser()->tab_strip_model()->GetActiveWebContents());
+    chrome::Reload(browser(), WindowOpenDisposition::CURRENT_TAB);
+    reload_observer.Wait();
+
+    waiter.Wait();
+    // The reload should have closed the dialog.
+    EXPECT_FALSE(dialog_controller->IsShowingMediaRouterDialog());
+  }
 
-  // The reload should have closed the dialog.
-  EXPECT_FALSE(dialog_controller->IsShowingMediaRouterDialog());
   PressToolbarIcon();
   EXPECT_TRUE(dialog_controller->IsShowingMediaRouterDialog());
 
-  // Navigate away.
-  ui_test_utils::NavigateToURL(browser(), GURL("about:blank"));
+   {
+    views::test::WidgetDestroyedWaiter waiter(
+        CastDialogView::GetCurrentDialogWidget());
+    // Navigate away.
+    ASSERT_TRUE(ui_test_utils::NavigateToURL(browser(), GURL("about:blank")));
 
-  // The navigation should have closed the dialog.
-  EXPECT_FALSE(dialog_controller->IsShowingMediaRouterDialog());
+    // The navigation should have closed the dialog.
+    waiter.Wait();
+    EXPECT_FALSE(dialog_controller->IsShowingMediaRouterDialog());
+  }
   SetAlwaysShowActionPref(false);
 }
 
diff --git a/chrome/browser/ui/views/omnibox/omnibox_view_views.cc b/chrome/browser/ui/views/omnibox/omnibox_view_views.cc
index 756cb0a9ccca4..406ea5c8f0783 100644
--- a/chrome/browser/ui/views/omnibox/omnibox_view_views.cc
+++ b/chrome/browser/ui/views/omnibox/omnibox_view_views.cc
@@ -470,6 +470,13 @@ void OmniboxViewViews::SaveStateToTab(content::WebContents* tab) {
 }
 
 void OmniboxViewViews::OnTabChanged(content::WebContents* web_contents) {
+  // The context menu holds references to share_submenu_model_ and
+  // send_tab_to_self_sub_menu_model_; invalidate it here so we can destroy
+  // those below.
+  InvalidateContextMenu();
+
+  // These have a reference to the WebContents, which might be being destroyed
+  // here:
   const OmniboxState* state = static_cast<OmniboxState*>(
       web_contents->GetUserData(&OmniboxState::kKey));
   model()->RestoreState(state ? &state->model_state : nullptr);
diff --git a/chrome/browser/ui/views/web_apps/web_app_uninstall_dialog_browsertest.cc b/chrome/browser/ui/views/web_apps/web_app_uninstall_dialog_browsertest.cc
index 9cfdcd25f64fd..8a336cd03fbbe 100644
--- a/chrome/browser/ui/views/web_apps/web_app_uninstall_dialog_browsertest.cc
+++ b/chrome/browser/ui/views/web_apps/web_app_uninstall_dialog_browsertest.cc
@@ -23,10 +23,13 @@
 #include "chrome/browser/web_applications/components/web_application_info.h"
 #include "chrome/browser/web_applications/test/web_app_icon_test_utils.h"
 #include "chrome/test/base/in_process_browser_test.h"
+#include "components/keep_alive_registry/keep_alive_types.h"
+#include "components/keep_alive_registry/scoped_keep_alive.h"
 #include "content/public/test/browser_test.h"
 #include "content/public/test/browser_test_utils.h"
 #include "content/public/test/test_utils.h"
 #include "extensions/browser/extension_dialog_auto_confirm.h"
+#include "ui/gfx/native_widget_types.h"
 
 using web_app::AppId;
 
@@ -134,6 +137,47 @@ IN_PROC_BROWSER_TEST_F(WebAppUninstallDialogViewBrowserTest,
   EXPECT_TRUE(was_uninstalled);
 }
 
+#if BUILDFLAG(IS_MAC)
+// https://crbug.com/1224161
+#define MAYBE_UninstallOnCancelShutdownBrowser \
+  DISABLED_UninstallOnCancelShutdownBrowser
+#else
+#define MAYBE_UninstallOnCancelShutdownBrowser UninstallOnCancelShutdownBrowser
+#endif
+IN_PROC_BROWSER_TEST_F(WebAppUninstallDialogViewBrowserTest,
+                       MAYBE_UninstallOnCancelShutdownBrowser) {
+  extensions::ScopedTestDialogAutoConfirm auto_confirm(
+      extensions::ScopedTestDialogAutoConfirm::CANCEL);
+  AppId app_id = InstallTestWebApp(browser()->profile());
+
+  std::unique_ptr<web_app::WebAppUninstallDialog> dialog(
+      web_app::WebAppUninstallDialog::Create(browser()->profile(),
+                                             gfx::kNullNativeWindow));
+
+  base::RunLoop().RunUntilIdle();
+
+  base::RunLoop run_loop;
+  bool was_uninstalled = true;
+  // ScopedKeepAlive is used by `UninstallWebAppWithDialogFromStartupSwitch`.
+  // ScopedKeepAlive's destruction triggers browser shutdown when there is no
+  // open window. This verifies the destruction doesn't race with the dialog
+  // shutdown itself.
+  std::unique_ptr<ScopedKeepAlive> scoped_keep_alive =
+      std::make_unique<ScopedKeepAlive>(KeepAliveOrigin::WEB_APP_UNINSTALL,
+                                        KeepAliveRestartOption::DISABLED);
+
+  chrome::CloseWindow(browser());
+
+  dialog->ConfirmUninstall(app_id, webapps::WebappUninstallSource::kAppMenu,
+                           base::BindLambdaForTesting([&](bool uninstalled) {
+                             was_uninstalled = uninstalled;
+                             scoped_keep_alive.reset();
+                             run_loop.Quit();
+                           }));
+  run_loop.Run();
+  EXPECT_FALSE(was_uninstalled);
+}
+
 IN_PROC_BROWSER_TEST_F(WebAppUninstallDialogViewBrowserTest,
                        TestDialogUserFlow_Cancel) {
   extensions::ScopedTestDialogAutoConfirm auto_confirm(
diff --git a/chrome/browser/ui/views/web_apps/web_app_uninstall_dialog_view.cc b/chrome/browser/ui/views/web_apps/web_app_uninstall_dialog_view.cc
index 67ef38f9478ea..3cd064cdab731 100644
--- a/chrome/browser/ui/views/web_apps/web_app_uninstall_dialog_view.cc
+++ b/chrome/browser/ui/views/web_apps/web_app_uninstall_dialog_view.cc
@@ -141,9 +141,7 @@ void WebAppUninstallDialogDelegateView::OnDialogAccepted() {
 void WebAppUninstallDialogDelegateView::OnDialogCanceled() {
   UMA_HISTOGRAM_ENUMERATION("Webapp.UninstallDialogAction",
                             HistogramCloseAction::kCancelled);
-
-  if (dialog_)
-    std::exchange(dialog_, nullptr)->UninstallCancelled();
+  // `dialog_->UninstallCancelled()` is handled in the destructor.
 }
 
 gfx::ImageSkia WebAppUninstallDialogDelegateView::GetWindowIcon() {
diff --git a/chromecast/graphics/accessibility/fullscreen_magnification_controller.cc b/chromecast/graphics/accessibility/fullscreen_magnification_controller.cc
index 1412290bed774..baed03da3b8f3 100644
--- a/chromecast/graphics/accessibility/fullscreen_magnification_controller.cc
+++ b/chromecast/graphics/accessibility/fullscreen_magnification_controller.cc
@@ -101,7 +101,10 @@ FullscreenMagnificationController::FullscreenMagnificationController(
       this, gesture_provider_client_.get());
 }
 
-FullscreenMagnificationController::~FullscreenMagnificationController() {}
+FullscreenMagnificationController::~FullscreenMagnificationController() {
+  // Destroy `gesture_provider_` before `gesture_provider_client_`.
+  gesture_provider_.reset();
+}
 
 void FullscreenMagnificationController::SetEnabled(bool enabled) {
   if (is_enabled_ == enabled)
diff --git a/components/safe_browsing/content/browser/threat_details.cc b/components/safe_browsing/content/browser/threat_details.cc
index 538fe2ba473cb..4332ec72e04f5 100644
--- a/components/safe_browsing/content/browser/threat_details.cc
+++ b/components/safe_browsing/content/browser/threat_details.cc
@@ -386,11 +386,11 @@ ThreatDetails::ThreatDetails(
       did_proceed_(false),
       num_visits_(0),
       trim_to_ad_tags_(trim_to_ad_tags),
-      cache_collector_(new ThreatDetailsCacheCollector),
+      cache_collector_(std::make_unique<ThreatDetailsCacheCollector>()),
       done_callback_(std::move(done_callback)),
       all_done_expected_(false),
       is_all_done_(false) {
-  redirects_collector_ = new ThreatDetailsRedirectsCollector(
+  redirects_collector_ = std::make_unique<ThreatDetailsRedirectsCollector>(
       history_service ? history_service->AsWeakPtr()
                       : base::WeakPtr<history::HistoryService>());
 }
@@ -405,9 +405,7 @@ ThreatDetails::ThreatDetails()
       all_done_expected_(false),
       is_all_done_(false) {}
 
-ThreatDetails::~ThreatDetails() {
-  DCHECK_EQ(all_done_expected_, is_all_done_);
-}
+ThreatDetails::~ThreatDetails() = default;
 
 bool ThreatDetails::IsReportableUrl(const GURL& url) const {
   // TODO(panayiotis): also skip internal urls.
@@ -656,16 +654,20 @@ void ThreatDetails::RequestThreatDOMDetails(content::RenderFrameHost* frame) {
   pending_render_frame_hosts_.push_back(frame);
   raw_threat_report->GetThreatDOMDetails(
       base::BindOnce(&ThreatDetails::OnReceivedThreatDOMDetails, GetWeakPtr(),
-                     std::move(threat_reporter), frame));
+                     std::move(threat_reporter), frame->GetGlobalFrameRoutingId()));
 }
 
 // When the renderer is done, this is called.
 void ThreatDetails::OnReceivedThreatDOMDetails(
     mojo::Remote<mojom::ThreatReporter> threat_reporter,
-    content::RenderFrameHost* sender,
+    content::GlobalFrameRoutingId sender_id,
     std::vector<mojom::ThreatDOMDetailsNodePtr> params) {
   // If the RenderFrameHost was closed between sending the IPC and this callback
   // running, |sender| will be invalid.
+  auto* sender = content::RenderFrameHost::FromID(sender_id);
+  if (!sender) {
+    return;
+  }
   const auto sender_it = std::find(pending_render_frame_hosts_.begin(),
                                    pending_render_frame_hosts_.end(), sender);
   if (sender_it == pending_render_frame_hosts_.end()) {
diff --git a/components/safe_browsing/content/browser/threat_details.h b/components/safe_browsing/content/browser/threat_details.h
index 6e7edc9a4fde2..58ebb1bba5e95 100644
--- a/components/safe_browsing/content/browser/threat_details.h
+++ b/components/safe_browsing/content/browser/threat_details.h
@@ -24,6 +24,7 @@
 #include "components/safe_browsing/core/proto/csd.pb.h"
 #include "components/security_interstitials/core/unsafe_resource.h"
 #include "content/public/browser/browser_thread.h"
+#include "content/public/browser/global_routing_id.h"
 #include "content/public/browser/web_contents_observer.h"
 #include "mojo/public/cpp/bindings/remote.h"
 
@@ -103,7 +104,8 @@ class ThreatDetails : public content::WebContentsObserver {
 
   void OnCacheCollectionReady();
 
-  void OnRedirectionCollectionReady();
+  // Overridden during tests
+  virtual void OnRedirectionCollectionReady();
 
   // WebContentsObserver implementation:
   void FrameDeleted(content::RenderFrameHost* render_frame_host) override;
@@ -169,7 +171,7 @@ class ThreatDetails : public content::WebContentsObserver {
 
   void OnReceivedThreatDOMDetails(
       mojo::Remote<mojom::ThreatReporter> threat_reporter,
-      content::RenderFrameHost* sender,
+      content::GlobalFrameRoutingId sender_id,
       std::vector<mojom::ThreatDOMDetailsNodePtr> params);
 
   void AddRedirectUrlList(const std::vector<GURL>& urls);
@@ -252,10 +254,10 @@ class ThreatDetails : public content::WebContentsObserver {
   static ThreatDetailsFactory* factory_;
 
   // Used to collect details from the HTTP Cache.
-  scoped_refptr<ThreatDetailsCacheCollector> cache_collector_;
+  std::unique_ptr<ThreatDetailsCacheCollector> cache_collector_;
 
   // Used to collect redirect urls from the history service
-  scoped_refptr<ThreatDetailsRedirectsCollector> redirects_collector_;
+  std::unique_ptr<ThreatDetailsRedirectsCollector> redirects_collector_;
 
   // Callback to run when the report is finished.
   ThreatDetailsDoneCallback done_callback_;
@@ -284,6 +286,7 @@ class ThreatDetails : public content::WebContentsObserver {
   FRIEND_TEST_ALL_PREFIXES(ThreatDetailsTest, ThreatDOMDetails_MultipleFrames);
   FRIEND_TEST_ALL_PREFIXES(ThreatDetailsTest, ThreatDOMDetails_TrimToAdTags);
   FRIEND_TEST_ALL_PREFIXES(ThreatDetailsTest, ThreatDOMDetails);
+  FRIEND_TEST_ALL_PREFIXES(ThreatDetailsTest, CanCancelDuringCollection);
 
   DISALLOW_COPY_AND_ASSIGN(ThreatDetails);
 };
diff --git a/components/safe_browsing/content/browser/threat_details_cache.cc b/components/safe_browsing/content/browser/threat_details_cache.cc
index 70c5ee9278ca5..0d9f1fea41c67 100644
--- a/components/safe_browsing/content/browser/threat_details_cache.cc
+++ b/components/safe_browsing/content/browser/threat_details_cache.cc
@@ -52,7 +52,8 @@ void ThreatDetailsCacheCollector::StartCacheCollection(
   // Post a task in the message loop, so the callers don't need to
   // check if we call their callback immediately.
   content::GetUIThreadTaskRunner({})->PostTask(
-      FROM_HERE, base::BindOnce(&ThreatDetailsCacheCollector::OpenEntry, this));
+      FROM_HERE, base::BindOnce(&ThreatDetailsCacheCollector::OpenEntry,
+                                weak_factory_.GetWeakPtr()));
 }
 
 bool ThreatDetailsCacheCollector::HasStarted() {
@@ -118,6 +119,7 @@ void ThreatDetailsCacheCollector::OpenEntry() {
   current_load_->DownloadToStringOfUnboundedSizeUntilCrashAndDie(
       url_loader_factory_.get(),
       base::BindOnce(&ThreatDetailsCacheCollector::OnURLLoaderComplete,
+                     // This is safe because `current_load_` is owned by `this`.
                      base::Unretained(this)));
 }
 
@@ -227,7 +229,8 @@ void ThreatDetailsCacheCollector::AdvanceEntry() {
 
   // Create a task so we don't take over the UI thread for too long.
   content::GetUIThreadTaskRunner({})->PostTask(
-      FROM_HERE, base::BindOnce(&ThreatDetailsCacheCollector::OpenEntry, this));
+      FROM_HERE, base::BindOnce(&ThreatDetailsCacheCollector::OpenEntry,
+                                weak_factory_.GetWeakPtr()));
 }
 
 void ThreatDetailsCacheCollector::AllDone(bool success) {
diff --git a/components/safe_browsing/content/browser/threat_details_cache.h b/components/safe_browsing/content/browser/threat_details_cache.h
index 834269078f72b..a94bc971c4642 100644
--- a/components/safe_browsing/content/browser/threat_details_cache.h
+++ b/components/safe_browsing/content/browser/threat_details_cache.h
@@ -31,10 +31,10 @@ typedef std::unordered_map<
     std::unique_ptr<ClientSafeBrowsingReportRequest::Resource>>
     ResourceMap;
 
-class ThreatDetailsCacheCollector
-    : public base::RefCounted<ThreatDetailsCacheCollector> {
+class ThreatDetailsCacheCollector {
  public:
   ThreatDetailsCacheCollector();
+  ~ThreatDetailsCacheCollector();
 
   // We use |request_context_getter|, we modify |resources| and
   // |result|, and we call |callback|, so they must all remain alive
@@ -55,8 +55,6 @@ class ThreatDetailsCacheCollector
  private:
   friend class base::RefCounted<ThreatDetailsCacheCollector>;
 
-  ~ThreatDetailsCacheCollector();
-
   // Points to the url for which we are fetching the HTTP cache entry or
   // redirect chain.
   ResourceMap::iterator resources_it_;
@@ -80,6 +78,8 @@ class ThreatDetailsCacheCollector
   // The current SimpleURLLoader.
   std::unique_ptr<network::SimpleURLLoader> current_load_;
 
+  base::WeakPtrFactory<ThreatDetailsCacheCollector> weak_factory_{this};
+
   // Returns the resource from resources_ that corresponds to |url|
   ClientSafeBrowsingReportRequest::Resource* GetResource(const GURL& url);
 
diff --git a/components/safe_browsing/content/browser/threat_details_history.cc b/components/safe_browsing/content/browser/threat_details_history.cc
index 3a36327a341c8..c71d1555f0c21 100644
--- a/components/safe_browsing/content/browser/threat_details_history.cc
+++ b/components/safe_browsing/content/browser/threat_details_history.cc
@@ -42,8 +42,8 @@ void ThreatDetailsRedirectsCollector::StartHistoryCollection(
 
   content::GetUIThreadTaskRunner({})->PostTask(
       FROM_HERE,
-      base::BindOnce(&ThreatDetailsRedirectsCollector::StartGetRedirects, this,
-                     urls));
+      base::BindOnce(&ThreatDetailsRedirectsCollector::StartGetRedirects,
+                     weak_factory_.GetWeakPtr(), urls));
 }
 
 bool ThreatDetailsRedirectsCollector::HasStarted() const {
@@ -79,7 +79,7 @@ void ThreatDetailsRedirectsCollector::GetRedirects(const GURL& url) {
   history_service_->QueryRedirectsTo(
       url,
       base::BindOnce(&ThreatDetailsRedirectsCollector::OnGotQueryRedirectsTo,
-                     base::Unretained(this), url),
+                     weak_factory_.GetWeakPtr(), url),
       &request_tracker_);
 }
 
diff --git a/components/safe_browsing/content/browser/threat_details_history.h b/components/safe_browsing/content/browser/threat_details_history.h
index 4f76efebd5c45..74585088a2342 100644
--- a/components/safe_browsing/content/browser/threat_details_history.h
+++ b/components/safe_browsing/content/browser/threat_details_history.h
@@ -24,13 +24,12 @@ namespace safe_browsing {
 
 typedef std::vector<GURL> RedirectChain;
 
-class ThreatDetailsRedirectsCollector
-    : public base::RefCounted<ThreatDetailsRedirectsCollector>,
-      public history::HistoryServiceObserver {
+class ThreatDetailsRedirectsCollector : public history::HistoryServiceObserver {
  public:
   explicit ThreatDetailsRedirectsCollector(
       const base::WeakPtr<history::HistoryService>& history_service);
 
+  ~ThreatDetailsRedirectsCollector() override;
   // Collects urls' redirects chain information from the history service.
   // We get access to history service via web_contents in UI thread.
   void StartHistoryCollection(const std::vector<GURL>& urls,
@@ -49,8 +48,6 @@ class ThreatDetailsRedirectsCollector
  private:
   friend class base::RefCounted<ThreatDetailsRedirectsCollector>;
 
-  ~ThreatDetailsRedirectsCollector() override;
-
   void StartGetRedirects(const std::vector<GURL>& urls);
   void GetRedirects(const GURL& url);
   void OnGotQueryRedirectsTo(const GURL& url,
@@ -80,6 +77,8 @@ class ThreatDetailsRedirectsCollector
                           history::HistoryServiceObserver>
       history_service_observation_{this};
 
+  base::WeakPtrFactory<ThreatDetailsRedirectsCollector> weak_factory_{this};
+
   DISALLOW_COPY_AND_ASSIGN(ThreatDetailsRedirectsCollector);
 };
 
diff --git a/components/safe_browsing/core/resources/download_file_types.asciipb b/components/safe_browsing/core/resources/download_file_types.asciipb
index 114499d5e44b3..1074b7d091ae7 100644
--- a/components/safe_browsing/core/resources/download_file_types.asciipb
+++ b/components/safe_browsing/core/resources/download_file_types.asciipb
@@ -8,7 +8,7 @@
 ##
 ## Top level settings
 ##
-version_id: 43
+version_id: 50
 sampled_ping_probability: 0.01
 max_archived_binaries_to_report: 10
 default_file_type {
@@ -1743,7 +1743,16 @@ file_types {
     auto_open_hint: DISALLOW_AUTO_OPEN
   }
 }
-
+file_types {
+  extension: "inetloc"
+  uma_value: 397
+  ping_setting: FULL_PING
+  platform_settings {
+    platform: PLATFORM_MAC
+    danger_level: DANGEROUS
+    auto_open_hint: DISALLOW_AUTO_OPEN
+  }
+}
 # VBScript files. May open with Windows Script Host and execute with
 # user privileges.
 file_types {
diff --git a/content/app/content_main_runner_impl.cc b/content/app/content_main_runner_impl.cc
index 50ac01b8f5f18..ee89f2083b260 100644
--- a/content/app/content_main_runner_impl.cc
+++ b/content/app/content_main_runner_impl.cc
@@ -670,11 +670,20 @@ int ContentMainRunnerImpl::Initialize(const ContentMainParams& params) {
 
 // On Android, the ipc_fd is passed through the Java service.
 #if !defined(OS_ANDROID)
-  g_fds->Set(kMojoIPCChannel,
-             kMojoIPCChannel + base::GlobalDescriptors::kBaseDescriptor);
-
-  g_fds->Set(kFieldTrialDescriptor,
-             kFieldTrialDescriptor + base::GlobalDescriptors::kBaseDescriptor);
+#if defined(OS_OHOS)
+  const base::CommandLine& cmd_line =
+      *base::CommandLine::ForCurrentProcess();
+  bool is_for_test = cmd_line.HasSwitch(switches::kForTest);
+  if (is_for_test) {
+#endif  // OS_OHOS
+    g_fds->Set(kMojoIPCChannel,
+               kMojoIPCChannel + base::GlobalDescriptors::kBaseDescriptor);
+    g_fds->Set(
+        kFieldTrialDescriptor,
+        kFieldTrialDescriptor + base::GlobalDescriptors::kBaseDescriptor);
+#if defined(OS_OHOS)
+  }
+#endif  // OS_OHOS
 #endif  // !OS_ANDROID
 
 #if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_OPENBSD)
diff --git a/content/browser/BUILD.gn b/content/browser/BUILD.gn
index 157b489c3a384..b6aaaae0a1940 100644
--- a/content/browser/BUILD.gn
+++ b/content/browser/BUILD.gn
@@ -2206,6 +2206,7 @@ source_set("browser") {
       "memory/swap_metrics_driver_impl_linux.h",
       "speech/tts_ohos.cc",
     ]
+
     public_deps += [ "//components/services/font/public/mojom" ]
   }
 
diff --git a/content/browser/child_process_launcher_helper.h b/content/browser/child_process_launcher_helper.h
index 7b78341112770..bdeed89696702 100644
--- a/content/browser/child_process_launcher_helper.h
+++ b/content/browser/child_process_launcher_helper.h
@@ -211,6 +211,10 @@ class ChildProcessLauncherHelper :
   static void ForceNormalProcessTerminationSync(
       ChildProcessLauncherHelper::Process process);
 
+#if defined(OS_OHOS)
+  base::TerminationStatus GetProcessStatusByExitCode(int status);
+#endif
+
 #if defined(OS_ANDROID)
   void set_java_peer_available_on_client_thread() {
     java_peer_avaiable_on_client_thread_ = true;
diff --git a/content/browser/child_process_launcher_helper_linux.cc b/content/browser/child_process_launcher_helper_linux.cc
index 422d3a01832ae..4d65ac4f4499e 100644
--- a/content/browser/child_process_launcher_helper_linux.cc
+++ b/content/browser/child_process_launcher_helper_linux.cc
@@ -2,6 +2,10 @@
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
+#include <signal.h>
+#include <sys/types.h>
+#include <sys/wait.h>
+
 #include "base/path_service.h"
 #include "base/posix/global_descriptors.h"
 #include "build/build_config.h"
@@ -140,6 +144,40 @@ void ChildProcessLauncherHelper::AfterLaunchOnLauncherThread(
     const base::LaunchOptions& options) {
 }
 
+#if defined(OS_OHOS)
+base::TerminationStatus ChildProcessLauncherHelper::GetProcessStatusByExitCode(int status) {
+  if (WIFSIGNALED(status)) {
+    switch (WTERMSIG(status)) {
+      case SIGABRT:
+      case SIGBUS:
+      case SIGFPE:
+      case SIGILL:
+      case SIGSEGV:
+      case SIGTRAP:
+      case SIGSYS:
+        return base::TERMINATION_STATUS_PROCESS_CRASHED;
+      case SIGKILL:
+#if BUILDFLAG(IS_CHROMEOS_ASH) || BUILDFLAG(IS_CHROMEOS_LACROS)
+        // On ChromeOS, only way a process gets kill by SIGKILL
+        // is by oom-killer.
+        return TERMINATION_STATUS_PROCESS_WAS_KILLED_BY_OOM;
+#endif
+      case SIGINT:
+      case SIGTERM:
+        return base::TERMINATION_STATUS_PROCESS_WAS_KILLED;
+      default:
+        break;
+    }
+  }
+
+  if (WIFEXITED(status) && WEXITSTATUS(status) != 0) {
+    return base::TERMINATION_STATUS_ABNORMAL_TERMINATION;
+  }
+
+  return base::TERMINATION_STATUS_NORMAL_TERMINATION;
+}
+#endif
+
 ChildProcessTerminationInfo ChildProcessLauncherHelper::GetTerminationInfo(
     const ChildProcessLauncherHelper::Process& process,
     bool known_dead) {
@@ -147,12 +185,23 @@ ChildProcessTerminationInfo ChildProcessLauncherHelper::GetTerminationInfo(
   if (process.zygote) {
     info.status = process.zygote->GetTerminationStatus(
         process.process.Handle(), known_dead, &info.exit_code);
+#if defined(OS_OHOS)
+  } else if (app_mgr_client_) {
+    int exitStatus;
+    int ret = app_mgr_client_->GetRenderProcessTerminationStatus(process.process.Handle(), exitStatus);
+    if (ret != 0) {
+      LOG(ERROR) << "get render process termination status failed, ret = " << ret;
+    } else if (exitStatus < 0) {
+      LOG(ERROR) << "get render process termination status success, invalid status = " << exitStatus;
+    } else {
+      info.status = GetProcessStatusByExitCode(exitStatus);
+    }
+#endif
   } else if (known_dead) {
     info.status = base::GetKnownDeadTerminationStatus(process.process.Handle(),
                                                       &info.exit_code);
   } else {
-    info.status =
-        base::GetTerminationStatus(process.process.Handle(), &info.exit_code);
+    info.status = base::GetTerminationStatus(process.process.Handle(), &info.exit_code);
   }
   return info;
 }
diff --git a/content/browser/devtools/devtools_http_handler.cc b/content/browser/devtools/devtools_http_handler.cc
index ab3f19563db5f..774fa4f6a2b20 100644
--- a/content/browser/devtools/devtools_http_handler.cc
+++ b/content/browser/devtools/devtools_http_handler.cc
@@ -278,6 +278,7 @@ void StartServerOnHandlerThread(
         browser_guid.c_str());
     fprintf(stderr, "%s", message.c_str());
     fflush(stderr);
+    LOG(INFO) << "start devtools listening ok, " << message;
 
     // Write this port to a well-known file in the profile directory
     // so Telemetry, ChromeDriver, etc. can pick it up.
diff --git a/content/browser/devtools/protocol/devtools_protocol_browsertest.cc b/content/browser/devtools/protocol/devtools_protocol_browsertest.cc
index dfeab9ee4c130..613ae49aed478 100644
--- a/content/browser/devtools/protocol/devtools_protocol_browsertest.cc
+++ b/content/browser/devtools/protocol/devtools_protocol_browsertest.cc
@@ -472,7 +472,8 @@ class CaptureScreenshotTest : public DevToolsProtocolTest {
       bool from_surface,
       const gfx::RectF& clip = gfx::RectF(),
       float clip_scale = 0,
-      bool capture_beyond_viewport = false) {
+      bool capture_beyond_viewport = false,
+      bool expect_error = false) {
     std::unique_ptr<base::DictionaryValue> params(new base::DictionaryValue());
     params->SetString("format", encoding == ENCODING_PNG ? "png" : "jpeg");
     params->SetInteger("quality", 100);
@@ -492,16 +493,24 @@ class CaptureScreenshotTest : public DevToolsProtocolTest {
     }
     SendCommand("Page.captureScreenshot", std::move(params));
 
-    std::string base64;
-    EXPECT_TRUE(result_->GetString("data", &base64));
     std::unique_ptr<SkBitmap> result_bitmap;
-    if (encoding == ENCODING_PNG) {
-      result_bitmap.reset(new SkBitmap());
-      EXPECT_TRUE(DecodePNG(base64, result_bitmap.get()));
+    if (expect_error) {
+      EXPECT_THAT(error_, base::test::DictionaryHasValue(
+                              "code", base::Value(static_cast<int>(
+                                          crdtp::DispatchCode::SERVER_ERROR))));
     } else {
-      result_bitmap = DecodeJPEG(base64);
+      std::string base64;
+      EXPECT_TRUE(result_->GetString("data", &base64));
+      if (encoding == ScreenshotEncoding::ENCODING_PNG) {
+        result_bitmap = std::make_unique<SkBitmap>();
+        EXPECT_TRUE(DecodePNG(base64, result_bitmap.get()));
+      } else if (encoding == ScreenshotEncoding::ENCODING_JPEG) {
+        result_bitmap = DecodeJPEG(base64);
+      } else {
+        // Decode not implemented.
+      }
+      EXPECT_TRUE(result_bitmap);
     }
-    EXPECT_TRUE(result_bitmap);
     return result_bitmap;
   }
 
@@ -600,6 +609,10 @@ class CaptureScreenshotTest : public DevToolsProtocolTest {
     SendCommand("Emulation.clearDeviceMetricsOverride", nullptr);
   }
 
+  bool MayAttachToBrowser() override { return may_attach_to_browser_; }
+
+  bool may_attach_to_browser_ = true;
+
  private:
 #if !defined(OS_ANDROID)
   void SetUp() override {
@@ -948,6 +961,17 @@ IN_PROC_BROWSER_TEST_F(CaptureScreenshotTest, TransparentScreenshots) {
 #endif  // !defined(OS_ANDROID)
 }
 
+IN_PROC_BROWSER_TEST_F(CaptureScreenshotTest,
+                       OnlyScreenshotsFromSurfaceWhenUnsafeNotAllowed) {
+  may_attach_to_browser_ = false;
+  shell()->LoadURL(GURL("about:blank"));
+  EXPECT_TRUE(WaitForLoadStop(shell()->web_contents()));
+  Attach();
+
+  CaptureScreenshot(ScreenshotEncoding::ENCODING_PNG, false, gfx::RectF(), 0, true,
+                    true);
+}
+
 #if defined(OS_ANDROID)
 // Disabled, see http://crbug.com/469947.
 IN_PROC_BROWSER_TEST_F(DevToolsProtocolTest, DISABLED_SynthesizePinchGesture) {
diff --git a/content/browser/devtools/protocol/input_handler.cc b/content/browser/devtools/protocol/input_handler.cc
index d36f64f77ffad..e4efb226867ac 100644
--- a/content/browser/devtools/protocol/input_handler.cc
+++ b/content/browser/devtools/protocol/input_handler.cc
@@ -116,16 +116,19 @@ base::TimeTicks GetEventTimeTicks(const Maybe<double>& timestamp) {
              : base::TimeTicks::Now();
 }
 
-bool SetKeyboardEventText(char16_t* to, Maybe<std::string> from) {
+bool SetKeyboardEventText(
+    char16_t (&to)[blink::WebKeyboardEvent::kTextLengthCap],
+    Maybe<std::string> from) {
   if (!from.isJust())
     return true;
 
   std::u16string text16 = base::UTF8ToUTF16(from.fromJust());
-  if (text16.size() > blink::WebKeyboardEvent::kTextLengthCap)
+  if (text16.size() >= blink::WebKeyboardEvent::kTextLengthCap)
     return false;
 
   for (size_t i = 0; i < text16.size(); ++i)
     to[i] = text16[i];
+  to[text16.size()] = 0;
   return true;
 }
 
diff --git a/content/browser/devtools/protocol/page_handler.cc b/content/browser/devtools/protocol/page_handler.cc
index 554b129494cab..7b7719648da4b 100644
--- a/content/browser/devtools/protocol/page_handler.cc
+++ b/content/browser/devtools/protocol/page_handler.cc
@@ -184,7 +184,8 @@ bool CanExecuteGlobalCommands(
 
 PageHandler::PageHandler(EmulationHandler* emulation_handler,
                          BrowserHandler* browser_handler,
-                         bool allow_file_access)
+                         bool allow_file_access,
+                         bool may_capture_screenshots_not_from_surface)
     : DevToolsDomainHandler(Page::Metainfo::domainName),
       enabled_(false),
       screencast_enabled_(false),
@@ -200,7 +201,9 @@ PageHandler::PageHandler(EmulationHandler* emulation_handler,
       last_surface_size_(gfx::Size()),
       host_(nullptr),
       emulation_handler_(emulation_handler),
-      browser_handler_(browser_handler) {
+      browser_handler_(browser_handler),
+      may_capture_screenshots_not_from_surface_(
+          may_capture_screenshots_not_from_surface) {
   bool create_video_consumer = true;
 #ifdef OS_ANDROID
   // Video capture doesn't work on Android WebView. Use CopyFromSurface instead.
@@ -715,6 +718,11 @@ void PageHandler::CaptureScreenshot(
 
   // We don't support clip/emulation when capturing from window, bail out.
   if (!from_surface.fromMaybe(true)) {
+    if (!may_capture_screenshots_not_from_surface_) {
+      callback->sendFailure(
+          Response::ServerError("Only screenshots from surface are allowed."));
+      return;
+    }
     widget_host->GetSnapshotFromBrowser(
         base::BindOnce(&PageHandler::ScreenshotCaptured,
                        weak_factory_.GetWeakPtr(), std::move(callback),
diff --git a/content/browser/devtools/protocol/page_handler.h b/content/browser/devtools/protocol/page_handler.h
index be667cb7da784..e5507b97181b2 100644
--- a/content/browser/devtools/protocol/page_handler.h
+++ b/content/browser/devtools/protocol/page_handler.h
@@ -65,7 +65,8 @@ class PageHandler : public DevToolsDomainHandler,
  public:
   PageHandler(EmulationHandler* emulation_handler,
               BrowserHandler* browser_handler,
-              bool allow_file_access);
+              bool allow_file_access,
+              bool may_capture_screenshots_not_from_surface);
   ~PageHandler() override;
 
   static std::vector<PageHandler*> EnabledForWebContents(
@@ -238,6 +239,7 @@ class PageHandler : public DevToolsDomainHandler,
   RenderFrameHostImpl* host_;
   EmulationHandler* emulation_handler_;
   BrowserHandler* browser_handler_;
+  const bool may_capture_screenshots_not_from_surface_;
 
   std::unique_ptr<Page::Frontend> frontend_;
 
diff --git a/content/browser/devtools/render_frame_devtools_agent_host.cc b/content/browser/devtools/render_frame_devtools_agent_host.cc
index 2bbe13752c446..7dc7937b90801 100644
--- a/content/browser/devtools/render_frame_devtools_agent_host.cc
+++ b/content/browser/devtools/render_frame_devtools_agent_host.cc
@@ -331,7 +331,8 @@ bool RenderFrameDevToolsAgentHost::AttachSession(DevToolsSession* session,
       GetId(), GetRendererChannel(), session->GetRootSession()));
   session->AddHandler(std::make_unique<protocol::PageHandler>(
       emulation_handler_ptr, browser_handler_ptr,
-      session->GetClient()->MayReadLocalFiles()));
+      session->GetClient()->MayReadLocalFiles(),
+      session->GetClient()->MayAttachToBrowser()));
   session->AddHandler(std::make_unique<protocol::SecurityHandler>());
   if (!frame_tree_node_ || !frame_tree_node_->parent()) {
     session->AddHandler(std::make_unique<protocol::TracingHandler>(
diff --git a/content/browser/display_cutout/display_cutout_host_impl.cc b/content/browser/display_cutout/display_cutout_host_impl.cc
index 1640ec8348999..ff9869e011b3f 100644
--- a/content/browser/display_cutout/display_cutout_host_impl.cc
+++ b/content/browser/display_cutout/display_cutout_host_impl.cc
@@ -5,6 +5,7 @@
 #include "content/browser/display_cutout/display_cutout_host_impl.h"
 
 #include "content/browser/display_cutout/display_cutout_constants.h"
+#include "content/browser/renderer_host/render_frame_host_impl.h"
 #include "content/browser/web_contents/web_contents_impl.h"
 #include "content/public/browser/navigation_handle.h"
 #include "mojo/public/cpp/bindings/associated_remote.h"
@@ -33,7 +34,7 @@ void DisplayCutoutHostImpl::ViewportFitChangedForFrame(
 
   // If we are the current |RenderFrameHost| frame then notify
   // WebContentsObservers about the new value.
-  if (current_rfh_ == rfh)
+  if (current_rfh_.get() == rfh)
     web_contents_impl_->NotifyViewportFitChanged(value);
 
   MaybeQueueUKMEvent(rfh);
@@ -60,7 +61,9 @@ void DisplayCutoutHostImpl::DidFinishNavigation(
 
   // If we finish a main frame navigation and the |WebDisplayMode| is
   // fullscreen then we should make the main frame the current
-  // |RenderFrameHost|.
+  // |RenderFrameHost|.  Note that this is probably not correct; we do not check
+  // that the navigation completed successfully, nor do we check if the main
+  // frame is still IsRenderFrameLive().
   blink::mojom::DisplayMode mode = web_contents_impl_->GetDisplayMode();
   if (mode == blink::mojom::DisplayMode::kFullscreen)
     SetCurrentRenderFrameHost(web_contents_impl_->GetMainFrame());
@@ -70,7 +73,7 @@ void DisplayCutoutHostImpl::RenderFrameDeleted(RenderFrameHost* rfh) {
   values_.erase(rfh);
 
   // If we were the current |RenderFrameHost| then we should clear that.
-  if (current_rfh_ == rfh)
+  if (current_rfh_.get() == rfh)
     SetCurrentRenderFrameHost(nullptr);
 }
 
@@ -87,7 +90,7 @@ void DisplayCutoutHostImpl::SetDisplayCutoutSafeArea(gfx::Insets insets) {
   insets_ = insets;
 
   if (current_rfh_)
-    SendSafeAreaToFrame(current_rfh_, insets);
+    SendSafeAreaToFrame(current_rfh_.get(), insets);
 
   // If we have a pending UKM event on the top of the stack that is |kAllowed|
   // and we have a |current_rfh_| then we should update that UKM event as it
@@ -100,26 +103,26 @@ void DisplayCutoutHostImpl::SetDisplayCutoutSafeArea(gfx::Insets insets) {
 }
 
 void DisplayCutoutHostImpl::SetCurrentRenderFrameHost(RenderFrameHost* rfh) {
-  if (current_rfh_ == rfh)
+  if (current_rfh_.get() == rfh)
     return;
 
   // If we had a previous frame then we should clear the insets on that frame.
   if (current_rfh_)
-    SendSafeAreaToFrame(current_rfh_, gfx::Insets());
-
-  // Update the |current_rfh_| with the new frame.
-  current_rfh_ = rfh;
+    SendSafeAreaToFrame(current_rfh_.get(), gfx::Insets());
 
   // If the new RenderFrameHost is nullptr we should stop here and notify
   // observers that the new viewport fit is kAuto (the default).
   if (!rfh) {
+    current_rfh_ = nullptr;
     web_contents_impl_->NotifyViewportFitChanged(
         blink::mojom::ViewportFit::kAuto);
     return;
   }
 
+  // Update the |current_rfh_| with the new frame.
+  current_rfh_ = static_cast<RenderFrameHostImpl*>(rfh)->GetWeakPtr();
   // Record a UKM event for the new frame.
-  MaybeQueueUKMEvent(current_rfh_);
+  MaybeQueueUKMEvent(current_rfh_.get());
 
   // Send the current safe area to the new frame.
   SendSafeAreaToFrame(rfh, insets_);
@@ -159,11 +162,11 @@ void DisplayCutoutHostImpl::MaybeQueueUKMEvent(RenderFrameHost* frame) {
   blink::mojom::ViewportFit supplied_value = GetValueOrDefault(frame);
   if (supplied_value == blink::mojom::ViewportFit::kAuto)
     return;
-  blink::mojom::ViewportFit applied_value = GetValueOrDefault(current_rfh_);
+  blink::mojom::ViewportFit applied_value = GetValueOrDefault(current_rfh_.get());
 
   // Set the reason why this frame is not the current frame.
   int ignored_reason = DisplayCutoutIgnoredReason::kAllowed;
-  if (current_rfh_ != frame) {
+  if (current_rfh_.get() != frame) {
     ignored_reason =
         current_rfh_ == nullptr
             ? DisplayCutoutIgnoredReason::kWebContentsNotFullscreen
diff --git a/content/browser/display_cutout/display_cutout_host_impl.h b/content/browser/display_cutout/display_cutout_host_impl.h
index 56081029df02d..afbb67d5f5074 100644
--- a/content/browser/display_cutout/display_cutout_host_impl.h
+++ b/content/browser/display_cutout/display_cutout_host_impl.h
@@ -5,12 +5,14 @@
 #ifndef CONTENT_BROWSER_DISPLAY_CUTOUT_DISPLAY_CUTOUT_HOST_IMPL_H_
 #define CONTENT_BROWSER_DISPLAY_CUTOUT_DISPLAY_CUTOUT_HOST_IMPL_H_
 
+#include "base/memory/weak_ptr.h"
 #include "content/public/browser/web_contents_observer.h"
 #include "content/public/browser/web_contents_receiver_set.h"
 #include "third_party/blink/public/mojom/page/display_cutout.mojom.h"
 
 namespace content {
 
+class RenderFrameHostImpl;
 class DisplayCutoutHostImpl : public blink::mojom::DisplayCutoutHost {
  public:
   explicit DisplayCutoutHostImpl(WebContentsImpl*);
@@ -75,7 +77,7 @@ class DisplayCutoutHostImpl : public blink::mojom::DisplayCutoutHost {
 
   // Stores the current |RenderFrameHost| that has the applied safe area insets
   // and is controlling the viewport fit value.
-  RenderFrameHost* current_rfh_ = nullptr;
+  base::WeakPtr<RenderFrameHostImpl> current_rfh_;
 
   // Stores a map of RenderFrameHosts and their current viewport fit values.
   std::map<RenderFrameHost*, blink::mojom::ViewportFit> values_;
diff --git a/content/browser/file_system_access/file_system_access_directory_handle_impl.cc b/content/browser/file_system_access/file_system_access_directory_handle_impl.cc
index b386fe1dca1b7..19abb01eb5489 100644
--- a/content/browser/file_system_access/file_system_access_directory_handle_impl.cc
+++ b/content/browser/file_system_access/file_system_access_directory_handle_impl.cc
@@ -409,10 +409,13 @@ namespace {
 bool IsShellIntegratedExtension(const base::FilePath::StringType& extension) {
   base::FilePath::StringType extension_lower = base::ToLowerASCII(extension);
 
-  // .lnk files may be used to execute arbitrary code (see
-  // https://nvd.nist.gov/vuln/detail/CVE-2010-2568).
-  if (extension_lower == FILE_PATH_LITERAL("lnk"))
+  // .lnk and .scf files may be used to execute arbitrary code (see
+  // https://nvd.nist.gov/vuln/detail/CVE-2010-2568 and
+  // https://crbug.com/1227995, respectively).
+  if (extension_lower == FILE_PATH_LITERAL("lnk") ||
+      extension_lower == FILE_PATH_LITERAL("scf")) {
     return true;
+  }
 
   // Setting a file's extension to a CLSID may conceal its actual file type on
   // some Windows versions (see https://nvd.nist.gov/vuln/detail/CVE-2004-0420).
diff --git a/content/browser/file_system_access/file_system_access_manager_impl.cc b/content/browser/file_system_access/file_system_access_manager_impl.cc
index a47eceba374b2..a64d8f47cbeb7 100644
--- a/content/browser/file_system_access/file_system_access_manager_impl.cc
+++ b/content/browser/file_system_access/file_system_access_manager_impl.cc
@@ -480,6 +480,16 @@ void FileSystemAccessManagerImpl::SetDefaultPathAndShowPicker(
                                   suggested_name, std::string(), std::string())
           : base::FilePath();
 
+  auto suggested_extension = suggested_name_path.Extension();
+  // Our version of `IsShellIntegratedExtension()` is more stringent than
+  // the version used in `net::GenerateFileName()`. See
+  // `FileSystemChooser::IsShellIntegratedExtension()` for details.
+  if (FileSystemChooser::IsShellIntegratedExtension(suggested_extension)) {
+    suggested_extension = FILE_PATH_LITERAL("download");
+    suggested_name_path =
+        suggested_name_path.ReplaceExtension(suggested_extension);
+  }
+
   FileSystemChooser::Options file_system_chooser_options(
       GetSelectFileDialogType(options), GetAndMoveAcceptsTypesInfo(options),
       std::move(default_directory), std::move(suggested_name_path));
diff --git a/content/browser/file_system_access/file_system_chooser.cc b/content/browser/file_system_access/file_system_chooser.cc
index fa4c151286a2c..dc02983400070 100644
--- a/content/browser/file_system_access/file_system_chooser.cc
+++ b/content/browser/file_system_access/file_system_chooser.cc
@@ -71,30 +71,6 @@ base::FilePath::StringType GetLastExtension(
              : extension;
 }
 
-// Returns whether the specified extension receives special handling by the
-// Windows shell.
-bool IsShellIntegratedExtension(const base::FilePath::StringType& extension) {
-  // TODO(https://crbug.com/1154757): Figure out some way to unify this with
-  // net::IsSafePortablePathComponent, with the result probably ending up in
-  // base/i18n/file_util_icu.h.
-  base::FilePath::StringType extension_lower = base::ToLowerASCII(extension);
-
-  // .lnk files may be used to execute arbitrary code (see
-  // https://nvd.nist.gov/vuln/detail/CVE-2010-2568). .local files are used by
-  // Windows to determine which DLLs to load for an application.
-  if ((extension_lower == FILE_PATH_LITERAL("local")) ||
-      (extension_lower == FILE_PATH_LITERAL("lnk")))
-    return true;
-
-  // Setting a file's extension to a CLSID may conceal its actual file type on
-  // some Windows versions (see https://nvd.nist.gov/vuln/detail/CVE-2004-0420).
-  if (!extension_lower.empty() &&
-      (extension_lower.front() == FILE_PATH_LITERAL('{')) &&
-      (extension_lower.back() == FILE_PATH_LITERAL('}')))
-    return true;
-  return false;
-}
-
 // Extension validation primarily takes place in the renderer. This checks for a
 // subset of invalid extensions in the event the renderer is compromised.
 bool IsInvalidExtension(base::FilePath::StringType& extension) {
@@ -102,7 +78,7 @@ bool IsInvalidExtension(base::FilePath::StringType& extension) {
   auto extension16 = base::UTF8ToUTF16(component8.c_str());
 
   return !base::i18n::IsFilenameLegal(extension16) ||
-         IsShellIntegratedExtension(GetLastExtension(extension));
+	 FileSystemChooser::IsShellIntegratedExtension(extension);
 }
 
 // Converts the accepted mime types and extensions from |option| into a list
@@ -289,6 +265,40 @@ void FileSystemChooser::CreateAndShow(
       /*params=*/nullptr);
 }
 
+// static
+bool FileSystemChooser::IsShellIntegratedExtension(
+    const base::FilePath::StringType& extension) {
+  // TODO(https://crbug.com/1154757): Figure out some way to unify this with
+  // net::IsSafePortablePathComponent, with the result probably ending up in
+  // base/i18n/file_util_icu.h.
+  // - For the sake of consistency across platforms, we sanitize '.lnk' and
+  //   '.local' files on all platforms (not just Windows)
+  // - There are some extensions (i.e. '.scf') we would like to sanitize which
+  //   `net::GenerateFileName()` does not
+  base::FilePath::StringType extension_lower =
+      base::ToLowerASCII(GetLastExtension(extension));
+
+  // .lnk and .scf files may be used to execute arbitrary code (see
+  // https://nvd.nist.gov/vuln/detail/CVE-2010-2568 and
+  // https://crbug.com/1227995, respectively). .local files are used by Windows
+  // to determine which DLLs to load for an application.
+  if ((extension_lower == FILE_PATH_LITERAL("lnk")) ||
+      (extension_lower == FILE_PATH_LITERAL("local")) ||
+      (extension_lower == FILE_PATH_LITERAL("scf"))) {
+    return true;
+  }
+
+  // Setting a file's extension to a CLSID may conceal its actual file type on
+  // some Windows versions (see https://nvd.nist.gov/vuln/detail/CVE-2004-0420).
+  if (!extension_lower.empty() &&
+      (extension_lower.front() == FILE_PATH_LITERAL('{')) &&
+      (extension_lower.back() == FILE_PATH_LITERAL('}'))) {
+    return true;
+  }
+
+  return false;
+}
+
 FileSystemChooser::FileSystemChooser(ui::SelectFileDialog::Type type,
                                      ResultCallback callback,
                                      base::ScopedClosureRunner fullscreen_block)
diff --git a/content/browser/file_system_access/file_system_chooser.h b/content/browser/file_system_access/file_system_chooser.h
index 8b672a278222f..fdb6012ca5c41 100644
--- a/content/browser/file_system_access/file_system_chooser.h
+++ b/content/browser/file_system_access/file_system_chooser.h
@@ -68,6 +68,12 @@ class CONTENT_EXPORT FileSystemChooser : public ui::SelectFileDialog::Listener {
                             ResultCallback callback,
                             base::ScopedClosureRunner fullscreen_block);
 
+  // Returns whether the specified extension receives special handling by the
+  // Windows shell. These extensions should be sanitized before being shown in
+  // the "save as" file picker.
+  static bool IsShellIntegratedExtension(
+      const base::FilePath::StringType& extension);
+
   FileSystemChooser(ui::SelectFileDialog::Type type,
                     ResultCallback callback,
                     base::ScopedClosureRunner fullscreen_block);
diff --git a/content/browser/file_system_access/file_system_chooser_browsertest.cc b/content/browser/file_system_access/file_system_chooser_browsertest.cc
index 72ff09ab098d3..f65ef61e4cb85 100644
--- a/content/browser/file_system_access/file_system_chooser_browsertest.cc
+++ b/content/browser/file_system_access/file_system_chooser_browsertest.cc
@@ -1321,22 +1321,28 @@ IN_PROC_BROWSER_TEST_F(FileSystemChooserBrowserTest, SuggestedName) {
   name_infos.push_back({"not_matching.jpg", ListValueOf(".txt"), false,
                         "not_matching.jpg", false});
 
-#if defined(OS_WIN)
-  // ".local" and ".lnk" extensions should be sanitized on Windows.
+  // ".lnk", ".local", and ".scf" extensions should be sanitized.
   name_infos.push_back({"dangerous_extension.local", ListValueOf(".local"),
                         true, "dangerous_extension.download", false});
   name_infos.push_back({"dangerous_extension.lnk", ListValueOf(".lnk"), true,
                         "dangerous_extension.download", false});
-#else
-  // ".local" and ".lnk" extensions should be allowed on other OSes.
-  // TODO(https://crbug.com/1154757): `expected_exclude_accept_all_option` is
-  // false here because ".local" and ".lnk" extensions are not allowed in
-  // `accepts`, but are only sanitized by net::GenerateSafeFileName on Windows.
-  name_infos.push_back({"dangerous_extension.local", ListValueOf(".local"),
-                        true, "dangerous_extension.local", false});
-  name_infos.push_back({"dangerous_extension.lnk", ListValueOf(".lnk"), true,
-                        "dangerous_extension.lnk", false});
-#endif
+  name_infos.push_back({"dangerous_extension.scf", ListValueOf(".scf"), true,
+                        "dangerous_extension.download", false});
+  // Compound extensions ending in a dangerous extension should be sanitized.
+  name_infos.push_back({"dangerous_extension.png.local", ListValueOf(".local"),
+                        true, "dangerous_extension.png.download", false});
+  name_infos.push_back({"dangerous_extension.png.lnk", ListValueOf(".lnk"),
+                        true, "dangerous_extension.png.download", false});
+  name_infos.push_back({"dangerous_extension.png.scf", ListValueOf(".scf"),
+                        true, "dangerous_extension.png.download", false});
+  // Compound extensions not ending in a dangerous extension should not be
+  // sanitized.
+  name_infos.push_back({"dangerous_extension.local.png", ListValueOf(".png"),
+                        true, "dangerous_extension.local.png", true});
+  name_infos.push_back({"dangerous_extension.lnk.png", ListValueOf(".png"),
+                        true, "dangerous_extension.lnk.png", true});
+  name_infos.push_back({"dangerous_extension.scf.png", ListValueOf(".png"),
+                        true, "dangerous_extension.scf.png", true});
   // Invalid characters should be sanitized.
   name_infos.push_back({R"(inv*l:d\\charבאמת!a<ters🤓.txt)",
                         ListValueOf(".txt"), true,
diff --git a/content/browser/file_system_access/file_system_chooser_unittest.cc b/content/browser/file_system_access/file_system_chooser_unittest.cc
index 1a590252fe118..e684acb8d4c29 100644
--- a/content/browser/file_system_access/file_system_chooser_unittest.cc
+++ b/content/browser/file_system_access/file_system_chooser_unittest.cc
@@ -189,7 +189,7 @@ TEST_F(FileSystemChooserTest, IgnoreShellIntegratedExtensions) {
   accepts.emplace_back(blink::mojom::ChooseFileSystemEntryAcceptsOption::New(
       base::ASCIIToUTF16(""), std::vector<std::string>({}),
       std::vector<std::string>(
-          {"lnk", "foo.lnk", "foo.bar.local", "text", "local"})));
+          {"lnk", "foo.lnk", "foo.bar.local", "text", "local", "scf"})));
   SyncShowDialog(std::move(accepts), /*include_accepts_all=*/false);
 
   ASSERT_TRUE(dialog_params.file_types);
diff --git a/content/browser/loader/prefetch_url_loader_service.cc b/content/browser/loader/prefetch_url_loader_service.cc
index 5211d5552d6b2..345bf021541a1 100644
--- a/content/browser/loader/prefetch_url_loader_service.cc
+++ b/content/browser/loader/prefetch_url_loader_service.cc
@@ -202,29 +202,25 @@ void PrefetchURLLoaderService::CreateLoaderAndStart(
             ->prefetched_signed_exchange_cache;
   }
 
-  // For now we make self owned receiver for the loader to the request, while we
-  // can also possibly make the new loader owned by the factory so that they can
-  // live longer than the client (i.e. run in detached mode).
-  // TODO(kinuko): Revisit this.
-  mojo::MakeSelfOwnedReceiver(
-      std::make_unique<PrefetchURLLoader>(
-          request_id, options, current_context.frame_tree_node_id,
-          resource_request,
-          resource_request.trusted_params
-              ? resource_request.trusted_params->isolation_info
-                    .network_isolation_key()
-              : current_context.render_frame_host->GetNetworkIsolationKey(),
-          std::move(client), traffic_annotation,
-          std::move(network_loader_factory_to_use),
-          base::BindRepeating(
-              &PrefetchURLLoaderService::CreateURLLoaderThrottles, this,
-              resource_request, current_context.frame_tree_node_id),
-          browser_context_, signed_exchange_prefetch_metric_recorder_,
-          std::move(prefetched_signed_exchange_cache), accept_langs_,
-          base::BindOnce(
-              &PrefetchURLLoaderService::GenerateRecursivePrefetchToken, this,
-              current_context.weak_ptr_factory.GetWeakPtr())),
-      std::move(receiver));
+  // base::Unretained is safe here since |this| owns the loader.
+  auto loader = std::make_unique<PrefetchURLLoader>(
+      request_id, options, current_context.frame_tree_node_id, resource_request,
+      resource_request.trusted_params
+          ? resource_request.trusted_params->isolation_info
+                .network_isolation_key()
+          : current_context.render_frame_host->GetNetworkIsolationKey(),
+      std::move(client), traffic_annotation,
+      std::move(network_loader_factory_to_use),
+      base::BindRepeating(&PrefetchURLLoaderService::CreateURLLoaderThrottles,
+                          base::Unretained(this), resource_request,
+                          current_context.frame_tree_node_id),
+      browser_context_, signed_exchange_prefetch_metric_recorder_,
+      std::move(prefetched_signed_exchange_cache), accept_langs_,
+      base::BindOnce(&PrefetchURLLoaderService::GenerateRecursivePrefetchToken,
+                     base::Unretained(this),
+                     current_context.weak_ptr_factory.GetWeakPtr()));
+  auto* raw_loader = loader.get();
+  prefetch_receivers_.Add(raw_loader, std::move(receiver), std::move(loader));
 }
 
 PrefetchURLLoaderService::~PrefetchURLLoaderService() = default;
diff --git a/content/browser/loader/prefetch_url_loader_service.h b/content/browser/loader/prefetch_url_loader_service.h
index 210794966c8d2..c5fff844f73de 100644
--- a/content/browser/loader/prefetch_url_loader_service.h
+++ b/content/browser/loader/prefetch_url_loader_service.h
@@ -35,13 +35,11 @@ class URLLoaderFactoryGetter;
 // prefetches. The renderer uses it for prefetch requests including <link
 // rel="prefetch">.
 class CONTENT_EXPORT PrefetchURLLoaderService final
-    : public base::RefCountedThreadSafe<
-          PrefetchURLLoaderService,
-          content::BrowserThread::DeleteOnUIThread>,
-      public blink::mojom::RendererPreferenceWatcher,
+    : public blink::mojom::RendererPreferenceWatcher,
       public network::mojom::URLLoaderFactory {
  public:
   explicit PrefetchURLLoaderService(BrowserContext* browser_context);
+  ~PrefetchURLLoaderService() override;
 
   void GetFactory(
       mojo::PendingReceiver<network::mojom::URLLoaderFactory> receiver,
@@ -67,12 +65,8 @@ class CONTENT_EXPORT PrefetchURLLoaderService final
   }
 
  private:
-  friend class base::DeleteHelper<content::PrefetchURLLoaderService>;
-  friend struct BrowserThread::DeleteOnThread<BrowserThread::UI>;
   struct BindContext;
 
-  ~PrefetchURLLoaderService() override;
-
   // network::mojom::URLLoaderFactory:
   void CreateLoaderAndStart(
       mojo::PendingReceiver<network::mojom::URLLoader> receiver,
@@ -114,6 +108,9 @@ class CONTENT_EXPORT PrefetchURLLoaderService final
   mojo::ReceiverSet<network::mojom::URLLoaderFactory,
                     std::unique_ptr<BindContext>>
       loader_factory_receivers_;
+  mojo::ReceiverSet<network::mojom::URLLoader,
+                    std::unique_ptr<network::mojom::URLLoader>>
+      prefetch_receivers_;
   // Used in the IO thread.
   mojo::Receiver<blink::mojom::RendererPreferenceWatcher>
       preference_watcher_receiver_{this};
diff --git a/content/browser/portal/portal.cc b/content/browser/portal/portal.cc
index 2565b98545c7e..aef23d785479c 100644
--- a/content/browser/portal/portal.cc
+++ b/content/browser/portal/portal.cc
@@ -606,6 +606,11 @@ void Portal::ActivateImpl(blink::TransferableMessage data,
   devtools_instrumentation::PortalActivated(outer_contents->GetMainFrame());
   successor_contents_raw->set_portal(nullptr);
 
+  // It's important we call this before destroying the outer contents'
+  // RenderWidgetHostView, otherwise the dialog may not be cleaned up correctly.
+  // See crbug.com/1292261 for more details.
+  outer_contents->CancelActiveAndPendingDialogs();
+
   std::unique_ptr<WebContents> predecessor_web_contents =
       delegate->ActivatePortalWebContents(outer_contents,
                                           std::move(successor_contents));
diff --git a/content/browser/renderer_host/render_frame_host_impl.cc b/content/browser/renderer_host/render_frame_host_impl.cc
index 7bca1e9446e6d..9da018174d4a9 100644
--- a/content/browser/renderer_host/render_frame_host_impl.cc
+++ b/content/browser/renderer_host/render_frame_host_impl.cc
@@ -5355,17 +5355,22 @@ void RenderFrameHostImpl::CreateNewWindow(
     can_create_window = false;
   }
 
-  bool was_consumed = false;
-  if (can_create_window) {
-    // Consume activation even w/o User Activation v2, to sync other renderers
-    // with calling renderer.
-    was_consumed = frame_tree_node_->UpdateUserActivationState(
-        blink::mojom::UserActivationUpdateType::kConsumeTransientActivation,
-        blink::mojom::UserActivationNotificationType::kNone);
-  } else {
-    std::move(callback).Run(mojom::CreateNewWindowStatus::kIgnore, nullptr);
-    return;
-  }
+  // If this frame isn't allowed to create a window, return early (before we
+  // consume transient user activation).
+  if (!can_create_window) {
+    std::move(callback).Run(mojom::CreateNewWindowStatus::kBlocked, nullptr);
+    return;
+  }
+
+  // Otherwise, consume user activation before we proceed. In particular, it is
+  // important to do this before we return from the |opener_suppressed| case
+  // below.
+  // NB: This call will consume activations in the browser and the remote frame
+  // proxies for this frame. The initiating renderer will consume its view of
+  // the activations after we return.
+  bool was_consumed = frame_tree_node_->UpdateUserActivationState(
+      blink::mojom::UserActivationUpdateType::kConsumeTransientActivation,
+      blink::mojom::UserActivationNotificationType::kNone);
 
   // For Android WebView, we support a pop-up like behavior for window.open()
   // even if the embedding app doesn't support multiple windows. In this case,
diff --git a/content/browser/renderer_host/render_process_host_impl.cc b/content/browser/renderer_host/render_process_host_impl.cc
index f0e8942562cdd..8e897ab0f5217 100644
--- a/content/browser/renderer_host/render_process_host_impl.cc
+++ b/content/browser/renderer_host/render_process_host_impl.cc
@@ -3347,6 +3347,7 @@ void RenderProcessHostImpl::PropagateBrowserCommandLineToRenderer(
 #endif
 #if defined(OS_OHOS)
     switches::kForTest,
+    switches::kBundleInstallationDir,
 #endif
   };
   renderer_cmd->CopySwitchesFrom(browser_cmd, kSwitchNames,
diff --git a/content/browser/service_worker/service_worker_container_host.cc b/content/browser/service_worker/service_worker_container_host.cc
index 0b1981efd9eb0..ceaec3e6d3692 100644
--- a/content/browser/service_worker/service_worker_container_host.cc
+++ b/content/browser/service_worker/service_worker_container_host.cc
@@ -349,10 +349,12 @@ void ServiceWorkerContainerHost::EnsureFileAccess(
     ChildProcessSecurityPolicyImpl* policy =
         ChildProcessSecurityPolicyImpl::GetInstance();
     for (const auto& file : file_paths) {
-      if (!policy->CanReadFile(process_id_, file))
+      if (!policy->CanReadFile(process_id_, file)) {
         mojo::ReportBadMessage(
             "The renderer doesn't have access to the file "
             "but it tried to grant access to the controller.");
+	   return;
+      }
 
       if (!policy->CanReadFile(controller_process_id, file))
         policy->GrantReadFile(controller_process_id, file);
diff --git a/content/browser/storage_partition_impl.cc b/content/browser/storage_partition_impl.cc
index 7a517fe2244e4..1aaa64d502203 100644
--- a/content/browser/storage_partition_impl.cc
+++ b/content/browser/storage_partition_impl.cc
@@ -12,6 +12,9 @@
 #include <utility>
 #include <vector>
 
+#include <unistd.h>
+#include <thread>
+
 #include "base/barrier_closure.h"
 #include "base/bind.h"
 #include "base/callback_helpers.h"
@@ -1267,7 +1270,7 @@ void StoragePartitionImpl::Initialize(
       blob_context, filesystem_context_, fallback_blob_registry);
 
   prefetch_url_loader_service_ =
-      base::MakeRefCounted<PrefetchURLLoaderService>(browser_context_);
+      std::make_unique<PrefetchURLLoaderService>(browser_context_);
 
   cookie_store_context_ = base::MakeRefCounted<CookieStoreContext>();
   // Unit tests use the Initialize() callback to crash early if restoring the
@@ -1382,6 +1385,32 @@ StoragePartitionImpl::GetCookieManagerForBrowserProcess() {
   return cookie_manager_for_browser_process_.get();
 }
 
+#if defined(OS_OHOS)
+network::mojom::CookieManager*
+StoragePartitionImpl::GetCookieManagerForOhos() {
+  DCHECK(initialized_);
+  // Create the CookieManager remote for ohos as needed.
+  if (!cookie_manager_for_ohos_ ||
+      !cookie_manager_for_ohos_.is_connected()) {
+    // Reset |cookie_manager_for_ohos_| before binding it again.
+
+    cookie_manager_for_ohos_.reset();
+    GetIOThreadTaskRunner({})->PostTask(
+        FROM_HERE,
+        base::BindOnce(&StoragePartitionImpl::GetCookieManagerForOhosInternal,
+                       base::Unretained(this)));
+    completion_.Wait();
+  }
+  return cookie_manager_for_ohos_.get();
+}
+
+void StoragePartitionImpl::GetCookieManagerForOhosInternal() {
+  GetNetworkContext()->GetCookieManager(
+        cookie_manager_for_ohos_.BindNewPipeAndPassReceiver());
+  completion_.Signal();
+}
+#endif
+
 void StoragePartitionImpl::CreateRestrictedCookieManager(
     network::mojom::RestrictedCookieManagerRole role,
     const url::Origin& origin,
diff --git a/content/browser/storage_partition_impl.h b/content/browser/storage_partition_impl.h
index 39ad00ebb1b13..96305d98111ec 100644
--- a/content/browser/storage_partition_impl.h
+++ b/content/browser/storage_partition_impl.h
@@ -11,6 +11,11 @@
 #include <memory>
 #include <string>
 
+#if defined(OS_OHOS)
+#include "base/synchronization/lock.h"
+#include "base/synchronization/waitable_event.h"
+#endif
+
 #include "base/compiler_specific.h"
 #include "base/containers/flat_map.h"
 #include "base/containers/flat_set.h"
@@ -140,6 +145,7 @@ class CONTENT_EXPORT StoragePartitionImpl
   std::unique_ptr<network::PendingSharedURLLoaderFactory>
   GetURLLoaderFactoryForBrowserProcessIOThread() override;
   network::mojom::CookieManager* GetCookieManagerForBrowserProcess() override;
+  network::mojom::CookieManager* GetCookieManagerForOhos() override;
   void CreateHasTrustTokensAnswerer(
       mojo::PendingReceiver<network::mojom::HasTrustTokensAnswerer> receiver,
       const url::Origin& top_frame_origin) override;
@@ -502,6 +508,10 @@ class CONTENT_EXPORT StoragePartitionImpl
   // OnLocalTrustTokenFulfillerConnectionError.
   void ProvisionallyBindUnboundLocalTrustTokenFulfillerIfSupportedBySystem();
 
+#if defined(OS_OHOS)
+  void GetCookieManagerForOhosInternal();
+#endif
+
   // Raw pointer that should always be valid. The BrowserContext owns the
   // StoragePartitionImplMap which then owns StoragePartitionImpl. When the
   // BrowserContext is destroyed, |this| will be destroyed too.
@@ -547,7 +557,7 @@ class CONTENT_EXPORT StoragePartitionImpl
   std::unique_ptr<BroadcastChannelProvider> broadcast_channel_provider_;
   std::unique_ptr<BluetoothAllowedDevicesMap> bluetooth_allowed_devices_map_;
   scoped_refptr<BlobRegistryWrapper> blob_registry_;
-  scoped_refptr<PrefetchURLLoaderService> prefetch_url_loader_service_;
+  std::unique_ptr<PrefetchURLLoaderService> prefetch_url_loader_service_;
   scoped_refptr<CookieStoreContext> cookie_store_context_;
   scoped_refptr<BucketContext> bucket_context_;
   scoped_refptr<GeneratedCodeCacheContext> generated_code_cache_context_;
@@ -603,6 +613,12 @@ class CONTENT_EXPORT StoragePartitionImpl
   bool is_test_url_loader_factory_for_browser_process_with_corb_ = false;
   mojo::Remote<network::mojom::CookieManager>
       cookie_manager_for_browser_process_;
+#if defined(OS_OHOS)
+  mojo::Remote<network::mojom::CookieManager>
+      cookie_manager_for_ohos_;
+  base::WaitableEvent completion_{base::WaitableEvent::ResetPolicy::AUTOMATIC,
+                                  base::WaitableEvent::InitialState::NOT_SIGNALED};
+#endif
   mojo::Remote<network::mojom::OriginPolicyManager>
       origin_policy_manager_for_browser_process_;
 
diff --git a/content/common/cursors/webcursor.cc b/content/common/cursors/webcursor.cc
index a9d5a6f64fbc4..e5a4e709ea45c 100644
--- a/content/common/cursors/webcursor.cc
+++ b/content/common/cursors/webcursor.cc
@@ -32,16 +32,19 @@ WebCursor& WebCursor::operator=(const WebCursor& other) {
 }
 
 bool WebCursor::SetCursor(const ui::Cursor& cursor) {
-  static constexpr int kMaxSize = 1024;
+  // This value is just large enough to accommodate:
+  // - kMaximumCursorSize in Blink's EventHandler
+  // - kCursorSize in Chrome's DevToolsEyeDropper
+  static constexpr int kMaximumCursorSize = 150;
   if (cursor.image_scale_factor() < 0.01f ||
       cursor.image_scale_factor() > 100.f ||
       (cursor.type() == ui::mojom::CursorType::kCustom &&
-       (cursor.custom_bitmap().width() > kMaxSize ||
-        cursor.custom_bitmap().height() > kMaxSize ||
+       (cursor.custom_bitmap().width() > kMaximumCursorSize ||
+        cursor.custom_bitmap().height() > kMaximumCursorSize ||
         cursor.custom_bitmap().width() / cursor.image_scale_factor() >
-            kMaxSize ||
+            kMaximumCursorSize ||
         cursor.custom_bitmap().height() / cursor.image_scale_factor() >
-            kMaxSize))) {
+            kMaximumCursorSize))) {
     return false;
   }
 
diff --git a/content/common/cursors/webcursor_mac.mm b/content/common/cursors/webcursor_mac.mm
index 2d269dff5f103..3359c8033eb71 100644
--- a/content/common/cursors/webcursor_mac.mm
+++ b/content/common/cursors/webcursor_mac.mm
@@ -261,6 +261,7 @@ gfx::NativeCursor WebCursor::GetNativeCursor() {
     case ui::mojom::CursorType::kCustom:
       return CreateCustomCursor(cursor_);
     case ui::mojom::CursorType::kNull:
+      return [NSCursor arrowCursor];
     case ui::mojom::CursorType::kDndNone:
     case ui::mojom::CursorType::kDndMove:
     case ui::mojom::CursorType::kDndCopy:
diff --git a/content/common/cursors/webcursor_unittest.cc b/content/common/cursors/webcursor_unittest.cc
index b3e0eb250efc2..42bfc2445e152 100644
--- a/content/common/cursors/webcursor_unittest.cc
+++ b/content/common/cursors/webcursor_unittest.cc
@@ -137,11 +137,11 @@ TEST(WebCursorTest, SetCursor) {
 
   // SetCursor should return false when the image width is too large.
   cursor.set_image_scale_factor(1.f);
-  cursor.set_custom_bitmap(CreateTestBitmap(1025, 3));
+  cursor.set_custom_bitmap(CreateTestBitmap(151, 3));
   EXPECT_FALSE(webcursor.SetCursor(cursor));
 
   // SetCursor should return false when the image height is too large.
-  cursor.set_custom_bitmap(CreateTestBitmap(3, 1025));
+  cursor.set_custom_bitmap(CreateTestBitmap(3, 151));
   EXPECT_FALSE(webcursor.SetCursor(cursor));
 
   // SetCursor should return false when the scaled image width is too large.
@@ -151,7 +151,7 @@ TEST(WebCursorTest, SetCursor) {
 
   // SetCursor should return false when the scaled image height is too large.
   cursor.set_image_scale_factor(0.1f);
-  cursor.set_custom_bitmap(CreateTestBitmap(5, 200));
+  cursor.set_custom_bitmap(CreateTestBitmap(5, 20));
   EXPECT_FALSE(webcursor.SetCursor(cursor));
 }
 
diff --git a/content/common/frame.mojom b/content/common/frame.mojom
index fb71337543f3c..06e3d53cbffc1 100644
--- a/content/common/frame.mojom
+++ b/content/common/frame.mojom
@@ -532,8 +532,10 @@ struct CreateNewWindowParams {
 
 // Operation result when the renderer asks the browser to create a new window.
 enum CreateNewWindowStatus {
-  // Ignore creation of the new window. This can happen because creation is
-  // blocked or because the new window should have no opener relationship.
+  // Creation of the new window was blocked, e.g. because the source frame
+  // doesn't have user activation.
+  kBlocked,
+  // Ignore creation of the new window, e.g. because noopener is in effect.
   kIgnore,
   // Reuse the current window rather than creating a new window.
   kReuse,
diff --git a/content/public/browser/storage_partition.h b/content/public/browser/storage_partition.h
index 2c21c9721c800..e3eb244941765 100644
--- a/content/public/browser/storage_partition.h
+++ b/content/public/browser/storage_partition.h
@@ -113,7 +113,10 @@ class CONTENT_EXPORT StoragePartition {
   GetURLLoaderFactoryForBrowserProcessIOThread() = 0;
   virtual network::mojom::CookieManager*
   GetCookieManagerForBrowserProcess() = 0;
-
+#if defined(OS_OHOS)
+  virtual network::mojom::CookieManager*
+  GetCookieManagerForOhos() = 0;
+#endif
   virtual void CreateHasTrustTokensAnswerer(
       mojo::PendingReceiver<network::mojom::HasTrustTokensAnswerer> receiver,
       const url::Origin& top_frame_origin) = 0;
diff --git a/content/public/common/content_switches.cc b/content/public/common/content_switches.cc
index 61ccb23398413..a4836d8c97a21 100644
--- a/content/public/common/content_switches.cc
+++ b/content/public/common/content_switches.cc
@@ -974,6 +974,7 @@ const char kEnableSpeechDispatcher[] = "enable-speech-dispatcher";
 #if defined(OS_OHOS)
 const char kEnableMultiRendererProcess[] = "enable-multi-renderer-process";
 const char kForTest[] = "for-test";
+const char kBundleInstallationDir[] = "bundle-installation-dir";
 #endif
 
 #if defined(OS_WIN)
diff --git a/content/public/common/content_switches.h b/content/public/common/content_switches.h
index deb45f55a2074..13286c752ba33 100644
--- a/content/public/common/content_switches.h
+++ b/content/public/common/content_switches.h
@@ -267,11 +267,12 @@ CONTENT_EXPORT extern const char kRendererWaitForJavaDebugger[];
 // of lacros-chrome is complete.
 #if defined(OS_LINUX) || BUILDFLAG(IS_CHROMEOS_LACROS) || defined(OS_OHOS)
 CONTENT_EXPORT extern const char kEnableSpeechDispatcher[];
-CONTENT_EXPORT extern const char kForTest[];
 #endif
 
 #if defined(OS_OHOS)
 CONTENT_EXPORT extern const char kEnableMultiRendererProcess[];
+CONTENT_EXPORT extern const char kForTest[];
+CONTENT_EXPORT extern const char kBundleInstallationDir[];
 #endif
 
 #if defined(OS_WIN)
diff --git a/content/renderer/media/ohos/ohos_media_player_renderer_client.cc b/content/renderer/media/ohos/ohos_media_player_renderer_client.cc
index 666e08857ca0b..60b5889189341 100644
--- a/content/renderer/media/ohos/ohos_media_player_renderer_client.cc
+++ b/content/renderer/media/ohos/ohos_media_player_renderer_client.cc
@@ -136,10 +136,9 @@ void OHOSMediaPlayerRendererClient::OnFrameUpdate(
                << " coded_width:" << coded_width
                << " coded_height:" << coded_height
                << " visible_width:" << visible_width
-               << " visible_height:" << visible_height
-               << " mmap:" << (void*)mapped
-               << " fd:" << fd
-               << " format:" << src_format << " size:" << buffer_size;
+               << " visible_height:" << visible_height << " fd:" << fd
+               << " mapped:" << (void*)mapped << " format:" << src_format
+               << " size:" << buffer_size;
   }
   gfx::Size coded_size = gfx::Size(coded_width, coded_height);
   gfx::Rect visible_rect = gfx::Rect(0, 0, visible_width, visible_height);
diff --git a/content/renderer/render_remote_proxy.cc b/content/renderer/render_remote_proxy.cc
index 2fada4e83b9ee..858d5e4c01c62 100644
--- a/content/renderer/render_remote_proxy.cc
+++ b/content/renderer/render_remote_proxy.cc
@@ -65,14 +65,22 @@ bool RenderRemoteProxy::WaitForBrowserFd() {
   }
   LOG(INFO) << "wait for browser fd start";
   std::unique_lock<std::mutex> lk(browser_fd_mtx_);
-  constexpr int kTimeOutDur = 5;  // seconds
-  if (!browser_fd_cv_.wait_for(lk, std::chrono::seconds(kTimeOutDur),
-                               []() { return is_browser_fd_received_; })) {
-    LOG(ERROR) << "wait for browser fd timeout(" << kTimeOutDur << "s)";
-    return false;
+  constexpr uint32_t kTimeOutDur = 10;  // milliseconds
+  constexpr uint32_t kMaxWaitCount = 10;
+  uint32_t wait_count = 0;
+  while (++wait_count <= kMaxWaitCount) {
+    if (!browser_fd_cv_.wait_for(lk, std::chrono::milliseconds(kTimeOutDur),
+                                 []() { return is_browser_fd_received_; })) {
+      LOG(INFO) << "retry AttachRenderProcess for " << wait_count << "time";
+      g_app_mgr_client->AttachRenderProcess(g_render_remote_proxy);
+    } else {
+      LOG(INFO) << "success, wait for browser fd end";
+      return true;
+    }
   }
-  LOG(INFO) << "wait for browser fd end";
-  return true;
+  LOG(ERROR) << "wait for browser fd timeout(" << (kTimeOutDur * kMaxWaitCount)
+             << "ms)";
+  return false;
 }
 
 } // namespace content
\ No newline at end of file
diff --git a/content/renderer/render_view_impl.cc b/content/renderer/render_view_impl.cc
index 8c8b5f4efe35f..7939d7a142e3d 100644
--- a/content/renderer/render_view_impl.cc
+++ b/content/renderer/render_view_impl.cc
@@ -337,8 +337,27 @@ WebView* RenderViewImpl::CreateView(
   mojom::CreateNewWindowStatus status;
   mojom::CreateNewWindowReplyPtr reply;
   auto* frame_host = creator_frame->GetFrameHost();
-  bool err = !frame_host->CreateNewWindow(std::move(params), &status, &reply);
-  if (err || status == mojom::CreateNewWindowStatus::kIgnore)
+  if (!frame_host->CreateNewWindow(std::move(params), &status, &reply)) {
+    // The sync IPC failed, e.g. maybe the render process is in the middle of
+    // shutting down. Can't create a new window without the browser process,
+    // so just bail out.
+    return nullptr;
+  }
+
+  // If creation of the window was blocked (e.g. because this frame doesn't
+  // have user activation), return before consuming user activation. A frame
+  // that isn't allowed to open a window  shouldn't be able to consume the
+  // activation for the rest of the frame tree.
+  if (status == mojom::CreateNewWindowStatus::kBlocked)
+    return nullptr;
+
+  // Consume the transient user activation in the current renderer.
+  consumed_user_gesture = creator->ConsumeTransientUserActivation(
+      blink::UserActivationUpdateSource::kBrowser);
+
+  // If we should ignore the new window (e.g. because of `noopener`), return
+  // now that user activation was consumed.
+  if (status == mojom::CreateNewWindowStatus::kIgnore)
     return nullptr;
 
   // For Android WebView, we support a pop-up like behavior for window.open()
@@ -358,11 +377,6 @@ WebView* RenderViewImpl::CreateView(
   DCHECK_NE(MSG_ROUTING_NONE, reply->main_frame_route_id);
   DCHECK_NE(MSG_ROUTING_NONE, reply->widget_params->routing_id);
 
-  // The browser allowed creation of a new window and consumed the user
-  // activation.
-  consumed_user_gesture = creator->ConsumeTransientUserActivation(
-      blink::UserActivationUpdateSource::kBrowser);
-
   // While this view may be a background extension page, it can spawn a visible
   // render view. So we just assume that the new one is not another background
   // page instead of passing on our own value.
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/_CLICK_ME_TO_RUN_face_mesh_test_LOCALLY.html b/content/test/data/gpu/mediapipe/face_mesh_test/_CLICK_ME_TO_RUN_face_mesh_test_LOCALLY.html
new file mode 100644
index 0000000000000..466311a4d0ee0
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/_CLICK_ME_TO_RUN_face_mesh_test_LOCALLY.html
@@ -0,0 +1,96 @@
+<!DOCTYPE html>
+<html>
+  <head>
+    <style>
+      textarea { width: 500px; height: 100px; }
+      body {
+        font-family: Arial, Helvetica, sans-serif;
+      }
+      .group {
+        background-color: #e0eef3;
+        padding: 5px;
+        margin: 5px;
+      }
+      .instructions {
+        padding-bottom: 5px;
+      }
+      .run-test { width: 500px; }
+      .status { font-weight: 600; }
+      .title { font-size: 18pt; font-weight: 600; padding-bottom: 20px; }
+      .outputs, .inputs, .expects {
+        display: inline-block;
+        min-width: 20px;
+        min-height: 20px;
+        padding: 10px;
+        margin: 5px;
+      }
+      .inputs { background-color: red; }
+      .expects { background-color: orange; }
+      .outputs { background-color: green; }
+    </style>
+    <title>MediaPipe Graph Test for Web</title>
+  </head>
+<body>
+
+  <div class="title">Mediapipe for Web: face_mesh_test</div>
+
+  <div class="group">
+    <div class="instructions">
+      Test is loaded into the following input element:
+    </div>
+    <div class="input">
+      <textarea class="test"></textarea>
+    </div>
+    <button class="run-test">
+      Run Test
+    </button>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      When the graph loads, loaded status will turn COMPLETE.
+      When the test finishes, test status will turn COMPLETE.
+    </div>
+
+    <div class="status">
+      <span class="instructions">Loaded Status:</span>
+      <span class="test-ready">INCOMPLETE</span>
+    </div>
+
+    <div class="status">
+      <span class="instructions">Test Status:</span>
+      <span class="test-complete">INCOMPLETE</span>
+    </div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">Errors (if any) will show up here:</div>
+    <div class="errors"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Inputs:
+    </div>
+    <div class="inputs"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Expectations:
+    </div>
+    <div class="expects"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Outputs:
+    </div>
+    <div class="outputs"></div>
+  </div>
+
+</body>
+</html>
+<script src="test_harness_driver_bin.js"></script>
+<!-- The following line is replaced for the ":<name>_serve" target. Do not hand edit. -->
+<script src="face_mesh_test_localdriver_bin.js"></script>
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_graph.json b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_graph.json
new file mode 100644
index 0000000000000..f3ab01e6648b3
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_graph.json
@@ -0,0 +1,15 @@
+{
+  "files": [ ],
+  "graph": {"url": "face_mesh.binarypb"},
+  "listeners": [{
+    "wants": ["multi_face_landmarks", "image_transformed"],
+    "outs": {
+      "image": "image_transformed",
+      "multiFaceLandmarks":
+          {"type": "landmarks_list", "stream": "multi_face_landmarks"}
+    }
+  }],
+  "inputs": {
+    "image": {"type": "video", "stream": "input_frames_gpu"}
+  }
+}
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test.json b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test.json
new file mode 100644
index 0000000000000..1e491fea5667d
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test.json
@@ -0,0 +1,17 @@
+{
+  "inputs": [
+    {"name": "image", "type": "video", "src": "face_mesh_test_image.jpg"}
+  ],
+  "expects": [
+    {"name": "image", "type": "video", "src": "face_mesh_test_image.jpg", "tolerance": 0.2},
+    {
+      "name": "multiFaceLandmarks",
+      "type": "object",
+      "dataPattern":"^\\[\\[\\{\"x\":0\\.464\\d+,\"y\":0\\.415\\d+,\"z\":-0\\.018\\d+\\}"
+    }
+  ],
+  "outputs": [
+    {"name": "image", "type": "video"},
+    {"name": "multiFaceLandmarks", "type": "object"}
+  ]
+}
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_localdriver_bin.js b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_localdriver_bin.js
new file mode 100644
index 0000000000000..a06da6d161d2b
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_localdriver_bin.js
@@ -0,0 +1,6 @@
+(function(){/*
+
+ Copyright The Closure Library Authors.
+ SPDX-License-Identifier: Apache-2.0
+*/
+'use strict';var d=this||self;function f(b,e){b=b.split(".");var a=d;b[0]in a||"undefined"==typeof a.execScript||a.execScript("var "+b[0]);for(var c;b.length&&(c=b.shift());)b.length||void 0===e?a[c]&&a[c]!==Object.prototype[c]?a=a[c]:a=a[c]={}:a[c]=e};document.querySelector(".test").value=JSON.stringify({binarypb:"face_mesh.binarypb",solutionUrl:"face_mesh_graph.json",testUrl:"face_mesh_test.json",name:"face_mesh_test"});f("runTest",function(){document.querySelector(".run-test").click()});f("isTestComplete",function(){return"COMPLETE"===document.querySelector(".test-complete").textContent});f("getErrors",function(){return document.querySelector(".errors").textContent});}).call(this);
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_packed_assets_loader.js b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_packed_assets_loader.js
new file mode 100644
index 0000000000000..16d0ca100286e
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_packed_assets_loader.js
@@ -0,0 +1,187 @@
+
+  var Module = typeof createMediapipeSolutionsPackedAssets !== 'undefined' ? createMediapipeSolutionsPackedAssets : {};
+  
+  if (!Module.expectedDataFileDownloads) {
+    Module.expectedDataFileDownloads = 0;
+  }
+  Module.expectedDataFileDownloads++;
+  (function() {
+   var loadPackage = function(metadata) {
+  
+      var PACKAGE_PATH;
+      if (typeof window === 'object') {
+        PACKAGE_PATH = window['encodeURIComponent'](window.location.pathname.toString().substring(0, window.location.pathname.toString().lastIndexOf('/')) + '/');
+      } else if (typeof location !== 'undefined') {
+        // worker
+        PACKAGE_PATH = encodeURIComponent(location.pathname.toString().substring(0, location.pathname.toString().lastIndexOf('/')) + '/');
+      } else {
+        throw 'using preloaded data can only be done on a web page or in a web worker';
+      }
+      var PACKAGE_NAME = 'blaze-out/k8-opt/genfiles/third_party/mediapipe/web/solutions/face_mesh/face_mesh_test_web_solution_packed_assets.data';
+      var REMOTE_PACKAGE_BASE = 'face_mesh_test_web_solution_packed_assets.data';
+      if (typeof Module['locateFilePackage'] === 'function' && !Module['locateFile']) {
+        Module['locateFile'] = Module['locateFilePackage'];
+        err('warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)');
+      }
+      var REMOTE_PACKAGE_NAME = Module['locateFile'] ? Module['locateFile'](REMOTE_PACKAGE_BASE, '') : REMOTE_PACKAGE_BASE;
+    
+      var REMOTE_PACKAGE_SIZE = metadata['remote_package_size'];
+      var PACKAGE_UUID = metadata['package_uuid'];
+    
+      function fetchRemotePackage(packageName, packageSize, callback, errback) {
+        var xhr = new XMLHttpRequest();
+        xhr.open('GET', packageName, true);
+        xhr.responseType = 'arraybuffer';
+        xhr.onprogress = function(event) {
+          var url = packageName;
+          var size = packageSize;
+          if (event.total) size = event.total;
+          if (event.loaded) {
+            if (!xhr.addedTotal) {
+              xhr.addedTotal = true;
+              if (!Module.dataFileDownloads) Module.dataFileDownloads = {};
+              Module.dataFileDownloads[url] = {
+                loaded: event.loaded,
+                total: size
+              };
+            } else {
+              Module.dataFileDownloads[url].loaded = event.loaded;
+            }
+            var total = 0;
+            var loaded = 0;
+            var num = 0;
+            for (var download in Module.dataFileDownloads) {
+            var data = Module.dataFileDownloads[download];
+              total += data.total;
+              loaded += data.loaded;
+              num++;
+            }
+            total = Math.ceil(total * Module.expectedDataFileDownloads/num);
+            if (Module['setStatus']) Module['setStatus']('Downloading data... (' + loaded + '/' + total + ')');
+          } else if (!Module.dataFileDownloads) {
+            if (Module['setStatus']) Module['setStatus']('Downloading data...');
+          }
+        };
+        xhr.onerror = function(event) {
+          throw new Error("NetworkError for: " + packageName);
+        }
+        xhr.onload = function(event) {
+          if (xhr.status == 200 || xhr.status == 304 || xhr.status == 206 || (xhr.status == 0 && xhr.response)) { // file URLs can return 0
+            var packageData = xhr.response;
+            callback(packageData);
+          } else {
+            throw new Error(xhr.statusText + " : " + xhr.responseURL);
+          }
+        };
+        xhr.send(null);
+      };
+
+      function handleError(error) {
+        console.error('package error:', error);
+      };
+    
+        var fetchedCallback = null;
+        var fetched = Module['getPreloadedPackage'] ? Module['getPreloadedPackage'](REMOTE_PACKAGE_NAME, REMOTE_PACKAGE_SIZE) : null;
+
+        if (!fetched) fetchRemotePackage(REMOTE_PACKAGE_NAME, REMOTE_PACKAGE_SIZE, function(data) {
+          if (fetchedCallback) {
+            fetchedCallback(data);
+            fetchedCallback = null;
+          } else {
+            fetched = data;
+          }
+        }, handleError);
+      
+    function runWithFS() {
+  
+      function assert(check, msg) {
+        if (!check) throw msg + new Error().stack;
+      }
+  Module['FS_createPath']("/", "third_party", true, true);
+Module['FS_createPath']("/third_party", "mediapipe", true, true);
+Module['FS_createPath']("/third_party/mediapipe", "modules", true, true);
+Module['FS_createPath']("/third_party/mediapipe/modules", "face_landmark", true, true);
+Module['FS_createPath']("/third_party/mediapipe/modules", "face_detection", true, true);
+
+          /** @constructor */
+          function DataRequest(start, end, audio) {
+            this.start = start;
+            this.end = end;
+            this.audio = audio;
+          }
+          DataRequest.prototype = {
+            requests: {},
+            open: function(mode, name) {
+              this.name = name;
+              this.requests[name] = this;
+              Module['addRunDependency']('fp ' + this.name);
+            },
+            send: function() {},
+            onload: function() {
+              var byteArray = this.byteArray.subarray(this.start, this.end);
+              this.finish(byteArray);
+            },
+            finish: function(byteArray) {
+              var that = this;
+      
+          Module['FS_createPreloadedFile'](this.name, null, byteArray, true, true, function() {
+            Module['removeRunDependency']('fp ' + that.name);
+          }, function() {
+            if (that.audio) {
+              Module['removeRunDependency']('fp ' + that.name); // workaround for chromium bug 124926 (still no audio with this, but at least we don't hang)
+            } else {
+              err('Preloading file ' + that.name + ' failed');
+            }
+          }, false, true); // canOwn this data in the filesystem, it is a slide into the heap that will never change
+  
+              this.requests[this.name] = null;
+            }
+          };
+      
+              var files = metadata['files'];
+              for (var i = 0; i < files.length; ++i) {
+                new DataRequest(files[i]['start'], files[i]['end'], files[i]['audio']).open('GET', files[i]['filename']);
+              }
+      
+        
+      function processPackageData(arrayBuffer) {
+        assert(arrayBuffer, 'Loading data file failed.');
+        assert(arrayBuffer instanceof ArrayBuffer, 'bad input to processPackageData');
+        var byteArray = new Uint8Array(arrayBuffer);
+        var curr;
+        
+          // Reuse the bytearray from the XHR as the source for file reads.
+          DataRequest.prototype.byteArray = byteArray;
+    
+            var files = metadata['files'];
+            for (var i = 0; i < files.length; ++i) {
+              DataRequest.prototype.requests[files[i].filename].onload();
+            }
+                Module['removeRunDependency']('datafile_blaze-out/k8-opt/genfiles/third_party/mediapipe/web/solutions/face_mesh/face_mesh_test_web_solution_packed_assets.data');
+
+      };
+      Module['addRunDependency']('datafile_blaze-out/k8-opt/genfiles/third_party/mediapipe/web/solutions/face_mesh/face_mesh_test_web_solution_packed_assets.data');
+    
+      if (!Module.preloadResults) Module.preloadResults = {};
+    
+        Module.preloadResults[PACKAGE_NAME] = {fromCache: false};
+        if (fetched) {
+          processPackageData(fetched);
+          fetched = null;
+        } else {
+          fetchedCallback = processPackageData;
+        }
+      
+    }
+    if (Module['calledRun']) {
+      runWithFS();
+    } else {
+      if (!Module['preRun']) Module['preRun'] = [];
+      Module["preRun"].push(runWithFS); // FS is not initialized yet, wait for it
+    }
+  
+   }
+   loadPackage({"files": [{"filename": "/third_party/mediapipe/modules/face_landmark/face_landmark.tflite", "start": 0, "end": 2439276, "audio": 0}, {"filename": "/third_party/mediapipe/modules/face_detection/face_detection_front.tflite", "start": 2439276, "end": 2668308, "audio": 0}], "remote_package_size": 2668308, "package_uuid": "2369506b-b768-4a3f-afa1-edb61840a746"});
+  
+  })();
+  
\ No newline at end of file
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_simd_wasm_bin.data b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_simd_wasm_bin.data
new file mode 100644
index 0000000000000..e69de29bb2d1d
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_simd_wasm_bin.js b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_simd_wasm_bin.js
new file mode 100644
index 0000000000000..7022cc50512cb
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_simd_wasm_bin.js
@@ -0,0 +1,21 @@
+
+var createMediapipeSolutionsWasm = (function() {
+  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
+  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
+  return (
+function(createMediapipeSolutionsWasm) {
+  createMediapipeSolutionsWasm = createMediapipeSolutionsWasm || {};
+
+var Module=typeof createMediapipeSolutionsWasm!=="undefined"?createMediapipeSolutionsWasm:{};var readyPromiseResolve,readyPromiseReject;Module["ready"]=new Promise(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject});if(!Object.getOwnPropertyDescriptor(Module["ready"],"_main")){Object.defineProperty(Module["ready"],"_main",{configurable:true,get:function(){abort("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_main",{configurable:true,set:function(){abort("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_end")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_free")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_init")){Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,get:function(){abort("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,set:function(){abort("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackSave")){Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,get:function(){abort("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,set:function(){abort("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackRestore")){Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,get:function(){abort("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,set:function(){abort("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackAlloc")){Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,get:function(){abort("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,set:function(){abort("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___wasm_call_ctors")){Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,get:function(){abort("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,set:function(){abort("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_fflush")){Object.defineProperty(Module["ready"],"_fflush",{configurable:true,get:function(){abort("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_fflush",{configurable:true,set:function(){abort("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___errno_location")){Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,get:function(){abort("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,set:function(){abort("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_malloc")){Object.defineProperty(Module["ready"],"_malloc",{configurable:true,get:function(){abort("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_malloc",{configurable:true,set:function(){abort("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_free")){Object.defineProperty(Module["ready"],"_free",{configurable:true,get:function(){abort("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_free",{configurable:true,set:function(){abort("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_setThrew")){Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,get:function(){abort("You are getting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,set:function(){abort("You are setting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___cxa_is_pointer_type")){Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,get:function(){abort("You are getting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,set:function(){abort("You are setting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memalign")){Object.defineProperty(Module["ready"],"_memalign",{configurable:true,get:function(){abort("You are getting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memalign",{configurable:true,set:function(){abort("You are setting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memset")){Object.defineProperty(Module["ready"],"_memset",{configurable:true,get:function(){abort("You are getting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memset",{configurable:true,set:function(){abort("You are setting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_main_thread_process_queued_calls")){Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,get:function(){abort("You are getting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,set:function(){abort("You are setting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_make_context_current")){Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_get_current_context")){Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_tzname")){Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,get:function(){abort("You are getting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,set:function(){abort("You are setting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_daylight")){Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,get:function(){abort("You are getting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,set:function(){abort("You are setting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_timezone")){Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,get:function(){abort("You are getting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,set:function(){abort("You are setting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"onRuntimeInitialized")){Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,get:function(){abort("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,set:function(){abort("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram="./this.program";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)")}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require("path").dirname(scriptDirectory)+"/"}else{scriptDirectory=__dirname+"/"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);return nodeFS["readFileSync"](filename,binary?null:"utf8")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process["argv"].length>1){thisProgram=process["argv"][1].replace(/\\/g,"/")}arguments_=process["argv"].slice(2);process["on"]("uncaughtException",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process["on"]("unhandledRejection",abort);quit_=function(status){process["exit"](status)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){arguments_=scriptArgs}else if(typeof arguments!="undefined"){arguments_=arguments}if(typeof quit==="function"){quit_=function(status){quit(status)}}if(typeof print!=="undefined"){if(typeof console==="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!=="undefined"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!=="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1)}else{scriptDirectory=""}{read_=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{throw new Error("environment detection error")}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(!Object.getOwnPropertyDescriptor(Module,"arguments")){Object.defineProperty(Module,"arguments",{configurable:true,get:function(){abort("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(!Object.getOwnPropertyDescriptor(Module,"thisProgram")){Object.defineProperty(Module,"thisProgram",{configurable:true,get:function(){abort("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["quit"])quit_=Module["quit"];if(!Object.getOwnPropertyDescriptor(Module,"quit")){Object.defineProperty(Module,"quit",{configurable:true,get:function(){abort("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(typeof Module["memoryInitializerPrefixURL"]==="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]==="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]==="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]==="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]==="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]==="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]==="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]==="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]==="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");if(!Object.getOwnPropertyDescriptor(Module,"read")){Object.defineProperty(Module,"read",{configurable:true,get:function(){abort("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readAsync")){Object.defineProperty(Module,"readAsync",{configurable:true,get:function(){abort("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readBinary")){Object.defineProperty(Module,"readBinary",{configurable:true,get:function(){abort("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"setWindowTitle")){Object.defineProperty(Module,"setWindowTitle",{configurable:true,get:function(){abort("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var STACK_ALIGN=16;function alignMemory(size,factor){if(!factor)factor=STACK_ALIGN;return Math.ceil(size/factor)*factor}function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text)}}function convertJsFunctionToWasm(func,sig){if(typeof WebAssembly.Function==="function"){var typeNames={"i":"i32","j":"i64","f":"f32","d":"f64"};var type={parameters:[],results:sig[0]=="v"?[]:[typeNames[sig[0]]]};for(var i=1;i<sig.length;++i){type.parameters.push(typeNames[sig[i]])}return new WebAssembly.Function(type,func)}var typeSection=[1,0,1,96];var sigRet=sig.slice(0,1);var sigParam=sig.slice(1);var typeCodes={"i":127,"j":126,"f":125,"d":124};typeSection.push(sigParam.length);for(var i=0;i<sigParam.length;++i){typeSection.push(typeCodes[sigParam[i]])}if(sigRet=="v"){typeSection.push(0)}else{typeSection=typeSection.concat([1,typeCodes[sigRet]])}typeSection[1]=typeSection.length-2;var bytes=new Uint8Array([0,97,115,109,1,0,0,0].concat(typeSection,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0]));var module=new WebAssembly.Module(bytes);var instance=new WebAssembly.Instance(module,{"e":{"f":func}});var wrappedFunc=instance.exports["f"];return wrappedFunc}var freeTableIndexes=[];var functionsInTableMap;function getEmptyTableSlot(){if(freeTableIndexes.length){return freeTableIndexes.pop()}try{wasmTable.grow(1)}catch(err){if(!(err instanceof RangeError)){throw err}throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return wasmTable.length-1}function addFunctionWasm(func,sig){if(!functionsInTableMap){functionsInTableMap=new WeakMap;for(var i=0;i<wasmTable.length;i++){var item=wasmTable.get(i);if(item){functionsInTableMap.set(item,i)}}}if(functionsInTableMap.has(func)){return functionsInTableMap.get(func)}var ret=getEmptyTableSlot();try{wasmTable.set(ret,func)}catch(err){if(!(err instanceof TypeError)){throw err}assert(typeof sig!=="undefined","Missing signature argument to addFunction: "+func);var wrapped=convertJsFunctionToWasm(func,sig);wasmTable.set(ret,wrapped)}functionsInTableMap.set(func,ret);return ret}var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var getTempRet0=function(){return tempRet0};var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];if(!Object.getOwnPropertyDescriptor(Module,"wasmBinary")){Object.defineProperty(Module,"wasmBinary",{configurable:true,get:function(){abort("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var noExitRuntime=Module["noExitRuntime"]||true;if(!Object.getOwnPropertyDescriptor(Module,"noExitRuntime")){Object.defineProperty(Module,"noExitRuntime",{configurable:true,get:function(){abort("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(typeof WebAssembly!=="object"){abort("no native wasm support detected")}var wasmMemory;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}function getCFunc(ident){var func=Module["_"+ident];assert(func,"Cannot call unknown function "+ident+", make sure it is exported");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={"string":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},"array":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string")return UTF8ToString(ret);if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;assert(returnType!=="array",'Return type should not be "array".');if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}var ALLOC_STACK=1;var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte 0x"+u0.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;if(u>=2097152)warnOnce("Invalid Unicode code point 0x"+u.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder){return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr))}else{var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit)}return str}}function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr}function lengthBytesUTF16(str){return str.length*2}function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}return str}function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr}function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len}function allocateUTF8(str){var size=lengthBytesUTF8(str)+1;var ret=_malloc(size);if(ret)stringToUTF8Array(str,HEAP8,ret,size);return ret}function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer)}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){assert(str.charCodeAt(i)===str.charCodeAt(i)&255);HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module["HEAP8"]=HEAP8=new Int8Array(buf);Module["HEAP16"]=HEAP16=new Int16Array(buf);Module["HEAP32"]=HEAP32=new Int32Array(buf);Module["HEAPU8"]=HEAPU8=new Uint8Array(buf);Module["HEAPU16"]=HEAPU16=new Uint16Array(buf);Module["HEAPU32"]=HEAPU32=new Uint32Array(buf);Module["HEAPF32"]=HEAPF32=new Float32Array(buf);Module["HEAPF64"]=HEAPF64=new Float64Array(buf)}var TOTAL_STACK=5242880;if(Module["TOTAL_STACK"])assert(TOTAL_STACK===Module["TOTAL_STACK"],"the stack size can no longer be determined at runtime");var INITIAL_MEMORY=Module["INITIAL_MEMORY"]||16777216;if(!Object.getOwnPropertyDescriptor(Module,"INITIAL_MEMORY")){Object.defineProperty(Module,"INITIAL_MEMORY",{configurable:true,get:function(){abort("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(INITIAL_MEMORY>=TOTAL_STACK,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+INITIAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");assert(typeof Int32Array!=="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!==undefined&&Int32Array.prototype.set!==undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally");assert(INITIAL_MEMORY==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end();assert((max&3)==0);HEAPU32[(max>>2)+1]=34821223;HEAPU32[(max>>2)+2]=2310721022;HEAP32[0]=1668509029}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end();var cookie1=HEAPU32[(max>>2)+1];var cookie2=HEAPU32[(max>>2)+2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+cookie2.toString(16)+" "+cookie1.toString(16))}if(HEAP32[0]!==1668509029)abort("Runtime error: The application has corrupted its heap memory area (address zero)!")}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){checkStackCookie();assert(!runtimeInitialized);runtimeInitialized=true;if(!Module["noFSInit"]&&!FS.init.initialized)FS.init();TTY.init();callRuntimeCallbacks(__ATINIT__)}function preMain(){checkStackCookie();FS.ignorePermissions=false;callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){checkStackCookie();runtimeExited=true}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function getUniqueRunDependency(id){var orig=id;while(1){if(!runDependencyTracking[id])return id;id=orig+Math.random()}}function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!=="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:")}err("dependency: "+dep)}if(shown){err("(end of list)")}},1e4)}}else{err("warning: run dependency added without ID")}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id]}else{err("warning: run dependency removed without ID")}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}what+="";err(what);ABORT=true;EXITSTATUS=1;var output="abort("+what+") at "+stackTrace();what=output;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix="file://";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}function createExportWrapper(name,fixedasm){return function(){var displayName=name;var asm=fixedasm;if(!fixedasm){asm=Module["asm"]}assert(runtimeInitialized,"native function `"+displayName+"` called before runtime initialization");assert(!runtimeExited,"native function `"+displayName+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)");if(!asm[name]){assert(asm[name],"exported native function `"+displayName+"` not found")}return asm[name].apply(null,arguments)}}var wasmBinaryFile="face_mesh_test_web_solution_simd_wasm_bin.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(file){try{if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}else{throw"both async and sync fetching of the wasm failed"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch==="function"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()}).catch(function(){return getBinary(wasmBinaryFile)})}else{if(readAsync){return new Promise(function(resolve,reject){readAsync(wasmBinaryFile,function(response){resolve(new Uint8Array(response))},reject)})}}}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var info={"env":asmLibraryArg,"wasi_snapshot_preview1":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module["asm"]=exports;wasmMemory=Module["asm"]["memory"];assert(wasmMemory,"memory not found in wasm exports");updateGlobalBufferAndViews(wasmMemory.buffer);wasmTable=Module["asm"]["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(Module["asm"]["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiatedSource(output){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(output["instance"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){var result=WebAssembly.instantiate(binary,info);return result}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")}abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch==="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module["instantiateWasm"]){try{var exports=Module["instantiateWasm"](info,receiveInstance);return exports}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}instantiateAsync().catch(readyPromiseReject);return{}}var tempDouble;var tempI64;var ASM_CONSTS={549824:function(){let init_once=true;if(init_once){const cachedFindCanvasEventTarget=findCanvasEventTarget;if(typeof cachedFindCanvasEventTarget!=="function"){if(typeof console!=="undefined"){console.error("Expected Emscripten global function "+'"findCanvasEventTarget" not found. WebGL context creation '+"may fail.")}return}findCanvasEventTarget=function(target){if(Module&&Module.canvas){return Module.canvas}else if(Module&&Module.canvasCssSelector){return cachedFindCanvasEventTarget(Module.canvasCssSelector)}else{if(typeof console!=="undefined"){console.warn("Module properties canvas and canvasCssSelector not "+"found during WebGL context creation.")}return cachedFindCanvasEventTarget(target)}};init_once=false}}};function _emscripten_set_main_loop_timing(mode,value){Browser.mainLoop.timingMode=mode;Browser.mainLoop.timingValue=value;if(!Browser.mainLoop.func){console.error("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up.");return 1}if(!Browser.mainLoop.running){Browser.mainLoop.running=true}if(mode==0){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setTimeout(){var timeUntilNextTick=Math.max(0,Browser.mainLoop.tickStartTime+value-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,timeUntilNextTick)};Browser.mainLoop.method="timeout"}else if(mode==1){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_rAF(){Browser.requestAnimationFrame(Browser.mainLoop.runner)};Browser.mainLoop.method="rAF"}else if(mode==2){if(typeof setImmediate==="undefined"){var setImmediates=[];var emscriptenMainLoopMessageId="setimmediate";var Browser_setImmediate_messageHandler=function(event){if(event.data===emscriptenMainLoopMessageId||event.data.target===emscriptenMainLoopMessageId){event.stopPropagation();setImmediates.shift()()}};addEventListener("message",Browser_setImmediate_messageHandler,true);setImmediate=function Browser_emulated_setImmediate(func){setImmediates.push(func);if(ENVIRONMENT_IS_WORKER){if(Module["setImmediates"]===undefined)Module["setImmediates"]=[];Module["setImmediates"].push(func);postMessage({target:emscriptenMainLoopMessageId})}else postMessage(emscriptenMainLoopMessageId,"*")}}Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setImmediate(){setImmediate(Browser.mainLoop.runner)};Browser.mainLoop.method="immediate"}return 0}var _emscripten_get_now;if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function(){var t=process["hrtime"]();return t[0]*1e3+t[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else _emscripten_get_now=function(){return performance.now()};var runtimeKeepaliveCounter=0;function _exit(status){exit(status)}function maybeExit(){if(!keepRuntimeAlive()){try{_exit(EXITSTATUS)}catch(e){if(e instanceof ExitStatus){return}throw e}}}function setMainLoop(browserIterationFunc,fps,simulateInfiniteLoop,arg,noSetTiming){assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");Browser.mainLoop.func=browserIterationFunc;Browser.mainLoop.arg=arg;var thisMainLoopId=Browser.mainLoop.currentlyRunningMainloop;function checkIsRunning(){if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop){maybeExit();return false}return true}Browser.mainLoop.running=false;Browser.mainLoop.runner=function Browser_mainLoop_runner(){if(ABORT)return;if(Browser.mainLoop.queue.length>0){var start=Date.now();var blocker=Browser.mainLoop.queue.shift();blocker.func(blocker.arg);if(Browser.mainLoop.remainingBlockers){var remaining=Browser.mainLoop.remainingBlockers;var next=remaining%1==0?remaining-1:Math.floor(remaining);if(blocker.counted){Browser.mainLoop.remainingBlockers=next}else{next=next+.5;Browser.mainLoop.remainingBlockers=(8*remaining+next)/9}}console.log('main loop blocker "'+blocker.name+'" took '+(Date.now()-start)+" ms");Browser.mainLoop.updateStatus();if(!checkIsRunning())return;setTimeout(Browser.mainLoop.runner,0);return}if(!checkIsRunning())return;Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0;if(Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else if(Browser.mainLoop.timingMode==0){Browser.mainLoop.tickStartTime=_emscripten_get_now()}GL.newRenderingFrameStarted();if(Browser.mainLoop.method==="timeout"&&Module.ctx){warnOnce("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!");Browser.mainLoop.method=""}Browser.mainLoop.runIter(browserIterationFunc);checkStackCookie();if(!checkIsRunning())return;if(typeof SDL==="object"&&SDL.audio&&SDL.audio.queueNewAudioData)SDL.audio.queueNewAudioData();Browser.mainLoop.scheduler()};if(!noSetTiming){if(fps&&fps>0)_emscripten_set_main_loop_timing(0,1e3/fps);else _emscripten_set_main_loop_timing(1,1);Browser.mainLoop.scheduler()}if(simulateInfiniteLoop){throw"unwind"}}function callUserCallback(func){if(ABORT){err("user callback triggered after application aborted.  Ignoring.");return}try{func()}catch(e){if(e instanceof ExitStatus){return}else if(e!=="unwind"){if(e&&typeof e==="object"&&e.stack)err("exception thrown: "+[e,e.stack]);throw e}}}var Browser={mainLoop:{running:false,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null;Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var timingMode=Browser.mainLoop.timingMode;var timingValue=Browser.mainLoop.timingValue;var func=Browser.mainLoop.func;Browser.mainLoop.func=null;setMainLoop(func,0,false,Browser.mainLoop.arg,true);_emscripten_set_main_loop_timing(timingMode,timingValue);Browser.mainLoop.scheduler()},updateStatus:function(){if(Module["setStatus"]){var message=Module["statusMessage"]||"Please wait...";var remaining=Browser.mainLoop.remainingBlockers;var expected=Browser.mainLoop.expectedBlockers;if(remaining){if(remaining<expected){Module["setStatus"](message+" ("+(expected-remaining)+"/"+expected+")")}else{Module["setStatus"](message)}}else{Module["setStatus"]("")}}},runIter:function(func){if(ABORT)return;if(Module["preMainLoop"]){var preRet=Module["preMainLoop"]();if(preRet===false){return}}callUserCallback(func);if(Module["postMainLoop"])Module["postMainLoop"]()}},isFullscreen:false,pointerLock:false,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(!Module["preloadPlugins"])Module["preloadPlugins"]=[];if(Browser.initted)return;Browser.initted=true;try{new Blob;Browser.hasBlobConstructor=true}catch(e){Browser.hasBlobConstructor=false;console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder!="undefined"?MozBlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:!Browser.hasBlobConstructor?console.log("warning: no BlobBuilder"):null;Browser.URLObject=typeof window!="undefined"?window.URL?window.URL:window.webkitURL:undefined;if(!Module.noImageDecoding&&typeof Browser.URLObject==="undefined"){console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.");Module.noImageDecoding=true}var imagePlugin={};imagePlugin["canHandle"]=function imagePlugin_canHandle(name){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(name)};imagePlugin["handle"]=function imagePlugin_handle(byteArray,name,onload,onerror){var b=null;if(Browser.hasBlobConstructor){try{b=new Blob([byteArray],{type:Browser.getMimetype(name)});if(b.size!==byteArray.length){b=new Blob([new Uint8Array(byteArray).buffer],{type:Browser.getMimetype(name)})}}catch(e){warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}}if(!b){var bb=new Browser.BlobBuilder;bb.append(new Uint8Array(byteArray).buffer);b=bb.getBlob()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var img=new Image;img.onload=function img_onload(){assert(img.complete,"Image "+name+" could not be decoded");var canvas=document.createElement("canvas");canvas.width=img.width;canvas.height=img.height;var ctx=canvas.getContext("2d");ctx.drawImage(img,0,0);Module["preloadedImages"][name]=canvas;Browser.URLObject.revokeObjectURL(url);if(onload)onload(byteArray)};img.onerror=function img_onerror(event){console.log("Image "+url+" could not be decoded");if(onerror)onerror()};img.src=url};Module["preloadPlugins"].push(imagePlugin);var audioPlugin={};audioPlugin["canHandle"]=function audioPlugin_canHandle(name){return!Module.noAudioDecoding&&name.substr(-4)in{".ogg":1,".wav":1,".mp3":1}};audioPlugin["handle"]=function audioPlugin_handle(byteArray,name,onload,onerror){var done=false;function finish(audio){if(done)return;done=true;Module["preloadedAudios"][name]=audio;if(onload)onload(byteArray)}function fail(){if(done)return;done=true;Module["preloadedAudios"][name]=new Audio;if(onerror)onerror()}if(Browser.hasBlobConstructor){try{var b=new Blob([byteArray],{type:Browser.getMimetype(name)})}catch(e){return fail()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var audio=new Audio;audio.addEventListener("canplaythrough",function(){finish(audio)},false);audio.onerror=function audio_onerror(event){if(done)return;console.log("warning: browser could not fully decode audio "+name+", trying slower base64 approach");function encode64(data){var BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var PAD="=";var ret="";var leftchar=0;var leftbits=0;for(var i=0;i<data.length;i++){leftchar=leftchar<<8|data[i];leftbits+=8;while(leftbits>=6){var curr=leftchar>>leftbits-6&63;leftbits-=6;ret+=BASE[curr]}}if(leftbits==2){ret+=BASE[(leftchar&3)<<4];ret+=PAD+PAD}else if(leftbits==4){ret+=BASE[(leftchar&15)<<2];ret+=PAD}return ret}audio.src="data:audio/x-"+name.substr(-3)+";base64,"+encode64(byteArray);finish(audio)};audio.src=url;Browser.safeSetTimeout(function(){finish(audio)},1e4)}else{return fail()}};Module["preloadPlugins"].push(audioPlugin);function pointerLockChange(){Browser.pointerLock=document["pointerLockElement"]===Module["canvas"]||document["mozPointerLockElement"]===Module["canvas"]||document["webkitPointerLockElement"]===Module["canvas"]||document["msPointerLockElement"]===Module["canvas"]}var canvas=Module["canvas"];if(canvas){canvas.requestPointerLock=canvas["requestPointerLock"]||canvas["mozRequestPointerLock"]||canvas["webkitRequestPointerLock"]||canvas["msRequestPointerLock"]||function(){};canvas.exitPointerLock=document["exitPointerLock"]||document["mozExitPointerLock"]||document["webkitExitPointerLock"]||document["msExitPointerLock"]||function(){};canvas.exitPointerLock=canvas.exitPointerLock.bind(document);document.addEventListener("pointerlockchange",pointerLockChange,false);document.addEventListener("mozpointerlockchange",pointerLockChange,false);document.addEventListener("webkitpointerlockchange",pointerLockChange,false);document.addEventListener("mspointerlockchange",pointerLockChange,false);if(Module["elementPointerLock"]){canvas.addEventListener("click",function(ev){if(!Browser.pointerLock&&Module["canvas"].requestPointerLock){Module["canvas"].requestPointerLock();ev.preventDefault()}},false)}}},createContext:function(canvas,useWebGL,setInModule,webGLContextAttributes){if(useWebGL&&Module.ctx&&canvas==Module.canvas)return Module.ctx;var ctx;var contextHandle;if(useWebGL){var contextAttributes={antialias:false,alpha:false,majorVersion:typeof WebGL2RenderingContext!=="undefined"?2:1};if(webGLContextAttributes){for(var attribute in webGLContextAttributes){contextAttributes[attribute]=webGLContextAttributes[attribute]}}if(typeof GL!=="undefined"){contextHandle=GL.createContext(canvas,contextAttributes);if(contextHandle){ctx=GL.getContext(contextHandle).GLctx}}}else{ctx=canvas.getContext("2d")}if(!ctx)return null;if(setInModule){if(!useWebGL)assert(typeof GLctx==="undefined","cannot set in module if GLctx is used, but we are a non-GL context that would replace it");Module.ctx=ctx;if(useWebGL)GL.makeContextCurrent(contextHandle);Module.useWebGL=useWebGL;Browser.moduleContextCreatedCallbacks.forEach(function(callback){callback()});Browser.init()}return ctx},destroyContext:function(canvas,useWebGL,setInModule){},fullscreenHandlersInstalled:false,lockPointer:undefined,resizeCanvas:undefined,requestFullscreen:function(lockPointer,resizeCanvas){Browser.lockPointer=lockPointer;Browser.resizeCanvas=resizeCanvas;if(typeof Browser.lockPointer==="undefined")Browser.lockPointer=true;if(typeof Browser.resizeCanvas==="undefined")Browser.resizeCanvas=false;var canvas=Module["canvas"];function fullscreenChange(){Browser.isFullscreen=false;var canvasContainer=canvas.parentNode;if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvasContainer){canvas.exitFullscreen=Browser.exitFullscreen;if(Browser.lockPointer)canvas.requestPointerLock();Browser.isFullscreen=true;if(Browser.resizeCanvas){Browser.setFullscreenCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}else{canvasContainer.parentNode.insertBefore(canvas,canvasContainer);canvasContainer.parentNode.removeChild(canvasContainer);if(Browser.resizeCanvas){Browser.setWindowedCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}if(Module["onFullScreen"])Module["onFullScreen"](Browser.isFullscreen);if(Module["onFullscreen"])Module["onFullscreen"](Browser.isFullscreen)}if(!Browser.fullscreenHandlersInstalled){Browser.fullscreenHandlersInstalled=true;document.addEventListener("fullscreenchange",fullscreenChange,false);document.addEventListener("mozfullscreenchange",fullscreenChange,false);document.addEventListener("webkitfullscreenchange",fullscreenChange,false);document.addEventListener("MSFullscreenChange",fullscreenChange,false)}var canvasContainer=document.createElement("div");canvas.parentNode.insertBefore(canvasContainer,canvas);canvasContainer.appendChild(canvas);canvasContainer.requestFullscreen=canvasContainer["requestFullscreen"]||canvasContainer["mozRequestFullScreen"]||canvasContainer["msRequestFullscreen"]||(canvasContainer["webkitRequestFullscreen"]?function(){canvasContainer["webkitRequestFullscreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null)||(canvasContainer["webkitRequestFullScreen"]?function(){canvasContainer["webkitRequestFullScreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null);canvasContainer.requestFullscreen()},requestFullScreen:function(){abort("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen:function(){if(!Browser.isFullscreen){return false}var CFS=document["exitFullscreen"]||document["cancelFullScreen"]||document["mozCancelFullScreen"]||document["msExitFullscreen"]||document["webkitCancelFullScreen"]||function(){};CFS.apply(document,[]);return true},nextRAF:0,fakeRequestAnimationFrame:function(func){var now=Date.now();if(Browser.nextRAF===0){Browser.nextRAF=now+1e3/60}else{while(now+2>=Browser.nextRAF){Browser.nextRAF+=1e3/60}}var delay=Math.max(Browser.nextRAF-now,0);setTimeout(func,delay)},requestAnimationFrame:function(func){if(typeof requestAnimationFrame==="function"){requestAnimationFrame(func);return}var RAF=Browser.fakeRequestAnimationFrame;RAF(func)},safeRequestAnimationFrame:function(func){return Browser.requestAnimationFrame(function(){callUserCallback(func)})},safeSetTimeout:function(func,timeout){return setTimeout(function(){callUserCallback(func)},timeout)},getMimetype:function(name){return{"jpg":"image/jpeg","jpeg":"image/jpeg","png":"image/png","bmp":"image/bmp","ogg":"audio/ogg","wav":"audio/wav","mp3":"audio/mpeg"}[name.substr(name.lastIndexOf(".")+1)]},getUserMedia:function(func){if(!window.getUserMedia){window.getUserMedia=navigator["getUserMedia"]||navigator["mozGetUserMedia"]}window.getUserMedia(func)},getMovementX:function(event){return event["movementX"]||event["mozMovementX"]||event["webkitMovementX"]||0},getMovementY:function(event){return event["movementY"]||event["mozMovementY"]||event["webkitMovementY"]||0},getMouseWheelDelta:function(event){var delta=0;switch(event.type){case"DOMMouseScroll":delta=event.detail/3;break;case"mousewheel":delta=event.wheelDelta/120;break;case"wheel":delta=event.deltaY;switch(event.deltaMode){case 0:delta/=100;break;case 1:delta/=3;break;case 2:delta*=80;break;default:throw"unrecognized mouse wheel delta mode: "+event.deltaMode}break;default:throw"unrecognized mouse wheel event: "+event.type}return delta},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(event){if(Browser.pointerLock){if(event.type!="mousemove"&&"mozMovementX"in event){Browser.mouseMovementX=Browser.mouseMovementY=0}else{Browser.mouseMovementX=Browser.getMovementX(event);Browser.mouseMovementY=Browser.getMovementY(event)}if(typeof SDL!="undefined"){Browser.mouseX=SDL.mouseX+Browser.mouseMovementX;Browser.mouseY=SDL.mouseY+Browser.mouseMovementY}else{Browser.mouseX+=Browser.mouseMovementX;Browser.mouseY+=Browser.mouseMovementY}}else{var rect=Module["canvas"].getBoundingClientRect();var cw=Module["canvas"].width;var ch=Module["canvas"].height;var scrollX=typeof window.scrollX!=="undefined"?window.scrollX:window.pageXOffset;var scrollY=typeof window.scrollY!=="undefined"?window.scrollY:window.pageYOffset;assert(typeof scrollX!=="undefined"&&typeof scrollY!=="undefined","Unable to retrieve scroll position, mouse positions likely broken.");if(event.type==="touchstart"||event.type==="touchend"||event.type==="touchmove"){var touch=event.touch;if(touch===undefined){return}var adjustedX=touch.pageX-(scrollX+rect.left);var adjustedY=touch.pageY-(scrollY+rect.top);adjustedX=adjustedX*(cw/rect.width);adjustedY=adjustedY*(ch/rect.height);var coords={x:adjustedX,y:adjustedY};if(event.type==="touchstart"){Browser.lastTouches[touch.identifier]=coords;Browser.touches[touch.identifier]=coords}else if(event.type==="touchend"||event.type==="touchmove"){var last=Browser.touches[touch.identifier];if(!last)last=coords;Browser.lastTouches[touch.identifier]=last;Browser.touches[touch.identifier]=coords}return}var x=event.pageX-(scrollX+rect.left);var y=event.pageY-(scrollY+rect.top);x=x*(cw/rect.width);y=y*(ch/rect.height);Browser.mouseMovementX=x-Browser.mouseX;Browser.mouseMovementY=y-Browser.mouseY;Browser.mouseX=x;Browser.mouseY=y}},asyncLoad:function(url,onload,onerror,noRunDep){var dep=!noRunDep?getUniqueRunDependency("al "+url):"";readAsync(url,function(arrayBuffer){assert(arrayBuffer,'Loading data file "'+url+'" failed (no arrayBuffer).');onload(new Uint8Array(arrayBuffer));if(dep)removeRunDependency(dep)},function(event){if(onerror){onerror()}else{throw'Loading data file "'+url+'" failed.'}});if(dep)addRunDependency(dep)},resizeListeners:[],updateResizeListeners:function(){var canvas=Module["canvas"];Browser.resizeListeners.forEach(function(listener){listener(canvas.width,canvas.height)})},setCanvasSize:function(width,height,noUpdates){var canvas=Module["canvas"];Browser.updateCanvasDimensions(canvas,width,height);if(!noUpdates)Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags|8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags&~8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},updateCanvasDimensions:function(canvas,wNative,hNative){if(wNative&&hNative){canvas.widthNative=wNative;canvas.heightNative=hNative}else{wNative=canvas.widthNative;hNative=canvas.heightNative}var w=wNative;var h=hNative;if(Module["forcedAspectRatio"]&&Module["forcedAspectRatio"]>0){if(w/h<Module["forcedAspectRatio"]){w=Math.round(h*Module["forcedAspectRatio"])}else{h=Math.round(w/Module["forcedAspectRatio"])}}if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvas.parentNode&&typeof screen!="undefined"){var factor=Math.min(screen.width/w,screen.height/h);w=Math.round(w*factor);h=Math.round(h*factor)}if(Browser.resizeCanvas){if(canvas.width!=w)canvas.width=w;if(canvas.height!=h)canvas.height=h;if(typeof canvas.style!="undefined"){canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}else{if(canvas.width!=wNative)canvas.width=wNative;if(canvas.height!=hNative)canvas.height=hNative;if(typeof canvas.style!="undefined"){if(w!=wNative||h!=hNative){canvas.style.setProperty("width",w+"px","important");canvas.style.setProperty("height",h+"px","important")}else{canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}}},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var handle=Browser.nextWgetRequestHandle;Browser.nextWgetRequestHandle++;return handle}};function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback(Module);continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){wasmTable.get(func)()}else{wasmTable.get(func)(callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}function demangle(func){warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling");return func}function demangleAll(text){var regex=/\b_Z[\w\d_]+/g;return text.replace(regex,function(x){var y=demangle(x);return x===y?x:y+" ["+x+"]"})}function jsStackTrace(){var error=new Error;if(!error.stack){try{throw new Error}catch(e){error=e}if(!error.stack){return"(no stack trace available)"}}return error.stack.toString()}function keepRuntimeAlive(){return noExitRuntime||runtimeKeepaliveCounter>0}function stackTrace(){var js=jsStackTrace();if(Module["extraStackTrace"])js+="\n"+Module["extraStackTrace"]();return demangleAll(js)}var ExceptionInfoAttrs={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function ___cxa_allocate_exception(size){return _malloc(size+ExceptionInfoAttrs.SIZE)+ExceptionInfoAttrs.SIZE}function _atexit(func,arg){}function ___cxa_atexit(a0,a1){return _atexit(a0,a1)}function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-ExceptionInfoAttrs.SIZE;this.set_type=function(type){HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]=type};this.get_type=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]};this.set_destructor=function(destructor){HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]=destructor};this.get_destructor=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]};this.set_refcount=function(refcount){HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=refcount};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]=caught};this.get_caught=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]!=0};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]=rethrown};this.get_rethrown=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]!=0};this.init=function(type,destructor){this.set_type(type);this.set_destructor(destructor);this.set_refcount(0);this.set_caught(false);this.set_rethrown(false)};this.add_ref=function(){var value=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=value+1};this.release_ref=function(){var prev=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=prev-1;assert(prev>0);return prev===1}}function CatchInfo(ptr){this.free=function(){_free(this.ptr);this.ptr=0};this.set_base_ptr=function(basePtr){HEAP32[this.ptr>>2]=basePtr};this.get_base_ptr=function(){return HEAP32[this.ptr>>2]};this.set_adjusted_ptr=function(adjustedPtr){var ptrSize=4;HEAP32[this.ptr+ptrSize>>2]=adjustedPtr};this.get_adjusted_ptr=function(){var ptrSize=4;return HEAP32[this.ptr+ptrSize>>2]};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_exception_info().get_type());if(isPointer){return HEAP32[this.get_base_ptr()>>2]}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.get_base_ptr()};this.get_exception_info=function(){return new ExceptionInfo(this.get_base_ptr())};if(ptr===undefined){this.ptr=_malloc(8);this.set_adjusted_ptr(0)}else{this.ptr=ptr}}var exceptionCaught=[];function exception_addRef(info){info.add_ref()}var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var catchInfo=new CatchInfo(ptr);var info=catchInfo.get_exception_info();if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--}info.set_rethrown(false);exceptionCaught.push(catchInfo);exception_addRef(info);return catchInfo.get_exception_ptr()}var exceptionLast=0;function ___cxa_free_exception(ptr){try{return _free(new ExceptionInfo(ptr).ptr)}catch(e){err("exception during cxa_free_exception: "+e)}}function exception_decRef(info){if(info.release_ref()&&!info.get_rethrown()){var destructor=info.get_destructor();if(destructor){wasmTable.get(destructor)(info.excPtr)}___cxa_free_exception(info.excPtr)}}function ___cxa_end_catch(){_setThrew(0);assert(exceptionCaught.length>0);var catchInfo=exceptionCaught.pop();exception_decRef(catchInfo.get_exception_info());catchInfo.free();exceptionLast=0}function ___resumeException(catchInfoPtr){var catchInfo=new CatchInfo(catchInfoPtr);var ptr=catchInfo.get_base_ptr();if(!exceptionLast){exceptionLast=ptr}catchInfo.free();throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_find_matching_catch_2(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_find_matching_catch_3(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_rethrow(){var catchInfo=exceptionCaught.pop();if(!catchInfo){abort("no exception to throw")}var info=catchInfo.get_exception_info();var ptr=catchInfo.get_base_ptr();if(!info.get_rethrown()){exceptionCaught.push(catchInfo);info.set_rethrown(true);info.set_caught(false);uncaughtExceptionCount++}else{catchInfo.free()}exceptionLast=ptr;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_thread_atexit(a0,a1){return _atexit(a0,a1)}function ___cxa_throw(ptr,type,destructor){var info=new ExceptionInfo(ptr);info.init(type,destructor);exceptionLast=ptr;uncaughtExceptionCount++;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function setErrNo(value){HEAP32[___errno_location()>>2]=value;return value}var PATH={splitPath:function(filename){var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)==="/",trailingSlash=path.substr(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path==="/")return"/";path=PATH.normalize(path);path=path.replace(/\/$/,"");var lastSlash=path.lastIndexOf("/");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join("/"))},join2:function(l,r){return PATH.normalize(l+"/"+r)}};function getRandomDevice(){if(typeof crypto==="object"&&typeof crypto["getRandomValues"]==="function"){var randomBuffer=new Uint8Array(1);return function(){crypto.getRandomValues(randomBuffer);return randomBuffer[0]}}else if(ENVIRONMENT_IS_NODE){try{var crypto_module=require("crypto");return function(){return crypto_module["randomBytes"](1)[0]}}catch(e){}}return function(){abort("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var PATH_FS={resolve:function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:FS.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:function(from,to){from=PATH_FS.resolve(from).substr(1);to=PATH_FS.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(dev,ops){TTY.ttys[dev]={input:[],output:[],ops:ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open:function(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close:function(stream){stream.tty.ops.flush(stream.tty)},flush:function(stream){stream.tty.ops.flush(stream.tty)},read:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length){stream.node.timestamp=Date.now()}return i}},default_tty_ops:{get_char:function(tty){if(!tty.input.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc?Buffer.alloc(BUFSIZE):new Buffer(BUFSIZE);var bytesRead=0;try{bytesRead=nodeFS.readSync(process.stdin.fd,buf,0,BUFSIZE,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}else{result=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\n"}}else if(typeof readline=="function"){result=readline();if(result!==null){result+="\n"}}if(!result){return null}tty.input=intArrayFromString(result,true)}return tty.input.shift()},put_char:function(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){out(UTF8ArrayToString(tty.output,0));tty.output=[]}}},default_tty1_ops:{put_char:function(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){err(UTF8ArrayToString(tty.output,0));tty.output=[]}}}};function mmapAlloc(size){var alignedSize=alignMemory(size,16384);var ptr=_malloc(alignedSize);while(size<alignedSize)HEAP8[ptr+size++]=0;return ptr}var MEMFS={ops_table:null,mount:function(mount){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.timestamp=Date.now();if(parent){parent.contents[name]=node;parent.timestamp=node.timestamp}return node},getFileDataAsTypedArray:function(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage:function(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage:function(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr:function(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.timestamp);attr.mtime=new Date(node.timestamp);attr.ctime=new Date(node.timestamp);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr:function(node,attr){if(attr.mode!==undefined){node.mode=attr.mode}if(attr.timestamp!==undefined){node.timestamp=attr.timestamp}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup:function(parent,name){throw FS.genericErrors[44]},mknod:function(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename:function(old_node,new_dir,new_name){if(FS.isDir(old_node.mode)){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}}delete old_node.parent.contents[old_node.name];old_node.parent.timestamp=Date.now();old_node.name=new_name;new_dir.contents[new_name]=old_node;new_dir.timestamp=old_node.parent.timestamp;old_node.parent=new_dir},unlink:function(parent,name){delete parent.contents[name];parent.timestamp=Date.now()},rmdir:function(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.timestamp=Date.now()},readdir:function(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries},symlink:function(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink:function(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read:function(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);assert(size>=0);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write:function(stream,buffer,offset,length,position,canOwn){assert(!(buffer instanceof ArrayBuffer));if(buffer.buffer===HEAP8.buffer){canOwn=false}if(!length)return 0;var node=stream.node;node.timestamp=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){assert(position===0,"canOwn must imply no weird position inside the file");node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length);node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length),position)}else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek:function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},allocate:function(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)},mmap:function(stream,address,length,position,prot,flags){if(address!==0){throw new FS.ErrnoError(28)}if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents.buffer===buffer){allocated=false;ptr=contents.byteOffset}else{if(position>0||position+length<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}allocated=true;ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}HEAP8.set(contents,ptr)}return{ptr:ptr,allocated:allocated}},msync:function(stream,buffer,offset,length,mmapFlags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(mmapFlags&2){return 0}var bytesWritten=MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};var ERRNO_MESSAGES={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"};var ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(path,opts){path=PATH_FS.resolve(FS.cwd(),path);opts=opts||{};if(!path)return{path:"",node:null};var defaults={follow_mount:true,recurse_count:0};for(var key in defaults){if(opts[key]===undefined){opts[key]=defaults[key]}}if(opts.recurse_count>8){throw new FS.ErrnoError(32)}var parts=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),false);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}current=FS.lookupNode(current,parts[i]);current_path=PATH.join2(current_path,parts[i]);if(FS.isMountpoint(current)){if(!islast||islast&&opts.follow_mount){current=current.mounted.root}}if(!islast||opts.follow){var count=0;while(FS.isLink(current.mode)){var link=FS.readlink(current_path);current_path=PATH_FS.resolve(PATH.dirname(current_path),link);var lookup=FS.lookupPath(current_path,{recurse_count:opts.recurse_count});current=lookup.node;if(count++>40){throw new FS.ErrnoError(32)}}}}return{path:current_path,node:current}},getPath:function(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?mount+"/"+path:mount+path}path=path?node.name+"/"+path:node.name;node=node.parent}},hashName:function(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode:function(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode:function(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode:function(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode,parent)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode:function(parent,name,mode,rdev){assert(typeof parent==="object");var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode:function(node){FS.hashRemoveNode(node)},isRoot:function(node){return node===node.parent},isMountpoint:function(node){return!!node.mounted},isFile:function(mode){return(mode&61440)===32768},isDir:function(mode){return(mode&61440)===16384},isLink:function(mode){return(mode&61440)===40960},isChrdev:function(mode){return(mode&61440)===8192},isBlkdev:function(mode){return(mode&61440)===24576},isFIFO:function(mode){return(mode&61440)===4096},isSocket:function(mode){return(mode&49152)===49152},flagModes:{"r":0,"r+":2,"w":577,"w+":578,"a":1089,"a+":1090},modeStringToFlags:function(str){var flags=FS.flagModes[str];if(typeof flags==="undefined"){throw new Error("Unknown file open mode: "+str)}return flags},flagsToPermissionString:function(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions:function(node,perms){if(FS.ignorePermissions){return 0}if(perms.indexOf("r")!==-1&&!(node.mode&292)){return 2}else if(perms.indexOf("w")!==-1&&!(node.mode&146)){return 2}else if(perms.indexOf("x")!==-1&&!(node.mode&73)){return 2}return 0},mayLookup:function(dir){var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate:function(dir,name){try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete:function(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen:function(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&512){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},MAX_OPEN_FDS:4096,nextfd:function(fd_start,fd_end){fd_start=fd_start||0;fd_end=fd_end||FS.MAX_OPEN_FDS;for(var fd=fd_start;fd<=fd_end;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStream:function(fd){return FS.streams[fd]},createStream:function(stream,fd_start,fd_end){if(!FS.FSStream){FS.FSStream=function(){};FS.FSStream.prototype={object:{get:function(){return this.node},set:function(val){this.node=val}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}}}var newStream=new FS.FSStream;for(var p in stream){newStream[p]=stream[p]}stream=newStream;var fd=FS.nextfd(fd_start,fd_end);stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream:function(fd){FS.streams[fd]=null},chrdev_stream_ops:{open:function(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;if(stream.stream_ops.open){stream.stream_ops.open(stream)}},llseek:function(){throw new FS.ErrnoError(70)}},major:function(dev){return dev>>8},minor:function(dev){return dev&255},makedev:function(ma,mi){return ma<<8|mi},registerDevice:function(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:function(dev){return FS.devices[dev]},getMounts:function(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push.apply(check,m.mounts)}return mounts},syncfs:function(populate,callback){if(typeof populate==="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach(function(mount){if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)})},mount:function(type,opts,mountpoint){if(typeof type==="string"){throw type}var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type:type,opts:opts,mountpoint:mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount:function(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach(function(hash){var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.indexOf(current.mount)!==-1){FS.destroyNode(current)}current=next}});node.mounted=null;var idx=node.mount.mounts.indexOf(mount);assert(idx!==-1);node.mount.mounts.splice(idx,1)},lookup:function(parent,name){return parent.node_ops.lookup(parent,name)},mknod:function(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name||name==="."||name===".."){throw new FS.ErrnoError(28)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},create:function(path,mode){mode=mode!==undefined?mode:438;mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir:function(path,mode){mode=mode!==undefined?mode:511;mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree:function(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev:function(path,mode,dev){if(typeof dev==="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink:function(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename:function(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](old_path,new_path)}}catch(e){err("FS.trackingDelegate['willMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name)}catch(e){throw e}finally{FS.hashAddNode(old_node)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](old_path,new_path)}catch(e){err("FS.trackingDelegate['onMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}},rmdir:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readdir:function(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;if(!node.node_ops.readdir){throw new FS.ErrnoError(54)}return node.node_ops.readdir(node)},unlink:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.unlink(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readlink:function(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return PATH_FS.resolve(FS.getPath(link.parent),link.node_ops.readlink(link))},stat:function(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;if(!node){throw new FS.ErrnoError(44)}if(!node.node_ops.getattr){throw new FS.ErrnoError(63)}return node.node_ops.getattr(node)},lstat:function(path){return FS.stat(path,true)},chmod:function(path,mode,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{mode:mode&4095|node.mode&~4095,timestamp:Date.now()})},lchmod:function(path,mode){FS.chmod(path,mode,true)},fchmod:function(fd,mode){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chmod(stream.node,mode)},chown:function(path,uid,gid,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{timestamp:Date.now()})},lchown:function(path,uid,gid){FS.chown(path,uid,gid,true)},fchown:function(fd,uid,gid){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chown(stream.node,uid,gid)},truncate:function(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}node.node_ops.setattr(node,{size:len,timestamp:Date.now()})},ftruncate:function(fd,len){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.truncate(stream.node,len)},utime:function(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;node.node_ops.setattr(node,{timestamp:Math.max(atime,mtime)})},open:function(path,flags,mode,fd_start,fd_end){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags==="string"?FS.modeStringToFlags(flags):flags;mode=typeof mode==="undefined"?438:mode;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;if(typeof path==="object"){node=path}else{path=PATH.normalize(path);try{var lookup=FS.lookupPath(path,{follow:!(flags&131072)});node=lookup.node}catch(e){}}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else{node=FS.mknod(path,mode,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512){FS.truncate(node,0)}flags&=~(128|512|131072);var stream=FS.createStream({node:node,path:FS.getPath(node),flags:flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false},fd_start,fd_end);if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(Module["logReadFiles"]&&!(flags&1)){if(!FS.readFiles)FS.readFiles={};if(!(path in FS.readFiles)){FS.readFiles[path]=1;err("FS.trackingDelegate error on read file: "+path)}}try{if(FS.trackingDelegate["onOpenFile"]){var trackingFlags=0;if((flags&2097155)!==1){trackingFlags|=FS.tracking.openFlags.READ}if((flags&2097155)!==0){trackingFlags|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](path,trackingFlags)}}catch(e){err("FS.trackingDelegate['onOpenFile']('"+path+"', flags) threw an exception: "+e.message)}return stream},close:function(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed:function(stream){return stream.fd===null},llseek:function(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read:function(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write:function(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;try{if(stream.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](stream.path)}catch(e){err("FS.trackingDelegate['onWriteToFile']('"+stream.path+"') threw an exception: "+e.message)}return bytesWritten},allocate:function(stream,offset,length){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(offset<0||length<=0){throw new FS.ErrnoError(28)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(43)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(138)}stream.stream_ops.allocate(stream,offset,length)},mmap:function(stream,address,length,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}return stream.stream_ops.mmap(stream,address,length,position,prot,flags)},msync:function(stream,buffer,offset,length,mmapFlags){if(!stream||!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},munmap:function(stream){return 0},ioctl:function(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile:function(path,opts){opts=opts||{};opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error('Invalid encoding type "'+opts.encoding+'"')}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf,0)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret},writeFile:function(path,data,opts){opts=opts||{};opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data==="string"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,undefined,opts.canOwn)}else if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{throw new Error("Unsupported data type")}FS.close(stream)},cwd:function(){return FS.currentPath},chdir:function(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories:function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(stream,buffer,offset,length,pos){return length}});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var random_device=getRandomDevice();FS.createDevice("/dev","random",random_device);FS.createDevice("/dev","urandom",random_device);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:function(){var node=FS.createNode(proc_self,"fd",16384|511,73);node.node_ops={lookup:function(parent,name){var fd=+name;var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return stream.path}}};ret.parent=ret;return ret}};return node}},{},"/proc/self/fd")},createStandardStreams:function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1);assert(stdin.fd===0,"invalid handle for stdin ("+stdin.fd+")");assert(stdout.fd===1,"invalid handle for stdout ("+stdout.fd+")");assert(stderr.fd===2,"invalid handle for stderr ("+stderr.fd+")")},ensureErrnoError:function(){if(FS.ErrnoError)return;FS.ErrnoError=function ErrnoError(errno,node){this.node=node;this.setErrno=function(errno){this.errno=errno;for(var key in ERRNO_CODES){if(ERRNO_CODES[key]===errno){this.code=key;break}}};this.setErrno(errno);this.message=ERRNO_MESSAGES[errno];if(this.stack){Object.defineProperty(this,"stack",{value:(new Error).stack,writable:true});this.stack=demangleAll(this.stack)}};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[44].forEach(function(code){FS.genericErrors[code]=new FS.ErrnoError(code);FS.genericErrors[code].stack="<generic error, no stack>"})},staticInit:function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={"MEMFS":MEMFS}},init:function(input,output,error){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=input||Module["stdin"];Module["stdout"]=output||Module["stdout"];Module["stderr"]=error||Module["stderr"];FS.createStandardStreams()},quit:function(){FS.init.initialized=false;var fflush=Module["_fflush"];if(fflush)fflush(0);for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}},getMode:function(canRead,canWrite){var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode},findObject:function(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(ret.exists){return ret.object}else{return null}},analyzePath:function(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath:function(parent,path,canRead,canWrite){parent=typeof parent==="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current},createFile:function(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile:function(parent,name,data,canRead,canWrite,canOwn){var path=name?PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name):parent;var mode=FS.getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data==="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}return node},createDevice:function(parent,name,input,output){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(!!input,!!output);if(!FS.createDevice.major)FS.createDevice.major=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open:function(stream){stream.seekable=false},close:function(stream){if(output&&output.buffer&&output.buffer.length){output(10)}},read:function(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length){stream.node.timestamp=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile:function(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(read_){try{obj.contents=intArrayFromString(read_(obj.url),true);obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}},createLazyFile:function(parent,name,url,canRead,canWrite){function LazyUint8Array(){this.lengthKnown=false;this.chunks=[]}LazyUint8Array.prototype.get=function LazyUint8Array_get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]};LazyUint8Array.prototype.setDataGetter=function LazyUint8Array_setDataGetter(getter){this.getter=getter};LazyUint8Array.prototype.cacheLength=function LazyUint8Array_cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=function(from,to){if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);if(typeof Uint8Array!="undefined")xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}else{return intArrayFromString(xhr.responseText||"",true)}};var lazyArray=this;lazyArray.setDataGetter(function(chunkNum){var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]==="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]==="undefined")throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;Object.defineProperties(lazyArray,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url:url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach(function(key){var fn=node.stream_ops[key];stream_ops[key]=function forceLoadLazyFile(){FS.forceLoadFile(node);return fn.apply(null,arguments)}});stream_ops.read=function stream_ops_read(stream,buffer,offset,length,position){FS.forceLoadFile(node);var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);assert(size>=0);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size};node.stream_ops=stream_ops;return node},createPreloadedFile:function(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish){Browser.init();var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency("cp "+fullname);function processData(byteArray){function finish(byteArray){if(preFinish)preFinish();if(!dontCreateFile){FS.createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}if(onload)onload();removeRunDependency(dep)}var handled=false;Module["preloadPlugins"].forEach(function(plugin){if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,function(){if(onerror)onerror();removeRunDependency(dep)});handled=true}});if(!handled)finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){Browser.asyncLoad(url,function(byteArray){processData(byteArray)},onerror)}else{processData(url)}},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=function openRequest_onupgradeneeded(){out("creating db");var db=openRequest.result;db.createObjectStore(FS.DB_STORE_NAME)};openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;var transaction=db.transaction([FS.DB_STORE_NAME],"readwrite");var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var putRequest=files.put(FS.analyzePath(path).object.contents,path);putRequest.onsuccess=function putRequest_onsuccess(){ok++;if(ok+fail==total)finish()};putRequest.onerror=function putRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},loadFilesFromDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=onerror;openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;try{var transaction=db.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){onerror(e);return}var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var getRequest=files.get(path);getRequest.onsuccess=function getRequest_onsuccess(){if(FS.analyzePath(path).exists){FS.unlink(path)}FS.createDataFile(PATH.dirname(path),PATH.basename(path),getRequest.result,true,true,true);ok++;if(ok+fail==total)finish()};getRequest.onerror=function getRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},absolutePath:function(){abort("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){abort("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){abort("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){abort("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){abort("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){abort("FS.standardizePath has been removed; use PATH.normalize instead")}};var SYSCALLS={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(dirfd,path,allowEmpty){if(path[0]==="/"){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=FS.getStream(dirfd);if(!dirstream)throw new FS.ErrnoError(8);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return PATH.join2(dir,path)},doStat:function(func,path,buf){try{var stat=func(path)}catch(e){if(e&&e.node&&PATH.normalize(path)!==PATH.normalize(FS.getPath(e.node))){return-54}throw e}HEAP32[buf>>2]=stat.dev;HEAP32[buf+4>>2]=0;HEAP32[buf+8>>2]=stat.ino;HEAP32[buf+12>>2]=stat.mode;HEAP32[buf+16>>2]=stat.nlink;HEAP32[buf+20>>2]=stat.uid;HEAP32[buf+24>>2]=stat.gid;HEAP32[buf+28>>2]=stat.rdev;HEAP32[buf+32>>2]=0;tempI64=[stat.size>>>0,(tempDouble=stat.size,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+40>>2]=tempI64[0],HEAP32[buf+44>>2]=tempI64[1];HEAP32[buf+48>>2]=4096;HEAP32[buf+52>>2]=stat.blocks;HEAP32[buf+56>>2]=stat.atime.getTime()/1e3|0;HEAP32[buf+60>>2]=0;HEAP32[buf+64>>2]=stat.mtime.getTime()/1e3|0;HEAP32[buf+68>>2]=0;HEAP32[buf+72>>2]=stat.ctime.getTime()/1e3|0;HEAP32[buf+76>>2]=0;tempI64=[stat.ino>>>0,(tempDouble=stat.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+80>>2]=tempI64[0],HEAP32[buf+84>>2]=tempI64[1];return 0},doMsync:function(addr,stream,len,flags,offset){var buffer=HEAPU8.slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},doMkdir:function(path,mode){path=PATH.normalize(path);if(path[path.length-1]==="/")path=path.substr(0,path.length-1);FS.mkdir(path,mode,0);return 0},doMknod:function(path,mode,dev){switch(mode&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}FS.mknod(path,mode,dev);return 0},doReadlink:function(path,buf,bufsize){if(bufsize<=0)return-28;var ret=FS.readlink(path);var len=Math.min(bufsize,lengthBytesUTF8(ret));var endChar=HEAP8[buf+len];stringToUTF8(ret,buf,bufsize+1);HEAP8[buf+len]=endChar;return len},doAccess:function(path,amode){if(amode&~7){return-28}var node;var lookup=FS.lookupPath(path,{follow:true});node=lookup.node;if(!node){return-44}var perms="";if(amode&4)perms+="r";if(amode&2)perms+="w";if(amode&1)perms+="x";if(perms&&FS.nodePermissions(node,perms)){return-2}return 0},doDup:function(path,flags,suggestFD){var suggest=FS.getStream(suggestFD);if(suggest)FS.close(suggest);return FS.open(path,flags,0,suggestFD,suggestFD).fd},doReadv:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break}return ret},doWritev:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr}return ret},varargs:undefined,get:function(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},getStreamFromFD:function(fd){var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);return stream},get64:function(low,high){if(low>=0)assert(high===0);else assert(high===-1);return low}};function ___sys_fcntl64(fd,cmd,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=SYSCALLS.get();if(arg<0){return-28}var newStream;newStream=FS.open(stream.path,stream.flags,0,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=SYSCALLS.get();stream.flags|=arg;return 0}case 12:{var arg=SYSCALLS.get();var offset=0;HEAP16[arg+offset>>1]=2;return 0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:setErrNo(28);return-1;default:{return-28}}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_fstat64(fd,buf){try{var stream=SYSCALLS.getStreamFromFD(fd);return SYSCALLS.doStat(FS.stat,stream.path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_ioctl(fd,op,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:case 21505:{if(!stream.tty)return-59;return 0}case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!stream.tty)return-59;return 0}case 21519:{if(!stream.tty)return-59;var argp=SYSCALLS.get();HEAP32[argp>>2]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21531:{var argp=SYSCALLS.get();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;return 0}case 21524:{if(!stream.tty)return-59;return 0}default:abort("bad ioctl syscall "+op)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function syscallMmap2(addr,len,prot,flags,fd,off){off<<=12;var ptr;var allocated=false;if((flags&16)!==0&&addr%16384!==0){return-28}if((flags&32)!==0){ptr=_memalign(16384,len);if(!ptr)return-48;_memset(ptr,0,len);allocated=true}else{var info=FS.getStream(fd);if(!info)return-8;var res=FS.mmap(info,addr,len,off,prot,flags);ptr=res.ptr;allocated=res.allocated}SYSCALLS.mappings[ptr]={malloc:ptr,len:len,allocated:allocated,fd:fd,prot:prot,flags:flags,offset:off};return ptr}function ___sys_mmap2(addr,len,prot,flags,fd,off){try{return syscallMmap2(addr,len,prot,flags,fd,off)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function syscallMunmap(addr,len){if((addr|0)===-1||len===0){return-28}var info=SYSCALLS.mappings[addr];if(!info)return 0;if(len===info.len){var stream=FS.getStream(info.fd);if(stream){if(info.prot&2){SYSCALLS.doMsync(addr,stream,len,info.flags,info.offset)}FS.munmap(stream)}SYSCALLS.mappings[addr]=null;if(info.allocated){_free(info.malloc)}}return 0}function ___sys_munmap(addr,len){try{return syscallMunmap(addr,len)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_open(path,flags,varargs){SYSCALLS.varargs=varargs;try{var pathname=SYSCALLS.getStr(path);var mode=varargs?SYSCALLS.get():0;var stream=FS.open(pathname,flags,mode);return stream.fd}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_stat64(path,buf){try{path=SYSCALLS.getStr(path);return SYSCALLS.doStat(FS.stat,path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var char_0=48;var char_9=57;function makeLegalFunctionName(name){if(undefined===name){return"_unknown"}name=name.replace(/[^a-zA-Z0-9_]/g,"$");var f=name.charCodeAt(0);if(f>=char_0&&f<=char_9){return"_"+name}else{return name}}function createNamedFunction(name,body){name=makeLegalFunctionName(name);return new Function("body","return function "+name+"() {\n"+'    "use strict";'+"    return body.apply(this, arguments);\n"+"};\n")(body)}var emval_free_list=[];var emval_handle_array=[{},{value:undefined},{value:null},{value:true},{value:false}];function count_emval_handles(){var count=0;for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){++count}}return count}function get_first_emval(){for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){return emval_handle_array[i]}}return null}function init_emval(){Module["count_emval_handles"]=count_emval_handles;Module["get_first_emval"]=get_first_emval}function __emval_register(value){switch(value){case undefined:{return 1}case null:{return 2}case true:{return 3}case false:{return 4}default:{var handle=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;emval_handle_array[handle]={refcount:1,value:value};return handle}}}function extendError(baseErrorType,errorName){var errorClass=createNamedFunction(errorName,function(message){this.name=errorName;this.message=message;var stack=new Error(message).stack;if(stack!==undefined){this.stack=this.toString()+"\n"+stack.replace(/^Error(:[^\n]*)?\n/,"")}});errorClass.prototype=Object.create(baseErrorType.prototype);errorClass.prototype.constructor=errorClass;errorClass.prototype.toString=function(){if(this.message===undefined){return this.name}else{return this.name+": "+this.message}};return errorClass}var PureVirtualError=undefined;function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i)}embind_charCodes=codes}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]]}return ret}function getInheritedInstanceCount(){return Object.keys(registeredInstances).length}function getLiveInheritedInstances(){var rv=[];for(var k in registeredInstances){if(registeredInstances.hasOwnProperty(k)){rv.push(registeredInstances[k])}}return rv}var deletionQueue=[];function flushPendingDeletes(){while(deletionQueue.length){var obj=deletionQueue.pop();obj.$$.deleteScheduled=false;obj["delete"]()}}var delayFunction=undefined;function setDelayFunction(fn){delayFunction=fn;if(deletionQueue.length&&delayFunction){delayFunction(flushPendingDeletes)}}function init_embind(){Module["getInheritedInstanceCount"]=getInheritedInstanceCount;Module["getLiveInheritedInstances"]=getLiveInheritedInstances;Module["flushPendingDeletes"]=flushPendingDeletes;Module["setDelayFunction"]=setDelayFunction}var registeredInstances={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message)}function getBasestPointer(class_,ptr){if(ptr===undefined){throwBindingError("ptr should not be undefined")}while(class_.baseClass){ptr=class_.upcast(ptr);class_=class_.baseClass}return ptr}function registerInheritedInstance(class_,ptr,instance){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){throwBindingError("Tried to register registered instance: "+ptr)}else{registeredInstances[ptr]=instance}}function requireHandle(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle)}return emval_handle_array[handle].value}var registeredTypes={};function getTypeName(type){var ptr=___getTypeName(type);var rv=readLatin1String(ptr);_free(ptr);return rv}function requireRegisteredType(rawType,humanName){var impl=registeredTypes[rawType];if(undefined===impl){throwBindingError(humanName+" has unknown type "+getTypeName(rawType))}return impl}function unregisterInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){delete registeredInstances[ptr]}else{throwBindingError("Tried to unregister unregistered instance: "+ptr)}}function detachFinalizer(handle){}var finalizationGroup=false;function runDestructor($$){if($$.smartPtr){$$.smartPtrType.rawDestructor($$.smartPtr)}else{$$.ptrType.registeredClass.rawDestructor($$.ptr)}}function releaseClassHandle($$){$$.count.value-=1;var toDelete=0===$$.count.value;if(toDelete){runDestructor($$)}}function attachFinalizer(handle){if("undefined"===typeof FinalizationGroup){attachFinalizer=function(handle){return handle};return handle}finalizationGroup=new FinalizationGroup(function(iter){for(var result=iter.next();!result.done;result=iter.next()){var $$=result.value;if(!$$.ptr){console.warn("object already deleted: "+$$.ptr)}else{releaseClassHandle($$)}}});attachFinalizer=function(handle){finalizationGroup.register(handle,handle.$$,handle.$$);return handle};detachFinalizer=function(handle){finalizationGroup.unregister(handle.$$)};return attachFinalizer(handle)}function __embind_create_inheriting_constructor(constructorName,wrapperType,properties){constructorName=readLatin1String(constructorName);wrapperType=requireRegisteredType(wrapperType,"wrapper");properties=requireHandle(properties);var arraySlice=[].slice;var registeredClass=wrapperType.registeredClass;var wrapperPrototype=registeredClass.instancePrototype;var baseClass=registeredClass.baseClass;var baseClassPrototype=baseClass.instancePrototype;var baseConstructor=registeredClass.baseClass.constructor;var ctor=createNamedFunction(constructorName,function(){registeredClass.baseClass.pureVirtualFunctions.forEach(function(name){if(this[name]===baseClassPrototype[name]){throw new PureVirtualError("Pure virtual function "+name+" must be implemented in JavaScript")}}.bind(this));Object.defineProperty(this,"__parent",{value:wrapperPrototype});this["__construct"].apply(this,arraySlice.call(arguments))});wrapperPrototype["__construct"]=function __construct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __construct")}var inner=baseConstructor["implement"].apply(undefined,[this].concat(arraySlice.call(arguments)));detachFinalizer(inner);var $$=inner.$$;inner["notifyOnDestruction"]();$$.preservePointerOnDelete=true;Object.defineProperties(this,{$$:{value:$$}});attachFinalizer(this);registerInheritedInstance(registeredClass,$$.ptr,this)};wrapperPrototype["__destruct"]=function __destruct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __destruct")}detachFinalizer(this);unregisterInheritedInstance(registeredClass,this.$$.ptr)};ctor.prototype=Object.create(wrapperPrototype);for(var p in properties){ctor.prototype[p]=properties[p]}return __emval_register(ctor)}var structRegistrations={};function runDestructors(destructors){while(destructors.length){var ptr=destructors.pop();var del=destructors.pop();del(ptr)}}function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAPU32[pointer>>2])}var awaitingDependencies={};var typeDependencies={};var InternalError=undefined;function throwInternalError(message){throw new InternalError(message)}function whenDependentTypesAreResolved(myTypes,dependentTypes,getTypeConverters){myTypes.forEach(function(type){typeDependencies[type]=dependentTypes});function onComplete(typeConverters){var myTypeConverters=getTypeConverters(typeConverters);if(myTypeConverters.length!==myTypes.length){throwInternalError("Mismatched type converter count")}for(var i=0;i<myTypes.length;++i){registerType(myTypes[i],myTypeConverters[i])}}var typeConverters=new Array(dependentTypes.length);var unregisteredTypes=[];var registered=0;dependentTypes.forEach(function(dt,i){if(registeredTypes.hasOwnProperty(dt)){typeConverters[i]=registeredTypes[dt]}else{unregisteredTypes.push(dt);if(!awaitingDependencies.hasOwnProperty(dt)){awaitingDependencies[dt]=[]}awaitingDependencies[dt].push(function(){typeConverters[i]=registeredTypes[dt];++registered;if(registered===unregisteredTypes.length){onComplete(typeConverters)}})}});if(0===unregisteredTypes.length){onComplete(typeConverters)}}function __embind_finalize_value_object(structType){var reg=structRegistrations[structType];delete structRegistrations[structType];var rawConstructor=reg.rawConstructor;var rawDestructor=reg.rawDestructor;var fieldRecords=reg.fields;var fieldTypes=fieldRecords.map(function(field){return field.getterReturnType}).concat(fieldRecords.map(function(field){return field.setterArgumentType}));whenDependentTypesAreResolved([structType],fieldTypes,function(fieldTypes){var fields={};fieldRecords.forEach(function(field,i){var fieldName=field.fieldName;var getterReturnType=fieldTypes[i];var getter=field.getter;var getterContext=field.getterContext;var setterArgumentType=fieldTypes[i+fieldRecords.length];var setter=field.setter;var setterContext=field.setterContext;fields[fieldName]={read:function(ptr){return getterReturnType["fromWireType"](getter(getterContext,ptr))},write:function(ptr,o){var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,o));runDestructors(destructors)}}});return[{name:reg.name,"fromWireType":function(ptr){var rv={};for(var i in fields){rv[i]=fields[i].read(ptr)}rawDestructor(ptr);return rv},"toWireType":function(destructors,o){for(var fieldName in fields){if(!(fieldName in o)){throw new TypeError('Missing field:  "'+fieldName+'"')}}var ptr=rawConstructor();for(fieldName in fields){fields[fieldName].write(ptr,o[fieldName])}if(destructors!==null){destructors.push(rawDestructor,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:rawDestructor}]})}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size)}}function registerType(rawType,registeredInstance,options){options=options||{};if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance")}var name=registeredInstance.name;if(!rawType){throwBindingError('type "'+name+'" must have a positive integer typeid pointer')}if(registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations){return}else{throwBindingError("Cannot register type '"+name+"' twice")}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){cb()})}}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(wt){return!!wt},"toWireType":function(destructors,o){return o?trueValue:falseValue},"argPackAdvance":8,"readValueFromPointer":function(pointer){var heap;if(size===1){heap=HEAP8}else if(size===2){heap=HEAP16}else if(size===4){heap=HEAP32}else{throw new TypeError("Unknown boolean type size: "+name)}return this["fromWireType"](heap[pointer>>shift])},destructorFunction:null})}function ClassHandle_isAliasOf(other){if(!(this instanceof ClassHandle)){return false}if(!(other instanceof ClassHandle)){return false}var leftClass=this.$$.ptrType.registeredClass;var left=this.$$.ptr;var rightClass=other.$$.ptrType.registeredClass;var right=other.$$.ptr;while(leftClass.baseClass){left=leftClass.upcast(left);leftClass=leftClass.baseClass}while(rightClass.baseClass){right=rightClass.upcast(right);rightClass=rightClass.baseClass}return leftClass===rightClass&&left===right}function shallowCopyInternalPointer(o){return{count:o.count,deleteScheduled:o.deleteScheduled,preservePointerOnDelete:o.preservePointerOnDelete,ptr:o.ptr,ptrType:o.ptrType,smartPtr:o.smartPtr,smartPtrType:o.smartPtrType}}function throwInstanceAlreadyDeleted(obj){function getInstanceTypeName(handle){return handle.$$.ptrType.registeredClass.name}throwBindingError(getInstanceTypeName(obj)+" instance already deleted")}function ClassHandle_clone(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.preservePointerOnDelete){this.$$.count.value+=1;return this}else{var clone=attachFinalizer(Object.create(Object.getPrototypeOf(this),{$$:{value:shallowCopyInternalPointer(this.$$)}}));clone.$$.count.value+=1;clone.$$.deleteScheduled=false;return clone}}function ClassHandle_delete(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}detachFinalizer(this);releaseClassHandle(this.$$);if(!this.$$.preservePointerOnDelete){this.$$.smartPtr=undefined;this.$$.ptr=undefined}}function ClassHandle_isDeleted(){return!this.$$.ptr}function ClassHandle_deleteLater(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}deletionQueue.push(this);if(deletionQueue.length===1&&delayFunction){delayFunction(flushPendingDeletes)}this.$$.deleteScheduled=true;return this}function init_ClassHandle(){ClassHandle.prototype["isAliasOf"]=ClassHandle_isAliasOf;ClassHandle.prototype["clone"]=ClassHandle_clone;ClassHandle.prototype["delete"]=ClassHandle_delete;ClassHandle.prototype["isDeleted"]=ClassHandle_isDeleted;ClassHandle.prototype["deleteLater"]=ClassHandle_deleteLater}function ClassHandle(){}var registeredPointers={};function ensureOverloadTable(proto,methodName,humanName){if(undefined===proto[methodName].overloadTable){var prevFunc=proto[methodName];proto[methodName]=function(){if(!proto[methodName].overloadTable.hasOwnProperty(arguments.length)){throwBindingError("Function '"+humanName+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+proto[methodName].overloadTable+")!")}return proto[methodName].overloadTable[arguments.length].apply(this,arguments)};proto[methodName].overloadTable=[];proto[methodName].overloadTable[prevFunc.argCount]=prevFunc}}function exposePublicSymbol(name,value,numArguments){if(Module.hasOwnProperty(name)){if(undefined===numArguments||undefined!==Module[name].overloadTable&&undefined!==Module[name].overloadTable[numArguments]){throwBindingError("Cannot register public name '"+name+"' twice")}ensureOverloadTable(Module,name,name);if(Module.hasOwnProperty(numArguments)){throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+numArguments+")!")}Module[name].overloadTable[numArguments]=value}else{Module[name]=value;if(undefined!==numArguments){Module[name].numArguments=numArguments}}}function RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast){this.name=name;this.constructor=constructor;this.instancePrototype=instancePrototype;this.rawDestructor=rawDestructor;this.baseClass=baseClass;this.getActualType=getActualType;this.upcast=upcast;this.downcast=downcast;this.pureVirtualFunctions=[]}function upcastPointer(ptr,ptrClass,desiredClass){while(ptrClass!==desiredClass){if(!ptrClass.upcast){throwBindingError("Expected null or instance of "+desiredClass.name+", got an instance of "+ptrClass.name)}ptr=ptrClass.upcast(ptr);ptrClass=ptrClass.baseClass}return ptr}function constNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function genericPointerToWireType(destructors,handle){var ptr;if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}if(this.isSmartPointer){ptr=this.rawConstructor();if(destructors!==null){destructors.push(this.rawDestructor,ptr)}return ptr}else{return 0}}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(!this.isConst&&handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);if(this.isSmartPointer){if(undefined===handle.$$.smartPtr){throwBindingError("Passing raw pointer to smart pointer is illegal")}switch(this.sharingPolicy){case 0:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}break;case 1:ptr=handle.$$.smartPtr;break;case 2:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{var clonedHandle=handle["clone"]();ptr=this.rawShare(ptr,__emval_register(function(){clonedHandle["delete"]()}));if(destructors!==null){destructors.push(this.rawDestructor,ptr)}}break;default:throwBindingError("Unsupporting sharing policy")}}return ptr}function nonConstNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+handle.$$.ptrType.name+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function RegisteredPointer_getPointee(ptr){if(this.rawGetPointee){ptr=this.rawGetPointee(ptr)}return ptr}function RegisteredPointer_destructor(ptr){if(this.rawDestructor){this.rawDestructor(ptr)}}function RegisteredPointer_deleteObject(handle){if(handle!==null){handle["delete"]()}}function downcastPointer(ptr,ptrClass,desiredClass){if(ptrClass===desiredClass){return ptr}if(undefined===desiredClass.baseClass){return null}var rv=downcastPointer(ptr,ptrClass,desiredClass.baseClass);if(rv===null){return null}return desiredClass.downcast(rv)}function getInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);return registeredInstances[ptr]}function makeClassHandle(prototype,record){if(!record.ptrType||!record.ptr){throwInternalError("makeClassHandle requires ptr and ptrType")}var hasSmartPtrType=!!record.smartPtrType;var hasSmartPtr=!!record.smartPtr;if(hasSmartPtrType!==hasSmartPtr){throwInternalError("Both smartPtrType and smartPtr must be specified")}record.count={value:1};return attachFinalizer(Object.create(prototype,{$$:{value:record}}))}function RegisteredPointer_fromWireType(ptr){var rawPointer=this.getPointee(ptr);if(!rawPointer){this.destructor(ptr);return null}var registeredInstance=getInheritedInstance(this.registeredClass,rawPointer);if(undefined!==registeredInstance){if(0===registeredInstance.$$.count.value){registeredInstance.$$.ptr=rawPointer;registeredInstance.$$.smartPtr=ptr;return registeredInstance["clone"]()}else{var rv=registeredInstance["clone"]();this.destructor(ptr);return rv}}function makeDefaultHandle(){if(this.isSmartPointer){return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:rawPointer,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this,ptr:ptr})}}var actualType=this.registeredClass.getActualType(rawPointer);var registeredPointerRecord=registeredPointers[actualType];if(!registeredPointerRecord){return makeDefaultHandle.call(this)}var toType;if(this.isConst){toType=registeredPointerRecord.constPointerType}else{toType=registeredPointerRecord.pointerType}var dp=downcastPointer(rawPointer,this.registeredClass,toType.registeredClass);if(dp===null){return makeDefaultHandle.call(this)}if(this.isSmartPointer){return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp})}}function init_RegisteredPointer(){RegisteredPointer.prototype.getPointee=RegisteredPointer_getPointee;RegisteredPointer.prototype.destructor=RegisteredPointer_destructor;RegisteredPointer.prototype["argPackAdvance"]=8;RegisteredPointer.prototype["readValueFromPointer"]=simpleReadValueFromPointer;RegisteredPointer.prototype["deleteObject"]=RegisteredPointer_deleteObject;RegisteredPointer.prototype["fromWireType"]=RegisteredPointer_fromWireType}function RegisteredPointer(name,registeredClass,isReference,isConst,isSmartPointer,pointeeType,sharingPolicy,rawGetPointee,rawConstructor,rawShare,rawDestructor){this.name=name;this.registeredClass=registeredClass;this.isReference=isReference;this.isConst=isConst;this.isSmartPointer=isSmartPointer;this.pointeeType=pointeeType;this.sharingPolicy=sharingPolicy;this.rawGetPointee=rawGetPointee;this.rawConstructor=rawConstructor;this.rawShare=rawShare;this.rawDestructor=rawDestructor;if(!isSmartPointer&&registeredClass.baseClass===undefined){if(isConst){this["toWireType"]=constNoSmartPtrRawPointerToWireType;this.destructorFunction=null}else{this["toWireType"]=nonConstNoSmartPtrRawPointerToWireType;this.destructorFunction=null}}else{this["toWireType"]=genericPointerToWireType}}function replacePublicSymbol(name,value,numArguments){if(!Module.hasOwnProperty(name)){throwInternalError("Replacing nonexistant public symbol")}if(undefined!==Module[name].overloadTable&&undefined!==numArguments){Module[name].overloadTable[numArguments]=value}else{Module[name]=value;Module[name].argCount=numArguments}}function dynCallLegacy(sig,ptr,args){assert("dynCall_"+sig in Module,"bad function pointer type - no table for sig '"+sig+"'");if(args&&args.length){assert(args.length===sig.substring(1).replace(/j/g,"--").length)}else{assert(sig.length==1)}var f=Module["dynCall_"+sig];return args&&args.length?f.apply(null,[ptr].concat(args)):f.call(null,ptr)}function dynCall(sig,ptr,args){if(sig.indexOf("j")!=-1){return dynCallLegacy(sig,ptr,args)}assert(wasmTable.get(ptr),"missing table entry in dynCall: "+ptr);return wasmTable.get(ptr).apply(null,args)}function getDynCaller(sig,ptr){assert(sig.indexOf("j")>=0,"getDynCaller should only be called with i64 sigs");var argCache=[];return function(){argCache.length=arguments.length;for(var i=0;i<arguments.length;i++){argCache[i]=arguments[i]}return dynCall(sig,ptr,argCache)}}function embind__requireFunction(signature,rawFunction){signature=readLatin1String(signature);function makeDynCaller(){if(signature.indexOf("j")!=-1){return getDynCaller(signature,rawFunction)}return wasmTable.get(rawFunction)}var fp=makeDynCaller();if(typeof fp!=="function"){throwBindingError("unknown function pointer with signature "+signature+": "+rawFunction)}return fp}var UnboundTypeError=undefined;function throwUnboundTypeError(message,types){var unboundTypes=[];var seen={};function visit(type){if(seen[type]){return}if(registeredTypes[type]){return}if(typeDependencies[type]){typeDependencies[type].forEach(visit);return}unboundTypes.push(type);seen[type]=true}types.forEach(visit);throw new UnboundTypeError(message+": "+unboundTypes.map(getTypeName).join([", "]))}function __embind_register_class(rawType,rawPointerType,rawConstPointerType,baseClassRawType,getActualTypeSignature,getActualType,upcastSignature,upcast,downcastSignature,downcast,name,destructorSignature,rawDestructor){name=readLatin1String(name);getActualType=embind__requireFunction(getActualTypeSignature,getActualType);if(upcast){upcast=embind__requireFunction(upcastSignature,upcast)}if(downcast){downcast=embind__requireFunction(downcastSignature,downcast)}rawDestructor=embind__requireFunction(destructorSignature,rawDestructor);var legalFunctionName=makeLegalFunctionName(name);exposePublicSymbol(legalFunctionName,function(){throwUnboundTypeError("Cannot construct "+name+" due to unbound types",[baseClassRawType])});whenDependentTypesAreResolved([rawType,rawPointerType,rawConstPointerType],baseClassRawType?[baseClassRawType]:[],function(base){base=base[0];var baseClass;var basePrototype;if(baseClassRawType){baseClass=base.registeredClass;basePrototype=baseClass.instancePrototype}else{basePrototype=ClassHandle.prototype}var constructor=createNamedFunction(legalFunctionName,function(){if(Object.getPrototypeOf(this)!==instancePrototype){throw new BindingError("Use 'new' to construct "+name)}if(undefined===registeredClass.constructor_body){throw new BindingError(name+" has no accessible constructor")}var body=registeredClass.constructor_body[arguments.length];if(undefined===body){throw new BindingError("Tried to invoke ctor of "+name+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(registeredClass.constructor_body).toString()+") parameters instead!")}return body.apply(this,arguments)});var instancePrototype=Object.create(basePrototype,{constructor:{value:constructor}});constructor.prototype=instancePrototype;var registeredClass=new RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast);var referenceConverter=new RegisteredPointer(name,registeredClass,true,false,false);var pointerConverter=new RegisteredPointer(name+"*",registeredClass,false,false,false);var constPointerConverter=new RegisteredPointer(name+" const*",registeredClass,false,true,false);registeredPointers[rawType]={pointerType:pointerConverter,constPointerType:constPointerConverter};replacePublicSymbol(legalFunctionName,constructor);return[referenceConverter,pointerConverter,constPointerConverter]})}function new_(constructor,argumentList){if(!(constructor instanceof Function)){throw new TypeError("new_ called with constructor type "+typeof constructor+" which is not a function")}var dummy=createNamedFunction(constructor.name||"unknownFunctionName",function(){});dummy.prototype=constructor.prototype;var obj=new dummy;var r=constructor.apply(obj,argumentList);return r instanceof Object?r:obj}function craftInvokerFunction(humanName,argTypes,classType,cppInvokerFunc,cppTargetFunc){var argCount=argTypes.length;if(argCount<2){throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!")}var isClassMethodFunc=argTypes[1]!==null&&classType!==null;var needsDestructorStack=false;for(var i=1;i<argTypes.length;++i){if(argTypes[i]!==null&&argTypes[i].destructorFunction===undefined){needsDestructorStack=true;break}}var returns=argTypes[0].name!=="void";var argsList="";var argsListWired="";for(var i=0;i<argCount-2;++i){argsList+=(i!==0?", ":"")+"arg"+i;argsListWired+=(i!==0?", ":"")+"arg"+i+"Wired"}var invokerFnBody="return function "+makeLegalFunctionName(humanName)+"("+argsList+") {\n"+"if (arguments.length !== "+(argCount-2)+") {\n"+"throwBindingError('function "+humanName+" called with ' + arguments.length + ' arguments, expected "+(argCount-2)+" args!');\n"+"}\n";if(needsDestructorStack){invokerFnBody+="var destructors = [];\n"}var dtorStack=needsDestructorStack?"destructors":"null";var args1=["throwBindingError","invoker","fn","runDestructors","retType","classParam"];var args2=[throwBindingError,cppInvokerFunc,cppTargetFunc,runDestructors,argTypes[0],argTypes[1]];if(isClassMethodFunc){invokerFnBody+="var thisWired = classParam.toWireType("+dtorStack+", this);\n"}for(var i=0;i<argCount-2;++i){invokerFnBody+="var arg"+i+"Wired = argType"+i+".toWireType("+dtorStack+", arg"+i+"); // "+argTypes[i+2].name+"\n";args1.push("argType"+i);args2.push(argTypes[i+2])}if(isClassMethodFunc){argsListWired="thisWired"+(argsListWired.length>0?", ":"")+argsListWired}invokerFnBody+=(returns?"var rv = ":"")+"invoker(fn"+(argsListWired.length>0?", ":"")+argsListWired+");\n";if(needsDestructorStack){invokerFnBody+="runDestructors(destructors);\n"}else{for(var i=isClassMethodFunc?1:2;i<argTypes.length;++i){var paramName=i===1?"thisWired":"arg"+(i-2)+"Wired";if(argTypes[i].destructorFunction!==null){invokerFnBody+=paramName+"_dtor("+paramName+"); // "+argTypes[i].name+"\n";args1.push(paramName+"_dtor");args2.push(argTypes[i].destructorFunction)}}}if(returns){invokerFnBody+="var ret = retType.fromWireType(rv);\n"+"return ret;\n"}else{}invokerFnBody+="}\n";args1.push(invokerFnBody);var invokerFunction=new_(Function,args1).apply(null,args2);return invokerFunction}function heap32VectorToArray(count,firstElement){var array=[];for(var i=0;i<count;i++){array.push(HEAP32[(firstElement>>2)+i])}return array}function __embind_register_class_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,fn){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.constructor;if(undefined===proto[methodName]){unboundTypesHandler.argCount=argCount-1;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-1]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));var func=craftInvokerFunction(humanName,invokerArgsArray,null,rawInvoker,fn);if(undefined===proto[methodName].overloadTable){func.argCount=argCount-1;proto[methodName]=func}else{proto[methodName].overloadTable[argCount-1]=func}return[]});return[]})}function __embind_register_class_constructor(rawClassType,argCount,rawArgTypesAddr,invokerSignature,invoker,rawConstructor){assert(argCount>0);var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);invoker=embind__requireFunction(invokerSignature,invoker);var args=[rawConstructor];var destructors=[];whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName="constructor "+classType.name;if(undefined===classType.registeredClass.constructor_body){classType.registeredClass.constructor_body=[]}if(undefined!==classType.registeredClass.constructor_body[argCount-1]){throw new BindingError("Cannot register multiple constructors with identical number of parameters ("+(argCount-1)+") for class '"+classType.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!")}classType.registeredClass.constructor_body[argCount-1]=function unboundTypeHandler(){throwUnboundTypeError("Cannot construct "+classType.name+" due to unbound types",rawArgTypes)};whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){classType.registeredClass.constructor_body[argCount-1]=function constructor_body(){if(arguments.length!==argCount-1){throwBindingError(humanName+" called with "+arguments.length+" arguments, expected "+(argCount-1))}destructors.length=0;args.length=argCount;for(var i=1;i<argCount;++i){args[i]=argTypes[i]["toWireType"](destructors,arguments[i-1])}var ptr=invoker.apply(null,args);runDestructors(destructors);return argTypes[0]["fromWireType"](ptr)};return[]});return[]})}function __embind_register_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,context,isPureVirtual){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;if(isPureVirtual){classType.registeredClass.pureVirtualFunctions.push(methodName)}function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.instancePrototype;var method=proto[methodName];if(undefined===method||undefined===method.overloadTable&&method.className!==classType.name&&method.argCount===argCount-2){unboundTypesHandler.argCount=argCount-2;unboundTypesHandler.className=classType.name;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-2]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var memberFunction=craftInvokerFunction(humanName,argTypes,classType,rawInvoker,context);if(undefined===proto[methodName].overloadTable){memberFunction.argCount=argCount-2;proto[methodName]=memberFunction}else{proto[methodName].overloadTable[argCount-2]=memberFunction}return[]});return[]})}function validateThis(this_,classType,humanName){if(!(this_ instanceof Object)){throwBindingError(humanName+' with invalid "this": '+this_)}if(!(this_ instanceof classType.registeredClass.constructor)){throwBindingError(humanName+' incompatible with "this" of type '+this_.constructor.name)}if(!this_.$$.ptr){throwBindingError("cannot call emscripten binding method "+humanName+" on deleted object")}return upcastPointer(this_.$$.ptr,this_.$$.ptrType.registeredClass,classType.registeredClass)}function __embind_register_class_property(classType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){fieldName=readLatin1String(fieldName);getter=embind__requireFunction(getterSignature,getter);whenDependentTypesAreResolved([],[classType],function(classType){classType=classType[0];var humanName=classType.name+"."+fieldName;var desc={get:function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])},enumerable:true,configurable:true};if(setter){desc.set=function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])}}else{desc.set=function(v){throwBindingError(humanName+" is a read-only property")}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);whenDependentTypesAreResolved([],setter?[getterReturnType,setterArgumentType]:[getterReturnType],function(types){var getterReturnType=types[0];var desc={get:function(){var ptr=validateThis(this,classType,humanName+" getter");return getterReturnType["fromWireType"](getter(getterContext,ptr))},enumerable:true};if(setter){setter=embind__requireFunction(setterSignature,setter);var setterArgumentType=types[1];desc.set=function(v){var ptr=validateThis(this,classType,humanName+" setter");var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,v));runDestructors(destructors)}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);return[]});return[]})}function __emval_decref(handle){if(handle>4&&0===--emval_handle_array[handle].refcount){emval_handle_array[handle]=undefined;emval_free_list.push(handle)}}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(handle){var rv=emval_handle_array[handle].value;__emval_decref(handle);return rv},"toWireType":function(destructors,value){return __emval_register(value)},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null})}function _embind_repr(v){if(v===null){return"null"}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString()}else{return""+v}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2])};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3])};default:throw new TypeError("Unknown float type: "+name)}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(value){return value},"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}return value},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null})}function __embind_register_function(name,argCount,rawArgTypesAddr,signature,rawInvoker,fn){var argTypes=heap32VectorToArray(argCount,rawArgTypesAddr);name=readLatin1String(name);rawInvoker=embind__requireFunction(signature,rawInvoker);exposePublicSymbol(name,function(){throwUnboundTypeError("Cannot call "+name+" due to unbound types",argTypes)},argCount-1);whenDependentTypesAreResolved([],argTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));replacePublicSymbol(name,craftInvokerFunction(name,invokerArgsArray,null,rawInvoker,fn),argCount-1);return[]})}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer]}:function readU8FromPointer(pointer){return HEAPU8[pointer]};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1]}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1]};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2]}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2]};default:throw new TypeError("Unknown integer type: "+name)}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295}var shift=getShiftFromSize(size);var fromWireType=function(value){return value};if(minRange===0){var bitshift=32-8*size;fromWireType=function(value){return value<<bitshift>>>bitshift}}var isUnsignedType=name.indexOf("unsigned")!=-1;registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}if(value<minRange||value>maxRange){throw new TypeError('Passing a number "'+_embind_repr(value)+'" from JS side to C/C++ side to an argument of type "'+name+'", which is outside the valid range ['+minRange+", "+maxRange+"]!")}return isUnsignedType?value>>>0:value|0},"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null})}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(buffer,data,size)}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true})}function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var str;if(stdStringIsUTF8){var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+1}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[value+4+i])}str=a.join("")}_free(value);return str},"toWireType":function(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value)}var getLength;var valueIsOfTypeString=typeof value==="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string")}if(stdStringIsUTF8&&valueIsOfTypeString){getLength=function(){return lengthBytesUTF8(value)}}else{getLength=function(){return value.length}}var length=getLength();var ptr=_malloc(4+length+1);HEAPU32[ptr>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr+4,length+1)}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits")}HEAPU8[ptr+4+i]=charCode}}else{for(var i=0;i<length;++i){HEAPU8[ptr+4+i]=value[i]}}}if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function(){return HEAPU16};shift=1}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function(){return HEAPU32};shift=2}registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+charSize}}_free(value);return str},"toWireType":function(destructors,value){if(!(typeof value==="string")){throwBindingError("Cannot pass non-string to C++ string type "+name)}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_value_object(rawType,name,constructorSignature,rawConstructor,destructorSignature,rawDestructor){structRegistrations[rawType]={name:readLatin1String(name),rawConstructor:embind__requireFunction(constructorSignature,rawConstructor),rawDestructor:embind__requireFunction(destructorSignature,rawDestructor),fields:[]}}function __embind_register_value_object_field(structType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){structRegistrations[structType].fields.push({fieldName:readLatin1String(fieldName),getterReturnType:getterReturnType,getter:embind__requireFunction(getterSignature,getter),getterContext:getterContext,setterArgumentType:setterArgumentType,setter:embind__requireFunction(setterSignature,setter),setterContext:setterContext})}function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function(){return undefined},"toWireType":function(destructors,o){return undefined}})}var emval_symbols={};function getStringOrSymbol(address){var symbol=emval_symbols[address];if(symbol===undefined){return readLatin1String(address)}else{return symbol}}var emval_methodCallers=[];function __emval_call_void_method(caller,handle,methodName,args){caller=emval_methodCallers[caller];handle=requireHandle(handle);methodName=getStringOrSymbol(methodName);caller(handle,methodName,null,args)}function __emval_addMethodCaller(caller){var id=emval_methodCallers.length;emval_methodCallers.push(caller);return id}function __emval_lookupTypes(argCount,argTypes){var a=new Array(argCount);for(var i=0;i<argCount;++i){a[i]=requireRegisteredType(HEAP32[(argTypes>>2)+i],"parameter "+i)}return a}function __emval_get_method_caller(argCount,argTypes){var types=__emval_lookupTypes(argCount,argTypes);var retType=types[0];var signatureName=retType.name+"_$"+types.slice(1).map(function(t){return t.name}).join("_")+"$";var params=["retType"];var args=[retType];var argsList="";for(var i=0;i<argCount-1;++i){argsList+=(i!==0?", ":"")+"arg"+i;params.push("argType"+i);args.push(types[1+i])}var functionName=makeLegalFunctionName("methodCaller_"+signatureName);var functionBody="return function "+functionName+"(handle, name, destructors, args) {\n";var offset=0;for(var i=0;i<argCount-1;++i){functionBody+="    var arg"+i+" = argType"+i+".readValueFromPointer(args"+(offset?"+"+offset:"")+");\n";offset+=types[i+1]["argPackAdvance"]}functionBody+="    var rv = handle[name]("+argsList+");\n";for(var i=0;i<argCount-1;++i){if(types[i+1]["deleteObject"]){functionBody+="    argType"+i+".deleteObject(arg"+i+");\n"}}if(!retType.isVoid){functionBody+="    return retType.toWireType(destructors, rv);\n"}functionBody+="};\n";params.push(functionBody);var invokerFunction=new_(Function,params).apply(null,args);return __emval_addMethodCaller(invokerFunction)}function __emval_incref(handle){if(handle>4){emval_handle_array[handle].refcount+=1}}function __emval_take_value(type,argv){type=requireRegisteredType(type,"_emval_take_value");var v=type["readValueFromPointer"](argv);return __emval_register(v)}function __exit(a0){return _exit(a0)}function _abort(){abort()}var _emscripten_get_now_is_monotonic=true;function _clock_gettime(clk_id,tp){var now;if(clk_id===0){now=Date.now()}else if((clk_id===1||clk_id===4)&&_emscripten_get_now_is_monotonic){now=_emscripten_get_now()}else{setErrNo(28);return-1}HEAP32[tp>>2]=now/1e3|0;HEAP32[tp+4>>2]=now%1e3*1e3*1e3|0;return 0}function _dlopen(filename,flag){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function _dlsym(handle,symbol){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function _emscripten_asm_const_int(code,sigPtr,argbuf){var args=readAsmConstArgs(sigPtr,argbuf);if(!ASM_CONSTS.hasOwnProperty(code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args)}function _emscripten_get_heap_max(){return 2147483648}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+buffer.byteLength+" bytes to "+size+" bytes, but got error: "+e)}}function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;assert(requestedSize>oldSize);var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false}function _emscripten_thread_sleep(msecs){var start=_emscripten_get_now();while(_emscripten_get_now()-start<msecs){}}function __webgl_enable_ANGLE_instanced_arrays(ctx){var ext=ctx.getExtension("ANGLE_instanced_arrays");if(ext){ctx["vertexAttribDivisor"]=function(index,divisor){ext["vertexAttribDivisorANGLE"](index,divisor)};ctx["drawArraysInstanced"]=function(mode,first,count,primcount){ext["drawArraysInstancedANGLE"](mode,first,count,primcount)};ctx["drawElementsInstanced"]=function(mode,count,type,indices,primcount){ext["drawElementsInstancedANGLE"](mode,count,type,indices,primcount)};return 1}}function __webgl_enable_OES_vertex_array_object(ctx){var ext=ctx.getExtension("OES_vertex_array_object");if(ext){ctx["createVertexArray"]=function(){return ext["createVertexArrayOES"]()};ctx["deleteVertexArray"]=function(vao){ext["deleteVertexArrayOES"](vao)};ctx["bindVertexArray"]=function(vao){ext["bindVertexArrayOES"](vao)};ctx["isVertexArray"]=function(vao){return ext["isVertexArrayOES"](vao)};return 1}}function __webgl_enable_WEBGL_draw_buffers(ctx){var ext=ctx.getExtension("WEBGL_draw_buffers");if(ext){ctx["drawBuffers"]=function(n,bufs){ext["drawBuffersWEBGL"](n,bufs)};return 1}}function __webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.dibvbi=ctx.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.mdibvbi=ctx.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw(ctx){return!!(ctx.multiDrawWebgl=ctx.getExtension("WEBGL_multi_draw"))}var GL={counter:1,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function recordError(errorCode){if(!GL.lastError){GL.lastError=errorCode}},getNewId:function(table){var ret=GL.counter++;for(var i=table.length;i<ret;i++){table[i]=null}return ret},MAX_TEMP_BUFFER_SIZE:2097152,numTempVertexBuffersPerSize:64,log2ceilLookup:function(i){return 32-Math.clz32(i===0?0:i-1)},generateTempBuffers:function(quads,context){var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);context.tempVertexBufferCounters1=[];context.tempVertexBufferCounters2=[];context.tempVertexBufferCounters1.length=context.tempVertexBufferCounters2.length=largestIndex+1;context.tempVertexBuffers1=[];context.tempVertexBuffers2=[];context.tempVertexBuffers1.length=context.tempVertexBuffers2.length=largestIndex+1;context.tempIndexBuffers=[];context.tempIndexBuffers.length=largestIndex+1;for(var i=0;i<=largestIndex;++i){context.tempIndexBuffers[i]=null;context.tempVertexBufferCounters1[i]=context.tempVertexBufferCounters2[i]=0;var ringbufferLength=GL.numTempVertexBuffersPerSize;context.tempVertexBuffers1[i]=[];context.tempVertexBuffers2[i]=[];var ringbuffer1=context.tempVertexBuffers1[i];var ringbuffer2=context.tempVertexBuffers2[i];ringbuffer1.length=ringbuffer2.length=ringbufferLength;for(var j=0;j<ringbufferLength;++j){ringbuffer1[j]=ringbuffer2[j]=null}}if(quads){context.tempQuadIndexBuffer=GLctx.createBuffer();context.GLctx.bindBuffer(34963,context.tempQuadIndexBuffer);var numIndexes=GL.MAX_TEMP_BUFFER_SIZE>>1;var quadIndexes=new Uint16Array(numIndexes);var i=0,v=0;while(1){quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+1;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v+3;if(i>=numIndexes)break;v+=4}context.GLctx.bufferData(34963,quadIndexes,35044);context.GLctx.bindBuffer(34963,null)}},getTempVertexBuffer:function getTempVertexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ringbuffer=GL.currentContext.tempVertexBuffers1[idx];var nextFreeBufferIndex=GL.currentContext.tempVertexBufferCounters1[idx];GL.currentContext.tempVertexBufferCounters1[idx]=GL.currentContext.tempVertexBufferCounters1[idx]+1&GL.numTempVertexBuffersPerSize-1;var vbo=ringbuffer[nextFreeBufferIndex];if(vbo){return vbo}var prevVBO=GLctx.getParameter(34964);ringbuffer[nextFreeBufferIndex]=GLctx.createBuffer();GLctx.bindBuffer(34962,ringbuffer[nextFreeBufferIndex]);GLctx.bufferData(34962,1<<idx,35048);GLctx.bindBuffer(34962,prevVBO);return ringbuffer[nextFreeBufferIndex]},getTempIndexBuffer:function getTempIndexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ibo=GL.currentContext.tempIndexBuffers[idx];if(ibo){return ibo}var prevIBO=GLctx.getParameter(34965);GL.currentContext.tempIndexBuffers[idx]=GLctx.createBuffer();GLctx.bindBuffer(34963,GL.currentContext.tempIndexBuffers[idx]);GLctx.bufferData(34963,1<<idx,35048);GLctx.bindBuffer(34963,prevIBO);return GL.currentContext.tempIndexBuffers[idx]},newRenderingFrameStarted:function newRenderingFrameStarted(){if(!GL.currentContext){return}var vb=GL.currentContext.tempVertexBuffers1;GL.currentContext.tempVertexBuffers1=GL.currentContext.tempVertexBuffers2;GL.currentContext.tempVertexBuffers2=vb;vb=GL.currentContext.tempVertexBufferCounters1;GL.currentContext.tempVertexBufferCounters1=GL.currentContext.tempVertexBufferCounters2;GL.currentContext.tempVertexBufferCounters2=vb;var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);for(var i=0;i<=largestIndex;++i){GL.currentContext.tempVertexBufferCounters1[i]=0}},getSource:function(shader,count,string,length){var source="";for(var i=0;i<count;++i){var len=length?HEAP32[length+i*4>>2]:-1;source+=UTF8ToString(HEAP32[string+i*4>>2],len<0?undefined:len)}return source},calcBufLength:function calcBufLength(size,type,stride,count){if(stride>0){return count*stride}var typeSize=GL.byteSizeByType[type-GL.byteSizeByTypeRoot];return size*typeSize*count},usedTempBuffers:[],preDrawHandleClientVertexAttribBindings:function preDrawHandleClientVertexAttribBindings(count){GL.resetBufferBinding=false;for(var i=0;i<GL.currentContext.maxVertexAttribs;++i){var cb=GL.currentContext.clientBuffers[i];if(!cb.clientside||!cb.enabled)continue;GL.resetBufferBinding=true;var size=GL.calcBufLength(cb.size,cb.type,cb.stride,count);var buf=GL.getTempVertexBuffer(size);GLctx.bindBuffer(34962,buf);GLctx.bufferSubData(34962,0,HEAPU8.subarray(cb.ptr,cb.ptr+size));cb.vertexAttribPointerAdaptor.call(GLctx,i,cb.size,cb.type,cb.normalized,cb.stride,0)}},postDrawHandleClientVertexAttribBindings:function postDrawHandleClientVertexAttribBindings(){if(GL.resetBufferBinding){GLctx.bindBuffer(34962,GL.buffers[GLctx.currentArrayBufferBinding])}},createContext:function(canvas,webGLContextAttributes){if(!canvas.getContextSafariWebGL2Fixed){canvas.getContextSafariWebGL2Fixed=canvas.getContext;canvas.getContext=function(ver,attrs){var gl=canvas.getContextSafariWebGL2Fixed(ver,attrs);return ver=="webgl"==gl instanceof WebGLRenderingContext?gl:null}}var ctx=webGLContextAttributes.majorVersion>1?canvas.getContext("webgl2",webGLContextAttributes):canvas.getContext("webgl",webGLContextAttributes);if(!ctx)return 0;var handle=GL.registerContext(ctx,webGLContextAttributes);return handle},registerContext:function(ctx,webGLContextAttributes){var handle=GL.getNewId(GL.contexts);var context={handle:handle,attributes:webGLContextAttributes,version:webGLContextAttributes.majorVersion,GLctx:ctx};if(ctx.canvas)ctx.canvas.GLctxObject=context;GL.contexts[handle]=context;if(typeof webGLContextAttributes.enableExtensionsByDefault==="undefined"||webGLContextAttributes.enableExtensionsByDefault){GL.initExtensions(context)}context.maxVertexAttribs=context.GLctx.getParameter(34921);context.clientBuffers=[];for(var i=0;i<context.maxVertexAttribs;i++){context.clientBuffers[i]={enabled:false,clientside:false,size:0,type:0,normalized:0,stride:0,ptr:0,vertexAttribPointerAdaptor:null}}GL.generateTempBuffers(false,context);return handle},makeContextCurrent:function(contextHandle){GL.currentContext=GL.contexts[contextHandle];Module.ctx=GLctx=GL.currentContext&&GL.currentContext.GLctx;return!(contextHandle&&!GLctx)},getContext:function(contextHandle){return GL.contexts[contextHandle]},deleteContext:function(contextHandle){if(GL.currentContext===GL.contexts[contextHandle])GL.currentContext=null;if(typeof JSEvents==="object")JSEvents.removeAllHandlersOnTarget(GL.contexts[contextHandle].GLctx.canvas);if(GL.contexts[contextHandle]&&GL.contexts[contextHandle].GLctx.canvas)GL.contexts[contextHandle].GLctx.canvas.GLctxObject=undefined;GL.contexts[contextHandle]=null},initExtensions:function(context){if(!context)context=GL.currentContext;if(context.initExtensionsDone)return;context.initExtensionsDone=true;var GLctx=context.GLctx;__webgl_enable_ANGLE_instanced_arrays(GLctx);__webgl_enable_OES_vertex_array_object(GLctx);__webgl_enable_WEBGL_draw_buffers(GLctx);__webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(GLctx);__webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(GLctx);GLctx.disjointTimerQueryExt=GLctx.getExtension("EXT_disjoint_timer_query");__webgl_enable_WEBGL_multi_draw(GLctx);var exts=GLctx.getSupportedExtensions()||[];exts.forEach(function(ext){if(ext.indexOf("lose_context")<0&&ext.indexOf("debug")<0){GLctx.getExtension(ext)}})},populateUniformTable:function(program){var p=GL.programs[program];var ptable=GL.programInfos[program]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var utable=ptable.uniforms;var numUniforms=GLctx.getProgramParameter(p,35718);for(var i=0;i<numUniforms;++i){var u=GLctx.getActiveUniform(p,i);var name=u.name;ptable.maxUniformLength=Math.max(ptable.maxUniformLength,name.length+1);if(name.slice(-1)=="]"){name=name.slice(0,name.lastIndexOf("["))}var loc=GLctx.getUniformLocation(p,name);if(loc){var id=GL.getNewId(GL.uniforms);utable[name]=[u.size,id];GL.uniforms[id]=loc;for(var j=1;j<u.size;++j){var n=name+"["+j+"]";loc=GLctx.getUniformLocation(p,n);id=GL.getNewId(GL.uniforms);GL.uniforms[id]=loc}}}}};var JSEvents={inEventHandler:0,removeAllEventListeners:function(){for(var i=JSEvents.eventHandlers.length-1;i>=0;--i){JSEvents._removeHandler(i)}JSEvents.eventHandlers=[];JSEvents.deferredCalls=[]},registerRemoveEventListeners:function(){if(!JSEvents.removeEventListenersRegistered){__ATEXIT__.push(JSEvents.removeAllEventListeners);JSEvents.removeEventListenersRegistered=true}},deferredCalls:[],deferCall:function(targetFunction,precedence,argsList){function arraysHaveEqualContent(arrA,arrB){if(arrA.length!=arrB.length)return false;for(var i in arrA){if(arrA[i]!=arrB[i])return false}return true}for(var i in JSEvents.deferredCalls){var call=JSEvents.deferredCalls[i];if(call.targetFunction==targetFunction&&arraysHaveEqualContent(call.argsList,argsList)){return}}JSEvents.deferredCalls.push({targetFunction:targetFunction,precedence:precedence,argsList:argsList});JSEvents.deferredCalls.sort(function(x,y){return x.precedence<y.precedence})},removeDeferredCalls:function(targetFunction){for(var i=0;i<JSEvents.deferredCalls.length;++i){if(JSEvents.deferredCalls[i].targetFunction==targetFunction){JSEvents.deferredCalls.splice(i,1);--i}}},canPerformEventHandlerRequests:function(){return JSEvents.inEventHandler&&JSEvents.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!JSEvents.canPerformEventHandlerRequests()){return}for(var i=0;i<JSEvents.deferredCalls.length;++i){var call=JSEvents.deferredCalls[i];JSEvents.deferredCalls.splice(i,1);--i;call.targetFunction.apply(null,call.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(target,eventTypeString){for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==target&&(!eventTypeString||eventTypeString==JSEvents.eventHandlers[i].eventTypeString)){JSEvents._removeHandler(i--)}}},_removeHandler:function(i){var h=JSEvents.eventHandlers[i];h.target.removeEventListener(h.eventTypeString,h.eventListenerFunc,h.useCapture);JSEvents.eventHandlers.splice(i,1)},registerOrRemoveHandler:function(eventHandler){var jsEventHandler=function jsEventHandler(event){++JSEvents.inEventHandler;JSEvents.currentEventHandler=eventHandler;JSEvents.runDeferredCalls();eventHandler.handlerFunc(event);JSEvents.runDeferredCalls();--JSEvents.inEventHandler};if(eventHandler.callbackfunc){eventHandler.eventListenerFunc=jsEventHandler;eventHandler.target.addEventListener(eventHandler.eventTypeString,jsEventHandler,eventHandler.useCapture);JSEvents.eventHandlers.push(eventHandler);JSEvents.registerRemoveEventListeners()}else{for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==eventHandler.target&&JSEvents.eventHandlers[i].eventTypeString==eventHandler.eventTypeString){JSEvents._removeHandler(i--)}}}},getNodeNameForTarget:function(target){if(!target)return"";if(target==window)return"#window";if(target==screen)return"#screen";return target&&target.nodeName?target.nodeName:""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var __emscripten_webgl_power_preferences=["default","low-power","high-performance"];var specialHTMLTargets=[0,typeof document!=="undefined"?document:0,typeof window!=="undefined"?window:0];function findEventTarget(target){warnOnce("Rules for selecting event targets in HTML5 API are changing: instead of using document.getElementById() that only can refer to elements by their DOM ID, new event target selection mechanism uses the more flexible function document.querySelector() that can look up element names, classes, and complex CSS selectors. Build with -s DISABLE_DEPRECATED_FIND_EVENT_TARGET_BEHAVIOR=1 to change to the new lookup rules. See https://github.com/emscripten-core/emscripten/pull/7977 for more details.");try{if(!target)return window;if(typeof target==="number")target=specialHTMLTargets[target]||UTF8ToString(target);if(target==="#window")return window;else if(target==="#document")return document;else if(target==="#screen")return screen;else if(target==="#canvas")return Module["canvas"];return typeof target==="string"?document.getElementById(target):target}catch(e){return null}}function findCanvasEventTarget(target){if(typeof target==="number")target=UTF8ToString(target);if(!target||target==="#canvas"){if(typeof GL!=="undefined"&&GL.offscreenCanvases["canvas"])return GL.offscreenCanvases["canvas"];return Module["canvas"]}if(typeof GL!=="undefined"&&GL.offscreenCanvases[target])return GL.offscreenCanvases[target];return findEventTarget(target)}function _emscripten_webgl_do_create_context(target,attributes){assert(attributes);var a=attributes>>2;var powerPreference=HEAP32[a+(24>>2)];var contextAttributes={"alpha":!!HEAP32[a+(0>>2)],"depth":!!HEAP32[a+(4>>2)],"stencil":!!HEAP32[a+(8>>2)],"antialias":!!HEAP32[a+(12>>2)],"premultipliedAlpha":!!HEAP32[a+(16>>2)],"preserveDrawingBuffer":!!HEAP32[a+(20>>2)],"powerPreference":__emscripten_webgl_power_preferences[powerPreference],"failIfMajorPerformanceCaveat":!!HEAP32[a+(28>>2)],majorVersion:HEAP32[a+(32>>2)],minorVersion:HEAP32[a+(36>>2)],enableExtensionsByDefault:HEAP32[a+(40>>2)],explicitSwapControl:HEAP32[a+(44>>2)],proxyContextToMainThread:HEAP32[a+(48>>2)],renderViaOffscreenBackBuffer:HEAP32[a+(52>>2)]};var canvas=findCanvasEventTarget(target);if(!canvas){return 0}if(contextAttributes.explicitSwapControl){return 0}var contextHandle=GL.createContext(canvas,contextAttributes);return contextHandle}function _emscripten_webgl_create_context(a0,a1){return _emscripten_webgl_do_create_context(a0,a1)}function _emscripten_webgl_do_get_current_context(){return GL.currentContext?GL.currentContext.handle:0}function _emscripten_webgl_get_current_context(){return _emscripten_webgl_do_get_current_context()}Module["_emscripten_webgl_get_current_context"]=_emscripten_webgl_get_current_context;function _emscripten_webgl_make_context_current(contextHandle){var success=GL.makeContextCurrent(contextHandle);return success?0:-5}Module["_emscripten_webgl_make_context_current"]=_emscripten_webgl_make_context_current;function _emscripten_webgl_destroy_context(contextHandle){if(GL.currentContext==contextHandle)GL.currentContext=0;GL.deleteContext(contextHandle)}function _emscripten_webgl_get_context_attributes(c,a){if(!a)return-5;c=GL.contexts[c];if(!c)return-3;var t=c.GLctx;if(!t)return-3;t=t.getContextAttributes();HEAP32[a>>2]=t.alpha;HEAP32[a+4>>2]=t.depth;HEAP32[a+8>>2]=t.stencil;HEAP32[a+12>>2]=t.antialias;HEAP32[a+16>>2]=t.premultipliedAlpha;HEAP32[a+20>>2]=t.preserveDrawingBuffer;var power=t["powerPreference"]&&__emscripten_webgl_power_preferences.indexOf(t["powerPreference"]);HEAP32[a+24>>2]=power;HEAP32[a+28>>2]=t.failIfMajorPerformanceCaveat;HEAP32[a+32>>2]=c.version;HEAP32[a+36>>2]=0;HEAP32[a+40>>2]=c.attributes.enableExtensionsByDefault;return 0}function _emscripten_webgl_init_context_attributes(attributes){assert(attributes);var a=attributes>>2;for(var i=0;i<56>>2;++i){HEAP32[a+i]=0}HEAP32[a+(0>>2)]=HEAP32[a+(4>>2)]=HEAP32[a+(12>>2)]=HEAP32[a+(16>>2)]=HEAP32[a+(32>>2)]=HEAP32[a+(40>>2)]=1}var ENV={};function getExecutableName(){return thisProgram||"./this.program"}function getEnvStrings(){if(!getEnvStrings.strings){var lang=(typeof navigator==="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var env={"USER":"web_user","LOGNAME":"web_user","PATH":"/","PWD":"/","HOME":"/home/web_user","LANG":lang,"_":getExecutableName()};for(var x in ENV){env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(x+"="+env[x])}getEnvStrings.strings=strings}return getEnvStrings.strings}function _environ_get(__environ,environ_buf){try{var bufSize=0;getEnvStrings().forEach(function(string,i){var ptr=environ_buf+bufSize;HEAP32[__environ+i*4>>2]=ptr;writeAsciiToMemory(string,ptr);bufSize+=string.length+1});return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _environ_sizes_get(penviron_count,penviron_buf_size){try{var strings=getEnvStrings();HEAP32[penviron_count>>2]=strings.length;var bufSize=0;strings.forEach(function(string){bufSize+=string.length+1});HEAP32[penviron_buf_size>>2]=bufSize;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_fdstat_get(fd,pbuf){try{var stream=SYSCALLS.getStreamFromFD(fd);var type=stream.tty?2:FS.isDir(stream.mode)?3:FS.isLink(stream.mode)?7:4;HEAP8[pbuf>>0]=type;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_read(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doReadv(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){try{var stream=SYSCALLS.getStreamFromFD(fd);var HIGH_OFFSET=4294967296;var offset=offset_high*HIGH_OFFSET+(offset_low>>>0);var DOUBLE_LIMIT=9007199254740992;if(offset<=-DOUBLE_LIMIT||offset>=DOUBLE_LIMIT){return-61}FS.llseek(stream,offset,whence);tempI64=[stream.position>>>0,(tempDouble=stream.position,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[newOffset>>2]=tempI64[0],HEAP32[newOffset+4>>2]=tempI64[1];if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_write(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doWritev(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _getTempRet0(){return getTempRet0()|0}function _gettimeofday(ptr){var now=Date.now();HEAP32[ptr>>2]=now/1e3|0;HEAP32[ptr+4>>2]=now%1e3*1e3|0;return 0}function _glActiveTexture(x0){GLctx["activeTexture"](x0)}function _glAttachShader(program,shader){GLctx.attachShader(GL.programs[program],GL.shaders[shader])}function _glBindAttribLocation(program,index,name){GLctx.bindAttribLocation(GL.programs[program],index,UTF8ToString(name))}function _glBindBuffer(target,buffer){if(target==34962){GLctx.currentArrayBufferBinding=buffer}else if(target==34963){GLctx.currentElementArrayBufferBinding=buffer}if(target==35051){GLctx.currentPixelPackBufferBinding=buffer}else if(target==35052){GLctx.currentPixelUnpackBufferBinding=buffer}GLctx.bindBuffer(target,GL.buffers[buffer])}function _glBindFramebuffer(target,framebuffer){GLctx.bindFramebuffer(target,GL.framebuffers[framebuffer])}function _glBindTexture(target,texture){GLctx.bindTexture(target,GL.textures[texture])}function _glBindVertexArray(vao){GLctx["bindVertexArray"](GL.vaos[vao]);var ibo=GLctx.getParameter(34965);GLctx.currentElementArrayBufferBinding=ibo?ibo.name|0:0}function _glBufferData(target,size,data,usage){if(GL.currentContext.version>=2){if(data){GLctx.bufferData(target,HEAPU8,usage,data,size)}else{GLctx.bufferData(target,size,usage)}}else{GLctx.bufferData(target,data?HEAPU8.subarray(data,data+size):size,usage)}}function convertI32PairToI53(lo,hi){assert(hi===(hi|0));return(lo>>>0)+hi*4294967296}function _glClientWaitSync(sync,flags,timeoutLo,timeoutHi){return GLctx.clientWaitSync(GL.syncs[sync],flags,convertI32PairToI53(timeoutLo,timeoutHi))}function _glCompileShader(shader){GLctx.compileShader(GL.shaders[shader])}function _glCreateProgram(){var id=GL.getNewId(GL.programs);var program=GLctx.createProgram();program.name=id;GL.programs[id]=program;return id}function _glCreateShader(shaderType){var id=GL.getNewId(GL.shaders);GL.shaders[id]=GLctx.createShader(shaderType);return id}function _glDeleteBuffers(n,buffers){for(var i=0;i<n;i++){var id=HEAP32[buffers+i*4>>2];var buffer=GL.buffers[id];if(!buffer)continue;GLctx.deleteBuffer(buffer);buffer.name=0;GL.buffers[id]=null;if(id==GLctx.currentArrayBufferBinding)GLctx.currentArrayBufferBinding=0;if(id==GLctx.currentElementArrayBufferBinding)GLctx.currentElementArrayBufferBinding=0;if(id==GLctx.currentPixelPackBufferBinding)GLctx.currentPixelPackBufferBinding=0;if(id==GLctx.currentPixelUnpackBufferBinding)GLctx.currentPixelUnpackBufferBinding=0}}function _glDeleteFramebuffers(n,framebuffers){for(var i=0;i<n;++i){var id=HEAP32[framebuffers+i*4>>2];var framebuffer=GL.framebuffers[id];if(!framebuffer)continue;GLctx.deleteFramebuffer(framebuffer);framebuffer.name=0;GL.framebuffers[id]=null}}function _glDeleteProgram(id){if(!id)return;var program=GL.programs[id];if(!program){GL.recordError(1281);return}GLctx.deleteProgram(program);program.name=0;GL.programs[id]=null;GL.programInfos[id]=null}function _glDeleteShader(id){if(!id)return;var shader=GL.shaders[id];if(!shader){GL.recordError(1281);return}GLctx.deleteShader(shader);GL.shaders[id]=null}function _glDeleteSync(id){if(!id)return;var sync=GL.syncs[id];if(!sync){GL.recordError(1281);return}GLctx.deleteSync(sync);sync.name=0;GL.syncs[id]=null}function _glDeleteTextures(n,textures){for(var i=0;i<n;i++){var id=HEAP32[textures+i*4>>2];var texture=GL.textures[id];if(!texture)continue;GLctx.deleteTexture(texture);texture.name=0;GL.textures[id]=null}}function _glDeleteVertexArrays(n,vaos){for(var i=0;i<n;i++){var id=HEAP32[vaos+i*4>>2];GLctx["deleteVertexArray"](GL.vaos[id]);GL.vaos[id]=null}}function _glDisable(x0){GLctx["disable"](x0)}function _glDisableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=false;GLctx.disableVertexAttribArray(index)}function _glDrawArrays(mode,first,count){GL.preDrawHandleClientVertexAttribBindings(first+count);GLctx.drawArrays(mode,first,count);GL.postDrawHandleClientVertexAttribBindings()}var tempFixedLengthArray=[];function _glDrawBuffers(n,bufs){var bufArray=tempFixedLengthArray[n];for(var i=0;i<n;i++){bufArray[i]=HEAP32[bufs+i*4>>2]}GLctx["drawBuffers"](bufArray)}function _glEnableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=true;GLctx.enableVertexAttribArray(index)}function _glFenceSync(condition,flags){var sync=GLctx.fenceSync(condition,flags);if(sync){var id=GL.getNewId(GL.syncs);sync.name=id;GL.syncs[id]=sync;return id}else{return 0}}function _glFinish(){GLctx["finish"]()}function _glFlush(){GLctx["flush"]()}function _glFramebufferTexture2D(target,attachment,textarget,texture,level){GLctx.framebufferTexture2D(target,attachment,textarget,GL.textures[texture],level)}function _glFramebufferTextureLayer(target,attachment,texture,level,layer){GLctx.framebufferTextureLayer(target,attachment,GL.textures[texture],level,layer)}function __glGenObject(n,buffers,createFunction,objectTable){for(var i=0;i<n;i++){var buffer=GLctx[createFunction]();var id=buffer&&GL.getNewId(objectTable);if(buffer){buffer.name=id;objectTable[id]=buffer}else{GL.recordError(1282)}HEAP32[buffers+i*4>>2]=id}}function _glGenBuffers(n,buffers){__glGenObject(n,buffers,"createBuffer",GL.buffers)}function _glGenFramebuffers(n,ids){__glGenObject(n,ids,"createFramebuffer",GL.framebuffers)}function _glGenTextures(n,textures){__glGenObject(n,textures,"createTexture",GL.textures)}function _glGenVertexArrays(n,arrays){__glGenObject(n,arrays,"createVertexArray",GL.vaos)}function _glGetAttribLocation(program,name){return GLctx.getAttribLocation(GL.programs[program],UTF8ToString(name))}function _glGetError(){var error=GLctx.getError()||GL.lastError;GL.lastError=0;return error}function readI53FromI64(ptr){return HEAPU32[ptr>>2]+HEAP32[ptr+4>>2]*4294967296}function readI53FromU64(ptr){return HEAPU32[ptr>>2]+HEAPU32[ptr+4>>2]*4294967296}function writeI53ToI64(ptr,num){HEAPU32[ptr>>2]=num;HEAPU32[ptr+4>>2]=(num-HEAPU32[ptr>>2])/4294967296;var deserialized=num>=0?readI53FromU64(ptr):readI53FromI64(ptr);if(deserialized!=num)warnOnce("writeI53ToI64() out of range: serialized JS Number "+num+" to Wasm heap as bytes lo=0x"+HEAPU32[ptr>>2].toString(16)+", hi=0x"+HEAPU32[ptr+4>>2].toString(16)+", which deserializes back to "+deserialized+" instead!")}function emscriptenWebGLGet(name_,p,type){if(!p){GL.recordError(1281);return}var ret=undefined;switch(name_){case 36346:ret=1;break;case 36344:if(type!=0&&type!=1){GL.recordError(1280)}return;case 34814:case 36345:ret=0;break;case 34466:var formats=GLctx.getParameter(34467);ret=formats?formats.length:0;break;case 33309:if(GL.currentContext.version<2){GL.recordError(1282);return}var exts=GLctx.getSupportedExtensions()||[];ret=2*exts.length;break;case 33307:case 33308:if(GL.currentContext.version<2){GL.recordError(1280);return}ret=name_==33307?3:0;break}if(ret===undefined){var result=GLctx.getParameter(name_);switch(typeof result){case"number":ret=result;break;case"boolean":ret=result?1:0;break;case"string":GL.recordError(1280);return;case"object":if(result===null){switch(name_){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:{ret=0;break}default:{GL.recordError(1280);return}}}else if(result instanceof Float32Array||result instanceof Uint32Array||result instanceof Int32Array||result instanceof Array){for(var i=0;i<result.length;++i){switch(type){case 0:HEAP32[p+i*4>>2]=result[i];break;case 2:HEAPF32[p+i*4>>2]=result[i];break;case 4:HEAP8[p+i>>0]=result[i]?1:0;break}}return}else{try{ret=result.name|0}catch(e){GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Unknown object returned from WebGL getParameter("+name_+")! (error: "+e+")");return}}break;default:GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Native code calling glGet"+type+"v("+name_+") and it returns "+result+" of type "+typeof result+"!");return}}switch(type){case 1:writeI53ToI64(p,ret);break;case 0:HEAP32[p>>2]=ret;break;case 2:HEAPF32[p>>2]=ret;break;case 4:HEAP8[p>>0]=ret?1:0;break}}function _glGetIntegerv(name_,p){emscriptenWebGLGet(name_,p,0)}function _glGetProgramInfoLog(program,maxLength,length,infoLog){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetProgramiv(program,pname,p){if(!p){GL.recordError(1281);return}if(program>=GL.counter){GL.recordError(1281);return}var ptable=GL.programInfos[program];if(!ptable){GL.recordError(1282);return}if(pname==35716){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";HEAP32[p>>2]=log.length+1}else if(pname==35719){HEAP32[p>>2]=ptable.maxUniformLength}else if(pname==35722){if(ptable.maxAttributeLength==-1){program=GL.programs[program];var numAttribs=GLctx.getProgramParameter(program,35721);ptable.maxAttributeLength=0;for(var i=0;i<numAttribs;++i){var activeAttrib=GLctx.getActiveAttrib(program,i);ptable.maxAttributeLength=Math.max(ptable.maxAttributeLength,activeAttrib.name.length+1)}}HEAP32[p>>2]=ptable.maxAttributeLength}else if(pname==35381){if(ptable.maxUniformBlockNameLength==-1){program=GL.programs[program];var numBlocks=GLctx.getProgramParameter(program,35382);ptable.maxUniformBlockNameLength=0;for(var i=0;i<numBlocks;++i){var activeBlockName=GLctx.getActiveUniformBlockName(program,i);ptable.maxUniformBlockNameLength=Math.max(ptable.maxUniformBlockNameLength,activeBlockName.length+1)}}HEAP32[p>>2]=ptable.maxUniformBlockNameLength}else{HEAP32[p>>2]=GLctx.getProgramParameter(GL.programs[program],pname)}}function _glGetShaderInfoLog(shader,maxLength,length,infoLog){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetShaderiv(shader,pname,p){if(!p){GL.recordError(1281);return}if(pname==35716){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var logLength=log?log.length+1:0;HEAP32[p>>2]=logLength}else if(pname==35720){var source=GLctx.getShaderSource(GL.shaders[shader]);var sourceLength=source?source.length+1:0;HEAP32[p>>2]=sourceLength}else{HEAP32[p>>2]=GLctx.getShaderParameter(GL.shaders[shader],pname)}}function stringToNewUTF8(jsString){var length=lengthBytesUTF8(jsString)+1;var cString=_malloc(length);stringToUTF8(jsString,cString,length);return cString}function _glGetString(name_){if(GL.stringCache[name_])return GL.stringCache[name_];var ret;switch(name_){case 7939:var exts=GLctx.getSupportedExtensions()||[];exts=exts.concat(exts.map(function(e){return"GL_"+e}));ret=stringToNewUTF8(exts.join(" "));break;case 7936:case 7937:case 37445:case 37446:var s=GLctx.getParameter(name_);if(!s){GL.recordError(1280)}ret=stringToNewUTF8(s);break;case 7938:var glVersion=GLctx.getParameter(7938);if(GL.currentContext.version>=2)glVersion="OpenGL ES 3.0 ("+glVersion+")";else{glVersion="OpenGL ES 2.0 ("+glVersion+")"}ret=stringToNewUTF8(glVersion);break;case 35724:var glslVersion=GLctx.getParameter(35724);var ver_re=/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/;var ver_num=glslVersion.match(ver_re);if(ver_num!==null){if(ver_num[1].length==3)ver_num[1]=ver_num[1]+"0";glslVersion="OpenGL ES GLSL ES "+ver_num[1]+" ("+glslVersion+")"}ret=stringToNewUTF8(glslVersion);break;default:GL.recordError(1280);return 0}GL.stringCache[name_]=ret;return ret}function jstoi_q(str){return parseInt(str)}function _glGetUniformLocation(program,name){name=UTF8ToString(name);var arrayIndex=0;if(name[name.length-1]=="]"){var leftBrace=name.lastIndexOf("[");arrayIndex=name[leftBrace+1]!="]"?jstoi_q(name.slice(leftBrace+1)):0;name=name.slice(0,leftBrace)}var uniformInfo=GL.programInfos[program]&&GL.programInfos[program].uniforms[name];if(uniformInfo&&arrayIndex>=0&&arrayIndex<uniformInfo[0]){return uniformInfo[1]+arrayIndex}else{return-1}}function _glLinkProgram(program){GLctx.linkProgram(GL.programs[program]);GL.populateUniformTable(program)}function _glPixelStorei(pname,param){if(pname==3317){GL.unpackAlignment=param}GLctx.pixelStorei(pname,param)}function computeUnpackAlignedImageSize(width,height,sizePerPixel,alignment){function roundedToNextMultipleOf(x,y){return x+y-1&-y}var plainRowSize=width*sizePerPixel;var alignedRowSize=roundedToNextMultipleOf(plainRowSize,alignment);return height*alignedRowSize}function __colorChannelsInGlTextureFormat(format){var colorChannels={5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4};return colorChannels[format-6402]||1}function heapObjectForWebGLType(type){type-=5120;if(type==0)return HEAP8;if(type==1)return HEAPU8;if(type==2)return HEAP16;if(type==4)return HEAP32;if(type==6)return HEAPF32;if(type==5||type==28922||type==28520||type==30779||type==30782)return HEAPU32;return HEAPU16}function heapAccessShiftForWebGLHeap(heap){return 31-Math.clz32(heap.BYTES_PER_ELEMENT)}function emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat){var heap=heapObjectForWebGLType(type);var shift=heapAccessShiftForWebGLHeap(heap);var byteSize=1<<shift;var sizePerPixel=__colorChannelsInGlTextureFormat(format)*byteSize;var bytes=computeUnpackAlignedImageSize(width,height,sizePerPixel,GL.unpackAlignment);return heap.subarray(pixels>>shift,pixels+bytes>>shift)}function _glReadPixels(x,y,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelPackBufferBinding){GLctx.readPixels(x,y,width,height,format,type,pixels)}else{var heap=heapObjectForWebGLType(type);GLctx.readPixels(x,y,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}return}var pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,format);if(!pixelData){GL.recordError(1280);return}GLctx.readPixels(x,y,width,height,format,type,pixelData)}function _glShaderSource(shader,count,string,length){var source=GL.getSource(shader,count,string,length);GLctx.shaderSource(GL.shaders[shader],source)}function _glTexImage2D(target,level,internalFormat,width,height,border,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,null)}return}GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat):null)}function _glTexParameterfv(target,pname,params){var param=HEAPF32[params>>2];GLctx.texParameterf(target,pname,param)}function _glTexParameteri(x0,x1,x2){GLctx["texParameteri"](x0,x1,x2)}function _glTexStorage2D(x0,x1,x2,x3,x4){GLctx["texStorage2D"](x0,x1,x2,x3,x4)}function _glTexStorage3D(x0,x1,x2,x3,x4,x5){GLctx["texStorage3D"](x0,x1,x2,x3,x4,x5)}function _glTexSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,null)}return}var pixelData=null;if(pixels)pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,0);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixelData)}function _glTexSubImage3D(target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels){if(GLctx.currentPixelUnpackBufferBinding){GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,null)}}function _glUniform1f(location,v0){GLctx.uniform1f(GL.uniforms[location],v0)}function _glUniform1i(location,v0){GLctx.uniform1i(GL.uniforms[location],v0)}var miniTempWebGLFloatBuffers=[];function _glUniform2fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2fv(GL.uniforms[location],HEAPF32,value>>2,count*2);return}if(count<=144){var view=miniTempWebGLFloatBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2fv(GL.uniforms[location],view)}function _glUniform4fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4fv(GL.uniforms[location],HEAPF32,value>>2,count*4);return}if(count<=72){var view=miniTempWebGLFloatBuffers[4*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<4*count;i+=4){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4fv(GL.uniforms[location],view)}var __miniTempWebGLIntBuffers=[];function _glUniform4iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4iv(GL.uniforms[location],HEAP32,value>>2,count*4);return}if(count<=72){var view=__miniTempWebGLIntBuffers[4*count-1];for(var i=0;i<4*count;i+=4){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2];view[i+2]=HEAP32[value+(4*i+8)>>2];view[i+3]=HEAP32[value+(4*i+12)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4iv(GL.uniforms[location],view)}function _glUniformMatrix4fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*16);return}if(count<=18){var view=miniTempWebGLFloatBuffers[16*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<16*count;i+=16){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3];view[i+4]=heap[dst+4];view[i+5]=heap[dst+5];view[i+6]=heap[dst+6];view[i+7]=heap[dst+7];view[i+8]=heap[dst+8];view[i+9]=heap[dst+9];view[i+10]=heap[dst+10];view[i+11]=heap[dst+11];view[i+12]=heap[dst+12];view[i+13]=heap[dst+13];view[i+14]=heap[dst+14];view[i+15]=heap[dst+15]}}else{var view=HEAPF32.subarray(value>>2,value+count*64>>2)}GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,view)}function _glUseProgram(program){GLctx.useProgram(GL.programs[program])}function _glVertexAttribPointer(index,size,type,normalized,stride,ptr){var cb=GL.currentContext.clientBuffers[index];if(!GLctx.currentArrayBufferBinding){cb.size=size;cb.type=type;cb.normalized=normalized;cb.stride=stride;cb.ptr=ptr;cb.clientside=true;cb.vertexAttribPointerAdaptor=function(index,size,type,normalized,stride,ptr){this.vertexAttribPointer(index,size,type,normalized,stride,ptr)};return}cb.clientside=false;GLctx.vertexAttribPointer(index,size,type,!!normalized,stride,ptr)}function _glViewport(x0,x1,x2,x3){GLctx["viewport"](x0,x1,x2,x3)}function _gmtime_r(time,tmPtr){var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getUTCSeconds();HEAP32[tmPtr+4>>2]=date.getUTCMinutes();HEAP32[tmPtr+8>>2]=date.getUTCHours();HEAP32[tmPtr+12>>2]=date.getUTCDate();HEAP32[tmPtr+16>>2]=date.getUTCMonth();HEAP32[tmPtr+20>>2]=date.getUTCFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getUTCDay();HEAP32[tmPtr+36>>2]=0;HEAP32[tmPtr+32>>2]=0;var start=Date.UTC(date.getUTCFullYear(),0,1,0,0,0,0);var yday=(date.getTime()-start)/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;if(!_gmtime_r.GMTString)_gmtime_r.GMTString=allocateUTF8("GMT");HEAP32[tmPtr+40>>2]=_gmtime_r.GMTString;return tmPtr}function _llvm_eh_typeid_for(type){return type}function _tzset(){if(_tzset.called)return;_tzset.called=true;var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);HEAP32[__get_timezone()>>2]=stdTimezoneOffset*60;HEAP32[__get_daylight()>>2]=Number(winterOffset!=summerOffset);function extractZone(date){var match=date.toTimeString().match(/\(([A-Za-z ]+)\)$/);return match?match[1]:"GMT"}var winterName=extractZone(winter);var summerName=extractZone(summer);var winterNamePtr=allocateUTF8(winterName);var summerNamePtr=allocateUTF8(summerName);if(summerOffset<winterOffset){HEAP32[__get_tzname()>>2]=winterNamePtr;HEAP32[__get_tzname()+4>>2]=summerNamePtr}else{HEAP32[__get_tzname()>>2]=summerNamePtr;HEAP32[__get_tzname()+4>>2]=winterNamePtr}}function _localtime_r(time,tmPtr){_tzset();var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();HEAP32[tmPtr+20>>2]=date.getFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getDay();var start=new Date(date.getFullYear(),0,1);var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr+36>>2]=-(date.getTimezoneOffset()*60);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dst=(summerOffset!=winterOffset&&date.getTimezoneOffset()==Math.min(winterOffset,summerOffset))|0;HEAP32[tmPtr+32>>2]=dst;var zonePtr=HEAP32[__get_tzname()+(dst?4:0)>>2];HEAP32[tmPtr+40>>2]=zonePtr;return tmPtr}function _mktime(tmPtr){_tzset();var date=new Date(HEAP32[tmPtr+20>>2]+1900,HEAP32[tmPtr+16>>2],HEAP32[tmPtr+12>>2],HEAP32[tmPtr+8>>2],HEAP32[tmPtr+4>>2],HEAP32[tmPtr>>2],0);var dst=HEAP32[tmPtr+32>>2];var guessedOffset=date.getTimezoneOffset();var start=new Date(date.getFullYear(),0,1);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dstOffset=Math.min(winterOffset,summerOffset);if(dst<0){HEAP32[tmPtr+32>>2]=Number(summerOffset!=winterOffset&&dstOffset==guessedOffset)}else if(dst>0!=(dstOffset==guessedOffset)){var nonDstOffset=Math.max(winterOffset,summerOffset);var trueOffset=dst>0?dstOffset:nonDstOffset;date.setTime(date.getTime()+(trueOffset-guessedOffset)*6e4)}HEAP32[tmPtr+24>>2]=date.getDay();var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();return date.getTime()/1e3|0}function _pthread_create(){return 6}function _pthread_join(){return 28}function _setTempRet0($i){setTempRet0($i|0)}function __isLeapYear(year){return year%4===0&&(year%100!==0||year%400===0)}function __arraySum(array,index){var sum=0;for(var i=0;i<=index;sum+=array[i++]){}return sum}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31];var __MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(date,days){var newDate=new Date(date.getTime());while(days>0){var leap=__isLeapYear(newDate.getFullYear());var currentMonth=newDate.getMonth();var daysInCurrentMonth=(leap?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[currentMonth];if(days>daysInCurrentMonth-newDate.getDate()){days-=daysInCurrentMonth-newDate.getDate()+1;newDate.setDate(1);if(currentMonth<11){newDate.setMonth(currentMonth+1)}else{newDate.setMonth(0);newDate.setFullYear(newDate.getFullYear()+1)}}else{newDate.setDate(newDate.getDate()+days);return newDate}}return newDate}function _strftime(s,maxsize,format,tm){var tm_zone=HEAP32[tm+40>>2];var date={tm_sec:HEAP32[tm>>2],tm_min:HEAP32[tm+4>>2],tm_hour:HEAP32[tm+8>>2],tm_mday:HEAP32[tm+12>>2],tm_mon:HEAP32[tm+16>>2],tm_year:HEAP32[tm+20>>2],tm_wday:HEAP32[tm+24>>2],tm_yday:HEAP32[tm+28>>2],tm_isdst:HEAP32[tm+32>>2],tm_gmtoff:HEAP32[tm+36>>2],tm_zone:tm_zone?UTF8ToString(tm_zone):""};var pattern=UTF8ToString(format);var EXPANSION_RULES_1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var rule in EXPANSION_RULES_1){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_1[rule])}var WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];function leadingSomething(value,digits,character){var str=typeof value==="number"?value.toString():value||"";while(str.length<digits){str=character[0]+str}return str}function leadingNulls(value,digits){return leadingSomething(value,digits,"0")}function compareByDay(date1,date2){function sgn(value){return value<0?-1:value>0?1:0}var compare;if((compare=sgn(date1.getFullYear()-date2.getFullYear()))===0){if((compare=sgn(date1.getMonth()-date2.getMonth()))===0){compare=sgn(date1.getDate()-date2.getDate())}}return compare}function getFirstWeekStartDate(janFourth){switch(janFourth.getDay()){case 0:return new Date(janFourth.getFullYear()-1,11,29);case 1:return janFourth;case 2:return new Date(janFourth.getFullYear(),0,3);case 3:return new Date(janFourth.getFullYear(),0,2);case 4:return new Date(janFourth.getFullYear(),0,1);case 5:return new Date(janFourth.getFullYear()-1,11,31);case 6:return new Date(janFourth.getFullYear()-1,11,30)}}function getWeekBasedYear(date){var thisDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);var janFourthThisYear=new Date(thisDate.getFullYear(),0,4);var janFourthNextYear=new Date(thisDate.getFullYear()+1,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);if(compareByDay(firstWeekStartThisYear,thisDate)<=0){if(compareByDay(firstWeekStartNextYear,thisDate)<=0){return thisDate.getFullYear()+1}else{return thisDate.getFullYear()}}else{return thisDate.getFullYear()-1}}var EXPANSION_RULES_2={"%a":function(date){return WEEKDAYS[date.tm_wday].substring(0,3)},"%A":function(date){return WEEKDAYS[date.tm_wday]},"%b":function(date){return MONTHS[date.tm_mon].substring(0,3)},"%B":function(date){return MONTHS[date.tm_mon]},"%C":function(date){var year=date.tm_year+1900;return leadingNulls(year/100|0,2)},"%d":function(date){return leadingNulls(date.tm_mday,2)},"%e":function(date){return leadingSomething(date.tm_mday,2," ")},"%g":function(date){return getWeekBasedYear(date).toString().substring(2)},"%G":function(date){return getWeekBasedYear(date)},"%H":function(date){return leadingNulls(date.tm_hour,2)},"%I":function(date){var twelveHour=date.tm_hour;if(twelveHour==0)twelveHour=12;else if(twelveHour>12)twelveHour-=12;return leadingNulls(twelveHour,2)},"%j":function(date){return leadingNulls(date.tm_mday+__arraySum(__isLeapYear(date.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,date.tm_mon-1),3)},"%m":function(date){return leadingNulls(date.tm_mon+1,2)},"%M":function(date){return leadingNulls(date.tm_min,2)},"%n":function(){return"\n"},"%p":function(date){if(date.tm_hour>=0&&date.tm_hour<12){return"AM"}else{return"PM"}},"%S":function(date){return leadingNulls(date.tm_sec,2)},"%t":function(){return"\t"},"%u":function(date){return date.tm_wday||7},"%U":function(date){var janFirst=new Date(date.tm_year+1900,0,1);var firstSunday=janFirst.getDay()===0?janFirst:__addDays(janFirst,7-janFirst.getDay());var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstSunday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstSundayUntilEndJanuary=31-firstSunday.getDate();var days=firstSundayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstSunday,janFirst)===0?"01":"00"},"%V":function(date){var janFourthThisYear=new Date(date.tm_year+1900,0,4);var janFourthNextYear=new Date(date.tm_year+1901,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);var endDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);if(compareByDay(endDate,firstWeekStartThisYear)<0){return"53"}if(compareByDay(firstWeekStartNextYear,endDate)<=0){return"01"}var daysDifference;if(firstWeekStartThisYear.getFullYear()<date.tm_year+1900){daysDifference=date.tm_yday+32-firstWeekStartThisYear.getDate()}else{daysDifference=date.tm_yday+1-firstWeekStartThisYear.getDate()}return leadingNulls(Math.ceil(daysDifference/7),2)},"%w":function(date){return date.tm_wday},"%W":function(date){var janFirst=new Date(date.tm_year,0,1);var firstMonday=janFirst.getDay()===1?janFirst:__addDays(janFirst,janFirst.getDay()===0?1:7-janFirst.getDay()+1);var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstMonday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstMondayUntilEndJanuary=31-firstMonday.getDate();var days=firstMondayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstMonday,janFirst)===0?"01":"00"},"%y":function(date){return(date.tm_year+1900).toString().substring(2)},"%Y":function(date){return date.tm_year+1900},"%z":function(date){var off=date.tm_gmtoff;var ahead=off>=0;off=Math.abs(off)/60;off=off/60*100+off%60;return(ahead?"+":"-")+String("0000"+off).slice(-4)},"%Z":function(date){return date.tm_zone},"%%":function(){return"%"}};for(var rule in EXPANSION_RULES_2){if(pattern.indexOf(rule)>=0){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_2[rule](date))}}var bytes=intArrayFromString(pattern,false);if(bytes.length>maxsize){return 0}writeArrayToMemory(bytes,s);return bytes.length-1}function _strftime_l(s,maxsize,format,tm){return _strftime(s,maxsize,format,tm)}var readAsmConstArgsArray=[];function readAsmConstArgs(sigPtr,buf){assert(Array.isArray(readAsmConstArgsArray));assert(buf%16==0);readAsmConstArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){assert(ch===100||ch===102||ch===105);var double=ch<105;if(double&&buf&1)buf++;readAsmConstArgsArray.push(double?HEAPF64[buf++>>1]:HEAP32[buf]);++buf}return readAsmConstArgsArray}Module["requestFullscreen"]=function Module_requestFullscreen(lockPointer,resizeCanvas){Browser.requestFullscreen(lockPointer,resizeCanvas)};Module["requestFullScreen"]=function Module_requestFullScreen(){Browser.requestFullScreen()};Module["requestAnimationFrame"]=function Module_requestAnimationFrame(func){Browser.requestAnimationFrame(func)};Module["setCanvasSize"]=function Module_setCanvasSize(width,height,noUpdates){Browser.setCanvasSize(width,height,noUpdates)};Module["pauseMainLoop"]=function Module_pauseMainLoop(){Browser.mainLoop.pause()};Module["resumeMainLoop"]=function Module_resumeMainLoop(){Browser.mainLoop.resume()};Module["getUserMedia"]=function Module_getUserMedia(){Browser.getUserMedia()};Module["createContext"]=function Module_createContext(canvas,useWebGL,setInModule,webGLContextAttributes){return Browser.createContext(canvas,useWebGL,setInModule,webGLContextAttributes)};var FSNode=function(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.mounted=null;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.node_ops={};this.stream_ops={};this.rdev=rdev};var readMode=292|73;var writeMode=146;Object.defineProperties(FSNode.prototype,{read:{get:function(){return(this.mode&readMode)===readMode},set:function(val){val?this.mode|=readMode:this.mode&=~readMode}},write:{get:function(){return(this.mode&writeMode)===writeMode},set:function(val){val?this.mode|=writeMode:this.mode&=~writeMode}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}});FS.FSNode=FSNode;FS.staticInit();Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;init_emval();PureVirtualError=Module["PureVirtualError"]=extendError(Error,"PureVirtualError");embind_init_charCodes();init_embind();BindingError=Module["BindingError"]=extendError(Error,"BindingError");InternalError=Module["InternalError"]=extendError(Error,"InternalError");init_ClassHandle();init_RegisteredPointer();UnboundTypeError=Module["UnboundTypeError"]=extendError(Error,"UnboundTypeError");var GLctx;for(var i=0;i<32;++i)tempFixedLengthArray.push(new Array(i));var miniTempWebGLFloatBuffersStorage=new Float32Array(288);for(var i=0;i<288;++i){miniTempWebGLFloatBuffers[i]=miniTempWebGLFloatBuffersStorage.subarray(0,i+1)}var __miniTempWebGLIntBuffersStorage=new Int32Array(288);for(var i=0;i<288;++i){__miniTempWebGLIntBuffers[i]=__miniTempWebGLIntBuffersStorage.subarray(0,i+1)}var ASSERTIONS=true;function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}var asmLibraryArg={"__cxa_allocate_exception":___cxa_allocate_exception,"__cxa_atexit":___cxa_atexit,"__cxa_begin_catch":___cxa_begin_catch,"__cxa_end_catch":___cxa_end_catch,"__cxa_find_matching_catch_2":___cxa_find_matching_catch_2,"__cxa_find_matching_catch_3":___cxa_find_matching_catch_3,"__cxa_free_exception":___cxa_free_exception,"__cxa_rethrow":___cxa_rethrow,"__cxa_thread_atexit":___cxa_thread_atexit,"__cxa_throw":___cxa_throw,"__resumeException":___resumeException,"__sys_fcntl64":___sys_fcntl64,"__sys_fstat64":___sys_fstat64,"__sys_ioctl":___sys_ioctl,"__sys_mmap2":___sys_mmap2,"__sys_munmap":___sys_munmap,"__sys_open":___sys_open,"__sys_stat64":___sys_stat64,"_embind_create_inheriting_constructor":__embind_create_inheriting_constructor,"_embind_finalize_value_object":__embind_finalize_value_object,"_embind_register_bool":__embind_register_bool,"_embind_register_class":__embind_register_class,"_embind_register_class_class_function":__embind_register_class_class_function,"_embind_register_class_constructor":__embind_register_class_constructor,"_embind_register_class_function":__embind_register_class_function,"_embind_register_class_property":__embind_register_class_property,"_embind_register_emval":__embind_register_emval,"_embind_register_float":__embind_register_float,"_embind_register_function":__embind_register_function,"_embind_register_integer":__embind_register_integer,"_embind_register_memory_view":__embind_register_memory_view,"_embind_register_std_string":__embind_register_std_string,"_embind_register_std_wstring":__embind_register_std_wstring,"_embind_register_value_object":__embind_register_value_object,"_embind_register_value_object_field":__embind_register_value_object_field,"_embind_register_void":__embind_register_void,"_emval_call_void_method":__emval_call_void_method,"_emval_decref":__emval_decref,"_emval_get_method_caller":__emval_get_method_caller,"_emval_incref":__emval_incref,"_emval_take_value":__emval_take_value,"_exit":__exit,"abort":_abort,"clock_gettime":_clock_gettime,"dlopen":_dlopen,"dlsym":_dlsym,"emscripten_asm_const_int":_emscripten_asm_const_int,"emscripten_get_heap_max":_emscripten_get_heap_max,"emscripten_memcpy_big":_emscripten_memcpy_big,"emscripten_resize_heap":_emscripten_resize_heap,"emscripten_thread_sleep":_emscripten_thread_sleep,"emscripten_webgl_create_context":_emscripten_webgl_create_context,"emscripten_webgl_destroy_context":_emscripten_webgl_destroy_context,"emscripten_webgl_get_context_attributes":_emscripten_webgl_get_context_attributes,"emscripten_webgl_get_current_context":_emscripten_webgl_get_current_context,"emscripten_webgl_init_context_attributes":_emscripten_webgl_init_context_attributes,"emscripten_webgl_make_context_current":_emscripten_webgl_make_context_current,"environ_get":_environ_get,"environ_sizes_get":_environ_sizes_get,"exit":_exit,"fd_close":_fd_close,"fd_fdstat_get":_fd_fdstat_get,"fd_read":_fd_read,"fd_seek":_fd_seek,"fd_write":_fd_write,"getTempRet0":_getTempRet0,"gettimeofday":_gettimeofday,"glActiveTexture":_glActiveTexture,"glAttachShader":_glAttachShader,"glBindAttribLocation":_glBindAttribLocation,"glBindBuffer":_glBindBuffer,"glBindFramebuffer":_glBindFramebuffer,"glBindTexture":_glBindTexture,"glBindVertexArray":_glBindVertexArray,"glBufferData":_glBufferData,"glClientWaitSync":_glClientWaitSync,"glCompileShader":_glCompileShader,"glCreateProgram":_glCreateProgram,"glCreateShader":_glCreateShader,"glDeleteBuffers":_glDeleteBuffers,"glDeleteFramebuffers":_glDeleteFramebuffers,"glDeleteProgram":_glDeleteProgram,"glDeleteShader":_glDeleteShader,"glDeleteSync":_glDeleteSync,"glDeleteTextures":_glDeleteTextures,"glDeleteVertexArrays":_glDeleteVertexArrays,"glDisable":_glDisable,"glDisableVertexAttribArray":_glDisableVertexAttribArray,"glDrawArrays":_glDrawArrays,"glDrawBuffers":_glDrawBuffers,"glEnableVertexAttribArray":_glEnableVertexAttribArray,"glFenceSync":_glFenceSync,"glFinish":_glFinish,"glFlush":_glFlush,"glFramebufferTexture2D":_glFramebufferTexture2D,"glFramebufferTextureLayer":_glFramebufferTextureLayer,"glGenBuffers":_glGenBuffers,"glGenFramebuffers":_glGenFramebuffers,"glGenTextures":_glGenTextures,"glGenVertexArrays":_glGenVertexArrays,"glGetAttribLocation":_glGetAttribLocation,"glGetError":_glGetError,"glGetIntegerv":_glGetIntegerv,"glGetProgramInfoLog":_glGetProgramInfoLog,"glGetProgramiv":_glGetProgramiv,"glGetShaderInfoLog":_glGetShaderInfoLog,"glGetShaderiv":_glGetShaderiv,"glGetString":_glGetString,"glGetUniformLocation":_glGetUniformLocation,"glLinkProgram":_glLinkProgram,"glPixelStorei":_glPixelStorei,"glReadPixels":_glReadPixels,"glShaderSource":_glShaderSource,"glTexImage2D":_glTexImage2D,"glTexParameterfv":_glTexParameterfv,"glTexParameteri":_glTexParameteri,"glTexStorage2D":_glTexStorage2D,"glTexStorage3D":_glTexStorage3D,"glTexSubImage2D":_glTexSubImage2D,"glTexSubImage3D":_glTexSubImage3D,"glUniform1f":_glUniform1f,"glUniform1i":_glUniform1i,"glUniform2fv":_glUniform2fv,"glUniform4fv":_glUniform4fv,"glUniform4iv":_glUniform4iv,"glUniformMatrix4fv":_glUniformMatrix4fv,"glUseProgram":_glUseProgram,"glVertexAttribPointer":_glVertexAttribPointer,"glViewport":_glViewport,"gmtime_r":_gmtime_r,"invoke_diii":invoke_diii,"invoke_i":invoke_i,"invoke_ii":invoke_ii,"invoke_iii":invoke_iii,"invoke_iiii":invoke_iiii,"invoke_iiiii":invoke_iiiii,"invoke_iiiiii":invoke_iiiiii,"invoke_iiiiiii":invoke_iiiiiii,"invoke_iiiiiiiddi":invoke_iiiiiiiddi,"invoke_iiiiiiii":invoke_iiiiiiii,"invoke_iiiiiiiii":invoke_iiiiiiiii,"invoke_v":invoke_v,"invoke_vdiii":invoke_vdiii,"invoke_vi":invoke_vi,"invoke_vididdii":invoke_vididdii,"invoke_vidii":invoke_vidii,"invoke_vii":invoke_vii,"invoke_viid":invoke_viid,"invoke_viidi":invoke_viidi,"invoke_viididii":invoke_viididii,"invoke_viii":invoke_viii,"invoke_viiid":invoke_viiid,"invoke_viiidd":invoke_viiidd,"invoke_viiiddi":invoke_viiiddi,"invoke_viiidi":invoke_viiidi,"invoke_viiii":invoke_viiii,"invoke_viiiid":invoke_viiiid,"invoke_viiiidi":invoke_viiiidi,"invoke_viiiidid":invoke_viiiidid,"invoke_viiiidiidiiiiiii":invoke_viiiidiidiiiiiii,"invoke_viiiifiifiiiiiii":invoke_viiiifiifiiiiiii,"invoke_viiiii":invoke_viiiii,"invoke_viiiiid":invoke_viiiiid,"invoke_viiiiif":invoke_viiiiif,"invoke_viiiiii":invoke_viiiiii,"invoke_viiiiiid":invoke_viiiiiid,"invoke_viiiiiif":invoke_viiiiiif,"invoke_viiiiiii":invoke_viiiiiii,"invoke_viiiiiiiddi":invoke_viiiiiiiddi,"invoke_viiiiiiidiiii":invoke_viiiiiiidiiii,"invoke_viiiiiiifiiii":invoke_viiiiiiifiiii,"invoke_viiiiiiii":invoke_viiiiiiii,"invoke_viiiiiiiidd":invoke_viiiiiiiidd,"invoke_viiiiiiiidf":invoke_viiiiiiiidf,"invoke_viiiiiiiii":invoke_viiiiiiiii,"invoke_viiiiiiiiii":invoke_viiiiiiiiii,"invoke_viiiiiiiiiiddi":invoke_viiiiiiiiiiddi,"invoke_viiiiiiiiiii":invoke_viiiiiiiiiii,"invoke_viiiiiiiiiiii":invoke_viiiiiiiiiiii,"invoke_viiiiiiiiiiiii":invoke_viiiiiiiiiiiii,"llvm_eh_typeid_for":_llvm_eh_typeid_for,"localtime_r":_localtime_r,"mktime":_mktime,"pthread_create":_pthread_create,"pthread_join":_pthread_join,"setTempRet0":_setTempRet0,"strftime":_strftime,"strftime_l":_strftime_l};var asm=createWasm();var ___wasm_call_ctors=Module["___wasm_call_ctors"]=createExportWrapper("__wasm_call_ctors");var _memset=Module["_memset"]=createExportWrapper("memset");var _free=Module["_free"]=createExportWrapper("free");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var ___errno_location=Module["___errno_location"]=createExportWrapper("__errno_location");var ___getTypeName=Module["___getTypeName"]=createExportWrapper("__getTypeName");var ___embind_register_native_and_builtin_types=Module["___embind_register_native_and_builtin_types"]=createExportWrapper("__embind_register_native_and_builtin_types");var __get_tzname=Module["__get_tzname"]=createExportWrapper("_get_tzname");var __get_daylight=Module["__get_daylight"]=createExportWrapper("_get_daylight");var __get_timezone=Module["__get_timezone"]=createExportWrapper("_get_timezone");var _emscripten_main_thread_process_queued_calls=Module["_emscripten_main_thread_process_queued_calls"]=createExportWrapper("emscripten_main_thread_process_queued_calls");var _emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=function(){return(_emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=Module["asm"]["emscripten_stack_get_end"]).apply(null,arguments)};var stackSave=Module["stackSave"]=createExportWrapper("stackSave");var stackRestore=Module["stackRestore"]=createExportWrapper("stackRestore");var stackAlloc=Module["stackAlloc"]=createExportWrapper("stackAlloc");var _emscripten_stack_init=Module["_emscripten_stack_init"]=function(){return(_emscripten_stack_init=Module["_emscripten_stack_init"]=Module["asm"]["emscripten_stack_init"]).apply(null,arguments)};var _emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=function(){return(_emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=Module["asm"]["emscripten_stack_get_free"]).apply(null,arguments)};var _setThrew=Module["_setThrew"]=createExportWrapper("setThrew");var _memalign=Module["_memalign"]=createExportWrapper("memalign");var dynCall_viijii=Module["dynCall_viijii"]=createExportWrapper("dynCall_viijii");var dynCall_jii=Module["dynCall_jii"]=createExportWrapper("dynCall_jii");var dynCall_viji=Module["dynCall_viji"]=createExportWrapper("dynCall_viji");var dynCall_jjj=Module["dynCall_jjj"]=createExportWrapper("dynCall_jjj");var dynCall_iiiijj=Module["dynCall_iiiijj"]=createExportWrapper("dynCall_iiiijj");var dynCall_viijj=Module["dynCall_viijj"]=createExportWrapper("dynCall_viijj");var dynCall_viiijjjj=Module["dynCall_viiijjjj"]=createExportWrapper("dynCall_viiijjjj");var dynCall_ji=Module["dynCall_ji"]=createExportWrapper("dynCall_ji");var dynCall_vij=Module["dynCall_vij"]=createExportWrapper("dynCall_vij");var dynCall_vj=Module["dynCall_vj"]=createExportWrapper("dynCall_vj");var dynCall_viij=Module["dynCall_viij"]=createExportWrapper("dynCall_viij");var dynCall_viiiiij=Module["dynCall_viiiiij"]=createExportWrapper("dynCall_viiiiij");var dynCall_iijjiiii=Module["dynCall_iijjiiii"]=createExportWrapper("dynCall_iijjiiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");var dynCall_iiiiij=Module["dynCall_iiiiij"]=createExportWrapper("dynCall_iiiiij");var dynCall_iiiiijj=Module["dynCall_iiiiijj"]=createExportWrapper("dynCall_iiiiijj");var dynCall_iiiiiijj=Module["dynCall_iiiiiijj"]=createExportWrapper("dynCall_iiiiiijj");function invoke_viid(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vi(index,a1){var sp=stackSave();try{wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_v(index){var sp=stackSave();try{wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vii(index,a1,a2){var sp=stackSave();try{wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_ii(index,a1){var sp=stackSave();try{return wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiii(index,a1,a2,a3,a4){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidd(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_diii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_i(index){var sp=stackSave();try{return wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidi(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vdiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vididdii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viididii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidf(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiid(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiidiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiif(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiif(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiifiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiifiifiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidiidiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiid(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vidii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiddi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiid(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidi(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}if(!Object.getOwnPropertyDescriptor(Module,"intArrayFromString"))Module["intArrayFromString"]=function(){abort("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"intArrayToString"))Module["intArrayToString"]=function(){abort("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ccall"))Module["ccall"]=function(){abort("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"cwrap"))Module["cwrap"]=function(){abort("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setValue"))Module["setValue"]=function(){abort("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getValue"))Module["getValue"]=function(){abort("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocate"))Module["allocate"]=function(){abort("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ArrayToString"))Module["UTF8ArrayToString"]=function(){abort("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ToString"))Module["UTF8ToString"]=function(){abort("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8Array"))Module["stringToUTF8Array"]=function(){abort("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8"))Module["stringToUTF8"]=function(){abort("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF8"))Module["lengthBytesUTF8"]=function(){abort("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreRun"))Module["addOnPreRun"]=function(){abort("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnInit"))Module["addOnInit"]=function(){abort("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreMain"))Module["addOnPreMain"]=function(){abort("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnExit"))Module["addOnExit"]=function(){abort("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPostRun"))Module["addOnPostRun"]=function(){abort("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeStringToMemory"))Module["writeStringToMemory"]=function(){abort("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeArrayToMemory"))Module["writeArrayToMemory"]=function(){abort("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeAsciiToMemory"))Module["writeAsciiToMemory"]=function(){abort("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;if(!Object.getOwnPropertyDescriptor(Module,"FS_createFolder"))Module["FS_createFolder"]=function(){abort("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;if(!Object.getOwnPropertyDescriptor(Module,"FS_createLink"))Module["FS_createLink"]=function(){abort("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;if(!Object.getOwnPropertyDescriptor(Module,"getLEB"))Module["getLEB"]=function(){abort("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFunctionTables"))Module["getFunctionTables"]=function(){abort("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"alignFunctionTables"))Module["alignFunctionTables"]=function(){abort("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFunctions"))Module["registerFunctions"]=function(){abort("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addFunction"))Module["addFunction"]=function(){abort("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"removeFunction"))Module["removeFunction"]=function(){abort("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"prettyPrint"))Module["prettyPrint"]=function(){abort("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeBigInt"))Module["makeBigInt"]=function(){abort("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCompilerSetting"))Module["getCompilerSetting"]=function(){abort("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"print"))Module["print"]=function(){abort("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"printErr"))Module["printErr"]=function(){abort("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTempRet0"))Module["getTempRet0"]=function(){abort("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setTempRet0"))Module["setTempRet0"]=function(){abort("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callMain"))Module["callMain"]=function(){abort("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"abort"))Module["abort"]=function(){abort("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToNewUTF8"))Module["stringToNewUTF8"]=function(){abort("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setFileTime"))Module["setFileTime"]=function(){abort("'setFileTime' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscripten_realloc_buffer"))Module["emscripten_realloc_buffer"]=function(){abort("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ENV"))Module["ENV"]=function(){abort("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_CODES"))Module["ERRNO_CODES"]=function(){abort("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_MESSAGES"))Module["ERRNO_MESSAGES"]=function(){abort("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setErrNo"))Module["setErrNo"]=function(){abort("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton4"))Module["inetPton4"]=function(){abort("'inetPton4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop4"))Module["inetNtop4"]=function(){abort("'inetNtop4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton6"))Module["inetPton6"]=function(){abort("'inetPton6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop6"))Module["inetNtop6"]=function(){abort("'inetNtop6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readSockaddr"))Module["readSockaddr"]=function(){abort("'readSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeSockaddr"))Module["writeSockaddr"]=function(){abort("'writeSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"DNS"))Module["DNS"]=function(){abort("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getHostByName"))Module["getHostByName"]=function(){abort("'getHostByName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GAI_ERRNO_MESSAGES"))Module["GAI_ERRNO_MESSAGES"]=function(){abort("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Protocols"))Module["Protocols"]=function(){abort("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Sockets"))Module["Sockets"]=function(){abort("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getRandomDevice"))Module["getRandomDevice"]=function(){abort("'getRandomDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"traverseStack"))Module["traverseStack"]=function(){abort("'traverseStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UNWIND_CACHE"))Module["UNWIND_CACHE"]=function(){abort("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"withBuiltinMalloc"))Module["withBuiltinMalloc"]=function(){abort("'withBuiltinMalloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgsArray"))Module["readAsmConstArgsArray"]=function(){abort("'readAsmConstArgsArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgs"))Module["readAsmConstArgs"]=function(){abort("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mainThreadEM_ASM"))Module["mainThreadEM_ASM"]=function(){abort("'mainThreadEM_ASM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_q"))Module["jstoi_q"]=function(){abort("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_s"))Module["jstoi_s"]=function(){abort("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getExecutableName"))Module["getExecutableName"]=function(){abort("'getExecutableName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"listenOnce"))Module["listenOnce"]=function(){abort("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"autoResumeAudioContext"))Module["autoResumeAudioContext"]=function(){abort("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCallLegacy"))Module["dynCallLegacy"]=function(){abort("'dynCallLegacy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getDynCaller"))Module["getDynCaller"]=function(){abort("'getDynCaller' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callRuntimeCallbacks"))Module["callRuntimeCallbacks"]=function(){abort("'callRuntimeCallbacks' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepaliveCounter"))Module["runtimeKeepaliveCounter"]=function(){abort("'runtimeKeepaliveCounter' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"keepRuntimeAlive"))Module["keepRuntimeAlive"]=function(){abort("'keepRuntimeAlive' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePush"))Module["runtimeKeepalivePush"]=function(){abort("'runtimeKeepalivePush' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePop"))Module["runtimeKeepalivePop"]=function(){abort("'runtimeKeepalivePop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callUserCallback"))Module["callUserCallback"]=function(){abort("'callUserCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"maybeExit"))Module["maybeExit"]=function(){abort("'maybeExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reallyNegative"))Module["reallyNegative"]=function(){abort("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unSign"))Module["unSign"]=function(){abort("'unSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reSign"))Module["reSign"]=function(){abort("'reSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"formatString"))Module["formatString"]=function(){abort("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH"))Module["PATH"]=function(){abort("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH_FS"))Module["PATH_FS"]=function(){abort("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SYSCALLS"))Module["SYSCALLS"]=function(){abort("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMmap2"))Module["syscallMmap2"]=function(){abort("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMunmap"))Module["syscallMunmap"]=function(){abort("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketFromFD"))Module["getSocketFromFD"]=function(){abort("'getSocketFromFD' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketAddress"))Module["getSocketAddress"]=function(){abort("'getSocketAddress' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"JSEvents"))Module["JSEvents"]=function(){abort("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerKeyEventCallback"))Module["registerKeyEventCallback"]=function(){abort("'registerKeyEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"specialHTMLTargets"))Module["specialHTMLTargets"]=function(){abort("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findEventTarget"))Module["findEventTarget"]=function(){abort("'findEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findCanvasEventTarget"))Module["findCanvasEventTarget"]=function(){abort("'findCanvasEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBoundingClientRect"))Module["getBoundingClientRect"]=function(){abort("'getBoundingClientRect' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillMouseEventData"))Module["fillMouseEventData"]=function(){abort("'fillMouseEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerMouseEventCallback"))Module["registerMouseEventCallback"]=function(){abort("'registerMouseEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerWheelEventCallback"))Module["registerWheelEventCallback"]=function(){abort("'registerWheelEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerUiEventCallback"))Module["registerUiEventCallback"]=function(){abort("'registerUiEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFocusEventCallback"))Module["registerFocusEventCallback"]=function(){abort("'registerFocusEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceOrientationEventData"))Module["fillDeviceOrientationEventData"]=function(){abort("'fillDeviceOrientationEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceOrientationEventCallback"))Module["registerDeviceOrientationEventCallback"]=function(){abort("'registerDeviceOrientationEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceMotionEventData"))Module["fillDeviceMotionEventData"]=function(){abort("'fillDeviceMotionEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceMotionEventCallback"))Module["registerDeviceMotionEventCallback"]=function(){abort("'registerDeviceMotionEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"screenOrientation"))Module["screenOrientation"]=function(){abort("'screenOrientation' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillOrientationChangeEventData"))Module["fillOrientationChangeEventData"]=function(){abort("'fillOrientationChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerOrientationChangeEventCallback"))Module["registerOrientationChangeEventCallback"]=function(){abort("'registerOrientationChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillFullscreenChangeEventData"))Module["fillFullscreenChangeEventData"]=function(){abort("'fillFullscreenChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFullscreenChangeEventCallback"))Module["registerFullscreenChangeEventCallback"]=function(){abort("'registerFullscreenChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerRestoreOldStyle"))Module["registerRestoreOldStyle"]=function(){abort("'registerRestoreOldStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"hideEverythingExceptGivenElement"))Module["hideEverythingExceptGivenElement"]=function(){abort("'hideEverythingExceptGivenElement' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreHiddenElements"))Module["restoreHiddenElements"]=function(){abort("'restoreHiddenElements' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setLetterbox"))Module["setLetterbox"]=function(){abort("'setLetterbox' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"currentFullscreenStrategy"))Module["currentFullscreenStrategy"]=function(){abort("'currentFullscreenStrategy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreOldWindowedStyle"))Module["restoreOldWindowedStyle"]=function(){abort("'restoreOldWindowedStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"softFullscreenResizeWebGLRenderTarget"))Module["softFullscreenResizeWebGLRenderTarget"]=function(){abort("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"doRequestFullscreen"))Module["doRequestFullscreen"]=function(){abort("'doRequestFullscreen' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillPointerlockChangeEventData"))Module["fillPointerlockChangeEventData"]=function(){abort("'fillPointerlockChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockChangeEventCallback"))Module["registerPointerlockChangeEventCallback"]=function(){abort("'registerPointerlockChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockErrorEventCallback"))Module["registerPointerlockErrorEventCallback"]=function(){abort("'registerPointerlockErrorEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requestPointerLock"))Module["requestPointerLock"]=function(){abort("'requestPointerLock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillVisibilityChangeEventData"))Module["fillVisibilityChangeEventData"]=function(){abort("'fillVisibilityChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerVisibilityChangeEventCallback"))Module["registerVisibilityChangeEventCallback"]=function(){abort("'registerVisibilityChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerTouchEventCallback"))Module["registerTouchEventCallback"]=function(){abort("'registerTouchEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillGamepadEventData"))Module["fillGamepadEventData"]=function(){abort("'fillGamepadEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerGamepadEventCallback"))Module["registerGamepadEventCallback"]=function(){abort("'registerGamepadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBeforeUnloadEventCallback"))Module["registerBeforeUnloadEventCallback"]=function(){abort("'registerBeforeUnloadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillBatteryEventData"))Module["fillBatteryEventData"]=function(){abort("'fillBatteryEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"battery"))Module["battery"]=function(){abort("'battery' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBatteryEventCallback"))Module["registerBatteryEventCallback"]=function(){abort("'registerBatteryEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setCanvasElementSize"))Module["setCanvasElementSize"]=function(){abort("'setCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCanvasElementSize"))Module["getCanvasElementSize"]=function(){abort("'getCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"polyfillSetImmediate"))Module["polyfillSetImmediate"]=function(){abort("'polyfillSetImmediate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangle"))Module["demangle"]=function(){abort("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangleAll"))Module["demangleAll"]=function(){abort("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jsStackTrace"))Module["jsStackTrace"]=function(){abort("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getEnvStrings"))Module["getEnvStrings"]=function(){abort("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"checkWasiClock"))Module["checkWasiClock"]=function(){abort("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64"))Module["writeI53ToI64"]=function(){abort("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Clamped"))Module["writeI53ToI64Clamped"]=function(){abort("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Signaling"))Module["writeI53ToI64Signaling"]=function(){abort("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Clamped"))Module["writeI53ToU64Clamped"]=function(){abort("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Signaling"))Module["writeI53ToU64Signaling"]=function(){abort("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromI64"))Module["readI53FromI64"]=function(){abort("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromU64"))Module["readI53FromU64"]=function(){abort("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertI32PairToI53"))Module["convertI32PairToI53"]=function(){abort("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertU32PairToI53"))Module["convertU32PairToI53"]=function(){abort("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"uncaughtExceptionCount"))Module["uncaughtExceptionCount"]=function(){abort("'uncaughtExceptionCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionLast"))Module["exceptionLast"]=function(){abort("'exceptionLast' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionCaught"))Module["exceptionCaught"]=function(){abort("'exceptionCaught' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfoAttrs"))Module["ExceptionInfoAttrs"]=function(){abort("'ExceptionInfoAttrs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfo"))Module["ExceptionInfo"]=function(){abort("'ExceptionInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"CatchInfo"))Module["CatchInfo"]=function(){abort("'CatchInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_addRef"))Module["exception_addRef"]=function(){abort("'exception_addRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_decRef"))Module["exception_decRef"]=function(){abort("'exception_decRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Browser"))Module["Browser"]=function(){abort("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"funcWrappers"))Module["funcWrappers"]=function(){abort("'funcWrappers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setMainLoop"))Module["setMainLoop"]=function(){abort("'setMainLoop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"FS"))Module["FS"]=function(){abort("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mmapAlloc"))Module["mmapAlloc"]=function(){abort("'mmapAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"MEMFS"))Module["MEMFS"]=function(){abort("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"TTY"))Module["TTY"]=function(){abort("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PIPEFS"))Module["PIPEFS"]=function(){abort("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SOCKFS"))Module["SOCKFS"]=function(){abort("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"_setNetworkCallback"))Module["_setNetworkCallback"]=function(){abort("'_setNetworkCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tempFixedLengthArray"))Module["tempFixedLengthArray"]=function(){abort("'tempFixedLengthArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"miniTempWebGLFloatBuffers"))Module["miniTempWebGLFloatBuffers"]=function(){abort("'miniTempWebGLFloatBuffers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapObjectForWebGLType"))Module["heapObjectForWebGLType"]=function(){abort("'heapObjectForWebGLType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapAccessShiftForWebGLHeap"))Module["heapAccessShiftForWebGLHeap"]=function(){abort("'heapAccessShiftForWebGLHeap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GL"))Module["GL"]=function(){abort("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGet"))Module["emscriptenWebGLGet"]=function(){abort("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"computeUnpackAlignedImageSize"))Module["computeUnpackAlignedImageSize"]=function(){abort("'computeUnpackAlignedImageSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetTexPixelData"))Module["emscriptenWebGLGetTexPixelData"]=function(){abort("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetUniform"))Module["emscriptenWebGLGetUniform"]=function(){abort("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetVertexAttrib"))Module["emscriptenWebGLGetVertexAttrib"]=function(){abort("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetBufferBinding"))Module["emscriptenWebGLGetBufferBinding"]=function(){abort("'emscriptenWebGLGetBufferBinding' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLValidateMapBufferTarget"))Module["emscriptenWebGLValidateMapBufferTarget"]=function(){abort("'emscriptenWebGLValidateMapBufferTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeGLArray"))Module["writeGLArray"]=function(){abort("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AL"))Module["AL"]=function(){abort("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_unicode"))Module["SDL_unicode"]=function(){abort("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_ttfContext"))Module["SDL_ttfContext"]=function(){abort("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_audio"))Module["SDL_audio"]=function(){abort("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL"))Module["SDL"]=function(){abort("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_gfx"))Module["SDL_gfx"]=function(){abort("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLUT"))Module["GLUT"]=function(){abort("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"EGL"))Module["EGL"]=function(){abort("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW_Window"))Module["GLFW_Window"]=function(){abort("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW"))Module["GLFW"]=function(){abort("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLEW"))Module["GLEW"]=function(){abort("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"IDBStore"))Module["IDBStore"]=function(){abort("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runAndAbortIfError"))Module["runAndAbortIfError"]=function(){abort("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_handle_array"))Module["emval_handle_array"]=function(){abort("'emval_handle_array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_free_list"))Module["emval_free_list"]=function(){abort("'emval_free_list' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_symbols"))Module["emval_symbols"]=function(){abort("'emval_symbols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_emval"))Module["init_emval"]=function(){abort("'init_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"count_emval_handles"))Module["count_emval_handles"]=function(){abort("'count_emval_handles' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"get_first_emval"))Module["get_first_emval"]=function(){abort("'get_first_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getStringOrSymbol"))Module["getStringOrSymbol"]=function(){abort("'getStringOrSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireHandle"))Module["requireHandle"]=function(){abort("'requireHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_newers"))Module["emval_newers"]=function(){abort("'emval_newers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftEmvalAllocator"))Module["craftEmvalAllocator"]=function(){abort("'craftEmvalAllocator' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_get_global"))Module["emval_get_global"]=function(){abort("'emval_get_global' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_methodCallers"))Module["emval_methodCallers"]=function(){abort("'emval_methodCallers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"InternalError"))Module["InternalError"]=function(){abort("'InternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"BindingError"))Module["BindingError"]=function(){abort("'BindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UnboundTypeError"))Module["UnboundTypeError"]=function(){abort("'UnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PureVirtualError"))Module["PureVirtualError"]=function(){abort("'PureVirtualError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_embind"))Module["init_embind"]=function(){abort("'init_embind' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInternalError"))Module["throwInternalError"]=function(){abort("'throwInternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwBindingError"))Module["throwBindingError"]=function(){abort("'throwBindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwUnboundTypeError"))Module["throwUnboundTypeError"]=function(){abort("'throwUnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ensureOverloadTable"))Module["ensureOverloadTable"]=function(){abort("'ensureOverloadTable' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exposePublicSymbol"))Module["exposePublicSymbol"]=function(){abort("'exposePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"replacePublicSymbol"))Module["replacePublicSymbol"]=function(){abort("'replacePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"extendError"))Module["extendError"]=function(){abort("'extendError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"createNamedFunction"))Module["createNamedFunction"]=function(){abort("'createNamedFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredInstances"))Module["registeredInstances"]=function(){abort("'registeredInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBasestPointer"))Module["getBasestPointer"]=function(){abort("'getBasestPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerInheritedInstance"))Module["registerInheritedInstance"]=function(){abort("'registerInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unregisterInheritedInstance"))Module["unregisterInheritedInstance"]=function(){abort("'unregisterInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstance"))Module["getInheritedInstance"]=function(){abort("'getInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstanceCount"))Module["getInheritedInstanceCount"]=function(){abort("'getInheritedInstanceCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getLiveInheritedInstances"))Module["getLiveInheritedInstances"]=function(){abort("'getLiveInheritedInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredTypes"))Module["registeredTypes"]=function(){abort("'registeredTypes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"awaitingDependencies"))Module["awaitingDependencies"]=function(){abort("'awaitingDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"typeDependencies"))Module["typeDependencies"]=function(){abort("'typeDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredPointers"))Module["registeredPointers"]=function(){abort("'registeredPointers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerType"))Module["registerType"]=function(){abort("'registerType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"whenDependentTypesAreResolved"))Module["whenDependentTypesAreResolved"]=function(){abort("'whenDependentTypesAreResolved' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_charCodes"))Module["embind_charCodes"]=function(){abort("'embind_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_init_charCodes"))Module["embind_init_charCodes"]=function(){abort("'embind_init_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readLatin1String"))Module["readLatin1String"]=function(){abort("'readLatin1String' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTypeName"))Module["getTypeName"]=function(){abort("'getTypeName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heap32VectorToArray"))Module["heap32VectorToArray"]=function(){abort("'heap32VectorToArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireRegisteredType"))Module["requireRegisteredType"]=function(){abort("'requireRegisteredType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getShiftFromSize"))Module["getShiftFromSize"]=function(){abort("'getShiftFromSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"integerReadValueFromPointer"))Module["integerReadValueFromPointer"]=function(){abort("'integerReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"enumReadValueFromPointer"))Module["enumReadValueFromPointer"]=function(){abort("'enumReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"floatReadValueFromPointer"))Module["floatReadValueFromPointer"]=function(){abort("'floatReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"simpleReadValueFromPointer"))Module["simpleReadValueFromPointer"]=function(){abort("'simpleReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructors"))Module["runDestructors"]=function(){abort("'runDestructors' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"new_"))Module["new_"]=function(){abort("'new_' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftInvokerFunction"))Module["craftInvokerFunction"]=function(){abort("'craftInvokerFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind__requireFunction"))Module["embind__requireFunction"]=function(){abort("'embind__requireFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tupleRegistrations"))Module["tupleRegistrations"]=function(){abort("'tupleRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"structRegistrations"))Module["structRegistrations"]=function(){abort("'structRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"genericPointerToWireType"))Module["genericPointerToWireType"]=function(){abort("'genericPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"constNoSmartPtrRawPointerToWireType"))Module["constNoSmartPtrRawPointerToWireType"]=function(){abort("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"nonConstNoSmartPtrRawPointerToWireType"))Module["nonConstNoSmartPtrRawPointerToWireType"]=function(){abort("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_RegisteredPointer"))Module["init_RegisteredPointer"]=function(){abort("'init_RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer"))Module["RegisteredPointer"]=function(){abort("'RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_getPointee"))Module["RegisteredPointer_getPointee"]=function(){abort("'RegisteredPointer_getPointee' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_destructor"))Module["RegisteredPointer_destructor"]=function(){abort("'RegisteredPointer_destructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_deleteObject"))Module["RegisteredPointer_deleteObject"]=function(){abort("'RegisteredPointer_deleteObject' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_fromWireType"))Module["RegisteredPointer_fromWireType"]=function(){abort("'RegisteredPointer_fromWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructor"))Module["runDestructor"]=function(){abort("'runDestructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"releaseClassHandle"))Module["releaseClassHandle"]=function(){abort("'releaseClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"finalizationGroup"))Module["finalizationGroup"]=function(){abort("'finalizationGroup' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer_deps"))Module["detachFinalizer_deps"]=function(){abort("'detachFinalizer_deps' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer"))Module["detachFinalizer"]=function(){abort("'detachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"attachFinalizer"))Module["attachFinalizer"]=function(){abort("'attachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeClassHandle"))Module["makeClassHandle"]=function(){abort("'makeClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_ClassHandle"))Module["init_ClassHandle"]=function(){abort("'init_ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle"))Module["ClassHandle"]=function(){abort("'ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isAliasOf"))Module["ClassHandle_isAliasOf"]=function(){abort("'ClassHandle_isAliasOf' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInstanceAlreadyDeleted"))Module["throwInstanceAlreadyDeleted"]=function(){abort("'throwInstanceAlreadyDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_clone"))Module["ClassHandle_clone"]=function(){abort("'ClassHandle_clone' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_delete"))Module["ClassHandle_delete"]=function(){abort("'ClassHandle_delete' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"deletionQueue"))Module["deletionQueue"]=function(){abort("'deletionQueue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isDeleted"))Module["ClassHandle_isDeleted"]=function(){abort("'ClassHandle_isDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_deleteLater"))Module["ClassHandle_deleteLater"]=function(){abort("'ClassHandle_deleteLater' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"flushPendingDeletes"))Module["flushPendingDeletes"]=function(){abort("'flushPendingDeletes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"delayFunction"))Module["delayFunction"]=function(){abort("'delayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setDelayFunction"))Module["setDelayFunction"]=function(){abort("'setDelayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredClass"))Module["RegisteredClass"]=function(){abort("'RegisteredClass' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"shallowCopyInternalPointer"))Module["shallowCopyInternalPointer"]=function(){abort("'shallowCopyInternalPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"downcastPointer"))Module["downcastPointer"]=function(){abort("'downcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"upcastPointer"))Module["upcastPointer"]=function(){abort("'upcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"validateThis"))Module["validateThis"]=function(){abort("'validateThis' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_0"))Module["char_0"]=function(){abort("'char_0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_9"))Module["char_9"]=function(){abort("'char_9' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeLegalFunctionName"))Module["makeLegalFunctionName"]=function(){abort("'makeLegalFunctionName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetIndexed"))Module["emscriptenWebGLGetIndexed"]=function(){abort("'emscriptenWebGLGetIndexed' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"warnOnce"))Module["warnOnce"]=function(){abort("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackSave"))Module["stackSave"]=function(){abort("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackRestore"))Module["stackRestore"]=function(){abort("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackAlloc"))Module["stackAlloc"]=function(){abort("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AsciiToString"))Module["AsciiToString"]=function(){abort("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToAscii"))Module["stringToAscii"]=function(){abort("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF16ToString"))Module["UTF16ToString"]=function(){abort("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF16"))Module["stringToUTF16"]=function(){abort("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF16"))Module["lengthBytesUTF16"]=function(){abort("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF32ToString"))Module["UTF32ToString"]=function(){abort("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF32"))Module["stringToUTF32"]=function(){abort("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF32"))Module["lengthBytesUTF32"]=function(){abort("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8"))Module["allocateUTF8"]=function(){abort("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8OnStack"))Module["allocateUTF8OnStack"]=function(){abort("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["writeStackCookie"]=writeStackCookie;Module["checkStackCookie"]=checkStackCookie;if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_NORMAL"))Object.defineProperty(Module,"ALLOC_NORMAL",{configurable:true,get:function(){abort("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_STACK"))Object.defineProperty(Module,"ALLOC_STACK",{configurable:true,get:function(){abort("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var calledRun;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function stackCheckInit(){_emscripten_stack_init();writeStackCookie()}function run(args){args=args||arguments_;if(runDependencies>0){return}stackCheckInit();preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}checkStackCookie()}Module["run"]=run;function checkUnflushedContent(){var oldOut=out;var oldErr=err;var has=false;out=err=function(x){has=true};try{var flush=Module["_fflush"];if(flush)flush(0);["stdout","stderr"].forEach(function(name){var info=FS.analyzePath("/dev/"+name);if(!info)return;var stream=info.object;var rdev=stream.rdev;var tty=TTY.ttys[rdev];if(tty&&tty.output&&tty.output.length){has=true}})}catch(e){}out=oldOut;err=oldErr;if(has){warnOnce("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}}function exit(status,implicit){EXITSTATUS=status;checkUnflushedContent();if(implicit&&keepRuntimeAlive()&&status===0){return}if(keepRuntimeAlive()){if(!implicit){var msg="program exited (with status: "+status+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";readyPromiseReject(msg);err(msg)}}else{exitRuntime();if(Module["onExit"])Module["onExit"](status);ABORT=true}quit_(status,new ExitStatus(status))}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();
+
+
+  return createMediapipeSolutionsWasm.ready
+}
+);
+})();
+if (typeof exports === 'object' && typeof module === 'object')
+  module.exports = createMediapipeSolutionsWasm;
+else if (typeof define === 'function' && define['amd'])
+  define([], function() { return createMediapipeSolutionsWasm; });
+else if (typeof exports === 'object')
+  exports["createMediapipeSolutionsWasm"] = createMediapipeSolutionsWasm;
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_wasm_bin.js b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_wasm_bin.js
new file mode 100644
index 0000000000000..e1988e49a62c4
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/face_mesh_test_web_solution_wasm_bin.js
@@ -0,0 +1,21 @@
+
+var createMediapipeSolutionsWasm = (function() {
+  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
+  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
+  return (
+function(createMediapipeSolutionsWasm) {
+  createMediapipeSolutionsWasm = createMediapipeSolutionsWasm || {};
+
+var Module=typeof createMediapipeSolutionsWasm!=="undefined"?createMediapipeSolutionsWasm:{};var readyPromiseResolve,readyPromiseReject;Module["ready"]=new Promise(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject});if(!Object.getOwnPropertyDescriptor(Module["ready"],"_main")){Object.defineProperty(Module["ready"],"_main",{configurable:true,get:function(){abort("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_main",{configurable:true,set:function(){abort("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_end")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_free")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_init")){Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,get:function(){abort("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,set:function(){abort("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackSave")){Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,get:function(){abort("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,set:function(){abort("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackRestore")){Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,get:function(){abort("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,set:function(){abort("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackAlloc")){Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,get:function(){abort("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,set:function(){abort("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___wasm_call_ctors")){Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,get:function(){abort("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,set:function(){abort("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_fflush")){Object.defineProperty(Module["ready"],"_fflush",{configurable:true,get:function(){abort("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_fflush",{configurable:true,set:function(){abort("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___errno_location")){Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,get:function(){abort("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,set:function(){abort("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_malloc")){Object.defineProperty(Module["ready"],"_malloc",{configurable:true,get:function(){abort("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_malloc",{configurable:true,set:function(){abort("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_free")){Object.defineProperty(Module["ready"],"_free",{configurable:true,get:function(){abort("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_free",{configurable:true,set:function(){abort("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_setThrew")){Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,get:function(){abort("You are getting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,set:function(){abort("You are setting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___cxa_is_pointer_type")){Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,get:function(){abort("You are getting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,set:function(){abort("You are setting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memalign")){Object.defineProperty(Module["ready"],"_memalign",{configurable:true,get:function(){abort("You are getting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memalign",{configurable:true,set:function(){abort("You are setting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memset")){Object.defineProperty(Module["ready"],"_memset",{configurable:true,get:function(){abort("You are getting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memset",{configurable:true,set:function(){abort("You are setting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_main_thread_process_queued_calls")){Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,get:function(){abort("You are getting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,set:function(){abort("You are setting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_make_context_current")){Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_get_current_context")){Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_tzname")){Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,get:function(){abort("You are getting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,set:function(){abort("You are setting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_daylight")){Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,get:function(){abort("You are getting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,set:function(){abort("You are setting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_timezone")){Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,get:function(){abort("You are getting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,set:function(){abort("You are setting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"onRuntimeInitialized")){Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,get:function(){abort("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,set:function(){abort("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram="./this.program";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)")}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require("path").dirname(scriptDirectory)+"/"}else{scriptDirectory=__dirname+"/"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);return nodeFS["readFileSync"](filename,binary?null:"utf8")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process["argv"].length>1){thisProgram=process["argv"][1].replace(/\\/g,"/")}arguments_=process["argv"].slice(2);process["on"]("uncaughtException",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process["on"]("unhandledRejection",abort);quit_=function(status){process["exit"](status)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){arguments_=scriptArgs}else if(typeof arguments!="undefined"){arguments_=arguments}if(typeof quit==="function"){quit_=function(status){quit(status)}}if(typeof print!=="undefined"){if(typeof console==="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!=="undefined"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!=="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1)}else{scriptDirectory=""}{read_=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{throw new Error("environment detection error")}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(!Object.getOwnPropertyDescriptor(Module,"arguments")){Object.defineProperty(Module,"arguments",{configurable:true,get:function(){abort("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(!Object.getOwnPropertyDescriptor(Module,"thisProgram")){Object.defineProperty(Module,"thisProgram",{configurable:true,get:function(){abort("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["quit"])quit_=Module["quit"];if(!Object.getOwnPropertyDescriptor(Module,"quit")){Object.defineProperty(Module,"quit",{configurable:true,get:function(){abort("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(typeof Module["memoryInitializerPrefixURL"]==="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]==="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]==="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]==="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]==="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]==="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]==="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]==="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]==="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");if(!Object.getOwnPropertyDescriptor(Module,"read")){Object.defineProperty(Module,"read",{configurable:true,get:function(){abort("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readAsync")){Object.defineProperty(Module,"readAsync",{configurable:true,get:function(){abort("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readBinary")){Object.defineProperty(Module,"readBinary",{configurable:true,get:function(){abort("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"setWindowTitle")){Object.defineProperty(Module,"setWindowTitle",{configurable:true,get:function(){abort("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var STACK_ALIGN=16;function alignMemory(size,factor){if(!factor)factor=STACK_ALIGN;return Math.ceil(size/factor)*factor}function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text)}}function convertJsFunctionToWasm(func,sig){if(typeof WebAssembly.Function==="function"){var typeNames={"i":"i32","j":"i64","f":"f32","d":"f64"};var type={parameters:[],results:sig[0]=="v"?[]:[typeNames[sig[0]]]};for(var i=1;i<sig.length;++i){type.parameters.push(typeNames[sig[i]])}return new WebAssembly.Function(type,func)}var typeSection=[1,0,1,96];var sigRet=sig.slice(0,1);var sigParam=sig.slice(1);var typeCodes={"i":127,"j":126,"f":125,"d":124};typeSection.push(sigParam.length);for(var i=0;i<sigParam.length;++i){typeSection.push(typeCodes[sigParam[i]])}if(sigRet=="v"){typeSection.push(0)}else{typeSection=typeSection.concat([1,typeCodes[sigRet]])}typeSection[1]=typeSection.length-2;var bytes=new Uint8Array([0,97,115,109,1,0,0,0].concat(typeSection,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0]));var module=new WebAssembly.Module(bytes);var instance=new WebAssembly.Instance(module,{"e":{"f":func}});var wrappedFunc=instance.exports["f"];return wrappedFunc}var freeTableIndexes=[];var functionsInTableMap;function getEmptyTableSlot(){if(freeTableIndexes.length){return freeTableIndexes.pop()}try{wasmTable.grow(1)}catch(err){if(!(err instanceof RangeError)){throw err}throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return wasmTable.length-1}function addFunctionWasm(func,sig){if(!functionsInTableMap){functionsInTableMap=new WeakMap;for(var i=0;i<wasmTable.length;i++){var item=wasmTable.get(i);if(item){functionsInTableMap.set(item,i)}}}if(functionsInTableMap.has(func)){return functionsInTableMap.get(func)}var ret=getEmptyTableSlot();try{wasmTable.set(ret,func)}catch(err){if(!(err instanceof TypeError)){throw err}assert(typeof sig!=="undefined","Missing signature argument to addFunction: "+func);var wrapped=convertJsFunctionToWasm(func,sig);wasmTable.set(ret,wrapped)}functionsInTableMap.set(func,ret);return ret}var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var getTempRet0=function(){return tempRet0};var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];if(!Object.getOwnPropertyDescriptor(Module,"wasmBinary")){Object.defineProperty(Module,"wasmBinary",{configurable:true,get:function(){abort("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var noExitRuntime=Module["noExitRuntime"]||true;if(!Object.getOwnPropertyDescriptor(Module,"noExitRuntime")){Object.defineProperty(Module,"noExitRuntime",{configurable:true,get:function(){abort("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(typeof WebAssembly!=="object"){abort("no native wasm support detected")}var wasmMemory;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}function getCFunc(ident){var func=Module["_"+ident];assert(func,"Cannot call unknown function "+ident+", make sure it is exported");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={"string":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},"array":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string")return UTF8ToString(ret);if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;assert(returnType!=="array",'Return type should not be "array".');if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}var ALLOC_STACK=1;var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte 0x"+u0.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;if(u>=2097152)warnOnce("Invalid Unicode code point 0x"+u.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder){return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr))}else{var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit)}return str}}function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr}function lengthBytesUTF16(str){return str.length*2}function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}return str}function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr}function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len}function allocateUTF8(str){var size=lengthBytesUTF8(str)+1;var ret=_malloc(size);if(ret)stringToUTF8Array(str,HEAP8,ret,size);return ret}function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer)}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){assert(str.charCodeAt(i)===str.charCodeAt(i)&255);HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module["HEAP8"]=HEAP8=new Int8Array(buf);Module["HEAP16"]=HEAP16=new Int16Array(buf);Module["HEAP32"]=HEAP32=new Int32Array(buf);Module["HEAPU8"]=HEAPU8=new Uint8Array(buf);Module["HEAPU16"]=HEAPU16=new Uint16Array(buf);Module["HEAPU32"]=HEAPU32=new Uint32Array(buf);Module["HEAPF32"]=HEAPF32=new Float32Array(buf);Module["HEAPF64"]=HEAPF64=new Float64Array(buf)}var TOTAL_STACK=5242880;if(Module["TOTAL_STACK"])assert(TOTAL_STACK===Module["TOTAL_STACK"],"the stack size can no longer be determined at runtime");var INITIAL_MEMORY=Module["INITIAL_MEMORY"]||16777216;if(!Object.getOwnPropertyDescriptor(Module,"INITIAL_MEMORY")){Object.defineProperty(Module,"INITIAL_MEMORY",{configurable:true,get:function(){abort("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(INITIAL_MEMORY>=TOTAL_STACK,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+INITIAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");assert(typeof Int32Array!=="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!==undefined&&Int32Array.prototype.set!==undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally");assert(INITIAL_MEMORY==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end();assert((max&3)==0);HEAPU32[(max>>2)+1]=34821223;HEAPU32[(max>>2)+2]=2310721022;HEAP32[0]=1668509029}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end();var cookie1=HEAPU32[(max>>2)+1];var cookie2=HEAPU32[(max>>2)+2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+cookie2.toString(16)+" "+cookie1.toString(16))}if(HEAP32[0]!==1668509029)abort("Runtime error: The application has corrupted its heap memory area (address zero)!")}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){checkStackCookie();assert(!runtimeInitialized);runtimeInitialized=true;if(!Module["noFSInit"]&&!FS.init.initialized)FS.init();TTY.init();callRuntimeCallbacks(__ATINIT__)}function preMain(){checkStackCookie();FS.ignorePermissions=false;callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){checkStackCookie();runtimeExited=true}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function getUniqueRunDependency(id){var orig=id;while(1){if(!runDependencyTracking[id])return id;id=orig+Math.random()}}function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!=="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:")}err("dependency: "+dep)}if(shown){err("(end of list)")}},1e4)}}else{err("warning: run dependency added without ID")}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id]}else{err("warning: run dependency removed without ID")}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}what+="";err(what);ABORT=true;EXITSTATUS=1;var output="abort("+what+") at "+stackTrace();what=output;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix="file://";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}function createExportWrapper(name,fixedasm){return function(){var displayName=name;var asm=fixedasm;if(!fixedasm){asm=Module["asm"]}assert(runtimeInitialized,"native function `"+displayName+"` called before runtime initialization");assert(!runtimeExited,"native function `"+displayName+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)");if(!asm[name]){assert(asm[name],"exported native function `"+displayName+"` not found")}return asm[name].apply(null,arguments)}}var wasmBinaryFile="face_mesh_test_web_solution_wasm_bin.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(file){try{if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}else{throw"both async and sync fetching of the wasm failed"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch==="function"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()}).catch(function(){return getBinary(wasmBinaryFile)})}else{if(readAsync){return new Promise(function(resolve,reject){readAsync(wasmBinaryFile,function(response){resolve(new Uint8Array(response))},reject)})}}}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var info={"env":asmLibraryArg,"wasi_snapshot_preview1":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module["asm"]=exports;wasmMemory=Module["asm"]["memory"];assert(wasmMemory,"memory not found in wasm exports");updateGlobalBufferAndViews(wasmMemory.buffer);wasmTable=Module["asm"]["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(Module["asm"]["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiatedSource(output){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(output["instance"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){var result=WebAssembly.instantiate(binary,info);return result}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")}abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch==="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module["instantiateWasm"]){try{var exports=Module["instantiateWasm"](info,receiveInstance);return exports}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}instantiateAsync().catch(readyPromiseReject);return{}}var tempDouble;var tempI64;var ASM_CONSTS={550224:function(){let init_once=true;if(init_once){const cachedFindCanvasEventTarget=findCanvasEventTarget;if(typeof cachedFindCanvasEventTarget!=="function"){if(typeof console!=="undefined"){console.error("Expected Emscripten global function "+'"findCanvasEventTarget" not found. WebGL context creation '+"may fail.")}return}findCanvasEventTarget=function(target){if(Module&&Module.canvas){return Module.canvas}else if(Module&&Module.canvasCssSelector){return cachedFindCanvasEventTarget(Module.canvasCssSelector)}else{if(typeof console!=="undefined"){console.warn("Module properties canvas and canvasCssSelector not "+"found during WebGL context creation.")}return cachedFindCanvasEventTarget(target)}};init_once=false}}};function _emscripten_set_main_loop_timing(mode,value){Browser.mainLoop.timingMode=mode;Browser.mainLoop.timingValue=value;if(!Browser.mainLoop.func){console.error("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up.");return 1}if(!Browser.mainLoop.running){Browser.mainLoop.running=true}if(mode==0){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setTimeout(){var timeUntilNextTick=Math.max(0,Browser.mainLoop.tickStartTime+value-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,timeUntilNextTick)};Browser.mainLoop.method="timeout"}else if(mode==1){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_rAF(){Browser.requestAnimationFrame(Browser.mainLoop.runner)};Browser.mainLoop.method="rAF"}else if(mode==2){if(typeof setImmediate==="undefined"){var setImmediates=[];var emscriptenMainLoopMessageId="setimmediate";var Browser_setImmediate_messageHandler=function(event){if(event.data===emscriptenMainLoopMessageId||event.data.target===emscriptenMainLoopMessageId){event.stopPropagation();setImmediates.shift()()}};addEventListener("message",Browser_setImmediate_messageHandler,true);setImmediate=function Browser_emulated_setImmediate(func){setImmediates.push(func);if(ENVIRONMENT_IS_WORKER){if(Module["setImmediates"]===undefined)Module["setImmediates"]=[];Module["setImmediates"].push(func);postMessage({target:emscriptenMainLoopMessageId})}else postMessage(emscriptenMainLoopMessageId,"*")}}Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setImmediate(){setImmediate(Browser.mainLoop.runner)};Browser.mainLoop.method="immediate"}return 0}var _emscripten_get_now;if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function(){var t=process["hrtime"]();return t[0]*1e3+t[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else _emscripten_get_now=function(){return performance.now()};var runtimeKeepaliveCounter=0;function _exit(status){exit(status)}function maybeExit(){if(!keepRuntimeAlive()){try{_exit(EXITSTATUS)}catch(e){if(e instanceof ExitStatus){return}throw e}}}function setMainLoop(browserIterationFunc,fps,simulateInfiniteLoop,arg,noSetTiming){assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");Browser.mainLoop.func=browserIterationFunc;Browser.mainLoop.arg=arg;var thisMainLoopId=Browser.mainLoop.currentlyRunningMainloop;function checkIsRunning(){if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop){maybeExit();return false}return true}Browser.mainLoop.running=false;Browser.mainLoop.runner=function Browser_mainLoop_runner(){if(ABORT)return;if(Browser.mainLoop.queue.length>0){var start=Date.now();var blocker=Browser.mainLoop.queue.shift();blocker.func(blocker.arg);if(Browser.mainLoop.remainingBlockers){var remaining=Browser.mainLoop.remainingBlockers;var next=remaining%1==0?remaining-1:Math.floor(remaining);if(blocker.counted){Browser.mainLoop.remainingBlockers=next}else{next=next+.5;Browser.mainLoop.remainingBlockers=(8*remaining+next)/9}}console.log('main loop blocker "'+blocker.name+'" took '+(Date.now()-start)+" ms");Browser.mainLoop.updateStatus();if(!checkIsRunning())return;setTimeout(Browser.mainLoop.runner,0);return}if(!checkIsRunning())return;Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0;if(Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else if(Browser.mainLoop.timingMode==0){Browser.mainLoop.tickStartTime=_emscripten_get_now()}GL.newRenderingFrameStarted();if(Browser.mainLoop.method==="timeout"&&Module.ctx){warnOnce("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!");Browser.mainLoop.method=""}Browser.mainLoop.runIter(browserIterationFunc);checkStackCookie();if(!checkIsRunning())return;if(typeof SDL==="object"&&SDL.audio&&SDL.audio.queueNewAudioData)SDL.audio.queueNewAudioData();Browser.mainLoop.scheduler()};if(!noSetTiming){if(fps&&fps>0)_emscripten_set_main_loop_timing(0,1e3/fps);else _emscripten_set_main_loop_timing(1,1);Browser.mainLoop.scheduler()}if(simulateInfiniteLoop){throw"unwind"}}function callUserCallback(func){if(ABORT){err("user callback triggered after application aborted.  Ignoring.");return}try{func()}catch(e){if(e instanceof ExitStatus){return}else if(e!=="unwind"){if(e&&typeof e==="object"&&e.stack)err("exception thrown: "+[e,e.stack]);throw e}}}var Browser={mainLoop:{running:false,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null;Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var timingMode=Browser.mainLoop.timingMode;var timingValue=Browser.mainLoop.timingValue;var func=Browser.mainLoop.func;Browser.mainLoop.func=null;setMainLoop(func,0,false,Browser.mainLoop.arg,true);_emscripten_set_main_loop_timing(timingMode,timingValue);Browser.mainLoop.scheduler()},updateStatus:function(){if(Module["setStatus"]){var message=Module["statusMessage"]||"Please wait...";var remaining=Browser.mainLoop.remainingBlockers;var expected=Browser.mainLoop.expectedBlockers;if(remaining){if(remaining<expected){Module["setStatus"](message+" ("+(expected-remaining)+"/"+expected+")")}else{Module["setStatus"](message)}}else{Module["setStatus"]("")}}},runIter:function(func){if(ABORT)return;if(Module["preMainLoop"]){var preRet=Module["preMainLoop"]();if(preRet===false){return}}callUserCallback(func);if(Module["postMainLoop"])Module["postMainLoop"]()}},isFullscreen:false,pointerLock:false,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(!Module["preloadPlugins"])Module["preloadPlugins"]=[];if(Browser.initted)return;Browser.initted=true;try{new Blob;Browser.hasBlobConstructor=true}catch(e){Browser.hasBlobConstructor=false;console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder!="undefined"?MozBlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:!Browser.hasBlobConstructor?console.log("warning: no BlobBuilder"):null;Browser.URLObject=typeof window!="undefined"?window.URL?window.URL:window.webkitURL:undefined;if(!Module.noImageDecoding&&typeof Browser.URLObject==="undefined"){console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.");Module.noImageDecoding=true}var imagePlugin={};imagePlugin["canHandle"]=function imagePlugin_canHandle(name){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(name)};imagePlugin["handle"]=function imagePlugin_handle(byteArray,name,onload,onerror){var b=null;if(Browser.hasBlobConstructor){try{b=new Blob([byteArray],{type:Browser.getMimetype(name)});if(b.size!==byteArray.length){b=new Blob([new Uint8Array(byteArray).buffer],{type:Browser.getMimetype(name)})}}catch(e){warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}}if(!b){var bb=new Browser.BlobBuilder;bb.append(new Uint8Array(byteArray).buffer);b=bb.getBlob()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var img=new Image;img.onload=function img_onload(){assert(img.complete,"Image "+name+" could not be decoded");var canvas=document.createElement("canvas");canvas.width=img.width;canvas.height=img.height;var ctx=canvas.getContext("2d");ctx.drawImage(img,0,0);Module["preloadedImages"][name]=canvas;Browser.URLObject.revokeObjectURL(url);if(onload)onload(byteArray)};img.onerror=function img_onerror(event){console.log("Image "+url+" could not be decoded");if(onerror)onerror()};img.src=url};Module["preloadPlugins"].push(imagePlugin);var audioPlugin={};audioPlugin["canHandle"]=function audioPlugin_canHandle(name){return!Module.noAudioDecoding&&name.substr(-4)in{".ogg":1,".wav":1,".mp3":1}};audioPlugin["handle"]=function audioPlugin_handle(byteArray,name,onload,onerror){var done=false;function finish(audio){if(done)return;done=true;Module["preloadedAudios"][name]=audio;if(onload)onload(byteArray)}function fail(){if(done)return;done=true;Module["preloadedAudios"][name]=new Audio;if(onerror)onerror()}if(Browser.hasBlobConstructor){try{var b=new Blob([byteArray],{type:Browser.getMimetype(name)})}catch(e){return fail()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var audio=new Audio;audio.addEventListener("canplaythrough",function(){finish(audio)},false);audio.onerror=function audio_onerror(event){if(done)return;console.log("warning: browser could not fully decode audio "+name+", trying slower base64 approach");function encode64(data){var BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var PAD="=";var ret="";var leftchar=0;var leftbits=0;for(var i=0;i<data.length;i++){leftchar=leftchar<<8|data[i];leftbits+=8;while(leftbits>=6){var curr=leftchar>>leftbits-6&63;leftbits-=6;ret+=BASE[curr]}}if(leftbits==2){ret+=BASE[(leftchar&3)<<4];ret+=PAD+PAD}else if(leftbits==4){ret+=BASE[(leftchar&15)<<2];ret+=PAD}return ret}audio.src="data:audio/x-"+name.substr(-3)+";base64,"+encode64(byteArray);finish(audio)};audio.src=url;Browser.safeSetTimeout(function(){finish(audio)},1e4)}else{return fail()}};Module["preloadPlugins"].push(audioPlugin);function pointerLockChange(){Browser.pointerLock=document["pointerLockElement"]===Module["canvas"]||document["mozPointerLockElement"]===Module["canvas"]||document["webkitPointerLockElement"]===Module["canvas"]||document["msPointerLockElement"]===Module["canvas"]}var canvas=Module["canvas"];if(canvas){canvas.requestPointerLock=canvas["requestPointerLock"]||canvas["mozRequestPointerLock"]||canvas["webkitRequestPointerLock"]||canvas["msRequestPointerLock"]||function(){};canvas.exitPointerLock=document["exitPointerLock"]||document["mozExitPointerLock"]||document["webkitExitPointerLock"]||document["msExitPointerLock"]||function(){};canvas.exitPointerLock=canvas.exitPointerLock.bind(document);document.addEventListener("pointerlockchange",pointerLockChange,false);document.addEventListener("mozpointerlockchange",pointerLockChange,false);document.addEventListener("webkitpointerlockchange",pointerLockChange,false);document.addEventListener("mspointerlockchange",pointerLockChange,false);if(Module["elementPointerLock"]){canvas.addEventListener("click",function(ev){if(!Browser.pointerLock&&Module["canvas"].requestPointerLock){Module["canvas"].requestPointerLock();ev.preventDefault()}},false)}}},createContext:function(canvas,useWebGL,setInModule,webGLContextAttributes){if(useWebGL&&Module.ctx&&canvas==Module.canvas)return Module.ctx;var ctx;var contextHandle;if(useWebGL){var contextAttributes={antialias:false,alpha:false,majorVersion:typeof WebGL2RenderingContext!=="undefined"?2:1};if(webGLContextAttributes){for(var attribute in webGLContextAttributes){contextAttributes[attribute]=webGLContextAttributes[attribute]}}if(typeof GL!=="undefined"){contextHandle=GL.createContext(canvas,contextAttributes);if(contextHandle){ctx=GL.getContext(contextHandle).GLctx}}}else{ctx=canvas.getContext("2d")}if(!ctx)return null;if(setInModule){if(!useWebGL)assert(typeof GLctx==="undefined","cannot set in module if GLctx is used, but we are a non-GL context that would replace it");Module.ctx=ctx;if(useWebGL)GL.makeContextCurrent(contextHandle);Module.useWebGL=useWebGL;Browser.moduleContextCreatedCallbacks.forEach(function(callback){callback()});Browser.init()}return ctx},destroyContext:function(canvas,useWebGL,setInModule){},fullscreenHandlersInstalled:false,lockPointer:undefined,resizeCanvas:undefined,requestFullscreen:function(lockPointer,resizeCanvas){Browser.lockPointer=lockPointer;Browser.resizeCanvas=resizeCanvas;if(typeof Browser.lockPointer==="undefined")Browser.lockPointer=true;if(typeof Browser.resizeCanvas==="undefined")Browser.resizeCanvas=false;var canvas=Module["canvas"];function fullscreenChange(){Browser.isFullscreen=false;var canvasContainer=canvas.parentNode;if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvasContainer){canvas.exitFullscreen=Browser.exitFullscreen;if(Browser.lockPointer)canvas.requestPointerLock();Browser.isFullscreen=true;if(Browser.resizeCanvas){Browser.setFullscreenCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}else{canvasContainer.parentNode.insertBefore(canvas,canvasContainer);canvasContainer.parentNode.removeChild(canvasContainer);if(Browser.resizeCanvas){Browser.setWindowedCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}if(Module["onFullScreen"])Module["onFullScreen"](Browser.isFullscreen);if(Module["onFullscreen"])Module["onFullscreen"](Browser.isFullscreen)}if(!Browser.fullscreenHandlersInstalled){Browser.fullscreenHandlersInstalled=true;document.addEventListener("fullscreenchange",fullscreenChange,false);document.addEventListener("mozfullscreenchange",fullscreenChange,false);document.addEventListener("webkitfullscreenchange",fullscreenChange,false);document.addEventListener("MSFullscreenChange",fullscreenChange,false)}var canvasContainer=document.createElement("div");canvas.parentNode.insertBefore(canvasContainer,canvas);canvasContainer.appendChild(canvas);canvasContainer.requestFullscreen=canvasContainer["requestFullscreen"]||canvasContainer["mozRequestFullScreen"]||canvasContainer["msRequestFullscreen"]||(canvasContainer["webkitRequestFullscreen"]?function(){canvasContainer["webkitRequestFullscreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null)||(canvasContainer["webkitRequestFullScreen"]?function(){canvasContainer["webkitRequestFullScreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null);canvasContainer.requestFullscreen()},requestFullScreen:function(){abort("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen:function(){if(!Browser.isFullscreen){return false}var CFS=document["exitFullscreen"]||document["cancelFullScreen"]||document["mozCancelFullScreen"]||document["msExitFullscreen"]||document["webkitCancelFullScreen"]||function(){};CFS.apply(document,[]);return true},nextRAF:0,fakeRequestAnimationFrame:function(func){var now=Date.now();if(Browser.nextRAF===0){Browser.nextRAF=now+1e3/60}else{while(now+2>=Browser.nextRAF){Browser.nextRAF+=1e3/60}}var delay=Math.max(Browser.nextRAF-now,0);setTimeout(func,delay)},requestAnimationFrame:function(func){if(typeof requestAnimationFrame==="function"){requestAnimationFrame(func);return}var RAF=Browser.fakeRequestAnimationFrame;RAF(func)},safeRequestAnimationFrame:function(func){return Browser.requestAnimationFrame(function(){callUserCallback(func)})},safeSetTimeout:function(func,timeout){return setTimeout(function(){callUserCallback(func)},timeout)},getMimetype:function(name){return{"jpg":"image/jpeg","jpeg":"image/jpeg","png":"image/png","bmp":"image/bmp","ogg":"audio/ogg","wav":"audio/wav","mp3":"audio/mpeg"}[name.substr(name.lastIndexOf(".")+1)]},getUserMedia:function(func){if(!window.getUserMedia){window.getUserMedia=navigator["getUserMedia"]||navigator["mozGetUserMedia"]}window.getUserMedia(func)},getMovementX:function(event){return event["movementX"]||event["mozMovementX"]||event["webkitMovementX"]||0},getMovementY:function(event){return event["movementY"]||event["mozMovementY"]||event["webkitMovementY"]||0},getMouseWheelDelta:function(event){var delta=0;switch(event.type){case"DOMMouseScroll":delta=event.detail/3;break;case"mousewheel":delta=event.wheelDelta/120;break;case"wheel":delta=event.deltaY;switch(event.deltaMode){case 0:delta/=100;break;case 1:delta/=3;break;case 2:delta*=80;break;default:throw"unrecognized mouse wheel delta mode: "+event.deltaMode}break;default:throw"unrecognized mouse wheel event: "+event.type}return delta},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(event){if(Browser.pointerLock){if(event.type!="mousemove"&&"mozMovementX"in event){Browser.mouseMovementX=Browser.mouseMovementY=0}else{Browser.mouseMovementX=Browser.getMovementX(event);Browser.mouseMovementY=Browser.getMovementY(event)}if(typeof SDL!="undefined"){Browser.mouseX=SDL.mouseX+Browser.mouseMovementX;Browser.mouseY=SDL.mouseY+Browser.mouseMovementY}else{Browser.mouseX+=Browser.mouseMovementX;Browser.mouseY+=Browser.mouseMovementY}}else{var rect=Module["canvas"].getBoundingClientRect();var cw=Module["canvas"].width;var ch=Module["canvas"].height;var scrollX=typeof window.scrollX!=="undefined"?window.scrollX:window.pageXOffset;var scrollY=typeof window.scrollY!=="undefined"?window.scrollY:window.pageYOffset;assert(typeof scrollX!=="undefined"&&typeof scrollY!=="undefined","Unable to retrieve scroll position, mouse positions likely broken.");if(event.type==="touchstart"||event.type==="touchend"||event.type==="touchmove"){var touch=event.touch;if(touch===undefined){return}var adjustedX=touch.pageX-(scrollX+rect.left);var adjustedY=touch.pageY-(scrollY+rect.top);adjustedX=adjustedX*(cw/rect.width);adjustedY=adjustedY*(ch/rect.height);var coords={x:adjustedX,y:adjustedY};if(event.type==="touchstart"){Browser.lastTouches[touch.identifier]=coords;Browser.touches[touch.identifier]=coords}else if(event.type==="touchend"||event.type==="touchmove"){var last=Browser.touches[touch.identifier];if(!last)last=coords;Browser.lastTouches[touch.identifier]=last;Browser.touches[touch.identifier]=coords}return}var x=event.pageX-(scrollX+rect.left);var y=event.pageY-(scrollY+rect.top);x=x*(cw/rect.width);y=y*(ch/rect.height);Browser.mouseMovementX=x-Browser.mouseX;Browser.mouseMovementY=y-Browser.mouseY;Browser.mouseX=x;Browser.mouseY=y}},asyncLoad:function(url,onload,onerror,noRunDep){var dep=!noRunDep?getUniqueRunDependency("al "+url):"";readAsync(url,function(arrayBuffer){assert(arrayBuffer,'Loading data file "'+url+'" failed (no arrayBuffer).');onload(new Uint8Array(arrayBuffer));if(dep)removeRunDependency(dep)},function(event){if(onerror){onerror()}else{throw'Loading data file "'+url+'" failed.'}});if(dep)addRunDependency(dep)},resizeListeners:[],updateResizeListeners:function(){var canvas=Module["canvas"];Browser.resizeListeners.forEach(function(listener){listener(canvas.width,canvas.height)})},setCanvasSize:function(width,height,noUpdates){var canvas=Module["canvas"];Browser.updateCanvasDimensions(canvas,width,height);if(!noUpdates)Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags|8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags&~8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},updateCanvasDimensions:function(canvas,wNative,hNative){if(wNative&&hNative){canvas.widthNative=wNative;canvas.heightNative=hNative}else{wNative=canvas.widthNative;hNative=canvas.heightNative}var w=wNative;var h=hNative;if(Module["forcedAspectRatio"]&&Module["forcedAspectRatio"]>0){if(w/h<Module["forcedAspectRatio"]){w=Math.round(h*Module["forcedAspectRatio"])}else{h=Math.round(w/Module["forcedAspectRatio"])}}if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvas.parentNode&&typeof screen!="undefined"){var factor=Math.min(screen.width/w,screen.height/h);w=Math.round(w*factor);h=Math.round(h*factor)}if(Browser.resizeCanvas){if(canvas.width!=w)canvas.width=w;if(canvas.height!=h)canvas.height=h;if(typeof canvas.style!="undefined"){canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}else{if(canvas.width!=wNative)canvas.width=wNative;if(canvas.height!=hNative)canvas.height=hNative;if(typeof canvas.style!="undefined"){if(w!=wNative||h!=hNative){canvas.style.setProperty("width",w+"px","important");canvas.style.setProperty("height",h+"px","important")}else{canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}}},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var handle=Browser.nextWgetRequestHandle;Browser.nextWgetRequestHandle++;return handle}};function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback(Module);continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){wasmTable.get(func)()}else{wasmTable.get(func)(callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}function demangle(func){warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling");return func}function demangleAll(text){var regex=/\b_Z[\w\d_]+/g;return text.replace(regex,function(x){var y=demangle(x);return x===y?x:y+" ["+x+"]"})}function jsStackTrace(){var error=new Error;if(!error.stack){try{throw new Error}catch(e){error=e}if(!error.stack){return"(no stack trace available)"}}return error.stack.toString()}function keepRuntimeAlive(){return noExitRuntime||runtimeKeepaliveCounter>0}function stackTrace(){var js=jsStackTrace();if(Module["extraStackTrace"])js+="\n"+Module["extraStackTrace"]();return demangleAll(js)}var ExceptionInfoAttrs={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function ___cxa_allocate_exception(size){return _malloc(size+ExceptionInfoAttrs.SIZE)+ExceptionInfoAttrs.SIZE}function _atexit(func,arg){}function ___cxa_atexit(a0,a1){return _atexit(a0,a1)}function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-ExceptionInfoAttrs.SIZE;this.set_type=function(type){HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]=type};this.get_type=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]};this.set_destructor=function(destructor){HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]=destructor};this.get_destructor=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]};this.set_refcount=function(refcount){HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=refcount};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]=caught};this.get_caught=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]!=0};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]=rethrown};this.get_rethrown=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]!=0};this.init=function(type,destructor){this.set_type(type);this.set_destructor(destructor);this.set_refcount(0);this.set_caught(false);this.set_rethrown(false)};this.add_ref=function(){var value=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=value+1};this.release_ref=function(){var prev=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=prev-1;assert(prev>0);return prev===1}}function CatchInfo(ptr){this.free=function(){_free(this.ptr);this.ptr=0};this.set_base_ptr=function(basePtr){HEAP32[this.ptr>>2]=basePtr};this.get_base_ptr=function(){return HEAP32[this.ptr>>2]};this.set_adjusted_ptr=function(adjustedPtr){var ptrSize=4;HEAP32[this.ptr+ptrSize>>2]=adjustedPtr};this.get_adjusted_ptr=function(){var ptrSize=4;return HEAP32[this.ptr+ptrSize>>2]};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_exception_info().get_type());if(isPointer){return HEAP32[this.get_base_ptr()>>2]}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.get_base_ptr()};this.get_exception_info=function(){return new ExceptionInfo(this.get_base_ptr())};if(ptr===undefined){this.ptr=_malloc(8);this.set_adjusted_ptr(0)}else{this.ptr=ptr}}var exceptionCaught=[];function exception_addRef(info){info.add_ref()}var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var catchInfo=new CatchInfo(ptr);var info=catchInfo.get_exception_info();if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--}info.set_rethrown(false);exceptionCaught.push(catchInfo);exception_addRef(info);return catchInfo.get_exception_ptr()}var exceptionLast=0;function ___cxa_free_exception(ptr){try{return _free(new ExceptionInfo(ptr).ptr)}catch(e){err("exception during cxa_free_exception: "+e)}}function exception_decRef(info){if(info.release_ref()&&!info.get_rethrown()){var destructor=info.get_destructor();if(destructor){wasmTable.get(destructor)(info.excPtr)}___cxa_free_exception(info.excPtr)}}function ___cxa_end_catch(){_setThrew(0);assert(exceptionCaught.length>0);var catchInfo=exceptionCaught.pop();exception_decRef(catchInfo.get_exception_info());catchInfo.free();exceptionLast=0}function ___resumeException(catchInfoPtr){var catchInfo=new CatchInfo(catchInfoPtr);var ptr=catchInfo.get_base_ptr();if(!exceptionLast){exceptionLast=ptr}catchInfo.free();throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_find_matching_catch_2(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_find_matching_catch_3(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_rethrow(){var catchInfo=exceptionCaught.pop();if(!catchInfo){abort("no exception to throw")}var info=catchInfo.get_exception_info();var ptr=catchInfo.get_base_ptr();if(!info.get_rethrown()){exceptionCaught.push(catchInfo);info.set_rethrown(true);info.set_caught(false);uncaughtExceptionCount++}else{catchInfo.free()}exceptionLast=ptr;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_thread_atexit(a0,a1){return _atexit(a0,a1)}function ___cxa_throw(ptr,type,destructor){var info=new ExceptionInfo(ptr);info.init(type,destructor);exceptionLast=ptr;uncaughtExceptionCount++;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function setErrNo(value){HEAP32[___errno_location()>>2]=value;return value}var PATH={splitPath:function(filename){var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)==="/",trailingSlash=path.substr(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path==="/")return"/";path=PATH.normalize(path);path=path.replace(/\/$/,"");var lastSlash=path.lastIndexOf("/");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join("/"))},join2:function(l,r){return PATH.normalize(l+"/"+r)}};function getRandomDevice(){if(typeof crypto==="object"&&typeof crypto["getRandomValues"]==="function"){var randomBuffer=new Uint8Array(1);return function(){crypto.getRandomValues(randomBuffer);return randomBuffer[0]}}else if(ENVIRONMENT_IS_NODE){try{var crypto_module=require("crypto");return function(){return crypto_module["randomBytes"](1)[0]}}catch(e){}}return function(){abort("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var PATH_FS={resolve:function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:FS.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:function(from,to){from=PATH_FS.resolve(from).substr(1);to=PATH_FS.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(dev,ops){TTY.ttys[dev]={input:[],output:[],ops:ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open:function(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close:function(stream){stream.tty.ops.flush(stream.tty)},flush:function(stream){stream.tty.ops.flush(stream.tty)},read:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length){stream.node.timestamp=Date.now()}return i}},default_tty_ops:{get_char:function(tty){if(!tty.input.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc?Buffer.alloc(BUFSIZE):new Buffer(BUFSIZE);var bytesRead=0;try{bytesRead=nodeFS.readSync(process.stdin.fd,buf,0,BUFSIZE,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}else{result=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\n"}}else if(typeof readline=="function"){result=readline();if(result!==null){result+="\n"}}if(!result){return null}tty.input=intArrayFromString(result,true)}return tty.input.shift()},put_char:function(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){out(UTF8ArrayToString(tty.output,0));tty.output=[]}}},default_tty1_ops:{put_char:function(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){err(UTF8ArrayToString(tty.output,0));tty.output=[]}}}};function mmapAlloc(size){var alignedSize=alignMemory(size,16384);var ptr=_malloc(alignedSize);while(size<alignedSize)HEAP8[ptr+size++]=0;return ptr}var MEMFS={ops_table:null,mount:function(mount){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.timestamp=Date.now();if(parent){parent.contents[name]=node;parent.timestamp=node.timestamp}return node},getFileDataAsTypedArray:function(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage:function(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage:function(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr:function(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.timestamp);attr.mtime=new Date(node.timestamp);attr.ctime=new Date(node.timestamp);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr:function(node,attr){if(attr.mode!==undefined){node.mode=attr.mode}if(attr.timestamp!==undefined){node.timestamp=attr.timestamp}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup:function(parent,name){throw FS.genericErrors[44]},mknod:function(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename:function(old_node,new_dir,new_name){if(FS.isDir(old_node.mode)){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}}delete old_node.parent.contents[old_node.name];old_node.parent.timestamp=Date.now();old_node.name=new_name;new_dir.contents[new_name]=old_node;new_dir.timestamp=old_node.parent.timestamp;old_node.parent=new_dir},unlink:function(parent,name){delete parent.contents[name];parent.timestamp=Date.now()},rmdir:function(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.timestamp=Date.now()},readdir:function(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries},symlink:function(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink:function(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read:function(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);assert(size>=0);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write:function(stream,buffer,offset,length,position,canOwn){assert(!(buffer instanceof ArrayBuffer));if(buffer.buffer===HEAP8.buffer){canOwn=false}if(!length)return 0;var node=stream.node;node.timestamp=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){assert(position===0,"canOwn must imply no weird position inside the file");node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length);node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length),position)}else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek:function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},allocate:function(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)},mmap:function(stream,address,length,position,prot,flags){if(address!==0){throw new FS.ErrnoError(28)}if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents.buffer===buffer){allocated=false;ptr=contents.byteOffset}else{if(position>0||position+length<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}allocated=true;ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}HEAP8.set(contents,ptr)}return{ptr:ptr,allocated:allocated}},msync:function(stream,buffer,offset,length,mmapFlags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(mmapFlags&2){return 0}var bytesWritten=MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};var ERRNO_MESSAGES={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"};var ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(path,opts){path=PATH_FS.resolve(FS.cwd(),path);opts=opts||{};if(!path)return{path:"",node:null};var defaults={follow_mount:true,recurse_count:0};for(var key in defaults){if(opts[key]===undefined){opts[key]=defaults[key]}}if(opts.recurse_count>8){throw new FS.ErrnoError(32)}var parts=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),false);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}current=FS.lookupNode(current,parts[i]);current_path=PATH.join2(current_path,parts[i]);if(FS.isMountpoint(current)){if(!islast||islast&&opts.follow_mount){current=current.mounted.root}}if(!islast||opts.follow){var count=0;while(FS.isLink(current.mode)){var link=FS.readlink(current_path);current_path=PATH_FS.resolve(PATH.dirname(current_path),link);var lookup=FS.lookupPath(current_path,{recurse_count:opts.recurse_count});current=lookup.node;if(count++>40){throw new FS.ErrnoError(32)}}}}return{path:current_path,node:current}},getPath:function(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?mount+"/"+path:mount+path}path=path?node.name+"/"+path:node.name;node=node.parent}},hashName:function(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode:function(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode:function(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode:function(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode,parent)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode:function(parent,name,mode,rdev){assert(typeof parent==="object");var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode:function(node){FS.hashRemoveNode(node)},isRoot:function(node){return node===node.parent},isMountpoint:function(node){return!!node.mounted},isFile:function(mode){return(mode&61440)===32768},isDir:function(mode){return(mode&61440)===16384},isLink:function(mode){return(mode&61440)===40960},isChrdev:function(mode){return(mode&61440)===8192},isBlkdev:function(mode){return(mode&61440)===24576},isFIFO:function(mode){return(mode&61440)===4096},isSocket:function(mode){return(mode&49152)===49152},flagModes:{"r":0,"r+":2,"w":577,"w+":578,"a":1089,"a+":1090},modeStringToFlags:function(str){var flags=FS.flagModes[str];if(typeof flags==="undefined"){throw new Error("Unknown file open mode: "+str)}return flags},flagsToPermissionString:function(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions:function(node,perms){if(FS.ignorePermissions){return 0}if(perms.indexOf("r")!==-1&&!(node.mode&292)){return 2}else if(perms.indexOf("w")!==-1&&!(node.mode&146)){return 2}else if(perms.indexOf("x")!==-1&&!(node.mode&73)){return 2}return 0},mayLookup:function(dir){var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate:function(dir,name){try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete:function(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen:function(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&512){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},MAX_OPEN_FDS:4096,nextfd:function(fd_start,fd_end){fd_start=fd_start||0;fd_end=fd_end||FS.MAX_OPEN_FDS;for(var fd=fd_start;fd<=fd_end;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStream:function(fd){return FS.streams[fd]},createStream:function(stream,fd_start,fd_end){if(!FS.FSStream){FS.FSStream=function(){};FS.FSStream.prototype={object:{get:function(){return this.node},set:function(val){this.node=val}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}}}var newStream=new FS.FSStream;for(var p in stream){newStream[p]=stream[p]}stream=newStream;var fd=FS.nextfd(fd_start,fd_end);stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream:function(fd){FS.streams[fd]=null},chrdev_stream_ops:{open:function(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;if(stream.stream_ops.open){stream.stream_ops.open(stream)}},llseek:function(){throw new FS.ErrnoError(70)}},major:function(dev){return dev>>8},minor:function(dev){return dev&255},makedev:function(ma,mi){return ma<<8|mi},registerDevice:function(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:function(dev){return FS.devices[dev]},getMounts:function(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push.apply(check,m.mounts)}return mounts},syncfs:function(populate,callback){if(typeof populate==="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach(function(mount){if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)})},mount:function(type,opts,mountpoint){if(typeof type==="string"){throw type}var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type:type,opts:opts,mountpoint:mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount:function(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach(function(hash){var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.indexOf(current.mount)!==-1){FS.destroyNode(current)}current=next}});node.mounted=null;var idx=node.mount.mounts.indexOf(mount);assert(idx!==-1);node.mount.mounts.splice(idx,1)},lookup:function(parent,name){return parent.node_ops.lookup(parent,name)},mknod:function(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name||name==="."||name===".."){throw new FS.ErrnoError(28)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},create:function(path,mode){mode=mode!==undefined?mode:438;mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir:function(path,mode){mode=mode!==undefined?mode:511;mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree:function(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev:function(path,mode,dev){if(typeof dev==="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink:function(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename:function(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](old_path,new_path)}}catch(e){err("FS.trackingDelegate['willMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name)}catch(e){throw e}finally{FS.hashAddNode(old_node)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](old_path,new_path)}catch(e){err("FS.trackingDelegate['onMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}},rmdir:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readdir:function(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;if(!node.node_ops.readdir){throw new FS.ErrnoError(54)}return node.node_ops.readdir(node)},unlink:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.unlink(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readlink:function(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return PATH_FS.resolve(FS.getPath(link.parent),link.node_ops.readlink(link))},stat:function(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;if(!node){throw new FS.ErrnoError(44)}if(!node.node_ops.getattr){throw new FS.ErrnoError(63)}return node.node_ops.getattr(node)},lstat:function(path){return FS.stat(path,true)},chmod:function(path,mode,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{mode:mode&4095|node.mode&~4095,timestamp:Date.now()})},lchmod:function(path,mode){FS.chmod(path,mode,true)},fchmod:function(fd,mode){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chmod(stream.node,mode)},chown:function(path,uid,gid,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{timestamp:Date.now()})},lchown:function(path,uid,gid){FS.chown(path,uid,gid,true)},fchown:function(fd,uid,gid){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chown(stream.node,uid,gid)},truncate:function(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}node.node_ops.setattr(node,{size:len,timestamp:Date.now()})},ftruncate:function(fd,len){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.truncate(stream.node,len)},utime:function(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;node.node_ops.setattr(node,{timestamp:Math.max(atime,mtime)})},open:function(path,flags,mode,fd_start,fd_end){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags==="string"?FS.modeStringToFlags(flags):flags;mode=typeof mode==="undefined"?438:mode;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;if(typeof path==="object"){node=path}else{path=PATH.normalize(path);try{var lookup=FS.lookupPath(path,{follow:!(flags&131072)});node=lookup.node}catch(e){}}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else{node=FS.mknod(path,mode,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512){FS.truncate(node,0)}flags&=~(128|512|131072);var stream=FS.createStream({node:node,path:FS.getPath(node),flags:flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false},fd_start,fd_end);if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(Module["logReadFiles"]&&!(flags&1)){if(!FS.readFiles)FS.readFiles={};if(!(path in FS.readFiles)){FS.readFiles[path]=1;err("FS.trackingDelegate error on read file: "+path)}}try{if(FS.trackingDelegate["onOpenFile"]){var trackingFlags=0;if((flags&2097155)!==1){trackingFlags|=FS.tracking.openFlags.READ}if((flags&2097155)!==0){trackingFlags|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](path,trackingFlags)}}catch(e){err("FS.trackingDelegate['onOpenFile']('"+path+"', flags) threw an exception: "+e.message)}return stream},close:function(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed:function(stream){return stream.fd===null},llseek:function(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read:function(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write:function(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;try{if(stream.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](stream.path)}catch(e){err("FS.trackingDelegate['onWriteToFile']('"+stream.path+"') threw an exception: "+e.message)}return bytesWritten},allocate:function(stream,offset,length){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(offset<0||length<=0){throw new FS.ErrnoError(28)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(43)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(138)}stream.stream_ops.allocate(stream,offset,length)},mmap:function(stream,address,length,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}return stream.stream_ops.mmap(stream,address,length,position,prot,flags)},msync:function(stream,buffer,offset,length,mmapFlags){if(!stream||!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},munmap:function(stream){return 0},ioctl:function(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile:function(path,opts){opts=opts||{};opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error('Invalid encoding type "'+opts.encoding+'"')}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf,0)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret},writeFile:function(path,data,opts){opts=opts||{};opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data==="string"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,undefined,opts.canOwn)}else if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{throw new Error("Unsupported data type")}FS.close(stream)},cwd:function(){return FS.currentPath},chdir:function(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories:function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(stream,buffer,offset,length,pos){return length}});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var random_device=getRandomDevice();FS.createDevice("/dev","random",random_device);FS.createDevice("/dev","urandom",random_device);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:function(){var node=FS.createNode(proc_self,"fd",16384|511,73);node.node_ops={lookup:function(parent,name){var fd=+name;var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return stream.path}}};ret.parent=ret;return ret}};return node}},{},"/proc/self/fd")},createStandardStreams:function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1);assert(stdin.fd===0,"invalid handle for stdin ("+stdin.fd+")");assert(stdout.fd===1,"invalid handle for stdout ("+stdout.fd+")");assert(stderr.fd===2,"invalid handle for stderr ("+stderr.fd+")")},ensureErrnoError:function(){if(FS.ErrnoError)return;FS.ErrnoError=function ErrnoError(errno,node){this.node=node;this.setErrno=function(errno){this.errno=errno;for(var key in ERRNO_CODES){if(ERRNO_CODES[key]===errno){this.code=key;break}}};this.setErrno(errno);this.message=ERRNO_MESSAGES[errno];if(this.stack){Object.defineProperty(this,"stack",{value:(new Error).stack,writable:true});this.stack=demangleAll(this.stack)}};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[44].forEach(function(code){FS.genericErrors[code]=new FS.ErrnoError(code);FS.genericErrors[code].stack="<generic error, no stack>"})},staticInit:function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={"MEMFS":MEMFS}},init:function(input,output,error){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=input||Module["stdin"];Module["stdout"]=output||Module["stdout"];Module["stderr"]=error||Module["stderr"];FS.createStandardStreams()},quit:function(){FS.init.initialized=false;var fflush=Module["_fflush"];if(fflush)fflush(0);for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}},getMode:function(canRead,canWrite){var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode},findObject:function(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(ret.exists){return ret.object}else{return null}},analyzePath:function(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath:function(parent,path,canRead,canWrite){parent=typeof parent==="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current},createFile:function(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile:function(parent,name,data,canRead,canWrite,canOwn){var path=name?PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name):parent;var mode=FS.getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data==="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}return node},createDevice:function(parent,name,input,output){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(!!input,!!output);if(!FS.createDevice.major)FS.createDevice.major=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open:function(stream){stream.seekable=false},close:function(stream){if(output&&output.buffer&&output.buffer.length){output(10)}},read:function(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length){stream.node.timestamp=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile:function(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(read_){try{obj.contents=intArrayFromString(read_(obj.url),true);obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}},createLazyFile:function(parent,name,url,canRead,canWrite){function LazyUint8Array(){this.lengthKnown=false;this.chunks=[]}LazyUint8Array.prototype.get=function LazyUint8Array_get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]};LazyUint8Array.prototype.setDataGetter=function LazyUint8Array_setDataGetter(getter){this.getter=getter};LazyUint8Array.prototype.cacheLength=function LazyUint8Array_cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=function(from,to){if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);if(typeof Uint8Array!="undefined")xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}else{return intArrayFromString(xhr.responseText||"",true)}};var lazyArray=this;lazyArray.setDataGetter(function(chunkNum){var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]==="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]==="undefined")throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;Object.defineProperties(lazyArray,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url:url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach(function(key){var fn=node.stream_ops[key];stream_ops[key]=function forceLoadLazyFile(){FS.forceLoadFile(node);return fn.apply(null,arguments)}});stream_ops.read=function stream_ops_read(stream,buffer,offset,length,position){FS.forceLoadFile(node);var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);assert(size>=0);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size};node.stream_ops=stream_ops;return node},createPreloadedFile:function(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish){Browser.init();var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency("cp "+fullname);function processData(byteArray){function finish(byteArray){if(preFinish)preFinish();if(!dontCreateFile){FS.createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}if(onload)onload();removeRunDependency(dep)}var handled=false;Module["preloadPlugins"].forEach(function(plugin){if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,function(){if(onerror)onerror();removeRunDependency(dep)});handled=true}});if(!handled)finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){Browser.asyncLoad(url,function(byteArray){processData(byteArray)},onerror)}else{processData(url)}},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=function openRequest_onupgradeneeded(){out("creating db");var db=openRequest.result;db.createObjectStore(FS.DB_STORE_NAME)};openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;var transaction=db.transaction([FS.DB_STORE_NAME],"readwrite");var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var putRequest=files.put(FS.analyzePath(path).object.contents,path);putRequest.onsuccess=function putRequest_onsuccess(){ok++;if(ok+fail==total)finish()};putRequest.onerror=function putRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},loadFilesFromDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=onerror;openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;try{var transaction=db.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){onerror(e);return}var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var getRequest=files.get(path);getRequest.onsuccess=function getRequest_onsuccess(){if(FS.analyzePath(path).exists){FS.unlink(path)}FS.createDataFile(PATH.dirname(path),PATH.basename(path),getRequest.result,true,true,true);ok++;if(ok+fail==total)finish()};getRequest.onerror=function getRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},absolutePath:function(){abort("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){abort("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){abort("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){abort("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){abort("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){abort("FS.standardizePath has been removed; use PATH.normalize instead")}};var SYSCALLS={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(dirfd,path,allowEmpty){if(path[0]==="/"){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=FS.getStream(dirfd);if(!dirstream)throw new FS.ErrnoError(8);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return PATH.join2(dir,path)},doStat:function(func,path,buf){try{var stat=func(path)}catch(e){if(e&&e.node&&PATH.normalize(path)!==PATH.normalize(FS.getPath(e.node))){return-54}throw e}HEAP32[buf>>2]=stat.dev;HEAP32[buf+4>>2]=0;HEAP32[buf+8>>2]=stat.ino;HEAP32[buf+12>>2]=stat.mode;HEAP32[buf+16>>2]=stat.nlink;HEAP32[buf+20>>2]=stat.uid;HEAP32[buf+24>>2]=stat.gid;HEAP32[buf+28>>2]=stat.rdev;HEAP32[buf+32>>2]=0;tempI64=[stat.size>>>0,(tempDouble=stat.size,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+40>>2]=tempI64[0],HEAP32[buf+44>>2]=tempI64[1];HEAP32[buf+48>>2]=4096;HEAP32[buf+52>>2]=stat.blocks;HEAP32[buf+56>>2]=stat.atime.getTime()/1e3|0;HEAP32[buf+60>>2]=0;HEAP32[buf+64>>2]=stat.mtime.getTime()/1e3|0;HEAP32[buf+68>>2]=0;HEAP32[buf+72>>2]=stat.ctime.getTime()/1e3|0;HEAP32[buf+76>>2]=0;tempI64=[stat.ino>>>0,(tempDouble=stat.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+80>>2]=tempI64[0],HEAP32[buf+84>>2]=tempI64[1];return 0},doMsync:function(addr,stream,len,flags,offset){var buffer=HEAPU8.slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},doMkdir:function(path,mode){path=PATH.normalize(path);if(path[path.length-1]==="/")path=path.substr(0,path.length-1);FS.mkdir(path,mode,0);return 0},doMknod:function(path,mode,dev){switch(mode&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}FS.mknod(path,mode,dev);return 0},doReadlink:function(path,buf,bufsize){if(bufsize<=0)return-28;var ret=FS.readlink(path);var len=Math.min(bufsize,lengthBytesUTF8(ret));var endChar=HEAP8[buf+len];stringToUTF8(ret,buf,bufsize+1);HEAP8[buf+len]=endChar;return len},doAccess:function(path,amode){if(amode&~7){return-28}var node;var lookup=FS.lookupPath(path,{follow:true});node=lookup.node;if(!node){return-44}var perms="";if(amode&4)perms+="r";if(amode&2)perms+="w";if(amode&1)perms+="x";if(perms&&FS.nodePermissions(node,perms)){return-2}return 0},doDup:function(path,flags,suggestFD){var suggest=FS.getStream(suggestFD);if(suggest)FS.close(suggest);return FS.open(path,flags,0,suggestFD,suggestFD).fd},doReadv:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break}return ret},doWritev:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr}return ret},varargs:undefined,get:function(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},getStreamFromFD:function(fd){var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);return stream},get64:function(low,high){if(low>=0)assert(high===0);else assert(high===-1);return low}};function ___sys_fcntl64(fd,cmd,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=SYSCALLS.get();if(arg<0){return-28}var newStream;newStream=FS.open(stream.path,stream.flags,0,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=SYSCALLS.get();stream.flags|=arg;return 0}case 12:{var arg=SYSCALLS.get();var offset=0;HEAP16[arg+offset>>1]=2;return 0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:setErrNo(28);return-1;default:{return-28}}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_fstat64(fd,buf){try{var stream=SYSCALLS.getStreamFromFD(fd);return SYSCALLS.doStat(FS.stat,stream.path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_ioctl(fd,op,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:case 21505:{if(!stream.tty)return-59;return 0}case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!stream.tty)return-59;return 0}case 21519:{if(!stream.tty)return-59;var argp=SYSCALLS.get();HEAP32[argp>>2]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21531:{var argp=SYSCALLS.get();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;return 0}case 21524:{if(!stream.tty)return-59;return 0}default:abort("bad ioctl syscall "+op)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function syscallMmap2(addr,len,prot,flags,fd,off){off<<=12;var ptr;var allocated=false;if((flags&16)!==0&&addr%16384!==0){return-28}if((flags&32)!==0){ptr=_memalign(16384,len);if(!ptr)return-48;_memset(ptr,0,len);allocated=true}else{var info=FS.getStream(fd);if(!info)return-8;var res=FS.mmap(info,addr,len,off,prot,flags);ptr=res.ptr;allocated=res.allocated}SYSCALLS.mappings[ptr]={malloc:ptr,len:len,allocated:allocated,fd:fd,prot:prot,flags:flags,offset:off};return ptr}function ___sys_mmap2(addr,len,prot,flags,fd,off){try{return syscallMmap2(addr,len,prot,flags,fd,off)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function syscallMunmap(addr,len){if((addr|0)===-1||len===0){return-28}var info=SYSCALLS.mappings[addr];if(!info)return 0;if(len===info.len){var stream=FS.getStream(info.fd);if(stream){if(info.prot&2){SYSCALLS.doMsync(addr,stream,len,info.flags,info.offset)}FS.munmap(stream)}SYSCALLS.mappings[addr]=null;if(info.allocated){_free(info.malloc)}}return 0}function ___sys_munmap(addr,len){try{return syscallMunmap(addr,len)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_open(path,flags,varargs){SYSCALLS.varargs=varargs;try{var pathname=SYSCALLS.getStr(path);var mode=varargs?SYSCALLS.get():0;var stream=FS.open(pathname,flags,mode);return stream.fd}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_stat64(path,buf){try{path=SYSCALLS.getStr(path);return SYSCALLS.doStat(FS.stat,path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var char_0=48;var char_9=57;function makeLegalFunctionName(name){if(undefined===name){return"_unknown"}name=name.replace(/[^a-zA-Z0-9_]/g,"$");var f=name.charCodeAt(0);if(f>=char_0&&f<=char_9){return"_"+name}else{return name}}function createNamedFunction(name,body){name=makeLegalFunctionName(name);return new Function("body","return function "+name+"() {\n"+'    "use strict";'+"    return body.apply(this, arguments);\n"+"};\n")(body)}var emval_free_list=[];var emval_handle_array=[{},{value:undefined},{value:null},{value:true},{value:false}];function count_emval_handles(){var count=0;for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){++count}}return count}function get_first_emval(){for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){return emval_handle_array[i]}}return null}function init_emval(){Module["count_emval_handles"]=count_emval_handles;Module["get_first_emval"]=get_first_emval}function __emval_register(value){switch(value){case undefined:{return 1}case null:{return 2}case true:{return 3}case false:{return 4}default:{var handle=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;emval_handle_array[handle]={refcount:1,value:value};return handle}}}function extendError(baseErrorType,errorName){var errorClass=createNamedFunction(errorName,function(message){this.name=errorName;this.message=message;var stack=new Error(message).stack;if(stack!==undefined){this.stack=this.toString()+"\n"+stack.replace(/^Error(:[^\n]*)?\n/,"")}});errorClass.prototype=Object.create(baseErrorType.prototype);errorClass.prototype.constructor=errorClass;errorClass.prototype.toString=function(){if(this.message===undefined){return this.name}else{return this.name+": "+this.message}};return errorClass}var PureVirtualError=undefined;function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i)}embind_charCodes=codes}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]]}return ret}function getInheritedInstanceCount(){return Object.keys(registeredInstances).length}function getLiveInheritedInstances(){var rv=[];for(var k in registeredInstances){if(registeredInstances.hasOwnProperty(k)){rv.push(registeredInstances[k])}}return rv}var deletionQueue=[];function flushPendingDeletes(){while(deletionQueue.length){var obj=deletionQueue.pop();obj.$$.deleteScheduled=false;obj["delete"]()}}var delayFunction=undefined;function setDelayFunction(fn){delayFunction=fn;if(deletionQueue.length&&delayFunction){delayFunction(flushPendingDeletes)}}function init_embind(){Module["getInheritedInstanceCount"]=getInheritedInstanceCount;Module["getLiveInheritedInstances"]=getLiveInheritedInstances;Module["flushPendingDeletes"]=flushPendingDeletes;Module["setDelayFunction"]=setDelayFunction}var registeredInstances={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message)}function getBasestPointer(class_,ptr){if(ptr===undefined){throwBindingError("ptr should not be undefined")}while(class_.baseClass){ptr=class_.upcast(ptr);class_=class_.baseClass}return ptr}function registerInheritedInstance(class_,ptr,instance){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){throwBindingError("Tried to register registered instance: "+ptr)}else{registeredInstances[ptr]=instance}}function requireHandle(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle)}return emval_handle_array[handle].value}var registeredTypes={};function getTypeName(type){var ptr=___getTypeName(type);var rv=readLatin1String(ptr);_free(ptr);return rv}function requireRegisteredType(rawType,humanName){var impl=registeredTypes[rawType];if(undefined===impl){throwBindingError(humanName+" has unknown type "+getTypeName(rawType))}return impl}function unregisterInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){delete registeredInstances[ptr]}else{throwBindingError("Tried to unregister unregistered instance: "+ptr)}}function detachFinalizer(handle){}var finalizationGroup=false;function runDestructor($$){if($$.smartPtr){$$.smartPtrType.rawDestructor($$.smartPtr)}else{$$.ptrType.registeredClass.rawDestructor($$.ptr)}}function releaseClassHandle($$){$$.count.value-=1;var toDelete=0===$$.count.value;if(toDelete){runDestructor($$)}}function attachFinalizer(handle){if("undefined"===typeof FinalizationGroup){attachFinalizer=function(handle){return handle};return handle}finalizationGroup=new FinalizationGroup(function(iter){for(var result=iter.next();!result.done;result=iter.next()){var $$=result.value;if(!$$.ptr){console.warn("object already deleted: "+$$.ptr)}else{releaseClassHandle($$)}}});attachFinalizer=function(handle){finalizationGroup.register(handle,handle.$$,handle.$$);return handle};detachFinalizer=function(handle){finalizationGroup.unregister(handle.$$)};return attachFinalizer(handle)}function __embind_create_inheriting_constructor(constructorName,wrapperType,properties){constructorName=readLatin1String(constructorName);wrapperType=requireRegisteredType(wrapperType,"wrapper");properties=requireHandle(properties);var arraySlice=[].slice;var registeredClass=wrapperType.registeredClass;var wrapperPrototype=registeredClass.instancePrototype;var baseClass=registeredClass.baseClass;var baseClassPrototype=baseClass.instancePrototype;var baseConstructor=registeredClass.baseClass.constructor;var ctor=createNamedFunction(constructorName,function(){registeredClass.baseClass.pureVirtualFunctions.forEach(function(name){if(this[name]===baseClassPrototype[name]){throw new PureVirtualError("Pure virtual function "+name+" must be implemented in JavaScript")}}.bind(this));Object.defineProperty(this,"__parent",{value:wrapperPrototype});this["__construct"].apply(this,arraySlice.call(arguments))});wrapperPrototype["__construct"]=function __construct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __construct")}var inner=baseConstructor["implement"].apply(undefined,[this].concat(arraySlice.call(arguments)));detachFinalizer(inner);var $$=inner.$$;inner["notifyOnDestruction"]();$$.preservePointerOnDelete=true;Object.defineProperties(this,{$$:{value:$$}});attachFinalizer(this);registerInheritedInstance(registeredClass,$$.ptr,this)};wrapperPrototype["__destruct"]=function __destruct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __destruct")}detachFinalizer(this);unregisterInheritedInstance(registeredClass,this.$$.ptr)};ctor.prototype=Object.create(wrapperPrototype);for(var p in properties){ctor.prototype[p]=properties[p]}return __emval_register(ctor)}var structRegistrations={};function runDestructors(destructors){while(destructors.length){var ptr=destructors.pop();var del=destructors.pop();del(ptr)}}function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAPU32[pointer>>2])}var awaitingDependencies={};var typeDependencies={};var InternalError=undefined;function throwInternalError(message){throw new InternalError(message)}function whenDependentTypesAreResolved(myTypes,dependentTypes,getTypeConverters){myTypes.forEach(function(type){typeDependencies[type]=dependentTypes});function onComplete(typeConverters){var myTypeConverters=getTypeConverters(typeConverters);if(myTypeConverters.length!==myTypes.length){throwInternalError("Mismatched type converter count")}for(var i=0;i<myTypes.length;++i){registerType(myTypes[i],myTypeConverters[i])}}var typeConverters=new Array(dependentTypes.length);var unregisteredTypes=[];var registered=0;dependentTypes.forEach(function(dt,i){if(registeredTypes.hasOwnProperty(dt)){typeConverters[i]=registeredTypes[dt]}else{unregisteredTypes.push(dt);if(!awaitingDependencies.hasOwnProperty(dt)){awaitingDependencies[dt]=[]}awaitingDependencies[dt].push(function(){typeConverters[i]=registeredTypes[dt];++registered;if(registered===unregisteredTypes.length){onComplete(typeConverters)}})}});if(0===unregisteredTypes.length){onComplete(typeConverters)}}function __embind_finalize_value_object(structType){var reg=structRegistrations[structType];delete structRegistrations[structType];var rawConstructor=reg.rawConstructor;var rawDestructor=reg.rawDestructor;var fieldRecords=reg.fields;var fieldTypes=fieldRecords.map(function(field){return field.getterReturnType}).concat(fieldRecords.map(function(field){return field.setterArgumentType}));whenDependentTypesAreResolved([structType],fieldTypes,function(fieldTypes){var fields={};fieldRecords.forEach(function(field,i){var fieldName=field.fieldName;var getterReturnType=fieldTypes[i];var getter=field.getter;var getterContext=field.getterContext;var setterArgumentType=fieldTypes[i+fieldRecords.length];var setter=field.setter;var setterContext=field.setterContext;fields[fieldName]={read:function(ptr){return getterReturnType["fromWireType"](getter(getterContext,ptr))},write:function(ptr,o){var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,o));runDestructors(destructors)}}});return[{name:reg.name,"fromWireType":function(ptr){var rv={};for(var i in fields){rv[i]=fields[i].read(ptr)}rawDestructor(ptr);return rv},"toWireType":function(destructors,o){for(var fieldName in fields){if(!(fieldName in o)){throw new TypeError('Missing field:  "'+fieldName+'"')}}var ptr=rawConstructor();for(fieldName in fields){fields[fieldName].write(ptr,o[fieldName])}if(destructors!==null){destructors.push(rawDestructor,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:rawDestructor}]})}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size)}}function registerType(rawType,registeredInstance,options){options=options||{};if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance")}var name=registeredInstance.name;if(!rawType){throwBindingError('type "'+name+'" must have a positive integer typeid pointer')}if(registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations){return}else{throwBindingError("Cannot register type '"+name+"' twice")}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){cb()})}}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(wt){return!!wt},"toWireType":function(destructors,o){return o?trueValue:falseValue},"argPackAdvance":8,"readValueFromPointer":function(pointer){var heap;if(size===1){heap=HEAP8}else if(size===2){heap=HEAP16}else if(size===4){heap=HEAP32}else{throw new TypeError("Unknown boolean type size: "+name)}return this["fromWireType"](heap[pointer>>shift])},destructorFunction:null})}function ClassHandle_isAliasOf(other){if(!(this instanceof ClassHandle)){return false}if(!(other instanceof ClassHandle)){return false}var leftClass=this.$$.ptrType.registeredClass;var left=this.$$.ptr;var rightClass=other.$$.ptrType.registeredClass;var right=other.$$.ptr;while(leftClass.baseClass){left=leftClass.upcast(left);leftClass=leftClass.baseClass}while(rightClass.baseClass){right=rightClass.upcast(right);rightClass=rightClass.baseClass}return leftClass===rightClass&&left===right}function shallowCopyInternalPointer(o){return{count:o.count,deleteScheduled:o.deleteScheduled,preservePointerOnDelete:o.preservePointerOnDelete,ptr:o.ptr,ptrType:o.ptrType,smartPtr:o.smartPtr,smartPtrType:o.smartPtrType}}function throwInstanceAlreadyDeleted(obj){function getInstanceTypeName(handle){return handle.$$.ptrType.registeredClass.name}throwBindingError(getInstanceTypeName(obj)+" instance already deleted")}function ClassHandle_clone(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.preservePointerOnDelete){this.$$.count.value+=1;return this}else{var clone=attachFinalizer(Object.create(Object.getPrototypeOf(this),{$$:{value:shallowCopyInternalPointer(this.$$)}}));clone.$$.count.value+=1;clone.$$.deleteScheduled=false;return clone}}function ClassHandle_delete(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}detachFinalizer(this);releaseClassHandle(this.$$);if(!this.$$.preservePointerOnDelete){this.$$.smartPtr=undefined;this.$$.ptr=undefined}}function ClassHandle_isDeleted(){return!this.$$.ptr}function ClassHandle_deleteLater(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}deletionQueue.push(this);if(deletionQueue.length===1&&delayFunction){delayFunction(flushPendingDeletes)}this.$$.deleteScheduled=true;return this}function init_ClassHandle(){ClassHandle.prototype["isAliasOf"]=ClassHandle_isAliasOf;ClassHandle.prototype["clone"]=ClassHandle_clone;ClassHandle.prototype["delete"]=ClassHandle_delete;ClassHandle.prototype["isDeleted"]=ClassHandle_isDeleted;ClassHandle.prototype["deleteLater"]=ClassHandle_deleteLater}function ClassHandle(){}var registeredPointers={};function ensureOverloadTable(proto,methodName,humanName){if(undefined===proto[methodName].overloadTable){var prevFunc=proto[methodName];proto[methodName]=function(){if(!proto[methodName].overloadTable.hasOwnProperty(arguments.length)){throwBindingError("Function '"+humanName+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+proto[methodName].overloadTable+")!")}return proto[methodName].overloadTable[arguments.length].apply(this,arguments)};proto[methodName].overloadTable=[];proto[methodName].overloadTable[prevFunc.argCount]=prevFunc}}function exposePublicSymbol(name,value,numArguments){if(Module.hasOwnProperty(name)){if(undefined===numArguments||undefined!==Module[name].overloadTable&&undefined!==Module[name].overloadTable[numArguments]){throwBindingError("Cannot register public name '"+name+"' twice")}ensureOverloadTable(Module,name,name);if(Module.hasOwnProperty(numArguments)){throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+numArguments+")!")}Module[name].overloadTable[numArguments]=value}else{Module[name]=value;if(undefined!==numArguments){Module[name].numArguments=numArguments}}}function RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast){this.name=name;this.constructor=constructor;this.instancePrototype=instancePrototype;this.rawDestructor=rawDestructor;this.baseClass=baseClass;this.getActualType=getActualType;this.upcast=upcast;this.downcast=downcast;this.pureVirtualFunctions=[]}function upcastPointer(ptr,ptrClass,desiredClass){while(ptrClass!==desiredClass){if(!ptrClass.upcast){throwBindingError("Expected null or instance of "+desiredClass.name+", got an instance of "+ptrClass.name)}ptr=ptrClass.upcast(ptr);ptrClass=ptrClass.baseClass}return ptr}function constNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function genericPointerToWireType(destructors,handle){var ptr;if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}if(this.isSmartPointer){ptr=this.rawConstructor();if(destructors!==null){destructors.push(this.rawDestructor,ptr)}return ptr}else{return 0}}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(!this.isConst&&handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);if(this.isSmartPointer){if(undefined===handle.$$.smartPtr){throwBindingError("Passing raw pointer to smart pointer is illegal")}switch(this.sharingPolicy){case 0:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}break;case 1:ptr=handle.$$.smartPtr;break;case 2:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{var clonedHandle=handle["clone"]();ptr=this.rawShare(ptr,__emval_register(function(){clonedHandle["delete"]()}));if(destructors!==null){destructors.push(this.rawDestructor,ptr)}}break;default:throwBindingError("Unsupporting sharing policy")}}return ptr}function nonConstNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+handle.$$.ptrType.name+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function RegisteredPointer_getPointee(ptr){if(this.rawGetPointee){ptr=this.rawGetPointee(ptr)}return ptr}function RegisteredPointer_destructor(ptr){if(this.rawDestructor){this.rawDestructor(ptr)}}function RegisteredPointer_deleteObject(handle){if(handle!==null){handle["delete"]()}}function downcastPointer(ptr,ptrClass,desiredClass){if(ptrClass===desiredClass){return ptr}if(undefined===desiredClass.baseClass){return null}var rv=downcastPointer(ptr,ptrClass,desiredClass.baseClass);if(rv===null){return null}return desiredClass.downcast(rv)}function getInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);return registeredInstances[ptr]}function makeClassHandle(prototype,record){if(!record.ptrType||!record.ptr){throwInternalError("makeClassHandle requires ptr and ptrType")}var hasSmartPtrType=!!record.smartPtrType;var hasSmartPtr=!!record.smartPtr;if(hasSmartPtrType!==hasSmartPtr){throwInternalError("Both smartPtrType and smartPtr must be specified")}record.count={value:1};return attachFinalizer(Object.create(prototype,{$$:{value:record}}))}function RegisteredPointer_fromWireType(ptr){var rawPointer=this.getPointee(ptr);if(!rawPointer){this.destructor(ptr);return null}var registeredInstance=getInheritedInstance(this.registeredClass,rawPointer);if(undefined!==registeredInstance){if(0===registeredInstance.$$.count.value){registeredInstance.$$.ptr=rawPointer;registeredInstance.$$.smartPtr=ptr;return registeredInstance["clone"]()}else{var rv=registeredInstance["clone"]();this.destructor(ptr);return rv}}function makeDefaultHandle(){if(this.isSmartPointer){return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:rawPointer,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this,ptr:ptr})}}var actualType=this.registeredClass.getActualType(rawPointer);var registeredPointerRecord=registeredPointers[actualType];if(!registeredPointerRecord){return makeDefaultHandle.call(this)}var toType;if(this.isConst){toType=registeredPointerRecord.constPointerType}else{toType=registeredPointerRecord.pointerType}var dp=downcastPointer(rawPointer,this.registeredClass,toType.registeredClass);if(dp===null){return makeDefaultHandle.call(this)}if(this.isSmartPointer){return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp})}}function init_RegisteredPointer(){RegisteredPointer.prototype.getPointee=RegisteredPointer_getPointee;RegisteredPointer.prototype.destructor=RegisteredPointer_destructor;RegisteredPointer.prototype["argPackAdvance"]=8;RegisteredPointer.prototype["readValueFromPointer"]=simpleReadValueFromPointer;RegisteredPointer.prototype["deleteObject"]=RegisteredPointer_deleteObject;RegisteredPointer.prototype["fromWireType"]=RegisteredPointer_fromWireType}function RegisteredPointer(name,registeredClass,isReference,isConst,isSmartPointer,pointeeType,sharingPolicy,rawGetPointee,rawConstructor,rawShare,rawDestructor){this.name=name;this.registeredClass=registeredClass;this.isReference=isReference;this.isConst=isConst;this.isSmartPointer=isSmartPointer;this.pointeeType=pointeeType;this.sharingPolicy=sharingPolicy;this.rawGetPointee=rawGetPointee;this.rawConstructor=rawConstructor;this.rawShare=rawShare;this.rawDestructor=rawDestructor;if(!isSmartPointer&&registeredClass.baseClass===undefined){if(isConst){this["toWireType"]=constNoSmartPtrRawPointerToWireType;this.destructorFunction=null}else{this["toWireType"]=nonConstNoSmartPtrRawPointerToWireType;this.destructorFunction=null}}else{this["toWireType"]=genericPointerToWireType}}function replacePublicSymbol(name,value,numArguments){if(!Module.hasOwnProperty(name)){throwInternalError("Replacing nonexistant public symbol")}if(undefined!==Module[name].overloadTable&&undefined!==numArguments){Module[name].overloadTable[numArguments]=value}else{Module[name]=value;Module[name].argCount=numArguments}}function dynCallLegacy(sig,ptr,args){assert("dynCall_"+sig in Module,"bad function pointer type - no table for sig '"+sig+"'");if(args&&args.length){assert(args.length===sig.substring(1).replace(/j/g,"--").length)}else{assert(sig.length==1)}var f=Module["dynCall_"+sig];return args&&args.length?f.apply(null,[ptr].concat(args)):f.call(null,ptr)}function dynCall(sig,ptr,args){if(sig.indexOf("j")!=-1){return dynCallLegacy(sig,ptr,args)}assert(wasmTable.get(ptr),"missing table entry in dynCall: "+ptr);return wasmTable.get(ptr).apply(null,args)}function getDynCaller(sig,ptr){assert(sig.indexOf("j")>=0,"getDynCaller should only be called with i64 sigs");var argCache=[];return function(){argCache.length=arguments.length;for(var i=0;i<arguments.length;i++){argCache[i]=arguments[i]}return dynCall(sig,ptr,argCache)}}function embind__requireFunction(signature,rawFunction){signature=readLatin1String(signature);function makeDynCaller(){if(signature.indexOf("j")!=-1){return getDynCaller(signature,rawFunction)}return wasmTable.get(rawFunction)}var fp=makeDynCaller();if(typeof fp!=="function"){throwBindingError("unknown function pointer with signature "+signature+": "+rawFunction)}return fp}var UnboundTypeError=undefined;function throwUnboundTypeError(message,types){var unboundTypes=[];var seen={};function visit(type){if(seen[type]){return}if(registeredTypes[type]){return}if(typeDependencies[type]){typeDependencies[type].forEach(visit);return}unboundTypes.push(type);seen[type]=true}types.forEach(visit);throw new UnboundTypeError(message+": "+unboundTypes.map(getTypeName).join([", "]))}function __embind_register_class(rawType,rawPointerType,rawConstPointerType,baseClassRawType,getActualTypeSignature,getActualType,upcastSignature,upcast,downcastSignature,downcast,name,destructorSignature,rawDestructor){name=readLatin1String(name);getActualType=embind__requireFunction(getActualTypeSignature,getActualType);if(upcast){upcast=embind__requireFunction(upcastSignature,upcast)}if(downcast){downcast=embind__requireFunction(downcastSignature,downcast)}rawDestructor=embind__requireFunction(destructorSignature,rawDestructor);var legalFunctionName=makeLegalFunctionName(name);exposePublicSymbol(legalFunctionName,function(){throwUnboundTypeError("Cannot construct "+name+" due to unbound types",[baseClassRawType])});whenDependentTypesAreResolved([rawType,rawPointerType,rawConstPointerType],baseClassRawType?[baseClassRawType]:[],function(base){base=base[0];var baseClass;var basePrototype;if(baseClassRawType){baseClass=base.registeredClass;basePrototype=baseClass.instancePrototype}else{basePrototype=ClassHandle.prototype}var constructor=createNamedFunction(legalFunctionName,function(){if(Object.getPrototypeOf(this)!==instancePrototype){throw new BindingError("Use 'new' to construct "+name)}if(undefined===registeredClass.constructor_body){throw new BindingError(name+" has no accessible constructor")}var body=registeredClass.constructor_body[arguments.length];if(undefined===body){throw new BindingError("Tried to invoke ctor of "+name+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(registeredClass.constructor_body).toString()+") parameters instead!")}return body.apply(this,arguments)});var instancePrototype=Object.create(basePrototype,{constructor:{value:constructor}});constructor.prototype=instancePrototype;var registeredClass=new RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast);var referenceConverter=new RegisteredPointer(name,registeredClass,true,false,false);var pointerConverter=new RegisteredPointer(name+"*",registeredClass,false,false,false);var constPointerConverter=new RegisteredPointer(name+" const*",registeredClass,false,true,false);registeredPointers[rawType]={pointerType:pointerConverter,constPointerType:constPointerConverter};replacePublicSymbol(legalFunctionName,constructor);return[referenceConverter,pointerConverter,constPointerConverter]})}function new_(constructor,argumentList){if(!(constructor instanceof Function)){throw new TypeError("new_ called with constructor type "+typeof constructor+" which is not a function")}var dummy=createNamedFunction(constructor.name||"unknownFunctionName",function(){});dummy.prototype=constructor.prototype;var obj=new dummy;var r=constructor.apply(obj,argumentList);return r instanceof Object?r:obj}function craftInvokerFunction(humanName,argTypes,classType,cppInvokerFunc,cppTargetFunc){var argCount=argTypes.length;if(argCount<2){throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!")}var isClassMethodFunc=argTypes[1]!==null&&classType!==null;var needsDestructorStack=false;for(var i=1;i<argTypes.length;++i){if(argTypes[i]!==null&&argTypes[i].destructorFunction===undefined){needsDestructorStack=true;break}}var returns=argTypes[0].name!=="void";var argsList="";var argsListWired="";for(var i=0;i<argCount-2;++i){argsList+=(i!==0?", ":"")+"arg"+i;argsListWired+=(i!==0?", ":"")+"arg"+i+"Wired"}var invokerFnBody="return function "+makeLegalFunctionName(humanName)+"("+argsList+") {\n"+"if (arguments.length !== "+(argCount-2)+") {\n"+"throwBindingError('function "+humanName+" called with ' + arguments.length + ' arguments, expected "+(argCount-2)+" args!');\n"+"}\n";if(needsDestructorStack){invokerFnBody+="var destructors = [];\n"}var dtorStack=needsDestructorStack?"destructors":"null";var args1=["throwBindingError","invoker","fn","runDestructors","retType","classParam"];var args2=[throwBindingError,cppInvokerFunc,cppTargetFunc,runDestructors,argTypes[0],argTypes[1]];if(isClassMethodFunc){invokerFnBody+="var thisWired = classParam.toWireType("+dtorStack+", this);\n"}for(var i=0;i<argCount-2;++i){invokerFnBody+="var arg"+i+"Wired = argType"+i+".toWireType("+dtorStack+", arg"+i+"); // "+argTypes[i+2].name+"\n";args1.push("argType"+i);args2.push(argTypes[i+2])}if(isClassMethodFunc){argsListWired="thisWired"+(argsListWired.length>0?", ":"")+argsListWired}invokerFnBody+=(returns?"var rv = ":"")+"invoker(fn"+(argsListWired.length>0?", ":"")+argsListWired+");\n";if(needsDestructorStack){invokerFnBody+="runDestructors(destructors);\n"}else{for(var i=isClassMethodFunc?1:2;i<argTypes.length;++i){var paramName=i===1?"thisWired":"arg"+(i-2)+"Wired";if(argTypes[i].destructorFunction!==null){invokerFnBody+=paramName+"_dtor("+paramName+"); // "+argTypes[i].name+"\n";args1.push(paramName+"_dtor");args2.push(argTypes[i].destructorFunction)}}}if(returns){invokerFnBody+="var ret = retType.fromWireType(rv);\n"+"return ret;\n"}else{}invokerFnBody+="}\n";args1.push(invokerFnBody);var invokerFunction=new_(Function,args1).apply(null,args2);return invokerFunction}function heap32VectorToArray(count,firstElement){var array=[];for(var i=0;i<count;i++){array.push(HEAP32[(firstElement>>2)+i])}return array}function __embind_register_class_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,fn){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.constructor;if(undefined===proto[methodName]){unboundTypesHandler.argCount=argCount-1;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-1]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));var func=craftInvokerFunction(humanName,invokerArgsArray,null,rawInvoker,fn);if(undefined===proto[methodName].overloadTable){func.argCount=argCount-1;proto[methodName]=func}else{proto[methodName].overloadTable[argCount-1]=func}return[]});return[]})}function __embind_register_class_constructor(rawClassType,argCount,rawArgTypesAddr,invokerSignature,invoker,rawConstructor){assert(argCount>0);var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);invoker=embind__requireFunction(invokerSignature,invoker);var args=[rawConstructor];var destructors=[];whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName="constructor "+classType.name;if(undefined===classType.registeredClass.constructor_body){classType.registeredClass.constructor_body=[]}if(undefined!==classType.registeredClass.constructor_body[argCount-1]){throw new BindingError("Cannot register multiple constructors with identical number of parameters ("+(argCount-1)+") for class '"+classType.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!")}classType.registeredClass.constructor_body[argCount-1]=function unboundTypeHandler(){throwUnboundTypeError("Cannot construct "+classType.name+" due to unbound types",rawArgTypes)};whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){classType.registeredClass.constructor_body[argCount-1]=function constructor_body(){if(arguments.length!==argCount-1){throwBindingError(humanName+" called with "+arguments.length+" arguments, expected "+(argCount-1))}destructors.length=0;args.length=argCount;for(var i=1;i<argCount;++i){args[i]=argTypes[i]["toWireType"](destructors,arguments[i-1])}var ptr=invoker.apply(null,args);runDestructors(destructors);return argTypes[0]["fromWireType"](ptr)};return[]});return[]})}function __embind_register_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,context,isPureVirtual){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;if(isPureVirtual){classType.registeredClass.pureVirtualFunctions.push(methodName)}function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.instancePrototype;var method=proto[methodName];if(undefined===method||undefined===method.overloadTable&&method.className!==classType.name&&method.argCount===argCount-2){unboundTypesHandler.argCount=argCount-2;unboundTypesHandler.className=classType.name;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-2]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var memberFunction=craftInvokerFunction(humanName,argTypes,classType,rawInvoker,context);if(undefined===proto[methodName].overloadTable){memberFunction.argCount=argCount-2;proto[methodName]=memberFunction}else{proto[methodName].overloadTable[argCount-2]=memberFunction}return[]});return[]})}function validateThis(this_,classType,humanName){if(!(this_ instanceof Object)){throwBindingError(humanName+' with invalid "this": '+this_)}if(!(this_ instanceof classType.registeredClass.constructor)){throwBindingError(humanName+' incompatible with "this" of type '+this_.constructor.name)}if(!this_.$$.ptr){throwBindingError("cannot call emscripten binding method "+humanName+" on deleted object")}return upcastPointer(this_.$$.ptr,this_.$$.ptrType.registeredClass,classType.registeredClass)}function __embind_register_class_property(classType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){fieldName=readLatin1String(fieldName);getter=embind__requireFunction(getterSignature,getter);whenDependentTypesAreResolved([],[classType],function(classType){classType=classType[0];var humanName=classType.name+"."+fieldName;var desc={get:function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])},enumerable:true,configurable:true};if(setter){desc.set=function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])}}else{desc.set=function(v){throwBindingError(humanName+" is a read-only property")}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);whenDependentTypesAreResolved([],setter?[getterReturnType,setterArgumentType]:[getterReturnType],function(types){var getterReturnType=types[0];var desc={get:function(){var ptr=validateThis(this,classType,humanName+" getter");return getterReturnType["fromWireType"](getter(getterContext,ptr))},enumerable:true};if(setter){setter=embind__requireFunction(setterSignature,setter);var setterArgumentType=types[1];desc.set=function(v){var ptr=validateThis(this,classType,humanName+" setter");var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,v));runDestructors(destructors)}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);return[]});return[]})}function __emval_decref(handle){if(handle>4&&0===--emval_handle_array[handle].refcount){emval_handle_array[handle]=undefined;emval_free_list.push(handle)}}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(handle){var rv=emval_handle_array[handle].value;__emval_decref(handle);return rv},"toWireType":function(destructors,value){return __emval_register(value)},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null})}function _embind_repr(v){if(v===null){return"null"}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString()}else{return""+v}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2])};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3])};default:throw new TypeError("Unknown float type: "+name)}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(value){return value},"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}return value},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null})}function __embind_register_function(name,argCount,rawArgTypesAddr,signature,rawInvoker,fn){var argTypes=heap32VectorToArray(argCount,rawArgTypesAddr);name=readLatin1String(name);rawInvoker=embind__requireFunction(signature,rawInvoker);exposePublicSymbol(name,function(){throwUnboundTypeError("Cannot call "+name+" due to unbound types",argTypes)},argCount-1);whenDependentTypesAreResolved([],argTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));replacePublicSymbol(name,craftInvokerFunction(name,invokerArgsArray,null,rawInvoker,fn),argCount-1);return[]})}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer]}:function readU8FromPointer(pointer){return HEAPU8[pointer]};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1]}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1]};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2]}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2]};default:throw new TypeError("Unknown integer type: "+name)}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295}var shift=getShiftFromSize(size);var fromWireType=function(value){return value};if(minRange===0){var bitshift=32-8*size;fromWireType=function(value){return value<<bitshift>>>bitshift}}var isUnsignedType=name.indexOf("unsigned")!=-1;registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}if(value<minRange||value>maxRange){throw new TypeError('Passing a number "'+_embind_repr(value)+'" from JS side to C/C++ side to an argument of type "'+name+'", which is outside the valid range ['+minRange+", "+maxRange+"]!")}return isUnsignedType?value>>>0:value|0},"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null})}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(buffer,data,size)}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true})}function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var str;if(stdStringIsUTF8){var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+1}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[value+4+i])}str=a.join("")}_free(value);return str},"toWireType":function(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value)}var getLength;var valueIsOfTypeString=typeof value==="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string")}if(stdStringIsUTF8&&valueIsOfTypeString){getLength=function(){return lengthBytesUTF8(value)}}else{getLength=function(){return value.length}}var length=getLength();var ptr=_malloc(4+length+1);HEAPU32[ptr>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr+4,length+1)}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits")}HEAPU8[ptr+4+i]=charCode}}else{for(var i=0;i<length;++i){HEAPU8[ptr+4+i]=value[i]}}}if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function(){return HEAPU16};shift=1}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function(){return HEAPU32};shift=2}registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+charSize}}_free(value);return str},"toWireType":function(destructors,value){if(!(typeof value==="string")){throwBindingError("Cannot pass non-string to C++ string type "+name)}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_value_object(rawType,name,constructorSignature,rawConstructor,destructorSignature,rawDestructor){structRegistrations[rawType]={name:readLatin1String(name),rawConstructor:embind__requireFunction(constructorSignature,rawConstructor),rawDestructor:embind__requireFunction(destructorSignature,rawDestructor),fields:[]}}function __embind_register_value_object_field(structType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){structRegistrations[structType].fields.push({fieldName:readLatin1String(fieldName),getterReturnType:getterReturnType,getter:embind__requireFunction(getterSignature,getter),getterContext:getterContext,setterArgumentType:setterArgumentType,setter:embind__requireFunction(setterSignature,setter),setterContext:setterContext})}function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function(){return undefined},"toWireType":function(destructors,o){return undefined}})}var emval_symbols={};function getStringOrSymbol(address){var symbol=emval_symbols[address];if(symbol===undefined){return readLatin1String(address)}else{return symbol}}var emval_methodCallers=[];function __emval_call_void_method(caller,handle,methodName,args){caller=emval_methodCallers[caller];handle=requireHandle(handle);methodName=getStringOrSymbol(methodName);caller(handle,methodName,null,args)}function __emval_addMethodCaller(caller){var id=emval_methodCallers.length;emval_methodCallers.push(caller);return id}function __emval_lookupTypes(argCount,argTypes){var a=new Array(argCount);for(var i=0;i<argCount;++i){a[i]=requireRegisteredType(HEAP32[(argTypes>>2)+i],"parameter "+i)}return a}function __emval_get_method_caller(argCount,argTypes){var types=__emval_lookupTypes(argCount,argTypes);var retType=types[0];var signatureName=retType.name+"_$"+types.slice(1).map(function(t){return t.name}).join("_")+"$";var params=["retType"];var args=[retType];var argsList="";for(var i=0;i<argCount-1;++i){argsList+=(i!==0?", ":"")+"arg"+i;params.push("argType"+i);args.push(types[1+i])}var functionName=makeLegalFunctionName("methodCaller_"+signatureName);var functionBody="return function "+functionName+"(handle, name, destructors, args) {\n";var offset=0;for(var i=0;i<argCount-1;++i){functionBody+="    var arg"+i+" = argType"+i+".readValueFromPointer(args"+(offset?"+"+offset:"")+");\n";offset+=types[i+1]["argPackAdvance"]}functionBody+="    var rv = handle[name]("+argsList+");\n";for(var i=0;i<argCount-1;++i){if(types[i+1]["deleteObject"]){functionBody+="    argType"+i+".deleteObject(arg"+i+");\n"}}if(!retType.isVoid){functionBody+="    return retType.toWireType(destructors, rv);\n"}functionBody+="};\n";params.push(functionBody);var invokerFunction=new_(Function,params).apply(null,args);return __emval_addMethodCaller(invokerFunction)}function __emval_incref(handle){if(handle>4){emval_handle_array[handle].refcount+=1}}function __emval_take_value(type,argv){type=requireRegisteredType(type,"_emval_take_value");var v=type["readValueFromPointer"](argv);return __emval_register(v)}function __exit(a0){return _exit(a0)}function _abort(){abort()}var _emscripten_get_now_is_monotonic=true;function _clock_gettime(clk_id,tp){var now;if(clk_id===0){now=Date.now()}else if((clk_id===1||clk_id===4)&&_emscripten_get_now_is_monotonic){now=_emscripten_get_now()}else{setErrNo(28);return-1}HEAP32[tp>>2]=now/1e3|0;HEAP32[tp+4>>2]=now%1e3*1e3*1e3|0;return 0}function _dlopen(filename,flag){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function _dlsym(handle,symbol){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function _emscripten_asm_const_int(code,sigPtr,argbuf){var args=readAsmConstArgs(sigPtr,argbuf);if(!ASM_CONSTS.hasOwnProperty(code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args)}function _emscripten_get_heap_max(){return 2147483648}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+buffer.byteLength+" bytes to "+size+" bytes, but got error: "+e)}}function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;assert(requestedSize>oldSize);var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false}function _emscripten_thread_sleep(msecs){var start=_emscripten_get_now();while(_emscripten_get_now()-start<msecs){}}function __webgl_enable_ANGLE_instanced_arrays(ctx){var ext=ctx.getExtension("ANGLE_instanced_arrays");if(ext){ctx["vertexAttribDivisor"]=function(index,divisor){ext["vertexAttribDivisorANGLE"](index,divisor)};ctx["drawArraysInstanced"]=function(mode,first,count,primcount){ext["drawArraysInstancedANGLE"](mode,first,count,primcount)};ctx["drawElementsInstanced"]=function(mode,count,type,indices,primcount){ext["drawElementsInstancedANGLE"](mode,count,type,indices,primcount)};return 1}}function __webgl_enable_OES_vertex_array_object(ctx){var ext=ctx.getExtension("OES_vertex_array_object");if(ext){ctx["createVertexArray"]=function(){return ext["createVertexArrayOES"]()};ctx["deleteVertexArray"]=function(vao){ext["deleteVertexArrayOES"](vao)};ctx["bindVertexArray"]=function(vao){ext["bindVertexArrayOES"](vao)};ctx["isVertexArray"]=function(vao){return ext["isVertexArrayOES"](vao)};return 1}}function __webgl_enable_WEBGL_draw_buffers(ctx){var ext=ctx.getExtension("WEBGL_draw_buffers");if(ext){ctx["drawBuffers"]=function(n,bufs){ext["drawBuffersWEBGL"](n,bufs)};return 1}}function __webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.dibvbi=ctx.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.mdibvbi=ctx.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw(ctx){return!!(ctx.multiDrawWebgl=ctx.getExtension("WEBGL_multi_draw"))}var GL={counter:1,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function recordError(errorCode){if(!GL.lastError){GL.lastError=errorCode}},getNewId:function(table){var ret=GL.counter++;for(var i=table.length;i<ret;i++){table[i]=null}return ret},MAX_TEMP_BUFFER_SIZE:2097152,numTempVertexBuffersPerSize:64,log2ceilLookup:function(i){return 32-Math.clz32(i===0?0:i-1)},generateTempBuffers:function(quads,context){var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);context.tempVertexBufferCounters1=[];context.tempVertexBufferCounters2=[];context.tempVertexBufferCounters1.length=context.tempVertexBufferCounters2.length=largestIndex+1;context.tempVertexBuffers1=[];context.tempVertexBuffers2=[];context.tempVertexBuffers1.length=context.tempVertexBuffers2.length=largestIndex+1;context.tempIndexBuffers=[];context.tempIndexBuffers.length=largestIndex+1;for(var i=0;i<=largestIndex;++i){context.tempIndexBuffers[i]=null;context.tempVertexBufferCounters1[i]=context.tempVertexBufferCounters2[i]=0;var ringbufferLength=GL.numTempVertexBuffersPerSize;context.tempVertexBuffers1[i]=[];context.tempVertexBuffers2[i]=[];var ringbuffer1=context.tempVertexBuffers1[i];var ringbuffer2=context.tempVertexBuffers2[i];ringbuffer1.length=ringbuffer2.length=ringbufferLength;for(var j=0;j<ringbufferLength;++j){ringbuffer1[j]=ringbuffer2[j]=null}}if(quads){context.tempQuadIndexBuffer=GLctx.createBuffer();context.GLctx.bindBuffer(34963,context.tempQuadIndexBuffer);var numIndexes=GL.MAX_TEMP_BUFFER_SIZE>>1;var quadIndexes=new Uint16Array(numIndexes);var i=0,v=0;while(1){quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+1;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v+3;if(i>=numIndexes)break;v+=4}context.GLctx.bufferData(34963,quadIndexes,35044);context.GLctx.bindBuffer(34963,null)}},getTempVertexBuffer:function getTempVertexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ringbuffer=GL.currentContext.tempVertexBuffers1[idx];var nextFreeBufferIndex=GL.currentContext.tempVertexBufferCounters1[idx];GL.currentContext.tempVertexBufferCounters1[idx]=GL.currentContext.tempVertexBufferCounters1[idx]+1&GL.numTempVertexBuffersPerSize-1;var vbo=ringbuffer[nextFreeBufferIndex];if(vbo){return vbo}var prevVBO=GLctx.getParameter(34964);ringbuffer[nextFreeBufferIndex]=GLctx.createBuffer();GLctx.bindBuffer(34962,ringbuffer[nextFreeBufferIndex]);GLctx.bufferData(34962,1<<idx,35048);GLctx.bindBuffer(34962,prevVBO);return ringbuffer[nextFreeBufferIndex]},getTempIndexBuffer:function getTempIndexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ibo=GL.currentContext.tempIndexBuffers[idx];if(ibo){return ibo}var prevIBO=GLctx.getParameter(34965);GL.currentContext.tempIndexBuffers[idx]=GLctx.createBuffer();GLctx.bindBuffer(34963,GL.currentContext.tempIndexBuffers[idx]);GLctx.bufferData(34963,1<<idx,35048);GLctx.bindBuffer(34963,prevIBO);return GL.currentContext.tempIndexBuffers[idx]},newRenderingFrameStarted:function newRenderingFrameStarted(){if(!GL.currentContext){return}var vb=GL.currentContext.tempVertexBuffers1;GL.currentContext.tempVertexBuffers1=GL.currentContext.tempVertexBuffers2;GL.currentContext.tempVertexBuffers2=vb;vb=GL.currentContext.tempVertexBufferCounters1;GL.currentContext.tempVertexBufferCounters1=GL.currentContext.tempVertexBufferCounters2;GL.currentContext.tempVertexBufferCounters2=vb;var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);for(var i=0;i<=largestIndex;++i){GL.currentContext.tempVertexBufferCounters1[i]=0}},getSource:function(shader,count,string,length){var source="";for(var i=0;i<count;++i){var len=length?HEAP32[length+i*4>>2]:-1;source+=UTF8ToString(HEAP32[string+i*4>>2],len<0?undefined:len)}return source},calcBufLength:function calcBufLength(size,type,stride,count){if(stride>0){return count*stride}var typeSize=GL.byteSizeByType[type-GL.byteSizeByTypeRoot];return size*typeSize*count},usedTempBuffers:[],preDrawHandleClientVertexAttribBindings:function preDrawHandleClientVertexAttribBindings(count){GL.resetBufferBinding=false;for(var i=0;i<GL.currentContext.maxVertexAttribs;++i){var cb=GL.currentContext.clientBuffers[i];if(!cb.clientside||!cb.enabled)continue;GL.resetBufferBinding=true;var size=GL.calcBufLength(cb.size,cb.type,cb.stride,count);var buf=GL.getTempVertexBuffer(size);GLctx.bindBuffer(34962,buf);GLctx.bufferSubData(34962,0,HEAPU8.subarray(cb.ptr,cb.ptr+size));cb.vertexAttribPointerAdaptor.call(GLctx,i,cb.size,cb.type,cb.normalized,cb.stride,0)}},postDrawHandleClientVertexAttribBindings:function postDrawHandleClientVertexAttribBindings(){if(GL.resetBufferBinding){GLctx.bindBuffer(34962,GL.buffers[GLctx.currentArrayBufferBinding])}},createContext:function(canvas,webGLContextAttributes){if(!canvas.getContextSafariWebGL2Fixed){canvas.getContextSafariWebGL2Fixed=canvas.getContext;canvas.getContext=function(ver,attrs){var gl=canvas.getContextSafariWebGL2Fixed(ver,attrs);return ver=="webgl"==gl instanceof WebGLRenderingContext?gl:null}}var ctx=webGLContextAttributes.majorVersion>1?canvas.getContext("webgl2",webGLContextAttributes):canvas.getContext("webgl",webGLContextAttributes);if(!ctx)return 0;var handle=GL.registerContext(ctx,webGLContextAttributes);return handle},registerContext:function(ctx,webGLContextAttributes){var handle=GL.getNewId(GL.contexts);var context={handle:handle,attributes:webGLContextAttributes,version:webGLContextAttributes.majorVersion,GLctx:ctx};if(ctx.canvas)ctx.canvas.GLctxObject=context;GL.contexts[handle]=context;if(typeof webGLContextAttributes.enableExtensionsByDefault==="undefined"||webGLContextAttributes.enableExtensionsByDefault){GL.initExtensions(context)}context.maxVertexAttribs=context.GLctx.getParameter(34921);context.clientBuffers=[];for(var i=0;i<context.maxVertexAttribs;i++){context.clientBuffers[i]={enabled:false,clientside:false,size:0,type:0,normalized:0,stride:0,ptr:0,vertexAttribPointerAdaptor:null}}GL.generateTempBuffers(false,context);return handle},makeContextCurrent:function(contextHandle){GL.currentContext=GL.contexts[contextHandle];Module.ctx=GLctx=GL.currentContext&&GL.currentContext.GLctx;return!(contextHandle&&!GLctx)},getContext:function(contextHandle){return GL.contexts[contextHandle]},deleteContext:function(contextHandle){if(GL.currentContext===GL.contexts[contextHandle])GL.currentContext=null;if(typeof JSEvents==="object")JSEvents.removeAllHandlersOnTarget(GL.contexts[contextHandle].GLctx.canvas);if(GL.contexts[contextHandle]&&GL.contexts[contextHandle].GLctx.canvas)GL.contexts[contextHandle].GLctx.canvas.GLctxObject=undefined;GL.contexts[contextHandle]=null},initExtensions:function(context){if(!context)context=GL.currentContext;if(context.initExtensionsDone)return;context.initExtensionsDone=true;var GLctx=context.GLctx;__webgl_enable_ANGLE_instanced_arrays(GLctx);__webgl_enable_OES_vertex_array_object(GLctx);__webgl_enable_WEBGL_draw_buffers(GLctx);__webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(GLctx);__webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(GLctx);GLctx.disjointTimerQueryExt=GLctx.getExtension("EXT_disjoint_timer_query");__webgl_enable_WEBGL_multi_draw(GLctx);var exts=GLctx.getSupportedExtensions()||[];exts.forEach(function(ext){if(ext.indexOf("lose_context")<0&&ext.indexOf("debug")<0){GLctx.getExtension(ext)}})},populateUniformTable:function(program){var p=GL.programs[program];var ptable=GL.programInfos[program]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var utable=ptable.uniforms;var numUniforms=GLctx.getProgramParameter(p,35718);for(var i=0;i<numUniforms;++i){var u=GLctx.getActiveUniform(p,i);var name=u.name;ptable.maxUniformLength=Math.max(ptable.maxUniformLength,name.length+1);if(name.slice(-1)=="]"){name=name.slice(0,name.lastIndexOf("["))}var loc=GLctx.getUniformLocation(p,name);if(loc){var id=GL.getNewId(GL.uniforms);utable[name]=[u.size,id];GL.uniforms[id]=loc;for(var j=1;j<u.size;++j){var n=name+"["+j+"]";loc=GLctx.getUniformLocation(p,n);id=GL.getNewId(GL.uniforms);GL.uniforms[id]=loc}}}}};var JSEvents={inEventHandler:0,removeAllEventListeners:function(){for(var i=JSEvents.eventHandlers.length-1;i>=0;--i){JSEvents._removeHandler(i)}JSEvents.eventHandlers=[];JSEvents.deferredCalls=[]},registerRemoveEventListeners:function(){if(!JSEvents.removeEventListenersRegistered){__ATEXIT__.push(JSEvents.removeAllEventListeners);JSEvents.removeEventListenersRegistered=true}},deferredCalls:[],deferCall:function(targetFunction,precedence,argsList){function arraysHaveEqualContent(arrA,arrB){if(arrA.length!=arrB.length)return false;for(var i in arrA){if(arrA[i]!=arrB[i])return false}return true}for(var i in JSEvents.deferredCalls){var call=JSEvents.deferredCalls[i];if(call.targetFunction==targetFunction&&arraysHaveEqualContent(call.argsList,argsList)){return}}JSEvents.deferredCalls.push({targetFunction:targetFunction,precedence:precedence,argsList:argsList});JSEvents.deferredCalls.sort(function(x,y){return x.precedence<y.precedence})},removeDeferredCalls:function(targetFunction){for(var i=0;i<JSEvents.deferredCalls.length;++i){if(JSEvents.deferredCalls[i].targetFunction==targetFunction){JSEvents.deferredCalls.splice(i,1);--i}}},canPerformEventHandlerRequests:function(){return JSEvents.inEventHandler&&JSEvents.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!JSEvents.canPerformEventHandlerRequests()){return}for(var i=0;i<JSEvents.deferredCalls.length;++i){var call=JSEvents.deferredCalls[i];JSEvents.deferredCalls.splice(i,1);--i;call.targetFunction.apply(null,call.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(target,eventTypeString){for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==target&&(!eventTypeString||eventTypeString==JSEvents.eventHandlers[i].eventTypeString)){JSEvents._removeHandler(i--)}}},_removeHandler:function(i){var h=JSEvents.eventHandlers[i];h.target.removeEventListener(h.eventTypeString,h.eventListenerFunc,h.useCapture);JSEvents.eventHandlers.splice(i,1)},registerOrRemoveHandler:function(eventHandler){var jsEventHandler=function jsEventHandler(event){++JSEvents.inEventHandler;JSEvents.currentEventHandler=eventHandler;JSEvents.runDeferredCalls();eventHandler.handlerFunc(event);JSEvents.runDeferredCalls();--JSEvents.inEventHandler};if(eventHandler.callbackfunc){eventHandler.eventListenerFunc=jsEventHandler;eventHandler.target.addEventListener(eventHandler.eventTypeString,jsEventHandler,eventHandler.useCapture);JSEvents.eventHandlers.push(eventHandler);JSEvents.registerRemoveEventListeners()}else{for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==eventHandler.target&&JSEvents.eventHandlers[i].eventTypeString==eventHandler.eventTypeString){JSEvents._removeHandler(i--)}}}},getNodeNameForTarget:function(target){if(!target)return"";if(target==window)return"#window";if(target==screen)return"#screen";return target&&target.nodeName?target.nodeName:""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var __emscripten_webgl_power_preferences=["default","low-power","high-performance"];var specialHTMLTargets=[0,typeof document!=="undefined"?document:0,typeof window!=="undefined"?window:0];function findEventTarget(target){warnOnce("Rules for selecting event targets in HTML5 API are changing: instead of using document.getElementById() that only can refer to elements by their DOM ID, new event target selection mechanism uses the more flexible function document.querySelector() that can look up element names, classes, and complex CSS selectors. Build with -s DISABLE_DEPRECATED_FIND_EVENT_TARGET_BEHAVIOR=1 to change to the new lookup rules. See https://github.com/emscripten-core/emscripten/pull/7977 for more details.");try{if(!target)return window;if(typeof target==="number")target=specialHTMLTargets[target]||UTF8ToString(target);if(target==="#window")return window;else if(target==="#document")return document;else if(target==="#screen")return screen;else if(target==="#canvas")return Module["canvas"];return typeof target==="string"?document.getElementById(target):target}catch(e){return null}}function findCanvasEventTarget(target){if(typeof target==="number")target=UTF8ToString(target);if(!target||target==="#canvas"){if(typeof GL!=="undefined"&&GL.offscreenCanvases["canvas"])return GL.offscreenCanvases["canvas"];return Module["canvas"]}if(typeof GL!=="undefined"&&GL.offscreenCanvases[target])return GL.offscreenCanvases[target];return findEventTarget(target)}function _emscripten_webgl_do_create_context(target,attributes){assert(attributes);var a=attributes>>2;var powerPreference=HEAP32[a+(24>>2)];var contextAttributes={"alpha":!!HEAP32[a+(0>>2)],"depth":!!HEAP32[a+(4>>2)],"stencil":!!HEAP32[a+(8>>2)],"antialias":!!HEAP32[a+(12>>2)],"premultipliedAlpha":!!HEAP32[a+(16>>2)],"preserveDrawingBuffer":!!HEAP32[a+(20>>2)],"powerPreference":__emscripten_webgl_power_preferences[powerPreference],"failIfMajorPerformanceCaveat":!!HEAP32[a+(28>>2)],majorVersion:HEAP32[a+(32>>2)],minorVersion:HEAP32[a+(36>>2)],enableExtensionsByDefault:HEAP32[a+(40>>2)],explicitSwapControl:HEAP32[a+(44>>2)],proxyContextToMainThread:HEAP32[a+(48>>2)],renderViaOffscreenBackBuffer:HEAP32[a+(52>>2)]};var canvas=findCanvasEventTarget(target);if(!canvas){return 0}if(contextAttributes.explicitSwapControl){return 0}var contextHandle=GL.createContext(canvas,contextAttributes);return contextHandle}function _emscripten_webgl_create_context(a0,a1){return _emscripten_webgl_do_create_context(a0,a1)}function _emscripten_webgl_do_get_current_context(){return GL.currentContext?GL.currentContext.handle:0}function _emscripten_webgl_get_current_context(){return _emscripten_webgl_do_get_current_context()}Module["_emscripten_webgl_get_current_context"]=_emscripten_webgl_get_current_context;function _emscripten_webgl_make_context_current(contextHandle){var success=GL.makeContextCurrent(contextHandle);return success?0:-5}Module["_emscripten_webgl_make_context_current"]=_emscripten_webgl_make_context_current;function _emscripten_webgl_destroy_context(contextHandle){if(GL.currentContext==contextHandle)GL.currentContext=0;GL.deleteContext(contextHandle)}function _emscripten_webgl_get_context_attributes(c,a){if(!a)return-5;c=GL.contexts[c];if(!c)return-3;var t=c.GLctx;if(!t)return-3;t=t.getContextAttributes();HEAP32[a>>2]=t.alpha;HEAP32[a+4>>2]=t.depth;HEAP32[a+8>>2]=t.stencil;HEAP32[a+12>>2]=t.antialias;HEAP32[a+16>>2]=t.premultipliedAlpha;HEAP32[a+20>>2]=t.preserveDrawingBuffer;var power=t["powerPreference"]&&__emscripten_webgl_power_preferences.indexOf(t["powerPreference"]);HEAP32[a+24>>2]=power;HEAP32[a+28>>2]=t.failIfMajorPerformanceCaveat;HEAP32[a+32>>2]=c.version;HEAP32[a+36>>2]=0;HEAP32[a+40>>2]=c.attributes.enableExtensionsByDefault;return 0}function _emscripten_webgl_init_context_attributes(attributes){assert(attributes);var a=attributes>>2;for(var i=0;i<56>>2;++i){HEAP32[a+i]=0}HEAP32[a+(0>>2)]=HEAP32[a+(4>>2)]=HEAP32[a+(12>>2)]=HEAP32[a+(16>>2)]=HEAP32[a+(32>>2)]=HEAP32[a+(40>>2)]=1}var ENV={};function getExecutableName(){return thisProgram||"./this.program"}function getEnvStrings(){if(!getEnvStrings.strings){var lang=(typeof navigator==="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var env={"USER":"web_user","LOGNAME":"web_user","PATH":"/","PWD":"/","HOME":"/home/web_user","LANG":lang,"_":getExecutableName()};for(var x in ENV){env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(x+"="+env[x])}getEnvStrings.strings=strings}return getEnvStrings.strings}function _environ_get(__environ,environ_buf){try{var bufSize=0;getEnvStrings().forEach(function(string,i){var ptr=environ_buf+bufSize;HEAP32[__environ+i*4>>2]=ptr;writeAsciiToMemory(string,ptr);bufSize+=string.length+1});return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _environ_sizes_get(penviron_count,penviron_buf_size){try{var strings=getEnvStrings();HEAP32[penviron_count>>2]=strings.length;var bufSize=0;strings.forEach(function(string){bufSize+=string.length+1});HEAP32[penviron_buf_size>>2]=bufSize;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_fdstat_get(fd,pbuf){try{var stream=SYSCALLS.getStreamFromFD(fd);var type=stream.tty?2:FS.isDir(stream.mode)?3:FS.isLink(stream.mode)?7:4;HEAP8[pbuf>>0]=type;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_read(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doReadv(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){try{var stream=SYSCALLS.getStreamFromFD(fd);var HIGH_OFFSET=4294967296;var offset=offset_high*HIGH_OFFSET+(offset_low>>>0);var DOUBLE_LIMIT=9007199254740992;if(offset<=-DOUBLE_LIMIT||offset>=DOUBLE_LIMIT){return-61}FS.llseek(stream,offset,whence);tempI64=[stream.position>>>0,(tempDouble=stream.position,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[newOffset>>2]=tempI64[0],HEAP32[newOffset+4>>2]=tempI64[1];if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_write(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doWritev(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _getTempRet0(){return getTempRet0()|0}function _gettimeofday(ptr){var now=Date.now();HEAP32[ptr>>2]=now/1e3|0;HEAP32[ptr+4>>2]=now%1e3*1e3|0;return 0}function _glActiveTexture(x0){GLctx["activeTexture"](x0)}function _glAttachShader(program,shader){GLctx.attachShader(GL.programs[program],GL.shaders[shader])}function _glBindAttribLocation(program,index,name){GLctx.bindAttribLocation(GL.programs[program],index,UTF8ToString(name))}function _glBindBuffer(target,buffer){if(target==34962){GLctx.currentArrayBufferBinding=buffer}else if(target==34963){GLctx.currentElementArrayBufferBinding=buffer}if(target==35051){GLctx.currentPixelPackBufferBinding=buffer}else if(target==35052){GLctx.currentPixelUnpackBufferBinding=buffer}GLctx.bindBuffer(target,GL.buffers[buffer])}function _glBindFramebuffer(target,framebuffer){GLctx.bindFramebuffer(target,GL.framebuffers[framebuffer])}function _glBindTexture(target,texture){GLctx.bindTexture(target,GL.textures[texture])}function _glBindVertexArray(vao){GLctx["bindVertexArray"](GL.vaos[vao]);var ibo=GLctx.getParameter(34965);GLctx.currentElementArrayBufferBinding=ibo?ibo.name|0:0}function _glBufferData(target,size,data,usage){if(GL.currentContext.version>=2){if(data){GLctx.bufferData(target,HEAPU8,usage,data,size)}else{GLctx.bufferData(target,size,usage)}}else{GLctx.bufferData(target,data?HEAPU8.subarray(data,data+size):size,usage)}}function convertI32PairToI53(lo,hi){assert(hi===(hi|0));return(lo>>>0)+hi*4294967296}function _glClientWaitSync(sync,flags,timeoutLo,timeoutHi){return GLctx.clientWaitSync(GL.syncs[sync],flags,convertI32PairToI53(timeoutLo,timeoutHi))}function _glCompileShader(shader){GLctx.compileShader(GL.shaders[shader])}function _glCreateProgram(){var id=GL.getNewId(GL.programs);var program=GLctx.createProgram();program.name=id;GL.programs[id]=program;return id}function _glCreateShader(shaderType){var id=GL.getNewId(GL.shaders);GL.shaders[id]=GLctx.createShader(shaderType);return id}function _glDeleteBuffers(n,buffers){for(var i=0;i<n;i++){var id=HEAP32[buffers+i*4>>2];var buffer=GL.buffers[id];if(!buffer)continue;GLctx.deleteBuffer(buffer);buffer.name=0;GL.buffers[id]=null;if(id==GLctx.currentArrayBufferBinding)GLctx.currentArrayBufferBinding=0;if(id==GLctx.currentElementArrayBufferBinding)GLctx.currentElementArrayBufferBinding=0;if(id==GLctx.currentPixelPackBufferBinding)GLctx.currentPixelPackBufferBinding=0;if(id==GLctx.currentPixelUnpackBufferBinding)GLctx.currentPixelUnpackBufferBinding=0}}function _glDeleteFramebuffers(n,framebuffers){for(var i=0;i<n;++i){var id=HEAP32[framebuffers+i*4>>2];var framebuffer=GL.framebuffers[id];if(!framebuffer)continue;GLctx.deleteFramebuffer(framebuffer);framebuffer.name=0;GL.framebuffers[id]=null}}function _glDeleteProgram(id){if(!id)return;var program=GL.programs[id];if(!program){GL.recordError(1281);return}GLctx.deleteProgram(program);program.name=0;GL.programs[id]=null;GL.programInfos[id]=null}function _glDeleteShader(id){if(!id)return;var shader=GL.shaders[id];if(!shader){GL.recordError(1281);return}GLctx.deleteShader(shader);GL.shaders[id]=null}function _glDeleteSync(id){if(!id)return;var sync=GL.syncs[id];if(!sync){GL.recordError(1281);return}GLctx.deleteSync(sync);sync.name=0;GL.syncs[id]=null}function _glDeleteTextures(n,textures){for(var i=0;i<n;i++){var id=HEAP32[textures+i*4>>2];var texture=GL.textures[id];if(!texture)continue;GLctx.deleteTexture(texture);texture.name=0;GL.textures[id]=null}}function _glDeleteVertexArrays(n,vaos){for(var i=0;i<n;i++){var id=HEAP32[vaos+i*4>>2];GLctx["deleteVertexArray"](GL.vaos[id]);GL.vaos[id]=null}}function _glDisable(x0){GLctx["disable"](x0)}function _glDisableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=false;GLctx.disableVertexAttribArray(index)}function _glDrawArrays(mode,first,count){GL.preDrawHandleClientVertexAttribBindings(first+count);GLctx.drawArrays(mode,first,count);GL.postDrawHandleClientVertexAttribBindings()}var tempFixedLengthArray=[];function _glDrawBuffers(n,bufs){var bufArray=tempFixedLengthArray[n];for(var i=0;i<n;i++){bufArray[i]=HEAP32[bufs+i*4>>2]}GLctx["drawBuffers"](bufArray)}function _glEnableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=true;GLctx.enableVertexAttribArray(index)}function _glFenceSync(condition,flags){var sync=GLctx.fenceSync(condition,flags);if(sync){var id=GL.getNewId(GL.syncs);sync.name=id;GL.syncs[id]=sync;return id}else{return 0}}function _glFinish(){GLctx["finish"]()}function _glFlush(){GLctx["flush"]()}function _glFramebufferTexture2D(target,attachment,textarget,texture,level){GLctx.framebufferTexture2D(target,attachment,textarget,GL.textures[texture],level)}function _glFramebufferTextureLayer(target,attachment,texture,level,layer){GLctx.framebufferTextureLayer(target,attachment,GL.textures[texture],level,layer)}function __glGenObject(n,buffers,createFunction,objectTable){for(var i=0;i<n;i++){var buffer=GLctx[createFunction]();var id=buffer&&GL.getNewId(objectTable);if(buffer){buffer.name=id;objectTable[id]=buffer}else{GL.recordError(1282)}HEAP32[buffers+i*4>>2]=id}}function _glGenBuffers(n,buffers){__glGenObject(n,buffers,"createBuffer",GL.buffers)}function _glGenFramebuffers(n,ids){__glGenObject(n,ids,"createFramebuffer",GL.framebuffers)}function _glGenTextures(n,textures){__glGenObject(n,textures,"createTexture",GL.textures)}function _glGenVertexArrays(n,arrays){__glGenObject(n,arrays,"createVertexArray",GL.vaos)}function _glGetAttribLocation(program,name){return GLctx.getAttribLocation(GL.programs[program],UTF8ToString(name))}function _glGetError(){var error=GLctx.getError()||GL.lastError;GL.lastError=0;return error}function readI53FromI64(ptr){return HEAPU32[ptr>>2]+HEAP32[ptr+4>>2]*4294967296}function readI53FromU64(ptr){return HEAPU32[ptr>>2]+HEAPU32[ptr+4>>2]*4294967296}function writeI53ToI64(ptr,num){HEAPU32[ptr>>2]=num;HEAPU32[ptr+4>>2]=(num-HEAPU32[ptr>>2])/4294967296;var deserialized=num>=0?readI53FromU64(ptr):readI53FromI64(ptr);if(deserialized!=num)warnOnce("writeI53ToI64() out of range: serialized JS Number "+num+" to Wasm heap as bytes lo=0x"+HEAPU32[ptr>>2].toString(16)+", hi=0x"+HEAPU32[ptr+4>>2].toString(16)+", which deserializes back to "+deserialized+" instead!")}function emscriptenWebGLGet(name_,p,type){if(!p){GL.recordError(1281);return}var ret=undefined;switch(name_){case 36346:ret=1;break;case 36344:if(type!=0&&type!=1){GL.recordError(1280)}return;case 34814:case 36345:ret=0;break;case 34466:var formats=GLctx.getParameter(34467);ret=formats?formats.length:0;break;case 33309:if(GL.currentContext.version<2){GL.recordError(1282);return}var exts=GLctx.getSupportedExtensions()||[];ret=2*exts.length;break;case 33307:case 33308:if(GL.currentContext.version<2){GL.recordError(1280);return}ret=name_==33307?3:0;break}if(ret===undefined){var result=GLctx.getParameter(name_);switch(typeof result){case"number":ret=result;break;case"boolean":ret=result?1:0;break;case"string":GL.recordError(1280);return;case"object":if(result===null){switch(name_){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:{ret=0;break}default:{GL.recordError(1280);return}}}else if(result instanceof Float32Array||result instanceof Uint32Array||result instanceof Int32Array||result instanceof Array){for(var i=0;i<result.length;++i){switch(type){case 0:HEAP32[p+i*4>>2]=result[i];break;case 2:HEAPF32[p+i*4>>2]=result[i];break;case 4:HEAP8[p+i>>0]=result[i]?1:0;break}}return}else{try{ret=result.name|0}catch(e){GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Unknown object returned from WebGL getParameter("+name_+")! (error: "+e+")");return}}break;default:GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Native code calling glGet"+type+"v("+name_+") and it returns "+result+" of type "+typeof result+"!");return}}switch(type){case 1:writeI53ToI64(p,ret);break;case 0:HEAP32[p>>2]=ret;break;case 2:HEAPF32[p>>2]=ret;break;case 4:HEAP8[p>>0]=ret?1:0;break}}function _glGetIntegerv(name_,p){emscriptenWebGLGet(name_,p,0)}function _glGetProgramInfoLog(program,maxLength,length,infoLog){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetProgramiv(program,pname,p){if(!p){GL.recordError(1281);return}if(program>=GL.counter){GL.recordError(1281);return}var ptable=GL.programInfos[program];if(!ptable){GL.recordError(1282);return}if(pname==35716){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";HEAP32[p>>2]=log.length+1}else if(pname==35719){HEAP32[p>>2]=ptable.maxUniformLength}else if(pname==35722){if(ptable.maxAttributeLength==-1){program=GL.programs[program];var numAttribs=GLctx.getProgramParameter(program,35721);ptable.maxAttributeLength=0;for(var i=0;i<numAttribs;++i){var activeAttrib=GLctx.getActiveAttrib(program,i);ptable.maxAttributeLength=Math.max(ptable.maxAttributeLength,activeAttrib.name.length+1)}}HEAP32[p>>2]=ptable.maxAttributeLength}else if(pname==35381){if(ptable.maxUniformBlockNameLength==-1){program=GL.programs[program];var numBlocks=GLctx.getProgramParameter(program,35382);ptable.maxUniformBlockNameLength=0;for(var i=0;i<numBlocks;++i){var activeBlockName=GLctx.getActiveUniformBlockName(program,i);ptable.maxUniformBlockNameLength=Math.max(ptable.maxUniformBlockNameLength,activeBlockName.length+1)}}HEAP32[p>>2]=ptable.maxUniformBlockNameLength}else{HEAP32[p>>2]=GLctx.getProgramParameter(GL.programs[program],pname)}}function _glGetShaderInfoLog(shader,maxLength,length,infoLog){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetShaderiv(shader,pname,p){if(!p){GL.recordError(1281);return}if(pname==35716){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var logLength=log?log.length+1:0;HEAP32[p>>2]=logLength}else if(pname==35720){var source=GLctx.getShaderSource(GL.shaders[shader]);var sourceLength=source?source.length+1:0;HEAP32[p>>2]=sourceLength}else{HEAP32[p>>2]=GLctx.getShaderParameter(GL.shaders[shader],pname)}}function stringToNewUTF8(jsString){var length=lengthBytesUTF8(jsString)+1;var cString=_malloc(length);stringToUTF8(jsString,cString,length);return cString}function _glGetString(name_){if(GL.stringCache[name_])return GL.stringCache[name_];var ret;switch(name_){case 7939:var exts=GLctx.getSupportedExtensions()||[];exts=exts.concat(exts.map(function(e){return"GL_"+e}));ret=stringToNewUTF8(exts.join(" "));break;case 7936:case 7937:case 37445:case 37446:var s=GLctx.getParameter(name_);if(!s){GL.recordError(1280)}ret=stringToNewUTF8(s);break;case 7938:var glVersion=GLctx.getParameter(7938);if(GL.currentContext.version>=2)glVersion="OpenGL ES 3.0 ("+glVersion+")";else{glVersion="OpenGL ES 2.0 ("+glVersion+")"}ret=stringToNewUTF8(glVersion);break;case 35724:var glslVersion=GLctx.getParameter(35724);var ver_re=/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/;var ver_num=glslVersion.match(ver_re);if(ver_num!==null){if(ver_num[1].length==3)ver_num[1]=ver_num[1]+"0";glslVersion="OpenGL ES GLSL ES "+ver_num[1]+" ("+glslVersion+")"}ret=stringToNewUTF8(glslVersion);break;default:GL.recordError(1280);return 0}GL.stringCache[name_]=ret;return ret}function jstoi_q(str){return parseInt(str)}function _glGetUniformLocation(program,name){name=UTF8ToString(name);var arrayIndex=0;if(name[name.length-1]=="]"){var leftBrace=name.lastIndexOf("[");arrayIndex=name[leftBrace+1]!="]"?jstoi_q(name.slice(leftBrace+1)):0;name=name.slice(0,leftBrace)}var uniformInfo=GL.programInfos[program]&&GL.programInfos[program].uniforms[name];if(uniformInfo&&arrayIndex>=0&&arrayIndex<uniformInfo[0]){return uniformInfo[1]+arrayIndex}else{return-1}}function _glLinkProgram(program){GLctx.linkProgram(GL.programs[program]);GL.populateUniformTable(program)}function _glPixelStorei(pname,param){if(pname==3317){GL.unpackAlignment=param}GLctx.pixelStorei(pname,param)}function computeUnpackAlignedImageSize(width,height,sizePerPixel,alignment){function roundedToNextMultipleOf(x,y){return x+y-1&-y}var plainRowSize=width*sizePerPixel;var alignedRowSize=roundedToNextMultipleOf(plainRowSize,alignment);return height*alignedRowSize}function __colorChannelsInGlTextureFormat(format){var colorChannels={5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4};return colorChannels[format-6402]||1}function heapObjectForWebGLType(type){type-=5120;if(type==0)return HEAP8;if(type==1)return HEAPU8;if(type==2)return HEAP16;if(type==4)return HEAP32;if(type==6)return HEAPF32;if(type==5||type==28922||type==28520||type==30779||type==30782)return HEAPU32;return HEAPU16}function heapAccessShiftForWebGLHeap(heap){return 31-Math.clz32(heap.BYTES_PER_ELEMENT)}function emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat){var heap=heapObjectForWebGLType(type);var shift=heapAccessShiftForWebGLHeap(heap);var byteSize=1<<shift;var sizePerPixel=__colorChannelsInGlTextureFormat(format)*byteSize;var bytes=computeUnpackAlignedImageSize(width,height,sizePerPixel,GL.unpackAlignment);return heap.subarray(pixels>>shift,pixels+bytes>>shift)}function _glReadPixels(x,y,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelPackBufferBinding){GLctx.readPixels(x,y,width,height,format,type,pixels)}else{var heap=heapObjectForWebGLType(type);GLctx.readPixels(x,y,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}return}var pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,format);if(!pixelData){GL.recordError(1280);return}GLctx.readPixels(x,y,width,height,format,type,pixelData)}function _glShaderSource(shader,count,string,length){var source=GL.getSource(shader,count,string,length);GLctx.shaderSource(GL.shaders[shader],source)}function _glTexImage2D(target,level,internalFormat,width,height,border,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,null)}return}GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat):null)}function _glTexParameterfv(target,pname,params){var param=HEAPF32[params>>2];GLctx.texParameterf(target,pname,param)}function _glTexParameteri(x0,x1,x2){GLctx["texParameteri"](x0,x1,x2)}function _glTexStorage2D(x0,x1,x2,x3,x4){GLctx["texStorage2D"](x0,x1,x2,x3,x4)}function _glTexStorage3D(x0,x1,x2,x3,x4,x5){GLctx["texStorage3D"](x0,x1,x2,x3,x4,x5)}function _glTexSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,null)}return}var pixelData=null;if(pixels)pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,0);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixelData)}function _glTexSubImage3D(target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels){if(GLctx.currentPixelUnpackBufferBinding){GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,null)}}function _glUniform1f(location,v0){GLctx.uniform1f(GL.uniforms[location],v0)}function _glUniform1i(location,v0){GLctx.uniform1i(GL.uniforms[location],v0)}var miniTempWebGLFloatBuffers=[];function _glUniform2fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2fv(GL.uniforms[location],HEAPF32,value>>2,count*2);return}if(count<=144){var view=miniTempWebGLFloatBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2fv(GL.uniforms[location],view)}function _glUniform4fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4fv(GL.uniforms[location],HEAPF32,value>>2,count*4);return}if(count<=72){var view=miniTempWebGLFloatBuffers[4*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<4*count;i+=4){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4fv(GL.uniforms[location],view)}var __miniTempWebGLIntBuffers=[];function _glUniform4iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4iv(GL.uniforms[location],HEAP32,value>>2,count*4);return}if(count<=72){var view=__miniTempWebGLIntBuffers[4*count-1];for(var i=0;i<4*count;i+=4){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2];view[i+2]=HEAP32[value+(4*i+8)>>2];view[i+3]=HEAP32[value+(4*i+12)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4iv(GL.uniforms[location],view)}function _glUniformMatrix4fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*16);return}if(count<=18){var view=miniTempWebGLFloatBuffers[16*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<16*count;i+=16){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3];view[i+4]=heap[dst+4];view[i+5]=heap[dst+5];view[i+6]=heap[dst+6];view[i+7]=heap[dst+7];view[i+8]=heap[dst+8];view[i+9]=heap[dst+9];view[i+10]=heap[dst+10];view[i+11]=heap[dst+11];view[i+12]=heap[dst+12];view[i+13]=heap[dst+13];view[i+14]=heap[dst+14];view[i+15]=heap[dst+15]}}else{var view=HEAPF32.subarray(value>>2,value+count*64>>2)}GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,view)}function _glUseProgram(program){GLctx.useProgram(GL.programs[program])}function _glVertexAttribPointer(index,size,type,normalized,stride,ptr){var cb=GL.currentContext.clientBuffers[index];if(!GLctx.currentArrayBufferBinding){cb.size=size;cb.type=type;cb.normalized=normalized;cb.stride=stride;cb.ptr=ptr;cb.clientside=true;cb.vertexAttribPointerAdaptor=function(index,size,type,normalized,stride,ptr){this.vertexAttribPointer(index,size,type,normalized,stride,ptr)};return}cb.clientside=false;GLctx.vertexAttribPointer(index,size,type,!!normalized,stride,ptr)}function _glViewport(x0,x1,x2,x3){GLctx["viewport"](x0,x1,x2,x3)}function _gmtime_r(time,tmPtr){var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getUTCSeconds();HEAP32[tmPtr+4>>2]=date.getUTCMinutes();HEAP32[tmPtr+8>>2]=date.getUTCHours();HEAP32[tmPtr+12>>2]=date.getUTCDate();HEAP32[tmPtr+16>>2]=date.getUTCMonth();HEAP32[tmPtr+20>>2]=date.getUTCFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getUTCDay();HEAP32[tmPtr+36>>2]=0;HEAP32[tmPtr+32>>2]=0;var start=Date.UTC(date.getUTCFullYear(),0,1,0,0,0,0);var yday=(date.getTime()-start)/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;if(!_gmtime_r.GMTString)_gmtime_r.GMTString=allocateUTF8("GMT");HEAP32[tmPtr+40>>2]=_gmtime_r.GMTString;return tmPtr}function _llvm_eh_typeid_for(type){return type}function _tzset(){if(_tzset.called)return;_tzset.called=true;var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);HEAP32[__get_timezone()>>2]=stdTimezoneOffset*60;HEAP32[__get_daylight()>>2]=Number(winterOffset!=summerOffset);function extractZone(date){var match=date.toTimeString().match(/\(([A-Za-z ]+)\)$/);return match?match[1]:"GMT"}var winterName=extractZone(winter);var summerName=extractZone(summer);var winterNamePtr=allocateUTF8(winterName);var summerNamePtr=allocateUTF8(summerName);if(summerOffset<winterOffset){HEAP32[__get_tzname()>>2]=winterNamePtr;HEAP32[__get_tzname()+4>>2]=summerNamePtr}else{HEAP32[__get_tzname()>>2]=summerNamePtr;HEAP32[__get_tzname()+4>>2]=winterNamePtr}}function _localtime_r(time,tmPtr){_tzset();var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();HEAP32[tmPtr+20>>2]=date.getFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getDay();var start=new Date(date.getFullYear(),0,1);var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr+36>>2]=-(date.getTimezoneOffset()*60);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dst=(summerOffset!=winterOffset&&date.getTimezoneOffset()==Math.min(winterOffset,summerOffset))|0;HEAP32[tmPtr+32>>2]=dst;var zonePtr=HEAP32[__get_tzname()+(dst?4:0)>>2];HEAP32[tmPtr+40>>2]=zonePtr;return tmPtr}function _mktime(tmPtr){_tzset();var date=new Date(HEAP32[tmPtr+20>>2]+1900,HEAP32[tmPtr+16>>2],HEAP32[tmPtr+12>>2],HEAP32[tmPtr+8>>2],HEAP32[tmPtr+4>>2],HEAP32[tmPtr>>2],0);var dst=HEAP32[tmPtr+32>>2];var guessedOffset=date.getTimezoneOffset();var start=new Date(date.getFullYear(),0,1);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dstOffset=Math.min(winterOffset,summerOffset);if(dst<0){HEAP32[tmPtr+32>>2]=Number(summerOffset!=winterOffset&&dstOffset==guessedOffset)}else if(dst>0!=(dstOffset==guessedOffset)){var nonDstOffset=Math.max(winterOffset,summerOffset);var trueOffset=dst>0?dstOffset:nonDstOffset;date.setTime(date.getTime()+(trueOffset-guessedOffset)*6e4)}HEAP32[tmPtr+24>>2]=date.getDay();var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();return date.getTime()/1e3|0}function _pthread_create(){return 6}function _pthread_join(){return 28}function _setTempRet0($i){setTempRet0($i|0)}function __isLeapYear(year){return year%4===0&&(year%100!==0||year%400===0)}function __arraySum(array,index){var sum=0;for(var i=0;i<=index;sum+=array[i++]){}return sum}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31];var __MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(date,days){var newDate=new Date(date.getTime());while(days>0){var leap=__isLeapYear(newDate.getFullYear());var currentMonth=newDate.getMonth();var daysInCurrentMonth=(leap?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[currentMonth];if(days>daysInCurrentMonth-newDate.getDate()){days-=daysInCurrentMonth-newDate.getDate()+1;newDate.setDate(1);if(currentMonth<11){newDate.setMonth(currentMonth+1)}else{newDate.setMonth(0);newDate.setFullYear(newDate.getFullYear()+1)}}else{newDate.setDate(newDate.getDate()+days);return newDate}}return newDate}function _strftime(s,maxsize,format,tm){var tm_zone=HEAP32[tm+40>>2];var date={tm_sec:HEAP32[tm>>2],tm_min:HEAP32[tm+4>>2],tm_hour:HEAP32[tm+8>>2],tm_mday:HEAP32[tm+12>>2],tm_mon:HEAP32[tm+16>>2],tm_year:HEAP32[tm+20>>2],tm_wday:HEAP32[tm+24>>2],tm_yday:HEAP32[tm+28>>2],tm_isdst:HEAP32[tm+32>>2],tm_gmtoff:HEAP32[tm+36>>2],tm_zone:tm_zone?UTF8ToString(tm_zone):""};var pattern=UTF8ToString(format);var EXPANSION_RULES_1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var rule in EXPANSION_RULES_1){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_1[rule])}var WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];function leadingSomething(value,digits,character){var str=typeof value==="number"?value.toString():value||"";while(str.length<digits){str=character[0]+str}return str}function leadingNulls(value,digits){return leadingSomething(value,digits,"0")}function compareByDay(date1,date2){function sgn(value){return value<0?-1:value>0?1:0}var compare;if((compare=sgn(date1.getFullYear()-date2.getFullYear()))===0){if((compare=sgn(date1.getMonth()-date2.getMonth()))===0){compare=sgn(date1.getDate()-date2.getDate())}}return compare}function getFirstWeekStartDate(janFourth){switch(janFourth.getDay()){case 0:return new Date(janFourth.getFullYear()-1,11,29);case 1:return janFourth;case 2:return new Date(janFourth.getFullYear(),0,3);case 3:return new Date(janFourth.getFullYear(),0,2);case 4:return new Date(janFourth.getFullYear(),0,1);case 5:return new Date(janFourth.getFullYear()-1,11,31);case 6:return new Date(janFourth.getFullYear()-1,11,30)}}function getWeekBasedYear(date){var thisDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);var janFourthThisYear=new Date(thisDate.getFullYear(),0,4);var janFourthNextYear=new Date(thisDate.getFullYear()+1,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);if(compareByDay(firstWeekStartThisYear,thisDate)<=0){if(compareByDay(firstWeekStartNextYear,thisDate)<=0){return thisDate.getFullYear()+1}else{return thisDate.getFullYear()}}else{return thisDate.getFullYear()-1}}var EXPANSION_RULES_2={"%a":function(date){return WEEKDAYS[date.tm_wday].substring(0,3)},"%A":function(date){return WEEKDAYS[date.tm_wday]},"%b":function(date){return MONTHS[date.tm_mon].substring(0,3)},"%B":function(date){return MONTHS[date.tm_mon]},"%C":function(date){var year=date.tm_year+1900;return leadingNulls(year/100|0,2)},"%d":function(date){return leadingNulls(date.tm_mday,2)},"%e":function(date){return leadingSomething(date.tm_mday,2," ")},"%g":function(date){return getWeekBasedYear(date).toString().substring(2)},"%G":function(date){return getWeekBasedYear(date)},"%H":function(date){return leadingNulls(date.tm_hour,2)},"%I":function(date){var twelveHour=date.tm_hour;if(twelveHour==0)twelveHour=12;else if(twelveHour>12)twelveHour-=12;return leadingNulls(twelveHour,2)},"%j":function(date){return leadingNulls(date.tm_mday+__arraySum(__isLeapYear(date.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,date.tm_mon-1),3)},"%m":function(date){return leadingNulls(date.tm_mon+1,2)},"%M":function(date){return leadingNulls(date.tm_min,2)},"%n":function(){return"\n"},"%p":function(date){if(date.tm_hour>=0&&date.tm_hour<12){return"AM"}else{return"PM"}},"%S":function(date){return leadingNulls(date.tm_sec,2)},"%t":function(){return"\t"},"%u":function(date){return date.tm_wday||7},"%U":function(date){var janFirst=new Date(date.tm_year+1900,0,1);var firstSunday=janFirst.getDay()===0?janFirst:__addDays(janFirst,7-janFirst.getDay());var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstSunday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstSundayUntilEndJanuary=31-firstSunday.getDate();var days=firstSundayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstSunday,janFirst)===0?"01":"00"},"%V":function(date){var janFourthThisYear=new Date(date.tm_year+1900,0,4);var janFourthNextYear=new Date(date.tm_year+1901,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);var endDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);if(compareByDay(endDate,firstWeekStartThisYear)<0){return"53"}if(compareByDay(firstWeekStartNextYear,endDate)<=0){return"01"}var daysDifference;if(firstWeekStartThisYear.getFullYear()<date.tm_year+1900){daysDifference=date.tm_yday+32-firstWeekStartThisYear.getDate()}else{daysDifference=date.tm_yday+1-firstWeekStartThisYear.getDate()}return leadingNulls(Math.ceil(daysDifference/7),2)},"%w":function(date){return date.tm_wday},"%W":function(date){var janFirst=new Date(date.tm_year,0,1);var firstMonday=janFirst.getDay()===1?janFirst:__addDays(janFirst,janFirst.getDay()===0?1:7-janFirst.getDay()+1);var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstMonday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstMondayUntilEndJanuary=31-firstMonday.getDate();var days=firstMondayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstMonday,janFirst)===0?"01":"00"},"%y":function(date){return(date.tm_year+1900).toString().substring(2)},"%Y":function(date){return date.tm_year+1900},"%z":function(date){var off=date.tm_gmtoff;var ahead=off>=0;off=Math.abs(off)/60;off=off/60*100+off%60;return(ahead?"+":"-")+String("0000"+off).slice(-4)},"%Z":function(date){return date.tm_zone},"%%":function(){return"%"}};for(var rule in EXPANSION_RULES_2){if(pattern.indexOf(rule)>=0){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_2[rule](date))}}var bytes=intArrayFromString(pattern,false);if(bytes.length>maxsize){return 0}writeArrayToMemory(bytes,s);return bytes.length-1}function _strftime_l(s,maxsize,format,tm){return _strftime(s,maxsize,format,tm)}var readAsmConstArgsArray=[];function readAsmConstArgs(sigPtr,buf){assert(Array.isArray(readAsmConstArgsArray));assert(buf%16==0);readAsmConstArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){assert(ch===100||ch===102||ch===105);var double=ch<105;if(double&&buf&1)buf++;readAsmConstArgsArray.push(double?HEAPF64[buf++>>1]:HEAP32[buf]);++buf}return readAsmConstArgsArray}Module["requestFullscreen"]=function Module_requestFullscreen(lockPointer,resizeCanvas){Browser.requestFullscreen(lockPointer,resizeCanvas)};Module["requestFullScreen"]=function Module_requestFullScreen(){Browser.requestFullScreen()};Module["requestAnimationFrame"]=function Module_requestAnimationFrame(func){Browser.requestAnimationFrame(func)};Module["setCanvasSize"]=function Module_setCanvasSize(width,height,noUpdates){Browser.setCanvasSize(width,height,noUpdates)};Module["pauseMainLoop"]=function Module_pauseMainLoop(){Browser.mainLoop.pause()};Module["resumeMainLoop"]=function Module_resumeMainLoop(){Browser.mainLoop.resume()};Module["getUserMedia"]=function Module_getUserMedia(){Browser.getUserMedia()};Module["createContext"]=function Module_createContext(canvas,useWebGL,setInModule,webGLContextAttributes){return Browser.createContext(canvas,useWebGL,setInModule,webGLContextAttributes)};var FSNode=function(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.mounted=null;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.node_ops={};this.stream_ops={};this.rdev=rdev};var readMode=292|73;var writeMode=146;Object.defineProperties(FSNode.prototype,{read:{get:function(){return(this.mode&readMode)===readMode},set:function(val){val?this.mode|=readMode:this.mode&=~readMode}},write:{get:function(){return(this.mode&writeMode)===writeMode},set:function(val){val?this.mode|=writeMode:this.mode&=~writeMode}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}});FS.FSNode=FSNode;FS.staticInit();Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;init_emval();PureVirtualError=Module["PureVirtualError"]=extendError(Error,"PureVirtualError");embind_init_charCodes();init_embind();BindingError=Module["BindingError"]=extendError(Error,"BindingError");InternalError=Module["InternalError"]=extendError(Error,"InternalError");init_ClassHandle();init_RegisteredPointer();UnboundTypeError=Module["UnboundTypeError"]=extendError(Error,"UnboundTypeError");var GLctx;for(var i=0;i<32;++i)tempFixedLengthArray.push(new Array(i));var miniTempWebGLFloatBuffersStorage=new Float32Array(288);for(var i=0;i<288;++i){miniTempWebGLFloatBuffers[i]=miniTempWebGLFloatBuffersStorage.subarray(0,i+1)}var __miniTempWebGLIntBuffersStorage=new Int32Array(288);for(var i=0;i<288;++i){__miniTempWebGLIntBuffers[i]=__miniTempWebGLIntBuffersStorage.subarray(0,i+1)}var ASSERTIONS=true;function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}var asmLibraryArg={"__cxa_allocate_exception":___cxa_allocate_exception,"__cxa_atexit":___cxa_atexit,"__cxa_begin_catch":___cxa_begin_catch,"__cxa_end_catch":___cxa_end_catch,"__cxa_find_matching_catch_2":___cxa_find_matching_catch_2,"__cxa_find_matching_catch_3":___cxa_find_matching_catch_3,"__cxa_free_exception":___cxa_free_exception,"__cxa_rethrow":___cxa_rethrow,"__cxa_thread_atexit":___cxa_thread_atexit,"__cxa_throw":___cxa_throw,"__resumeException":___resumeException,"__sys_fcntl64":___sys_fcntl64,"__sys_fstat64":___sys_fstat64,"__sys_ioctl":___sys_ioctl,"__sys_mmap2":___sys_mmap2,"__sys_munmap":___sys_munmap,"__sys_open":___sys_open,"__sys_stat64":___sys_stat64,"_embind_create_inheriting_constructor":__embind_create_inheriting_constructor,"_embind_finalize_value_object":__embind_finalize_value_object,"_embind_register_bool":__embind_register_bool,"_embind_register_class":__embind_register_class,"_embind_register_class_class_function":__embind_register_class_class_function,"_embind_register_class_constructor":__embind_register_class_constructor,"_embind_register_class_function":__embind_register_class_function,"_embind_register_class_property":__embind_register_class_property,"_embind_register_emval":__embind_register_emval,"_embind_register_float":__embind_register_float,"_embind_register_function":__embind_register_function,"_embind_register_integer":__embind_register_integer,"_embind_register_memory_view":__embind_register_memory_view,"_embind_register_std_string":__embind_register_std_string,"_embind_register_std_wstring":__embind_register_std_wstring,"_embind_register_value_object":__embind_register_value_object,"_embind_register_value_object_field":__embind_register_value_object_field,"_embind_register_void":__embind_register_void,"_emval_call_void_method":__emval_call_void_method,"_emval_decref":__emval_decref,"_emval_get_method_caller":__emval_get_method_caller,"_emval_incref":__emval_incref,"_emval_take_value":__emval_take_value,"_exit":__exit,"abort":_abort,"clock_gettime":_clock_gettime,"dlopen":_dlopen,"dlsym":_dlsym,"emscripten_asm_const_int":_emscripten_asm_const_int,"emscripten_get_heap_max":_emscripten_get_heap_max,"emscripten_memcpy_big":_emscripten_memcpy_big,"emscripten_resize_heap":_emscripten_resize_heap,"emscripten_thread_sleep":_emscripten_thread_sleep,"emscripten_webgl_create_context":_emscripten_webgl_create_context,"emscripten_webgl_destroy_context":_emscripten_webgl_destroy_context,"emscripten_webgl_get_context_attributes":_emscripten_webgl_get_context_attributes,"emscripten_webgl_get_current_context":_emscripten_webgl_get_current_context,"emscripten_webgl_init_context_attributes":_emscripten_webgl_init_context_attributes,"emscripten_webgl_make_context_current":_emscripten_webgl_make_context_current,"environ_get":_environ_get,"environ_sizes_get":_environ_sizes_get,"exit":_exit,"fd_close":_fd_close,"fd_fdstat_get":_fd_fdstat_get,"fd_read":_fd_read,"fd_seek":_fd_seek,"fd_write":_fd_write,"getTempRet0":_getTempRet0,"gettimeofday":_gettimeofday,"glActiveTexture":_glActiveTexture,"glAttachShader":_glAttachShader,"glBindAttribLocation":_glBindAttribLocation,"glBindBuffer":_glBindBuffer,"glBindFramebuffer":_glBindFramebuffer,"glBindTexture":_glBindTexture,"glBindVertexArray":_glBindVertexArray,"glBufferData":_glBufferData,"glClientWaitSync":_glClientWaitSync,"glCompileShader":_glCompileShader,"glCreateProgram":_glCreateProgram,"glCreateShader":_glCreateShader,"glDeleteBuffers":_glDeleteBuffers,"glDeleteFramebuffers":_glDeleteFramebuffers,"glDeleteProgram":_glDeleteProgram,"glDeleteShader":_glDeleteShader,"glDeleteSync":_glDeleteSync,"glDeleteTextures":_glDeleteTextures,"glDeleteVertexArrays":_glDeleteVertexArrays,"glDisable":_glDisable,"glDisableVertexAttribArray":_glDisableVertexAttribArray,"glDrawArrays":_glDrawArrays,"glDrawBuffers":_glDrawBuffers,"glEnableVertexAttribArray":_glEnableVertexAttribArray,"glFenceSync":_glFenceSync,"glFinish":_glFinish,"glFlush":_glFlush,"glFramebufferTexture2D":_glFramebufferTexture2D,"glFramebufferTextureLayer":_glFramebufferTextureLayer,"glGenBuffers":_glGenBuffers,"glGenFramebuffers":_glGenFramebuffers,"glGenTextures":_glGenTextures,"glGenVertexArrays":_glGenVertexArrays,"glGetAttribLocation":_glGetAttribLocation,"glGetError":_glGetError,"glGetIntegerv":_glGetIntegerv,"glGetProgramInfoLog":_glGetProgramInfoLog,"glGetProgramiv":_glGetProgramiv,"glGetShaderInfoLog":_glGetShaderInfoLog,"glGetShaderiv":_glGetShaderiv,"glGetString":_glGetString,"glGetUniformLocation":_glGetUniformLocation,"glLinkProgram":_glLinkProgram,"glPixelStorei":_glPixelStorei,"glReadPixels":_glReadPixels,"glShaderSource":_glShaderSource,"glTexImage2D":_glTexImage2D,"glTexParameterfv":_glTexParameterfv,"glTexParameteri":_glTexParameteri,"glTexStorage2D":_glTexStorage2D,"glTexStorage3D":_glTexStorage3D,"glTexSubImage2D":_glTexSubImage2D,"glTexSubImage3D":_glTexSubImage3D,"glUniform1f":_glUniform1f,"glUniform1i":_glUniform1i,"glUniform2fv":_glUniform2fv,"glUniform4fv":_glUniform4fv,"glUniform4iv":_glUniform4iv,"glUniformMatrix4fv":_glUniformMatrix4fv,"glUseProgram":_glUseProgram,"glVertexAttribPointer":_glVertexAttribPointer,"glViewport":_glViewport,"gmtime_r":_gmtime_r,"invoke_diii":invoke_diii,"invoke_i":invoke_i,"invoke_ii":invoke_ii,"invoke_iii":invoke_iii,"invoke_iiii":invoke_iiii,"invoke_iiiii":invoke_iiiii,"invoke_iiiiii":invoke_iiiiii,"invoke_iiiiiii":invoke_iiiiiii,"invoke_iiiiiiiddi":invoke_iiiiiiiddi,"invoke_iiiiiiii":invoke_iiiiiiii,"invoke_iiiiiiiii":invoke_iiiiiiiii,"invoke_v":invoke_v,"invoke_vdiii":invoke_vdiii,"invoke_vi":invoke_vi,"invoke_vididdii":invoke_vididdii,"invoke_vidii":invoke_vidii,"invoke_vii":invoke_vii,"invoke_viid":invoke_viid,"invoke_viidi":invoke_viidi,"invoke_viididii":invoke_viididii,"invoke_viii":invoke_viii,"invoke_viiid":invoke_viiid,"invoke_viiidd":invoke_viiidd,"invoke_viiiddi":invoke_viiiddi,"invoke_viiidi":invoke_viiidi,"invoke_viiii":invoke_viiii,"invoke_viiiid":invoke_viiiid,"invoke_viiiidi":invoke_viiiidi,"invoke_viiiidid":invoke_viiiidid,"invoke_viiiidiidiiiiiii":invoke_viiiidiidiiiiiii,"invoke_viiiifiifiiiiiii":invoke_viiiifiifiiiiiii,"invoke_viiiii":invoke_viiiii,"invoke_viiiiid":invoke_viiiiid,"invoke_viiiiif":invoke_viiiiif,"invoke_viiiiii":invoke_viiiiii,"invoke_viiiiiid":invoke_viiiiiid,"invoke_viiiiiif":invoke_viiiiiif,"invoke_viiiiiii":invoke_viiiiiii,"invoke_viiiiiiiddi":invoke_viiiiiiiddi,"invoke_viiiiiiidiiii":invoke_viiiiiiidiiii,"invoke_viiiiiiifiiii":invoke_viiiiiiifiiii,"invoke_viiiiiiii":invoke_viiiiiiii,"invoke_viiiiiiiidd":invoke_viiiiiiiidd,"invoke_viiiiiiiidf":invoke_viiiiiiiidf,"invoke_viiiiiiiii":invoke_viiiiiiiii,"invoke_viiiiiiiiii":invoke_viiiiiiiiii,"invoke_viiiiiiiiiiddi":invoke_viiiiiiiiiiddi,"invoke_viiiiiiiiiii":invoke_viiiiiiiiiii,"invoke_viiiiiiiiiiii":invoke_viiiiiiiiiiii,"invoke_viiiiiiiiiiiii":invoke_viiiiiiiiiiiii,"llvm_eh_typeid_for":_llvm_eh_typeid_for,"localtime_r":_localtime_r,"mktime":_mktime,"pthread_create":_pthread_create,"pthread_join":_pthread_join,"setTempRet0":_setTempRet0,"strftime":_strftime,"strftime_l":_strftime_l};var asm=createWasm();var ___wasm_call_ctors=Module["___wasm_call_ctors"]=createExportWrapper("__wasm_call_ctors");var _memset=Module["_memset"]=createExportWrapper("memset");var _free=Module["_free"]=createExportWrapper("free");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var ___errno_location=Module["___errno_location"]=createExportWrapper("__errno_location");var ___getTypeName=Module["___getTypeName"]=createExportWrapper("__getTypeName");var ___embind_register_native_and_builtin_types=Module["___embind_register_native_and_builtin_types"]=createExportWrapper("__embind_register_native_and_builtin_types");var __get_tzname=Module["__get_tzname"]=createExportWrapper("_get_tzname");var __get_daylight=Module["__get_daylight"]=createExportWrapper("_get_daylight");var __get_timezone=Module["__get_timezone"]=createExportWrapper("_get_timezone");var _emscripten_main_thread_process_queued_calls=Module["_emscripten_main_thread_process_queued_calls"]=createExportWrapper("emscripten_main_thread_process_queued_calls");var _emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=function(){return(_emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=Module["asm"]["emscripten_stack_get_end"]).apply(null,arguments)};var stackSave=Module["stackSave"]=createExportWrapper("stackSave");var stackRestore=Module["stackRestore"]=createExportWrapper("stackRestore");var stackAlloc=Module["stackAlloc"]=createExportWrapper("stackAlloc");var _emscripten_stack_init=Module["_emscripten_stack_init"]=function(){return(_emscripten_stack_init=Module["_emscripten_stack_init"]=Module["asm"]["emscripten_stack_init"]).apply(null,arguments)};var _emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=function(){return(_emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=Module["asm"]["emscripten_stack_get_free"]).apply(null,arguments)};var _setThrew=Module["_setThrew"]=createExportWrapper("setThrew");var _memalign=Module["_memalign"]=createExportWrapper("memalign");var dynCall_viijii=Module["dynCall_viijii"]=createExportWrapper("dynCall_viijii");var dynCall_jii=Module["dynCall_jii"]=createExportWrapper("dynCall_jii");var dynCall_viji=Module["dynCall_viji"]=createExportWrapper("dynCall_viji");var dynCall_jjj=Module["dynCall_jjj"]=createExportWrapper("dynCall_jjj");var dynCall_iiiijj=Module["dynCall_iiiijj"]=createExportWrapper("dynCall_iiiijj");var dynCall_viijj=Module["dynCall_viijj"]=createExportWrapper("dynCall_viijj");var dynCall_viiijjjj=Module["dynCall_viiijjjj"]=createExportWrapper("dynCall_viiijjjj");var dynCall_ji=Module["dynCall_ji"]=createExportWrapper("dynCall_ji");var dynCall_vij=Module["dynCall_vij"]=createExportWrapper("dynCall_vij");var dynCall_vj=Module["dynCall_vj"]=createExportWrapper("dynCall_vj");var dynCall_viij=Module["dynCall_viij"]=createExportWrapper("dynCall_viij");var dynCall_viiiiij=Module["dynCall_viiiiij"]=createExportWrapper("dynCall_viiiiij");var dynCall_iijjiiii=Module["dynCall_iijjiiii"]=createExportWrapper("dynCall_iijjiiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");var dynCall_iiiiij=Module["dynCall_iiiiij"]=createExportWrapper("dynCall_iiiiij");var dynCall_iiiiijj=Module["dynCall_iiiiijj"]=createExportWrapper("dynCall_iiiiijj");var dynCall_iiiiiijj=Module["dynCall_iiiiiijj"]=createExportWrapper("dynCall_iiiiiijj");function invoke_viid(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vi(index,a1){var sp=stackSave();try{wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_v(index){var sp=stackSave();try{wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vii(index,a1,a2){var sp=stackSave();try{wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_ii(index,a1){var sp=stackSave();try{return wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiii(index,a1,a2,a3,a4){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidd(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_diii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_i(index){var sp=stackSave();try{return wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidi(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vdiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vididdii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viididii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidf(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiid(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiidiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiif(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiif(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiifiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiifiifiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidiidiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiid(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vidii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiddi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiid(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidi(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}if(!Object.getOwnPropertyDescriptor(Module,"intArrayFromString"))Module["intArrayFromString"]=function(){abort("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"intArrayToString"))Module["intArrayToString"]=function(){abort("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ccall"))Module["ccall"]=function(){abort("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"cwrap"))Module["cwrap"]=function(){abort("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setValue"))Module["setValue"]=function(){abort("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getValue"))Module["getValue"]=function(){abort("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocate"))Module["allocate"]=function(){abort("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ArrayToString"))Module["UTF8ArrayToString"]=function(){abort("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ToString"))Module["UTF8ToString"]=function(){abort("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8Array"))Module["stringToUTF8Array"]=function(){abort("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8"))Module["stringToUTF8"]=function(){abort("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF8"))Module["lengthBytesUTF8"]=function(){abort("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreRun"))Module["addOnPreRun"]=function(){abort("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnInit"))Module["addOnInit"]=function(){abort("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreMain"))Module["addOnPreMain"]=function(){abort("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnExit"))Module["addOnExit"]=function(){abort("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPostRun"))Module["addOnPostRun"]=function(){abort("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeStringToMemory"))Module["writeStringToMemory"]=function(){abort("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeArrayToMemory"))Module["writeArrayToMemory"]=function(){abort("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeAsciiToMemory"))Module["writeAsciiToMemory"]=function(){abort("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;if(!Object.getOwnPropertyDescriptor(Module,"FS_createFolder"))Module["FS_createFolder"]=function(){abort("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;if(!Object.getOwnPropertyDescriptor(Module,"FS_createLink"))Module["FS_createLink"]=function(){abort("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;if(!Object.getOwnPropertyDescriptor(Module,"getLEB"))Module["getLEB"]=function(){abort("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFunctionTables"))Module["getFunctionTables"]=function(){abort("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"alignFunctionTables"))Module["alignFunctionTables"]=function(){abort("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFunctions"))Module["registerFunctions"]=function(){abort("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addFunction"))Module["addFunction"]=function(){abort("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"removeFunction"))Module["removeFunction"]=function(){abort("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"prettyPrint"))Module["prettyPrint"]=function(){abort("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeBigInt"))Module["makeBigInt"]=function(){abort("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCompilerSetting"))Module["getCompilerSetting"]=function(){abort("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"print"))Module["print"]=function(){abort("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"printErr"))Module["printErr"]=function(){abort("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTempRet0"))Module["getTempRet0"]=function(){abort("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setTempRet0"))Module["setTempRet0"]=function(){abort("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callMain"))Module["callMain"]=function(){abort("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"abort"))Module["abort"]=function(){abort("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToNewUTF8"))Module["stringToNewUTF8"]=function(){abort("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setFileTime"))Module["setFileTime"]=function(){abort("'setFileTime' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscripten_realloc_buffer"))Module["emscripten_realloc_buffer"]=function(){abort("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ENV"))Module["ENV"]=function(){abort("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_CODES"))Module["ERRNO_CODES"]=function(){abort("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_MESSAGES"))Module["ERRNO_MESSAGES"]=function(){abort("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setErrNo"))Module["setErrNo"]=function(){abort("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton4"))Module["inetPton4"]=function(){abort("'inetPton4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop4"))Module["inetNtop4"]=function(){abort("'inetNtop4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton6"))Module["inetPton6"]=function(){abort("'inetPton6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop6"))Module["inetNtop6"]=function(){abort("'inetNtop6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readSockaddr"))Module["readSockaddr"]=function(){abort("'readSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeSockaddr"))Module["writeSockaddr"]=function(){abort("'writeSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"DNS"))Module["DNS"]=function(){abort("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getHostByName"))Module["getHostByName"]=function(){abort("'getHostByName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GAI_ERRNO_MESSAGES"))Module["GAI_ERRNO_MESSAGES"]=function(){abort("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Protocols"))Module["Protocols"]=function(){abort("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Sockets"))Module["Sockets"]=function(){abort("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getRandomDevice"))Module["getRandomDevice"]=function(){abort("'getRandomDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"traverseStack"))Module["traverseStack"]=function(){abort("'traverseStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UNWIND_CACHE"))Module["UNWIND_CACHE"]=function(){abort("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"withBuiltinMalloc"))Module["withBuiltinMalloc"]=function(){abort("'withBuiltinMalloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgsArray"))Module["readAsmConstArgsArray"]=function(){abort("'readAsmConstArgsArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgs"))Module["readAsmConstArgs"]=function(){abort("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mainThreadEM_ASM"))Module["mainThreadEM_ASM"]=function(){abort("'mainThreadEM_ASM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_q"))Module["jstoi_q"]=function(){abort("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_s"))Module["jstoi_s"]=function(){abort("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getExecutableName"))Module["getExecutableName"]=function(){abort("'getExecutableName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"listenOnce"))Module["listenOnce"]=function(){abort("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"autoResumeAudioContext"))Module["autoResumeAudioContext"]=function(){abort("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCallLegacy"))Module["dynCallLegacy"]=function(){abort("'dynCallLegacy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getDynCaller"))Module["getDynCaller"]=function(){abort("'getDynCaller' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callRuntimeCallbacks"))Module["callRuntimeCallbacks"]=function(){abort("'callRuntimeCallbacks' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepaliveCounter"))Module["runtimeKeepaliveCounter"]=function(){abort("'runtimeKeepaliveCounter' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"keepRuntimeAlive"))Module["keepRuntimeAlive"]=function(){abort("'keepRuntimeAlive' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePush"))Module["runtimeKeepalivePush"]=function(){abort("'runtimeKeepalivePush' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePop"))Module["runtimeKeepalivePop"]=function(){abort("'runtimeKeepalivePop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callUserCallback"))Module["callUserCallback"]=function(){abort("'callUserCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"maybeExit"))Module["maybeExit"]=function(){abort("'maybeExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reallyNegative"))Module["reallyNegative"]=function(){abort("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unSign"))Module["unSign"]=function(){abort("'unSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reSign"))Module["reSign"]=function(){abort("'reSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"formatString"))Module["formatString"]=function(){abort("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH"))Module["PATH"]=function(){abort("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH_FS"))Module["PATH_FS"]=function(){abort("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SYSCALLS"))Module["SYSCALLS"]=function(){abort("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMmap2"))Module["syscallMmap2"]=function(){abort("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMunmap"))Module["syscallMunmap"]=function(){abort("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketFromFD"))Module["getSocketFromFD"]=function(){abort("'getSocketFromFD' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketAddress"))Module["getSocketAddress"]=function(){abort("'getSocketAddress' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"JSEvents"))Module["JSEvents"]=function(){abort("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerKeyEventCallback"))Module["registerKeyEventCallback"]=function(){abort("'registerKeyEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"specialHTMLTargets"))Module["specialHTMLTargets"]=function(){abort("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findEventTarget"))Module["findEventTarget"]=function(){abort("'findEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findCanvasEventTarget"))Module["findCanvasEventTarget"]=function(){abort("'findCanvasEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBoundingClientRect"))Module["getBoundingClientRect"]=function(){abort("'getBoundingClientRect' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillMouseEventData"))Module["fillMouseEventData"]=function(){abort("'fillMouseEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerMouseEventCallback"))Module["registerMouseEventCallback"]=function(){abort("'registerMouseEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerWheelEventCallback"))Module["registerWheelEventCallback"]=function(){abort("'registerWheelEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerUiEventCallback"))Module["registerUiEventCallback"]=function(){abort("'registerUiEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFocusEventCallback"))Module["registerFocusEventCallback"]=function(){abort("'registerFocusEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceOrientationEventData"))Module["fillDeviceOrientationEventData"]=function(){abort("'fillDeviceOrientationEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceOrientationEventCallback"))Module["registerDeviceOrientationEventCallback"]=function(){abort("'registerDeviceOrientationEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceMotionEventData"))Module["fillDeviceMotionEventData"]=function(){abort("'fillDeviceMotionEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceMotionEventCallback"))Module["registerDeviceMotionEventCallback"]=function(){abort("'registerDeviceMotionEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"screenOrientation"))Module["screenOrientation"]=function(){abort("'screenOrientation' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillOrientationChangeEventData"))Module["fillOrientationChangeEventData"]=function(){abort("'fillOrientationChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerOrientationChangeEventCallback"))Module["registerOrientationChangeEventCallback"]=function(){abort("'registerOrientationChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillFullscreenChangeEventData"))Module["fillFullscreenChangeEventData"]=function(){abort("'fillFullscreenChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFullscreenChangeEventCallback"))Module["registerFullscreenChangeEventCallback"]=function(){abort("'registerFullscreenChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerRestoreOldStyle"))Module["registerRestoreOldStyle"]=function(){abort("'registerRestoreOldStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"hideEverythingExceptGivenElement"))Module["hideEverythingExceptGivenElement"]=function(){abort("'hideEverythingExceptGivenElement' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreHiddenElements"))Module["restoreHiddenElements"]=function(){abort("'restoreHiddenElements' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setLetterbox"))Module["setLetterbox"]=function(){abort("'setLetterbox' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"currentFullscreenStrategy"))Module["currentFullscreenStrategy"]=function(){abort("'currentFullscreenStrategy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreOldWindowedStyle"))Module["restoreOldWindowedStyle"]=function(){abort("'restoreOldWindowedStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"softFullscreenResizeWebGLRenderTarget"))Module["softFullscreenResizeWebGLRenderTarget"]=function(){abort("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"doRequestFullscreen"))Module["doRequestFullscreen"]=function(){abort("'doRequestFullscreen' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillPointerlockChangeEventData"))Module["fillPointerlockChangeEventData"]=function(){abort("'fillPointerlockChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockChangeEventCallback"))Module["registerPointerlockChangeEventCallback"]=function(){abort("'registerPointerlockChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockErrorEventCallback"))Module["registerPointerlockErrorEventCallback"]=function(){abort("'registerPointerlockErrorEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requestPointerLock"))Module["requestPointerLock"]=function(){abort("'requestPointerLock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillVisibilityChangeEventData"))Module["fillVisibilityChangeEventData"]=function(){abort("'fillVisibilityChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerVisibilityChangeEventCallback"))Module["registerVisibilityChangeEventCallback"]=function(){abort("'registerVisibilityChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerTouchEventCallback"))Module["registerTouchEventCallback"]=function(){abort("'registerTouchEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillGamepadEventData"))Module["fillGamepadEventData"]=function(){abort("'fillGamepadEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerGamepadEventCallback"))Module["registerGamepadEventCallback"]=function(){abort("'registerGamepadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBeforeUnloadEventCallback"))Module["registerBeforeUnloadEventCallback"]=function(){abort("'registerBeforeUnloadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillBatteryEventData"))Module["fillBatteryEventData"]=function(){abort("'fillBatteryEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"battery"))Module["battery"]=function(){abort("'battery' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBatteryEventCallback"))Module["registerBatteryEventCallback"]=function(){abort("'registerBatteryEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setCanvasElementSize"))Module["setCanvasElementSize"]=function(){abort("'setCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCanvasElementSize"))Module["getCanvasElementSize"]=function(){abort("'getCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"polyfillSetImmediate"))Module["polyfillSetImmediate"]=function(){abort("'polyfillSetImmediate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangle"))Module["demangle"]=function(){abort("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangleAll"))Module["demangleAll"]=function(){abort("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jsStackTrace"))Module["jsStackTrace"]=function(){abort("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getEnvStrings"))Module["getEnvStrings"]=function(){abort("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"checkWasiClock"))Module["checkWasiClock"]=function(){abort("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64"))Module["writeI53ToI64"]=function(){abort("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Clamped"))Module["writeI53ToI64Clamped"]=function(){abort("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Signaling"))Module["writeI53ToI64Signaling"]=function(){abort("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Clamped"))Module["writeI53ToU64Clamped"]=function(){abort("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Signaling"))Module["writeI53ToU64Signaling"]=function(){abort("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromI64"))Module["readI53FromI64"]=function(){abort("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromU64"))Module["readI53FromU64"]=function(){abort("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertI32PairToI53"))Module["convertI32PairToI53"]=function(){abort("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertU32PairToI53"))Module["convertU32PairToI53"]=function(){abort("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"uncaughtExceptionCount"))Module["uncaughtExceptionCount"]=function(){abort("'uncaughtExceptionCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionLast"))Module["exceptionLast"]=function(){abort("'exceptionLast' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionCaught"))Module["exceptionCaught"]=function(){abort("'exceptionCaught' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfoAttrs"))Module["ExceptionInfoAttrs"]=function(){abort("'ExceptionInfoAttrs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfo"))Module["ExceptionInfo"]=function(){abort("'ExceptionInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"CatchInfo"))Module["CatchInfo"]=function(){abort("'CatchInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_addRef"))Module["exception_addRef"]=function(){abort("'exception_addRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_decRef"))Module["exception_decRef"]=function(){abort("'exception_decRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Browser"))Module["Browser"]=function(){abort("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"funcWrappers"))Module["funcWrappers"]=function(){abort("'funcWrappers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setMainLoop"))Module["setMainLoop"]=function(){abort("'setMainLoop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"FS"))Module["FS"]=function(){abort("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mmapAlloc"))Module["mmapAlloc"]=function(){abort("'mmapAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"MEMFS"))Module["MEMFS"]=function(){abort("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"TTY"))Module["TTY"]=function(){abort("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PIPEFS"))Module["PIPEFS"]=function(){abort("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SOCKFS"))Module["SOCKFS"]=function(){abort("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"_setNetworkCallback"))Module["_setNetworkCallback"]=function(){abort("'_setNetworkCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tempFixedLengthArray"))Module["tempFixedLengthArray"]=function(){abort("'tempFixedLengthArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"miniTempWebGLFloatBuffers"))Module["miniTempWebGLFloatBuffers"]=function(){abort("'miniTempWebGLFloatBuffers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapObjectForWebGLType"))Module["heapObjectForWebGLType"]=function(){abort("'heapObjectForWebGLType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapAccessShiftForWebGLHeap"))Module["heapAccessShiftForWebGLHeap"]=function(){abort("'heapAccessShiftForWebGLHeap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GL"))Module["GL"]=function(){abort("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGet"))Module["emscriptenWebGLGet"]=function(){abort("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"computeUnpackAlignedImageSize"))Module["computeUnpackAlignedImageSize"]=function(){abort("'computeUnpackAlignedImageSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetTexPixelData"))Module["emscriptenWebGLGetTexPixelData"]=function(){abort("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetUniform"))Module["emscriptenWebGLGetUniform"]=function(){abort("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetVertexAttrib"))Module["emscriptenWebGLGetVertexAttrib"]=function(){abort("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetBufferBinding"))Module["emscriptenWebGLGetBufferBinding"]=function(){abort("'emscriptenWebGLGetBufferBinding' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLValidateMapBufferTarget"))Module["emscriptenWebGLValidateMapBufferTarget"]=function(){abort("'emscriptenWebGLValidateMapBufferTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeGLArray"))Module["writeGLArray"]=function(){abort("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AL"))Module["AL"]=function(){abort("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_unicode"))Module["SDL_unicode"]=function(){abort("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_ttfContext"))Module["SDL_ttfContext"]=function(){abort("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_audio"))Module["SDL_audio"]=function(){abort("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL"))Module["SDL"]=function(){abort("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_gfx"))Module["SDL_gfx"]=function(){abort("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLUT"))Module["GLUT"]=function(){abort("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"EGL"))Module["EGL"]=function(){abort("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW_Window"))Module["GLFW_Window"]=function(){abort("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW"))Module["GLFW"]=function(){abort("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLEW"))Module["GLEW"]=function(){abort("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"IDBStore"))Module["IDBStore"]=function(){abort("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runAndAbortIfError"))Module["runAndAbortIfError"]=function(){abort("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_handle_array"))Module["emval_handle_array"]=function(){abort("'emval_handle_array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_free_list"))Module["emval_free_list"]=function(){abort("'emval_free_list' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_symbols"))Module["emval_symbols"]=function(){abort("'emval_symbols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_emval"))Module["init_emval"]=function(){abort("'init_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"count_emval_handles"))Module["count_emval_handles"]=function(){abort("'count_emval_handles' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"get_first_emval"))Module["get_first_emval"]=function(){abort("'get_first_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getStringOrSymbol"))Module["getStringOrSymbol"]=function(){abort("'getStringOrSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireHandle"))Module["requireHandle"]=function(){abort("'requireHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_newers"))Module["emval_newers"]=function(){abort("'emval_newers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftEmvalAllocator"))Module["craftEmvalAllocator"]=function(){abort("'craftEmvalAllocator' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_get_global"))Module["emval_get_global"]=function(){abort("'emval_get_global' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_methodCallers"))Module["emval_methodCallers"]=function(){abort("'emval_methodCallers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"InternalError"))Module["InternalError"]=function(){abort("'InternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"BindingError"))Module["BindingError"]=function(){abort("'BindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UnboundTypeError"))Module["UnboundTypeError"]=function(){abort("'UnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PureVirtualError"))Module["PureVirtualError"]=function(){abort("'PureVirtualError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_embind"))Module["init_embind"]=function(){abort("'init_embind' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInternalError"))Module["throwInternalError"]=function(){abort("'throwInternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwBindingError"))Module["throwBindingError"]=function(){abort("'throwBindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwUnboundTypeError"))Module["throwUnboundTypeError"]=function(){abort("'throwUnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ensureOverloadTable"))Module["ensureOverloadTable"]=function(){abort("'ensureOverloadTable' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exposePublicSymbol"))Module["exposePublicSymbol"]=function(){abort("'exposePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"replacePublicSymbol"))Module["replacePublicSymbol"]=function(){abort("'replacePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"extendError"))Module["extendError"]=function(){abort("'extendError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"createNamedFunction"))Module["createNamedFunction"]=function(){abort("'createNamedFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredInstances"))Module["registeredInstances"]=function(){abort("'registeredInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBasestPointer"))Module["getBasestPointer"]=function(){abort("'getBasestPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerInheritedInstance"))Module["registerInheritedInstance"]=function(){abort("'registerInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unregisterInheritedInstance"))Module["unregisterInheritedInstance"]=function(){abort("'unregisterInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstance"))Module["getInheritedInstance"]=function(){abort("'getInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstanceCount"))Module["getInheritedInstanceCount"]=function(){abort("'getInheritedInstanceCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getLiveInheritedInstances"))Module["getLiveInheritedInstances"]=function(){abort("'getLiveInheritedInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredTypes"))Module["registeredTypes"]=function(){abort("'registeredTypes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"awaitingDependencies"))Module["awaitingDependencies"]=function(){abort("'awaitingDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"typeDependencies"))Module["typeDependencies"]=function(){abort("'typeDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredPointers"))Module["registeredPointers"]=function(){abort("'registeredPointers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerType"))Module["registerType"]=function(){abort("'registerType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"whenDependentTypesAreResolved"))Module["whenDependentTypesAreResolved"]=function(){abort("'whenDependentTypesAreResolved' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_charCodes"))Module["embind_charCodes"]=function(){abort("'embind_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_init_charCodes"))Module["embind_init_charCodes"]=function(){abort("'embind_init_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readLatin1String"))Module["readLatin1String"]=function(){abort("'readLatin1String' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTypeName"))Module["getTypeName"]=function(){abort("'getTypeName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heap32VectorToArray"))Module["heap32VectorToArray"]=function(){abort("'heap32VectorToArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireRegisteredType"))Module["requireRegisteredType"]=function(){abort("'requireRegisteredType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getShiftFromSize"))Module["getShiftFromSize"]=function(){abort("'getShiftFromSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"integerReadValueFromPointer"))Module["integerReadValueFromPointer"]=function(){abort("'integerReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"enumReadValueFromPointer"))Module["enumReadValueFromPointer"]=function(){abort("'enumReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"floatReadValueFromPointer"))Module["floatReadValueFromPointer"]=function(){abort("'floatReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"simpleReadValueFromPointer"))Module["simpleReadValueFromPointer"]=function(){abort("'simpleReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructors"))Module["runDestructors"]=function(){abort("'runDestructors' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"new_"))Module["new_"]=function(){abort("'new_' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftInvokerFunction"))Module["craftInvokerFunction"]=function(){abort("'craftInvokerFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind__requireFunction"))Module["embind__requireFunction"]=function(){abort("'embind__requireFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tupleRegistrations"))Module["tupleRegistrations"]=function(){abort("'tupleRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"structRegistrations"))Module["structRegistrations"]=function(){abort("'structRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"genericPointerToWireType"))Module["genericPointerToWireType"]=function(){abort("'genericPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"constNoSmartPtrRawPointerToWireType"))Module["constNoSmartPtrRawPointerToWireType"]=function(){abort("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"nonConstNoSmartPtrRawPointerToWireType"))Module["nonConstNoSmartPtrRawPointerToWireType"]=function(){abort("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_RegisteredPointer"))Module["init_RegisteredPointer"]=function(){abort("'init_RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer"))Module["RegisteredPointer"]=function(){abort("'RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_getPointee"))Module["RegisteredPointer_getPointee"]=function(){abort("'RegisteredPointer_getPointee' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_destructor"))Module["RegisteredPointer_destructor"]=function(){abort("'RegisteredPointer_destructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_deleteObject"))Module["RegisteredPointer_deleteObject"]=function(){abort("'RegisteredPointer_deleteObject' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_fromWireType"))Module["RegisteredPointer_fromWireType"]=function(){abort("'RegisteredPointer_fromWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructor"))Module["runDestructor"]=function(){abort("'runDestructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"releaseClassHandle"))Module["releaseClassHandle"]=function(){abort("'releaseClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"finalizationGroup"))Module["finalizationGroup"]=function(){abort("'finalizationGroup' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer_deps"))Module["detachFinalizer_deps"]=function(){abort("'detachFinalizer_deps' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer"))Module["detachFinalizer"]=function(){abort("'detachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"attachFinalizer"))Module["attachFinalizer"]=function(){abort("'attachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeClassHandle"))Module["makeClassHandle"]=function(){abort("'makeClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_ClassHandle"))Module["init_ClassHandle"]=function(){abort("'init_ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle"))Module["ClassHandle"]=function(){abort("'ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isAliasOf"))Module["ClassHandle_isAliasOf"]=function(){abort("'ClassHandle_isAliasOf' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInstanceAlreadyDeleted"))Module["throwInstanceAlreadyDeleted"]=function(){abort("'throwInstanceAlreadyDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_clone"))Module["ClassHandle_clone"]=function(){abort("'ClassHandle_clone' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_delete"))Module["ClassHandle_delete"]=function(){abort("'ClassHandle_delete' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"deletionQueue"))Module["deletionQueue"]=function(){abort("'deletionQueue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isDeleted"))Module["ClassHandle_isDeleted"]=function(){abort("'ClassHandle_isDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_deleteLater"))Module["ClassHandle_deleteLater"]=function(){abort("'ClassHandle_deleteLater' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"flushPendingDeletes"))Module["flushPendingDeletes"]=function(){abort("'flushPendingDeletes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"delayFunction"))Module["delayFunction"]=function(){abort("'delayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setDelayFunction"))Module["setDelayFunction"]=function(){abort("'setDelayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredClass"))Module["RegisteredClass"]=function(){abort("'RegisteredClass' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"shallowCopyInternalPointer"))Module["shallowCopyInternalPointer"]=function(){abort("'shallowCopyInternalPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"downcastPointer"))Module["downcastPointer"]=function(){abort("'downcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"upcastPointer"))Module["upcastPointer"]=function(){abort("'upcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"validateThis"))Module["validateThis"]=function(){abort("'validateThis' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_0"))Module["char_0"]=function(){abort("'char_0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_9"))Module["char_9"]=function(){abort("'char_9' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeLegalFunctionName"))Module["makeLegalFunctionName"]=function(){abort("'makeLegalFunctionName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetIndexed"))Module["emscriptenWebGLGetIndexed"]=function(){abort("'emscriptenWebGLGetIndexed' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"warnOnce"))Module["warnOnce"]=function(){abort("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackSave"))Module["stackSave"]=function(){abort("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackRestore"))Module["stackRestore"]=function(){abort("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackAlloc"))Module["stackAlloc"]=function(){abort("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AsciiToString"))Module["AsciiToString"]=function(){abort("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToAscii"))Module["stringToAscii"]=function(){abort("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF16ToString"))Module["UTF16ToString"]=function(){abort("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF16"))Module["stringToUTF16"]=function(){abort("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF16"))Module["lengthBytesUTF16"]=function(){abort("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF32ToString"))Module["UTF32ToString"]=function(){abort("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF32"))Module["stringToUTF32"]=function(){abort("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF32"))Module["lengthBytesUTF32"]=function(){abort("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8"))Module["allocateUTF8"]=function(){abort("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8OnStack"))Module["allocateUTF8OnStack"]=function(){abort("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["writeStackCookie"]=writeStackCookie;Module["checkStackCookie"]=checkStackCookie;if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_NORMAL"))Object.defineProperty(Module,"ALLOC_NORMAL",{configurable:true,get:function(){abort("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_STACK"))Object.defineProperty(Module,"ALLOC_STACK",{configurable:true,get:function(){abort("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var calledRun;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function stackCheckInit(){_emscripten_stack_init();writeStackCookie()}function run(args){args=args||arguments_;if(runDependencies>0){return}stackCheckInit();preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}checkStackCookie()}Module["run"]=run;function checkUnflushedContent(){var oldOut=out;var oldErr=err;var has=false;out=err=function(x){has=true};try{var flush=Module["_fflush"];if(flush)flush(0);["stdout","stderr"].forEach(function(name){var info=FS.analyzePath("/dev/"+name);if(!info)return;var stream=info.object;var rdev=stream.rdev;var tty=TTY.ttys[rdev];if(tty&&tty.output&&tty.output.length){has=true}})}catch(e){}out=oldOut;err=oldErr;if(has){warnOnce("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}}function exit(status,implicit){EXITSTATUS=status;checkUnflushedContent();if(implicit&&keepRuntimeAlive()&&status===0){return}if(keepRuntimeAlive()){if(!implicit){var msg="program exited (with status: "+status+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";readyPromiseReject(msg);err(msg)}}else{exitRuntime();if(Module["onExit"])Module["onExit"](status);ABORT=true}quit_(status,new ExitStatus(status))}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();
+
+
+  return createMediapipeSolutionsWasm.ready
+}
+);
+})();
+if (typeof exports === 'object' && typeof module === 'object')
+  module.exports = createMediapipeSolutionsWasm;
+else if (typeof define === 'function' && define['amd'])
+  define([], function() { return createMediapipeSolutionsWasm; });
+else if (typeof exports === 'object')
+  exports["createMediapipeSolutionsWasm"] = createMediapipeSolutionsWasm;
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/test_harness.html b/content/test/data/gpu/mediapipe/face_mesh_test/test_harness.html
new file mode 100644
index 0000000000000..04ab290c60fc7
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/test_harness.html
@@ -0,0 +1,96 @@
+<!DOCTYPE html>
+<html>
+  <head>
+    <style>
+      textarea { width: 500px; height: 100px; }
+      body {
+        font-family: Arial, Helvetica, sans-serif;
+      }
+      .group {
+        background-color: #e0eef3;
+        padding: 5px;
+        margin: 5px;
+      }
+      .instructions {
+        padding-bottom: 5px;
+      }
+      .run-test { width: 500px; }
+      .status { font-weight: 600; }
+      .title { font-size: 18pt; font-weight: 600; padding-bottom: 20px; }
+      .outputs, .inputs, .expects {
+        display: inline-block;
+        min-width: 20px;
+        min-height: 20px;
+        padding: 10px;
+        margin: 5px;
+      }
+      .inputs { background-color: red; }
+      .expects { background-color: orange; }
+      .outputs { background-color: green; }
+    </style>
+    <title>MediaPipe Graph Test for Web</title>
+  </head>
+<body>
+
+  <div class="title">Mediapipe for Web: %NAME%</div>
+
+  <div class="group">
+    <div class="instructions">
+      Test is loaded into the following input element:
+    </div>
+    <div class="input">
+      <textarea class="test"></textarea>
+    </div>
+    <button class="run-test">
+      Run Test
+    </button>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      When the graph loads, loaded status will turn COMPLETE.
+      When the test finishes, test status will turn COMPLETE.
+    </div>
+
+    <div class="status">
+      <span class="instructions">Loaded Status:</span>
+      <span class="test-ready">INCOMPLETE</span>
+    </div>
+
+    <div class="status">
+      <span class="instructions">Test Status:</span>
+      <span class="test-complete">INCOMPLETE</span>
+    </div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">Errors (if any) will show up here:</div>
+    <div class="errors"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Inputs:
+    </div>
+    <div class="inputs"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Expectations:
+    </div>
+    <div class="expects"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Outputs:
+    </div>
+    <div class="outputs"></div>
+  </div>
+
+</body>
+</html>
+<script src="test_harness_driver_bin.js"></script>
+<!-- The following line is replaced for the ":<name>_serve" target. Do not hand edit. -->
+<!--LOCALDRIVER-->
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/test_harness_driver_bin-bundle.js b/content/test/data/gpu/mediapipe/face_mesh_test/test_harness_driver_bin-bundle.js
new file mode 100644
index 0000000000000..2cb3d1c098271
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/test_harness_driver_bin-bundle.js
@@ -0,0 +1,6947 @@
+//javascript/closure/base.js
+/**
+ * @license
+ * Copyright The Closure Library Authors.
+ * SPDX-License-Identifier: Apache-2.0
+ */
+
+/**
+ * @fileoverview Bootstrap for the Google JS Library (Closure).
+ *
+ * In uncompiled mode base.js will attempt to load Closure's deps file, unless
+ * the global <code>CLOSURE_NO_DEPS</code> is set to true.  This allows projects
+ * to include their own deps file(s) from different locations.
+ *
+ * Avoid including base.js more than once. This is strictly discouraged and not
+ * supported. goog.require(...) won't work properly in that case.
+ *
+ * @provideGoog
+ */
+
+
+/**
+ * @define {boolean} Overridden to true by the compiler.
+ */
+var COMPILED = false;
+
+
+/**
+ * Base namespace for the Closure library.  Checks to see goog is already
+ * defined in the current scope before assigning to prevent clobbering if
+ * base.js is loaded more than once.
+ *
+ * @const
+ */
+var goog = goog || {};
+
+/**
+ * Reference to the global object.
+ * https://www.ecma-international.org/ecma-262/9.0/index.html#sec-global-object
+ *
+ * More info on this implementation here:
+ * https://docs.google.com/document/d/1NAeW4Wk7I7FV0Y2tcUFvQdGMc89k2vdgSXInw8_nvCI/edit
+ *
+ * @const
+ * @suppress {undefinedVars} self won't be referenced unless `this` is falsy.
+ * @type {!Global}
+ */
+goog.global =
+    // Check `this` first for backwards compatibility.
+    // Valid unless running as an ES module or in a function wrapper called
+    //   without setting `this` properly.
+    // Note that base.js can't usefully be imported as an ES module, but it may
+    // be compiled into bundles that are loadable as ES modules.
+    this ||
+    // https://developer.mozilla.org/en-US/docs/Web/API/Window/self
+    // For in-page browser environments and workers.
+    self;
+
+
+/**
+ * A hook for overriding the define values in uncompiled mode.
+ *
+ * In uncompiled mode, `CLOSURE_UNCOMPILED_DEFINES` may be defined before
+ * loading base.js.  If a key is defined in `CLOSURE_UNCOMPILED_DEFINES`,
+ * `goog.define` will use the value instead of the default value.  This
+ * allows flags to be overwritten without compilation (this is normally
+ * accomplished with the compiler's "define" flag).
+ *
+ * Example:
+ * <pre>
+ *   var CLOSURE_UNCOMPILED_DEFINES = {'goog.DEBUG': false};
+ * </pre>
+ *
+ * @type {Object<string, (string|number|boolean)>|undefined}
+ */
+goog.global.CLOSURE_UNCOMPILED_DEFINES;
+
+
+/**
+ * A hook for overriding the define values in uncompiled or compiled mode,
+ * like CLOSURE_UNCOMPILED_DEFINES but effective in compiled code.  In
+ * uncompiled code CLOSURE_UNCOMPILED_DEFINES takes precedence.
+ *
+ * Also unlike CLOSURE_UNCOMPILED_DEFINES the values must be number, boolean or
+ * string literals or the compiler will emit an error.
+ *
+ * While any @define value may be set, only those set with goog.define will be
+ * effective for uncompiled code.
+ *
+ * Example:
+ * <pre>
+ *   var CLOSURE_DEFINES = {'goog.DEBUG': false} ;
+ * </pre>
+ *
+ * @type {Object<string, (string|number|boolean)>|undefined}
+ */
+goog.global.CLOSURE_DEFINES;
+
+
+/**
+ * Builds an object structure for the provided namespace path, ensuring that
+ * names that already exist are not overwritten. For example:
+ * "a.b.c" -> a = {};a.b={};a.b.c={};
+ * Used by goog.provide and goog.exportSymbol.
+ * @param {string} name The name of the object that this file defines.
+ * @param {*=} object The object to expose at the end of the path.
+ * @param {boolean=} overwriteImplicit If object is set and a previous call
+ *     implicitly constructed the namespace given by name, this parameter
+ *     controls whether object should overwrite the implicitly constructed
+ *     namespace or be merged into it. Defaults to false.
+ * @param {?Object=} objectToExportTo The object to add the path to; if this
+ *     field is not specified, its value defaults to `goog.global`.
+ * @private
+ */
+goog.exportPath_ = function(name, object, overwriteImplicit, objectToExportTo) {
+  var parts = name.split('.');
+  var cur = objectToExportTo || goog.global;
+
+  // Internet Explorer exhibits strange behavior when throwing errors from
+  // methods externed in this manner.  See the testExportSymbolExceptions in
+  // base_test.html for an example.
+  if (!(parts[0] in cur) && typeof cur.execScript != 'undefined') {
+    cur.execScript('var ' + parts[0]);
+  }
+
+  for (var part; parts.length && (part = parts.shift());) {
+    if (!parts.length && object !== undefined) {
+      if (!overwriteImplicit && goog.isObject(object) &&
+          goog.isObject(cur[part])) {
+        // Merge properties on object (the input parameter) with the existing
+        // implicitly defined namespace, so as to not clobber previously
+        // defined child namespaces.
+        for (var prop in object) {
+          if (object.hasOwnProperty(prop)) {
+            cur[part][prop] = object[prop];
+          }
+        }
+      } else {
+        // Either there is no existing implicit namespace, or overwriteImplicit
+        // is set to true, so directly assign object (the input parameter) to
+        // the namespace.
+        cur[part] = object;
+      }
+    } else if (cur[part] && cur[part] !== Object.prototype[part]) {
+      cur = cur[part];
+    } else {
+      cur = cur[part] = {};
+    }
+  }
+};
+
+
+/**
+ * Defines a named value. In uncompiled mode, the value is retrieved from
+ * CLOSURE_DEFINES or CLOSURE_UNCOMPILED_DEFINES if the object is defined and
+ * has the property specified, and otherwise used the defined defaultValue.
+ * When compiled the default can be overridden using the compiler options or the
+ * value set in the CLOSURE_DEFINES object. Returns the defined value so that it
+ * can be used safely in modules. Note that the value type MUST be either
+ * boolean, number, or string.
+ *
+ * @param {string} name The distinguished name to provide.
+ * @param {T} defaultValue
+ * @return {T} The defined value.
+ * @template T
+ */
+goog.define = function(name, defaultValue) {
+  var value = defaultValue;
+  if (!COMPILED) {
+    var uncompiledDefines = goog.global.CLOSURE_UNCOMPILED_DEFINES;
+    var defines = goog.global.CLOSURE_DEFINES;
+    if (uncompiledDefines &&
+        // Anti DOM-clobbering runtime check (b/37736576).
+        /** @type {?} */ (uncompiledDefines).nodeType === undefined &&
+        Object.prototype.hasOwnProperty.call(uncompiledDefines, name)) {
+      value = uncompiledDefines[name];
+    } else if (
+        defines &&
+        // Anti DOM-clobbering runtime check (b/37736576).
+        /** @type {?} */ (defines).nodeType === undefined &&
+        Object.prototype.hasOwnProperty.call(defines, name)) {
+      value = defines[name];
+    }
+  }
+  return value;
+};
+
+
+/**
+ * @define {number} Integer year indicating the set of browser features that are
+ * guaranteed to be present.  This is defined to include exactly features that
+ * work correctly on all "modern" browsers that are stable on January 1 of the
+ * specified year.  For example,
+ * ```js
+ * if (goog.FEATURESET_YEAR >= 2019) {
+ *   // use APIs known to be available on all major stable browsers Jan 1, 2019
+ * } else {
+ *   // polyfill for older browsers
+ * }
+ * ```
+ * This is intended to be the primary define for removing
+ * unnecessary browser compatibility code (such as ponyfills and workarounds),
+ * and should inform the default value for most other defines:
+ * ```js
+ * const ASSUME_NATIVE_PROMISE =
+ *     goog.define('ASSUME_NATIVE_PROMISE', goog.FEATURESET_YEAR >= 2016);
+ * ```
+ *
+ * The default assumption is that IE9 is the lowest supported browser, which was
+ * first available Jan 1, 2012.
+ *
+ * TODO(mathiasb): Reference more thorough documentation when it's available.
+ */
+goog.FEATURESET_YEAR = goog.define('goog.FEATURESET_YEAR', 2012);
+
+
+/**
+ * @define {boolean} DEBUG is provided as a convenience so that debugging code
+ * that should not be included in a production. It can be easily stripped
+ * by specifying --define goog.DEBUG=false to the Closure Compiler aka
+ * JSCompiler. For example, most toString() methods should be declared inside an
+ * "if (goog.DEBUG)" conditional because they are generally used for debugging
+ * purposes and it is difficult for the JSCompiler to statically determine
+ * whether they are used.
+ */
+goog.DEBUG = goog.define('goog.DEBUG', true);
+
+
+/**
+ * @define {string} LOCALE defines the locale being used for compilation. It is
+ * used to select locale specific data to be compiled in js binary. BUILD rule
+ * can specify this value by "--define goog.LOCALE=<locale_name>" as a compiler
+ * option.
+ *
+ * Take into account that the locale code format is important. You should use
+ * the canonical Unicode format with hyphen as a delimiter. Language must be
+ * lowercase, Language Script - Capitalized, Region - UPPERCASE.
+ * There are few examples: pt-BR, en, en-US, sr-Latin-BO, zh-Hans-CN.
+ *
+ * See more info about locale codes here:
+ * http://www.unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers
+ *
+ * For language codes you should use values defined by ISO 693-1. See it here
+ * http://www.w3.org/WAI/ER/IG/ert/iso639.htm. There is only one exception from
+ * this rule: the Hebrew language. For legacy reasons the old code (iw) should
+ * be used instead of the new code (he).
+ *
+ * MOE:begin_intracomment_strip
+ * See http://g3doc/i18n/identifiers/g3doc/synonyms.
+ * MOE:end_intracomment_strip
+ */
+goog.LOCALE = goog.define('goog.LOCALE', 'en');  // default to en
+
+
+/**
+ * @define {boolean} Whether this code is running on trusted sites.
+ *
+ * On untrusted sites, several native functions can be defined or overridden by
+ * external libraries like Prototype, Datejs, and JQuery and setting this flag
+ * to false forces closure to use its own implementations when possible.
+ *
+ * If your JavaScript can be loaded by a third party site and you are wary about
+ * relying on non-standard implementations, specify
+ * "--define goog.TRUSTED_SITE=false" to the compiler.
+ */
+goog.TRUSTED_SITE = goog.define('goog.TRUSTED_SITE', true);
+
+
+/**
+ * @define {boolean} Whether code that calls {@link goog.setTestOnly} should
+ *     be disallowed in the compilation unit.
+ */
+goog.DISALLOW_TEST_ONLY_CODE =
+    goog.define('goog.DISALLOW_TEST_ONLY_CODE', COMPILED && !goog.DEBUG);
+
+
+/**
+ * @define {boolean} Whether to use a Chrome app CSP-compliant method for
+ *     loading scripts via goog.require. @see appendScriptSrcNode_.
+ */
+goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING =
+    goog.define('goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING', false);
+
+
+/**
+ * Defines a namespace in Closure.
+ *
+ * A namespace may only be defined once in a codebase. It may be defined using
+ * goog.provide() or goog.module().
+ *
+ * The presence of one or more goog.provide() calls in a file indicates
+ * that the file defines the given objects/namespaces.
+ * Provided symbols must not be null or undefined.
+ *
+ * In addition, goog.provide() creates the object stubs for a namespace
+ * (for example, goog.provide("goog.foo.bar") will create the object
+ * goog.foo.bar if it does not already exist).
+ *
+ * Build tools also scan for provide/require/module statements
+ * to discern dependencies, build dependency files (see deps.js), etc.
+ *
+ * @see goog.require
+ * @see goog.module
+ * @param {string} name Namespace provided by this file in the form
+ *     "goog.package.part".
+ * deprecated Use goog.module (see b/159289405)
+ */
+goog.provide = function(name) {
+  if (goog.isInModuleLoader_()) {
+    throw new Error('goog.provide cannot be used within a module.');
+  }
+  if (!COMPILED) {
+    // Ensure that the same namespace isn't provided twice.
+    // A goog.module/goog.provide maps a goog.require to a specific file
+    if (goog.isProvided_(name)) {
+      throw new Error('Namespace "' + name + '" already declared.');
+    }
+  }
+
+  goog.constructNamespace_(name);
+};
+
+
+/**
+ * @param {string} name Namespace provided by this file in the form
+ *     "goog.package.part".
+ * @param {?Object=} object The object to embed in the namespace.
+ * @param {boolean=} overwriteImplicit If object is set and a previous call
+ *     implicitly constructed the namespace given by name, this parameter
+ *     controls whether opt_obj should overwrite the implicitly constructed
+ *     namespace or be merged into it. Defaults to false.
+ * @private
+ */
+goog.constructNamespace_ = function(name, object, overwriteImplicit) {
+  if (!COMPILED) {
+    delete goog.implicitNamespaces_[name];
+
+    var namespace = name;
+    while ((namespace = namespace.substring(0, namespace.lastIndexOf('.')))) {
+      if (goog.getObjectByName(namespace)) {
+        break;
+      }
+      goog.implicitNamespaces_[namespace] = true;
+    }
+  }
+
+  goog.exportPath_(name, object, overwriteImplicit);
+};
+
+
+/**
+ * Returns CSP nonce, if set for any script tag.
+ * @param {?Window=} opt_window The window context used to retrieve the nonce.
+ *     Defaults to global context.
+ * @return {string} CSP nonce or empty string if no nonce is present.
+ * @deprecated Use goog.dom.safe.getScriptNonce.
+ */
+goog.getScriptNonce = function(opt_window) {
+  if (opt_window && opt_window != goog.global) {
+    return goog.getScriptNonce_(opt_window.document);
+  }
+  if (goog.cspNonce_ === null) {
+    goog.cspNonce_ = goog.getScriptNonce_(goog.global.document);
+  }
+  return goog.cspNonce_;
+};
+
+
+/**
+ * According to the CSP3 spec a nonce must be a valid base64 string.
+ * @see https://www.w3.org/TR/CSP3/#grammardef-base64-value
+ * @private @const
+ */
+goog.NONCE_PATTERN_ = /^[\w+/_-]+[=]{0,2}$/;
+
+
+/**
+ * @private {?string}
+ */
+goog.cspNonce_ = null;
+
+
+/**
+ * Returns CSP nonce, if set for any script tag.
+ * @param {!Document} doc
+ * @return {string} CSP nonce or empty string if no nonce is present.
+ * @private
+ */
+goog.getScriptNonce_ = function(doc) {
+  var script = doc.querySelector && doc.querySelector('script[nonce]');
+  if (script) {
+    // Try to get the nonce from the IDL property first, because browsers that
+    // implement additional nonce protection features (currently only Chrome) to
+    // prevent nonce stealing via CSS do not expose the nonce via attributes.
+    // See https://github.com/whatwg/html/issues/2369
+    var nonce = script['nonce'] || script.getAttribute('nonce');
+    if (nonce && goog.NONCE_PATTERN_.test(nonce)) {
+      return nonce;
+    }
+  }
+  return '';
+};
+
+
+/**
+ * Module identifier validation regexp.
+ * Note: This is a conservative check, it is very possible to be more lenient,
+ *   the primary exclusion here is "/" and "\" and a leading ".", these
+ *   restrictions are intended to leave the door open for using goog.require
+ *   with relative file paths rather than module identifiers.
+ * @private
+ */
+goog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
+
+
+/**
+ * Defines a module in Closure.
+ *
+ * Marks that this file must be loaded as a module and claims the namespace.
+ *
+ * A namespace may only be defined once in a codebase. It may be defined using
+ * goog.provide() or goog.module().
+ *
+ * goog.module() has three requirements:
+ * - goog.module may not be used in the same file as goog.provide.
+ * - goog.module must be the first statement in the file.
+ * - only one goog.module is allowed per file.
+ *
+ * When a goog.module annotated file is loaded, it is enclosed in
+ * a strict function closure. This means that:
+ * - any variables declared in a goog.module file are private to the file
+ * (not global), though the compiler is expected to inline the module.
+ * - The code must obey all the rules of "strict" JavaScript.
+ * - the file will be marked as "use strict"
+ *
+ * NOTE: unlike goog.provide, goog.module does not declare any symbols by
+ * itself. If declared symbols are desired, use
+ * goog.module.declareLegacyNamespace().
+ *
+ * MOE:begin_intracomment_strip
+ * See the goog.module announcement at http://go/goog.module-announce
+ * MOE:end_intracomment_strip
+ *
+ * See the public goog.module proposal: http://goo.gl/Va1hin
+ *
+ * @param {string} name Namespace provided by this file in the form
+ *     "goog.package.part", is expected but not required.
+ * @return {void}
+ */
+goog.module = function(name) {
+  if (typeof name !== 'string' || !name ||
+      name.search(goog.VALID_MODULE_RE_) == -1) {
+    throw new Error('Invalid module identifier');
+  }
+  if (!goog.isInGoogModuleLoader_()) {
+    throw new Error(
+        'Module ' + name + ' has been loaded incorrectly. Note, ' +
+        'modules cannot be loaded as normal scripts. They require some kind of ' +
+        'pre-processing step. You\'re likely trying to load a module via a ' +
+        'script tag or as a part of a concatenated bundle without rewriting the ' +
+        'module. For more info see: ' +
+        'https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.');
+  }
+  if (goog.moduleLoaderState_.moduleName) {
+    throw new Error('goog.module may only be called once per module.');
+  }
+
+  // Store the module name for the loader.
+  goog.moduleLoaderState_.moduleName = name;
+  if (!COMPILED) {
+    // Ensure that the same namespace isn't provided twice.
+    // A goog.module/goog.provide maps a goog.require to a specific file
+    if (goog.isProvided_(name)) {
+      throw new Error('Namespace "' + name + '" already declared.');
+    }
+    delete goog.implicitNamespaces_[name];
+  }
+};
+
+
+/**
+ * @param {string} name The module identifier.
+ * @return {?} The module exports for an already loaded module or null.
+ *
+ * Note: This is not an alternative to goog.require, it does not
+ * indicate a hard dependency, instead it is used to indicate
+ * an optional dependency or to access the exports of a module
+ * that has already been loaded.
+ * @suppress {missingProvide}
+ */
+goog.module.get = function(name) {
+  return goog.module.getInternal_(name);
+};
+
+
+/**
+ * @param {string} name The module identifier.
+ * @return {?} The module exports for an already loaded module or null.
+ * @private
+ */
+goog.module.getInternal_ = function(name) {
+  if (!COMPILED) {
+    if (name in goog.loadedModules_) {
+      return goog.loadedModules_[name].exports;
+    } else if (!goog.implicitNamespaces_[name]) {
+      var ns = goog.getObjectByName(name);
+      return ns != null ? ns : null;
+    }
+  }
+  return null;
+};
+
+
+/**
+ * Types of modules the debug loader can load.
+ * @enum {string}
+ */
+goog.ModuleType = {
+  ES6: 'es6',
+  GOOG: 'goog'
+};
+
+
+/**
+ * @private {?{
+ *   moduleName: (string|undefined),
+ *   declareLegacyNamespace:boolean,
+ *   type: ?goog.ModuleType
+ * }}
+ */
+goog.moduleLoaderState_ = null;
+
+
+/**
+ * @private
+ * @return {boolean} Whether a goog.module or an es6 module is currently being
+ *     initialized.
+ */
+goog.isInModuleLoader_ = function() {
+  return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();
+};
+
+
+/**
+ * @private
+ * @return {boolean} Whether a goog.module is currently being initialized.
+ */
+goog.isInGoogModuleLoader_ = function() {
+  return !!goog.moduleLoaderState_ &&
+      goog.moduleLoaderState_.type == goog.ModuleType.GOOG;
+};
+
+
+/**
+ * @private
+ * @return {boolean} Whether an es6 module is currently being initialized.
+ */
+goog.isInEs6ModuleLoader_ = function() {
+  var inLoader = !!goog.moduleLoaderState_ &&
+      goog.moduleLoaderState_.type == goog.ModuleType.ES6;
+
+  if (inLoader) {
+    return true;
+  }
+
+  var jscomp = goog.global['$jscomp'];
+
+  if (jscomp) {
+    // jscomp may not have getCurrentModulePath if this is a compiled bundle
+    // that has some of the runtime, but not all of it. This can happen if
+    // optimizations are turned on so the unused runtime is removed but renaming
+    // and Closure pass are off (so $jscomp is still named $jscomp and the
+    // goog.provide/require calls still exist).
+    if (typeof jscomp.getCurrentModulePath != 'function') {
+      return false;
+    }
+
+    // Bundled ES6 module.
+    return !!jscomp.getCurrentModulePath();
+  }
+
+  return false;
+};
+
+
+/**
+ * Provide the module's exports as a globally accessible object under the
+ * module's declared name.  This is intended to ease migration to goog.module
+ * for files that have existing usages.
+ * @suppress {missingProvide}
+ */
+goog.module.declareLegacyNamespace = function() {
+  if (!COMPILED && !goog.isInGoogModuleLoader_()) {
+    throw new Error(
+        'goog.module.declareLegacyNamespace must be called from ' +
+        'within a goog.module');
+  }
+  if (!COMPILED && !goog.moduleLoaderState_.moduleName) {
+    throw new Error(
+        'goog.module must be called prior to ' +
+        'goog.module.declareLegacyNamespace.');
+  }
+  goog.moduleLoaderState_.declareLegacyNamespace = true;
+};
+
+
+/**
+ * Associates an ES6 module with a Closure module ID so that is available via
+ * goog.require. The associated ID  acts like a goog.module ID - it does not
+ * create any global names, it is merely available via goog.require /
+ * goog.module.get / goog.forwardDeclare / goog.requireType. goog.require and
+ * goog.module.get will return the entire module as if it was import *'d. This
+ * allows Closure files to reference ES6 modules for the sake of migration.
+ *
+ * @param {string} namespace
+ * @suppress {missingProvide}
+ */
+goog.declareModuleId = function(namespace) {
+  if (!COMPILED) {
+    if (!goog.isInEs6ModuleLoader_()) {
+      throw new Error(
+          'goog.declareModuleId may only be called from ' +
+          'within an ES6 module');
+    }
+    if (goog.moduleLoaderState_ && goog.moduleLoaderState_.moduleName) {
+      throw new Error(
+          'goog.declareModuleId may only be called once per module.');
+    }
+    if (namespace in goog.loadedModules_) {
+      throw new Error(
+          'Module with namespace "' + namespace + '" already exists.');
+    }
+  }
+  if (goog.moduleLoaderState_) {
+    // Not bundled - debug loading.
+    goog.moduleLoaderState_.moduleName = namespace;
+  } else {
+    // Bundled - not debug loading, no module loader state.
+    var jscomp = goog.global['$jscomp'];
+    if (!jscomp || typeof jscomp.getCurrentModulePath != 'function') {
+      throw new Error(
+          'Module with namespace "' + namespace +
+          '" has been loaded incorrectly.');
+    }
+    var exports = jscomp.require(jscomp.getCurrentModulePath());
+    goog.loadedModules_[namespace] = {
+      exports: exports,
+      type: goog.ModuleType.ES6,
+      moduleId: namespace
+    };
+  }
+};
+
+
+/**
+ * Marks that the current file should only be used for testing, and never for
+ * live code in production.
+ *
+ * In the case of unit tests, the message may optionally be an exact namespace
+ * for the test (e.g. 'goog.stringTest'). The linter will then ignore the extra
+ * provide (if not explicitly defined in the code).
+ *
+ * @param {string=} opt_message Optional message to add to the error that's
+ *     raised when used in production code.
+ */
+goog.setTestOnly = function(opt_message) {
+  if (goog.DISALLOW_TEST_ONLY_CODE) {
+    opt_message = opt_message || '';
+    throw new Error(
+        'Importing test-only code into non-debug environment' +
+        (opt_message ? ': ' + opt_message : '.'));
+  }
+};
+
+
+/**
+ * Forward declares a symbol. This is an indication to the compiler that the
+ * symbol may be used in the source yet is not required and may not be provided
+ * in compilation.
+ *
+ * The most common usage of forward declaration is code that takes a type as a
+ * function parameter but does not need to require it. By forward declaring
+ * instead of requiring, no hard dependency is made, and (if not required
+ * elsewhere) the namespace may never be required and thus, not be pulled
+ * into the JavaScript binary. If it is required elsewhere, it will be type
+ * checked as normal.
+ *
+ * Before using goog.forwardDeclare, please read the documentation at
+ * https://github.com/google/closure-compiler/wiki/Bad-Type-Annotation to
+ * understand the options and tradeoffs when working with forward declarations.
+ *
+ * @param {string} name The namespace to forward declare in the form of
+ *     "goog.package.part".
+ * @deprecated See go/noforwarddeclaration, Use `goog.requireType` instead.
+ */
+goog.forwardDeclare = function(name) {};
+
+
+/**
+ * Forward declare type information. Used to assign types to goog.global
+ * referenced object that would otherwise result in unknown type references
+ * and thus block property disambiguation.
+ */
+goog.forwardDeclare('Document');
+goog.forwardDeclare('HTMLScriptElement');
+goog.forwardDeclare('XMLHttpRequest');
+
+
+if (!COMPILED) {
+  /**
+   * Check if the given name has been goog.provided. This will return false for
+   * names that are available only as implicit namespaces.
+   * @param {string} name name of the object to look for.
+   * @return {boolean} Whether the name has been provided.
+   * @private
+   */
+  goog.isProvided_ = function(name) {
+    return (name in goog.loadedModules_) ||
+        (!goog.implicitNamespaces_[name] && goog.getObjectByName(name) != null);
+  };
+
+  /**
+   * Namespaces implicitly defined by goog.provide. For example,
+   * goog.provide('goog.events.Event') implicitly declares that 'goog' and
+   * 'goog.events' must be namespaces.
+   *
+   * @type {!Object<string, (boolean|undefined)>}
+   * @private
+   */
+  goog.implicitNamespaces_ = {'goog.module': true};
+
+  // NOTE: We add goog.module as an implicit namespace as goog.module is defined
+  // here and because the existing module package has not been moved yet out of
+  // the goog.module namespace. This satisifies both the debug loader and
+  // ahead-of-time dependency management.
+}
+
+
+/**
+ * Returns an object based on its fully qualified external name.  The object
+ * is not found if null or undefined.  If you are using a compilation pass that
+ * renames property names beware that using this function will not find renamed
+ * properties.
+ *
+ * @param {string} name The fully qualified name.
+ * @param {Object=} opt_obj The object within which to look; default is
+ *     |goog.global|.
+ * @return {?} The value (object or primitive) or, if not found, null.
+ */
+goog.getObjectByName = function(name, opt_obj) {
+  var parts = name.split('.');
+  var cur = opt_obj || goog.global;
+  for (var i = 0; i < parts.length; i++) {
+    cur = cur[parts[i]];
+    if (cur == null) {
+      return null;
+    }
+  }
+  return cur;
+};
+
+
+/**
+ * Adds a dependency from a file to the files it requires.
+ * @param {string} relPath The path to the js file.
+ * @param {!Array<string>} provides An array of strings with
+ *     the names of the objects this file provides.
+ * @param {!Array<string>} requires An array of strings with
+ *     the names of the objects this file requires.
+ * @param {boolean|!Object<string>=} opt_loadFlags Parameters indicating
+ *     how the file must be loaded.  The boolean 'true' is equivalent
+ *     to {'module': 'goog'} for backwards-compatibility.  Valid properties
+ *     and values include {'module': 'goog'} and {'lang': 'es6'}.
+ */
+goog.addDependency = function(relPath, provides, requires, opt_loadFlags) {
+  if (!COMPILED && goog.DEPENDENCIES_ENABLED) {
+    goog.debugLoader_.addDependency(relPath, provides, requires, opt_loadFlags);
+  }
+};
+
+
+// MOE:begin_strip
+/**
+ * Whether goog.require should throw an exception if it fails.
+ * @type {boolean}
+ */
+goog.useStrictRequires = false;
+
+
+// MOE:end_strip
+
+
+// NOTE(nnaze): The debug DOM loader was included in base.js as an original way
+// to do "debug-mode" development.  The dependency system can sometimes be
+// confusing, as can the debug DOM loader's asynchronous nature.
+//
+// With the DOM loader, a call to goog.require() is not blocking -- the script
+// will not load until some point after the current script.  If a namespace is
+// needed at runtime, it needs to be defined in a previous script, or loaded via
+// require() with its registered dependencies.
+//
+// User-defined namespaces may need their own deps file. For a reference on
+// creating a deps file, see:
+// MOE:begin_strip
+// Internally: http://go/deps-files and http://go/be#js_deps
+// MOE:end_strip
+// Externally: https://developers.google.com/closure/library/docs/depswriter
+//
+// Because of legacy clients, the DOM loader can't be easily removed from
+// base.js.  Work was done to make it disableable or replaceable for
+// different environments (DOM-less JavaScript interpreters like Rhino or V8,
+// for example). See bootstrap/ for more information.
+
+
+/**
+ * @define {boolean} Whether to enable the debug loader.
+ *
+ * If enabled, a call to goog.require() will attempt to load the namespace by
+ * appending a script tag to the DOM (if the namespace has been registered).
+ *
+ * If disabled, goog.require() will simply assert that the namespace has been
+ * provided (and depend on the fact that some outside tool correctly ordered
+ * the script).
+ */
+goog.ENABLE_DEBUG_LOADER = goog.define('goog.ENABLE_DEBUG_LOADER', true);
+
+
+/**
+ * @param {string} msg
+ * @private
+ */
+goog.logToConsole_ = function(msg) {
+  if (goog.global.console) {
+    goog.global.console['error'](msg);
+  }
+};
+
+
+/**
+ * Implements a system for the dynamic resolution of dependencies that works in
+ * parallel with the BUILD system.
+ *
+ * Note that all calls to goog.require will be stripped by the compiler.
+ *
+ * @see goog.provide
+ * @param {string} namespace Namespace (as was given in goog.provide,
+ *     goog.module, or goog.declareModuleId) in the form
+ *     "goog.package.part".
+ * @return {?} If called within a goog.module or ES6 module file, the associated
+ *     namespace or module otherwise null.
+ */
+goog.require = function(namespace) {
+  if (!COMPILED) {
+    // Might need to lazy load on old IE.
+    if (goog.ENABLE_DEBUG_LOADER) {
+      goog.debugLoader_.requested(namespace);
+    }
+
+    // If the object already exists we do not need to do anything.
+    if (goog.isProvided_(namespace)) {
+      if (goog.isInModuleLoader_()) {
+        return goog.module.getInternal_(namespace);
+      }
+    } else if (goog.ENABLE_DEBUG_LOADER) {
+      var moduleLoaderState = goog.moduleLoaderState_;
+      goog.moduleLoaderState_ = null;
+      try {
+        goog.debugLoader_.load_(namespace);
+      } finally {
+        goog.moduleLoaderState_ = moduleLoaderState;
+      }
+    }
+
+    return null;
+  }
+};
+
+
+/**
+ * Requires a symbol for its type information. This is an indication to the
+ * compiler that the symbol may appear in type annotations, yet it is not
+ * referenced at runtime.
+ *
+ * When called within a goog.module or ES6 module file, the return value may be
+ * assigned to or destructured into a variable, but it may not be otherwise used
+ * in code outside of a type annotation.
+ *
+ * Note that all calls to goog.requireType will be stripped by the compiler.
+ *
+ * @param {string} namespace Namespace (as was given in goog.provide,
+ *     goog.module, or goog.declareModuleId) in the form
+ *     "goog.package.part".
+ * @return {?}
+ */
+goog.requireType = function(namespace) {
+  // Return an empty object so that single-level destructuring of the return
+  // value doesn't crash at runtime when using the debug loader. Multi-level
+  // destructuring isn't supported.
+  return {};
+};
+
+
+/**
+ * Path for included scripts.
+ * @type {string}
+ */
+goog.basePath = '';
+
+
+/**
+ * A hook for overriding the base path.
+ * @type {string|undefined}
+ */
+goog.global.CLOSURE_BASE_PATH;
+
+
+/**
+ * Whether to attempt to load Closure's deps file. By default, when uncompiled,
+ * deps files will attempt to be loaded.
+ * @type {boolean|undefined}
+ */
+goog.global.CLOSURE_NO_DEPS;
+
+
+/**
+ * A function to import a single script. This is meant to be overridden when
+ * Closure is being run in non-HTML contexts, such as web workers. It's defined
+ * in the global scope so that it can be set before base.js is loaded, which
+ * allows deps.js to be imported properly.
+ *
+ * The first parameter the script source, which is a relative URI. The second,
+ * optional parameter is the script contents, in the event the script needed
+ * transformation. It should return true if the script was imported, false
+ * otherwise.
+ * @type {(function(string, string=): boolean)|undefined}
+ */
+goog.global.CLOSURE_IMPORT_SCRIPT;
+
+
+/**
+ * Null function used for default values of callbacks, etc.
+ * @return {void} Nothing.
+ * @deprecated use '()=>{}' or 'function(){}' instead.
+ */
+goog.nullFunction = function() {};
+
+
+/**
+ * When defining a class Foo with an abstract method bar(), you can do:
+ * Foo.prototype.bar = goog.abstractMethod
+ *
+ * Now if a subclass of Foo fails to override bar(), an error will be thrown
+ * when bar() is invoked.
+ *
+ * @type {!Function}
+ * @throws {Error} when invoked to indicate the method should be overridden.
+ * @deprecated Use "@abstract" annotation instead of goog.abstractMethod in new
+ *     code. See
+ *     https://github.com/google/closure-compiler/wiki/@abstract-classes-and-methods
+ */
+goog.abstractMethod = function() {
+  throw new Error('unimplemented abstract method');
+};
+
+
+/**
+ * Adds a `getInstance` static method that always returns the same
+ * instance object.
+ * @param {!Function} ctor The constructor for the class to add the static
+ *     method to.
+ * @suppress {missingProperties} 'instance_' isn't a property on 'Function'
+ *     but we don't have a better type to use here.
+ */
+goog.addSingletonGetter = function(ctor) {
+  // instance_ is immediately set to prevent issues with sealed constructors
+  // such as are encountered when a constructor is returned as the export object
+  // of a goog.module in unoptimized code.
+  // Delcare type to avoid conformance violations that ctor.instance_ is unknown
+  /** @type {undefined|!Object} @suppress {underscore} */
+  ctor.instance_ = undefined;
+  ctor.getInstance = function() {
+    if (ctor.instance_) {
+      return ctor.instance_;
+    }
+    if (goog.DEBUG) {
+      // NOTE: JSCompiler can't optimize away Array#push.
+      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;
+    }
+    // Cast to avoid conformance violations that ctor.instance_ is unknown
+    return /** @type {!Object|undefined} */ (ctor.instance_) = new ctor;
+  };
+};
+
+
+/**
+ * All singleton classes that have been instantiated, for testing. Don't read
+ * it directly, use the `goog.testing.singleton` module. The compiler
+ * removes this variable if unused.
+ * @type {!Array<!Function>}
+ * @private
+ */
+goog.instantiatedSingletons_ = [];
+
+
+/**
+ * @define {boolean} Whether to load goog.modules using `eval` when using
+ * the debug loader.  This provides a better debugging experience as the
+ * source is unmodified and can be edited using Chrome Workspaces or similar.
+ * However in some environments the use of `eval` is banned
+ * so we provide an alternative.
+ */
+goog.LOAD_MODULE_USING_EVAL = goog.define('goog.LOAD_MODULE_USING_EVAL', true);
+
+
+/**
+ * @define {boolean} Whether the exports of goog.modules should be sealed when
+ * possible.
+ */
+goog.SEAL_MODULE_EXPORTS = goog.define('goog.SEAL_MODULE_EXPORTS', goog.DEBUG);
+
+
+/**
+ * The registry of initialized modules:
+ * The module identifier or path to module exports map.
+ * @private @const {!Object<string, {exports:?,type:string,moduleId:string}>}
+ */
+goog.loadedModules_ = {};
+
+
+/**
+ * True if the debug loader enabled and used.
+ * @const {boolean}
+ */
+goog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;
+
+
+/**
+ * @define {string} How to decide whether to transpile.  Valid values
+ * are 'always', 'never', and 'detect'.  The default ('detect') is to
+ * use feature detection to determine which language levels need
+ * transpilation.
+ */
+// NOTE(sdh): we could expand this to accept a language level to bypass
+// detection: e.g. goog.TRANSPILE == 'es5' would transpile ES6 files but
+// would leave ES3 and ES5 files alone.
+goog.TRANSPILE = goog.define('goog.TRANSPILE', 'detect');
+
+/**
+ * @define {boolean} If true assume that ES modules have already been
+ * transpiled by the jscompiler (in the same way that transpile.js would
+ * transpile them - to jscomp modules). Useful only for servers that wish to use
+ * the debug loader and transpile server side. Thus this is only respected if
+ * goog.TRANSPILE is "never".
+ */
+goog.ASSUME_ES_MODULES_TRANSPILED =
+    goog.define('goog.ASSUME_ES_MODULES_TRANSPILED', false);
+
+
+/**
+ * @define {string} If a file needs to be transpiled what the output language
+ * should be. By default this is the highest language level this file detects
+ * the current environment supports. Generally this flag should not be set, but
+ * it could be useful to override. Example: If the current environment supports
+ * ES6 then by default ES7+ files will be transpiled to ES6, unless this is
+ * overridden.
+ *
+ * Valid values include: es3, es5, es6, es7, and es8. Anything not recognized
+ * is treated as es3.
+ *
+ * Note that setting this value does not force transpilation. Just if
+ * transpilation occurs this will be the output. So this is most useful when
+ * goog.TRANSPILE is set to 'always' and then forcing the language level to be
+ * something lower than what the environment detects.
+ */
+goog.TRANSPILE_TO_LANGUAGE = goog.define('goog.TRANSPILE_TO_LANGUAGE', '');
+
+
+/**
+ * @define {string} Path to the transpiler.  Executing the script at this
+ * path (relative to base.js) should define a function $jscomp.transpile.
+ */
+goog.TRANSPILER = goog.define('goog.TRANSPILER', 'transpile.js');
+
+
+/**
+ * @define {string} Trusted Types policy name. If non-empty then Closure will
+ * use Trusted Types.
+ */
+goog.TRUSTED_TYPES_POLICY_NAME =
+    goog.define('goog.TRUSTED_TYPES_POLICY_NAME', 'goog');
+
+
+/**
+ * @package {?boolean}
+ * Visible for testing.
+ */
+goog.hasBadLetScoping = null;
+
+
+/**
+ * @param {function(?):?|string} moduleDef The module definition.
+ */
+goog.loadModule = function(moduleDef) {
+  // NOTE: we allow function definitions to be either in the from
+  // of a string to eval (which keeps the original source intact) or
+  // in a eval forbidden environment (CSP) we allow a function definition
+  // which in its body must call `goog.module`, and return the exports
+  // of the module.
+  var previousState = goog.moduleLoaderState_;
+  try {
+    goog.moduleLoaderState_ = {
+      moduleName: '',
+      declareLegacyNamespace: false,
+      type: goog.ModuleType.GOOG
+    };
+    var origExports = {};
+    var exports = origExports;
+    if (typeof moduleDef === 'function') {
+      exports = moduleDef.call(undefined, exports);
+    } else if (typeof moduleDef === 'string') {
+      exports = goog.loadModuleFromSource_.call(undefined, exports, moduleDef);
+    } else {
+      throw new Error('Invalid module definition');
+    }
+
+    var moduleName = goog.moduleLoaderState_.moduleName;
+    if (typeof moduleName === 'string' && moduleName) {
+      // Don't seal legacy namespaces as they may be used as a parent of
+      // another namespace
+      if (goog.moduleLoaderState_.declareLegacyNamespace) {
+        // Whether exports was overwritten via default export assignment.
+        // This is important for legacy namespaces as it dictates whether
+        // previously a previously loaded implicit namespace should be clobbered
+        // or not.
+        var isDefaultExport = origExports !== exports;
+        goog.constructNamespace_(moduleName, exports, isDefaultExport);
+      } else if (
+          goog.SEAL_MODULE_EXPORTS && Object.seal &&
+          typeof exports == 'object' && exports != null) {
+        Object.seal(exports);
+      }
+
+      var data = {
+        exports: exports,
+        type: goog.ModuleType.GOOG,
+        moduleId: goog.moduleLoaderState_.moduleName
+      };
+      goog.loadedModules_[moduleName] = data;
+    } else {
+      throw new Error('Invalid module name \"' + moduleName + '\"');
+    }
+  } finally {
+    goog.moduleLoaderState_ = previousState;
+  }
+};
+
+
+/**
+ * @private @const
+ */
+goog.loadModuleFromSource_ =
+    /** @type {function(!Object, string):?} */ (function(exports) {
+      // NOTE: we avoid declaring parameters or local variables here to avoid
+      // masking globals or leaking values into the module definition.
+      'use strict';
+      eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(arguments[1]));
+      return exports;
+    });
+
+
+/**
+ * Normalize a file path by removing redundant ".." and extraneous "." file
+ * path components.
+ * @param {string} path
+ * @return {string}
+ * @private
+ */
+goog.normalizePath_ = function(path) {
+  var components = path.split('/');
+  var i = 0;
+  while (i < components.length) {
+    if (components[i] == '.') {
+      components.splice(i, 1);
+    } else if (
+        i && components[i] == '..' && components[i - 1] &&
+        components[i - 1] != '..') {
+      components.splice(--i, 2);
+    } else {
+      i++;
+    }
+  }
+  return components.join('/');
+};
+
+
+/**
+ * Provides a hook for loading a file when using Closure's goog.require() API
+ * with goog.modules.  In particular this hook is provided to support Node.js.
+ *
+ * @type {(function(string):string)|undefined}
+ */
+goog.global.CLOSURE_LOAD_FILE_SYNC;
+
+
+/**
+ * Loads file by synchronous XHR. Should not be used in production environments.
+ * @param {string} src Source URL.
+ * @return {?string} File contents, or null if load failed.
+ * @private
+ */
+goog.loadFileSync_ = function(src) {
+  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {
+    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);
+  } else {
+    try {
+      /** @type {XMLHttpRequest} */
+      var xhr = new goog.global['XMLHttpRequest']();
+      xhr.open('get', src, false);
+      xhr.send();
+      // NOTE: Successful http: requests have a status of 200, but successful
+      // file: requests may have a status of zero.  Any other status, or a
+      // thrown exception (particularly in case of file: requests) indicates
+      // some sort of error, which we treat as a missing or unavailable file.
+      return xhr.status == 0 || xhr.status == 200 ? xhr.responseText : null;
+    } catch (err) {
+      // No need to rethrow or log, since errors should show up on their own.
+      return null;
+    }
+  }
+};
+
+
+/**
+ * Lazily retrieves the transpiler and applies it to the source.
+ * @param {string} code JS code.
+ * @param {string} path Path to the code.
+ * @param {string} target Language level output.
+ * @return {string} The transpiled code.
+ * @private
+ */
+goog.transpile_ = function(code, path, target) {
+  var jscomp = goog.global['$jscomp'];
+  if (!jscomp) {
+    goog.global['$jscomp'] = jscomp = {};
+  }
+  var transpile = jscomp.transpile;
+  if (!transpile) {
+    var transpilerPath = goog.basePath + goog.TRANSPILER;
+    var transpilerCode = goog.loadFileSync_(transpilerPath);
+    if (transpilerCode) {
+      // This must be executed synchronously, since by the time we know we
+      // need it, we're about to load and write the ES6 code synchronously,
+      // so a normal script-tag load will be too slow. Wrapped in a function
+      // so that code is eval'd in the global scope.
+      (function() {
+        (0, eval)(transpilerCode + '\n//# sourceURL=' + transpilerPath);
+      }).call(goog.global);
+      // Even though the transpiler is optional, if $gwtExport is found, it's
+      // a sign the transpiler was loaded and the $jscomp.transpile *should*
+      // be there.
+      if (goog.global['$gwtExport'] && goog.global['$gwtExport']['$jscomp'] &&
+          !goog.global['$gwtExport']['$jscomp']['transpile']) {
+        throw new Error(
+            'The transpiler did not properly export the "transpile" ' +
+            'method. $gwtExport: ' + JSON.stringify(goog.global['$gwtExport']));
+      }
+      // transpile.js only exports a single $jscomp function, transpile. We
+      // grab just that and add it to the existing definition of $jscomp which
+      // contains the polyfills.
+      goog.global['$jscomp'].transpile =
+          goog.global['$gwtExport']['$jscomp']['transpile'];
+      jscomp = goog.global['$jscomp'];
+      transpile = jscomp.transpile;
+    }
+  }
+  if (!transpile) {
+    // The transpiler is an optional component.  If it's not available then
+    // replace it with a pass-through function that simply logs.
+    var suffix = ' requires transpilation but no transpiler was found.';
+    // MOE:begin_strip
+    suffix +=  // Provide a more appropriate message internally.
+        ' Please add "//javascript/closure:transpiler" as a data ' +
+        'dependency to ensure it is included.';
+    // MOE:end_strip
+    transpile = jscomp.transpile = function(code, path) {
+      // TODO(sdh): figure out some way to get this error to show up
+      // in test results, noting that the failure may occur in many
+      // different ways, including in loadModule() before the test
+      // runner even comes up.
+      goog.logToConsole_(path + suffix);
+      return code;
+    };
+  }
+  // Note: any transpilation errors/warnings will be logged to the console.
+  return transpile(code, path, target);
+};
+
+//==============================================================================
+// Language Enhancements
+//==============================================================================
+
+
+/**
+ * This is a "fixed" version of the typeof operator.  It differs from the typeof
+ * operator in such a way that null returns 'null' and arrays return 'array'.
+ * @param {?} value The value to get the type of.
+ * @return {string} The name of the type.
+ */
+goog.typeOf = function(value) {
+  var s = typeof value;
+
+  if (s != 'object') {
+    return s;
+  }
+
+  if (!value) {
+    return 'null';
+  }
+
+  if (Array.isArray(value)) {
+    return 'array';
+  }
+  return s;
+};
+
+
+/**
+ * Returns true if the object looks like an array. To qualify as array like
+ * the value needs to be either a NodeList or an object with a Number length
+ * property. Note that for this function neither strings nor functions are
+ * considered "array-like".
+ *
+ * @param {?} val Variable to test.
+ * @return {boolean} Whether variable is an array.
+ */
+goog.isArrayLike = function(val) {
+  var type = goog.typeOf(val);
+  // We do not use goog.isObject here in order to exclude function values.
+  return type == 'array' || type == 'object' && typeof val.length == 'number';
+};
+
+
+/**
+ * Returns true if the object looks like a Date. To qualify as Date-like the
+ * value needs to be an object and have a getFullYear() function.
+ * @param {?} val Variable to test.
+ * @return {boolean} Whether variable is a like a Date.
+ */
+goog.isDateLike = function(val) {
+  return goog.isObject(val) && typeof val.getFullYear == 'function';
+};
+
+
+/**
+ * Returns true if the specified value is an object.  This includes arrays and
+ * functions.
+ * @param {?} val Variable to test.
+ * @return {boolean} Whether variable is an object.
+ */
+goog.isObject = function(val) {
+  var type = typeof val;
+  return type == 'object' && val != null || type == 'function';
+  // return Object(val) === val also works, but is slower, especially if val is
+  // not an object.
+};
+
+
+/**
+ * Gets a unique ID for an object. This mutates the object so that further calls
+ * with the same object as a parameter returns the same value. The unique ID is
+ * guaranteed to be unique across the current session amongst objects that are
+ * passed into `getUid`. There is no guarantee that the ID is unique or
+ * consistent across sessions. It is unsafe to generate unique ID for function
+ * prototypes.
+ *
+ * @param {Object} obj The object to get the unique ID for.
+ * @return {number} The unique ID for the object.
+ */
+goog.getUid = function(obj) {
+  // TODO(arv): Make the type stricter, do not accept null.
+  return Object.prototype.hasOwnProperty.call(obj, goog.UID_PROPERTY_) &&
+      obj[goog.UID_PROPERTY_] ||
+      (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);
+};
+
+
+/**
+ * Whether the given object is already assigned a unique ID.
+ *
+ * This does not modify the object.
+ *
+ * @param {!Object} obj The object to check.
+ * @return {boolean} Whether there is an assigned unique id for the object.
+ */
+goog.hasUid = function(obj) {
+  return !!obj[goog.UID_PROPERTY_];
+};
+
+
+/**
+ * Removes the unique ID from an object. This is useful if the object was
+ * previously mutated using `goog.getUid` in which case the mutation is
+ * undone.
+ * @param {Object} obj The object to remove the unique ID field from.
+ */
+goog.removeUid = function(obj) {
+  // TODO(arv): Make the type stricter, do not accept null.
+
+  // In IE, DOM nodes are not instances of Object and throw an exception if we
+  // try to delete.  Instead we try to use removeAttribute.
+  if (obj !== null && 'removeAttribute' in obj) {
+    obj.removeAttribute(goog.UID_PROPERTY_);
+  }
+
+  try {
+    delete obj[goog.UID_PROPERTY_];
+  } catch (ex) {
+  }
+};
+
+
+/**
+ * Name for unique ID property. Initialized in a way to help avoid collisions
+ * with other closure JavaScript on the same page.
+ * @type {string}
+ * @private
+ */
+goog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);
+
+
+/**
+ * Counter for UID.
+ * @type {number}
+ * @private
+ */
+goog.uidCounter_ = 0;
+
+
+/**
+ * Clones a value. The input may be an Object, Array, or basic type. Objects and
+ * arrays will be cloned recursively.
+ *
+ * WARNINGS:
+ * <code>goog.cloneObject</code> does not detect reference loops. Objects that
+ * refer to themselves will cause infinite recursion.
+ *
+ * <code>goog.cloneObject</code> is unaware of unique identifiers, and copies
+ * UIDs created by <code>getUid</code> into cloned results.
+ *
+ * @param {*} obj The value to clone.
+ * @return {*} A clone of the input value.
+ * @deprecated goog.cloneObject is unsafe. Prefer the goog.object methods.
+ */
+goog.cloneObject = function(obj) {
+  var type = goog.typeOf(obj);
+  if (type == 'object' || type == 'array') {
+    if (typeof obj.clone === 'function') {
+      return obj.clone();
+    }
+    var clone = type == 'array' ? [] : {};
+    for (var key in obj) {
+      clone[key] = goog.cloneObject(obj[key]);
+    }
+    return clone;
+  }
+
+  return obj;
+};
+
+
+/**
+ * A native implementation of goog.bind.
+ * @param {?function(this:T, ...)} fn A function to partially apply.
+ * @param {T} selfObj Specifies the object which this should point to when the
+ *     function is run.
+ * @param {...*} var_args Additional arguments that are partially applied to the
+ *     function.
+ * @return {!Function} A partially-applied form of the function goog.bind() was
+ *     invoked as a method of.
+ * @template T
+ * @private
+ */
+goog.bindNative_ = function(fn, selfObj, var_args) {
+  return /** @type {!Function} */ (fn.call.apply(fn.bind, arguments));
+};
+
+
+/**
+ * A pure-JS implementation of goog.bind.
+ * @param {?function(this:T, ...)} fn A function to partially apply.
+ * @param {T} selfObj Specifies the object which this should point to when the
+ *     function is run.
+ * @param {...*} var_args Additional arguments that are partially applied to the
+ *     function.
+ * @return {!Function} A partially-applied form of the function goog.bind() was
+ *     invoked as a method of.
+ * @template T
+ * @private
+ */
+goog.bindJs_ = function(fn, selfObj, var_args) {
+  if (!fn) {
+    throw new Error();
+  }
+
+  if (arguments.length > 2) {
+    var boundArgs = Array.prototype.slice.call(arguments, 2);
+    return function() {
+      // Prepend the bound arguments to the current arguments.
+      var newArgs = Array.prototype.slice.call(arguments);
+      Array.prototype.unshift.apply(newArgs, boundArgs);
+      return fn.apply(selfObj, newArgs);
+    };
+
+  } else {
+    return function() {
+      return fn.apply(selfObj, arguments);
+    };
+  }
+};
+
+
+/**
+ * Partially applies this function to a particular 'this object' and zero or
+ * more arguments. The result is a new function with some arguments of the first
+ * function pre-filled and the value of this 'pre-specified'.
+ *
+ * Remaining arguments specified at call-time are appended to the pre-specified
+ * ones.
+ *
+ * Also see: {@link #partial}.
+ *
+ * Usage:
+ * <pre>var barMethBound = goog.bind(myFunction, myObj, 'arg1', 'arg2');
+ * barMethBound('arg3', 'arg4');</pre>
+ *
+ * @param {?function(this:T, ...)} fn A function to partially apply.
+ * @param {T} selfObj Specifies the object which this should point to when the
+ *     function is run.
+ * @param {...*} var_args Additional arguments that are partially applied to the
+ *     function.
+ * @return {!Function} A partially-applied form of the function goog.bind() was
+ *     invoked as a method of.
+ * @template T
+ * @suppress {deprecated} See above.
+ * @deprecated use `=> {}` or Function.prototype.bind instead.
+ */
+goog.bind = function(fn, selfObj, var_args) {
+  // TODO(nicksantos): narrow the type signature.
+  if (Function.prototype.bind &&
+      // NOTE(nicksantos): Somebody pulled base.js into the default Chrome
+      // extension environment. This means that for Chrome extensions, they get
+      // the implementation of Function.prototype.bind that calls goog.bind
+      // instead of the native one. Even worse, we don't want to introduce a
+      // circular dependency between goog.bind and Function.prototype.bind, so
+      // we have to hack this to make sure it works correctly.
+      Function.prototype.bind.toString().indexOf('native code') != -1) {
+    goog.bind = goog.bindNative_;
+  } else {
+    goog.bind = goog.bindJs_;
+  }
+  return goog.bind.apply(null, arguments);
+};
+
+
+/**
+ * Like goog.bind(), except that a 'this object' is not required. Useful when
+ * the target function is already bound.
+ *
+ * Usage:
+ * var g = goog.partial(f, arg1, arg2);
+ * g(arg3, arg4);
+ *
+ * @param {Function} fn A function to partially apply.
+ * @param {...*} var_args Additional arguments that are partially applied to fn.
+ * @return {!Function} A partially-applied form of the function goog.partial()
+ *     was invoked as a method of.
+ */
+goog.partial = function(fn, var_args) {
+  var args = Array.prototype.slice.call(arguments, 1);
+  return function() {
+    // Clone the array (with slice()) and append additional arguments
+    // to the existing arguments.
+    var newArgs = args.slice();
+    newArgs.push.apply(newArgs, arguments);
+    return fn.apply(/** @type {?} */ (this), newArgs);
+  };
+};
+
+
+/**
+ * Copies all the members of a source object to a target object. This method
+ * does not work on all browsers for all objects that contain keys such as
+ * toString or hasOwnProperty. Use goog.object.extend for this purpose.
+ *
+ * NOTE: Some have advocated for the use of goog.mixin to setup classes
+ * with multiple inheritence (traits, mixins, etc).  However, as it simply
+ * uses "for in", this is not compatible with ES6 classes whose methods are
+ * non-enumerable.  Changing this, would break cases where non-enumerable
+ * properties are not expected.
+ *
+ * @param {Object} target Target.
+ * @param {Object} source Source.
+ * @deprecated Prefer Object.assign
+ */
+goog.mixin = function(target, source) {
+  for (var x in source) {
+    target[x] = source[x];
+  }
+
+  // For IE7 or lower, the for-in-loop does not contain any properties that are
+  // not enumerable on the prototype object (for example, isPrototypeOf from
+  // Object.prototype) but also it will not include 'replace' on objects that
+  // extend String and change 'replace' (not that it is common for anyone to
+  // extend anything except Object).
+};
+
+
+/**
+ * @return {number} An integer value representing the number of milliseconds
+ *     between midnight, January 1, 1970 and the current time.
+ * @deprecated Use Date.now
+ */
+goog.now = function() {
+  return Date.now();
+};
+
+
+/**
+ * Evals JavaScript in the global scope.
+ *
+ * Throws an exception if neither execScript or eval is defined.
+ * @param {string|!TrustedScript} script JavaScript string.
+ */
+goog.globalEval = function(script) {
+  (0, eval)(script);
+};
+
+
+/**
+ * Optional map of CSS class names to obfuscated names used with
+ * goog.getCssName().
+ * @private {!Object<string, string>|undefined}
+ * @see goog.setCssNameMapping
+ */
+goog.cssNameMapping_;
+
+
+/**
+ * Optional obfuscation style for CSS class names. Should be set to either
+ * 'BY_WHOLE' or 'BY_PART' if defined.
+ * @type {string|undefined}
+ * @private
+ * @see goog.setCssNameMapping
+ */
+goog.cssNameMappingStyle_;
+
+
+
+/**
+ * A hook for modifying the default behavior goog.getCssName. The function
+ * if present, will receive the standard output of the goog.getCssName as
+ * its input.
+ *
+ * @type {(function(string):string)|undefined}
+ */
+goog.global.CLOSURE_CSS_NAME_MAP_FN;
+
+
+/**
+ * Handles strings that are intended to be used as CSS class names.
+ *
+ * This function works in tandem with @see goog.setCssNameMapping.
+ *
+ * Without any mapping set, the arguments are simple joined with a hyphen and
+ * passed through unaltered.
+ *
+ * When there is a mapping, there are two possible styles in which these
+ * mappings are used. In the BY_PART style, each part (i.e. in between hyphens)
+ * of the passed in css name is rewritten according to the map. In the BY_WHOLE
+ * style, the full css name is looked up in the map directly. If a rewrite is
+ * not specified by the map, the compiler will output a warning.
+ *
+ * When the mapping is passed to the compiler, it will replace calls to
+ * goog.getCssName with the strings from the mapping, e.g.
+ *     var x = goog.getCssName('foo');
+ *     var y = goog.getCssName(this.baseClass, 'active');
+ *  becomes:
+ *     var x = 'foo';
+ *     var y = this.baseClass + '-active';
+ *
+ * If one argument is passed it will be processed, if two are passed only the
+ * modifier will be processed, as it is assumed the first argument was generated
+ * as a result of calling goog.getCssName.
+ *
+ * @param {string} className The class name.
+ * @param {string=} opt_modifier A modifier to be appended to the class name.
+ * @return {string} The class name or the concatenation of the class name and
+ *     the modifier.
+ */
+goog.getCssName = function(className, opt_modifier) {
+  // String() is used for compatibility with compiled soy where the passed
+  // className can be non-string objects.
+  if (String(className).charAt(0) == '.') {
+    throw new Error(
+        'className passed in goog.getCssName must not start with ".".' +
+        ' You passed: ' + className);
+  }
+
+  var getMapping = function(cssName) {
+    return goog.cssNameMapping_[cssName] || cssName;
+  };
+
+  var renameByParts = function(cssName) {
+    // Remap all the parts individually.
+    var parts = cssName.split('-');
+    var mapped = [];
+    for (var i = 0; i < parts.length; i++) {
+      mapped.push(getMapping(parts[i]));
+    }
+    return mapped.join('-');
+  };
+
+  var rename;
+  if (goog.cssNameMapping_) {
+    rename =
+        goog.cssNameMappingStyle_ == 'BY_WHOLE' ? getMapping : renameByParts;
+  } else {
+    rename = function(a) {
+      return a;
+    };
+  }
+
+  var result =
+      opt_modifier ? className + '-' + rename(opt_modifier) : rename(className);
+
+  // The special CLOSURE_CSS_NAME_MAP_FN allows users to specify further
+  // processing of the class name.
+  if (goog.global.CLOSURE_CSS_NAME_MAP_FN) {
+    return goog.global.CLOSURE_CSS_NAME_MAP_FN(result);
+  }
+
+  return result;
+};
+
+
+/**
+ * Sets the map to check when returning a value from goog.getCssName(). Example:
+ * <pre>
+ * goog.setCssNameMapping({
+ *   "goog": "a",
+ *   "disabled": "b",
+ * });
+ *
+ * var x = goog.getCssName('goog');
+ * // The following evaluates to: "a a-b".
+ * goog.getCssName('goog') + ' ' + goog.getCssName(x, 'disabled')
+ * </pre>
+ * When declared as a map of string literals to string literals, the JSCompiler
+ * will replace all calls to goog.getCssName() using the supplied map if the
+ * --process_closure_primitives flag is set.
+ *
+ * @param {!Object} mapping A map of strings to strings where keys are possible
+ *     arguments to goog.getCssName() and values are the corresponding values
+ *     that should be returned.
+ * @param {string=} opt_style The style of css name mapping. There are two valid
+ *     options: 'BY_PART', and 'BY_WHOLE'.
+ * @see goog.getCssName for a description.
+ */
+goog.setCssNameMapping = function(mapping, opt_style) {
+  goog.cssNameMapping_ = mapping;
+  goog.cssNameMappingStyle_ = opt_style;
+};
+
+
+/**
+ * To use CSS renaming in compiled mode, one of the input files should have a
+ * call to goog.setCssNameMapping() with an object literal that the JSCompiler
+ * can extract and use to replace all calls to goog.getCssName(). In uncompiled
+ * mode, JavaScript code should be loaded before this base.js file that declares
+ * a global variable, CLOSURE_CSS_NAME_MAPPING, which is used below. This is
+ * to ensure that the mapping is loaded before any calls to goog.getCssName()
+ * are made in uncompiled mode.
+ *
+ * A hook for overriding the CSS name mapping.
+ * @type {!Object<string, string>|undefined}
+ */
+goog.global.CLOSURE_CSS_NAME_MAPPING;
+
+
+if (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {
+  // This does not call goog.setCssNameMapping() because the JSCompiler
+  // requires that goog.setCssNameMapping() be called with an object literal.
+  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;
+}
+
+
+/**
+ * Gets a localized message.
+ *
+ * This function is a compiler primitive. If you give the compiler a localized
+ * message bundle, it will replace the string at compile-time with a localized
+ * version, and expand goog.getMsg call to a concatenated string.
+ *
+ * Messages must be initialized in the form:
+ * <code>
+ * var MSG_NAME = goog.getMsg('Hello {$placeholder}', {'placeholder': 'world'});
+ * </code>
+ *
+ * This function produces a string which should be treated as plain text. Use
+ * {@link goog.html.SafeHtmlFormatter} in conjunction with goog.getMsg to
+ * produce SafeHtml.
+ *
+ * @param {string} str Translatable string, places holders in the form {$foo}.
+ * @param {Object<string, string>=} opt_values Maps place holder name to value.
+ * @param {{html: (boolean|undefined),
+ *         unescapeHtmlEntities: (boolean|undefined)}=} opt_options Options:
+ *     html: Escape '<' in str to '&lt;'. Used by Closure Templates where the
+ *     generated code size and performance is critical which is why {@link
+ *     goog.html.SafeHtmlFormatter} is not used. The value must be literal true
+ *     or false.
+ *     unescapeHtmlEntities: Unescape common html entities: &gt;, &lt;, &apos;,
+ *     &quot; and &amp;. Used for messages not in HTML context, such as with
+ *     `textContent` property.
+ * @return {string} message with placeholders filled.
+ */
+goog.getMsg = function(str, opt_values, opt_options) {
+  if (opt_options && opt_options.html) {
+    // Note that '&' is not replaced because the translation can contain HTML
+    // entities.
+    str = str.replace(/</g, '&lt;');
+  }
+  if (opt_options && opt_options.unescapeHtmlEntities) {
+    // Note that "&amp;" must be the last to avoid "creating" new entities.
+    str = str.replace(/&lt;/g, '<')
+              .replace(/&gt;/g, '>')
+              .replace(/&apos;/g, '\'')
+              .replace(/&quot;/g, '"')
+              .replace(/&amp;/g, '&');
+  }
+  if (opt_values) {
+    str = str.replace(/\{\$([^}]+)}/g, function(match, key) {
+      return (opt_values != null && key in opt_values) ? opt_values[key] :
+                                                         match;
+    });
+  }
+  return str;
+};
+
+
+/**
+ * Gets a localized message. If the message does not have a translation, gives a
+ * fallback message.
+ *
+ * This is useful when introducing a new message that has not yet been
+ * translated into all languages.
+ *
+ * This function is a compiler primitive. Must be used in the form:
+ * <code>var x = goog.getMsgWithFallback(MSG_A, MSG_B);</code>
+ * where MSG_A and MSG_B were initialized with goog.getMsg.
+ *
+ * @param {string} a The preferred message.
+ * @param {string} b The fallback message.
+ * @return {string} The best translated message.
+ */
+goog.getMsgWithFallback = function(a, b) {
+  return a;
+};
+
+
+/**
+ * Exposes an unobfuscated global namespace path for the given object.
+ * Note that fields of the exported object *will* be obfuscated, unless they are
+ * exported in turn via this function or goog.exportProperty.
+ *
+ * Also handy for making public items that are defined in anonymous closures.
+ *
+ * ex. goog.exportSymbol('public.path.Foo', Foo);
+ *
+ * ex. goog.exportSymbol('public.path.Foo.staticFunction', Foo.staticFunction);
+ *     public.path.Foo.staticFunction();
+ *
+ * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',
+ *                       Foo.prototype.myMethod);
+ *     new public.path.Foo().myMethod();
+ *
+ * @param {string} publicPath Unobfuscated name to export.
+ * @param {*} object Object the name should point to.
+ * @param {?Object=} objectToExportTo The object to add the path to; default
+ *     is goog.global.
+ */
+goog.exportSymbol = function(publicPath, object, objectToExportTo) {
+  goog.exportPath_(
+      publicPath, object, /* overwriteImplicit= */ true, objectToExportTo);
+};
+
+
+/**
+ * Exports a property unobfuscated into the object's namespace.
+ * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);
+ * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);
+ * @param {Object} object Object whose static property is being exported.
+ * @param {string} publicName Unobfuscated name to export.
+ * @param {*} symbol Object the name should point to.
+ */
+goog.exportProperty = function(object, publicName, symbol) {
+  object[publicName] = symbol;
+};
+
+
+/**
+ * Inherit the prototype methods from one constructor into another.
+ *
+ * Usage:
+ * <pre>
+ * function ParentClass(a, b) { }
+ * ParentClass.prototype.foo = function(a) { };
+ *
+ * function ChildClass(a, b, c) {
+ *   ChildClass.base(this, 'constructor', a, b);
+ * }
+ * goog.inherits(ChildClass, ParentClass);
+ *
+ * var child = new ChildClass('a', 'b', 'see');
+ * child.foo(); // This works.
+ * </pre>
+ *
+ * @param {!Function} childCtor Child class.
+ * @param {!Function} parentCtor Parent class.
+ * @suppress {strictMissingProperties} superClass_ and base is not defined on
+ *    Function.
+ * @deprecated Use ECMAScript class syntax instead.
+ */
+goog.inherits = function(childCtor, parentCtor) {
+  /** @constructor */
+  function tempCtor() {}
+  tempCtor.prototype = parentCtor.prototype;
+  childCtor.superClass_ = parentCtor.prototype;
+  childCtor.prototype = new tempCtor();
+  /** @override */
+  childCtor.prototype.constructor = childCtor;
+
+  /**
+   * Calls superclass constructor/method.
+   *
+   * This function is only available if you use goog.inherits to
+   * express inheritance relationships between classes.
+   *
+   * NOTE: This is a replacement for goog.base and for superClass_
+   * property defined in childCtor.
+   *
+   * @param {!Object} me Should always be "this".
+   * @param {string} methodName The method name to call. Calling
+   *     superclass constructor can be done with the special string
+   *     'constructor'.
+   * @param {...*} var_args The arguments to pass to superclass
+   *     method/constructor.
+   * @return {*} The return value of the superclass method/constructor.
+   */
+  childCtor.base = function(me, methodName, var_args) {
+    // Copying using loop to avoid deop due to passing arguments object to
+    // function. This is faster in many JS engines as of late 2014.
+    var args = new Array(arguments.length - 2);
+    for (var i = 2; i < arguments.length; i++) {
+      args[i - 2] = arguments[i];
+    }
+    return parentCtor.prototype[methodName].apply(me, args);
+  };
+};
+
+
+/**
+ * Allow for aliasing within scope functions.  This function exists for
+ * uncompiled code - in compiled code the calls will be inlined and the aliases
+ * applied.  In uncompiled code the function is simply run since the aliases as
+ * written are valid JavaScript.
+ *
+ * MOE:begin_intracomment_strip
+ * See the goog.scope document at http://go/goog.scope
+ *
+ * For more on goog.scope deprecation, see the style guide entry:
+ * http://go/jsstyle#appendices-legacy-exceptions-goog-scope
+ * MOE:end_intracomment_strip
+ *
+ * @param {function()} fn Function to call.  This function can contain aliases
+ *     to namespaces (e.g. "var dom = goog.dom") or classes
+ *     (e.g. "var Timer = goog.Timer").
+ * @deprecated Use goog.module instead.
+ */
+goog.scope = function(fn) {
+  if (goog.isInModuleLoader_()) {
+    throw new Error('goog.scope is not supported within a module.');
+  }
+  fn.call(goog.global);
+};
+
+
+/*
+ * To support uncompiled, strict mode bundles that use eval to divide source
+ * like so:
+ *    eval('someSource;//# sourceUrl sourcefile.js');
+ * We need to export the globally defined symbols "goog" and "COMPILED".
+ * Exporting "goog" breaks the compiler optimizations, so we required that
+ * be defined externally.
+ * NOTE: We don't use goog.exportSymbol here because we don't want to trigger
+ * extern generation when that compiler option is enabled.
+ */
+if (!COMPILED) {
+  goog.global['COMPILED'] = COMPILED;
+}
+
+
+//==============================================================================
+// goog.defineClass implementation
+//==============================================================================
+
+
+/**
+ * Creates a restricted form of a Closure "class":
+ *   - from the compiler's perspective, the instance returned from the
+ *     constructor is sealed (no new properties may be added).  This enables
+ *     better checks.
+ *   - the compiler will rewrite this definition to a form that is optimal
+ *     for type checking and optimization (initially this will be a more
+ *     traditional form).
+ *
+ * @param {Function} superClass The superclass, Object or null.
+ * @param {goog.defineClass.ClassDescriptor} def
+ *     An object literal describing
+ *     the class.  It may have the following properties:
+ *     "constructor": the constructor function
+ *     "statics": an object literal containing methods to add to the constructor
+ *        as "static" methods or a function that will receive the constructor
+ *        function as its only parameter to which static properties can
+ *        be added.
+ *     all other properties are added to the prototype.
+ * @return {!Function} The class constructor.
+ * @deprecated Use ECMAScript class syntax instead.
+ */
+goog.defineClass = function(superClass, def) {
+  // TODO(johnlenz): consider making the superClass an optional parameter.
+  var constructor = def.constructor;
+  var statics = def.statics;
+  // Wrap the constructor prior to setting up the prototype and static methods.
+  if (!constructor || constructor == Object.prototype.constructor) {
+    constructor = function() {
+      throw new Error(
+          'cannot instantiate an interface (no constructor defined).');
+    };
+  }
+
+  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);
+  if (superClass) {
+    goog.inherits(cls, superClass);
+  }
+
+  // Remove all the properties that should not be copied to the prototype.
+  delete def.constructor;
+  delete def.statics;
+
+  goog.defineClass.applyProperties_(cls.prototype, def);
+  if (statics != null) {
+    if (statics instanceof Function) {
+      statics(cls);
+    } else {
+      goog.defineClass.applyProperties_(cls, statics);
+    }
+  }
+
+  return cls;
+};
+
+
+/**
+ * @typedef {{
+ *   constructor: (!Function|undefined),
+ *   statics: (Object|undefined|function(Function):void)
+ * }}
+ */
+goog.defineClass.ClassDescriptor;
+
+
+/**
+ * @define {boolean} Whether the instances returned by goog.defineClass should
+ *     be sealed when possible.
+ *
+ * When sealing is disabled the constructor function will not be wrapped by
+ * goog.defineClass, making it incompatible with ES6 class methods.
+ */
+goog.defineClass.SEAL_CLASS_INSTANCES =
+    goog.define('goog.defineClass.SEAL_CLASS_INSTANCES', goog.DEBUG);
+
+
+/**
+ * If goog.defineClass.SEAL_CLASS_INSTANCES is enabled and Object.seal is
+ * defined, this function will wrap the constructor in a function that seals the
+ * results of the provided constructor function.
+ *
+ * @param {!Function} ctr The constructor whose results maybe be sealed.
+ * @param {Function} superClass The superclass constructor.
+ * @return {!Function} The replacement constructor.
+ * @private
+ */
+goog.defineClass.createSealingConstructor_ = function(ctr, superClass) {
+  if (!goog.defineClass.SEAL_CLASS_INSTANCES) {
+    // Do now wrap the constructor when sealing is disabled. Angular code
+    // depends on this for injection to work properly.
+    return ctr;
+  }
+
+  // NOTE: The sealing behavior has been removed
+
+  /**
+   * @this {Object}
+   * @return {?}
+   */
+  var wrappedCtr = function() {
+    // Don't seal an instance of a subclass when it calls the constructor of
+    // its super class as there is most likely still setup to do.
+    var instance = ctr.apply(this, arguments) || this;
+    instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];
+
+    return instance;
+  };
+
+  return wrappedCtr;
+};
+
+
+
+// TODO(johnlenz): share these values with the goog.object
+/**
+ * The names of the fields that are defined on Object.prototype.
+ * @type {!Array<string>}
+ * @private
+ * @const
+ */
+goog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = [
+  'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',
+  'toLocaleString', 'toString', 'valueOf'
+];
+
+
+// TODO(johnlenz): share this function with the goog.object
+/**
+ * @param {!Object} target The object to add properties to.
+ * @param {!Object} source The object to copy properties from.
+ * @private
+ */
+goog.defineClass.applyProperties_ = function(target, source) {
+  // TODO(johnlenz): update this to support ES5 getters/setters
+
+  var key;
+  for (key in source) {
+    if (Object.prototype.hasOwnProperty.call(source, key)) {
+      target[key] = source[key];
+    }
+  }
+
+  // For IE the for-in-loop does not contain any properties that are not
+  // enumerable on the prototype object (for example isPrototypeOf from
+  // Object.prototype) and it will also not include 'replace' on objects that
+  // extend String and change 'replace' (not that it is common for anyone to
+  // extend anything except Object).
+  for (var i = 0; i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; i++) {
+    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i];
+    if (Object.prototype.hasOwnProperty.call(source, key)) {
+      target[key] = source[key];
+    }
+  }
+};
+
+/**
+ * Returns the parameter.
+ * @param {string} s
+ * @return {string}
+ * @private
+ */
+goog.identity_ = function(s) {
+  return s;
+};
+
+
+/**
+ * Creates Trusted Types policy if Trusted Types are supported by the browser.
+ * The policy just blesses any string as a Trusted Type. It is not visibility
+ * restricted because anyone can also call trustedTypes.createPolicy directly.
+ * However, the allowed names should be restricted by a HTTP header and the
+ * reference to the created policy should be visibility restricted.
+ * @param {string} name
+ * @return {?TrustedTypePolicy}
+ */
+goog.createTrustedTypesPolicy = function(name) {
+  var policy = null;
+  var policyFactory = goog.global.trustedTypes;
+  if (!policyFactory || !policyFactory.createPolicy) {
+    return policy;
+  }
+  // trustedTypes.createPolicy throws if called with a name that is already
+  // registered, even in report-only mode. Until the API changes, catch the
+  // error not to break the applications functionally. In such case, the code
+  // will fall back to using regular Safe Types.
+  // TODO(koto): Remove catching once createPolicy API stops throwing.
+  try {
+    policy = policyFactory.createPolicy(name, {
+      createHTML: goog.identity_,
+      createScript: goog.identity_,
+      createScriptURL: goog.identity_
+    });
+  } catch (e) {
+    goog.logToConsole_(e.message);
+  }
+  return policy;
+};
+
+// There's a bug in the compiler where without collapse properties the
+// Closure namespace defines do not guard code correctly. To help reduce code
+// size also check for !COMPILED even though it redundant until this is fixed.
+if (!COMPILED && goog.DEPENDENCIES_ENABLED) {
+  // MOE:begin_strip
+  // TODO(b/67050526) This object is obsolete but some people are relying on
+  // it internally. Keep it around until we migrate them.
+  /**
+   * @private
+   * @type {{
+   *   loadFlags: !Object<string, !Object<string, string>>,
+   *   nameToPath: !Object<string, string>,
+   *   requires: !Object<string, !Object<string, boolean>>,
+   *   visited: !Object<string, boolean>,
+   *   written: !Object<string, boolean>,
+   *   deferred: !Object<string, string>
+   * }}
+   */
+  goog.dependencies_ = {
+    loadFlags: {},  // 1 to 1
+
+    nameToPath: {},  // 1 to 1
+
+    requires: {},  // 1 to many
+
+    // Used when resolving dependencies to prevent us from visiting file
+    // twice.
+    visited: {},
+
+    written: {},  // Used to keep track of script files we have written.
+
+    deferred: {}  // Used to track deferred module evaluations in old IEs
+  };
+
+  /**
+   * @return {!Object}
+   * @private
+   */
+  goog.getLoader_ = function() {
+    return {
+      dependencies_: goog.dependencies_,
+      writeScriptTag_: goog.writeScriptTag_
+    };
+  };
+
+
+  /**
+   * @param {string} src The script url.
+   * @param {string=} opt_sourceText The optionally source text to evaluate
+   * @return {boolean} True if the script was imported, false otherwise.
+   * @private
+   */
+  goog.writeScriptTag_ = function(src, opt_sourceText) {
+    if (goog.inHtmlDocument_()) {
+      /** @type {!HTMLDocument} */
+      var doc = goog.global.document;
+
+      // If the user tries to require a new symbol after document load,
+      // something has gone terribly wrong. Doing a document.write would
+      // wipe out the page. This does not apply to the CSP-compliant method
+      // of writing script tags.
+      if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&
+          doc.readyState == 'complete') {
+        // Certain test frameworks load base.js multiple times, which tries
+        // to write deps.js each time. If that happens, just fail silently.
+        // These frameworks wipe the page between each load of base.js, so this
+        // is OK.
+        var isDeps = /\bdeps.js$/.test(src);
+        if (isDeps) {
+          return false;
+        } else {
+          throw Error('Cannot write "' + src + '" after document load');
+        }
+      }
+
+      var nonceAttr = '';
+      var nonce = goog.getScriptNonce();
+      if (nonce) {
+        nonceAttr = ' nonce="' + nonce + '"';
+      }
+
+      if (opt_sourceText === undefined) {
+        var script = '<script src="' + src + '"' + nonceAttr + '></' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      } else {
+        var script = '<script' + nonceAttr + '>' +
+            goog.protectScriptTag_(opt_sourceText) + '</' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      }
+      return true;
+    } else {
+      return false;
+    }
+  };
+  // MOE:end_strip
+
+
+  /**
+   * Tries to detect whether the current browser is Edge, based on the user
+   * agent. This matches only pre-Chromium Edge.
+   * @see https://docs.microsoft.com/en-us/microsoft-edge/web-platform/user-agent-string
+   * @return {boolean} True if the current browser is Edge.
+   * @private
+   */
+  goog.isEdge_ = function() {
+    var userAgent = goog.global.navigator && goog.global.navigator.userAgent ?
+        goog.global.navigator.userAgent :
+        '';
+    var edgeRe = /Edge\/(\d+)(\.\d)*/i;
+    return !!userAgent.match(edgeRe);
+  };
+
+
+  /**
+   * Tries to detect whether is in the context of an HTML document.
+   * @return {boolean} True if it looks like HTML document.
+   * @private
+   */
+  goog.inHtmlDocument_ = function() {
+    /** @type {!Document} */
+    var doc = goog.global.document;
+    return doc != null && 'write' in doc;  // XULDocument misses write.
+  };
+
+
+  /**
+   * We'd like to check for if the document readyState is 'loading'; however
+   * there are bugs on IE 10 and below where the readyState being anything other
+   * than 'complete' is not reliable.
+   * @return {boolean}
+   * @private
+   */
+  goog.isDocumentLoading_ = function() {
+    // attachEvent is available on IE 6 thru 10 only, and thus can be used to
+    // detect those browsers.
+    /** @type {!HTMLDocument} */
+    var doc = goog.global.document;
+    return doc.attachEvent ? doc.readyState != 'complete' :
+                             doc.readyState == 'loading';
+  };
+
+
+  /**
+   * Tries to detect the base path of base.js script that bootstraps Closure.
+   * @private
+   */
+  goog.findBasePath_ = function() {
+    if (goog.global.CLOSURE_BASE_PATH != undefined &&
+        // Anti DOM-clobbering runtime check (b/37736576).
+        typeof goog.global.CLOSURE_BASE_PATH === 'string') {
+      goog.basePath = goog.global.CLOSURE_BASE_PATH;
+      return;
+    } else if (!goog.inHtmlDocument_()) {
+      return;
+    }
+    /** @type {!Document} */
+    var doc = goog.global.document;
+    // If we have a currentScript available, use it exclusively.
+    var currentScript = doc.currentScript;
+    if (currentScript) {
+      var scripts = [currentScript];
+    } else {
+      var scripts = doc.getElementsByTagName('SCRIPT');
+    }
+    // Search backwards since the current script is in almost all cases the one
+    // that has base.js.
+    for (var i = scripts.length - 1; i >= 0; --i) {
+      var script = /** @type {!HTMLScriptElement} */ (scripts[i]);
+      var src = script.src;
+      var qmark = src.lastIndexOf('?');
+      var l = qmark == -1 ? src.length : qmark;
+      if (src.substr(l - 7, 7) == 'base.js') {
+        goog.basePath = src.substr(0, l - 7);
+        return;
+      }
+    }
+  };
+
+  goog.findBasePath_();
+
+  /** @struct @constructor @final */
+  goog.Transpiler = function() {
+    /** @private {?Object<string, boolean>} */
+    this.requiresTranspilation_ = null;
+    /** @private {string} */
+    this.transpilationTarget_ = goog.TRANSPILE_TO_LANGUAGE;
+  };
+
+
+  // MOE:begin_strip
+  // LINT.IfChange
+  // MOE:end_strip
+  /**
+   * Returns a newly created map from language mode string to a boolean
+   * indicating whether transpilation should be done for that mode as well as
+   * the highest level language that this environment supports.
+   *
+   * Guaranteed invariant:
+   * For any two modes, l1 and l2 where l2 is a newer mode than l1,
+   * `map[l1] == true` implies that `map[l2] == true`.
+   *
+   * Note this method is extracted and used elsewhere, so it cannot rely on
+   * anything external (it should easily be able to be transformed into a
+   * standalone, top level function).
+   *
+   * @private
+   * @return {{
+   *   target: string,
+   *   map: !Object<string, boolean>
+   * }}
+   */
+  goog.Transpiler.prototype.createRequiresTranspilation_ = function() {
+    var transpilationTarget = 'es3';
+    var /** !Object<string, boolean> */ requiresTranspilation = {'es3': false};
+    var transpilationRequiredForAllLaterModes = false;
+
+    /**
+     * Adds an entry to requiresTranspliation for the given language mode.
+     *
+     * IMPORTANT: Calls must be made in order from oldest to newest language
+     * mode.
+     * @param {string} modeName
+     * @param {function(): boolean} isSupported Returns true if the JS engine
+     *     supports the given mode.
+     */
+    function addNewerLanguageTranspilationCheck(modeName, isSupported) {
+      if (transpilationRequiredForAllLaterModes) {
+        requiresTranspilation[modeName] = true;
+      } else if (isSupported()) {
+        transpilationTarget = modeName;
+        requiresTranspilation[modeName] = false;
+      } else {
+        requiresTranspilation[modeName] = true;
+        transpilationRequiredForAllLaterModes = true;
+      }
+    }
+
+    /**
+     * Does the given code evaluate without syntax errors and return a truthy
+     * result?
+     */
+    function /** boolean */ evalCheck(/** string */ code) {
+      try {
+        return !!eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(code));
+      } catch (ignored) {
+        return false;
+      }
+    }
+
+    // Identify ES3-only browsers by their incorrect treatment of commas.
+    addNewerLanguageTranspilationCheck('es5', function() {
+      return evalCheck('[1,].length==1');
+    });
+    addNewerLanguageTranspilationCheck('es6', function() {
+      // Edge has a non-deterministic (i.e., not reproducible) bug with ES6:
+      // https://github.com/Microsoft/ChakraCore/issues/1496.
+      // MOE:begin_strip
+      // TODO(joeltine): Our internal web-testing version of Edge will need to
+      // be updated before we can remove this check. See http://b/34945376.
+      // MOE:end_strip
+      if (goog.isEdge_()) {
+        // The Reflect.construct test below is flaky on Edge. It can sometimes
+        // pass or fail on 40 15.15063, so just exit early for Edge and treat
+        // it as ES5. Until we're on a more up to date version just always use
+        // ES5. See https://github.com/Microsoft/ChakraCore/issues/3217.
+        return false;
+      }
+      // Test es6: [FF50 (?), Edge 14 (?), Chrome 50]
+      //   (a) default params (specifically shadowing locals),
+      //   (b) destructuring, (c) block-scoped functions,
+      //   (d) for-of (const), (e) new.target/Reflect.construct
+      var es6fullTest =
+          'class X{constructor(){if(new.target!=String)throw 1;this.x=42}}' +
+          'let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof ' +
+          'String))throw 1;for(const a of[2,3]){if(a==2)continue;function ' +
+          'f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()' +
+          '==3}';
+
+      return evalCheck('(()=>{"use strict";' + es6fullTest + '})()');
+    });
+    // ** and **= are the only new features in 'es7'
+    addNewerLanguageTranspilationCheck('es7', function() {
+      return evalCheck('2**3==8');
+    });
+    // async functions are the only new features in 'es8'
+    addNewerLanguageTranspilationCheck('es8', function() {
+      return evalCheck('async()=>1,1');
+    });
+    addNewerLanguageTranspilationCheck('es9', function() {
+      return evalCheck('({...rest}={}),1');
+    });
+    // optional catch binding, unescaped unicode paragraph separator in strings
+    addNewerLanguageTranspilationCheck('es_2019', function() {
+      return evalCheck('let r;try{throw 0}catch{r="\u2029"};r');
+    });
+    // optional chaining, nullish coalescing
+    // untested/unsupported: bigint, import meta
+    addNewerLanguageTranspilationCheck('es_2020', function() {
+      return evalCheck('null?.x??1');
+    });
+    addNewerLanguageTranspilationCheck('es_next', function() {
+      return false;  // assume it always need to transpile
+    });
+    return {target: transpilationTarget, map: requiresTranspilation};
+  };
+  // MOE:begin_strip
+  // LINT.ThenChange(//depot/google3/java/com/google/testing/web/devtools/updatebrowserinfo/requires_transpilation.js)
+  // MOE:end_strip
+
+
+  /**
+   * Determines whether the given language needs to be transpiled.
+   * @param {string} lang
+   * @param {string|undefined} module
+   * @return {boolean}
+   */
+  goog.Transpiler.prototype.needsTranspile = function(lang, module) {
+    if (goog.TRANSPILE == 'always') {
+      return true;
+    } else if (goog.TRANSPILE == 'never') {
+      return false;
+    } else if (!this.requiresTranspilation_) {
+      var obj = this.createRequiresTranspilation_();
+      this.requiresTranspilation_ = obj.map;
+      this.transpilationTarget_ = this.transpilationTarget_ || obj.target;
+    }
+    if (lang in this.requiresTranspilation_) {
+      if (this.requiresTranspilation_[lang]) {
+        return true;
+      } else if (
+          goog.inHtmlDocument_() && module == 'es6' &&
+          !('noModule' in goog.global.document.createElement('script'))) {
+        return true;
+      } else {
+        return false;
+      }
+    } else {
+      throw new Error('Unknown language mode: ' + lang);
+    }
+  };
+
+
+  /**
+   * Lazily retrieves the transpiler and applies it to the source.
+   * @param {string} code JS code.
+   * @param {string} path Path to the code.
+   * @return {string} The transpiled code.
+   */
+  goog.Transpiler.prototype.transpile = function(code, path) {
+    // TODO(johnplaisted): We should delete goog.transpile_ and just have this
+    // function. But there's some compile error atm where goog.global is being
+    // stripped incorrectly without this.
+    return goog.transpile_(code, path, this.transpilationTarget_);
+  };
+
+
+  /** @private @final {!goog.Transpiler} */
+  goog.transpiler_ = new goog.Transpiler();
+
+  /**
+   * Rewrites closing script tags in input to avoid ending an enclosing script
+   * tag.
+   *
+   * @param {string} str
+   * @return {string}
+   * @private
+   */
+  goog.protectScriptTag_ = function(str) {
+    return str.replace(/<\/(SCRIPT)/ig, '\\x3c/$1');
+  };
+
+
+  /**
+   * A debug loader is responsible for downloading and executing javascript
+   * files in an unbundled, uncompiled environment.
+   *
+   * This can be custimized via the setDependencyFactory method, or by
+   * CLOSURE_IMPORT_SCRIPT/CLOSURE_LOAD_FILE_SYNC.
+   *
+   * @struct @constructor @final @private
+   */
+  goog.DebugLoader_ = function() {
+    /** @private @const {!Object<string, !goog.Dependency>} */
+    this.dependencies_ = {};
+    /** @private @const {!Object<string, string>} */
+    this.idToPath_ = {};
+    /** @private @const {!Object<string, boolean>} */
+    this.written_ = {};
+    /** @private @const {!Array<!goog.Dependency>} */
+    this.loadingDeps_ = [];
+    /** @private {!Array<!goog.Dependency>} */
+    this.depsToLoad_ = [];
+    /** @private {boolean} */
+    this.paused_ = false;
+    /** @private {!goog.DependencyFactory} */
+    this.factory_ = new goog.DependencyFactory(goog.transpiler_);
+    /** @private @const {!Object<string, !Function>} */
+    this.deferredCallbacks_ = {};
+    /** @private @const {!Array<string>} */
+    this.deferredQueue_ = [];
+  };
+
+  /**
+   * @param {!Array<string>} namespaces
+   * @param {function(): undefined} callback Function to call once all the
+   *     namespaces have loaded.
+   */
+  goog.DebugLoader_.prototype.bootstrap = function(namespaces, callback) {
+    var cb = callback;
+    function resolve() {
+      if (cb) {
+        goog.global.setTimeout(cb, 0);
+        cb = null;
+      }
+    }
+
+    if (!namespaces.length) {
+      resolve();
+      return;
+    }
+
+    var deps = [];
+    for (var i = 0; i < namespaces.length; i++) {
+      var path = this.getPathFromDeps_(namespaces[i]);
+      if (!path) {
+        throw new Error('Unregonized namespace: ' + namespaces[i]);
+      }
+      deps.push(this.dependencies_[path]);
+    }
+
+    var require = goog.require;
+    var loaded = 0;
+    for (var i = 0; i < namespaces.length; i++) {
+      require(namespaces[i]);
+      deps[i].onLoad(function() {
+        if (++loaded == namespaces.length) {
+          resolve();
+        }
+      });
+    }
+  };
+
+
+  /**
+   * Loads the Closure Dependency file.
+   *
+   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base
+   * loaded, setDependencyFactory called, and then this called. i.e. allows
+   * custom loading of the deps file.
+   */
+  goog.DebugLoader_.prototype.loadClosureDeps = function() {
+    // Circumvent addDependency, which would try to transpile deps.js if
+    // transpile is set to always.
+    var relPath = 'deps.js';
+    this.depsToLoad_.push(this.factory_.createDependency(
+        goog.normalizePath_(goog.basePath + relPath), relPath, [], [], {},
+        false));
+    this.loadDeps_();
+  };
+
+
+  /**
+   * Notifies the debug loader when a dependency has been requested.
+   *
+   * @param {string} absPathOrId Path of the dependency or goog id.
+   * @param {boolean=} opt_force
+   */
+  goog.DebugLoader_.prototype.requested = function(absPathOrId, opt_force) {
+    var path = this.getPathFromDeps_(absPathOrId);
+    if (path &&
+        (opt_force || this.areDepsLoaded_(this.dependencies_[path].requires))) {
+      var callback = this.deferredCallbacks_[path];
+      if (callback) {
+        delete this.deferredCallbacks_[path];
+        callback();
+      }
+    }
+  };
+
+
+  /**
+   * Sets the dependency factory, which can be used to create custom
+   * goog.Dependency implementations to control how dependencies are loaded.
+   *
+   * @param {!goog.DependencyFactory} factory
+   */
+  goog.DebugLoader_.prototype.setDependencyFactory = function(factory) {
+    this.factory_ = factory;
+  };
+
+
+  /**
+   * Travserses the dependency graph and queues the given dependency, and all of
+   * its transitive dependencies, for loading and then starts loading if not
+   * paused.
+   *
+   * @param {string} namespace
+   * @private
+   */
+  goog.DebugLoader_.prototype.load_ = function(namespace) {
+    if (!this.getPathFromDeps_(namespace)) {
+      var errorMessage = 'goog.require could not find: ' + namespace;
+      goog.logToConsole_(errorMessage);
+    } else {
+      var loader = this;
+
+      var deps = [];
+
+      /** @param {string} namespace */
+      var visit = function(namespace) {
+        var path = loader.getPathFromDeps_(namespace);
+
+        if (!path) {
+          throw new Error('Bad dependency path or symbol: ' + namespace);
+        }
+
+        if (loader.written_[path]) {
+          return;
+        }
+
+        loader.written_[path] = true;
+
+        var dep = loader.dependencies_[path];
+        // MOE:begin_strip
+        if (goog.dependencies_.written[dep.relativePath]) {
+          return;
+        }
+        // MOE:end_strip
+        for (var i = 0; i < dep.requires.length; i++) {
+          if (!goog.isProvided_(dep.requires[i])) {
+            visit(dep.requires[i]);
+          }
+        }
+
+        deps.push(dep);
+      };
+
+      visit(namespace);
+
+      var wasLoading = !!this.depsToLoad_.length;
+      this.depsToLoad_ = this.depsToLoad_.concat(deps);
+
+      if (!this.paused_ && !wasLoading) {
+        this.loadDeps_();
+      }
+    }
+  };
+
+
+  /**
+   * Loads any queued dependencies until they are all loaded or paused.
+   *
+   * @private
+   */
+  goog.DebugLoader_.prototype.loadDeps_ = function() {
+    var loader = this;
+    var paused = this.paused_;
+
+    while (this.depsToLoad_.length && !paused) {
+      (function() {
+        var loadCallDone = false;
+        var dep = loader.depsToLoad_.shift();
+
+        var loaded = false;
+        loader.loading_(dep);
+
+        var controller = {
+          pause: function() {
+            if (loadCallDone) {
+              throw new Error('Cannot call pause after the call to load.');
+            } else {
+              paused = true;
+            }
+          },
+          resume: function() {
+            if (loadCallDone) {
+              loader.resume_();
+            } else {
+              // Some dep called pause and then resume in the same load call.
+              // Just keep running this same loop.
+              paused = false;
+            }
+          },
+          loaded: function() {
+            if (loaded) {
+              throw new Error('Double call to loaded.');
+            }
+
+            loaded = true;
+            loader.loaded_(dep);
+          },
+          pending: function() {
+            // Defensive copy.
+            var pending = [];
+            for (var i = 0; i < loader.loadingDeps_.length; i++) {
+              pending.push(loader.loadingDeps_[i]);
+            }
+            return pending;
+          },
+          /**
+           * @param {goog.ModuleType} type
+           */
+          setModuleState: function(type) {
+            goog.moduleLoaderState_ = {
+              type: type,
+              moduleName: '',
+              declareLegacyNamespace: false
+            };
+          },
+          /** @type {function(string, string, string=)} */
+          registerEs6ModuleExports: function(
+              path, exports, opt_closureNamespace) {
+            if (opt_closureNamespace) {
+              goog.loadedModules_[opt_closureNamespace] = {
+                exports: exports,
+                type: goog.ModuleType.ES6,
+                moduleId: opt_closureNamespace || ''
+              };
+            }
+          },
+          /** @type {function(string, ?)} */
+          registerGoogModuleExports: function(moduleId, exports) {
+            goog.loadedModules_[moduleId] = {
+              exports: exports,
+              type: goog.ModuleType.GOOG,
+              moduleId: moduleId
+            };
+          },
+          clearModuleState: function() {
+            goog.moduleLoaderState_ = null;
+          },
+          defer: function(callback) {
+            if (loadCallDone) {
+              throw new Error(
+                  'Cannot register with defer after the call to load.');
+            }
+            loader.defer_(dep, callback);
+          },
+          areDepsLoaded: function() {
+            return loader.areDepsLoaded_(dep.requires);
+          }
+        };
+
+        try {
+          dep.load(controller);
+        } finally {
+          loadCallDone = true;
+        }
+      })();
+    }
+
+    if (paused) {
+      this.pause_();
+    }
+  };
+
+
+  /** @private */
+  goog.DebugLoader_.prototype.pause_ = function() {
+    this.paused_ = true;
+  };
+
+
+  /** @private */
+  goog.DebugLoader_.prototype.resume_ = function() {
+    if (this.paused_) {
+      this.paused_ = false;
+      this.loadDeps_();
+    }
+  };
+
+
+  /**
+   * Marks the given dependency as loading (load has been called but it has not
+   * yet marked itself as finished). Useful for dependencies that want to know
+   * what else is loading. Example: goog.modules cannot eval if there are
+   * loading dependencies.
+   *
+   * @param {!goog.Dependency} dep
+   * @private
+   */
+  goog.DebugLoader_.prototype.loading_ = function(dep) {
+    this.loadingDeps_.push(dep);
+  };
+
+
+  /**
+   * Marks the given dependency as having finished loading and being available
+   * for require.
+   *
+   * @param {!goog.Dependency} dep
+   * @private
+   */
+  goog.DebugLoader_.prototype.loaded_ = function(dep) {
+    for (var i = 0; i < this.loadingDeps_.length; i++) {
+      if (this.loadingDeps_[i] == dep) {
+        this.loadingDeps_.splice(i, 1);
+        break;
+      }
+    }
+
+    for (var i = 0; i < this.deferredQueue_.length; i++) {
+      if (this.deferredQueue_[i] == dep.path) {
+        this.deferredQueue_.splice(i, 1);
+        break;
+      }
+    }
+
+    if (this.loadingDeps_.length == this.deferredQueue_.length &&
+        !this.depsToLoad_.length) {
+      // Something has asked to load these, but they may not be directly
+      // required again later, so load them now that we know we're done loading
+      // everything else. e.g. a goog module entry point.
+      while (this.deferredQueue_.length) {
+        this.requested(this.deferredQueue_.shift(), true);
+      }
+    }
+
+    dep.loaded();
+  };
+
+
+  /**
+   * @param {!Array<string>} pathsOrIds
+   * @return {boolean}
+   * @private
+   */
+  goog.DebugLoader_.prototype.areDepsLoaded_ = function(pathsOrIds) {
+    for (var i = 0; i < pathsOrIds.length; i++) {
+      var path = this.getPathFromDeps_(pathsOrIds[i]);
+      if (!path ||
+          (!(path in this.deferredCallbacks_) &&
+           !goog.isProvided_(pathsOrIds[i]))) {
+        return false;
+      }
+    }
+
+    return true;
+  };
+
+
+  /**
+   * @param {string} absPathOrId
+   * @return {?string}
+   * @private
+   */
+  goog.DebugLoader_.prototype.getPathFromDeps_ = function(absPathOrId) {
+    if (absPathOrId in this.idToPath_) {
+      return this.idToPath_[absPathOrId];
+    } else if (absPathOrId in this.dependencies_) {
+      return absPathOrId;
+    } else {
+      return null;
+    }
+  };
+
+
+  /**
+   * @param {!goog.Dependency} dependency
+   * @param {!Function} callback
+   * @private
+   */
+  goog.DebugLoader_.prototype.defer_ = function(dependency, callback) {
+    this.deferredCallbacks_[dependency.path] = callback;
+    this.deferredQueue_.push(dependency.path);
+  };
+
+
+  /**
+   * Interface for goog.Dependency implementations to have some control over
+   * loading of dependencies.
+   *
+   * @record
+   */
+  goog.LoadController = function() {};
+
+
+  /**
+   * Tells the controller to halt loading of more dependencies.
+   */
+  goog.LoadController.prototype.pause = function() {};
+
+
+  /**
+   * Tells the controller to resume loading of more dependencies if paused.
+   */
+  goog.LoadController.prototype.resume = function() {};
+
+
+  /**
+   * Tells the controller that this dependency has finished loading.
+   *
+   * This causes this to be removed from pending() and any load callbacks to
+   * fire.
+   */
+  goog.LoadController.prototype.loaded = function() {};
+
+
+  /**
+   * List of dependencies on which load has been called but which have not
+   * called loaded on their controller. This includes the current dependency.
+   *
+   * @return {!Array<!goog.Dependency>}
+   */
+  goog.LoadController.prototype.pending = function() {};
+
+
+  /**
+   * Registers an object as an ES6 module's exports so that goog.modules may
+   * require it by path.
+   *
+   * @param {string} path Full path of the module.
+   * @param {?} exports
+   * @param {string=} opt_closureNamespace Closure namespace to associate with
+   *     this module.
+   */
+  goog.LoadController.prototype.registerEs6ModuleExports = function(
+      path, exports, opt_closureNamespace) {};
+
+
+  /**
+   * Sets the current module state.
+   *
+   * @param {goog.ModuleType} type Type of module.
+   */
+  goog.LoadController.prototype.setModuleState = function(type) {};
+
+
+  /**
+   * Clears the current module state.
+   */
+  goog.LoadController.prototype.clearModuleState = function() {};
+
+
+  /**
+   * Registers a callback to call once the dependency is actually requested
+   * via goog.require + all of the immediate dependencies have been loaded or
+   * all other files have been loaded. Allows for lazy loading until
+   * require'd without pausing dependency loading, which is needed on old IE.
+   *
+   * @param {!Function} callback
+   */
+  goog.LoadController.prototype.defer = function(callback) {};
+
+
+  /**
+   * @return {boolean}
+   */
+  goog.LoadController.prototype.areDepsLoaded = function() {};
+
+
+  /**
+   * Basic super class for all dependencies Closure Library can load.
+   *
+   * This default implementation is designed to load untranspiled, non-module
+   * scripts in a web broswer.
+   *
+   * For transpiled non-goog.module files {@see goog.TranspiledDependency}.
+   * For goog.modules see {@see goog.GoogModuleDependency}.
+   * For untranspiled ES6 modules {@see goog.Es6ModuleDependency}.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor
+   */
+  goog.Dependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    /** @const */
+    this.path = path;
+    /** @const */
+    this.relativePath = relativePath;
+    /** @const */
+    this.provides = provides;
+    /** @const */
+    this.requires = requires;
+    /** @const */
+    this.loadFlags = loadFlags;
+    /** @private {boolean} */
+    this.loaded_ = false;
+    /** @private {!Array<function()>} */
+    this.loadCallbacks_ = [];
+  };
+
+
+  /**
+   * @return {string} The pathname part of this dependency's path if it is a
+   *     URI.
+   */
+  goog.Dependency.prototype.getPathName = function() {
+    var pathName = this.path;
+    var protocolIndex = pathName.indexOf('://');
+    if (protocolIndex >= 0) {
+      pathName = pathName.substring(protocolIndex + 3);
+      var slashIndex = pathName.indexOf('/');
+      if (slashIndex >= 0) {
+        pathName = pathName.substring(slashIndex + 1);
+      }
+    }
+    return pathName;
+  };
+
+
+  /**
+   * @param {function()} callback Callback to fire as soon as this has loaded.
+   * @final
+   */
+  goog.Dependency.prototype.onLoad = function(callback) {
+    if (this.loaded_) {
+      callback();
+    } else {
+      this.loadCallbacks_.push(callback);
+    }
+  };
+
+
+  /**
+   * Marks this dependency as loaded and fires any callbacks registered with
+   * onLoad.
+   * @final
+   */
+  goog.Dependency.prototype.loaded = function() {
+    this.loaded_ = true;
+    var callbacks = this.loadCallbacks_;
+    this.loadCallbacks_ = [];
+    for (var i = 0; i < callbacks.length; i++) {
+      callbacks[i]();
+    }
+  };
+
+
+  /**
+   * Whether or not document.written / appended script tags should be deferred.
+   *
+   * @private {boolean}
+   */
+  goog.Dependency.defer_ = false;
+
+
+  /**
+   * Map of script ready / state change callbacks. Old IE cannot handle putting
+   * these properties on goog.global.
+   *
+   * @private @const {!Object<string, function(?):undefined>}
+   */
+  goog.Dependency.callbackMap_ = {};
+
+
+  /**
+   * @param {function(...?):?} callback
+   * @return {string}
+   * @private
+   */
+  goog.Dependency.registerCallback_ = function(callback) {
+    var key = Math.random().toString(32);
+    goog.Dependency.callbackMap_[key] = callback;
+    return key;
+  };
+
+
+  /**
+   * @param {string} key
+   * @private
+   */
+  goog.Dependency.unregisterCallback_ = function(key) {
+    delete goog.Dependency.callbackMap_[key];
+  };
+
+
+  /**
+   * @param {string} key
+   * @param {...?} var_args
+   * @private
+   * @suppress {unusedPrivateMembers}
+   */
+  goog.Dependency.callback_ = function(key, var_args) {
+    if (key in goog.Dependency.callbackMap_) {
+      var callback = goog.Dependency.callbackMap_[key];
+      var args = [];
+      for (var i = 1; i < arguments.length; i++) {
+        args.push(arguments[i]);
+      }
+      callback.apply(undefined, args);
+    } else {
+      var errorMessage = 'Callback key ' + key +
+          ' does not exist (was base.js loaded more than once?).';
+      // MOE:begin_strip
+      // TODO(johnplaisted): Some people internally are mistakenly loading
+      // base.js twice, and this can happen while a dependency is loading,
+      // wiping out state.
+      goog.logToConsole_(errorMessage);
+      // MOE:end_strip
+      // MOE:insert throw Error(errorMessage);
+    }
+  };
+
+
+  /**
+   * Starts loading this dependency. This dependency can pause loading if it
+   * needs to and resume it later via the controller interface.
+   *
+   * When this is loaded it should call controller.loaded(). Note that this will
+   * end up calling the loaded method of this dependency; there is no need to
+   * call it explicitly.
+   *
+   * @param {!goog.LoadController} controller
+   */
+  goog.Dependency.prototype.load = function(controller) {
+    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
+      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+    if (!goog.inHtmlDocument_()) {
+      goog.logToConsole_(
+          'Cannot use default debug loader outside of HTML documents.');
+      if (this.relativePath == 'deps.js') {
+        // Some old code is relying on base.js auto loading deps.js failing with
+        // no error before later setting CLOSURE_IMPORT_SCRIPT.
+        // CLOSURE_IMPORT_SCRIPT should be set *before* base.js is loaded, or
+        // CLOSURE_NO_DEPS set to true.
+        goog.logToConsole_(
+            'Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, ' +
+            'or setting CLOSURE_NO_DEPS to true.');
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+    /** @type {!HTMLDocument} */
+    var doc = goog.global.document;
+
+    // If the user tries to require a new symbol after document load,
+    // something has gone terribly wrong. Doing a document.write would
+    // wipe out the page. This does not apply to the CSP-compliant method
+    // of writing script tags.
+    if (doc.readyState == 'complete' &&
+        !goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {
+      // Certain test frameworks load base.js multiple times, which tries
+      // to write deps.js each time. If that happens, just fail silently.
+      // These frameworks wipe the page between each load of base.js, so this
+      // is OK.
+      var isDeps = /\bdeps.js$/.test(this.path);
+      if (isDeps) {
+        controller.loaded();
+        return;
+      } else {
+        throw Error('Cannot write "' + this.path + '" after document load');
+      }
+    }
+
+    var nonce = goog.getScriptNonce();
+    if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&
+        goog.isDocumentLoading_()) {
+      var key;
+      var callback = function(script) {
+        if (script.readyState && script.readyState != 'complete') {
+          script.onload = callback;
+          return;
+        }
+        goog.Dependency.unregisterCallback_(key);
+        controller.loaded();
+      };
+      key = goog.Dependency.registerCallback_(callback);
+
+      var defer = goog.Dependency.defer_ ? ' defer' : '';
+      var nonceAttr = nonce ? ' nonce="' + nonce + '"' : '';
+      var script = '<script src="' + this.path + '"' + nonceAttr + defer +
+          ' id="script-' + key + '"><\/script>';
+
+      script += '<script' + nonceAttr + '>';
+
+      if (goog.Dependency.defer_) {
+        script += 'document.getElementById(\'script-' + key +
+            '\').onload = function() {\n' +
+            '  goog.Dependency.callback_(\'' + key + '\', this);\n' +
+            '};\n';
+      } else {
+        script += 'goog.Dependency.callback_(\'' + key +
+            '\', document.getElementById(\'script-' + key + '\'));';
+      }
+
+      script += '<\/script>';
+
+      doc.write(
+          goog.TRUSTED_TYPES_POLICY_ ?
+              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+              script);
+    } else {
+      var scriptEl =
+          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));
+      scriptEl.defer = goog.Dependency.defer_;
+      scriptEl.async = false;
+
+      // If CSP nonces are used, propagate them to dynamically created scripts.
+      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.
+      if (nonce) {
+        scriptEl.nonce = nonce;
+      }
+
+      if (goog.DebugLoader_.IS_OLD_IE_) {
+        // Execution order is not guaranteed on old IE, halt loading and write
+        // these scripts one at a time, after each loads.
+        controller.pause();
+        scriptEl.onreadystatechange = function() {
+          if (scriptEl.readyState == 'loaded' ||
+              scriptEl.readyState == 'complete') {
+            controller.loaded();
+            controller.resume();
+          }
+        };
+      } else {
+        scriptEl.onload = function() {
+          scriptEl.onload = null;
+          controller.loaded();
+        };
+      }
+
+      scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?
+          goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path) :
+          this.path;
+      doc.head.appendChild(scriptEl);
+    }
+  };
+
+
+  /**
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides Should be an empty array.
+   *     TODO(johnplaisted) add support for adding closure namespaces to ES6
+   *     modules for interop purposes.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor
+   * @extends {goog.Dependency}
+   */
+  goog.Es6ModuleDependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    goog.Es6ModuleDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+  };
+  goog.inherits(goog.Es6ModuleDependency, goog.Dependency);
+
+
+  /**
+   * @override
+   * @param {!goog.LoadController} controller
+   */
+  goog.Es6ModuleDependency.prototype.load = function(controller) {
+    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
+      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+    if (!goog.inHtmlDocument_()) {
+      goog.logToConsole_(
+          'Cannot use default debug loader outside of HTML documents.');
+      controller.pause();
+      return;
+    }
+
+    /** @type {!HTMLDocument} */
+    var doc = goog.global.document;
+
+    var dep = this;
+
+    // TODO(johnplaisted): Does document.writing really speed up anything? Any
+    // difference between this and just waiting for interactive mode and then
+    // appending?
+    function write(src, contents) {
+      var nonceAttr = '';
+      var nonce = goog.getScriptNonce();
+      if (nonce) {
+        nonceAttr = ' nonce="' + nonce + '"';
+      }
+
+      if (contents) {
+        var script = '<script type="module" crossorigin' + nonceAttr + '>' +
+            contents + '</' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      } else {
+        var script = '<script type="module" crossorigin src="' + src + '"' +
+            nonceAttr + '></' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      }
+    }
+
+    function append(src, contents) {
+      var scriptEl =
+          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));
+      scriptEl.defer = true;
+      scriptEl.async = false;
+      scriptEl.type = 'module';
+      scriptEl.setAttribute('crossorigin', true);
+
+      // If CSP nonces are used, propagate them to dynamically created scripts.
+      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.
+      var nonce = goog.getScriptNonce();
+      if (nonce) {
+        scriptEl.nonce = nonce;
+      }
+
+      if (contents) {
+        scriptEl.text = goog.TRUSTED_TYPES_POLICY_ ?
+            goog.TRUSTED_TYPES_POLICY_.createScript(contents) :
+            contents;
+      } else {
+        scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?
+            goog.TRUSTED_TYPES_POLICY_.createScriptURL(src) :
+            src;
+      }
+
+      doc.head.appendChild(scriptEl);
+    }
+
+    var create;
+
+    if (goog.isDocumentLoading_()) {
+      create = write;
+      // We can ONLY call document.write if we are guaranteed that any
+      // non-module script tags document.written after this are deferred.
+      // Small optimization, in theory document.writing is faster.
+      goog.Dependency.defer_ = true;
+    } else {
+      create = append;
+    }
+
+    // Write 4 separate tags here:
+    // 1) Sets the module state at the correct time (just before execution).
+    // 2) A src node for this, which just hopefully lets the browser load it a
+    //    little early (no need to parse #3).
+    // 3) Import the module and register it.
+    // 4) Clear the module state at the correct time. Guaranteed to run even
+    //    if there is an error in the module (#3 will not run if there is an
+    //    error in the module).
+    var beforeKey = goog.Dependency.registerCallback_(function() {
+      goog.Dependency.unregisterCallback_(beforeKey);
+      controller.setModuleState(goog.ModuleType.ES6);
+    });
+    create(undefined, 'goog.Dependency.callback_("' + beforeKey + '")');
+
+    // TODO(johnplaisted): Does this really speed up anything?
+    create(this.path, undefined);
+
+    var registerKey = goog.Dependency.registerCallback_(function(exports) {
+      goog.Dependency.unregisterCallback_(registerKey);
+      controller.registerEs6ModuleExports(
+          dep.path, exports, goog.moduleLoaderState_.moduleName);
+    });
+    create(
+        undefined,
+        'import * as m from "' + this.path + '"; goog.Dependency.callback_("' +
+            registerKey + '", m)');
+
+    var afterKey = goog.Dependency.registerCallback_(function() {
+      goog.Dependency.unregisterCallback_(afterKey);
+      controller.clearModuleState();
+      controller.loaded();
+    });
+    create(undefined, 'goog.Dependency.callback_("' + afterKey + '")');
+  };
+
+
+  /**
+   * Superclass of any dependency that needs to be loaded into memory,
+   * transformed, and then eval'd (goog.modules and transpiled files).
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor @abstract
+   * @extends {goog.Dependency}
+   */
+  goog.TransformedDependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    goog.TransformedDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+    /** @private {?string} */
+    this.contents_ = null;
+
+    /**
+     * Whether to lazily make the synchronous XHR (when goog.require'd) or make
+     * the synchronous XHR when initially loading. On FireFox 61 there is a bug
+     * where an ES6 module cannot make a synchronous XHR (rather, it can, but if
+     * it does then no other ES6 modules will load after).
+     *
+     * tl;dr we lazy load due to bugs on older browsers and eager load due to
+     * bugs on newer ones.
+     *
+     * https://bugzilla.mozilla.org/show_bug.cgi?id=1477090
+     *
+     * @private @const {boolean}
+     */
+    this.lazyFetch_ = !goog.inHtmlDocument_() ||
+        !('noModule' in goog.global.document.createElement('script'));
+  };
+  goog.inherits(goog.TransformedDependency, goog.Dependency);
+
+
+  /**
+   * @override
+   * @param {!goog.LoadController} controller
+   */
+  goog.TransformedDependency.prototype.load = function(controller) {
+    var dep = this;
+
+    function fetch() {
+      dep.contents_ = goog.loadFileSync_(dep.path);
+
+      if (dep.contents_) {
+        dep.contents_ = dep.transform(dep.contents_);
+        if (dep.contents_) {
+          dep.contents_ += '\n//# sourceURL=' + dep.path;
+        }
+      }
+    }
+
+    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
+      fetch();
+      if (this.contents_ &&
+          goog.global.CLOSURE_IMPORT_SCRIPT('', this.contents_)) {
+        this.contents_ = null;
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+
+    var isEs6 = this.loadFlags['module'] == goog.ModuleType.ES6;
+
+    if (!this.lazyFetch_) {
+      fetch();
+    }
+
+    function load() {
+      if (dep.lazyFetch_) {
+        fetch();
+      }
+
+      if (!dep.contents_) {
+        // loadFileSync_ or transform are responsible. Assume they logged an
+        // error.
+        return;
+      }
+
+      if (isEs6) {
+        controller.setModuleState(goog.ModuleType.ES6);
+      }
+
+      var namespace;
+
+      try {
+        var contents = dep.contents_;
+        dep.contents_ = null;
+        goog.globalEval(goog.CLOSURE_EVAL_PREFILTER_.createScript(contents));
+        if (isEs6) {
+          namespace = goog.moduleLoaderState_.moduleName;
+        }
+      } finally {
+        if (isEs6) {
+          controller.clearModuleState();
+        }
+      }
+
+      if (isEs6) {
+        // Due to circular dependencies this may not be available for require
+        // right now.
+        goog.global['$jscomp']['require']['ensure'](
+            [dep.getPathName()], function() {
+              controller.registerEs6ModuleExports(
+                  dep.path,
+                  goog.global['$jscomp']['require'](dep.getPathName()),
+                  namespace);
+            });
+      }
+
+      controller.loaded();
+    }
+
+    // Do not fetch now; in FireFox 47 the synchronous XHR doesn't block all
+    // events. If we fetched now and then document.write'd the contents the
+    // document.write would be an eval and would execute too soon! Instead write
+    // a script tag to fetch and eval synchronously at the correct time.
+    function fetchInOwnScriptThenLoad() {
+      /** @type {!HTMLDocument} */
+      var doc = goog.global.document;
+
+      var key = goog.Dependency.registerCallback_(function() {
+        goog.Dependency.unregisterCallback_(key);
+        load();
+      });
+
+      var nonce = goog.getScriptNonce();
+      var nonceAttr = nonce ? ' nonce="' + nonce + '"' : '';
+      var script = '<script' + nonceAttr + '>' +
+          goog.protectScriptTag_('goog.Dependency.callback_("' + key + '");') +
+          '</' +
+          'script>';
+      doc.write(
+          goog.TRUSTED_TYPES_POLICY_ ?
+              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+              script);
+    }
+
+    // If one thing is pending it is this.
+    var anythingElsePending = controller.pending().length > 1;
+
+    // If anything else is loading we need to lazy load due to bugs in old IE.
+    // Specifically script tags with src and script tags with contents could
+    // execute out of order if document.write is used, so we cannot use
+    // document.write. Do not pause here; it breaks old IE as well.
+    var useOldIeWorkAround =
+        anythingElsePending && goog.DebugLoader_.IS_OLD_IE_;
+
+    // Additionally if we are meant to defer scripts but the page is still
+    // loading (e.g. an ES6 module is loading) then also defer. Or if we are
+    // meant to defer and anything else is pending then defer (those may be
+    // scripts that did not need transformation and are just script tags with
+    // defer set to true, and we need to evaluate after that deferred script).
+    var needsAsyncLoading = goog.Dependency.defer_ &&
+        (anythingElsePending || goog.isDocumentLoading_());
+
+    if (useOldIeWorkAround || needsAsyncLoading) {
+      // Note that we only defer when we have to rather than 100% of the time.
+      // Always defering would work, but then in theory the order of
+      // goog.require calls would then matter. We want to enforce that most of
+      // the time the order of the require calls does not matter.
+      controller.defer(function() {
+        load();
+      });
+      return;
+    }
+    // TODO(johnplaisted): Externs are missing onreadystatechange for
+    // HTMLDocument.
+    /** @type {?} */
+    var doc = goog.global.document;
+
+    var isInternetExplorerOrEdge = goog.inHtmlDocument_() &&
+        ('ActiveXObject' in goog.global || goog.isEdge_());
+
+    // Don't delay in any version of IE or pre-Chromium Edge. There's a bug
+    // around this that will cause out of order script execution. This means
+    // that on older IE ES6 modules will load too early (while the document is
+    // still loading + the dom is not available). The other option is to load
+    // too late (when the document is complete and the onload even will never
+    // fire). This seems to be the lesser of two evils as scripts already act
+    // like the former.
+    if (isEs6 && goog.inHtmlDocument_() && goog.isDocumentLoading_() &&
+        !isInternetExplorerOrEdge) {
+      goog.Dependency.defer_ = true;
+      // Transpiled ES6 modules still need to load like regular ES6 modules,
+      // aka only after the document is interactive.
+      controller.pause();
+      var oldCallback = doc.onreadystatechange;
+      doc.onreadystatechange = function() {
+        if (doc.readyState == 'interactive') {
+          doc.onreadystatechange = oldCallback;
+          load();
+          controller.resume();
+        }
+        if (typeof oldCallback === 'function') {
+          oldCallback.apply(undefined, arguments);
+        }
+      };
+    } else {
+      // Always eval on old IE.
+      if (goog.DebugLoader_.IS_OLD_IE_ || !goog.inHtmlDocument_() ||
+          !goog.isDocumentLoading_()) {
+        load();
+      } else {
+        fetchInOwnScriptThenLoad();
+      }
+    }
+  };
+
+
+  /**
+   * @param {string} contents
+   * @return {string}
+   * @abstract
+   */
+  goog.TransformedDependency.prototype.transform = function(contents) {};
+
+
+  /**
+   * Any non-goog.module dependency which needs to be transpiled before eval.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @param {!goog.Transpiler} transpiler
+   * @struct @constructor
+   * @extends {goog.TransformedDependency}
+   */
+  goog.TranspiledDependency = function(
+      path, relativePath, provides, requires, loadFlags, transpiler) {
+    goog.TranspiledDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+    /** @protected @const*/
+    this.transpiler = transpiler;
+  };
+  goog.inherits(goog.TranspiledDependency, goog.TransformedDependency);
+
+
+  /**
+   * @override
+   * @param {string} contents
+   * @return {string}
+   */
+  goog.TranspiledDependency.prototype.transform = function(contents) {
+    // Transpile with the pathname so that ES6 modules are domain agnostic.
+    return this.transpiler.transpile(contents, this.getPathName());
+  };
+
+
+  /**
+   * An ES6 module dependency that was transpiled to a jscomp module outside
+   * of the debug loader, e.g. server side.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor
+   * @extends {goog.TransformedDependency}
+   */
+  goog.PreTranspiledEs6ModuleDependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    goog.PreTranspiledEs6ModuleDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+  };
+  goog.inherits(
+      goog.PreTranspiledEs6ModuleDependency, goog.TransformedDependency);
+
+
+  /**
+   * @override
+   * @param {string} contents
+   * @return {string}
+   */
+  goog.PreTranspiledEs6ModuleDependency.prototype.transform = function(
+      contents) {
+    return contents;
+  };
+
+
+  /**
+   * A goog.module, transpiled or not. Will always perform some minimal
+   * transformation even when not transpiled to wrap in a goog.loadModule
+   * statement.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @param {boolean} needsTranspile
+   * @param {!goog.Transpiler} transpiler
+   * @struct @constructor
+   * @extends {goog.TransformedDependency}
+   */
+  goog.GoogModuleDependency = function(
+      path, relativePath, provides, requires, loadFlags, needsTranspile,
+      transpiler) {
+    goog.GoogModuleDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+    /** @private @const */
+    this.needsTranspile_ = needsTranspile;
+    /** @private @const */
+    this.transpiler_ = transpiler;
+  };
+  goog.inherits(goog.GoogModuleDependency, goog.TransformedDependency);
+
+
+  /**
+   * @override
+   * @param {string} contents
+   * @return {string}
+   */
+  goog.GoogModuleDependency.prototype.transform = function(contents) {
+    if (this.needsTranspile_) {
+      contents = this.transpiler_.transpile(contents, this.getPathName());
+    }
+
+    if (!goog.LOAD_MODULE_USING_EVAL || goog.global.JSON === undefined) {
+      return '' +
+          'goog.loadModule(function(exports) {' +
+          '"use strict";' + contents +
+          '\n' +  // terminate any trailing single line comment.
+          ';return exports' +
+          '});' +
+          '\n//# sourceURL=' + this.path + '\n';
+    } else {
+      return '' +
+          'goog.loadModule(' +
+          goog.global.JSON.stringify(
+              contents + '\n//# sourceURL=' + this.path + '\n') +
+          ');';
+    }
+  };
+
+
+  /**
+   * Whether the browser is IE9 or earlier, which needs special handling
+   * for deferred modules.
+   * @const @private {boolean}
+   */
+  goog.DebugLoader_.IS_OLD_IE_ = !!(
+      !goog.global.atob && goog.global.document && goog.global.document['all']);
+
+
+  /**
+   * @param {string} relPath
+   * @param {!Array<string>|undefined} provides
+   * @param {!Array<string>} requires
+   * @param {boolean|!Object<string>=} opt_loadFlags
+   * @see goog.addDependency
+   */
+  goog.DebugLoader_.prototype.addDependency = function(
+      relPath, provides, requires, opt_loadFlags) {
+    provides = provides || [];
+    relPath = relPath.replace(/\\/g, '/');
+    var path = goog.normalizePath_(goog.basePath + relPath);
+    if (!opt_loadFlags || typeof opt_loadFlags === 'boolean') {
+      opt_loadFlags = opt_loadFlags ? {'module': goog.ModuleType.GOOG} : {};
+    }
+    var dep = this.factory_.createDependency(
+        path, relPath, provides, requires, opt_loadFlags,
+        goog.transpiler_.needsTranspile(
+            opt_loadFlags['lang'] || 'es3', opt_loadFlags['module']));
+    this.dependencies_[path] = dep;
+    for (var i = 0; i < provides.length; i++) {
+      this.idToPath_[provides[i]] = path;
+    }
+    this.idToPath_[relPath] = path;
+  };
+
+
+  /**
+   * Creates goog.Dependency instances for the debug loader to load.
+   *
+   * Should be overridden to have the debug loader use custom subclasses of
+   * goog.Dependency.
+   *
+   * @param {!goog.Transpiler} transpiler
+   * @struct @constructor
+   */
+  goog.DependencyFactory = function(transpiler) {
+    /** @protected @const */
+    this.transpiler = transpiler;
+  };
+
+
+  /**
+   * @param {string} path Absolute path of the file.
+   * @param {string} relativePath Path relative to closure’s base.js.
+   * @param {!Array<string>} provides Array of provided goog.provide/module ids.
+   * @param {!Array<string>} requires Array of required goog.provide/module /
+   *     relative ES6 module paths.
+   * @param {!Object<string, string>} loadFlags
+   * @param {boolean} needsTranspile True if the file needs to be transpiled
+   *     per the goog.Transpiler.
+   * @return {!goog.Dependency}
+   */
+  goog.DependencyFactory.prototype.createDependency = function(
+      path, relativePath, provides, requires, loadFlags, needsTranspile) {
+    // MOE:begin_strip
+    var provide, require;
+    for (var i = 0; provide = provides[i]; i++) {
+      goog.dependencies_.nameToPath[provide] = relativePath;
+      goog.dependencies_.loadFlags[relativePath] = loadFlags;
+    }
+    for (var j = 0; require = requires[j]; j++) {
+      if (!(relativePath in goog.dependencies_.requires)) {
+        goog.dependencies_.requires[relativePath] = {};
+      }
+      goog.dependencies_.requires[relativePath][require] = true;
+    }
+    // MOE:end_strip
+
+    if (loadFlags['module'] == goog.ModuleType.GOOG) {
+      return new goog.GoogModuleDependency(
+          path, relativePath, provides, requires, loadFlags, needsTranspile,
+          this.transpiler);
+    } else if (needsTranspile) {
+      return new goog.TranspiledDependency(
+          path, relativePath, provides, requires, loadFlags, this.transpiler);
+    } else {
+      if (loadFlags['module'] == goog.ModuleType.ES6) {
+        if (goog.TRANSPILE == 'never' && goog.ASSUME_ES_MODULES_TRANSPILED) {
+          return new goog.PreTranspiledEs6ModuleDependency(
+              path, relativePath, provides, requires, loadFlags);
+        } else {
+          return new goog.Es6ModuleDependency(
+              path, relativePath, provides, requires, loadFlags);
+        }
+      } else {
+        return new goog.Dependency(
+            path, relativePath, provides, requires, loadFlags);
+      }
+    }
+  };
+
+
+  /** @private @const */
+  goog.debugLoader_ = new goog.DebugLoader_();
+
+
+  /**
+   * Loads the Closure Dependency file.
+   *
+   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base
+   * loaded, setDependencyFactory called, and then this called. i.e. allows
+   * custom loading of the deps file.
+   */
+  goog.loadClosureDeps = function() {
+    goog.debugLoader_.loadClosureDeps();
+  };
+
+
+  /**
+   * Sets the dependency factory, which can be used to create custom
+   * goog.Dependency implementations to control how dependencies are loaded.
+   *
+   * Note: if you wish to call this function and provide your own implemnetation
+   * it is a wise idea to set CLOSURE_NO_DEPS to true, otherwise the dependency
+   * file and all of its goog.addDependency calls will use the default factory.
+   * You can call goog.loadClosureDeps to load the Closure dependency file
+   * later, after your factory is injected.
+   *
+   * @param {!goog.DependencyFactory} factory
+   */
+  goog.setDependencyFactory = function(factory) {
+    goog.debugLoader_.setDependencyFactory(factory);
+  };
+
+
+  /**
+   * Trusted Types policy for the debug loader.
+   * @private @const {?TrustedTypePolicy}
+   */
+  goog.TRUSTED_TYPES_POLICY_ = goog.TRUSTED_TYPES_POLICY_NAME ?
+      goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + '#base') :
+      null;
+
+  if (!goog.global.CLOSURE_NO_DEPS) {
+    goog.debugLoader_.loadClosureDeps();
+  }
+
+
+  /**
+   * Bootstraps the given namespaces and calls the callback once they are
+   * available either via goog.require. This is a replacement for using
+   * `goog.require` to bootstrap Closure JavaScript. Previously a `goog.require`
+   * in an HTML file would guarantee that the require'd namespace was available
+   * in the next immediate script tag. With ES6 modules this no longer a
+   * guarantee.
+   *
+   * @param {!Array<string>} namespaces
+   * @param {function(): ?} callback Function to call once all the namespaces
+   *     have loaded. Always called asynchronously.
+   */
+  goog.bootstrap = function(namespaces, callback) {
+    goog.debugLoader_.bootstrap(namespaces, callback);
+  };
+}
+
+
+if (!COMPILED) {
+  var isChrome87 = false;
+  // Cannot run check for Chrome <87 bug in case of strict CSP environments.
+  // TODO(aaronshim): Remove once Chrome <87 bug is no longer a problem.
+  try {
+    isChrome87 = eval(goog.global.trustedTypes.emptyScript) !==
+        goog.global.trustedTypes.emptyScript;
+  } catch (err) {
+  }
+
+  /**
+   * Trusted Types for running dev servers.
+   *
+   * @private @const
+   */
+  goog.CLOSURE_EVAL_PREFILTER_ =
+      // Detect Chrome <87 bug with TT and eval.
+      goog.global.trustedTypes && isChrome87 &&
+          goog.createTrustedTypesPolicy('goog#base#devonly#eval') ||
+      {createScript: goog.identity_};
+}
+
+//third_party/javascript/tslib/tslib_closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ * @fileoverview
+ * Hand-modified Closure version of tslib.js.
+ * These use the literal space optimized code from TypeScript for
+ * compatibility.
+ *
+ * @suppress {undefinedVars}
+ */
+
+// Do not use @license
+
+/******************************************************************************
+Copyright (c) Microsoft Corporation.
+
+Permission to use, copy, modify, and/or distribute this software for any
+purpose with or without fee is hereby granted.
+
+THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
+REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
+AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
+INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
+LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
+OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
+PERFORMANCE OF THIS SOFTWARE.
+***************************************************************************** */
+
+goog.module('google3.third_party.javascript.tslib.tslib');
+
+/** @suppress {missingPolyfill} the code below intentionally feature-tests. */
+var extendStatics = Object.setPrototypeOf ||
+    ({__proto__: []} instanceof Array && function(d, b) {d.__proto__ = b;}) ||
+    function(d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
+
+/**
+ * @param {?} d
+ * @param {?} b
+ */
+exports.__extends = function(d, b) {
+    extendStatics(d, b);
+    // LOCAL MODIFICATION: Add jsdoc annotation here:
+    /** @constructor */
+    function __() { /** @type {?} */ (this).constructor = d; }
+    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
+};
+
+exports.__assign = Object.assign || /** @return {?} */ function (/** ? */ t) {
+    for (var s, i = 1, n = arguments.length; i < n; i++) {
+        s = arguments[i];
+        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
+    }
+    return t;
+};
+
+/**
+ * @param {?} s
+ * @param {?} e
+ * @return {?}
+ */
+exports.__rest = function (s, e) {
+    var t = {};
+    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
+        t[p] = s[p];
+    if (s != null && typeof Object.getOwnPropertySymbols === "function")
+        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
+            t[p[i]] = s[p[i]];
+    return t;
+};
+
+/**
+ * @param {?} decorators
+ * @param {T} target
+ * @param {?=} key
+ * @param {?=} desc
+ * @return {T}
+ * @template T
+ */
+exports.__decorate = function (decorators, target, key, desc) {
+    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
+    // google3 local modification: use quoted property access to work around
+    // https://b.corp.google.com/issues/77140019.
+    if (typeof Reflect === "object" && Reflect && typeof Reflect['decorate'] === "function") r = Reflect['decorate'](decorators, target, key, desc);
+    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
+    return c > 3 && r && Object.defineProperty(target, key, r), r;
+};
+
+/**
+ * @param {?} metadataKey
+ * @param {?} metadataValue
+ * @return {?}
+ */
+exports.__metadata = function (metadataKey, metadataValue) {
+  // google3 local modification: use quoted property access to work around
+  // https://b.corp.google.com/issues/77140019.
+  if (typeof Reflect === "object" && Reflect && typeof Reflect['metadata'] === "function") return Reflect['metadata'](metadataKey, metadataValue);
+};
+
+/**
+ * @param {?} paramIndex
+ * @param {?} decorator
+ * @return {?}
+ */
+exports.__param = function (paramIndex, decorator) {
+    return function (target, key) { decorator(target, key, paramIndex); };
+};
+
+/**
+ * @template T
+ * @param {T} thisArg
+ * @param {?} _arguments
+ * @param {?} P
+ * @param {function(this:T)} generator
+ * @return {?}
+ */
+exports.__awaiter = function(thisArg, _arguments, P, generator) {
+  return new (P || (P = Promise))(function(resolve, reject) {
+    // LOCAL MODIFICATION: Cannot express the function + keys pattern in
+    // closure, so we escape generator.next with ? type.
+    function fulfilled(value) {
+      try {
+        step((/** @type {?} */ (generator)).next(value));
+      } catch (e) {
+        reject(e);
+      }
+    }
+    function rejected(value) {
+      try {
+        step(generator['throw'](value));
+      } catch (e) {
+        reject(e);
+      }
+    }
+    function step(result) {
+      result.done ? resolve(result.value) : new P(function(resolve) {
+                                              resolve(result.value);
+                                            }).then(fulfilled, rejected);
+    }
+    step((generator = generator.apply(thisArg, _arguments)).next());
+  });
+};
+
+/**
+ * @param {?} thisArg
+ * @param {?} body
+ * @return {?}
+ */
+exports.__generator = function(thisArg, body) {
+  var _ = {
+    label: 0,
+    sent: function() {
+      if (t[0] & 1) throw (/** @type {!Error} */ (t[1]));
+      return t[1];
+    },
+    trys: [],
+    ops: []
+  },
+      f, y, t, g;
+  // LOCAL MODIFICATION: Originally iterator body was "return this", but it
+  // doesn't compile as this is unknown. Changed to g, which is equivalent.
+  return g = {next: verb(0), "throw": verb(1), "return": verb(2)},
+         typeof Symbol === "function" && (g[Symbol.iterator] = function() {
+           return g;
+         }), g;
+  function verb(n) {
+    return function(v) {
+      return step([n, v]);
+    };
+  }
+  function step(op) {
+    if (f) throw new TypeError("Generator is already executing.");
+    while (_) try {
+        if (f = 1,
+            y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) &&
+                !(t = t.call(y, op[1])).done)
+          return t;
+        if (y = 0, t) op = [0, t.value];
+        switch (op[0]) {
+          case 0:
+          case 1:
+            t = op;
+            break;
+          case 4:
+            _.label++;
+            return {value: op[1], done: false};
+          case 5:
+            _.label++;
+            y = op[1];
+            op = [0];
+            continue;
+          case 7:
+            op = _.ops.pop();
+            _.trys.pop();
+            continue;
+          default:
+            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) &&
+                (op[0] === 6 || op[0] === 2)) {
+              _ = 0;
+              continue;
+            }
+            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
+              _.label = op[1];
+              break;
+            }
+            if (op[0] === 6 && _.label < t[1]) {
+              _.label = t[1];
+              t = op;
+              break;
+            }
+            if (t && _.label < t[2]) {
+              _.label = t[2];
+              _.ops.push(op);
+              break;
+            }
+            if (t[2]) _.ops.pop();
+            _.trys.pop();
+            continue;
+        }
+        op = body.call(thisArg, _);
+      } catch (e) {
+        op = [6, e];
+        y = 0;
+      } finally {
+        f = t = 0;
+      }
+    if (op[0] & 5) throw (/** @type {!Error} */ (op[1]));
+    return {value: op[0] ? op[1] : void 0, done: true};
+  }
+};
+
+/**
+ * @param {?} m
+ * @param {?} e
+ */
+exports.__exportStar = function (m, e) {
+    for (var p in m) if (!e.hasOwnProperty(p)) e[p] = m[p];
+};
+
+/**
+ * @param {?} o
+ * @return {?}
+ */
+exports.__values = function (o) {
+    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
+    if (m) return m.call(o);
+    return {
+        next: function () {
+            if (o && i >= o.length) o = void 0;
+            return { value: o && o[i++], done: !o };
+        }
+    };
+};
+
+/**
+ * @param {?} o
+ * @param {?=} n
+ * @return {?}
+ */
+exports.__read = function(o, n) {
+  var m = typeof Symbol === "function" && o[Symbol.iterator];
+  if (!m) return o;
+  var i = m.call(o), r, ar = [], e;
+  try {
+    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
+  } catch (error) {
+    e = {error: error};
+  } finally {
+    try {
+      if (r && !r.done && (m = i["return"])) m.call(i);
+    } finally {
+      if (e) throw (/** @type {!Error} */ (e.error));
+    }
+  }
+  return ar;
+};
+
+/**
+ * @return {!Array}
+ * @deprecated since TypeScript 4.2
+ */
+exports.__spread = function() {
+  for (var ar = [], i = 0; i < arguments.length; i++)
+    ar = ar.concat(exports.__read(arguments[i]));
+  return ar;
+};
+
+/**
+ * @return {!Array<?>}
+ * @deprecated since TypeScript 4.2
+ */
+exports.__spreadArrays = function() {
+  for (var s = 0, i = 0, il = arguments.length; i < il; i++)
+    s += arguments[i].length;
+  for (var r = Array(s), k = 0, i = 0; i < il; i++)
+    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
+      r[k] = a[j];
+  return r;
+};
+
+/**
+ * @param {!Array<?>} to
+ * @param {!Array<?>} from
+ * @return {!Array<?>}
+ */
+exports.__spreadArray = function(to, from) {
+  // LOCAL MODIFICATION: https://github.com/microsoft/TypeScript/issues/43353
+  // We have to accept NodeList because they don't implement Iterable in Edge.
+  if (!Array.isArray(from) && !(from instanceof NodeList)) {
+    throw new TypeError('Expected an Array or NodeList: ' + String(from));
+  }
+  // END LOCAL MODIFICATION
+  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
+    to[j] = from[i];
+  return to;
+};
+
+/**
+ * @constructor
+ * LOCAL MODIFICATION: Originally used "this" in function body,
+ * @this {?}
+ * END LOCAL MODIFICATION
+ * @param {?} v
+ * @return {?}
+ */
+exports.__await = function(v) {
+  return this instanceof exports.__await ? (this.v = v, this) :
+                                           new exports.__await(v);
+};
+
+/**
+ * @template T
+ * @param {T} thisArg
+ * @param {?} _arguments
+ * @param {function(this:T)} generator
+ * @return {?}
+ */
+exports.__asyncGenerator = function __asyncGenerator(
+    thisArg, _arguments, generator) {
+  if (!Symbol.asyncIterator)
+    throw new TypeError('Symbol.asyncIterator is not defined.');
+  var g = generator.apply(thisArg, _arguments || []), i, q = [];
+  return i = {}, verb('next'), verb('throw'), verb('return'),
+         i[Symbol.asyncIterator] = function() {
+           return (/** @type {?} */ (this));
+         }, i;
+  function verb(n) {
+    if (g[n])
+      i[n] = function(v) {
+        return new Promise(function(a, b) {
+          q.push([n, v, a, b]) > 1 || resume(n, v);
+        });
+      };
+  }
+  function resume(n, v) {
+    try {
+      step(g[n](v));
+    } catch (e) {
+      settle(q[0][3], e);
+    }
+  }
+  function step(r) {
+    r.value instanceof exports.__await ?
+        Promise.resolve(/** @type {?} */ (r.value).v).then(fulfill, reject) :
+        settle(q[0][2], r);
+  }
+  function fulfill(value) {
+    resume('next', value);
+  }
+  function reject(value) {
+    resume('throw', value);
+  }
+  function settle(f, v) {
+    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);
+  }
+};
+
+/**
+ * @param {?} o
+ * @return {?}
+ */
+exports.__asyncDelegator = function(o) {
+  var i, p;
+  // LOCAL MODIFICATION: Originally iterator body was "return this", but it
+  // doesn't compile in some builds, as this is unknown. Changed to i, which is
+  // equivalent.
+  return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return i; }, i;
+  /**
+   * @param {?} n
+   * @param {?=} f
+   * @return {?}
+   */
+  function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: new exports.__await(o[n](v)), done: n === "return" } : f ? f(v) : v; }; }
+};
+
+/**
+ * @param {?} o
+ * @return {?}
+ */
+exports.__asyncValues = function(o) {
+  if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
+  var m = o[Symbol.asyncIterator];
+  return m ? m.call(o) : typeof __values === "function" ? __values(o) : o[Symbol.iterator]();
+};
+
+/**
+ * @param {?=} cooked
+ * @param {?=} raw
+ * @return {?}
+ */
+exports.__makeTemplateObject = function(cooked, raw) {
+    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
+    return cooked;
+};
+
+
+/**
+ * @param {?} receiver
+ * @param {!WeakMap} privateMap
+ * @return {?}
+ */
+exports.__classPrivateFieldGet = function (receiver, privateMap) {
+  if (!privateMap.has(receiver)) {
+      throw new TypeError("attempted to get private field on non-instance");
+  }
+  return privateMap.get(receiver);
+};
+
+/**
+ * @param {?} receiver
+ * @param {!WeakMap} privateMap
+ * @param {?} value
+ * @return {?}
+ */
+exports.__classPrivateFieldSet = function (receiver, privateMap, value) {
+  if (!privateMap.has(receiver)) {
+      throw new TypeError("attempted to set private field on non-instance");
+  }
+  privateMap.set(receiver, value);
+  return value;
+};
+
+;return exports;});
+
+//third_party/mediapipe/web/solutions/shader_utils.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ *
+ * @fileoverview Wrappers around the OpenGL shader creation calls.
+ *
+ * Generated from: third_party/mediapipe/web/solutions/shader_utils.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.shader_utils');
+var module = module || { id: 'third_party/mediapipe/web/solutions/shader_utils.closure.js' };
+goog.require('google3.third_party.javascript.tslib.tslib');
+/** @enum {number} */
+const ShaderType = {
+    VERTEX_SHADER: 0,
+    FRAGMENT_SHADER: 1,
+};
+exports.ShaderType = ShaderType;
+ShaderType[ShaderType.VERTEX_SHADER] = 'VERTEX_SHADER';
+ShaderType[ShaderType.FRAGMENT_SHADER] = 'FRAGMENT_SHADER';
+/**
+ * Compiles a string into the requested shader type. We can always just use
+ * `createProgramFromSources` to avoid calling this directly.
+ * @param {!WebGLRenderingContext} gl
+ * @param {string} source
+ * @param {!ShaderType} type
+ * @return {!WebGLShader}
+ */
+function loadShader(gl, source, type) {
+    /** @type {number} */
+    const shaderType = type === ShaderType.VERTEX_SHADER ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;
+    /** @type {!WebGLShader} */
+    const shader = (/** @type {!WebGLShader} */ (gl.createShader(shaderType)));
+    gl.shaderSource(shader, source);
+    gl.compileShader(shader);
+    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
+        /** @type {(null|string)} */
+        const info = gl.getShaderInfoLog(shader);
+        throw new Error(`Could not compile WebGL shader.\n\n${info}`);
+    }
+    return shader;
+}
+exports.loadShader = loadShader;
+/**
+ * Links a shader program given the vertex and fragment shaders.
+ * @param {!WebGLRenderingContext} gl
+ * @param {!WebGLShader} vertexShader
+ * @param {!WebGLShader} fragmentShader
+ * @return {!WebGLProgram}
+ */
+function createProgram(gl, vertexShader, fragmentShader) {
+    /** @type {!WebGLProgram} */
+    const program = (/** @type {!WebGLProgram} */ (gl.createProgram()));
+    gl.attachShader(program, vertexShader);
+    gl.attachShader(program, fragmentShader);
+    gl.linkProgram(program);
+    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
+        /** @type {(null|string)} */
+        const info = gl.getProgramInfoLog(program);
+        throw new Error(`Could not compile WebGL program.\n\n${info}`);
+    }
+    return program;
+}
+exports.createProgram = createProgram;
+/**
+ * Helper function to take shader programs as strings and produce a linked
+ * program.
+ * @param {!WebGLRenderingContext} gl
+ * @param {string} vertexSource
+ * @param {string} fragmentSource
+ * @return {!WebGLProgram}
+ */
+function createProgramFromSources(gl, vertexSource, fragmentSource) {
+    /** @type {!WebGLShader} */
+    const vertexShader = loadShader(gl, vertexSource, ShaderType.VERTEX_SHADER);
+    /** @type {!WebGLShader} */
+    const fragmentShader = loadShader(gl, fragmentSource, ShaderType.FRAGMENT_SHADER);
+    return createProgram(gl, vertexShader, fragmentShader);
+}
+exports.createProgramFromSources = createProgramFromSources;
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhZGVyX3V0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvbWVkaWFwaXBlL3dlYi9zb2x1dGlvbnMvc2hhZGVyX3V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBUUEsTUFBWSxVQUFVO0lBQ3BCLGFBQWEsR0FBQTtJQUNiLGVBQWUsR0FBQTtFQUNoQjs7Ozs7Ozs7Ozs7O0FBTUQsU0FBZ0IsVUFBVSxDQUN0QixFQUF5QixFQUFFLE1BQWMsRUFBRSxJQUFnQjs7VUFDdkQsVUFBVSxHQUNaLElBQUksS0FBSyxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsZUFBZTs7VUFDdkUsTUFBTSxHQUFHLDhCQUFBLEVBQUUsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLEVBQUM7SUFDM0MsRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDaEMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN6QixJQUFJLENBQUMsRUFBRSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsY0FBYyxDQUFDLEVBQUU7O2NBQy9DLElBQUksR0FBRyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDO1FBQ3hDLE1BQU0sSUFBSSxLQUFLLENBQUMsc0NBQXNDLElBQUksRUFBRSxDQUFDLENBQUM7S0FDL0Q7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBWkQsZ0NBWUM7Ozs7Ozs7O0FBS0QsU0FBZ0IsYUFBYSxDQUN6QixFQUF5QixFQUFFLFlBQXlCLEVBQ3BELGNBQTJCOztVQUN2QixPQUFPLEdBQUcsK0JBQUEsRUFBRSxDQUFDLGFBQWEsRUFBRSxFQUFDO0lBQ25DLEVBQUUsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3ZDLEVBQUUsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQ3pDLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFOztjQUM5QyxJQUFJLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQztRQUMxQyxNQUFNLElBQUksS0FBSyxDQUFDLHVDQUF1QyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0tBQ2hFO0lBQ0QsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQztBQVpELHNDQVlDOzs7Ozs7Ozs7QUFNRCxTQUFnQix3QkFBd0IsQ0FDcEMsRUFBeUIsRUFBRSxZQUFvQixFQUMvQyxjQUFzQjs7VUFDbEIsWUFBWSxHQUFHLFVBQVUsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLFVBQVUsQ0FBQyxhQUFhLENBQUM7O1VBQ3JFLGNBQWMsR0FDaEIsVUFBVSxDQUFDLEVBQUUsRUFBRSxjQUFjLEVBQUUsVUFBVSxDQUFDLGVBQWUsQ0FBQztJQUM5RCxPQUFPLGFBQWEsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3pELENBQUM7QUFQRCw0REFPQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVvdmVydmlldyBXcmFwcGVycyBhcm91bmQgdGhlIE9wZW5HTCBzaGFkZXIgY3JlYXRpb24gY2FsbHMuXG4gKi9cblxuLyoqXG4gKiBTaW1wbGUgcmVmZXJlbmNlIHRvIHRoZSB0d28gc2hhZGVyIHR5cGVzLiBJZiB3ZSBkb24ndCBwcm92aWRlIHRoaXMsIHRoZVxuICogdXNlciBuZWVkcyB0byByZWFjaCBpbnRvIHRoZWlyIGdsQ29udGV4dCB0byBnZXQgdGhlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGVudW0gU2hhZGVyVHlwZSB7XG4gIFZFUlRFWF9TSEFERVIsXG4gIEZSQUdNRU5UX1NIQURFUlxufVxuXG4vKipcbiAqIENvbXBpbGVzIGEgc3RyaW5nIGludG8gdGhlIHJlcXVlc3RlZCBzaGFkZXIgdHlwZS4gV2UgY2FuIGFsd2F5cyBqdXN0IHVzZVxuICogYGNyZWF0ZVByb2dyYW1Gcm9tU291cmNlc2AgdG8gYXZvaWQgY2FsbGluZyB0aGlzIGRpcmVjdGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNoYWRlcihcbiAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBzb3VyY2U6IHN0cmluZywgdHlwZTogU2hhZGVyVHlwZSk6IFdlYkdMU2hhZGVyIHtcbiAgY29uc3Qgc2hhZGVyVHlwZSA9XG4gICAgICB0eXBlID09PSBTaGFkZXJUeXBlLlZFUlRFWF9TSEFERVIgPyBnbC5WRVJURVhfU0hBREVSIDogZ2wuRlJBR01FTlRfU0hBREVSO1xuICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSkhO1xuICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xuICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgY29uc3QgaW5mbyA9IGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb21waWxlIFdlYkdMIHNoYWRlci5cXG5cXG4ke2luZm99YCk7XG4gIH1cbiAgcmV0dXJuIHNoYWRlcjtcbn1cblxuLyoqXG4gKiBMaW5rcyBhIHNoYWRlciBwcm9ncmFtIGdpdmVuIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9ncmFtKFxuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsXG4gICAgZnJhZ21lbnRTaGFkZXI6IFdlYkdMU2hhZGVyKTogV2ViR0xQcm9ncmFtIHtcbiAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKSE7XG4gIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgIGNvbnN0IGluZm8gPSBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb21waWxlIFdlYkdMIHByb2dyYW0uXFxuXFxuJHtpbmZvfWApO1xuICB9XG4gIHJldHVybiBwcm9ncmFtO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byB0YWtlIHNoYWRlciBwcm9ncmFtcyBhcyBzdHJpbmdzIGFuZCBwcm9kdWNlIGEgbGlua2VkXG4gKiBwcm9ncmFtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbUZyb21Tb3VyY2VzKFxuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNvdXJjZTogc3RyaW5nLFxuICAgIGZyYWdtZW50U291cmNlOiBzdHJpbmcpOiBXZWJHTFByb2dyYW0ge1xuICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBsb2FkU2hhZGVyKGdsLCB2ZXJ0ZXhTb3VyY2UsIFNoYWRlclR5cGUuVkVSVEVYX1NIQURFUik7XG4gIGNvbnN0IGZyYWdtZW50U2hhZGVyID1cbiAgICAgIGxvYWRTaGFkZXIoZ2wsIGZyYWdtZW50U291cmNlLCBTaGFkZXJUeXBlLkZSQUdNRU5UX1NIQURFUik7XG4gIHJldHVybiBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcbn1cbiJdfQ==
+;return exports;});
+
+//third_party/mediapipe/web/solutions/stream_helpers.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ * @fileoverview added by tsickle
+ * Generated from: third_party/mediapipe/web/solutions/stream_helpers.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.stream_helpers');
+var module = module || { id: 'third_party/mediapipe/web/solutions/stream_helpers.closure.js' };
+goog.require('google3.third_party.javascript.tslib.tslib');
+const tsickle_shader_utils_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.shader_utils");
+const tsickle_solutions_wasm_2 = goog.requireType("google3.third_party.mediapipe.web.solutions.solutions_wasm");
+const shaderUtils = goog.require('google3.third_party.mediapipe.web.solutions.shader_utils');
+/**
+ * When the graph is closed or restarted, we use this to give the helpers a
+ * chance to cleanup. For instance, OpenGl textures that have been created can
+ * be deleted.
+ * @record
+ */
+function StreamHelper() { }
+exports.StreamHelper = StreamHelper;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @return {void}
+     */
+    StreamHelper.prototype.dispose = function () { };
+}
+/** @type {string} */
+const VS_RENDER = `
+  attribute vec2 aVertex;
+  attribute vec2 aTex;
+  varying vec2 vTex;
+  void main(void) {
+    gl_Position = vec4(aVertex, 0.0, 1.0);
+    vTex = aTex;
+  }`;
+/** @type {string} */
+const FS_RENDER = `
+  precision highp float;
+  varying vec2 vTex;
+  uniform sampler2D sampler0;
+  void main(){
+    gl_FragColor = texture2D(sampler0, vTex);
+  }`;
+/**
+ * @record
+ */
+function RenderVariableLocations() { }
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    RenderVariableLocations.prototype.aVertex;
+    /** @type {number} */
+    RenderVariableLocations.prototype.aTex;
+    /** @type {!WebGLUniformLocation} */
+    RenderVariableLocations.prototype.sampler0;
+}
+/**
+ * Represents a GpuBuffer coming from MediaPipe. We attach helper methods
+ * to deal with the internal GL details.
+ * @typedef {!HTMLCanvasElement}
+ */
+exports.GpuBuffer;
+/**
+ * The types of inputs that can be encoded.
+ * @typedef {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)}
+ */
+exports.InputElement;
+/**
+ * Deals with the trouble of moving image information into MediaPipe back out
+ * again. At our lowest level, we use a Canvas element to provide a context in
+ * which to do GPU processing, but because browsers do not share contexts
+ * between elements, there's no easy way to move texture data around. So we'll
+ * do that here. We'll provide ways for the user to supply HTML elements that
+ * we'll feed into MediaPipe (see `encode`) and we'll provide ways to render
+ * output streams from MediaPipe (see `renderTo`).
+ * @implements {StreamHelper}
+ */
+class ImageStreamHelper {
+    /**
+     * @param {!tsickle_solutions_wasm_2.MediapipeWasm} wasm
+     * @param {!WebGL2RenderingContext} gl
+     */
+    constructor(wasm, gl) {
+        this.wasm = wasm;
+        this.gl = gl;
+        // This is used for both input_streams and output_streams in a graph. The
+        // back end either needs it to wrap an external texture, or provides it when
+        // supplying us with a texture (as part of an output stream).
+        this.textureId = 0;
+    }
+    /**
+     * Captures a frame from a video element to send as a texture to the graph.
+     * TODO(mhays); In the future this will also other elements that supply
+     * texture (including HTMLImageElement and HTMLCanvasElement).
+     * @param {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)} input
+     * @return {!Object}
+     */
+    encode(input) {
+        if (this.textureId === 0) {
+            this.textureId = this.wasm.createTexture();
+        }
+        /** @type {number} */
+        let width = 0;
+        /** @type {number} */
+        let height = 0;
+        if (input instanceof HTMLVideoElement) {
+            width = input.videoWidth;
+            height = input.videoHeight;
+        }
+        else if (input instanceof HTMLImageElement) {
+            width = input.naturalWidth;
+            height = input.naturalHeight;
+        }
+        else {
+            width = input.width;
+            height = input.height;
+        }
+        /** @type {{glName: number, width: number, height: number}} */
+        const result = { glName: this.textureId, width, height };
+        /** @type {!WebGL2RenderingContext} */
+        const gl = this.gl;
+        gl.canvas.width = result.width;
+        gl.canvas.height = result.height;
+        gl.activeTexture(gl.TEXTURE0);
+        this.wasm.bindTexture2d(this.textureId);
+        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, input);
+        this.wasm.bindTexture2d(0);
+        return result;
+    }
+    /**
+     * @param {!tsickle_solutions_wasm_2.Texture2dData} data
+     * @return {!HTMLCanvasElement}
+     */
+    decode(data) {
+        this.render(data);
+        return (/** @type {!HTMLCanvasElement} */ (this.gl.canvas));
+    }
+    /**
+     * @private
+     * @param {!tsickle_solutions_wasm_2.Texture2dData} data
+     * @return {void}
+     */
+    render(data) {
+        /** @type {!WebGL2RenderingContext} */
+        const gl = this.gl;
+        if (this.renderProgram === undefined) {
+            /** @type {!WebGLProgram} */
+            const program = this.renderProgram =
+                shaderUtils.createProgramFromSources(gl, VS_RENDER, FS_RENDER);
+            gl.useProgram(program);
+            /** @type {number} */
+            const aVertex = gl.getAttribLocation(program, 'aVertex');
+            /** @type {number} */
+            const aTex = gl.getAttribLocation(program, 'aTex');
+            /** @type {!WebGLUniformLocation} */
+            const sampler0 = (/** @type {!WebGLUniformLocation} */ (gl.getUniformLocation(program, 'sampler0')));
+            this.locations = { aVertex, aTex, sampler0 };
+            this.vertexBuffer = (/** @type {!WebGLBuffer} */ (gl.createBuffer()));
+            gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);
+            gl.enableVertexAttribArray(this.locations.aVertex);
+            gl.vertexAttribPointer(this.locations.aVertex, 2, gl.FLOAT, false, 0, 0);
+            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), gl.STATIC_DRAW);
+            gl.bindBuffer(gl.ARRAY_BUFFER, null);
+            this.textureBuffer = (/** @type {!WebGLBuffer} */ (gl.createBuffer()));
+            gl.bindBuffer(gl.ARRAY_BUFFER, this.textureBuffer);
+            gl.enableVertexAttribArray(this.locations.aTex);
+            gl.vertexAttribPointer(this.locations.aTex, 2, gl.FLOAT, false, 0, 0);
+            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 1, 0, 0, 1, 0, 1, 1]), gl.STATIC_DRAW);
+            gl.bindBuffer(gl.ARRAY_BUFFER, null);
+            gl.uniform1i(sampler0, 0);
+        }
+        /** @type {!RenderVariableLocations} */
+        const locations = (/** @type {!RenderVariableLocations} */ (this.locations));
+        /** @type {!WebGLProgram} */
+        const program = this.renderProgram;
+        gl.useProgram(program);
+        gl.canvas.width = data.width;
+        gl.canvas.height = data.height;
+        gl.viewport(0, 0, data.width, data.height);
+        // The texture will already be filled when we are rendering.  We just need
+        // to hand it over to the program on sampler0.
+        gl.activeTexture(gl.TEXTURE0);
+        this.wasm.bindTexture2d(data.glName);
+        gl.enableVertexAttribArray(locations.aVertex);
+        gl.bindBuffer(gl.ARRAY_BUFFER, (/** @type {!WebGLBuffer} */ (this.vertexBuffer)));
+        gl.vertexAttribPointer(locations.aVertex, 2, gl.FLOAT, false, 0, 0);
+        gl.enableVertexAttribArray(locations.aTex);
+        gl.bindBuffer(gl.ARRAY_BUFFER, (/** @type {!WebGLBuffer} */ (this.textureBuffer)));
+        gl.vertexAttribPointer(locations.aTex, 2, gl.FLOAT, false, 0, 0);
+        // Make sure we're drawing to the canvas and not to a texture.
+        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
+        gl.drawArrays(gl.TRIANGLE_FAN, 0, 4);
+        gl.disableVertexAttribArray(locations.aVertex);
+        gl.disableVertexAttribArray(locations.aTex);
+        gl.bindBuffer(gl.ARRAY_BUFFER, null);
+        this.wasm.bindTexture2d(0);
+    }
+    /**
+     * Disposes of the texture we created. Since we made the texture on the C++
+     * layer, we need to delete it there as well.
+     * @return {void}
+     */
+    dispose() {
+        if (this.textureId !== 0) {
+            this.wasm.deleteTexture(this.textureId);
+        }
+        if (this.renderProgram) {
+            this.gl.deleteProgram(this.renderProgram);
+        }
+        if (this.textureBuffer) {
+            this.gl.deleteBuffer(this.textureBuffer);
+        }
+        if (this.vertexBuffer) {
+            this.gl.deleteBuffer(this.vertexBuffer);
+        }
+    }
+}
+exports.ImageStreamHelper = ImageStreamHelper;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {number}
+     * @private
+     */
+    ImageStreamHelper.prototype.textureId;
+    /**
+     * @type {(undefined|!WebGLProgram)}
+     * @private
+     */
+    ImageStreamHelper.prototype.renderProgram;
+    /**
+     * @type {(undefined|!WebGLBuffer)}
+     * @private
+     */
+    ImageStreamHelper.prototype.vertexBuffer;
+    /**
+     * @type {(undefined|!WebGLBuffer)}
+     * @private
+     */
+    ImageStreamHelper.prototype.textureBuffer;
+    /**
+     * @type {(undefined|!RenderVariableLocations)}
+     * @private
+     */
+    ImageStreamHelper.prototype.locations;
+    /**
+     * @type {!tsickle_solutions_wasm_2.MediapipeWasm}
+     * @private
+     */
+    ImageStreamHelper.prototype.wasm;
+    /**
+     * @type {!WebGL2RenderingContext}
+     * @private
+     */
+    ImageStreamHelper.prototype.gl;
+}
+/**
+ * Streams sometimes save information aside. For instance, 2d textures will save
+ * a texture id.
+ * @record
+ */
+function StreamHelperMap() { }
+exports.StreamHelperMap = StreamHelperMap;
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyZWFtX2hlbHBlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9tZWRpYXBpcGUvd2ViL3NvbHV0aW9ucy9zdHJlYW1faGVscGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsNkZBQThDOzs7Ozs7O0FBUTlDLDJCQUVDOzs7Ozs7O0lBREMsaURBQWdCOzs7TUFHWixTQUFTLEdBQUc7Ozs7Ozs7SUFPZDs7TUFFRSxTQUFTLEdBQUc7Ozs7OztJQU1kOzs7O0FBRUosc0NBSUM7Ozs7SUFIQywwQ0FBZTs7SUFDZix1Q0FBWTs7SUFDWiwyQ0FBK0I7Ozs7Ozs7QUFPakMsa0JBQTBDOzs7OztBQUsxQyxxQkFBK0U7Ozs7Ozs7Ozs7O0FBVy9FLE1BQWEsaUJBQWlCOzs7OztJQVk1QixZQUNxQixJQUFpQyxFQUNqQyxFQUEwQjtRQUQxQixTQUFJLEdBQUosSUFBSSxDQUE2QjtRQUNqQyxPQUFFLEdBQUYsRUFBRSxDQUF3Qjs7OztRQVZ2QyxjQUFTLEdBQUcsQ0FBQyxDQUFDO0lBVTRCLENBQUM7Ozs7Ozs7O0lBT25ELE1BQU0sQ0FBQyxLQUFtQjtRQUN4QixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztTQUM1Qzs7WUFFRyxLQUFLLEdBQUcsQ0FBQzs7WUFDVCxNQUFNLEdBQUcsQ0FBQztRQUVkLElBQUksS0FBSyxZQUFZLGdCQUFnQixFQUFFO1lBQ3JDLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDO1lBQ3pCLE1BQU0sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDO1NBQzVCO2FBQU0sSUFBSSxLQUFLLFlBQVksZ0JBQWdCLEVBQUU7WUFDNUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUM7WUFDM0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUM7U0FDOUI7YUFBTTtZQUNMLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3BCLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1NBQ3ZCOztjQUNLLE1BQU0sR0FBRyxFQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUM7O2NBRWhELEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRTtRQUNsQixFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQy9CLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDakMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7Ozs7SUFFRCxNQUFNLENBQUMsSUFBaUM7UUFDdEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQixPQUFPLG9DQUFBLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFhLENBQUM7SUFDckMsQ0FBQzs7Ozs7O0lBRU8sTUFBTSxDQUFDLElBQWlDOztjQUN4QyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUU7UUFFbEIsSUFBSSxJQUFJLENBQUMsYUFBYSxLQUFLLFNBQVMsRUFBRTs7a0JBQzlCLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYTtnQkFDOUIsV0FBVyxDQUFDLHdCQUF3QixDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDO1lBQ2xFLEVBQUUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7O2tCQUVqQixPQUFPLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUM7O2tCQUNsRCxJQUFJLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7O2tCQUM1QyxRQUFRLEdBQUcsdUNBQUEsRUFBRSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsRUFBQztZQUM1RCxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsQ0FBQztZQUUzQyxJQUFJLENBQUMsWUFBWSxHQUFHLDhCQUFBLEVBQUUsQ0FBQyxZQUFZLEVBQUUsRUFBQyxDQUFDO1lBQ3ZDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDbEQsRUFBRSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbkQsRUFBRSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDekUsRUFBRSxDQUFDLFVBQVUsQ0FDVCxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDL0QsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3BCLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztZQUVyQyxJQUFJLENBQUMsYUFBYSxHQUFHLDhCQUFBLEVBQUUsQ0FBQyxZQUFZLEVBQUUsRUFBQyxDQUFDO1lBQ3hDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDbkQsRUFBRSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEQsRUFBRSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEUsRUFBRSxDQUFDLFVBQVUsQ0FDVCxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQzNELEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNwQixFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDckMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDM0I7O2NBRUssU0FBUyxHQUFHLDBDQUFBLElBQUksQ0FBQyxTQUFTLEVBQUM7O2NBQzNCLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYTtRQUVsQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDN0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMvQixFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFM0MsMEVBQTBFO1FBQzFFLDhDQUE4QztRQUM5QyxFQUFFLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFckMsRUFBRSxDQUFDLHVCQUF1QixDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsOEJBQUEsSUFBSSxDQUFDLFlBQVksRUFBQyxDQUFDLENBQUM7UUFDbkQsRUFBRSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVwRSxFQUFFLENBQUMsdUJBQXVCLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSw4QkFBQSxJQUFJLENBQUMsYUFBYSxFQUFDLENBQUMsQ0FBQztRQUNwRCxFQUFFLENBQUMsbUJBQW1CLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRWpFLDhEQUE4RDtRQUM5RCxFQUFFLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU5QyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRXJDLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDL0MsRUFBRSxDQUFDLHdCQUF3QixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM1QyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFckMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0IsQ0FBQzs7Ozs7O0lBTUQsT0FBTztRQUNMLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxDQUFDLEVBQUU7WUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3RCLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztTQUMzQztRQUNELElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUN0QixJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7U0FDMUM7UUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDckIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQ3pDO0lBQ0gsQ0FBQztDQUNGO0FBNUlELDhDQTRJQzs7Ozs7OztJQXhJQyxzQ0FBc0I7Ozs7O0lBR3RCLDBDQUFxQzs7Ozs7SUFDckMseUNBQW1DOzs7OztJQUNuQywwQ0FBb0M7Ozs7O0lBQ3BDLHNDQUE0Qzs7Ozs7SUFHeEMsaUNBQWtEOzs7OztJQUNsRCwrQkFBMkM7Ozs7Ozs7QUFvSWpELDhCQUVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgc2hhZGVyVXRpbHMgZnJvbSAnLi9zaGFkZXJfdXRpbHMnO1xuaW1wb3J0ICogYXMgc29sdXRpb25zV2FzbSBmcm9tICcuL3NvbHV0aW9uc193YXNtJztcblxuLyoqXG4gKiBXaGVuIHRoZSBncmFwaCBpcyBjbG9zZWQgb3IgcmVzdGFydGVkLCB3ZSB1c2UgdGhpcyB0byBnaXZlIHRoZSBoZWxwZXJzIGFcbiAqIGNoYW5jZSB0byBjbGVhbnVwLiBGb3IgaW5zdGFuY2UsIE9wZW5HbCB0ZXh0dXJlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIGNhblxuICogYmUgZGVsZXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJlYW1IZWxwZXIge1xuICBkaXNwb3NlKCk6IHZvaWQ7XG59XG5cbmNvbnN0IFZTX1JFTkRFUiA9IGBcbiAgYXR0cmlidXRlIHZlYzIgYVZlcnRleDtcbiAgYXR0cmlidXRlIHZlYzIgYVRleDtcbiAgdmFyeWluZyB2ZWMyIHZUZXg7XG4gIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFWZXJ0ZXgsIDAuMCwgMS4wKTtcbiAgICB2VGV4ID0gYVRleDtcbiAgfWA7XG5cbmNvbnN0IEZTX1JFTkRFUiA9IGBcbiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICB2YXJ5aW5nIHZlYzIgdlRleDtcbiAgdW5pZm9ybSBzYW1wbGVyMkQgc2FtcGxlcjA7XG4gIHZvaWQgbWFpbigpe1xuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRChzYW1wbGVyMCwgdlRleCk7XG4gIH1gO1xuXG5pbnRlcmZhY2UgUmVuZGVyVmFyaWFibGVMb2NhdGlvbnMge1xuICBhVmVydGV4OiBHTGludDtcbiAgYVRleDogR0xpbnQ7XG4gIHNhbXBsZXIwOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgR3B1QnVmZmVyIGNvbWluZyBmcm9tIE1lZGlhUGlwZS4gV2UgYXR0YWNoIGhlbHBlciBtZXRob2RzXG4gKiB0byBkZWFsIHdpdGggdGhlIGludGVybmFsIEdMIGRldGFpbHMuXG4gKi9cbmV4cG9ydCB0eXBlIEdwdUJ1ZmZlciA9IEhUTUxDYW52YXNFbGVtZW50O1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiBpbnB1dHMgdGhhdCBjYW4gYmUgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IHR5cGUgSW5wdXRFbGVtZW50ID0gSFRNTFZpZGVvRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50O1xuXG4vKipcbiAqIERlYWxzIHdpdGggdGhlIHRyb3VibGUgb2YgbW92aW5nIGltYWdlIGluZm9ybWF0aW9uIGludG8gTWVkaWFQaXBlIGJhY2sgb3V0XG4gKiBhZ2Fpbi4gQXQgb3VyIGxvd2VzdCBsZXZlbCwgd2UgdXNlIGEgQ2FudmFzIGVsZW1lbnQgdG8gcHJvdmlkZSBhIGNvbnRleHQgaW5cbiAqIHdoaWNoIHRvIGRvIEdQVSBwcm9jZXNzaW5nLCBidXQgYmVjYXVzZSBicm93c2VycyBkbyBub3Qgc2hhcmUgY29udGV4dHNcbiAqIGJldHdlZW4gZWxlbWVudHMsIHRoZXJlJ3Mgbm8gZWFzeSB3YXkgdG8gbW92ZSB0ZXh0dXJlIGRhdGEgYXJvdW5kLiBTbyB3ZSdsbFxuICogZG8gdGhhdCBoZXJlLiBXZSdsbCBwcm92aWRlIHdheXMgZm9yIHRoZSB1c2VyIHRvIHN1cHBseSBIVE1MIGVsZW1lbnRzIHRoYXRcbiAqIHdlJ2xsIGZlZWQgaW50byBNZWRpYVBpcGUgKHNlZSBgZW5jb2RlYCkgYW5kIHdlJ2xsIHByb3ZpZGUgd2F5cyB0byByZW5kZXJcbiAqIG91dHB1dCBzdHJlYW1zIGZyb20gTWVkaWFQaXBlIChzZWUgYHJlbmRlclRvYCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbWFnZVN0cmVhbUhlbHBlciBpbXBsZW1lbnRzIFN0cmVhbUhlbHBlciB7XG4gIC8vIFRoaXMgaXMgdXNlZCBmb3IgYm90aCBpbnB1dF9zdHJlYW1zIGFuZCBvdXRwdXRfc3RyZWFtcyBpbiBhIGdyYXBoLiBUaGVcbiAgLy8gYmFjayBlbmQgZWl0aGVyIG5lZWRzIGl0IHRvIHdyYXAgYW4gZXh0ZXJuYWwgdGV4dHVyZSwgb3IgcHJvdmlkZXMgaXQgd2hlblxuICAvLyBzdXBwbHlpbmcgdXMgd2l0aCBhIHRleHR1cmUgKGFzIHBhcnQgb2YgYW4gb3V0cHV0IHN0cmVhbSkuXG4gIHByaXZhdGUgdGV4dHVyZUlkID0gMDtcblxuICAvLyBXZWJHTCBwcm9ncmFtcyBhcmUgb25seSB1c2VkIGZvciByZW5kZXJpbmcsIHNvIG9ubHkgZm9yIG91dHB1dCB0ZXh0dXJlcy5cbiAgcHJpdmF0ZSByZW5kZXJQcm9ncmFtPzogV2ViR0xQcm9ncmFtO1xuICBwcml2YXRlIHZlcnRleEJ1ZmZlcj86IFdlYkdMQnVmZmVyO1xuICBwcml2YXRlIHRleHR1cmVCdWZmZXI/OiBXZWJHTEJ1ZmZlcjtcbiAgcHJpdmF0ZSBsb2NhdGlvbnM/OiBSZW5kZXJWYXJpYWJsZUxvY2F0aW9ucztcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIHByaXZhdGUgcmVhZG9ubHkgd2FzbTogc29sdXRpb25zV2FzbS5NZWRpYXBpcGVXYXNtLFxuICAgICAgcHJpdmF0ZSByZWFkb25seSBnbDogV2ViR0wyUmVuZGVyaW5nQ29udGV4dCkge31cblxuICAvKipcbiAgICogQ2FwdHVyZXMgYSBmcmFtZSBmcm9tIGEgdmlkZW8gZWxlbWVudCB0byBzZW5kIGFzIGEgdGV4dHVyZSB0byB0aGUgZ3JhcGguXG4gICAqIFRPRE8obWhheXMpOyBJbiB0aGUgZnV0dXJlIHRoaXMgd2lsbCBhbHNvIG90aGVyIGVsZW1lbnRzIHRoYXQgc3VwcGx5XG4gICAqIHRleHR1cmUgKGluY2x1ZGluZyBIVE1MSW1hZ2VFbGVtZW50IGFuZCBIVE1MQ2FudmFzRWxlbWVudCkuXG4gICAqL1xuICBlbmNvZGUoaW5wdXQ6IElucHV0RWxlbWVudCk6IG9iamVjdCB7XG4gICAgaWYgKHRoaXMudGV4dHVyZUlkID09PSAwKSB7XG4gICAgICB0aGlzLnRleHR1cmVJZCA9IHRoaXMud2FzbS5jcmVhdGVUZXh0dXJlKCk7XG4gICAgfVxuXG4gICAgbGV0IHdpZHRoID0gMDtcbiAgICBsZXQgaGVpZ2h0ID0gMDtcblxuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpIHtcbiAgICAgIHdpZHRoID0gaW5wdXQudmlkZW9XaWR0aDtcbiAgICAgIGhlaWdodCA9IGlucHV0LnZpZGVvSGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoaW5wdXQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICB3aWR0aCA9IGlucHV0Lm5hdHVyYWxXaWR0aDtcbiAgICAgIGhlaWdodCA9IGlucHV0Lm5hdHVyYWxIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gaW5wdXQud2lkdGg7XG4gICAgICBoZWlnaHQgPSBpbnB1dC5oZWlnaHQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtnbE5hbWU6IHRoaXMudGV4dHVyZUlkLCB3aWR0aCwgaGVpZ2h0fTtcblxuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICBnbC5jYW52YXMud2lkdGggPSByZXN1bHQud2lkdGg7XG4gICAgZ2wuY2FudmFzLmhlaWdodCA9IHJlc3VsdC5oZWlnaHQ7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gICAgdGhpcy53YXNtLmJpbmRUZXh0dXJlMmQodGhpcy50ZXh0dXJlSWQpO1xuICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgaW5wdXQpO1xuICAgIHRoaXMud2FzbS5iaW5kVGV4dHVyZTJkKDApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBkZWNvZGUoZGF0YTogc29sdXRpb25zV2FzbS5UZXh0dXJlMmREYXRhKTogR3B1QnVmZmVyIHtcbiAgICB0aGlzLnJlbmRlcihkYXRhKTtcbiAgICByZXR1cm4gdGhpcy5nbC5jYW52YXMgYXMgR3B1QnVmZmVyO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoZGF0YTogc29sdXRpb25zV2FzbS5UZXh0dXJlMmREYXRhKTogdm9pZCB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuXG4gICAgaWYgKHRoaXMucmVuZGVyUHJvZ3JhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBwcm9ncmFtID0gdGhpcy5yZW5kZXJQcm9ncmFtID1cbiAgICAgICAgICBzaGFkZXJVdGlscy5jcmVhdGVQcm9ncmFtRnJvbVNvdXJjZXMoZ2wsIFZTX1JFTkRFUiwgRlNfUkVOREVSKTtcbiAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG5cbiAgICAgIGNvbnN0IGFWZXJ0ZXggPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAnYVZlcnRleCcpO1xuICAgICAgY29uc3QgYVRleCA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhVGV4Jyk7XG4gICAgICBjb25zdCBzYW1wbGVyMCA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAnc2FtcGxlcjAnKSE7XG4gICAgICB0aGlzLmxvY2F0aW9ucyA9IHthVmVydGV4LCBhVGV4LCBzYW1wbGVyMH07XG5cbiAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xuICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4QnVmZmVyKTtcbiAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMubG9jYXRpb25zLmFWZXJ0ZXgpO1xuICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmxvY2F0aW9ucy5hVmVydGV4LCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgICBnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgLTEsIDEsIDEsIDEsIDEsIC0xXSksXG4gICAgICAgICAgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuXG4gICAgICB0aGlzLnRleHR1cmVCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKSE7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy50ZXh0dXJlQnVmZmVyKTtcbiAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMubG9jYXRpb25zLmFUZXgpO1xuICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmxvY2F0aW9ucy5hVGV4LCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgICBnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWzAsIDEsIDAsIDAsIDEsIDAsIDEsIDFdKSxcbiAgICAgICAgICBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgICBnbC51bmlmb3JtMWkoc2FtcGxlcjAsIDApO1xuICAgIH1cblxuICAgIGNvbnN0IGxvY2F0aW9ucyA9IHRoaXMubG9jYXRpb25zITtcbiAgICBjb25zdCBwcm9ncmFtID0gdGhpcy5yZW5kZXJQcm9ncmFtO1xuXG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC5jYW52YXMud2lkdGggPSBkYXRhLndpZHRoO1xuICAgIGdsLmNhbnZhcy5oZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICBnbC52aWV3cG9ydCgwLCAwLCBkYXRhLndpZHRoLCBkYXRhLmhlaWdodCk7XG5cbiAgICAvLyBUaGUgdGV4dHVyZSB3aWxsIGFscmVhZHkgYmUgZmlsbGVkIHdoZW4gd2UgYXJlIHJlbmRlcmluZy4gIFdlIGp1c3QgbmVlZFxuICAgIC8vIHRvIGhhbmQgaXQgb3ZlciB0byB0aGUgcHJvZ3JhbSBvbiBzYW1wbGVyMC5cbiAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICB0aGlzLndhc20uYmluZFRleHR1cmUyZChkYXRhLmdsTmFtZSk7XG5cbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2NhdGlvbnMuYVZlcnRleCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4QnVmZmVyISk7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbnMuYVZlcnRleCwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9ucy5hVGV4KTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy50ZXh0dXJlQnVmZmVyISk7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbnMuYVRleCwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgIC8vIE1ha2Ugc3VyZSB3ZSdyZSBkcmF3aW5nIHRvIHRoZSBjYW52YXMgYW5kIG5vdCB0byBhIHRleHR1cmUuXG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkRSQVdfRlJBTUVCVUZGRVIsIG51bGwpO1xuXG4gICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9GQU4sIDAsIDQpO1xuXG4gICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9ucy5hVmVydGV4KTtcbiAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb25zLmFUZXgpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcblxuICAgIHRoaXMud2FzbS5iaW5kVGV4dHVyZTJkKDApO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIG9mIHRoZSB0ZXh0dXJlIHdlIGNyZWF0ZWQuIFNpbmNlIHdlIG1hZGUgdGhlIHRleHR1cmUgb24gdGhlIEMrK1xuICAgKiBsYXllciwgd2UgbmVlZCB0byBkZWxldGUgaXQgdGhlcmUgYXMgd2VsbC5cbiAgICovXG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGV4dHVyZUlkICE9PSAwKSB7XG4gICAgICB0aGlzLndhc20uZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmVJZCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlbmRlclByb2dyYW0pIHtcbiAgICAgIHRoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnJlbmRlclByb2dyYW0pO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0dXJlQnVmZmVyKSB7XG4gICAgICB0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLnRleHR1cmVCdWZmZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy52ZXJ0ZXhCdWZmZXIpIHtcbiAgICAgIHRoaXMuZ2wuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4QnVmZmVyKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTdHJlYW1zIHNvbWV0aW1lcyBzYXZlIGluZm9ybWF0aW9uIGFzaWRlLiBGb3IgaW5zdGFuY2UsIDJkIHRleHR1cmVzIHdpbGwgc2F2ZVxuICogYSB0ZXh0dXJlIGlkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbUhlbHBlck1hcCB7XG4gIFtrZXk6IHN0cmluZ106IFN0cmVhbUhlbHBlcjtcbn1cbiJdfQ==
+;return exports;});
+
+//third_party/mediapipe/web/solutions/solutions_api.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ * @fileoverview added by tsickle
+ * Generated from: third_party/mediapipe/web/solutions/solutions_api.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.solutions_api');
+var module = module || { id: 'third_party/mediapipe/web/solutions/solutions_api.closure.js' };
+const tslib_1 = goog.require('google3.third_party.javascript.tslib.tslib');
+const tsickle_solutions_wasm_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.solutions_wasm");
+const tsickle_stream_helpers_2 = goog.requireType("google3.third_party.mediapipe.web.solutions.stream_helpers");
+const streamHelpers = goog.require('google3.third_party.mediapipe.web.solutions.stream_helpers');
+/**
+ * Represents pairs of (start,end) indexes so that we can connect landmarks
+ * with lines to provide a skeleton when we draw the points. These are defined
+ * within each specific solution, but a common definition is held here for
+ * convenience.
+ * @typedef {!Array<!Array<?>>}
+ */
+exports.LandmarkConnectionArray;
+/**
+ * Represents a normalized rectangle that can be passed to a StreamListener.
+ * @typedef {!tsickle_solutions_wasm_1.NormalizedRect}
+ */
+exports.NormalizedRect;
+/**
+ * Represents a list of normalized rectangles.
+ * @typedef {!Array<!tsickle_solutions_wasm_1.NormalizedRect>}
+ */
+exports.NormalizedRectList;
+/**
+ * Represents a detection.
+ * @record
+ */
+function Detection() { }
+exports.Detection = Detection;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The bounding box around the detection.
+     * @type {!tsickle_solutions_wasm_1.NormalizedRect}
+     */
+    Detection.prototype.boundingBox;
+    /**
+     * The associated landmarks.
+     *
+     * May be empty. This is typically filled for e.g. face, hands or pose
+     * detection use cases.
+     * @type {!Array<!NormalizedLandmark>}
+     */
+    Detection.prototype.landmarks;
+    /**
+     * The associated classifications.
+     *
+     * May be empty. This is typically filled for e.g. object detection use cases.
+     * @type {!Array<!Classification>}
+     */
+    Detection.prototype.classifications;
+}
+/**
+ * Represents a list of detections.
+ * @typedef {!Array<!Detection>}
+ */
+exports.DetectionList;
+/**
+ * Represents a detected landmark.
+ * @record
+ */
+function NormalizedLandmark() { }
+exports.NormalizedLandmark = NormalizedLandmark;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    NormalizedLandmark.prototype.x;
+    /** @type {number} */
+    NormalizedLandmark.prototype.y;
+    /** @type {number} */
+    NormalizedLandmark.prototype.z;
+    /** @type {(undefined|number)} */
+    NormalizedLandmark.prototype.visibility;
+}
+/**
+ * Represents a list of landmarks.
+ * @typedef {!Array<!NormalizedLandmark>}
+ */
+exports.NormalizedLandmarkList;
+/**
+ * Represents a list of lists of landmarks.
+ * @typedef {!Array<!Array<!NormalizedLandmark>>}
+ */
+exports.NormalizedLandmarkListList;
+/**
+ * A class label with score.
+ * @record
+ */
+function Classification() { }
+exports.Classification = Classification;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The index of the class in the corresponding label map.
+     * @type {number}
+     */
+    Classification.prototype.index;
+    /**
+     * The probability score for this class.
+     * @type {number}
+     */
+    Classification.prototype.score;
+    /**
+     * Label or name of the class.
+     * @type {(undefined|string)}
+     */
+    Classification.prototype.label;
+    /**
+     * Display name of the class, for visualization purposes.
+     * @type {(undefined|string)}
+     */
+    Classification.prototype.displayName;
+}
+/**
+ * A list of classifications.
+ * @typedef {!Array<!Classification>}
+ */
+exports.ClassificationList;
+/**
+ * Multiple lists of classifications.
+ * @typedef {!Array<!Array<!Classification>>}
+ */
+exports.ClassificationListList;
+/**
+ * Represents a single normalized landmark, with depth.
+ * @record
+ */
+function Point2D() { }
+exports.Point2D = Point2D;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    Point2D.prototype.x;
+    /** @type {number} */
+    Point2D.prototype.y;
+    /** @type {number} */
+    Point2D.prototype.depth;
+}
+/**
+ * Represents a point in 3D space.
+ * @record
+ */
+function Point3D() { }
+exports.Point3D = Point3D;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    Point3D.prototype.x;
+    /** @type {number} */
+    Point3D.prototype.y;
+    /** @type {number} */
+    Point3D.prototype.z;
+}
+/**
+ * Represents a particular keypoint from an object detection. The id denotes
+ * which keypoint this is (consistent over time), and then two representations
+ * are included for this point, a 2D normalized version, and a 3D version.
+ * @record
+ */
+function Keypoint() { }
+exports.Keypoint = Keypoint;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    Keypoint.prototype.id;
+    /** @type {!Point3D} */
+    Keypoint.prototype.point3d;
+    /** @type {!Point2D} */
+    Keypoint.prototype.point2d;
+}
+/**
+ * List of keypoints.
+ * @typedef {!Array<!Keypoint>}
+ */
+exports.KeypointList;
+/**
+ * The relevant information about a particular object detection.
+ * @record
+ */
+function ObjectDetection() { }
+exports.ObjectDetection = ObjectDetection;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The unique object instance identifier.
+     * @type {number}
+     */
+    ObjectDetection.prototype.id;
+    /**
+     * The list of keypoints for this detection (8 for a 3D bounding box).
+     * @type {!Array<!Keypoint>}
+     */
+    ObjectDetection.prototype.keypoints;
+    /**
+     * The visibility of this object detection in a frame.
+     * @type {number}
+     */
+    ObjectDetection.prototype.visibility;
+}
+/**
+ * List of object detections.
+ * @typedef {!Array<!ObjectDetection>}
+ */
+exports.ObjectDetectionList;
+/**
+ * Represents an image produced by the graph.
+ * @typedef {!HTMLCanvasElement}
+ */
+exports.GpuBuffer;
+/**
+ * Represents a single result of a multi result listener. The shape is
+ * transformed into a shape that the end user can consume.
+ * @record
+ */
+function ResultMap() { }
+exports.ResultMap = ResultMap;
+/**
+ * Represents a single result of a multi result listener. The shape is the
+ * wasm class from which we can pull out different kinds of data.
+ * @record
+ */
+function WasmResultMap() { }
+exports.WasmResultMap = WasmResultMap;
+/**
+ * This represents the callbacks from the graph's stream listeners. If the
+ * listener needs to do asynchronous work, return a Promise to allow the
+ * solution to wait.
+ * @typedef {function(!ResultMap): (void|!Promise<void>)}
+ */
+exports.ResultMapListener;
+/**
+ * Option descriptions that describe where to change an option in a graph.
+ * @typedef {!tsickle_solutions_wasm_1.GraphOptionXRef}
+ */
+exports.GraphOptionXRef;
+/**
+ * If your files are organized in some weird structure, you can customize how
+ * the path is constructed by sending this to the config options for Solution.
+ * @typedef {function(string, string): string}
+ */
+exports.FileLocatorFn;
+/**
+ * Users of the solution set options using a key-value map. However, specific
+ * solutions will constrain the options with an exported interface.
+ *
+ * e.g.
+ *
+ * generalSolution.setOptions({"myKey": myValue}) becomes
+ * specificSolution.setOptions({ myKey: myValue }}
+ *
+ * declare interface SpecificSolutionOptionList {
+ *   myKey: number
+ * };
+ *
+ * This works because `Object`s in JavaScript are just hashmaps, and we fit
+ * meaning on top of those hashmaps with our type declarations.
+ * @record
+ */
+function OptionList() { }
+exports.OptionList = OptionList;
+/**
+ * Used in the constructor of Graph.
+ * @record
+ */
+function Graph() { }
+exports.Graph = Graph;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    Graph.prototype.url;
+}
+/**
+ * Describes how to turn user input (See InputMap) into data the graph can
+ * consume.
+ * @record
+ */
+function InputConfig() { }
+exports.InputConfig = InputConfig;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * Provides direction on how to interpret the `value` of the InputMap.
+     * @type {string}
+     */
+    InputConfig.prototype.type;
+    /**
+     * The name of the input stream of the graph that will receive the input.
+     * @type {string}
+     */
+    InputConfig.prototype.stream;
+}
+/**
+ * The full description of all the inputs that will be exposed to the user. The
+ * key is the name of the input a user will use.
+ * @record
+ */
+function InputConfigMap() { }
+exports.InputConfigMap = InputConfigMap;
+/**
+ * Describes the inputs that the user will send to the graph. `unknown` allows
+ * users to do all sorts of things, from using HTMLVideoElements to numbers to
+ * whatever else we need. See `prepareInput` to see how this unknown is turned
+ * into structural data that can be sent to the graph.
+ *
+ * The specific solution should supply a stronger interface that will be used
+ * instead of this generic keymap,  In this way, the solution designer can
+ * name very specific inputs and exactly what is expected in that InputMap.'
+ * @record
+ */
+function InputMap() { }
+exports.InputMap = InputMap;
+/**
+ * We support several ways to get image inputs.
+ * @typedef {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)}
+ */
+exports.InputImage;
+/** @enum {number} */
+const OptionType = {
+    NUMBER: 0,
+    BOOL: 1,
+};
+exports.OptionType = OptionType;
+OptionType[OptionType.NUMBER] = 'NUMBER';
+OptionType[OptionType.BOOL] = 'BOOL';
+/**
+ * Used to register keys with the solution. Right now it is limited to
+ * graphOptionXref, which is specifically for options that will be fed to the
+ * MediaPipe graph, but we'll also need options that are handled by the specific
+ * solution to do work (e.g., selfie-flipping).
+ * @record
+ */
+function OptionConfig() { }
+exports.OptionConfig = OptionConfig;
+/* istanbul ignore if */
+if (false) {
+    /** @type {!OptionType} */
+    OptionConfig.prototype.type;
+    /** @type {(undefined|!tsickle_solutions_wasm_1.GraphOptionXRef)} */
+    OptionConfig.prototype.graphOptionXref;
+}
+/**
+ * Optionally specified in the output to transform the output.
+ * @typedef {function(?): ?}
+ */
+exports.Transformer;
+/**
+ * Output configuration without a transform function.
+ * @record
+ */
+function OutputConfigBase() { }
+exports.OutputConfigBase = OutputConfigBase;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigBase.prototype.stream;
+    /** @type {string} */
+    OutputConfigBase.prototype.type;
+    /** @type {(undefined|function(?): ?)} */
+    OutputConfigBase.prototype.transform;
+}
+/**
+ * Output config with type safety for a list of landmarks.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigLandmarkList() { }
+exports.OutputConfigLandmarkList = OutputConfigLandmarkList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigLandmarkList.prototype.type;
+    /** @type {(undefined|function(!Array<!NormalizedLandmark>): T)} */
+    OutputConfigLandmarkList.prototype.transform;
+}
+/**
+ * Output config with type safety for a list of landmark lists.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigLandmarkListList() { }
+exports.OutputConfigLandmarkListList = OutputConfigLandmarkListList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigLandmarkListList.prototype.type;
+    /** @type {(undefined|function(!Array<!Array<!NormalizedLandmark>>): T)} */
+    OutputConfigLandmarkListList.prototype.transform;
+}
+/**
+ * Output config with type safety for a list of classification lists.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigClassificationListList() { }
+exports.OutputConfigClassificationListList = OutputConfigClassificationListList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigClassificationListList.prototype.type;
+    /** @type {(undefined|function(!Array<!Array<!Classification>>): T)} */
+    OutputConfigClassificationListList.prototype.transform;
+}
+/**
+ * Output config with type safety for an object detection.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigObjectDetectionList() { }
+exports.OutputConfigObjectDetectionList = OutputConfigObjectDetectionList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigObjectDetectionList.prototype.type;
+    /** @type {(undefined|function(!Array<!ObjectDetection>): T)} */
+    OutputConfigObjectDetectionList.prototype.transform;
+}
+/**
+ * When specifying outputs, cast to OutputConfig<T> to get type safety between
+ * the `type` and the `transform`.
+ * @typedef {(!OutputConfigLandmarkList<?>|!OutputConfigLandmarkListList<?>|!OutputConfigClassificationListList<?>|!OutputConfigObjectDetectionList<?>)}
+ */
+exports.OutputConfig;
+/**
+ * Translation map to expose underlying streams to the user. A solution
+ * designer should declare a type to constrain the shape of the outputs.
+ * @record
+ */
+function OutputConfigMap() { }
+exports.OutputConfigMap = OutputConfigMap;
+/**
+ * The collection of option configuration entries, arranged by option name.
+ * @record
+ */
+function OptionConfigMap() { }
+exports.OptionConfigMap = OptionConfigMap;
+/**
+ * Binds the streams to a set of listeners that can be surfaced to the
+ * developer.
+ * @record
+ */
+function ListenerPort() { }
+exports.ListenerPort = ListenerPort;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * If there is only one registration, the name can be omitted. See onResults
+     * for more discussion.
+     * @type {(undefined|string)}
+     */
+    ListenerPort.prototype.name;
+    /**
+     * A list of streams in the graph that will be combined into a HashMap
+     * which will be assembled and delivered to listeners that the end user
+     * can listen to.
+     * @type {!Array<string>}
+     */
+    ListenerPort.prototype.wants;
+    /**
+     * Allows the results to be transformed into literally any kind of shape. It
+     * is up to the solution creator to expose this type information through
+     * an onResults specialization.
+     * @type {(undefined|!OutputConfigMap)}
+     */
+    ListenerPort.prototype.outs;
+    /**
+     * Allows transformation of `outs` before handing the results back to the
+     * listener. Allows final creative control of the shape of the output.
+     * @type {(undefined|function(!OutputConfigMap): !OutputConfigMap)}
+     */
+    ListenerPort.prototype.transform;
+}
+/**
+ * Describes a file that should be loaded by the solution. We can include flags
+ * for checks that should be done before loading a file. Currently, we allow
+ * a user to provide special files that are only provided if SIMD is
+ * specifically supported or not supported by the browser (do not include the
+ * simd flag if you do not care).
+ * @record
+ */
+function FileEntry() { }
+exports.FileEntry = FileEntry;
+/* istanbul ignore if */
+if (false) {
+    /** @type {(undefined|boolean)} */
+    FileEntry.prototype.simd;
+    /** @type {string} */
+    FileEntry.prototype.url;
+}
+/**
+ * Options to configure the solution.
+ * @record
+ */
+function SolutionConfig() { }
+exports.SolutionConfig = SolutionConfig;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The pack loader and the wasm loader need to be here. A file loader will be
+     * provided to them, and They will get loaded asynchronously. We won't
+     * continue initialization until they've completely loaded and run.
+     * @type {!ReadonlyArray<!FileEntry>}
+     */
+    SolutionConfig.prototype.files;
+    /**
+     * The binary graph. Can support multiple ways of getting that graph.
+     * @type {!Graph}
+     */
+    SolutionConfig.prototype.graph;
+    /**
+     * Contains a mapping that allows us to turn the inputs a user sends as part
+     * of `send` into an input that the graph can consume.
+     * @type {!InputConfigMap}
+     */
+    SolutionConfig.prototype.inputs;
+    /**
+     * See FileLocatorFn. Any file loading done on the user's behalf will use
+     * locateFile if its profived. This includes WASM blobs and graph urls.
+     * @type {(undefined|function(string, string): string)}
+     */
+    SolutionConfig.prototype.locateFile;
+    /**
+     * Specifies how to interpret options fed to setOptions.
+     * @type {(undefined|!OptionConfigMap)}
+     */
+    SolutionConfig.prototype.options;
+    /**
+     * Attaches listeners to the graph. This is only for registering the ports.
+     * To actually register a callback, the developer will call onResults with
+     * the name of the port they want to tap into.
+     * @type {(undefined|!Array<!ListenerPort>)}
+     */
+    SolutionConfig.prototype.listeners;
+}
+/**
+ * Represents a graph that can be fed to mediapipe Solution.
+ * @record
+ */
+function GraphData() { }
+exports.GraphData = GraphData;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @return {!Promise<!ArrayBuffer>}
+     */
+    GraphData.prototype.toArrayBuffer = function () { };
+}
+// These export names come from wasm_cc_binary BUILD rules. They belong to two
+// different scripts that are loaded in parallel (see Promise.all, below).
+// Because they mutate their respective variables, there is a race condition
+// where they will stomp on each other if they choose the same name. Users
+// won't normally see this race condition because they put script tags in the
+// HTML, and HTML guarantees that the scripts will be run in order.
+/** @type {string} */
+const API_EXPORT_NAME = 'createMediapipeSolutionsWasm';
+/** @type {string} */
+const PACK_EXPORT_NAME = 'createMediapipeSolutionsPackedAssets';
+// Used internally to represent a port for which the user did not define a name.
+/** @type {string} */
+const DEFAULT_PORT_NAME = '$';
+/**
+ * Simplest WASM program to perform a SIMD operation. We'll try to instantiate
+ * it with WebAssembly.instantiate() and if it fails, we'll know there is no
+ * SIMD support.
+ *
+ * To generate the web assembly, I included the following script into a web page
+ * https://cdn.jsdelivr.net/gh/AssemblyScript/wabt.js/index.js
+ *
+ * And then followed it with a bit of script:
+ *
+ * ```
+ * async function run() {
+ * var wasm = `(module
+ *  (func
+ *      i32.const 0
+ *      i8x16.splat
+ *      drop
+ *    )
+ *  )`;
+ *  const wabt = await WabtModule();
+ *  const wat = wabt.parseWat("test", wasm, {simd: true});
+ *  const bin = wat.toBinary({}).buffer;
+ *
+ *  // The following line prints the array that we cut and paste into our source
+ *  // code.
+ *  console.log(bin.join(','));
+ *
+ *  const arr = new Uint8Array(bin);
+ *  const wa = await WebAssembly.instantiate(arr);
+ * }
+ * run();
+ * ```
+ * @type {!Uint8Array}
+ */
+const WASM_SIMD_CHECK = new Uint8Array([
+    0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3,
+    2, 1, 0, 10, 9, 1, 7, 0, 65, 0, 253, 15, 26, 11
+]);
+/**
+ * Returns the default path to a resource if the user did not overload the
+ * locateFile parameter in SolutionConfig.
+ * @param {string} file
+ * @param {string} prefix
+ * @return {string}
+ */
+function defaultLocateFile(file, prefix) {
+    return prefix + file;
+}
+/**
+ * Sets an arbitrary value on `window`. This helper function gets around a lot
+ * of the cumbersome boilerplate required to set and retrieve arbitrary data
+ * from the `window` object.
+ * @template T
+ * @param {string} key
+ * @param {T} value
+ * @return {void}
+ */
+function setWindow(key, value) {
+    ((/** @type {!Object<string,T>} */ ((/** @type {*} */ (window)))))[key] = value;
+}
+/**
+ * Gets an arbitrary value from `window`. See `setWindow`.
+ * @param {string} key
+ * @return {*}
+ */
+function getWindow(key) {
+    return ((/** @type {!Object<string,*>} */ ((/** @type {*} */ (window)))))[key];
+}
+/**
+ * Dynamically loads a ascript into the current page and returns a `Promise`
+ * that resolves when its loading is complete.
+ * @param {string} url
+ * @return {!Promise<void>}
+ */
+function loadScript(url) {
+    /** @type {!HTMLScriptElement} */
+    const script = document.createElement('script');
+    script.setAttribute('src', url);
+    script.setAttribute('crossorigin', 'anonymous');
+    document.body.appendChild(script);
+    return new Promise((/**
+     * @param {function((void|!PromiseLike<void>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        script.addEventListener('load', (/**
+         * @return {void}
+         */
+        () => {
+            resolve();
+        }), false);
+    }));
+}
+/**
+ * @return {string}
+ */
+function getPackagePath() {
+    if (typeof window === 'object') {
+        return window.location.pathname.toString().substring(0, window.location.pathname.toString().lastIndexOf('/')) +
+            '/';
+    }
+    else if (typeof location !== 'undefined') {
+        // worker
+        return location.pathname.toString().substring(0, location.pathname.toString().lastIndexOf('/')) +
+            '/';
+    }
+    else {
+        throw new Error('solutions can only be loaded on a web page or in a web worker');
+    }
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>} landmarks
+ * @return {!Array<!NormalizedLandmark>}
+ */
+function decodeLandmarks(landmarks) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = landmarks.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.NormalizedLandmark} */
+        const landmark = landmarks.get(index);
+        output.push({
+            x: landmark.x,
+            y: landmark.y,
+            z: landmark.z,
+            visibility: landmark.hasVisibility ? landmark.visibility : undefined
+        });
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>} rects
+ * @return {!Array<!tsickle_solutions_wasm_1.NormalizedRect>}
+ */
+function decodeRectList(rects) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = rects.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.NormalizedRect} */
+        const rect = rects.get(index);
+        output.push(rect);
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ResultWasm} results
+ * @return {!Array<!Detection>}
+ */
+function decodeDetectionList(results) {
+    /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>} */
+    const rectList = (/** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>} */ (results.getRectList()));
+    /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>} */
+    const landmarksList = (/** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>} */ (results.getLandmarksList()));
+    /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>} */
+    const classificationsList = (/** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>} */ (results.getClassificationsList()));
+    /** @type {!Array<?>} */
+    const output = [];
+    if (rectList) {
+        for (let index = 0; index < rectList.size(); ++index) {
+            /** @type {{boundingBox: !tsickle_solutions_wasm_1.NormalizedRect, landmarks: !Array<!NormalizedLandmark>, classifications: !Array<!Classification>}} */
+            const result = {
+                boundingBox: rectList.get(index),
+                landmarks: decodeLandmarks(landmarksList.get(index)),
+                classifications: decodeClassifications(classificationsList.get(index)),
+            };
+            output.push(result);
+        }
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>} landmarks
+ * @return {!Array<!Array<!NormalizedLandmark>>}
+ */
+function decodeLandmarksList(landmarks) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = landmarks.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>} */
+        const landmark = landmarks.get(index);
+        output.push(decodeLandmarks(landmark));
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>} classifications
+ * @return {!Array<!Classification>}
+ */
+function decodeClassifications(classifications) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = classifications.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.Classification} */
+        const classification = classifications.get(index);
+        output.push({
+            index: classification.index,
+            score: classification.score,
+            label: classification.hasLabel ? classification.label : undefined,
+            displayName: classification.hasDisplayName ? classification.displayName :
+                undefined,
+        });
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>} classifications
+ * @return {!Array<!Array<!Classification>>}
+ */
+function decodeClassificationsList(classifications) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = classifications.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>} */
+        const classification = classifications.get(index);
+        output.push(decodeClassifications(classification));
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.Keypoint} keypoint
+ * @return {!Keypoint}
+ */
+function decodeKeypoint(keypoint) {
+    return {
+        id: keypoint.id,
+        point3d: {
+            x: keypoint.point3d.x,
+            y: keypoint.point3d.y,
+            z: keypoint.point3d.z,
+        },
+        point2d: {
+            x: keypoint.point2d.x,
+            y: keypoint.point2d.y,
+            depth: keypoint.point2d.depth,
+        }
+    };
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Keypoint>} keypoints
+ * @return {!Array<!Keypoint>}
+ */
+function decodeKeypointList(keypoints) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = keypoints.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.Keypoint} */
+        const keypoint = keypoints.get(index);
+        output.push(decodeKeypoint(keypoint));
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ObjectDetection} detection
+ * @return {!ObjectDetection}
+ */
+function decodeObjectDetection(detection) {
+    return {
+        id: detection.id,
+        keypoints: decodeKeypointList(detection.keypoints),
+        visibility: detection.visibility,
+    };
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ObjectDetection>} detections
+ * @return {!Array<!ObjectDetection>}
+ */
+function decodeObjectDetectionList(detections) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = detections.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.ObjectDetection} */
+        const detection = detections.get(index);
+        output.push(decodeObjectDetection(detection));
+    }
+    return output;
+}
+class GraphDataImpl {
+    /**
+     * @param {!Graph} graph
+     * @param {function(string, string): string} locateFile
+     * @param {string} packagePath
+     */
+    constructor(graph, locateFile, packagePath) {
+        this.graph = graph;
+        this.locateFile = locateFile;
+        this.packagePath = packagePath;
+    }
+    /**
+     * @return {!Promise<!ArrayBuffer>}
+     */
+    toArrayBuffer() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (this.graph.url) {
+                /** @type {!Response} */
+                const fetched = yield fetch(this.locateFile(this.graph.url, this.packagePath));
+                if (fetched.body) {
+                    return fetched.arrayBuffer();
+                }
+            }
+            return new ArrayBuffer(0);
+        });
+    }
+}
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {!Graph}
+     * @private
+     */
+    GraphDataImpl.prototype.graph;
+    /**
+     * @type {function(string, string): string}
+     * @private
+     */
+    GraphDataImpl.prototype.locateFile;
+    /**
+     * @type {string}
+     * @private
+     */
+    GraphDataImpl.prototype.packagePath;
+}
+/**
+ * Inputs to the graph. Currently only one input, a video frame, is
+ * permitted, but this should encompass any input data to a solution.
+ * @record
+ */
+function FrameInputs() { }
+exports.FrameInputs = FrameInputs;
+/* istanbul ignore if */
+if (false) {
+    /** @type {!HTMLVideoElement} */
+    FrameInputs.prototype.video;
+}
+/**
+ * The solution keeps all of the current listeners. The user can pass us a
+ * listener map and then change the elements at any time. They will be picked
+ * up on the next pass through `processFrame`.
+ * @record
+ */
+function ListenerMap() { }
+exports.ListenerMap = ListenerMap;
+/**
+ * @return {!Promise<boolean>}
+ * @this {*}
+ */
+function isSupportedSimd() {
+    return tslib_1.__awaiter(this, void 0, void 0, function* () {
+        try {
+            yield WebAssembly.instantiate(WASM_SIMD_CHECK);
+        }
+        catch (_a) {
+            return false;
+        }
+        return true;
+    });
+}
+/**
+ * MediaPipe Solution upon which all specific solutions will be built.
+ */
+class Solution {
+    /**
+     * @param {!SolutionConfig} config
+     */
+    constructor(config) {
+        this.config = config;
+        this.listeners = {};
+        this.inStreamHelpers = {};
+        this.outStreamHelpers = {};
+        this.needToInitializeWasm = true;
+        this.needToInitializeGraph = true;
+        this.runningPromise = Promise.resolve();
+        this.locateFile = (config && config.locateFile) || defaultLocateFile;
+        this.packagePath = getPackagePath();
+    }
+    /**
+     * @return {!Promise<void>}
+     */
+    close() {
+        if (this.solutionWasm) {
+            this.solutionWasm.delete();
+        }
+        return Promise.resolve();
+    }
+    /**
+     * Loads all of the dependent WASM files. This is heavy, so we make sure to
+     * only do this once.
+     * @private
+     * @return {!Promise<void>}
+     */
+    tryToInitializeWasm() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (!this.needToInitializeWasm) {
+                return;
+            }
+            // Set up the file loader for both external loaders.
+            setWindow(API_EXPORT_NAME, { locateFile: this.locateFile });
+            setWindow(PACK_EXPORT_NAME, { locateFile: this.locateFile });
+            /** @type {!ReadonlyArray<!FileEntry>} */
+            const files = (this.config.files) || [];
+            /** @type {boolean} */
+            const supportsSimd = yield isSupportedSimd();
+            yield Promise.all(files.map((/**
+             * @param {!FileEntry} x
+             * @return {!Promise<void>}
+             */
+            x => {
+                /** @type {boolean} */
+                const doLoad = (x.simd === undefined) || (x.simd && supportsSimd) ||
+                    (!x.simd && !supportsSimd);
+                if (doLoad) {
+                    return loadScript(this.locateFile(x.url, this.packagePath));
+                }
+                return Promise.resolve();
+            })));
+            // The variables we set earlier will not be mutated, each according to its
+            // related loader.
+            /** @type {function(!tsickle_solutions_wasm_1.PackLoader): !Promise<!tsickle_solutions_wasm_1.MediapipeWasm>} */
+            const apiFn = (/** @type {function(!tsickle_solutions_wasm_1.PackLoader): !Promise<!tsickle_solutions_wasm_1.MediapipeWasm>} */ (getWindow(API_EXPORT_NAME)));
+            /** @type {!tsickle_solutions_wasm_1.PackLoader} */
+            const packFn = (/** @type {!tsickle_solutions_wasm_1.PackLoader} */ (getWindow(PACK_EXPORT_NAME)));
+            // Now that everything is loaded and mutated, we can finally initialize
+            // the WASM loader with the pack loader. The WASM loader will wait until
+            // all of the files in the pack loader are complete before resolving its
+            // Promise.
+            this.wasm = yield apiFn(packFn);
+            // TODO(mhays): Developer should be able to explicitly load/unload a
+            // solution to prevent stealing all of the WebGL resources (e.g., Chrome
+            // may limit the number of WebGL contexts by domain).
+            // This is the single canvas that will be used for all texture transfer
+            // to and from the back end.
+            this.glCanvas = document.createElement('canvas');
+            this.wasm.canvas = this.glCanvas;
+            this.wasm.createContext(this.glCanvas, /* useWebGl= */ true, 
+            /* setInModule= */ true, {});
+            // The graph only needs to be loaded once into the solution, but the WASM
+            // might re-initialize the solution, and that will specifically happen
+            // during wasm.ProcessFrame.
+            this.solutionWasm = new this.wasm.SolutionWasm();
+            /** @type {!GraphDataImpl} */
+            const graphData = new GraphDataImpl(this.config.graph, this.locateFile, this.packagePath);
+            yield this.loadGraph(graphData);
+            // Listeners modify the graph config internally, so graph listeners are
+            // attached only once. Users are free to connect and disconnect callbacks
+            // to these listeners as needed.
+            if (this.config.listeners) {
+                for (const listener of this.config.listeners) {
+                    this.addListenerPort(listener);
+                }
+            }
+            this.needToInitializeWasm = false;
+        });
+    }
+    /**
+     * Sets the options for the graph, potentially triggering a reinitialize.
+     * The triggering is contingent upon the options matching those set up in
+     * the solution configuration. If a match is found, initialize is set to run
+     * on the next processFrame.
+     *
+     * We do not create a WASM object here, because it's possible (likely) that
+     * WASM has not loaded yet (i.e., the user calls setOptions before calling
+     * processFrame / initialize).  We'll do that during initialize when we know
+     * it's safe.
+     * @param {!OptionList} options
+     * @return {void}
+     */
+    setOptions(options) {
+        if (!this.config.options) {
+            return;
+        }
+        /** @type {!Array<!tsickle_solutions_wasm_1.GraphOptionChangeRequest>} */
+        const pendingChanges = [];
+        for (const option of Object.keys(options)) {
+            // Look each option in the option config.
+            /** @type {!OptionConfig} */
+            const optionConfig = this.config.options[option];
+            if (optionConfig) {
+                if (optionConfig.graphOptionXref) {
+                    /** @type {{valueNumber: number, valueBoolean: boolean}} */
+                    const optionValue = {
+                        valueNumber: optionConfig.type === OptionType.NUMBER ?
+                            (/** @type {number} */ (options[option])) :
+                            0.0,
+                        valueBoolean: optionConfig.type === OptionType.BOOL ?
+                            (/** @type {boolean} */ (options[option])) :
+                            false
+                    };
+                    /** @type {{calculatorName: string, calculatorIndex: number}} */
+                    const defaults = { calculatorName: '', calculatorIndex: 0 };
+                    // Combine the xref with the value. This is what the WASM will be
+                    // expecting.
+                    /** @type {*} */
+                    const request = Object.assign(Object.assign(Object.assign({}, defaults), optionConfig.graphOptionXref), optionValue);
+                    pendingChanges.push(request);
+                }
+            }
+        }
+        if (pendingChanges.length !== 0) {
+            this.needToInitializeGraph = true;
+            this.pendingChanges = pendingChanges;
+        }
+    }
+    /**
+     * Initializes the graph is it has not been loaded, or has been triggered to
+     * reload (setOptions was called while the graph was running).
+     * @private
+     * @return {!Promise<void>}
+     */
+    tryToInitializeGraph() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (!this.needToInitializeGraph) {
+                return;
+            }
+            // Move the video frame into the texture.
+            /** @type {(null|!WebGL2RenderingContext)} */
+            const gl = this.glCanvas.getContext('webgl2');
+            if (!gl) {
+                alert('Failed to create WebGL canvas context when passing video frame.');
+                return;
+            }
+            this.gl = gl;
+            // Changing options on the graph will mutate the graph config.
+            if (this.pendingChanges) {
+                /** @type {!tsickle_solutions_wasm_1.GraphOptionChangeRequestList} */
+                const changeList = new this.wasm.GraphOptionChangeRequestList();
+                for (const change of this.pendingChanges) {
+                    changeList.push_back(change);
+                }
+                this.solutionWasm.changeOptions(changeList);
+                changeList.delete();
+                this.pendingChanges = undefined;
+            }
+            this.needToInitializeGraph = false;
+        });
+    }
+    /**
+     * @return {!Promise<void>}
+     */
+    initialize() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            yield this.tryToInitializeWasm();
+            yield this.tryToInitializeGraph();
+        });
+    }
+    /**
+     * @private
+     * @param {!GraphData} graph
+     * @return {!Promise<void>}
+     */
+    loadGraph(graph) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            /** @type {!ArrayBuffer} */
+            const graphData = yield graph.toArrayBuffer();
+            this.solutionWasm.loadGraph(graphData);
+        });
+    }
+    /**
+     * Uses the 'type' field of the input config to turn the `unknown` input into
+     * something usable by the back end.  In general, we are using emscripten
+     * embind's value_object to effect the transfer, so the data must be simply
+     * marshalable.
+     * @private
+     * @param {!InputConfig} config
+     * @param {*} input
+     * @return {!Object}
+     */
+    prepareInput(config, input) {
+        switch (config.type) {
+            case 'video':
+                /** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */
+                let helper = (/** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */ (this.inStreamHelpers[config.stream]));
+                if (!helper) {
+                    helper = new streamHelpers.ImageStreamHelper(this.wasm, this.gl);
+                    this.inStreamHelpers[config.stream] = helper;
+                }
+                return helper.encode((/** @type {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)} */ (input)));
+            default:
+                return {};
+        }
+    }
+    /**
+     * Allows the user to send one or more inputs to the graph. The graph will
+     * run and potentially produce outputs for any attached listeners. The data
+     * that a javascript user supplies needs to be conditioned for use by
+     * mediapipe, and those details are hidden away (see `prepareInput`).
+     * @param {!InputMap} inputs
+     * @param {(undefined|number)=} at Timestamp in ms, if undefined, we'll use performance.now().
+     * @return {!Promise<void>}
+     */
+    send(inputs, at) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (!this.config.inputs) {
+                return;
+            }
+            /** @type {number} */
+            const timestamp = 1000 * (at || performance.now());
+            yield this.runningPromise;
+            yield this.initialize();
+            /** @type {!tsickle_solutions_wasm_1.PacketDataList} */
+            const dataValueList = new this.wasm.PacketDataList();
+            for (const key of Object.keys(inputs)) {
+                /** @type {!InputConfig} */
+                const inputConfig = this.config.inputs[key];
+                if (inputConfig) {
+                    // We only support texture2d at the moment, but once we support more,
+                    // this will be a switch statement so that we call the correct push
+                    // method.
+                    /** @type {!Object} */
+                    const input = this.prepareInput(inputConfig, inputs[key]);
+                    /** @type {string} */
+                    const stream = inputConfig.stream;
+                    dataValueList.pushTexture2d((/** @type {!tsickle_solutions_wasm_1.Texture2dData} */ (Object.assign(Object.assign({}, input), { stream, timestamp }))));
+                }
+            }
+            this.solutionWasm.send(dataValueList);
+            dataValueList.delete();
+        });
+    }
+    /**
+     * @private
+     * @param {!WasmResultMap} results
+     * @param {(undefined|!OutputConfigMap)=} configMap
+     * @return {!ResultMap}
+     */
+    transformOutputs(results, configMap) {
+        if (!configMap) {
+            return results;
+        }
+        /** @type {!ResultMap} */
+        const outputs = {};
+        for (const key of Object.keys(configMap)) {
+            /** @type {(string|!OutputConfigBase)} */
+            const config = configMap[key];
+            if (typeof config === 'string') {
+                outputs[key] = this.extractWasmResult(key, results[config]);
+            }
+            else {
+                /** @type {!tsickle_solutions_wasm_1.ResultWasm} */
+                const result = results[config.stream];
+                if (result === undefined) {
+                    continue;
+                }
+                if (config.type === 'detection_list') {
+                    outputs[key] = decodeDetectionList(result);
+                }
+                else if (config.type === 'landmarks') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>)} */
+                    const value = result.getLandmarks();
+                    outputs[key] = value ? decodeLandmarks(value) : undefined;
+                }
+                else if (config.type === 'landmarks_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>)} */
+                    const value = result.getLandmarksList();
+                    outputs[key] = value ? decodeLandmarksList(value) : undefined;
+                }
+                else if (config.type === 'rect_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>)} */
+                    const value = result.getRectList();
+                    outputs[key] = value ? decodeRectList(value) : undefined;
+                }
+                else if (config.type === 'classifications_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>)} */
+                    const value = result.getClassificationsList();
+                    outputs[key] = value ? decodeClassificationsList(value) : undefined;
+                }
+                else if (config.type === 'object_detection_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ObjectDetection>)} */
+                    const value = result.getObjectDetectionList();
+                    outputs[key] = value ? decodeObjectDetectionList(value) : undefined;
+                }
+                else if (config.type === 'texture') {
+                    /** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */
+                    let helper = (/** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */ (this.outStreamHelpers[key]));
+                    if (!helper) {
+                        helper = new streamHelpers.ImageStreamHelper(this.wasm, this.gl);
+                        this.outStreamHelpers[key] = helper;
+                    }
+                    outputs[key] = helper.decode((/** @type {!tsickle_solutions_wasm_1.Texture2dData} */ (result.getTexture2d())));
+                }
+                else {
+                    throw new Error(`Unknown output config type: '${config.type}'`);
+                }
+                if (config.transform && outputs[key]) {
+                    outputs[key] = config.transform(outputs[key]);
+                }
+            }
+        }
+        return outputs;
+    }
+    /**
+     * Extracts the result from a collection of results. This tries to autodetect
+     * the type and does no transformation. Arrays will have the slightly more
+     * awkward emscripten accessors.
+     * \@TODO(mhays) Deprecate this method and always specify the type.
+     * @private
+     * @param {string} stream
+     * @param {!tsickle_solutions_wasm_1.ResultWasm} result
+     * @return {*}
+     */
+    extractWasmResult(stream, result) {
+        if (result.isNumber()) {
+            return result.getNumber();
+        }
+        if (result.isRect()) {
+            return result.getRect();
+        }
+        if (result.isLandmarks()) {
+            return result.getLandmarks();
+        }
+        if (result.isLandmarksList()) {
+            return result.getLandmarksList();
+        }
+        if (result.isClassificationsList()) {
+            return result.getClassificationsList();
+        }
+        if (result.isObjectDetectionList()) {
+            return result.getObjectDetectionList();
+        }
+        if (result.isTexture2d()) {
+            /** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */
+            let helper = (/** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */ (this.outStreamHelpers[stream]));
+            if (!helper) {
+                helper = new streamHelpers.ImageStreamHelper(this.wasm, this.gl);
+                this.outStreamHelpers[stream] = helper;
+            }
+            return helper.decode((/** @type {!tsickle_solutions_wasm_1.Texture2dData} */ (result.getTexture2d())));
+        }
+        return undefined;
+    }
+    /**
+     * Attaches a listener that will be called when the graph produces
+     * compatible packets on the named stream.
+     * @private
+     * @param {!ListenerPort} port
+     * @return {void}
+     */
+    addListenerPort(port) {
+        /** @type {string} */
+        const portName = port.name || DEFAULT_PORT_NAME;
+        /** @type {!Array<string>} */
+        const wantsCopy = [...port.wants];
+        /** @type {!tsickle_solutions_wasm_1.SimpleVector<string>} */
+        const wantsVector = new this.wasm.StringList();
+        for (const want of port.wants) {
+            wantsVector.push_back(want);
+        }
+        /** @type {{onResults: function(!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ResultWasm>): !Promise<void>}} */
+        const wasmListener = {
+            onResults: (/**
+             * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ResultWasm>} values
+             * @return {!Promise<void>}
+             */
+            (values) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+                /** @type {!WasmResultMap} */
+                const wasmResults = {};
+                for (let index = 0; index < port.wants.length; ++index) {
+                    wasmResults[wantsCopy[index]] = values.get(index);
+                }
+                /** @type {!ResultMap} */
+                const results = this.transformOutputs(wasmResults, port.outs);
+                /** @type {(undefined|function(!ResultMap): (void|!Promise<void>))} */
+                const listener = this.listeners[portName];
+                if (listener) {
+                    yield this.runningPromise;
+                    /** @type {(void|!Promise<void>)} */
+                    const result = listener(results);
+                    if (result) {
+                        this.runningPromise = result;
+                        return result;
+                    }
+                }
+            }))
+        };
+        /** @type {!tsickle_solutions_wasm_1.PacketListener} */
+        const packetListener = this.wasm.PacketListener.implement(wasmListener);
+        this.solutionWasm.attachMultiListener(wantsVector, packetListener);
+        wantsVector.delete();
+    }
+    /**
+     * Use this to connect up to one listener per port name. If port is undefined,
+     * which should be the case if there is only one, then the default port is
+     * used.
+     * @param {function(!ResultMap): (void|!Promise<void>)} listener
+     * @param {(undefined|string)=} port
+     * @return {void}
+     */
+    onResults(listener, port) {
+        port = port || DEFAULT_PORT_NAME;
+        this.listeners[port] = listener;
+    }
+}
+exports.Solution = Solution;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {string}
+     * @private
+     */
+    Solution.prototype.packagePath;
+    /**
+     * @type {function(string, string): string}
+     * @private
+     */
+    Solution.prototype.locateFile;
+    /**
+     * @type {!ListenerMap}
+     * @private
+     */
+    Solution.prototype.listeners;
+    /**
+     * @type {!tsickle_stream_helpers_2.StreamHelperMap}
+     * @private
+     */
+    Solution.prototype.inStreamHelpers;
+    /**
+     * @type {!tsickle_stream_helpers_2.StreamHelperMap}
+     * @private
+     */
+    Solution.prototype.outStreamHelpers;
+    /**
+     * @type {!HTMLCanvasElement}
+     * @private
+     */
+    Solution.prototype.glCanvas;
+    /**
+     * @type {!WebGL2RenderingContext}
+     * @private
+     */
+    Solution.prototype.gl;
+    /**
+     * @type {!tsickle_solutions_wasm_1.MediapipeWasm}
+     * @private
+     */
+    Solution.prototype.wasm;
+    /**
+     * @type {!tsickle_solutions_wasm_1.SolutionWasm}
+     * @private
+     */
+    Solution.prototype.solutionWasm;
+    /**
+     * @type {(undefined|!Array<!tsickle_solutions_wasm_1.GraphOptionChangeRequest>)}
+     * @private
+     */
+    Solution.prototype.pendingChanges;
+    /**
+     * @type {boolean}
+     * @private
+     */
+    Solution.prototype.needToInitializeWasm;
+    /**
+     * @type {boolean}
+     * @private
+     */
+    Solution.prototype.needToInitializeGraph;
+    /**
+     * @type {!Promise<void>}
+     * @private
+     */
+    Solution.prototype.runningPromise;
+    /**
+     * @type {!SolutionConfig}
+     * @private
+     */
+    Solution.prototype.config;
+}
+goog.exportSymbol('Solution', Solution);
+goog.exportSymbol('OptionType', OptionType);
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29sdXRpb25zX2FwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L21lZGlhcGlwZS93ZWIvc29sdXRpb25zL3NvbHV0aW9uc19hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNBLGlHQUFrRDs7Ozs7Ozs7QUFRbEQsZ0NBQThEOzs7OztBQUs5RCx1QkFBMEQ7Ozs7O0FBSzFELDJCQUFrRDs7Ozs7QUFLbEQsd0JBb0JDOzs7Ozs7OztJQWhCQyxnQ0FBNEI7Ozs7Ozs7O0lBUTVCLDhCQUFrQzs7Ozs7OztJQU9sQyxvQ0FBb0M7Ozs7OztBQU10QyxzQkFBd0M7Ozs7O0FBS3hDLGlDQUtDOzs7OztJQUpDLCtCQUFVOztJQUNWLCtCQUFVOztJQUNWLCtCQUFVOztJQUNWLHdDQUFvQjs7Ozs7O0FBTXRCLCtCQUEwRDs7Ozs7QUFLMUQsbUNBQWtFOzs7OztBQUtsRSw2QkFvQkM7Ozs7Ozs7O0lBaEJDLCtCQUFjOzs7OztJQUtkLCtCQUFjOzs7OztJQUtkLCtCQUFlOzs7OztJQUtmLHFDQUFxQjs7Ozs7O0FBTXZCLDJCQUFrRDs7Ozs7QUFLbEQsK0JBQTBEOzs7OztBQUsxRCxzQkFJQzs7Ozs7SUFIQyxvQkFBVTs7SUFDVixvQkFBVTs7SUFDVix3QkFBYzs7Ozs7O0FBTWhCLHNCQUlDOzs7OztJQUhDLG9CQUFVOztJQUNWLG9CQUFVOztJQUNWLG9CQUFVOzs7Ozs7OztBQVFaLHVCQUlDOzs7OztJQUhDLHNCQUFXOztJQUNYLDJCQUFpQjs7SUFDakIsMkJBQWlCOzs7Ozs7QUFNbkIscUJBQXNDOzs7OztBQUt0Qyw4QkFhQzs7Ozs7Ozs7SUFUQyw2QkFBVzs7Ozs7SUFJWCxvQ0FBd0I7Ozs7O0lBSXhCLHFDQUFtQjs7Ozs7O0FBTXJCLDRCQUFvRDs7Ozs7QUFLcEQsa0JBQWdEOzs7Ozs7QUFNaEQsd0JBRUM7Ozs7Ozs7QUFNRCw0QkFFQzs7Ozs7Ozs7QUFPRCwwQkFBdUU7Ozs7O0FBS3ZFLHdCQUE0RDs7Ozs7O0FBTTVELHNCQUFxRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JyRSx5QkFFQzs7Ozs7O0FBS0Qsb0JBRUM7Ozs7O0lBREMsb0JBQVk7Ozs7Ozs7QUFPZCwwQkFVQzs7Ozs7Ozs7SUFOQywyQkFBYTs7Ozs7SUFLYiw2QkFBZTs7Ozs7OztBQU9qQiw2QkFFQzs7Ozs7Ozs7Ozs7OztBQVlELHVCQUVDOzs7Ozs7QUFLRCxtQkFBNkU7O0FBTzdFLE1BQVksVUFBVTtJQUNwQixNQUFNLEdBQUE7SUFDTixJQUFJLEdBQUE7RUFDTDs7Ozs7Ozs7Ozs7QUFRRCwyQkFHQzs7Ozs7SUFGQyw0QkFBaUI7O0lBQ2pCLHVDQUFrQzs7Ozs7O0FBTXBDLG9CQUE0Qzs7Ozs7QUFLNUMsK0JBT0M7Ozs7O0lBTkMsa0NBQWU7O0lBQ2YsZ0NBQ3lEOztJQUd6RCxxQ0FBa0M7Ozs7Ozs7O0FBTXBDLHVDQUdDOzs7OztJQUZDLHdDQUFrQjs7SUFDbEIsNkNBQW1EOzs7Ozs7OztBQU1yRCwyQ0FHQzs7Ozs7SUFGQyw0Q0FBdUI7O0lBQ3ZCLGlEQUF1RDs7Ozs7Ozs7QUFNekQsaURBSUM7Ozs7O0lBRkMsa0RBQTZCOztJQUM3Qix1REFBbUQ7Ozs7Ozs7O0FBTXJELDhDQUdDOzs7OztJQUZDLCtDQUE4Qjs7SUFDOUIsb0RBQWdEOzs7Ozs7O0FBT2xELHFCQUV1Qzs7Ozs7O0FBTXZDLDhCQU1DOzs7Ozs7QUFLRCw4QkFFQzs7Ozs7OztBQU1ELDJCQTBCQzs7Ozs7Ozs7O0lBckJDLDRCQUFjOzs7Ozs7O0lBT2QsNkJBQWdCOzs7Ozs7O0lBT2hCLDRCQUF1Qjs7Ozs7O0lBTXZCLGlDQUF3RDs7Ozs7Ozs7OztBQVUxRCx3QkFHQzs7Ozs7SUFGQyx5QkFBZTs7SUFDZix3QkFBWTs7Ozs7O0FBTWQsNkJBb0NDOzs7Ozs7Ozs7O0lBOUJDLCtCQUFnQzs7Ozs7SUFLaEMsK0JBQWE7Ozs7OztJQU1iLGdDQUF1Qjs7Ozs7O0lBTXZCLG9DQUEyQjs7Ozs7SUFLM0IsaUNBQTBCOzs7Ozs7O0lBTzFCLG1DQUEyQjs7Ozs7O0FBTTdCLHdCQUVDOzs7Ozs7O0lBREMsb0RBQXNDOzs7Ozs7Ozs7TUFTbEMsZUFBZSxHQUFHLDhCQUE4Qjs7TUFDaEQsZ0JBQWdCLEdBQUcsc0NBQXNDOzs7TUFHekQsaUJBQWlCLEdBQUcsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUFtQ3ZCLGVBQWUsR0FBRyxJQUFJLFVBQVUsQ0FBQztJQUNyQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRyxDQUFDLEVBQUUsQ0FBQyxFQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUcsQ0FBQyxFQUFFLENBQUM7SUFDckQsQ0FBQyxFQUFFLENBQUMsRUFBRyxDQUFDLEVBQUksRUFBRSxFQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7Q0FDcEQsQ0FBQzs7Ozs7Ozs7QUFNRixTQUFTLGlCQUFpQixDQUFDLElBQVksRUFBRSxNQUFjO0lBQ3JELE9BQU8sTUFBTSxHQUFHLElBQUksQ0FBQztBQUN2QixDQUFDOzs7Ozs7Ozs7O0FBTUQsU0FBUyxTQUFTLENBQUksR0FBVyxFQUFFLEtBQVE7SUFDekMsQ0FBQyxtQ0FBQSxtQkFBQSxNQUFNLEVBQVcsRUFBc0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUN6RCxDQUFDOzs7Ozs7QUFLRCxTQUFTLFNBQVMsQ0FBQyxHQUFXO0lBQzVCLE9BQU8sQ0FBQyxtQ0FBQSxtQkFBQSxNQUFNLEVBQVcsRUFBNEIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlELENBQUM7Ozs7Ozs7QUFNRCxTQUFTLFVBQVUsQ0FBQyxHQUFXOztVQUN2QixNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDL0MsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDaEMsTUFBTSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDaEQsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEMsT0FBTyxJQUFJLE9BQU87Ozs7SUFBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQzdCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNOzs7UUFBRSxHQUFHLEVBQUU7WUFDbkMsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDLEdBQUUsS0FBSyxDQUFDLENBQUM7SUFDWixDQUFDLEVBQUMsQ0FBQztBQUNMLENBQUM7Ozs7QUFFRCxTQUFTLGNBQWM7SUFDckIsSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLEVBQUU7UUFDOUIsT0FBTyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxTQUFTLENBQ3pDLENBQUMsRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0QsR0FBRyxDQUFDO0tBQ1Q7U0FBTSxJQUFJLE9BQU8sUUFBUSxLQUFLLFdBQVcsRUFBRTtRQUMxQyxTQUFTO1FBQ1QsT0FBTyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FDbEMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hELEdBQUcsQ0FBQztLQUNUO1NBQU07UUFDTCxNQUFNLElBQUksS0FBSyxDQUNYLCtEQUErRCxDQUFDLENBQUM7S0FDdEU7QUFDSCxDQUFDOzs7OztBQUVELFNBQVMsZUFBZSxDQUFDLFNBQStDOztVQUVoRSxNQUFNLEdBQUcsRUFBRTs7VUFDWCxXQUFXLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRTtJQUNwQyxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFOztjQUMxQyxRQUFRLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNWLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNiLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNiLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNiLFVBQVUsRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTO1NBQ3JFLENBQUMsQ0FBQztLQUNKO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQzs7Ozs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxLQUF1Qzs7VUFFdkQsTUFBTSxHQUFHLEVBQUU7O1VBQ1gsV0FBVyxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUU7SUFDaEMsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRTs7Y0FDMUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQzdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDbkI7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDOzs7OztBQUVELFNBQVMsbUJBQW1CLENBQUMsT0FBaUM7O1VBQ3RELFFBQVEsR0FBRywwR0FBQSxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUM7O1VBQ2pDLGFBQWEsR0FBRyw4SkFBQSxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsRUFBQzs7VUFDM0MsbUJBQW1CLEdBQUcsMEpBQUEsT0FBTyxDQUFDLHNCQUFzQixFQUFFLEVBQUM7O1VBQ3ZELE1BQU0sR0FBRyxFQUFFO0lBQ2pCLElBQUksUUFBUSxFQUFFO1FBQ1osS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRTs7a0JBQzlDLE1BQU0sR0FBRztnQkFDYixXQUFXLEVBQUUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7Z0JBQ2hDLFNBQVMsRUFBRSxlQUFlLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDcEQsZUFBZSxFQUFFLHFCQUFxQixDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUN2RTtZQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDckI7S0FDRjtJQUNELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7Ozs7O0FBRUQsU0FBUyxtQkFBbUIsQ0FDeEIsU0FBbUQ7O1VBRS9DLE1BQU0sR0FBRyxFQUFFOztVQUNYLFdBQVcsR0FBRyxTQUFTLENBQUMsSUFBSSxFQUFFO0lBQ3BDLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxXQUFXLEVBQUUsRUFBRSxLQUFLLEVBQUU7O2NBQzFDLFFBQVEsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztRQUNyQyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0tBQ3hDO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQzs7Ozs7QUFFRCxTQUFTLHFCQUFxQixDQUMxQixlQUFpRDs7VUFDN0MsTUFBTSxHQUFHLEVBQUU7O1VBQ1gsV0FBVyxHQUFHLGVBQWUsQ0FBQyxJQUFJLEVBQUU7SUFDMUMsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRTs7Y0FDMUMsY0FBYyxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQ2pELE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDVixLQUFLLEVBQUUsY0FBYyxDQUFDLEtBQUs7WUFDM0IsS0FBSyxFQUFFLGNBQWMsQ0FBQyxLQUFLO1lBQzNCLEtBQUssRUFBRSxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTO1lBQ2pFLFdBQVcsRUFBRSxjQUFjLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzVCLFNBQVM7U0FDdkQsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDOzs7OztBQUVELFNBQVMseUJBQXlCLENBQzlCLGVBQXFEOztVQUVqRCxNQUFNLEdBQUcsRUFBRTs7VUFDWCxXQUFXLEdBQUcsZUFBZSxDQUFDLElBQUksRUFBRTtJQUMxQyxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFOztjQUMxQyxjQUFjLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDakQsTUFBTSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO0tBQ3BEO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQzs7Ozs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxRQUFnQztJQUN0RCxPQUFPO1FBQ0wsRUFBRSxFQUFFLFFBQVEsQ0FBQyxFQUFFO1FBQ2YsT0FBTyxFQUFFO1lBQ1AsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNyQixDQUFDLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JCLENBQUMsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDdEI7UUFDRCxPQUFPLEVBQUU7WUFDUCxDQUFDLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JCLENBQUMsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckIsS0FBSyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSztTQUM5QjtLQUNGLENBQUM7QUFDSixDQUFDOzs7OztBQUVELFNBQVMsa0JBQWtCLENBQ3ZCLFNBQXFDOztVQUNqQyxNQUFNLEdBQUcsRUFBRTs7VUFDWCxXQUFXLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRTtJQUNwQyxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFOztjQUMxQyxRQUFRLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztLQUN2QztJQUNELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7Ozs7O0FBRUQsU0FBUyxxQkFBcUIsQ0FDMUIsU0FBd0M7SUFDMUMsT0FBTztRQUNMLEVBQUUsRUFBRSxTQUFTLENBQUMsRUFBRTtRQUNoQixTQUFTLEVBQUUsa0JBQWtCLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztRQUNsRCxVQUFVLEVBQUUsU0FBUyxDQUFDLFVBQVU7S0FDakMsQ0FBQztBQUNKLENBQUM7Ozs7O0FBRUQsU0FBUyx5QkFBeUIsQ0FDOUIsVUFBNkM7O1VBQ3pDLE1BQU0sR0FBRyxFQUFFOztVQUNYLFdBQVcsR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFO0lBQ3JDLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxXQUFXLEVBQUUsRUFBRSxLQUFLLEVBQUU7O2NBQzFDLFNBQVMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztRQUN2QyxNQUFNLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7S0FDL0M7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBRUQsTUFBTSxhQUFhOzs7Ozs7SUFDakIsWUFDcUIsS0FBWSxFQUFtQixVQUF5QixFQUN4RCxXQUFtQjtRQURuQixVQUFLLEdBQUwsS0FBSyxDQUFPO1FBQW1CLGVBQVUsR0FBVixVQUFVLENBQWU7UUFDeEQsZ0JBQVcsR0FBWCxXQUFXLENBQVE7SUFBRyxDQUFDOzs7O0lBRXRDLGFBQWE7O1lBQ2pCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUU7O3NCQUNaLE9BQU8sR0FDVCxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDbEUsSUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFO29CQUNoQixPQUFPLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDOUI7YUFDRjtZQUNELE9BQU8sSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsQ0FBQztLQUFBO0NBQ0Y7Ozs7Ozs7SUFiSyw4QkFBNkI7Ozs7O0lBQUUsbUNBQTBDOzs7OztJQUN6RSxvQ0FBb0M7Ozs7Ozs7QUFrQjFDLDBCQUVDOzs7OztJQURDLDRCQUF3Qjs7Ozs7Ozs7QUFRMUIsMEJBRUM7Ozs7OztBQUVELFNBQWUsZUFBZTs7UUFDNUIsSUFBSTtZQUNGLE1BQU0sV0FBVyxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUNoRDtRQUFDLFdBQU07WUFDTixPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBQUE7Ozs7QUFLRCxNQUFhLFFBQVE7Ozs7SUFxQm5CLFlBQTZCLE1BQXNCO1FBQXRCLFdBQU0sR0FBTixNQUFNLENBQWdCO1FBbEJsQyxjQUFTLEdBQWdCLEVBQUUsQ0FBQztRQUM1QixvQkFBZSxHQUFrQyxFQUFFLENBQUM7UUFDcEQscUJBQWdCLEdBQWtDLEVBQUUsQ0FBQztRQVc5RCx5QkFBb0IsR0FBRyxJQUFJLENBQUM7UUFDNUIsMEJBQXFCLEdBQUcsSUFBSSxDQUFDO1FBRTdCLG1CQUFjLEdBQUcsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBR3pDLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLGlCQUFpQixDQUFDO1FBQ3JFLElBQUksQ0FBQyxXQUFXLEdBQUcsY0FBYyxFQUFFLENBQUM7SUFDdEMsQ0FBQzs7OztJQUVELEtBQUs7UUFDSCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDckIsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUM1QjtRQUNELE9BQU8sT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLENBQUM7Ozs7Ozs7SUFNYSxtQkFBbUI7O1lBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7Z0JBQzlCLE9BQU87YUFDUjtZQUNELG9EQUFvRDtZQUNwRCxTQUFTLENBQUMsZUFBZSxFQUFFLEVBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO1lBQzFELFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQzs7a0JBRXJELEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRTs7a0JBQ2pDLFlBQVksR0FBRyxNQUFNLGVBQWUsRUFBRTtZQUU1QyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUc7Ozs7WUFBQyxDQUFDLENBQUMsRUFBRTs7c0JBQ3hCLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLFlBQVksQ0FBQztvQkFDN0QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUM7Z0JBQzlCLElBQUksTUFBTSxFQUFFO29CQUNWLE9BQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztpQkFDN0Q7Z0JBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDM0IsQ0FBQyxFQUFDLENBQUMsQ0FBQzs7OztrQkFJRSxLQUFLLEdBQUcsbUhBQUEsU0FBUyxDQUFDLGVBQWUsQ0FBQyxFQUE4Qjs7a0JBQ2hFLE1BQU0sR0FBRyxzREFBQSxTQUFTLENBQUMsZ0JBQWdCLENBQUMsRUFBNEI7WUFFdEUsdUVBQXVFO1lBQ3ZFLHdFQUF3RTtZQUN4RSx3RUFBd0U7WUFDeEUsV0FBVztZQUNYLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFaEMsb0VBQW9FO1lBQ3BFLHdFQUF3RTtZQUN4RSxxREFBcUQ7WUFFckQsdUVBQXVFO1lBQ3ZFLDRCQUE0QjtZQUM1QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDakQsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUVqQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FDbkIsSUFBSSxDQUFDLFFBQVEsRUFBRSxlQUFlLENBQUMsSUFBSTtZQUNuQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFakMseUVBQXlFO1lBQ3pFLHNFQUFzRTtZQUN0RSw0QkFBNEI7WUFDNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7O2tCQUMzQyxTQUFTLEdBQ1gsSUFBSSxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQzNFLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUVoQyx1RUFBdUU7WUFDdkUseUVBQXlFO1lBQ3pFLGdDQUFnQztZQUNoQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO2dCQUN6QixLQUFLLE1BQU0sUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO29CQUM1QyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUNoQzthQUNGO1lBRUQsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQztRQUNwQyxDQUFDO0tBQUE7Ozs7Ozs7Ozs7Ozs7O0lBYUQsVUFBVSxDQUFDLE9BQW1CO1FBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTtZQUN4QixPQUFPO1NBQ1I7O2NBQ0ssY0FBYyxHQUE2QyxFQUFFO1FBQ25FLEtBQUssTUFBTSxNQUFNLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTs7O2tCQUVuQyxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1lBQ2hELElBQUksWUFBWSxFQUFFO2dCQUNoQixJQUFJLFlBQVksQ0FBQyxlQUFlLEVBQUU7OzBCQUMxQixXQUFXLEdBQUc7d0JBQ2xCLFdBQVcsRUFBRSxZQUFZLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQzs0QkFDbEQsd0JBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFVLENBQUMsQ0FBQzs0QkFDM0IsR0FBRzt3QkFDUCxZQUFZLEVBQUUsWUFBWSxDQUFDLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7NEJBQ2pELHlCQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBVyxDQUFDLENBQUM7NEJBQzVCLEtBQUs7cUJBQ1Y7OzBCQUNLLFFBQVEsR0FBRyxFQUFDLGNBQWMsRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFFLENBQUMsRUFBQzs7OzswQkFHbkQsT0FBTyxpREFDUixRQUFRLEdBQ1IsWUFBWSxDQUFDLGVBQWUsR0FDNUIsV0FBVyxDQUNmO29CQUNELGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7aUJBQzlCO2FBQ0Y7U0FDRjtRQUVELElBQUksY0FBYyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQztZQUNsQyxJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztTQUN0QztJQUNILENBQUM7Ozs7Ozs7SUFNYSxvQkFBb0I7O1lBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUU7Z0JBQy9CLE9BQU87YUFDUjs7O2tCQUVLLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7WUFDN0MsSUFBSSxDQUFDLEVBQUUsRUFBRTtnQkFDUCxLQUFLLENBQUMsaUVBQWlFLENBQUMsQ0FBQztnQkFDekUsT0FBTzthQUNSO1lBQ0QsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFFYiw4REFBOEQ7WUFDOUQsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFOztzQkFDakIsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyw0QkFBNEIsRUFBRTtnQkFDL0QsS0FBSyxNQUFNLE1BQU0sSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO29CQUN4QyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUM5QjtnQkFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDNUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNwQixJQUFJLENBQUMsY0FBYyxHQUFHLFNBQVMsQ0FBQzthQUNqQztZQUVELElBQUksQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUM7UUFDckMsQ0FBQztLQUFBOzs7O0lBRUssVUFBVTs7WUFDZCxNQUFNLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQ2pDLE1BQU0sSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDcEMsQ0FBQztLQUFBOzs7Ozs7SUFFYSxTQUFTLENBQUMsS0FBZ0I7OztrQkFDaEMsU0FBUyxHQUFHLE1BQU0sS0FBSyxDQUFDLGFBQWEsRUFBRTtZQUM3QyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN6QyxDQUFDO0tBQUE7Ozs7Ozs7Ozs7O0lBUU8sWUFBWSxDQUFDLE1BQW1CLEVBQUUsS0FBYztRQUN0RCxRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7WUFDbkIsS0FBSyxPQUFPOztvQkFDTixNQUFNLEdBQUcsNkRBQUEsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQ2I7Z0JBQ25DLElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ1gsTUFBTSxHQUFHLElBQUksYUFBYSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUNqRSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUM7aUJBQzlDO2dCQUNELE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQywwRUFBQSxLQUFLLEVBQWMsQ0FBQyxDQUFDO1lBQzVDO2dCQUNFLE9BQU8sRUFBRSxDQUFDO1NBQ2I7SUFDSCxDQUFDOzs7Ozs7Ozs7O0lBUUssSUFBSSxDQUFDLE1BQWdCLEVBQUUsRUFBVzs7WUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO2dCQUN2QixPQUFPO2FBQ1I7O2tCQUNLLFNBQVMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBRWxELE1BQU0sSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUMxQixNQUFNLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQzs7a0JBQ2xCLGFBQWEsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ3BELEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTs7c0JBQy9CLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7Z0JBQzNDLElBQUksV0FBVyxFQUFFOzs7OzswQkFJVCxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDOzswQkFDbkQsTUFBTSxHQUFHLFdBQVcsQ0FBQyxNQUFNO29CQUNqQyxhQUFhLENBQUMsYUFBYSxDQUN2Qix5RkFBSSxLQUFLLEtBQUUsTUFBTSxFQUFFLFNBQVMsS0FBZ0MsQ0FBQyxDQUFDO2lCQUNuRTthQUNGO1lBQ0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDdEMsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3pCLENBQUM7S0FBQTs7Ozs7OztJQUVPLGdCQUFnQixDQUFDLE9BQXNCLEVBQUUsU0FBMkI7UUFFMUUsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNkLE9BQU8sT0FBTyxDQUFDO1NBQ2hCOztjQUNLLE9BQU8sR0FBYyxFQUFFO1FBQzdCLEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTs7a0JBQ2xDLE1BQU0sR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQzdCLElBQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFO2dCQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzthQUM3RDtpQkFBTTs7c0JBQ0MsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNyQyxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7b0JBQ3hCLFNBQVM7aUJBQ1Y7Z0JBQ0QsSUFBSSxNQUFNLENBQUMsSUFBSSxLQUFLLGdCQUFnQixFQUFFO29CQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQzVDO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7OzBCQUNoQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFlBQVksRUFBRTtvQkFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQzNEO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxnQkFBZ0IsRUFBRTs7MEJBQ3JDLEtBQUssR0FBRyxNQUFNLENBQUMsZ0JBQWdCLEVBQUU7b0JBQ3ZDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQy9EO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7OzBCQUNoQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFdBQVcsRUFBRTtvQkFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQzFEO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxzQkFBc0IsRUFBRTs7MEJBQzNDLEtBQUssR0FBRyxNQUFNLENBQUMsc0JBQXNCLEVBQUU7b0JBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQ3JFO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyx1QkFBdUIsRUFBRTs7MEJBQzVDLEtBQUssR0FBRyxNQUFNLENBQUMsc0JBQXNCLEVBQUU7b0JBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQ3JFO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxTQUFTLEVBQUU7O3dCQUNoQyxNQUFNLEdBQ04sNkRBQUEsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxFQUFtQztvQkFDakUsSUFBSSxDQUFDLE1BQU0sRUFBRTt3QkFDWCxNQUFNLEdBQUcsSUFBSSxhQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQ2pFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7cUJBQ3JDO29CQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLHlEQUFBLE1BQU0sQ0FBQyxZQUFZLEVBQUUsRUFBQyxDQUFDLENBQUM7aUJBQ3REO3FCQUFNO29CQUNMLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO2lCQUNqRTtnQkFDRCxJQUFJLE1BQU0sQ0FBQyxTQUFTLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztpQkFDL0M7YUFDRjtTQUNGO1FBQ0QsT0FBTyxPQUFPLENBQUM7SUFDakIsQ0FBQzs7Ozs7Ozs7Ozs7SUFRTyxpQkFBaUIsQ0FBQyxNQUFjLEVBQUUsTUFBZ0M7UUFFeEUsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDckIsT0FBTyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDM0I7UUFDRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNuQixPQUFPLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUN6QjtRQUNELElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFO1lBQ3hCLE9BQU8sTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDO1NBQzlCO1FBQ0QsSUFBSSxNQUFNLENBQUMsZUFBZSxFQUFFLEVBQUU7WUFDNUIsT0FBTyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztTQUNsQztRQUNELElBQUksTUFBTSxDQUFDLHFCQUFxQixFQUFFLEVBQUU7WUFDbEMsT0FBTyxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztTQUN4QztRQUNELElBQUksTUFBTSxDQUFDLHFCQUFxQixFQUFFLEVBQUU7WUFDbEMsT0FBTyxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztTQUN4QztRQUNELElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFOztnQkFDcEIsTUFBTSxHQUNOLDZEQUFBLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsRUFBbUM7WUFDcEUsSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDWCxNQUFNLEdBQUcsSUFBSSxhQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ2pFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUM7YUFDeEM7WUFDRCxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMseURBQUEsTUFBTSxDQUFDLFlBQVksRUFBRSxFQUFDLENBQUMsQ0FBQztTQUM5QztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7Ozs7Ozs7O0lBTU8sZUFBZSxDQUFDLElBQWtCOztjQUNsQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxpQkFBaUI7O2NBQ3pDLFNBQVMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQzs7Y0FDM0IsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7UUFDOUMsS0FBSyxNQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQzdCLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7O2NBQ0ssWUFBWSxHQUFHO1lBQ25CLFNBQVM7Ozs7WUFBRSxDQUFNLE1BQW9DLEVBQWlCLEVBQUU7O3NCQUNoRSxXQUFXLEdBQWtCLEVBQUU7Z0JBQ3JDLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRTtvQkFDdEQsV0FBVyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ25EOztzQkFDSyxPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDOztzQkFDdkQsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO2dCQUN6QyxJQUFJLFFBQVEsRUFBRTtvQkFDWixNQUFNLElBQUksQ0FBQyxjQUFjLENBQUM7OzBCQUNwQixNQUFNLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztvQkFDaEMsSUFBSSxNQUFNLEVBQUU7d0JBQ1YsSUFBSSxDQUFDLGNBQWMsR0FBRyxNQUFNLENBQUM7d0JBQzdCLE9BQU8sTUFBTSxDQUFDO3FCQUNmO2lCQUNGO1lBQ0gsQ0FBQyxDQUFBLENBQUE7U0FDRjs7Y0FDSyxjQUFjLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQztRQUN2RSxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUNuRSxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdkIsQ0FBQzs7Ozs7Ozs7O0lBT0QsU0FBUyxDQUFDLFFBQTJCLEVBQUUsSUFBYTtRQUNsRCxJQUFJLEdBQUcsSUFBSSxJQUFJLGlCQUFpQixDQUFDO1FBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDO0lBQ2xDLENBQUM7Q0FDRjtBQXJYRCw0QkFxWEM7Ozs7Ozs7SUFwWEMsK0JBQXFDOzs7OztJQUNyQyw4QkFBMkM7Ozs7O0lBQzNDLDZCQUE2Qzs7Ozs7SUFDN0MsbUNBQXFFOzs7OztJQUNyRSxvQ0FBc0U7Ozs7O0lBR3RFLDRCQUFxQzs7Ozs7SUFDckMsc0JBQW9DOzs7OztJQUNwQyx3QkFBMkM7Ozs7O0lBQzNDLGdDQUFrRDs7Ozs7SUFHbEQsa0NBQWtFOzs7OztJQUVsRSx3Q0FBb0M7Ozs7O0lBQ3BDLHlDQUFxQzs7Ozs7SUFFckMsa0NBQTJDOzs7OztJQUUvQiwwQkFBdUM7O0FBa1dyRCxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUN4QyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHNvbHV0aW9uc1dhc20gZnJvbSAnLi9zb2x1dGlvbnNfd2FzbSc7XG5pbXBvcnQgKiBhcyBzdHJlYW1IZWxwZXJzIGZyb20gJy4vc3RyZWFtX2hlbHBlcnMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgcGFpcnMgb2YgKHN0YXJ0LGVuZCkgaW5kZXhlcyBzbyB0aGF0IHdlIGNhbiBjb25uZWN0IGxhbmRtYXJrc1xuICogd2l0aCBsaW5lcyB0byBwcm92aWRlIGEgc2tlbGV0b24gd2hlbiB3ZSBkcmF3IHRoZSBwb2ludHMuIFRoZXNlIGFyZSBkZWZpbmVkXG4gKiB3aXRoaW4gZWFjaCBzcGVjaWZpYyBzb2x1dGlvbiwgYnV0IGEgY29tbW9uIGRlZmluaXRpb24gaXMgaGVsZCBoZXJlIGZvclxuICogY29udmVuaWVuY2UuXG4gKi9cbmV4cG9ydCB0eXBlIExhbmRtYXJrQ29ubmVjdGlvbkFycmF5ID0gQXJyYXk8W251bWJlciwgbnVtYmVyXT47XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIG5vcm1hbGl6ZWQgcmVjdGFuZ2xlIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBhIFN0cmVhbUxpc3RlbmVyLlxuICovXG5leHBvcnQgdHlwZSBOb3JtYWxpemVkUmVjdCA9IHNvbHV0aW9uc1dhc20uTm9ybWFsaXplZFJlY3Q7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGxpc3Qgb2Ygbm9ybWFsaXplZCByZWN0YW5nbGVzLlxuICovXG5leHBvcnQgdHlwZSBOb3JtYWxpemVkUmVjdExpc3QgPSBOb3JtYWxpemVkUmVjdFtdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBkZXRlY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV0ZWN0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBib3VuZGluZyBib3ggYXJvdW5kIHRoZSBkZXRlY3Rpb24uXG4gICAqL1xuICBib3VuZGluZ0JveDogTm9ybWFsaXplZFJlY3Q7XG5cbiAgLyoqXG4gICAqIFRoZSBhc3NvY2lhdGVkIGxhbmRtYXJrcy5cbiAgICpcbiAgICogTWF5IGJlIGVtcHR5LiBUaGlzIGlzIHR5cGljYWxseSBmaWxsZWQgZm9yIGUuZy4gZmFjZSwgaGFuZHMgb3IgcG9zZVxuICAgKiBkZXRlY3Rpb24gdXNlIGNhc2VzLlxuICAgKi9cbiAgbGFuZG1hcmtzOiBOb3JtYWxpemVkTGFuZG1hcmtMaXN0O1xuXG4gIC8qKlxuICAgKiBUaGUgYXNzb2NpYXRlZCBjbGFzc2lmaWNhdGlvbnMuXG4gICAqXG4gICAqIE1heSBiZSBlbXB0eS4gVGhpcyBpcyB0eXBpY2FsbHkgZmlsbGVkIGZvciBlLmcuIG9iamVjdCBkZXRlY3Rpb24gdXNlIGNhc2VzLlxuICAgKi9cbiAgY2xhc3NpZmljYXRpb25zOiBDbGFzc2lmaWNhdGlvbkxpc3Q7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGxpc3Qgb2YgZGV0ZWN0aW9ucy5cbiAqL1xuZXhwb3J0IHR5cGUgRGV0ZWN0aW9uTGlzdCA9IERldGVjdGlvbltdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBkZXRlY3RlZCBsYW5kbWFyay5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOb3JtYWxpemVkTGFuZG1hcmsge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgejogbnVtYmVyO1xuICB2aXNpYmlsaXR5PzogbnVtYmVyO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBsaXN0IG9mIGxhbmRtYXJrcy5cbiAqL1xuZXhwb3J0IHR5cGUgTm9ybWFsaXplZExhbmRtYXJrTGlzdCA9IE5vcm1hbGl6ZWRMYW5kbWFya1tdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBsaXN0IG9mIGxpc3RzIG9mIGxhbmRtYXJrcy5cbiAqL1xuZXhwb3J0IHR5cGUgTm9ybWFsaXplZExhbmRtYXJrTGlzdExpc3QgPSBOb3JtYWxpemVkTGFuZG1hcmtMaXN0W107XG5cbi8qKlxuICogQSBjbGFzcyBsYWJlbCB3aXRoIHNjb3JlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENsYXNzaWZpY2F0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY2xhc3MgaW4gdGhlIGNvcnJlc3BvbmRpbmcgbGFiZWwgbWFwLlxuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHByb2JhYmlsaXR5IHNjb3JlIGZvciB0aGlzIGNsYXNzLlxuICAgKi9cbiAgc2NvcmU6IG51bWJlcjtcblxuICAvKipcbiAgICogTGFiZWwgb3IgbmFtZSBvZiB0aGUgY2xhc3MuXG4gICAqL1xuICBsYWJlbD86IHN0cmluZztcblxuICAvKipcbiAgICogRGlzcGxheSBuYW1lIG9mIHRoZSBjbGFzcywgZm9yIHZpc3VhbGl6YXRpb24gcHVycG9zZXMuXG4gICAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBIGxpc3Qgb2YgY2xhc3NpZmljYXRpb25zLlxuICovXG5leHBvcnQgdHlwZSBDbGFzc2lmaWNhdGlvbkxpc3QgPSBDbGFzc2lmaWNhdGlvbltdO1xuXG4vKipcbiAqIE11bHRpcGxlIGxpc3RzIG9mIGNsYXNzaWZpY2F0aW9ucy5cbiAqL1xuZXhwb3J0IHR5cGUgQ2xhc3NpZmljYXRpb25MaXN0TGlzdCA9IENsYXNzaWZpY2F0aW9uTGlzdFtdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBzaW5nbGUgbm9ybWFsaXplZCBsYW5kbWFyaywgd2l0aCBkZXB0aC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQb2ludDJEIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIGRlcHRoOiBudW1iZXI7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHBvaW50IGluIDNEIHNwYWNlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50M0Qge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgejogbnVtYmVyO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBwYXJ0aWN1bGFyIGtleXBvaW50IGZyb20gYW4gb2JqZWN0IGRldGVjdGlvbi4gVGhlIGlkIGRlbm90ZXNcbiAqIHdoaWNoIGtleXBvaW50IHRoaXMgaXMgKGNvbnNpc3RlbnQgb3ZlciB0aW1lKSwgYW5kIHRoZW4gdHdvIHJlcHJlc2VudGF0aW9uc1xuICogYXJlIGluY2x1ZGVkIGZvciB0aGlzIHBvaW50LCBhIDJEIG5vcm1hbGl6ZWQgdmVyc2lvbiwgYW5kIGEgM0QgdmVyc2lvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBLZXlwb2ludCB7XG4gIGlkOiBudW1iZXI7XG4gIHBvaW50M2Q6IFBvaW50M0Q7XG4gIHBvaW50MmQ6IFBvaW50MkQ7XG59XG5cbi8qKlxuICogTGlzdCBvZiBrZXlwb2ludHMuXG4gKi9cbmV4cG9ydCB0eXBlIEtleXBvaW50TGlzdCA9IEtleXBvaW50W107XG5cbi8qKlxuICogVGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIGFib3V0IGEgcGFydGljdWxhciBvYmplY3QgZGV0ZWN0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdERldGVjdGlvbiB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIG9iamVjdCBpbnN0YW5jZSBpZGVudGlmaWVyLlxuICAgKi9cbiAgaWQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGtleXBvaW50cyBmb3IgdGhpcyBkZXRlY3Rpb24gKDggZm9yIGEgM0QgYm91bmRpbmcgYm94KS5cbiAgICovXG4gIGtleXBvaW50czogS2V5cG9pbnRMaXN0O1xuICAvKipcbiAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhpcyBvYmplY3QgZGV0ZWN0aW9uIGluIGEgZnJhbWUuXG4gICAqL1xuICB2aXNpYmlsaXR5OiBudW1iZXI7XG59XG5cbi8qKlxuICogTGlzdCBvZiBvYmplY3QgZGV0ZWN0aW9ucy5cbiAqL1xuZXhwb3J0IHR5cGUgT2JqZWN0RGV0ZWN0aW9uTGlzdCA9IE9iamVjdERldGVjdGlvbltdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gaW1hZ2UgcHJvZHVjZWQgYnkgdGhlIGdyYXBoLlxuICovXG5leHBvcnQgdHlwZSBHcHVCdWZmZXIgPSBzdHJlYW1IZWxwZXJzLkdwdUJ1ZmZlcjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIHJlc3VsdCBvZiBhIG11bHRpIHJlc3VsdCBsaXN0ZW5lci4gVGhlIHNoYXBlIGlzXG4gKiB0cmFuc2Zvcm1lZCBpbnRvIGEgc2hhcGUgdGhhdCB0aGUgZW5kIHVzZXIgY2FuIGNvbnN1bWUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0TWFwIHtcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIHJlc3VsdCBvZiBhIG11bHRpIHJlc3VsdCBsaXN0ZW5lci4gVGhlIHNoYXBlIGlzIHRoZVxuICogd2FzbSBjbGFzcyBmcm9tIHdoaWNoIHdlIGNhbiBwdWxsIG91dCBkaWZmZXJlbnQga2luZHMgb2YgZGF0YS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXYXNtUmVzdWx0TWFwIHtcbiAgW2tleTogc3RyaW5nXTogc29sdXRpb25zV2FzbS5SZXN1bHRXYXNtO1xufVxuXG4vKipcbiAqIFRoaXMgcmVwcmVzZW50cyB0aGUgY2FsbGJhY2tzIGZyb20gdGhlIGdyYXBoJ3Mgc3RyZWFtIGxpc3RlbmVycy4gSWYgdGhlXG4gKiBsaXN0ZW5lciBuZWVkcyB0byBkbyBhc3luY2hyb25vdXMgd29yaywgcmV0dXJuIGEgUHJvbWlzZSB0byBhbGxvdyB0aGVcbiAqIHNvbHV0aW9uIHRvIHdhaXQuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3VsdE1hcExpc3RlbmVyID0gKG1hcDogUmVzdWx0TWFwKSA9PiBQcm9taXNlPHZvaWQ+fHZvaWQ7XG5cbi8qKlxuICogT3B0aW9uIGRlc2NyaXB0aW9ucyB0aGF0IGRlc2NyaWJlIHdoZXJlIHRvIGNoYW5nZSBhbiBvcHRpb24gaW4gYSBncmFwaC5cbiAqL1xuZXhwb3J0IHR5cGUgR3JhcGhPcHRpb25YUmVmID0gc29sdXRpb25zV2FzbS5HcmFwaE9wdGlvblhSZWY7XG5cbi8qKlxuICogSWYgeW91ciBmaWxlcyBhcmUgb3JnYW5pemVkIGluIHNvbWUgd2VpcmQgc3RydWN0dXJlLCB5b3UgY2FuIGN1c3RvbWl6ZSBob3dcbiAqIHRoZSBwYXRoIGlzIGNvbnN0cnVjdGVkIGJ5IHNlbmRpbmcgdGhpcyB0byB0aGUgY29uZmlnIG9wdGlvbnMgZm9yIFNvbHV0aW9uLlxuICovXG5leHBvcnQgdHlwZSBGaWxlTG9jYXRvckZuID0gKGZpbGU6IHN0cmluZywgcHJlZml4OiBzdHJpbmcpID0+IHN0cmluZztcblxuLyoqXG4gKiBVc2VycyBvZiB0aGUgc29sdXRpb24gc2V0IG9wdGlvbnMgdXNpbmcgYSBrZXktdmFsdWUgbWFwLiBIb3dldmVyLCBzcGVjaWZpY1xuICogc29sdXRpb25zIHdpbGwgY29uc3RyYWluIHRoZSBvcHRpb25zIHdpdGggYW4gZXhwb3J0ZWQgaW50ZXJmYWNlLlxuICpcbiAqIGUuZy5cbiAqXG4gKiBnZW5lcmFsU29sdXRpb24uc2V0T3B0aW9ucyh7XCJteUtleVwiOiBteVZhbHVlfSkgYmVjb21lc1xuICogc3BlY2lmaWNTb2x1dGlvbi5zZXRPcHRpb25zKHsgbXlLZXk6IG15VmFsdWUgfX1cbiAqXG4gKiBkZWNsYXJlIGludGVyZmFjZSBTcGVjaWZpY1NvbHV0aW9uT3B0aW9uTGlzdCB7XG4gKiAgIG15S2V5OiBudW1iZXJcbiAqIH07XG4gKlxuICogVGhpcyB3b3JrcyBiZWNhdXNlIGBPYmplY3RgcyBpbiBKYXZhU2NyaXB0IGFyZSBqdXN0IGhhc2htYXBzLCBhbmQgd2UgZml0XG4gKiBtZWFuaW5nIG9uIHRvcCBvZiB0aG9zZSBoYXNobWFwcyB3aXRoIG91ciB0eXBlIGRlY2xhcmF0aW9ucy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpb25MaXN0IHtcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuLyoqXG4gKiBVc2VkIGluIHRoZSBjb25zdHJ1Y3RvciBvZiBHcmFwaC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHcmFwaCB7XG4gIHVybDogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyBob3cgdG8gdHVybiB1c2VyIGlucHV0IChTZWUgSW5wdXRNYXApIGludG8gZGF0YSB0aGUgZ3JhcGggY2FuXG4gKiBjb25zdW1lLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFByb3ZpZGVzIGRpcmVjdGlvbiBvbiBob3cgdG8gaW50ZXJwcmV0IHRoZSBgdmFsdWVgIG9mIHRoZSBJbnB1dE1hcC5cbiAgICovXG4gIHR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGlucHV0IHN0cmVhbSBvZiB0aGUgZ3JhcGggdGhhdCB3aWxsIHJlY2VpdmUgdGhlIGlucHV0LlxuICAgKi9cbiAgc3RyZWFtOiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIGZ1bGwgZGVzY3JpcHRpb24gb2YgYWxsIHRoZSBpbnB1dHMgdGhhdCB3aWxsIGJlIGV4cG9zZWQgdG8gdGhlIHVzZXIuIFRoZVxuICoga2V5IGlzIHRoZSBuYW1lIG9mIHRoZSBpbnB1dCBhIHVzZXIgd2lsbCB1c2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRDb25maWdNYXAge1xuICBba2V5OiBzdHJpbmddOiBJbnB1dENvbmZpZztcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGlucHV0cyB0aGF0IHRoZSB1c2VyIHdpbGwgc2VuZCB0byB0aGUgZ3JhcGguIGB1bmtub3duYCBhbGxvd3NcbiAqIHVzZXJzIHRvIGRvIGFsbCBzb3J0cyBvZiB0aGluZ3MsIGZyb20gdXNpbmcgSFRNTFZpZGVvRWxlbWVudHMgdG8gbnVtYmVycyB0b1xuICogd2hhdGV2ZXIgZWxzZSB3ZSBuZWVkLiBTZWUgYHByZXBhcmVJbnB1dGAgdG8gc2VlIGhvdyB0aGlzIHVua25vd24gaXMgdHVybmVkXG4gKiBpbnRvIHN0cnVjdHVyYWwgZGF0YSB0aGF0IGNhbiBiZSBzZW50IHRvIHRoZSBncmFwaC5cbiAqXG4gKiBUaGUgc3BlY2lmaWMgc29sdXRpb24gc2hvdWxkIHN1cHBseSBhIHN0cm9uZ2VyIGludGVyZmFjZSB0aGF0IHdpbGwgYmUgdXNlZFxuICogaW5zdGVhZCBvZiB0aGlzIGdlbmVyaWMga2V5bWFwLCAgSW4gdGhpcyB3YXksIHRoZSBzb2x1dGlvbiBkZXNpZ25lciBjYW5cbiAqIG5hbWUgdmVyeSBzcGVjaWZpYyBpbnB1dHMgYW5kIGV4YWN0bHkgd2hhdCBpcyBleHBlY3RlZCBpbiB0aGF0IElucHV0TWFwLidcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dE1hcCB7XG4gIFtrZXk6IHN0cmluZ106IHVua25vd247XG59XG5cbi8qKlxuICogV2Ugc3VwcG9ydCBzZXZlcmFsIHdheXMgdG8gZ2V0IGltYWdlIGlucHV0cy5cbiAqL1xuZXhwb3J0IHR5cGUgSW5wdXRJbWFnZSA9IEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudDtcblxuLyoqXG4gKiBEZXNjcmliZXMgaG93IHRvIGludGVycHJldCBPcHRpb25Db25maWcuIEBzZWUgR3JhcGhPcHRpb25DaGFuZ2VSZXF1ZXN0LlxuICogZS5nLiwgQSBOVU1CRVIgdGVsbHMgdXMgdG8gZmlsbCBvdXQgdmFsdWVOdW1iZXIgKHdoaWNoIGdldHMgaW50ZXJwcmV0ZWQgYXNcbiAqIGEgZG91YmxlIG9uIHRoZSBDKysgc2lkZSkuIFdlIHdpbGwgYWRkIG90aGVyIHR5cGVzIGhlcmUgYXMgdGhlIG5lZWQgYXJpc2VzLlxuICovXG5leHBvcnQgZW51bSBPcHRpb25UeXBlIHtcbiAgTlVNQkVSLFxuICBCT09MLFxufVxuXG4vKipcbiAqIFVzZWQgdG8gcmVnaXN0ZXIga2V5cyB3aXRoIHRoZSBzb2x1dGlvbi4gUmlnaHQgbm93IGl0IGlzIGxpbWl0ZWQgdG9cbiAqIGdyYXBoT3B0aW9uWHJlZiwgd2hpY2ggaXMgc3BlY2lmaWNhbGx5IGZvciBvcHRpb25zIHRoYXQgd2lsbCBiZSBmZWQgdG8gdGhlXG4gKiBNZWRpYVBpcGUgZ3JhcGgsIGJ1dCB3ZSdsbCBhbHNvIG5lZWQgb3B0aW9ucyB0aGF0IGFyZSBoYW5kbGVkIGJ5IHRoZSBzcGVjaWZpY1xuICogc29sdXRpb24gdG8gZG8gd29yayAoZS5nLiwgc2VsZmllLWZsaXBwaW5nKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpb25Db25maWcge1xuICB0eXBlOiBPcHRpb25UeXBlO1xuICBncmFwaE9wdGlvblhyZWY/OiBHcmFwaE9wdGlvblhSZWY7XG59XG5cbi8qKlxuICogT3B0aW9uYWxseSBzcGVjaWZpZWQgaW4gdGhlIG91dHB1dCB0byB0cmFuc2Zvcm0gdGhlIG91dHB1dC5cbiAqL1xuZXhwb3J0IHR5cGUgVHJhbnNmb3JtZXI8VCwgTz4gPSAoeDogVCkgPT4gTztcblxuLyoqXG4gKiBPdXRwdXQgY29uZmlndXJhdGlvbiB3aXRob3V0IGEgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dENvbmZpZ0Jhc2Uge1xuICBzdHJlYW06IHN0cmluZztcbiAgdHlwZTogJ2xhbmRtYXJrcyd8J2xhbmRtYXJrc19saXN0J3wnY2xhc3NpZmljYXRpb25zX2xpc3QnfFxuICAgICAgJ29iamVjdF9kZXRlY3Rpb25fbGlzdCd8J3JlY3RfbGlzdCd8J2RldGVjdGlvbl9saXN0JztcbiAgLy8gSW50ZW50aW9uYWwgYGFueWAgYWxsb3dzIGRlcml2ZWQgY2xhc3NlcyB0byBzdXBwb3J0IGN1c3RvbSB0cmFuc2Zvcm1lcnMuXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgdHJhbnNmb3JtPzogVHJhbnNmb3JtZXI8YW55LCBhbnk+O1xufVxuXG4vKipcbiAqIE91dHB1dCBjb25maWcgd2l0aCB0eXBlIHNhZmV0eSBmb3IgYSBsaXN0IG9mIGxhbmRtYXJrcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPdXRwdXRDb25maWdMYW5kbWFya0xpc3Q8VD4gZXh0ZW5kcyBPdXRwdXRDb25maWdCYXNlIHtcbiAgdHlwZTogJ2xhbmRtYXJrcyc7XG4gIHRyYW5zZm9ybT86IFRyYW5zZm9ybWVyPE5vcm1hbGl6ZWRMYW5kbWFya0xpc3QsIFQ+O1xufVxuXG4vKipcbiAqIE91dHB1dCBjb25maWcgd2l0aCB0eXBlIHNhZmV0eSBmb3IgYSBsaXN0IG9mIGxhbmRtYXJrIGxpc3RzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dENvbmZpZ0xhbmRtYXJrTGlzdExpc3Q8VD4gZXh0ZW5kcyBPdXRwdXRDb25maWdCYXNlIHtcbiAgdHlwZTogJ2xhbmRtYXJrc19saXN0JztcbiAgdHJhbnNmb3JtPzogVHJhbnNmb3JtZXI8Tm9ybWFsaXplZExhbmRtYXJrTGlzdExpc3QsIFQ+O1xufVxuXG4vKipcbiAqIE91dHB1dCBjb25maWcgd2l0aCB0eXBlIHNhZmV0eSBmb3IgYSBsaXN0IG9mIGNsYXNzaWZpY2F0aW9uIGxpc3RzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dENvbmZpZ0NsYXNzaWZpY2F0aW9uTGlzdExpc3Q8VD4gZXh0ZW5kc1xuICAgIE91dHB1dENvbmZpZ0Jhc2Uge1xuICB0eXBlOiAnY2xhc3NpZmljYXRpb25zX2xpc3QnO1xuICB0cmFuc2Zvcm0/OiBUcmFuc2Zvcm1lcjxDbGFzc2lmaWNhdGlvbkxpc3RMaXN0LCBUPjtcbn1cblxuLyoqXG4gKiBPdXRwdXQgY29uZmlnIHdpdGggdHlwZSBzYWZldHkgZm9yIGFuIG9iamVjdCBkZXRlY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0Q29uZmlnT2JqZWN0RGV0ZWN0aW9uTGlzdDxUPiBleHRlbmRzIE91dHB1dENvbmZpZ0Jhc2Uge1xuICB0eXBlOiAnb2JqZWN0X2RldGVjdGlvbl9saXN0JztcbiAgdHJhbnNmb3JtPzogVHJhbnNmb3JtZXI8T2JqZWN0RGV0ZWN0aW9uTGlzdCwgVD47XG59XG5cbi8qKlxuICogV2hlbiBzcGVjaWZ5aW5nIG91dHB1dHMsIGNhc3QgdG8gT3V0cHV0Q29uZmlnPFQ+IHRvIGdldCB0eXBlIHNhZmV0eSBiZXR3ZWVuXG4gKiB0aGUgYHR5cGVgIGFuZCB0aGUgYHRyYW5zZm9ybWAuXG4gKi9cbmV4cG9ydCB0eXBlIE91dHB1dENvbmZpZzxUPiA9IE91dHB1dENvbmZpZ0xhbmRtYXJrTGlzdDxUPnxcbiAgICBPdXRwdXRDb25maWdMYW5kbWFya0xpc3RMaXN0PFQ+fE91dHB1dENvbmZpZ0NsYXNzaWZpY2F0aW9uTGlzdExpc3Q8VD58XG4gICAgT3V0cHV0Q29uZmlnT2JqZWN0RGV0ZWN0aW9uTGlzdDxUPjtcblxuLyoqXG4gKiBUcmFuc2xhdGlvbiBtYXAgdG8gZXhwb3NlIHVuZGVybHlpbmcgc3RyZWFtcyB0byB0aGUgdXNlci4gQSBzb2x1dGlvblxuICogZGVzaWduZXIgc2hvdWxkIGRlY2xhcmUgYSB0eXBlIHRvIGNvbnN0cmFpbiB0aGUgc2hhcGUgb2YgdGhlIG91dHB1dHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0Q29uZmlnTWFwIHtcbiAgLy8gVG9kYXkgdGhlIHZhbHVlIGlzIGEgc3RyaW5nLCB3aGljaCBhbGxvd3MgdXMgdG8gbWFwIGFuIGludGVybmFsIHN0cmVhbSBuYW1lXG4gIC8vIHRvIGEgZnJpZW5kbGllciwgZXh0ZXJuYWxseSB2aXNpYmxlIG5hbWUuIEluIHRoZSBuZWFyIGZ1dHVyZSBpdCB3aWxsIGJlIGFuXG4gIC8vIE9iamVjdCB0byBhbGxvdyBjb21wbGV4IHN0cnVjdHVyZXMsIG9yIGEgZnVuY3Rpb24sIHRvIGFsbG93IGNhbGN1bGF0ZWRcbiAgLy8gdmFsdWVzLlxuICBba2V5OiBzdHJpbmddOiBzdHJpbmd8T3V0cHV0Q29uZmlnQmFzZTtcbn1cblxuLyoqXG4gKiBUaGUgY29sbGVjdGlvbiBvZiBvcHRpb24gY29uZmlndXJhdGlvbiBlbnRyaWVzLCBhcnJhbmdlZCBieSBvcHRpb24gbmFtZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpb25Db25maWdNYXAge1xuICBbb3B0aW9uTmFtZTogc3RyaW5nXTogT3B0aW9uQ29uZmlnO1xufVxuXG4vKipcbiAqIEJpbmRzIHRoZSBzdHJlYW1zIHRvIGEgc2V0IG9mIGxpc3RlbmVycyB0aGF0IGNhbiBiZSBzdXJmYWNlZCB0byB0aGVcbiAqIGRldmVsb3Blci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0ZW5lclBvcnQge1xuICAvKipcbiAgICogSWYgdGhlcmUgaXMgb25seSBvbmUgcmVnaXN0cmF0aW9uLCB0aGUgbmFtZSBjYW4gYmUgb21pdHRlZC4gU2VlIG9uUmVzdWx0c1xuICAgKiBmb3IgbW9yZSBkaXNjdXNzaW9uLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHN0cmVhbXMgaW4gdGhlIGdyYXBoIHRoYXQgd2lsbCBiZSBjb21iaW5lZCBpbnRvIGEgSGFzaE1hcFxuICAgKiB3aGljaCB3aWxsIGJlIGFzc2VtYmxlZCBhbmQgZGVsaXZlcmVkIHRvIGxpc3RlbmVycyB0aGF0IHRoZSBlbmQgdXNlclxuICAgKiBjYW4gbGlzdGVuIHRvLlxuICAgKi9cbiAgd2FudHM6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHJlc3VsdHMgdG8gYmUgdHJhbnNmb3JtZWQgaW50byBsaXRlcmFsbHkgYW55IGtpbmQgb2Ygc2hhcGUuIEl0XG4gICAqIGlzIHVwIHRvIHRoZSBzb2x1dGlvbiBjcmVhdG9yIHRvIGV4cG9zZSB0aGlzIHR5cGUgaW5mb3JtYXRpb24gdGhyb3VnaFxuICAgKiBhbiBvblJlc3VsdHMgc3BlY2lhbGl6YXRpb24uXG4gICAqL1xuICBvdXRzPzogT3V0cHV0Q29uZmlnTWFwO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdHJhbnNmb3JtYXRpb24gb2YgYG91dHNgIGJlZm9yZSBoYW5kaW5nIHRoZSByZXN1bHRzIGJhY2sgdG8gdGhlXG4gICAqIGxpc3RlbmVyLiBBbGxvd3MgZmluYWwgY3JlYXRpdmUgY29udHJvbCBvZiB0aGUgc2hhcGUgb2YgdGhlIG91dHB1dC5cbiAgICovXG4gIHRyYW5zZm9ybT86IChpbnB1dDogT3V0cHV0Q29uZmlnTWFwKSA9PiBPdXRwdXRDb25maWdNYXA7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgZmlsZSB0aGF0IHNob3VsZCBiZSBsb2FkZWQgYnkgdGhlIHNvbHV0aW9uLiBXZSBjYW4gaW5jbHVkZSBmbGFnc1xuICogZm9yIGNoZWNrcyB0aGF0IHNob3VsZCBiZSBkb25lIGJlZm9yZSBsb2FkaW5nIGEgZmlsZS4gQ3VycmVudGx5LCB3ZSBhbGxvd1xuICogYSB1c2VyIHRvIHByb3ZpZGUgc3BlY2lhbCBmaWxlcyB0aGF0IGFyZSBvbmx5IHByb3ZpZGVkIGlmIFNJTUQgaXNcbiAqIHNwZWNpZmljYWxseSBzdXBwb3J0ZWQgb3Igbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3NlciAoZG8gbm90IGluY2x1ZGUgdGhlXG4gKiBzaW1kIGZsYWcgaWYgeW91IGRvIG5vdCBjYXJlKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlRW50cnkge1xuICBzaW1kPzogYm9vbGVhbjtcbiAgdXJsOiBzdHJpbmc7XG59XG5cbi8qKlxuICogT3B0aW9ucyB0byBjb25maWd1cmUgdGhlIHNvbHV0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvbHV0aW9uQ29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBwYWNrIGxvYWRlciBhbmQgdGhlIHdhc20gbG9hZGVyIG5lZWQgdG8gYmUgaGVyZS4gQSBmaWxlIGxvYWRlciB3aWxsIGJlXG4gICAqIHByb3ZpZGVkIHRvIHRoZW0sIGFuZCBUaGV5IHdpbGwgZ2V0IGxvYWRlZCBhc3luY2hyb25vdXNseS4gV2Ugd29uJ3RcbiAgICogY29udGludWUgaW5pdGlhbGl6YXRpb24gdW50aWwgdGhleSd2ZSBjb21wbGV0ZWx5IGxvYWRlZCBhbmQgcnVuLlxuICAgKi9cbiAgZmlsZXM6IFJlYWRvbmx5QXJyYXk8RmlsZUVudHJ5PjtcblxuICAvKipcbiAgICogVGhlIGJpbmFyeSBncmFwaC4gQ2FuIHN1cHBvcnQgbXVsdGlwbGUgd2F5cyBvZiBnZXR0aW5nIHRoYXQgZ3JhcGguXG4gICAqL1xuICBncmFwaDogR3JhcGg7XG5cbiAgLyoqXG4gICAqIENvbnRhaW5zIGEgbWFwcGluZyB0aGF0IGFsbG93cyB1cyB0byB0dXJuIHRoZSBpbnB1dHMgYSB1c2VyIHNlbmRzIGFzIHBhcnRcbiAgICogb2YgYHNlbmRgIGludG8gYW4gaW5wdXQgdGhhdCB0aGUgZ3JhcGggY2FuIGNvbnN1bWUuXG4gICAqL1xuICBpbnB1dHM6IElucHV0Q29uZmlnTWFwO1xuXG4gIC8qKlxuICAgKiBTZWUgRmlsZUxvY2F0b3JGbi4gQW55IGZpbGUgbG9hZGluZyBkb25lIG9uIHRoZSB1c2VyJ3MgYmVoYWxmIHdpbGwgdXNlXG4gICAqIGxvY2F0ZUZpbGUgaWYgaXRzIHByb2ZpdmVkLiBUaGlzIGluY2x1ZGVzIFdBU00gYmxvYnMgYW5kIGdyYXBoIHVybHMuXG4gICAqL1xuICBsb2NhdGVGaWxlPzogRmlsZUxvY2F0b3JGbjtcblxuICAvKipcbiAgICogU3BlY2lmaWVzIGhvdyB0byBpbnRlcnByZXQgb3B0aW9ucyBmZWQgdG8gc2V0T3B0aW9ucy5cbiAgICovXG4gIG9wdGlvbnM/OiBPcHRpb25Db25maWdNYXA7XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGxpc3RlbmVycyB0byB0aGUgZ3JhcGguIFRoaXMgaXMgb25seSBmb3IgcmVnaXN0ZXJpbmcgdGhlIHBvcnRzLlxuICAgKiBUbyBhY3R1YWxseSByZWdpc3RlciBhIGNhbGxiYWNrLCB0aGUgZGV2ZWxvcGVyIHdpbGwgY2FsbCBvblJlc3VsdHMgd2l0aFxuICAgKiB0aGUgbmFtZSBvZiB0aGUgcG9ydCB0aGV5IHdhbnQgdG8gdGFwIGludG8uXG4gICAqL1xuICBsaXN0ZW5lcnM/OiBMaXN0ZW5lclBvcnRbXTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZ3JhcGggdGhhdCBjYW4gYmUgZmVkIHRvIG1lZGlhcGlwZSBTb2x1dGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHcmFwaERhdGEge1xuICB0b0FycmF5QnVmZmVyKCk6IFByb21pc2U8QXJyYXlCdWZmZXI+O1xufVxuXG4vLyBUaGVzZSBleHBvcnQgbmFtZXMgY29tZSBmcm9tIHdhc21fY2NfYmluYXJ5IEJVSUxEIHJ1bGVzLiBUaGV5IGJlbG9uZyB0byB0d29cbi8vIGRpZmZlcmVudCBzY3JpcHRzIHRoYXQgYXJlIGxvYWRlZCBpbiBwYXJhbGxlbCAoc2VlIFByb21pc2UuYWxsLCBiZWxvdykuXG4vLyBCZWNhdXNlIHRoZXkgbXV0YXRlIHRoZWlyIHJlc3BlY3RpdmUgdmFyaWFibGVzLCB0aGVyZSBpcyBhIHJhY2UgY29uZGl0aW9uXG4vLyB3aGVyZSB0aGV5IHdpbGwgc3RvbXAgb24gZWFjaCBvdGhlciBpZiB0aGV5IGNob29zZSB0aGUgc2FtZSBuYW1lLiBVc2Vyc1xuLy8gd29uJ3Qgbm9ybWFsbHkgc2VlIHRoaXMgcmFjZSBjb25kaXRpb24gYmVjYXVzZSB0aGV5IHB1dCBzY3JpcHQgdGFncyBpbiB0aGVcbi8vIEhUTUwsIGFuZCBIVE1MIGd1YXJhbnRlZXMgdGhhdCB0aGUgc2NyaXB0cyB3aWxsIGJlIHJ1biBpbiBvcmRlci5cbmNvbnN0IEFQSV9FWFBPUlRfTkFNRSA9ICdjcmVhdGVNZWRpYXBpcGVTb2x1dGlvbnNXYXNtJztcbmNvbnN0IFBBQ0tfRVhQT1JUX05BTUUgPSAnY3JlYXRlTWVkaWFwaXBlU29sdXRpb25zUGFja2VkQXNzZXRzJztcblxuLy8gVXNlZCBpbnRlcm5hbGx5IHRvIHJlcHJlc2VudCBhIHBvcnQgZm9yIHdoaWNoIHRoZSB1c2VyIGRpZCBub3QgZGVmaW5lIGEgbmFtZS5cbmNvbnN0IERFRkFVTFRfUE9SVF9OQU1FID0gJyQnO1xuXG4vKipcbiAqIFNpbXBsZXN0IFdBU00gcHJvZ3JhbSB0byBwZXJmb3JtIGEgU0lNRCBvcGVyYXRpb24uIFdlJ2xsIHRyeSB0byBpbnN0YW50aWF0ZVxuICogaXQgd2l0aCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSgpIGFuZCBpZiBpdCBmYWlscywgd2UnbGwga25vdyB0aGVyZSBpcyBub1xuICogU0lNRCBzdXBwb3J0LlxuICpcbiAqIFRvIGdlbmVyYXRlIHRoZSB3ZWIgYXNzZW1ibHksIEkgaW5jbHVkZWQgdGhlIGZvbGxvd2luZyBzY3JpcHQgaW50byBhIHdlYiBwYWdlXG4gKiBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvQXNzZW1ibHlTY3JpcHQvd2FidC5qcy9pbmRleC5qc1xuICpcbiAqIEFuZCB0aGVuIGZvbGxvd2VkIGl0IHdpdGggYSBiaXQgb2Ygc2NyaXB0OlxuICpcbiAqIGBgYFxuICogYXN5bmMgZnVuY3Rpb24gcnVuKCkge1xuICogdmFyIHdhc20gPSBgKG1vZHVsZVxuICogIChmdW5jXG4gKiAgICAgIGkzMi5jb25zdCAwXG4gKiAgICAgIGk4eDE2LnNwbGF0XG4gKiAgICAgIGRyb3BcbiAqICAgIClcbiAqICApYDtcbiAqICBjb25zdCB3YWJ0ID0gYXdhaXQgV2FidE1vZHVsZSgpO1xuICogIGNvbnN0IHdhdCA9IHdhYnQucGFyc2VXYXQoXCJ0ZXN0XCIsIHdhc20sIHtzaW1kOiB0cnVlfSk7XG4gKiAgY29uc3QgYmluID0gd2F0LnRvQmluYXJ5KHt9KS5idWZmZXI7XG4gKlxuICogIC8vIFRoZSBmb2xsb3dpbmcgbGluZSBwcmludHMgdGhlIGFycmF5IHRoYXQgd2UgY3V0IGFuZCBwYXN0ZSBpbnRvIG91ciBzb3VyY2VcbiAqICAvLyBjb2RlLlxuICogIGNvbnNvbGUubG9nKGJpbi5qb2luKCcsJykpO1xuICpcbiAqICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShiaW4pO1xuICogIGNvbnN0IHdhID0gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYXJyKTtcbiAqIH1cbiAqIHJ1bigpO1xuICogYGBgXG4gKi9cbmNvbnN0IFdBU01fU0lNRF9DSEVDSyA9IG5ldyBVaW50OEFycmF5KFtcbiAgMCwgOTcsIDExNSwgMTA5LCAxLCAwLCAwLCAwLCAxLCAgNCwgMSwgICA5NiwgMCwgIDAsIDMsXG4gIDIsIDEsICAwLCAgIDEwLCAgOSwgMSwgNywgMCwgNjUsIDAsIDI1MywgMTUsIDI2LCAxMVxuXSk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBwYXRoIHRvIGEgcmVzb3VyY2UgaWYgdGhlIHVzZXIgZGlkIG5vdCBvdmVybG9hZCB0aGVcbiAqIGxvY2F0ZUZpbGUgcGFyYW1ldGVyIGluIFNvbHV0aW9uQ29uZmlnLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0TG9jYXRlRmlsZShmaWxlOiBzdHJpbmcsIHByZWZpeDogc3RyaW5nKSB7XG4gIHJldHVybiBwcmVmaXggKyBmaWxlO1xufVxuLyoqXG4gKiBTZXRzIGFuIGFyYml0cmFyeSB2YWx1ZSBvbiBgd2luZG93YC4gVGhpcyBoZWxwZXIgZnVuY3Rpb24gZ2V0cyBhcm91bmQgYSBsb3RcbiAqIG9mIHRoZSBjdW1iZXJzb21lIGJvaWxlcnBsYXRlIHJlcXVpcmVkIHRvIHNldCBhbmQgcmV0cmlldmUgYXJiaXRyYXJ5IGRhdGFcbiAqIGZyb20gdGhlIGB3aW5kb3dgIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gc2V0V2luZG93PFQ+KGtleTogc3RyaW5nLCB2YWx1ZTogVCk6IHZvaWQge1xuICAod2luZG93IGFzIHVua25vd24gYXMge1trZXk6IHN0cmluZ106IFR9KVtrZXldID0gdmFsdWU7XG59XG5cbi8qKlxuICogR2V0cyBhbiBhcmJpdHJhcnkgdmFsdWUgZnJvbSBgd2luZG93YC4gU2VlIGBzZXRXaW5kb3dgLlxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3coa2V5OiBzdHJpbmcpOiB1bmtub3duIHtcbiAgcmV0dXJuICh3aW5kb3cgYXMgdW5rbm93biBhcyB7W2tleTogc3RyaW5nXTogdW5rbm93bn0pW2tleV07XG59XG5cbi8qKlxuICogRHluYW1pY2FsbHkgbG9hZHMgYSBhc2NyaXB0IGludG8gdGhlIGN1cnJlbnQgcGFnZSBhbmQgcmV0dXJucyBhIGBQcm9taXNlYFxuICogdGhhdCByZXNvbHZlcyB3aGVuIGl0cyBsb2FkaW5nIGlzIGNvbXBsZXRlLlxuICovXG5mdW5jdGlvbiBsb2FkU2NyaXB0KHVybDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpO1xuICBzY3JpcHQuc2V0QXR0cmlidXRlKCdjcm9zc29yaWdpbicsICdhbm9ueW1vdXMnKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9LCBmYWxzZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRQYWNrYWdlUGF0aCgpOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKFxuICAgICAgICAgICAgICAgMCwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkubGFzdEluZGV4T2YoJy8nKSkgK1xuICAgICAgICAnLyc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIHdvcmtlclxuICAgIHJldHVybiBsb2NhdGlvbi5wYXRobmFtZS50b1N0cmluZygpLnN1YnN0cmluZyhcbiAgICAgICAgICAgICAgIDAsIGxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkubGFzdEluZGV4T2YoJy8nKSkgK1xuICAgICAgICAnLyc7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnc29sdXRpb25zIGNhbiBvbmx5IGJlIGxvYWRlZCBvbiBhIHdlYiBwYWdlIG9yIGluIGEgd2ViIHdvcmtlcicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlY29kZUxhbmRtYXJrcyhsYW5kbWFya3M6IHNvbHV0aW9uc1dhc20uTm9ybWFsaXplZExhbmRtYXJrTGlzdCk6XG4gICAgTm9ybWFsaXplZExhbmRtYXJrTGlzdCB7XG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuICBjb25zdCByZXN1bHRDb3VudCA9IGxhbmRtYXJrcy5zaXplKCk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHRDb3VudDsgKytpbmRleCkge1xuICAgIGNvbnN0IGxhbmRtYXJrID0gbGFuZG1hcmtzLmdldChpbmRleCk7XG4gICAgb3V0cHV0LnB1c2goe1xuICAgICAgeDogbGFuZG1hcmsueCxcbiAgICAgIHk6IGxhbmRtYXJrLnksXG4gICAgICB6OiBsYW5kbWFyay56LFxuICAgICAgdmlzaWJpbGl0eTogbGFuZG1hcmsuaGFzVmlzaWJpbGl0eSA/IGxhbmRtYXJrLnZpc2liaWxpdHkgOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVSZWN0TGlzdChyZWN0czogc29sdXRpb25zV2FzbS5Ob3JtYWxpemVkUmVjdExpc3QpOlxuICAgIE5vcm1hbGl6ZWRSZWN0TGlzdCB7XG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuICBjb25zdCByZXN1bHRDb3VudCA9IHJlY3RzLnNpemUoKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdENvdW50OyArK2luZGV4KSB7XG4gICAgY29uc3QgcmVjdCA9IHJlY3RzLmdldChpbmRleCk7XG4gICAgb3V0cHV0LnB1c2gocmVjdCk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuZnVuY3Rpb24gZGVjb2RlRGV0ZWN0aW9uTGlzdChyZXN1bHRzOiBzb2x1dGlvbnNXYXNtLlJlc3VsdFdhc20pOiBEZXRlY3Rpb25MaXN0IHtcbiAgY29uc3QgcmVjdExpc3QgPSByZXN1bHRzLmdldFJlY3RMaXN0KCkhO1xuICBjb25zdCBsYW5kbWFya3NMaXN0ID0gcmVzdWx0cy5nZXRMYW5kbWFya3NMaXN0KCkhO1xuICBjb25zdCBjbGFzc2lmaWNhdGlvbnNMaXN0ID0gcmVzdWx0cy5nZXRDbGFzc2lmaWNhdGlvbnNMaXN0KCkhO1xuICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgaWYgKHJlY3RMaXN0KSB7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlY3RMaXN0LnNpemUoKTsgKytpbmRleCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBib3VuZGluZ0JveDogcmVjdExpc3QuZ2V0KGluZGV4KSxcbiAgICAgICAgbGFuZG1hcmtzOiBkZWNvZGVMYW5kbWFya3MobGFuZG1hcmtzTGlzdC5nZXQoaW5kZXgpKSxcbiAgICAgICAgY2xhc3NpZmljYXRpb25zOiBkZWNvZGVDbGFzc2lmaWNhdGlvbnMoY2xhc3NpZmljYXRpb25zTGlzdC5nZXQoaW5kZXgpKSxcbiAgICAgIH07XG4gICAgICBvdXRwdXQucHVzaChyZXN1bHQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVMYW5kbWFya3NMaXN0KFxuICAgIGxhbmRtYXJrczogc29sdXRpb25zV2FzbS5Ob3JtYWxpemVkTGFuZG1hcmtMaXN0TGlzdCk6XG4gICAgTm9ybWFsaXplZExhbmRtYXJrTGlzdExpc3Qge1xuICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgY29uc3QgcmVzdWx0Q291bnQgPSBsYW5kbWFya3Muc2l6ZSgpO1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0Q291bnQ7ICsraW5kZXgpIHtcbiAgICBjb25zdCBsYW5kbWFyayA9IGxhbmRtYXJrcy5nZXQoaW5kZXgpO1xuICAgIG91dHB1dC5wdXNoKGRlY29kZUxhbmRtYXJrcyhsYW5kbWFyaykpO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIGRlY29kZUNsYXNzaWZpY2F0aW9ucyhcbiAgICBjbGFzc2lmaWNhdGlvbnM6IHNvbHV0aW9uc1dhc20uQ2xhc3NpZmljYXRpb25MaXN0KTogQ2xhc3NpZmljYXRpb25MaXN0IHtcbiAgY29uc3Qgb3V0cHV0ID0gW107XG4gIGNvbnN0IHJlc3VsdENvdW50ID0gY2xhc3NpZmljYXRpb25zLnNpemUoKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdENvdW50OyArK2luZGV4KSB7XG4gICAgY29uc3QgY2xhc3NpZmljYXRpb24gPSBjbGFzc2lmaWNhdGlvbnMuZ2V0KGluZGV4KTtcbiAgICBvdXRwdXQucHVzaCh7XG4gICAgICBpbmRleDogY2xhc3NpZmljYXRpb24uaW5kZXgsXG4gICAgICBzY29yZTogY2xhc3NpZmljYXRpb24uc2NvcmUsXG4gICAgICBsYWJlbDogY2xhc3NpZmljYXRpb24uaGFzTGFiZWwgPyBjbGFzc2lmaWNhdGlvbi5sYWJlbCA6IHVuZGVmaW5lZCxcbiAgICAgIGRpc3BsYXlOYW1lOiBjbGFzc2lmaWNhdGlvbi5oYXNEaXNwbGF5TmFtZSA/IGNsYXNzaWZpY2F0aW9uLmRpc3BsYXlOYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVDbGFzc2lmaWNhdGlvbnNMaXN0KFxuICAgIGNsYXNzaWZpY2F0aW9uczogc29sdXRpb25zV2FzbS5DbGFzc2lmaWNhdGlvbkxpc3RMaXN0KTpcbiAgICBDbGFzc2lmaWNhdGlvbkxpc3RMaXN0IHtcbiAgY29uc3Qgb3V0cHV0ID0gW107XG4gIGNvbnN0IHJlc3VsdENvdW50ID0gY2xhc3NpZmljYXRpb25zLnNpemUoKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdENvdW50OyArK2luZGV4KSB7XG4gICAgY29uc3QgY2xhc3NpZmljYXRpb24gPSBjbGFzc2lmaWNhdGlvbnMuZ2V0KGluZGV4KTtcbiAgICBvdXRwdXQucHVzaChkZWNvZGVDbGFzc2lmaWNhdGlvbnMoY2xhc3NpZmljYXRpb24pKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVLZXlwb2ludChrZXlwb2ludDogc29sdXRpb25zV2FzbS5LZXlwb2ludCk6IEtleXBvaW50IHtcbiAgcmV0dXJuIHtcbiAgICBpZDoga2V5cG9pbnQuaWQsXG4gICAgcG9pbnQzZDoge1xuICAgICAgeDoga2V5cG9pbnQucG9pbnQzZC54LFxuICAgICAgeToga2V5cG9pbnQucG9pbnQzZC55LFxuICAgICAgejoga2V5cG9pbnQucG9pbnQzZC56LFxuICAgIH0sXG4gICAgcG9pbnQyZDoge1xuICAgICAgeDoga2V5cG9pbnQucG9pbnQyZC54LFxuICAgICAgeToga2V5cG9pbnQucG9pbnQyZC55LFxuICAgICAgZGVwdGg6IGtleXBvaW50LnBvaW50MmQuZGVwdGgsXG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVLZXlwb2ludExpc3QoXG4gICAga2V5cG9pbnRzOiBzb2x1dGlvbnNXYXNtLktleXBvaW50TGlzdCk6IEtleXBvaW50TGlzdCB7XG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuICBjb25zdCByZXN1bHRDb3VudCA9IGtleXBvaW50cy5zaXplKCk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHRDb3VudDsgKytpbmRleCkge1xuICAgIGNvbnN0IGtleXBvaW50ID0ga2V5cG9pbnRzLmdldChpbmRleCk7XG4gICAgb3V0cHV0LnB1c2goZGVjb2RlS2V5cG9pbnQoa2V5cG9pbnQpKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVPYmplY3REZXRlY3Rpb24oXG4gICAgZGV0ZWN0aW9uOiBzb2x1dGlvbnNXYXNtLk9iamVjdERldGVjdGlvbik6IE9iamVjdERldGVjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgaWQ6IGRldGVjdGlvbi5pZCxcbiAgICBrZXlwb2ludHM6IGRlY29kZUtleXBvaW50TGlzdChkZXRlY3Rpb24ua2V5cG9pbnRzKSxcbiAgICB2aXNpYmlsaXR5OiBkZXRlY3Rpb24udmlzaWJpbGl0eSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlT2JqZWN0RGV0ZWN0aW9uTGlzdChcbiAgICBkZXRlY3Rpb25zOiBzb2x1dGlvbnNXYXNtLk9iamVjdERldGVjdGlvbkxpc3QpOiBPYmplY3REZXRlY3Rpb25MaXN0IHtcbiAgY29uc3Qgb3V0cHV0ID0gW107XG4gIGNvbnN0IHJlc3VsdENvdW50ID0gZGV0ZWN0aW9ucy5zaXplKCk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHRDb3VudDsgKytpbmRleCkge1xuICAgIGNvbnN0IGRldGVjdGlvbiA9IGRldGVjdGlvbnMuZ2V0KGluZGV4KTtcbiAgICBvdXRwdXQucHVzaChkZWNvZGVPYmplY3REZXRlY3Rpb24oZGV0ZWN0aW9uKSk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuY2xhc3MgR3JhcGhEYXRhSW1wbCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgICAgcHJpdmF0ZSByZWFkb25seSBncmFwaDogR3JhcGgsIHByaXZhdGUgcmVhZG9ubHkgbG9jYXRlRmlsZTogRmlsZUxvY2F0b3JGbixcbiAgICAgIHByaXZhdGUgcmVhZG9ubHkgcGFja2FnZVBhdGg6IHN0cmluZykge31cblxuICBhc3luYyB0b0FycmF5QnVmZmVyKCk6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcbiAgICBpZiAodGhpcy5ncmFwaC51cmwpIHtcbiAgICAgIGNvbnN0IGZldGNoZWQgPVxuICAgICAgICAgIGF3YWl0IGZldGNoKHRoaXMubG9jYXRlRmlsZSh0aGlzLmdyYXBoLnVybCwgdGhpcy5wYWNrYWdlUGF0aCkpO1xuICAgICAgaWYgKGZldGNoZWQuYm9keSkge1xuICAgICAgICByZXR1cm4gZmV0Y2hlZC5hcnJheUJ1ZmZlcigpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO1xuICB9XG59XG5cbi8qKlxuICogSW5wdXRzIHRvIHRoZSBncmFwaC4gQ3VycmVudGx5IG9ubHkgb25lIGlucHV0LCBhIHZpZGVvIGZyYW1lLCBpc1xuICogcGVybWl0dGVkLCBidXQgdGhpcyBzaG91bGQgZW5jb21wYXNzIGFueSBpbnB1dCBkYXRhIHRvIGEgc29sdXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnJhbWVJbnB1dHMge1xuICB2aWRlbzogSFRNTFZpZGVvRWxlbWVudDtcbn1cblxuLyoqXG4gKiBUaGUgc29sdXRpb24ga2VlcHMgYWxsIG9mIHRoZSBjdXJyZW50IGxpc3RlbmVycy4gVGhlIHVzZXIgY2FuIHBhc3MgdXMgYVxuICogbGlzdGVuZXIgbWFwIGFuZCB0aGVuIGNoYW5nZSB0aGUgZWxlbWVudHMgYXQgYW55IHRpbWUuIFRoZXkgd2lsbCBiZSBwaWNrZWRcbiAqIHVwIG9uIHRoZSBuZXh0IHBhc3MgdGhyb3VnaCBgcHJvY2Vzc0ZyYW1lYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0ZW5lck1hcCB7XG4gIFtrZXk6IHN0cmluZ106IFJlc3VsdE1hcExpc3RlbmVyfHVuZGVmaW5lZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaXNTdXBwb3J0ZWRTaW1kKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICB0cnkge1xuICAgIGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKFdBU01fU0lNRF9DSEVDSyk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBNZWRpYVBpcGUgU29sdXRpb24gdXBvbiB3aGljaCBhbGwgc3BlY2lmaWMgc29sdXRpb25zIHdpbGwgYmUgYnVpbHQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTb2x1dGlvbiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgcGFja2FnZVBhdGg6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBsb2NhdGVGaWxlOiBGaWxlTG9jYXRvckZuO1xuICBwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyczogTGlzdGVuZXJNYXAgPSB7fTtcbiAgcHJpdmF0ZSByZWFkb25seSBpblN0cmVhbUhlbHBlcnM6IHN0cmVhbUhlbHBlcnMuU3RyZWFtSGVscGVyTWFwID0ge307XG4gIHByaXZhdGUgcmVhZG9ubHkgb3V0U3RyZWFtSGVscGVyczogc3RyZWFtSGVscGVycy5TdHJlYW1IZWxwZXJNYXAgPSB7fTtcblxuICAvLyBCRUdJTjogQXNzaWduZWQgZHVyaW5nIGluaXRpYWxpemVXYXNtLi4uXG4gIHByaXZhdGUgZ2xDYW52YXMhOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHJpdmF0ZSBnbCE6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XG4gIHByaXZhdGUgd2FzbSE6IHNvbHV0aW9uc1dhc20uTWVkaWFwaXBlV2FzbTtcbiAgcHJpdmF0ZSBzb2x1dGlvbldhc20hOiBzb2x1dGlvbnNXYXNtLlNvbHV0aW9uV2FzbTtcbiAgLy8gRU5EOiBBc3NpZ25lZCBkdXJpbmcgaW5pdGlhbGl6ZVdhc20uLi5cblxuICBwcml2YXRlIHBlbmRpbmdDaGFuZ2VzPzogc29sdXRpb25zV2FzbS5HcmFwaE9wdGlvbkNoYW5nZVJlcXVlc3RbXTtcblxuICBwcml2YXRlIG5lZWRUb0luaXRpYWxpemVXYXNtID0gdHJ1ZTtcbiAgcHJpdmF0ZSBuZWVkVG9Jbml0aWFsaXplR3JhcGggPSB0cnVlO1xuXG4gIHByaXZhdGUgcnVubmluZ1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogU29sdXRpb25Db25maWcpIHtcbiAgICB0aGlzLmxvY2F0ZUZpbGUgPSAoY29uZmlnICYmIGNvbmZpZy5sb2NhdGVGaWxlKSB8fCBkZWZhdWx0TG9jYXRlRmlsZTtcbiAgICB0aGlzLnBhY2thZ2VQYXRoID0gZ2V0UGFja2FnZVBhdGgoKTtcbiAgfVxuXG4gIGNsb3NlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnNvbHV0aW9uV2FzbSkge1xuICAgICAgdGhpcy5zb2x1dGlvbldhc20uZGVsZXRlKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhbGwgb2YgdGhlIGRlcGVuZGVudCBXQVNNIGZpbGVzLiBUaGlzIGlzIGhlYXZ5LCBzbyB3ZSBtYWtlIHN1cmUgdG9cbiAgICogb25seSBkbyB0aGlzIG9uY2UuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHRyeVRvSW5pdGlhbGl6ZVdhc20oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLm5lZWRUb0luaXRpYWxpemVXYXNtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFNldCB1cCB0aGUgZmlsZSBsb2FkZXIgZm9yIGJvdGggZXh0ZXJuYWwgbG9hZGVycy5cbiAgICBzZXRXaW5kb3coQVBJX0VYUE9SVF9OQU1FLCB7bG9jYXRlRmlsZTogdGhpcy5sb2NhdGVGaWxlfSk7XG4gICAgc2V0V2luZG93KFBBQ0tfRVhQT1JUX05BTUUsIHtsb2NhdGVGaWxlOiB0aGlzLmxvY2F0ZUZpbGV9KTtcblxuICAgIGNvbnN0IGZpbGVzID0gKHRoaXMuY29uZmlnLmZpbGVzKSB8fCBbXTtcbiAgICBjb25zdCBzdXBwb3J0c1NpbWQgPSBhd2FpdCBpc1N1cHBvcnRlZFNpbWQoKTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsKGZpbGVzLm1hcCh4ID0+IHtcbiAgICAgIGNvbnN0IGRvTG9hZCA9ICh4LnNpbWQgPT09IHVuZGVmaW5lZCkgfHwgKHguc2ltZCAmJiBzdXBwb3J0c1NpbWQpIHx8XG4gICAgICAgICAgKCF4LnNpbWQgJiYgIXN1cHBvcnRzU2ltZCk7XG4gICAgICBpZiAoZG9Mb2FkKSB7XG4gICAgICAgIHJldHVybiBsb2FkU2NyaXB0KHRoaXMubG9jYXRlRmlsZSh4LnVybCwgdGhpcy5wYWNrYWdlUGF0aCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0pKTtcblxuICAgIC8vIFRoZSB2YXJpYWJsZXMgd2Ugc2V0IGVhcmxpZXIgd2lsbCBub3QgYmUgbXV0YXRlZCwgZWFjaCBhY2NvcmRpbmcgdG8gaXRzXG4gICAgLy8gcmVsYXRlZCBsb2FkZXIuXG4gICAgY29uc3QgYXBpRm4gPSBnZXRXaW5kb3coQVBJX0VYUE9SVF9OQU1FKSBhcyBzb2x1dGlvbnNXYXNtLkFwaVByb21pc2VGbjtcbiAgICBjb25zdCBwYWNrRm4gPSBnZXRXaW5kb3coUEFDS19FWFBPUlRfTkFNRSkgYXMgc29sdXRpb25zV2FzbS5QYWNrTG9hZGVyO1xuXG4gICAgLy8gTm93IHRoYXQgZXZlcnl0aGluZyBpcyBsb2FkZWQgYW5kIG11dGF0ZWQsIHdlIGNhbiBmaW5hbGx5IGluaXRpYWxpemVcbiAgICAvLyB0aGUgV0FTTSBsb2FkZXIgd2l0aCB0aGUgcGFjayBsb2FkZXIuIFRoZSBXQVNNIGxvYWRlciB3aWxsIHdhaXQgdW50aWxcbiAgICAvLyBhbGwgb2YgdGhlIGZpbGVzIGluIHRoZSBwYWNrIGxvYWRlciBhcmUgY29tcGxldGUgYmVmb3JlIHJlc29sdmluZyBpdHNcbiAgICAvLyBQcm9taXNlLlxuICAgIHRoaXMud2FzbSA9IGF3YWl0IGFwaUZuKHBhY2tGbik7XG5cbiAgICAvLyBUT0RPKG1oYXlzKTogRGV2ZWxvcGVyIHNob3VsZCBiZSBhYmxlIHRvIGV4cGxpY2l0bHkgbG9hZC91bmxvYWQgYVxuICAgIC8vIHNvbHV0aW9uIHRvIHByZXZlbnQgc3RlYWxpbmcgYWxsIG9mIHRoZSBXZWJHTCByZXNvdXJjZXMgKGUuZy4sIENocm9tZVxuICAgIC8vIG1heSBsaW1pdCB0aGUgbnVtYmVyIG9mIFdlYkdMIGNvbnRleHRzIGJ5IGRvbWFpbikuXG5cbiAgICAvLyBUaGlzIGlzIHRoZSBzaW5nbGUgY2FudmFzIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBhbGwgdGV4dHVyZSB0cmFuc2ZlclxuICAgIC8vIHRvIGFuZCBmcm9tIHRoZSBiYWNrIGVuZC5cbiAgICB0aGlzLmdsQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy53YXNtLmNhbnZhcyA9IHRoaXMuZ2xDYW52YXM7XG5cbiAgICB0aGlzLndhc20uY3JlYXRlQ29udGV4dChcbiAgICAgICAgdGhpcy5nbENhbnZhcywgLyogdXNlV2ViR2w9ICovIHRydWUsXG4gICAgICAgIC8qIHNldEluTW9kdWxlPSAqLyB0cnVlLCB7fSk7XG5cbiAgICAvLyBUaGUgZ3JhcGggb25seSBuZWVkcyB0byBiZSBsb2FkZWQgb25jZSBpbnRvIHRoZSBzb2x1dGlvbiwgYnV0IHRoZSBXQVNNXG4gICAgLy8gbWlnaHQgcmUtaW5pdGlhbGl6ZSB0aGUgc29sdXRpb24sIGFuZCB0aGF0IHdpbGwgc3BlY2lmaWNhbGx5IGhhcHBlblxuICAgIC8vIGR1cmluZyB3YXNtLlByb2Nlc3NGcmFtZS5cbiAgICB0aGlzLnNvbHV0aW9uV2FzbSA9IG5ldyB0aGlzLndhc20uU29sdXRpb25XYXNtKCk7XG4gICAgY29uc3QgZ3JhcGhEYXRhID1cbiAgICAgICAgbmV3IEdyYXBoRGF0YUltcGwodGhpcy5jb25maWcuZ3JhcGgsIHRoaXMubG9jYXRlRmlsZSwgdGhpcy5wYWNrYWdlUGF0aCk7XG4gICAgYXdhaXQgdGhpcy5sb2FkR3JhcGgoZ3JhcGhEYXRhKTtcblxuICAgIC8vIExpc3RlbmVycyBtb2RpZnkgdGhlIGdyYXBoIGNvbmZpZyBpbnRlcm5hbGx5LCBzbyBncmFwaCBsaXN0ZW5lcnMgYXJlXG4gICAgLy8gYXR0YWNoZWQgb25seSBvbmNlLiBVc2VycyBhcmUgZnJlZSB0byBjb25uZWN0IGFuZCBkaXNjb25uZWN0IGNhbGxiYWNrc1xuICAgIC8vIHRvIHRoZXNlIGxpc3RlbmVycyBhcyBuZWVkZWQuXG4gICAgaWYgKHRoaXMuY29uZmlnLmxpc3RlbmVycykge1xuICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmNvbmZpZy5saXN0ZW5lcnMpIHtcbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lclBvcnQobGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubmVlZFRvSW5pdGlhbGl6ZVdhc20gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBvcHRpb25zIGZvciB0aGUgZ3JhcGgsIHBvdGVudGlhbGx5IHRyaWdnZXJpbmcgYSByZWluaXRpYWxpemUuXG4gICAqIFRoZSB0cmlnZ2VyaW5nIGlzIGNvbnRpbmdlbnQgdXBvbiB0aGUgb3B0aW9ucyBtYXRjaGluZyB0aG9zZSBzZXQgdXAgaW5cbiAgICogdGhlIHNvbHV0aW9uIGNvbmZpZ3VyYXRpb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIGluaXRpYWxpemUgaXMgc2V0IHRvIHJ1blxuICAgKiBvbiB0aGUgbmV4dCBwcm9jZXNzRnJhbWUuXG4gICAqXG4gICAqIFdlIGRvIG5vdCBjcmVhdGUgYSBXQVNNIG9iamVjdCBoZXJlLCBiZWNhdXNlIGl0J3MgcG9zc2libGUgKGxpa2VseSkgdGhhdFxuICAgKiBXQVNNIGhhcyBub3QgbG9hZGVkIHlldCAoaS5lLiwgdGhlIHVzZXIgY2FsbHMgc2V0T3B0aW9ucyBiZWZvcmUgY2FsbGluZ1xuICAgKiBwcm9jZXNzRnJhbWUgLyBpbml0aWFsaXplKS4gIFdlJ2xsIGRvIHRoYXQgZHVyaW5nIGluaXRpYWxpemUgd2hlbiB3ZSBrbm93XG4gICAqIGl0J3Mgc2FmZS5cbiAgICovXG4gIHNldE9wdGlvbnMob3B0aW9uczogT3B0aW9uTGlzdCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb25maWcub3B0aW9ucykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwZW5kaW5nQ2hhbmdlczogc29sdXRpb25zV2FzbS5HcmFwaE9wdGlvbkNoYW5nZVJlcXVlc3RbXSA9IFtdO1xuICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIE9iamVjdC5rZXlzKG9wdGlvbnMpKSB7XG4gICAgICAvLyBMb29rIGVhY2ggb3B0aW9uIGluIHRoZSBvcHRpb24gY29uZmlnLlxuICAgICAgY29uc3Qgb3B0aW9uQ29uZmlnID0gdGhpcy5jb25maWcub3B0aW9uc1tvcHRpb25dO1xuICAgICAgaWYgKG9wdGlvbkNvbmZpZykge1xuICAgICAgICBpZiAob3B0aW9uQ29uZmlnLmdyYXBoT3B0aW9uWHJlZikge1xuICAgICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0ge1xuICAgICAgICAgICAgdmFsdWVOdW1iZXI6IG9wdGlvbkNvbmZpZy50eXBlID09PSBPcHRpb25UeXBlLk5VTUJFUiA/XG4gICAgICAgICAgICAgICAgb3B0aW9uc1tvcHRpb25dIGFzIG51bWJlciA6XG4gICAgICAgICAgICAgICAgMC4wLFxuICAgICAgICAgICAgdmFsdWVCb29sZWFuOiBvcHRpb25Db25maWcudHlwZSA9PT0gT3B0aW9uVHlwZS5CT09MID9cbiAgICAgICAgICAgICAgICBvcHRpb25zW29wdGlvbl0gYXMgYm9vbGVhbiA6XG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRzID0ge2NhbGN1bGF0b3JOYW1lOiAnJywgY2FsY3VsYXRvckluZGV4OiAwfTtcbiAgICAgICAgICAvLyBDb21iaW5lIHRoZSB4cmVmIHdpdGggdGhlIHZhbHVlLiBUaGlzIGlzIHdoYXQgdGhlIFdBU00gd2lsbCBiZVxuICAgICAgICAgIC8vIGV4cGVjdGluZy5cbiAgICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgLi4uZGVmYXVsdHMsXG4gICAgICAgICAgICAuLi5vcHRpb25Db25maWcuZ3JhcGhPcHRpb25YcmVmLFxuICAgICAgICAgICAgLi4ub3B0aW9uVmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICAgIHBlbmRpbmdDaGFuZ2VzLnB1c2gocmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGVuZGluZ0NoYW5nZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aGlzLm5lZWRUb0luaXRpYWxpemVHcmFwaCA9IHRydWU7XG4gICAgICB0aGlzLnBlbmRpbmdDaGFuZ2VzID0gcGVuZGluZ0NoYW5nZXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBncmFwaCBpcyBpdCBoYXMgbm90IGJlZW4gbG9hZGVkLCBvciBoYXMgYmVlbiB0cmlnZ2VyZWQgdG9cbiAgICogcmVsb2FkIChzZXRPcHRpb25zIHdhcyBjYWxsZWQgd2hpbGUgdGhlIGdyYXBoIHdhcyBydW5uaW5nKS5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgdHJ5VG9Jbml0aWFsaXplR3JhcGgoKSB7XG4gICAgaWYgKCF0aGlzLm5lZWRUb0luaXRpYWxpemVHcmFwaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBNb3ZlIHRoZSB2aWRlbyBmcmFtZSBpbnRvIHRoZSB0ZXh0dXJlLlxuICAgIGNvbnN0IGdsID0gdGhpcy5nbENhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInKTtcbiAgICBpZiAoIWdsKSB7XG4gICAgICBhbGVydCgnRmFpbGVkIHRvIGNyZWF0ZSBXZWJHTCBjYW52YXMgY29udGV4dCB3aGVuIHBhc3NpbmcgdmlkZW8gZnJhbWUuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8vIENoYW5naW5nIG9wdGlvbnMgb24gdGhlIGdyYXBoIHdpbGwgbXV0YXRlIHRoZSBncmFwaCBjb25maWcuXG4gICAgaWYgKHRoaXMucGVuZGluZ0NoYW5nZXMpIHtcbiAgICAgIGNvbnN0IGNoYW5nZUxpc3QgPSBuZXcgdGhpcy53YXNtLkdyYXBoT3B0aW9uQ2hhbmdlUmVxdWVzdExpc3QoKTtcbiAgICAgIGZvciAoY29uc3QgY2hhbmdlIG9mIHRoaXMucGVuZGluZ0NoYW5nZXMpIHtcbiAgICAgICAgY2hhbmdlTGlzdC5wdXNoX2JhY2soY2hhbmdlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc29sdXRpb25XYXNtLmNoYW5nZU9wdGlvbnMoY2hhbmdlTGlzdCk7XG4gICAgICBjaGFuZ2VMaXN0LmRlbGV0ZSgpO1xuICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlcyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aGlzLm5lZWRUb0luaXRpYWxpemVHcmFwaCA9IGZhbHNlO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnRyeVRvSW5pdGlhbGl6ZVdhc20oKTtcbiAgICBhd2FpdCB0aGlzLnRyeVRvSW5pdGlhbGl6ZUdyYXBoKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRHcmFwaChncmFwaDogR3JhcGhEYXRhKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZ3JhcGhEYXRhID0gYXdhaXQgZ3JhcGgudG9BcnJheUJ1ZmZlcigpO1xuICAgIHRoaXMuc29sdXRpb25XYXNtLmxvYWRHcmFwaChncmFwaERhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZXMgdGhlICd0eXBlJyBmaWVsZCBvZiB0aGUgaW5wdXQgY29uZmlnIHRvIHR1cm4gdGhlIGB1bmtub3duYCBpbnB1dCBpbnRvXG4gICAqIHNvbWV0aGluZyB1c2FibGUgYnkgdGhlIGJhY2sgZW5kLiAgSW4gZ2VuZXJhbCwgd2UgYXJlIHVzaW5nIGVtc2NyaXB0ZW5cbiAgICogZW1iaW5kJ3MgdmFsdWVfb2JqZWN0IHRvIGVmZmVjdCB0aGUgdHJhbnNmZXIsIHNvIHRoZSBkYXRhIG11c3QgYmUgc2ltcGx5XG4gICAqIG1hcnNoYWxhYmxlLlxuICAgKi9cbiAgcHJpdmF0ZSBwcmVwYXJlSW5wdXQoY29uZmlnOiBJbnB1dENvbmZpZywgaW5wdXQ6IHVua25vd24pOiBvYmplY3Qge1xuICAgIHN3aXRjaCAoY29uZmlnLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgbGV0IGhlbHBlciA9IHRoaXMuaW5TdHJlYW1IZWxwZXJzW2NvbmZpZy5zdHJlYW1dIGFzXG4gICAgICAgICAgICBzdHJlYW1IZWxwZXJzLkltYWdlU3RyZWFtSGVscGVyO1xuICAgICAgICBpZiAoIWhlbHBlcikge1xuICAgICAgICAgIGhlbHBlciA9IG5ldyBzdHJlYW1IZWxwZXJzLkltYWdlU3RyZWFtSGVscGVyKHRoaXMud2FzbSwgdGhpcy5nbCk7XG4gICAgICAgICAgdGhpcy5pblN0cmVhbUhlbHBlcnNbY29uZmlnLnN0cmVhbV0gPSBoZWxwZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlbHBlci5lbmNvZGUoaW5wdXQgYXMgSW5wdXRJbWFnZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gc2VuZCBvbmUgb3IgbW9yZSBpbnB1dHMgdG8gdGhlIGdyYXBoLiBUaGUgZ3JhcGggd2lsbFxuICAgKiBydW4gYW5kIHBvdGVudGlhbGx5IHByb2R1Y2Ugb3V0cHV0cyBmb3IgYW55IGF0dGFjaGVkIGxpc3RlbmVycy4gVGhlIGRhdGFcbiAgICogdGhhdCBhIGphdmFzY3JpcHQgdXNlciBzdXBwbGllcyBuZWVkcyB0byBiZSBjb25kaXRpb25lZCBmb3IgdXNlIGJ5XG4gICAqIG1lZGlhcGlwZSwgYW5kIHRob3NlIGRldGFpbHMgYXJlIGhpZGRlbiBhd2F5IChzZWUgYHByZXBhcmVJbnB1dGApLlxuICAgKiBAcGFyYW0gYXQgVGltZXN0YW1wIGluIG1zLCBpZiB1bmRlZmluZWQsIHdlJ2xsIHVzZSBwZXJmb3JtYW5jZS5ub3coKS5cbiAgICovXG4gIGFzeW5jIHNlbmQoaW5wdXRzOiBJbnB1dE1hcCwgYXQ/OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmlucHV0cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0aW1lc3RhbXAgPSAxMDAwICogKGF0IHx8IHBlcmZvcm1hbmNlLm5vdygpKTtcblxuICAgIGF3YWl0IHRoaXMucnVubmluZ1Byb21pc2U7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgY29uc3QgZGF0YVZhbHVlTGlzdCA9IG5ldyB0aGlzLndhc20uUGFja2V0RGF0YUxpc3QoKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhpbnB1dHMpKSB7XG4gICAgICBjb25zdCBpbnB1dENvbmZpZyA9IHRoaXMuY29uZmlnLmlucHV0c1trZXldO1xuICAgICAgaWYgKGlucHV0Q29uZmlnKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgc3VwcG9ydCB0ZXh0dXJlMmQgYXQgdGhlIG1vbWVudCwgYnV0IG9uY2Ugd2Ugc3VwcG9ydCBtb3JlLFxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgYSBzd2l0Y2ggc3RhdGVtZW50IHNvIHRoYXQgd2UgY2FsbCB0aGUgY29ycmVjdCBwdXNoXG4gICAgICAgIC8vIG1ldGhvZC5cbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLnByZXBhcmVJbnB1dChpbnB1dENvbmZpZywgaW5wdXRzW2tleV0pO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBpbnB1dENvbmZpZy5zdHJlYW07XG4gICAgICAgIGRhdGFWYWx1ZUxpc3QucHVzaFRleHR1cmUyZChcbiAgICAgICAgICAgIHsuLi5pbnB1dCwgc3RyZWFtLCB0aW1lc3RhbXB9IGFzIHNvbHV0aW9uc1dhc20uVGV4dHVyZTJkRGF0YSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc29sdXRpb25XYXNtLnNlbmQoZGF0YVZhbHVlTGlzdCk7XG4gICAgZGF0YVZhbHVlTGlzdC5kZWxldGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgdHJhbnNmb3JtT3V0cHV0cyhyZXN1bHRzOiBXYXNtUmVzdWx0TWFwLCBjb25maWdNYXA/OiBPdXRwdXRDb25maWdNYXApOlxuICAgICAgUmVzdWx0TWFwIHtcbiAgICBpZiAoIWNvbmZpZ01hcCkge1xuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIGNvbnN0IG91dHB1dHM6IFJlc3VsdE1hcCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGNvbmZpZ01hcCkpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ01hcFtrZXldO1xuICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG91dHB1dHNba2V5XSA9IHRoaXMuZXh0cmFjdFdhc21SZXN1bHQoa2V5LCByZXN1bHRzW2NvbmZpZ10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzdWx0c1tjb25maWcuc3RyZWFtXTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy50eXBlID09PSAnZGV0ZWN0aW9uX2xpc3QnKSB7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gZGVjb2RlRGV0ZWN0aW9uTGlzdChyZXN1bHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy50eXBlID09PSAnbGFuZG1hcmtzJykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0LmdldExhbmRtYXJrcygpO1xuICAgICAgICAgIG91dHB1dHNba2V5XSA9IHZhbHVlID8gZGVjb2RlTGFuZG1hcmtzKHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2xhbmRtYXJrc19saXN0Jykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0LmdldExhbmRtYXJrc0xpc3QoKTtcbiAgICAgICAgICBvdXRwdXRzW2tleV0gPSB2YWx1ZSA/IGRlY29kZUxhbmRtYXJrc0xpc3QodmFsdWUpIDogdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy50eXBlID09PSAncmVjdF9saXN0Jykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0LmdldFJlY3RMaXN0KCk7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gdmFsdWUgPyBkZWNvZGVSZWN0TGlzdCh2YWx1ZSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnR5cGUgPT09ICdjbGFzc2lmaWNhdGlvbnNfbGlzdCcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3VsdC5nZXRDbGFzc2lmaWNhdGlvbnNMaXN0KCk7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gdmFsdWUgPyBkZWNvZGVDbGFzc2lmaWNhdGlvbnNMaXN0KHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ29iamVjdF9kZXRlY3Rpb25fbGlzdCcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3VsdC5nZXRPYmplY3REZXRlY3Rpb25MaXN0KCk7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gdmFsdWUgPyBkZWNvZGVPYmplY3REZXRlY3Rpb25MaXN0KHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ3RleHR1cmUnKSB7XG4gICAgICAgICAgbGV0IGhlbHBlciA9XG4gICAgICAgICAgICAgIHRoaXMub3V0U3RyZWFtSGVscGVyc1trZXldIGFzIHN0cmVhbUhlbHBlcnMuSW1hZ2VTdHJlYW1IZWxwZXI7XG4gICAgICAgICAgaWYgKCFoZWxwZXIpIHtcbiAgICAgICAgICAgIGhlbHBlciA9IG5ldyBzdHJlYW1IZWxwZXJzLkltYWdlU3RyZWFtSGVscGVyKHRoaXMud2FzbSwgdGhpcy5nbCk7XG4gICAgICAgICAgICB0aGlzLm91dFN0cmVhbUhlbHBlcnNba2V5XSA9IGhlbHBlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gaGVscGVyLmRlY29kZShyZXN1bHQuZ2V0VGV4dHVyZTJkKCkhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0IGNvbmZpZyB0eXBlOiAnJHtjb25maWcudHlwZX0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy50cmFuc2Zvcm0gJiYgb3V0cHV0c1trZXldKSB7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gY29uZmlnLnRyYW5zZm9ybShvdXRwdXRzW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIGNvbGxlY3Rpb24gb2YgcmVzdWx0cy4gVGhpcyB0cmllcyB0byBhdXRvZGV0ZWN0XG4gICAqIHRoZSB0eXBlIGFuZCBkb2VzIG5vIHRyYW5zZm9ybWF0aW9uLiBBcnJheXMgd2lsbCBoYXZlIHRoZSBzbGlnaHRseSBtb3JlXG4gICAqIGF3a3dhcmQgZW1zY3JpcHRlbiBhY2Nlc3NvcnMuXG4gICAqIEBUT0RPKG1oYXlzKSBEZXByZWNhdGUgdGhpcyBtZXRob2QgYW5kIGFsd2F5cyBzcGVjaWZ5IHRoZSB0eXBlLlxuICAgKi9cbiAgcHJpdmF0ZSBleHRyYWN0V2FzbVJlc3VsdChzdHJlYW06IHN0cmluZywgcmVzdWx0OiBzb2x1dGlvbnNXYXNtLlJlc3VsdFdhc20pOlxuICAgICAgdW5rbm93biB7XG4gICAgaWYgKHJlc3VsdC5pc051bWJlcigpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldE51bWJlcigpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmlzUmVjdCgpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldFJlY3QoKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5pc0xhbmRtYXJrcygpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldExhbmRtYXJrcygpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmlzTGFuZG1hcmtzTGlzdCgpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldExhbmRtYXJrc0xpc3QoKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5pc0NsYXNzaWZpY2F0aW9uc0xpc3QoKSkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5nZXRDbGFzc2lmaWNhdGlvbnNMaXN0KCk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQuaXNPYmplY3REZXRlY3Rpb25MaXN0KCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQuZ2V0T2JqZWN0RGV0ZWN0aW9uTGlzdCgpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmlzVGV4dHVyZTJkKCkpIHtcbiAgICAgIGxldCBoZWxwZXIgPVxuICAgICAgICAgIHRoaXMub3V0U3RyZWFtSGVscGVyc1tzdHJlYW1dIGFzIHN0cmVhbUhlbHBlcnMuSW1hZ2VTdHJlYW1IZWxwZXI7XG4gICAgICBpZiAoIWhlbHBlcikge1xuICAgICAgICBoZWxwZXIgPSBuZXcgc3RyZWFtSGVscGVycy5JbWFnZVN0cmVhbUhlbHBlcih0aGlzLndhc20sIHRoaXMuZ2wpO1xuICAgICAgICB0aGlzLm91dFN0cmVhbUhlbHBlcnNbc3RyZWFtXSA9IGhlbHBlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWxwZXIuZGVjb2RlKHJlc3VsdC5nZXRUZXh0dXJlMmQoKSEpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBncmFwaCBwcm9kdWNlc1xuICAgKiBjb21wYXRpYmxlIHBhY2tldHMgb24gdGhlIG5hbWVkIHN0cmVhbS5cbiAgICovXG4gIHByaXZhdGUgYWRkTGlzdGVuZXJQb3J0KHBvcnQ6IExpc3RlbmVyUG9ydCk6IHZvaWQge1xuICAgIGNvbnN0IHBvcnROYW1lID0gcG9ydC5uYW1lIHx8IERFRkFVTFRfUE9SVF9OQU1FO1xuICAgIGNvbnN0IHdhbnRzQ29weSA9IFsuLi5wb3J0LndhbnRzXTtcbiAgICBjb25zdCB3YW50c1ZlY3RvciA9IG5ldyB0aGlzLndhc20uU3RyaW5nTGlzdCgpO1xuICAgIGZvciAoY29uc3Qgd2FudCBvZiBwb3J0LndhbnRzKSB7XG4gICAgICB3YW50c1ZlY3Rvci5wdXNoX2JhY2sod2FudCk7XG4gICAgfVxuICAgIGNvbnN0IHdhc21MaXN0ZW5lciA9IHtcbiAgICAgIG9uUmVzdWx0czogYXN5bmModmFsdWVzOiBzb2x1dGlvbnNXYXNtLlJlc3VsdFdhc21MaXN0KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IHdhc21SZXN1bHRzOiBXYXNtUmVzdWx0TWFwID0ge307XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwb3J0LndhbnRzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgIHdhc21SZXN1bHRzW3dhbnRzQ29weVtpbmRleF1dID0gdmFsdWVzLmdldChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMudHJhbnNmb3JtT3V0cHV0cyh3YXNtUmVzdWx0cywgcG9ydC5vdXRzKTtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSB0aGlzLmxpc3RlbmVyc1twb3J0TmFtZV07XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgIGF3YWl0IHRoaXMucnVubmluZ1Byb21pc2U7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gbGlzdGVuZXIocmVzdWx0cyk7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nUHJvbWlzZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwYWNrZXRMaXN0ZW5lciA9IHRoaXMud2FzbS5QYWNrZXRMaXN0ZW5lci5pbXBsZW1lbnQod2FzbUxpc3RlbmVyKTtcbiAgICB0aGlzLnNvbHV0aW9uV2FzbS5hdHRhY2hNdWx0aUxpc3RlbmVyKHdhbnRzVmVjdG9yLCBwYWNrZXRMaXN0ZW5lcik7XG4gICAgd2FudHNWZWN0b3IuZGVsZXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogVXNlIHRoaXMgdG8gY29ubmVjdCB1cCB0byBvbmUgbGlzdGVuZXIgcGVyIHBvcnQgbmFtZS4gSWYgcG9ydCBpcyB1bmRlZmluZWQsXG4gICAqIHdoaWNoIHNob3VsZCBiZSB0aGUgY2FzZSBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgZGVmYXVsdCBwb3J0IGlzXG4gICAqIHVzZWQuXG4gICAqL1xuICBvblJlc3VsdHMobGlzdGVuZXI6IFJlc3VsdE1hcExpc3RlbmVyLCBwb3J0Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgcG9ydCA9IHBvcnQgfHwgREVGQVVMVF9QT1JUX05BTUU7XG4gICAgdGhpcy5saXN0ZW5lcnNbcG9ydF0gPSBsaXN0ZW5lcjtcbiAgfVxufVxuXG5nb29nLmV4cG9ydFN5bWJvbCgnU29sdXRpb24nLCBTb2x1dGlvbik7XG5nb29nLmV4cG9ydFN5bWJvbCgnT3B0aW9uVHlwZScsIE9wdGlvblR5cGUpO1xuIl19
+;return exports;});
+
+//third_party/mediapipe/web/solutions/test_harness/test_harness.closure.js
+goog.loadModule(function(exports) {'use strict';goog.module('google3.third_party.mediapipe.web.solutions.test_harness.test_harness');
+var module = module || { id: 'third_party/mediapipe/web/solutions/test_harness/test_harness.closure.js' };
+const tslib_1 = goog.require('google3.third_party.javascript.tslib.tslib');
+/**
+ *
+ * @fileoverview The test harness allows a user to describe a MediaPipe graph,
+ * along with the expectations of that graph, and then test those expectations
+ * through a test harness (WebDriver, e.g.).  We do this by building up the
+ * entire test in a web page based on the specs.
+ *
+ * Generated from: third_party/mediapipe/web/solutions/test_harness/test_harness.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+const tsickle_solutions_api_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.solutions_api");
+const solutionsApi = goog.require('google3.third_party.mediapipe.web.solutions.solutions_api');
+/**
+ * A DIV with class .test will have COMPLETE when the test completes.
+ * @type {string}
+ */
+exports.COMPLETE = 'COMPLETE';
+/**
+ * A DIV with class .test will have INCOMPLETE until the test completes.
+ * @type {string}
+ */
+exports.INCOMPLETE = 'INCOMPLETE';
+/**
+ * Describes one item (stream) of a graph.
+ * @record
+ */
+function TestItemEntry() { }
+exports.TestItemEntry = TestItemEntry;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    TestItemEntry.prototype.name;
+    /** @type {string} */
+    TestItemEntry.prototype.type;
+    /** @type {(undefined|number)} */
+    TestItemEntry.prototype.tolerance;
+    /** @type {(undefined|string)} */
+    TestItemEntry.prototype.src;
+    /** @type {(undefined|*)} */
+    TestItemEntry.prototype.data;
+    /** @type {(undefined|string)} */
+    TestItemEntry.prototype.dataFile;
+    /** @type {(undefined|string)} */
+    TestItemEntry.prototype.dataPattern;
+    /** @type {(undefined|!HTMLImageElement|!HTMLDivElement)} */
+    TestItemEntry.prototype.element;
+    /** @type {(undefined|function(): *)} */
+    TestItemEntry.prototype.getValue;
+    /** @type {(undefined|function(*): !Promise<void>)} */
+    TestItemEntry.prototype.render;
+    /** @type {(undefined|function(!TestItemEntry): !Promise<(undefined|string)>)} */
+    TestItemEntry.prototype.validate;
+}
+/**
+ * Supports extra options for each test case.
+ * @record
+ */
+function TestCaseOptions() { }
+exports.TestCaseOptions = TestCaseOptions;
+/* istanbul ignore if */
+if (false) {
+    /** @type {(undefined|number)} */
+    TestCaseOptions.prototype.warmup;
+}
+/**
+ * Describes a test.
+ * TODO(mhays): Collapse 'outputs' into 'expects'.
+ * @record
+ */
+function TestCase() { }
+exports.TestCase = TestCase;
+/* istanbul ignore if */
+if (false) {
+    /** @type {!Array<!TestItemEntry>} */
+    TestCase.prototype.inputs;
+    /** @type {!Array<!TestItemEntry>} */
+    TestCase.prototype.expects;
+    /** @type {!Array<!TestItemEntry>} */
+    TestCase.prototype.outputs;
+    /** @type {(undefined|!TestCaseOptions)} */
+    TestCase.prototype.options;
+}
+/**
+ * Desribes a complete test that will be run by a harness.
+ * @record
+ */
+function TestConfig() { }
+exports.TestConfig = TestConfig;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    TestConfig.prototype.name;
+    /** @type {(undefined|string)} */
+    TestConfig.prototype.binarypb;
+    /** @type {(undefined|!tsickle_solutions_api_1.SolutionConfig)} */
+    TestConfig.prototype.solution;
+    /** @type {(undefined|!TestCase)} */
+    TestConfig.prototype.test;
+    /** @type {(undefined|string)} */
+    TestConfig.prototype.solutionUrl;
+    /** @type {(undefined|string)} */
+    TestConfig.prototype.testUrl;
+}
+/**
+ * Gives the message queue a chance to empty. Run this if you are depenedent on
+ * changes propogating into the DOM.
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function flushDom() {
+    return new Promise((/**
+     * @param {function((void|!PromiseLike<void>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        setTimeout((/**
+         * @return {!Promise<void>}
+         */
+        () => tslib_1.__awaiter(this, void 0, void 0, function* () {
+            resolve();
+        })), 0);
+    }));
+}
+/**
+ * Defines the solution under test.
+ */
+class TestSolution {
+    /**
+     * @param {!tsickle_solutions_api_1.SolutionConfig} config
+     */
+    constructor(config) {
+        this.solution = new solutionsApi.Solution(config);
+    }
+    /**
+     * Shuts down the object. Call before creating a new instance.
+     * @return {!Promise<void>}
+     */
+    close() {
+        this.solution.close();
+        return Promise.resolve();
+    }
+    /**
+     * Initializes the solution. This includes loading ML models and mediapipe
+     * configurations, as well as setting up potential listeners for metadata. If
+     * `initialize` is not called manually, then it will be called the first time
+     * the developer calls `send`.
+     * @return {!Promise<!TestSolution>}
+     */
+    initialize() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            yield this.solution.initialize();
+            return this;
+        });
+    }
+    /**
+     * Sends inputs to the solution. The developer can await the results, which
+     * resolves when the graph and any listeners have completed.
+     * @param {!tsickle_solutions_api_1.InputMap} inputs
+     * @return {!Promise<void>}
+     */
+    send(inputs) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            yield this.solution.send(inputs);
+        });
+    }
+    /**
+     * Registers a single callback that will carry any results that occur
+     * after calling Send().
+     * @param {function(!tsickle_solutions_api_1.ResultMap): (void|!Promise<void>)} listener
+     * @return {void}
+     */
+    onResults(listener) {
+        this.solution.onResults(listener);
+    }
+}
+exports.TestSolution = TestSolution;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {!tsickle_solutions_api_1.Solution}
+     * @private
+     */
+    TestSolution.prototype.solution;
+}
+/**
+ * Used to store data into the textContent of a DIV tag via JSON.stringigy.
+ *
+ * Solves a disparity between primitives and objects.  JSON.stringify does not
+ * work on number | string | boolean, but if we assign it to the data field of
+ * an object, then we can use JSON.stringify normally..
+ * @record
+ */
+function DataHolder() { }
+/* istanbul ignore if */
+if (false) {
+    /** @type {*} */
+    DataHolder.prototype.data;
+}
+/**
+ * Create a string representation of a value. Primitives will be rendered
+ * through string interpolation, objects will be rendered via JSON.stringify.
+ * @param {*} value
+ * @return {string}
+ */
+function displayValue(value) {
+    if (value instanceof Object) {
+        return JSON.stringify(value);
+    }
+    return `${value}`;
+}
+/**
+ * Renders a graph's image buffer into an HTMLImageElement.
+ * @param {!HTMLImageElement} image
+ * @param {!HTMLCanvasElement} buffer
+ * @return {!Promise<void>}
+ */
+function renderImage(image, buffer) {
+    /** @type {!HTMLCanvasElement} */
+    const canvas = document.createElement('canvas');
+    /** @type {!CanvasRenderingContext2D} */
+    const canvasCtx = (/** @type {!CanvasRenderingContext2D} */ (canvas.getContext('2d')));
+    image.width = canvas.width = buffer.width;
+    image.height = canvas.height = buffer.height;
+    canvasCtx.clearRect(0, 0, buffer.width, buffer.height);
+    canvasCtx.drawImage(buffer, 0, 0, buffer.width, buffer.height);
+    /** @type {!HTMLImageElement} */
+    const imageLocal = image;
+    return new Promise((/**
+     * @param {function((void|!PromiseLike<void>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        imageLocal.onload = (/**
+         * @return {void}
+         */
+        () => {
+            resolve();
+        });
+        imageLocal.src = canvas.toDataURL();
+    }));
+}
+/**
+ * Returns the image data of an HTMLImageElement (which we will access as a
+ * data array).
+ * @param {!HTMLImageElement} image
+ * @return {!ImageData}
+ */
+function getImageData(image) {
+    /** @type {!HTMLCanvasElement} */
+    const canvasFrom = document.createElement('canvas');
+    canvasFrom.width = image.width;
+    canvasFrom.height = image.height;
+    /** @type {!CanvasRenderingContext2D} */
+    const ctx = (/** @type {!CanvasRenderingContext2D} */ (canvasFrom.getContext('2d')));
+    ctx.drawImage(image, 0, 0, image.width, image.height);
+    return ctx.getImageData(0, 0, canvasFrom.width, canvasFrom.height);
+}
+/**
+ * Returns undefined if two HTMLImageElements hold the same image within a
+ * %-tolerance. If they don't match, an error message will be returned.
+ * @param {string} stream
+ * @param {!HTMLImageElement} image1
+ * @param {!HTMLImageElement} image2
+ * @param {number} tolerance
+ * @return {!Promise<(undefined|string)>}
+ */
+function validateImage(stream, image1, image2, tolerance) {
+    return new Promise((/**
+     * @param {function((undefined|string|!PromiseLike<(undefined|string)>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        if (image1.width !== image2.width || image1.height !== image2.height) {
+            resolve(`Image on stream ${stream}: Dimensions don't match. FOUND: ${image1.width}x${image1.height}, EXPECTED: ${image2.width}x${image2.height}`);
+        }
+        /** @type {!Uint8ClampedArray} */
+        const data1 = getImageData(image1).data;
+        /** @type {!Uint8ClampedArray} */
+        const data2 = getImageData(image2).data;
+        /** @type {number} */
+        let diff = 0;
+        for (let i = 0; i < data1.length / 4; i++) {
+            diff += Math.abs(data1[4 * i + 0] - data2[4 * i + 0]) / 255;
+            diff += Math.abs(data1[4 * i + 1] - data2[4 * i + 1]) / 255;
+            diff += Math.abs(data1[4 * i + 2] - data2[4 * i + 2]) / 255;
+        }
+        /** @type {number} */
+        const normDiff = 100 * diff / (image1.width * image1.height * 3);
+        if (normDiff > tolerance) {
+            resolve(`Image on stream ${stream}: Failed within a tolerance of ${tolerance} (was ${normDiff}).`);
+        }
+        resolve(undefined);
+    }));
+}
+/**
+ * @param {!TestItemEntry} item
+ * @param {!HTMLDivElement} appendTo
+ * @return {void}
+ */
+function attachLabel(item, appendTo) {
+    /** @type {!HTMLDivElement} */
+    const label = document.createElement('div');
+    label.classList.add('stream');
+    label.textContent = `Stream: ${item.name}`;
+    appendTo.appendChild(label);
+}
+/**
+ * Given a test item that represents an image, creates a DOM element to hold
+ * everything. Also modifies TestItemEntry with methods to manipulate this
+ * element.
+ * @param {!TestItemEntry} item
+ * @param {!HTMLDivElement} appendTo
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function createImageItem(item, appendTo) {
+    attachLabel(item, appendTo);
+    /** @type {!HTMLImageElement} */
+    const image = item.element = document.createElement('img');
+    image.classList.add(item.name);
+    appendTo.appendChild(image);
+    item.getValue = (/**
+     * @return {(undefined|!HTMLImageElement|!HTMLDivElement)}
+     */
+    () => item.element);
+    item.render = (/**
+     * @param {*} result
+     * @return {!Promise<void>}
+     */
+    (result) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+        yield renderImage(image, (/** @type {!HTMLCanvasElement} */ (result)));
+    }));
+    item.validate = (/**
+     * @param {!TestItemEntry} against
+     * @return {!Promise<(undefined|string)>}
+     */
+    (against) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+        return validateImage(item.name, (/** @type {!HTMLImageElement} */ ((/** @type {(!HTMLImageElement|!HTMLDivElement)} */ (item.element)))), (/** @type {!HTMLImageElement} */ ((/** @type {(!HTMLImageElement|!HTMLDivElement)} */ (against.element)))), against['tolerance'] || 0);
+    }));
+    /** @type {(undefined|string)} */
+    const imageSrc = item.src;
+    if (imageSrc) {
+        return new Promise((/**
+         * @param {function((void|!PromiseLike<void>)): void} resolve
+         * @param {function(?=): void} reject
+         * @return {void}
+         */
+        (resolve, reject) => {
+            image.onload = (/**
+             * @return {!Promise<void>}
+             */
+            () => tslib_1.__awaiter(this, void 0, void 0, function* () {
+                resolve();
+            }));
+            image.onerror = (/**
+             * @return {?}
+             */
+            () => {
+                throw new Error(`Image ${imageSrc} did not load correctly.`);
+            });
+            image.src = imageSrc;
+        }));
+    }
+    return Promise.resolve();
+}
+/**
+ * Given a test item that represents an object or primitive, creates a DOM
+ * element to hold everything. Also modifies TestItemEntry with methods to
+ * manipulate this element.
+ * @param {!TestItemEntry} item
+ * @param {!HTMLDivElement} appendTo
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function createObjectItem(item, appendTo) {
+    return tslib_1.__awaiter(this, void 0, void 0, function* () {
+        attachLabel(item, appendTo);
+        /** @type {!HTMLDivElement} */
+        const element = item.element = document.createElement('div');
+        item.getValue = (/**
+         * @return {*}
+         */
+        () => {
+            if (element.textContent) {
+                return ((/** @type {!DataHolder} */ (JSON.parse(element.textContent)))).data;
+            }
+            else {
+                return undefined;
+            }
+        });
+        item.render = (/**
+         * @param {*} result
+         * @return {!Promise<void>}
+         */
+        (result) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+            /** @type {{data: !Object}} */
+            const buffer = { data: (/** @type {!Object} */ (result)) };
+            element.textContent = JSON.stringify(buffer);
+        }));
+        item.validate = (/**
+         * @param {!TestItemEntry} against
+         * @return {(!Promise<undefined>|!Promise<string>)}
+         */
+        (against) => {
+            /** @type {*} */
+            const itemValue = (/** @type {function(): *} */ (item.getValue))();
+            /** @type {*} */
+            const againstValue = (/** @type {function(): *} */ (against.getValue))();
+            if (against['dataPattern']) {
+                /** @type {!RegExp} */
+                const re = new RegExp(against['dataPattern']);
+                if (re.test(displayValue(itemValue))) {
+                    return Promise.resolve(undefined);
+                }
+                return Promise.resolve(`Object on stream ${item.name} failed pattern ${against['dataPattern']}. FOUND: ${displayValue(itemValue)}`);
+            }
+            else if (itemValue === againstValue) {
+                return Promise.resolve(undefined);
+            }
+            return Promise.resolve(`Object on stream ${item.name} failed. FOUND: ${displayValue(itemValue)}, EXPECTED: ${displayValue(againstValue)}`);
+        });
+        element.classList.add(item.name);
+        if (item.dataFile) {
+            element.textContent = yield (yield fetch(item.dataFile)).text();
+        }
+        else if (item.dataPattern) {
+            element.textContent = JSON.stringify({ data: item.data });
+        }
+        else if (item.data) {
+            element.textContent = JSON.stringify({ data: item.data });
+        }
+        appendTo.appendChild(element);
+        return Promise.resolve();
+    });
+}
+/**
+ * Creates all of the test item entries for each item entry provided.
+ * @param {!Array<!TestItemEntry>} items
+ * @param {!HTMLDivElement} appendTo
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function createWorkspaceItems(items, appendTo) {
+    return tslib_1.__awaiter(this, void 0, void 0, function* () {
+        for (const item of items) {
+            if (item.type === 'video') {
+                yield createImageItem(item, appendTo);
+            }
+            else {
+                yield createObjectItem(item, appendTo);
+            }
+        }
+    });
+}
+/**
+ * Connects a test harness up to a specified root node (usually document.body).
+ * Call `initialize` to set up the DOM.
+ *
+ * Usage:
+ * 1. Place the JSON.stringify of a test configuration into an input element
+ *    with the class 'test' and then click on a button with the class 'run-test'
+ *    and wait for the div tag with the class '.test-complete' to show the text
+ *    'COMPLETE'.
+ */
+class TestHarness {
+    /**
+     * @private
+     * @param {!tsickle_solutions_api_1.ResultMap} results
+     * @param {!TestConfig} config
+     * @return {!Promise<void>}
+     */
+    onResult(results, config) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            /** @type {!Array<string>} */
+            const errors = [];
+            for (const output of (/** @type {!TestCase} */ (config['test']))['outputs']) {
+                /** @type {string} */
+                const itemName = output['name'];
+                yield (/** @type {function(*): !Promise<void>} */ (output.render))(results[itemName]);
+                for (const expect of (/** @type {!TestCase} */ (config['test']))['expects']) {
+                    if (expect['name'] === itemName) {
+                        /** @type {(undefined|string)} */
+                        const errorMsg = yield (/** @type {function(!TestItemEntry): !Promise<(undefined|string)>} */ (output.validate))(expect);
+                        if (errorMsg) {
+                            errors.push(errorMsg);
+                        }
+                        break;
+                    }
+                }
+            }
+            this.errorsElement.textContent = errors.join('\n');
+            this.testCompleteElement.textContent = exports.COMPLETE;
+        });
+    }
+    /**
+     * Executes the test based on the json instructions sitting in testElement.
+     * See `onResult` for how we leave data for the test harness to read.
+     * @param {!TestConfig} config
+     * @return {!Promise<void>}
+     */
+    run(config) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (config['solutionUrl']) {
+                /** @type {?} */
+                const solutionJson = yield (yield fetch(config['solutionUrl'])).json();
+                config['solution'] = (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (solutionJson));
+            }
+            if (config['testUrl']) {
+                /** @type {?} */
+                const testJson = yield (yield fetch(config['testUrl'])).json();
+                config['test'] = (/** @type {!TestCase} */ (testJson));
+            }
+            if (config['binarypb']) {
+                (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['graph'] = { 'url': config['binarypb'] };
+            }
+            /** @type {string} */
+            const testName = config['name'];
+            (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'] = (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'] || [];
+            (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'] = [
+                ...(/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'],
+                { url: `${testName}_web_solution_packed_assets_loader.js` },
+                { simd: false, url: `${testName}_web_solution_wasm_bin.js` },
+                { simd: true, url: `${testName}_web_solution_simd_wasm_bin.js` }
+            ];
+            /** @type {!TestSolution} */
+            const solution = yield new TestSolution((/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))).initialize();
+            yield createWorkspaceItems((/** @type {!TestCase} */ (config['test']))['inputs'], this.inputs);
+            yield createWorkspaceItems((/** @type {!TestCase} */ (config['test']))['expects'], this.expects);
+            yield createWorkspaceItems((/** @type {!TestCase} */ (config['test']))['outputs'], this.outputs);
+            yield flushDom();
+            /** @type {!Object<string,*>} */
+            const inputs = {};
+            for (const input of (/** @type {!TestCase} */ (config['test']))['inputs']) {
+                inputs[input.name] = (/** @type {function(): *} */ (input.getValue))();
+            }
+            this.testReadyElement.textContent = exports.COMPLETE;
+            if ((/** @type {!TestCase} */ (config['test']))['options'] && (/** @type {!TestCase} */ (config['test']))['options']['warmup']) {
+                /** @type {number} */
+                const warmup = (/** @type {!TestCase} */ (config['test']))['options']['warmup'];
+                for (let loop = 0; loop < warmup; loop++) {
+                    yield solution.send(inputs);
+                }
+            }
+            solution.onResults((/**
+             * @param {!tsickle_solutions_api_1.ResultMap} data
+             * @return {void}
+             */
+            (data) => {
+                this.onResult(data, config);
+            }));
+            yield solution.send(inputs);
+        });
+    }
+    /**
+     * Sets up the test and should be called before run is called. By design,
+     * run will be called by simulating a click on a button with class `run-test`.
+     * @return {!Promise<void>}
+     */
+    initialize() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            this.testElement = (/** @type {!HTMLTextAreaElement} */ (document.querySelector('.test')));
+            this.runTestButton =
+                (/** @type {!HTMLButtonElement} */ (document.querySelector('.run-test')));
+            this.testCompleteElement =
+                (/** @type {!HTMLDivElement} */ (document.querySelector('.test-complete')));
+            this.errorsElement =
+                (/** @type {!HTMLTextAreaElement} */ (document.querySelector('.errors')));
+            this.testReadyElement =
+                (/** @type {!HTMLDivElement} */ (document.querySelector('.test-ready')));
+            this.outputs = (/** @type {!HTMLDivElement} */ (document.querySelector('.outputs')));
+            this.expects = (/** @type {!HTMLDivElement} */ (document.querySelector('.expects')));
+            this.inputs = (/** @type {!HTMLDivElement} */ (document.querySelector('.inputs')));
+            this.runTestButton.onclick = (/**
+             * @return {void}
+             */
+            () => {
+                this.run((/** @type {!TestConfig} */ (JSON.parse(this.testElement.value))));
+            });
+            yield flushDom();
+        });
+    }
+}
+exports.TestHarness = TestHarness;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {!HTMLTextAreaElement}
+     * @private
+     */
+    TestHarness.prototype.testElement;
+    /**
+     * @type {!HTMLTextAreaElement}
+     * @private
+     */
+    TestHarness.prototype.errorsElement;
+    /**
+     * @type {!HTMLButtonElement}
+     * @private
+     */
+    TestHarness.prototype.runTestButton;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.testCompleteElement;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.testReadyElement;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.inputs;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.expects;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.outputs;
+}
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdF9oYXJuZXNzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvbWVkaWFwaXBlL3dlYi9zb2x1dGlvbnMvdGVzdF9oYXJuZXNzL3Rlc3RfaGFybmVzcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQU9BLCtGQUEwRjs7Ozs7QUFHN0UsUUFBQSxRQUFRLEdBQUcsVUFBVTs7Ozs7QUFFckIsUUFBQSxVQUFVLEdBQUcsWUFBWTs7Ozs7QUFHdEMsNEJBWUM7Ozs7O0lBWEMsNkJBQWE7O0lBQ2IsNkJBQXVCOztJQUN2QixrQ0FBbUI7O0lBQ25CLDRCQUFhOztJQUNiLDZCQUFVOztJQUNWLGlDQUFrQjs7SUFDbEIsb0NBQXFCOztJQUNyQixnQ0FBMEM7O0lBQzFDLGlDQUF5Qjs7SUFDekIsK0JBQTBDOztJQUMxQyxpQ0FBaUU7Ozs7OztBQUluRSw4QkFFQzs7Ozs7SUFEQyxpQ0FBa0I7Ozs7Ozs7QUFPcEIsdUJBTUM7Ozs7O0lBSkMsMEJBQTBCOztJQUMxQiwyQkFBMkI7O0lBQzNCLDJCQUEyQjs7SUFDM0IsMkJBQTRCOzs7Ozs7QUFJOUIseUJBZ0JDOzs7OztJQWRDLDBCQUFhOztJQUdiLDhCQUFrQjs7SUFHbEIsOEJBQXVDOztJQUN2QywwQkFBZ0I7O0lBR2hCLGlDQUFxQjs7SUFHckIsNkJBQWlCOzs7Ozs7OztBQU9uQixTQUFTLFFBQVE7SUFDZixPQUFPLElBQUksT0FBTzs7OztJQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFDN0IsVUFBVTs7O1FBQUMsR0FBUyxFQUFFO1lBQ3BCLE9BQU8sRUFBRSxDQUFDO1FBQ1osQ0FBQyxDQUFBLEdBQUUsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDLEVBQUMsQ0FBQztBQUNMLENBQUM7Ozs7QUFLRCxNQUFhLFlBQVk7Ozs7SUFHdkIsWUFBWSxNQUFtQztRQUM3QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksWUFBWSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNwRCxDQUFDOzs7OztJQUtELEtBQUs7UUFDSCxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3RCLE9BQU8sT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLENBQUM7Ozs7Ozs7O0lBUUssVUFBVTs7WUFDZCxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDakMsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO0tBQUE7Ozs7Ozs7SUFNSyxJQUFJLENBQUMsTUFBNkI7O1lBQ3RDLE1BQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbkMsQ0FBQztLQUFBOzs7Ozs7O0lBTUQsU0FBUyxDQUFDLFFBQXdDO1FBQ2hELElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7Q0FDRjtBQXpDRCxvQ0F5Q0M7Ozs7Ozs7SUF4Q0MsZ0NBQWlEOzs7Ozs7Ozs7O0FBaURuRCx5QkFFQzs7OztJQURDLDBCQUFjOzs7Ozs7OztBQU9oQixTQUFTLFlBQVksQ0FBQyxLQUFjO0lBQ2xDLElBQUksS0FBSyxZQUFZLE1BQU0sRUFBRTtRQUMzQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDOUI7SUFDRCxPQUFPLEdBQUcsS0FBSyxFQUFFLENBQUM7QUFDcEIsQ0FBQzs7Ozs7OztBQUtELFNBQVMsV0FBVyxDQUNoQixLQUF1QixFQUFFLE1BQThCOztVQUNuRCxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7O1VBQ3pDLFNBQVMsR0FBRywyQ0FBQSxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFDO0lBQzFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQzFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQzdDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2RCxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDOztVQUV6RCxVQUFVLEdBQUcsS0FBSztJQUN4QixPQUFPLElBQUksT0FBTzs7OztJQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFDN0IsVUFBVSxDQUFDLE1BQU07OztRQUFHLEdBQUcsRUFBRTtZQUN2QixPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUMsQ0FBQSxDQUFDO1FBQ0YsVUFBVSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDdEMsQ0FBQyxFQUFDLENBQUM7QUFDTCxDQUFDOzs7Ozs7O0FBTUQsU0FBUyxZQUFZLENBQUMsS0FBdUI7O1VBQ3JDLFVBQVUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztJQUNuRCxVQUFVLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDL0IsVUFBVSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDOztVQUMzQixHQUFHLEdBQUcsMkNBQUEsVUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBQztJQUN4QyxHQUFHLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RELE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxLQUFLLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3JFLENBQUM7Ozs7Ozs7Ozs7QUFNRCxTQUFTLGFBQWEsQ0FDbEIsTUFBYyxFQUFFLE1BQXdCLEVBQUUsTUFBd0IsRUFDbEUsU0FBaUI7SUFDbkIsT0FBTyxJQUFJLE9BQU87Ozs7SUFBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQzdCLElBQUksTUFBTSxDQUFDLEtBQUssS0FBSyxNQUFNLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLE1BQU0sRUFBRTtZQUNwRSxPQUFPLENBQUMsbUJBQW1CLE1BQU0sb0NBQzdCLE1BQU0sQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLE1BQU0sZUFBZSxNQUFNLENBQUMsS0FBSyxJQUN4RCxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztTQUN0Qjs7Y0FDSyxLQUFLLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUk7O2NBQ2pDLEtBQUssR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSTs7WUFFbkMsSUFBSSxHQUFHLENBQUM7UUFDWixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDekMsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDNUQsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDNUQsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7U0FDN0Q7O2NBQ0ssUUFBUSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2hFLElBQUksUUFBUSxHQUFHLFNBQVMsRUFBRTtZQUN4QixPQUFPLENBQUMsbUJBQW1CLE1BQU0sa0NBQzdCLFNBQVMsU0FBUyxRQUFRLElBQUksQ0FBQyxDQUFDO1NBQ3JDO1FBQ0QsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JCLENBQUMsRUFBQyxDQUFDO0FBQ0wsQ0FBQzs7Ozs7O0FBRUQsU0FBUyxXQUFXLENBQUMsSUFBbUIsRUFBRSxRQUF3Qjs7VUFDMUQsS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO0lBQzNDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzlCLEtBQUssQ0FBQyxXQUFXLEdBQUcsV0FBVyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0MsUUFBUSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM5QixDQUFDOzs7Ozs7Ozs7O0FBT0QsU0FBUyxlQUFlLENBQ3BCLElBQW1CLEVBQUUsUUFBd0I7SUFDL0MsV0FBVyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzs7VUFDdEIsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7SUFDMUQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9CLFFBQVEsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFNUIsSUFBSSxDQUFDLFFBQVE7OztJQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUEsQ0FBQztJQUNuQyxJQUFJLENBQUMsTUFBTTs7OztJQUFHLENBQU8sTUFBTSxFQUFFLEVBQUU7UUFDN0IsTUFBTSxXQUFXLENBQUMsS0FBSyxFQUFFLG9DQUFBLE1BQU0sRUFBMEIsQ0FBQyxDQUFDO0lBQzdELENBQUMsQ0FBQSxDQUFBLENBQUM7SUFDRixJQUFJLENBQUMsUUFBUTs7OztJQUFHLENBQU8sT0FBTyxFQUFFLEVBQUU7UUFDaEMsT0FBTyxhQUFhLENBQ2hCLElBQUksQ0FBQyxJQUFJLEVBQUUsbUNBQUEscURBQUEsSUFBSSxDQUFDLE9BQU8sRUFBQyxFQUFvQixFQUM1QyxtQ0FBQSxxREFBQSxPQUFPLENBQUMsT0FBTyxFQUFDLEVBQW9CLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZFLENBQUMsQ0FBQSxDQUFBLENBQUM7O1VBRUksUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHO0lBQ3pCLElBQUksUUFBUSxFQUFFO1FBQ1osT0FBTyxJQUFJLE9BQU87Ozs7O1FBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDckMsS0FBSyxDQUFDLE1BQU07OztZQUFHLEdBQVMsRUFBRTtnQkFDeEIsT0FBTyxFQUFFLENBQUM7WUFDWixDQUFDLENBQUEsQ0FBQSxDQUFDO1lBQ0YsS0FBSyxDQUFDLE9BQU87OztZQUFHLEdBQUcsRUFBRTtnQkFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLFFBQVEsMEJBQTBCLENBQUMsQ0FBQztZQUMvRCxDQUFDLENBQUEsQ0FBQztZQUNGLEtBQUssQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDO1FBQ3ZCLENBQUMsRUFBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUMzQixDQUFDOzs7Ozs7Ozs7O0FBT0QsU0FBZSxnQkFBZ0IsQ0FDM0IsSUFBbUIsRUFBRSxRQUF3Qjs7UUFDL0MsV0FBVyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzs7Y0FDdEIsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7UUFDNUQsSUFBSSxDQUFDLFFBQVE7OztRQUFHLEdBQUcsRUFBRTtZQUNuQixJQUFJLE9BQU8sQ0FBQyxXQUFXLEVBQUU7Z0JBQ3ZCLE9BQU8sQ0FBQyw2QkFBQSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFBYyxDQUFDLENBQUMsSUFBSSxDQUFDO2FBQzdEO2lCQUFNO2dCQUNMLE9BQU8sU0FBUyxDQUFDO2FBQ2xCO1FBQ0gsQ0FBQyxDQUFBLENBQUM7UUFDRixJQUFJLENBQUMsTUFBTTs7OztRQUFHLENBQU8sTUFBZSxFQUFFLEVBQUU7O2tCQUNoQyxNQUFNLEdBQUcsRUFBQyxJQUFJLEVBQUUseUJBQUEsTUFBTSxFQUFVLEVBQUM7WUFDdkMsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLENBQUMsQ0FBQSxDQUFBLENBQUM7UUFDRixJQUFJLENBQUMsUUFBUTs7OztRQUFHLENBQUMsT0FBc0IsRUFBRSxFQUFFOztrQkFDbkMsU0FBUyxHQUFHLCtCQUFBLElBQUksQ0FBQyxRQUFRLEVBQUMsRUFBRTs7a0JBQzVCLFlBQVksR0FBRywrQkFBQSxPQUFPLENBQUMsUUFBUSxFQUFDLEVBQUU7WUFDeEMsSUFBSSxPQUFPLENBQUMsYUFBYSxDQUFDLEVBQUU7O3NCQUNwQixFQUFFLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUM3QyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUU7b0JBQ3BDLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztpQkFDbkM7Z0JBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLG9CQUFvQixJQUFJLENBQUMsSUFBSSxtQkFDaEQsT0FBTyxDQUFDLGFBQWEsQ0FBQyxZQUFZLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDbEU7aUJBQU0sSUFBSSxTQUFTLEtBQUssWUFBWSxFQUFFO2dCQUNyQyxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDbkM7WUFDRCxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsb0JBQW9CLElBQUksQ0FBQyxJQUFJLG1CQUNoRCxZQUFZLENBQUMsU0FBUyxDQUFDLGVBQWUsWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxRSxDQUFDLENBQUEsQ0FBQztRQUNGLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVqQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsT0FBTyxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDakU7YUFBTSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDM0IsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1NBQ3pEO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ3BCLE9BQU8sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztTQUN6RDtRQUVELFFBQVEsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDOUIsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDM0IsQ0FBQztDQUFBOzs7Ozs7OztBQUtELFNBQWUsb0JBQW9CLENBQy9CLEtBQXNCLEVBQUUsUUFBd0I7O1FBQ2xELEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO1lBQ3hCLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUU7Z0JBQ3pCLE1BQU0sZUFBZSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzthQUN2QztpQkFBTTtnQkFDTCxNQUFNLGdCQUFnQixDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzthQUN4QztTQUNGO0lBQ0gsQ0FBQztDQUFBOzs7Ozs7Ozs7OztBQVlELE1BQWEsV0FBVzs7Ozs7OztJQVVSLFFBQVEsQ0FBQyxPQUErQixFQUFFLE1BQWtCOzs7a0JBRWxFLE1BQU0sR0FBYSxFQUFFO1lBQzNCLEtBQUssTUFBTSxNQUFNLElBQUksMkJBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsU0FBUyxDQUFDLEVBQUU7O3NCQUN6QyxRQUFRLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDL0IsTUFBTSw2Q0FBQSxNQUFNLENBQUMsTUFBTSxFQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hDLEtBQUssTUFBTSxNQUFNLElBQUksMkJBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsU0FBUyxDQUFDLEVBQUU7b0JBQy9DLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLFFBQVEsRUFBRTs7OEJBQ3pCLFFBQVEsR0FBRyxNQUFNLHdFQUFBLE1BQU0sQ0FBQyxRQUFRLEVBQUMsQ0FBQyxNQUFNLENBQUM7d0JBQy9DLElBQUksUUFBUSxFQUFFOzRCQUNaLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7eUJBQ3ZCO3dCQUNELE1BQU07cUJBQ1A7aUJBQ0Y7YUFDRjtZQUNELElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsR0FBRyxnQkFBUSxDQUFDO1FBQ2xELENBQUM7S0FBQTs7Ozs7OztJQU1LLEdBQUcsQ0FBQyxNQUFrQjs7WUFDMUIsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7O3NCQUNuQixZQUFZLEdBQUcsTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFO2dCQUN0RSxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcseURBQUEsWUFBWSxFQUErQixDQUFDO2FBQ2xFO1lBQ0QsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7O3NCQUNmLFFBQVEsR0FBRyxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUU7Z0JBQzlELE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRywyQkFBQSxRQUFRLEVBQVksQ0FBQzthQUN2QztZQUNELElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO2dCQUN0Qix5REFBQSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUMsQ0FBQzthQUM1RDs7a0JBQ0ssUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDL0IseURBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcseURBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2xFLHlEQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHO2dCQUM3QixHQUFHLHlEQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBQyxDQUFDLE9BQU8sQ0FBQztnQkFDL0IsRUFBQyxHQUFHLEVBQUUsR0FBRyxRQUFRLHVDQUF1QyxFQUFDO2dCQUN6RCxFQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsUUFBUSwyQkFBMkIsRUFBQztnQkFDMUQsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLFFBQVEsZ0NBQWdDLEVBQUM7YUFDL0QsQ0FBQzs7a0JBRUksUUFBUSxHQUFHLE1BQU0sSUFBSSxZQUFZLENBQUMseURBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUU7WUFFekUsTUFBTSxvQkFBb0IsQ0FBQywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbkUsTUFBTSxvQkFBb0IsQ0FBQywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckUsTUFBTSxvQkFBb0IsQ0FBQywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckUsTUFBTSxRQUFRLEVBQUUsQ0FBQzs7a0JBRVgsTUFBTSxHQUE2QixFQUFFO1lBQzNDLEtBQUssTUFBTSxLQUFLLElBQUksMkJBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQzdDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsK0JBQUEsS0FBSyxDQUFDLFFBQVEsRUFBQyxFQUFFLENBQUM7YUFDeEM7WUFDRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxHQUFHLGdCQUFRLENBQUM7WUFDN0MsSUFBSSwyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSwyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRTs7c0JBQ2hFLE1BQU0sR0FBRywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUM7Z0JBQ25ELEtBQUssSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUU7b0JBQ3hDLE1BQU0sUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztpQkFDN0I7YUFDRjtZQUNELFFBQVEsQ0FBQyxTQUFTOzs7O1lBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDOUIsQ0FBQyxFQUFDLENBQUM7WUFDSCxNQUFNLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUIsQ0FBQztLQUFBOzs7Ozs7SUFNSyxVQUFVOztZQUNkLElBQUksQ0FBQyxXQUFXLEdBQUcsc0NBQUEsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsRUFBdUIsQ0FBQztZQUMxRSxJQUFJLENBQUMsYUFBYTtnQkFDZCxvQ0FBQSxRQUFRLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxFQUFxQixDQUFDO1lBQzdELElBQUksQ0FBQyxtQkFBbUI7Z0JBQ3BCLGlDQUFBLFFBQVEsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsRUFBa0IsQ0FBQztZQUMvRCxJQUFJLENBQUMsYUFBYTtnQkFDZCxzQ0FBQSxRQUFRLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxFQUF1QixDQUFDO1lBQzdELElBQUksQ0FBQyxnQkFBZ0I7Z0JBQ2pCLGlDQUFBLFFBQVEsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLEVBQWtCLENBQUM7WUFDNUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxpQ0FBQSxRQUFRLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxFQUFrQixDQUFDO1lBQ3BFLElBQUksQ0FBQyxPQUFPLEdBQUcsaUNBQUEsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsRUFBa0IsQ0FBQztZQUNwRSxJQUFJLENBQUMsTUFBTSxHQUFHLGlDQUFBLFFBQVEsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEVBQWtCLENBQUM7WUFDbEUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPOzs7WUFBRyxHQUFHLEVBQUU7Z0JBQ2hDLElBQUksQ0FBQyxHQUFHLENBQUMsNkJBQUEsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFjLENBQUMsQ0FBQztZQUM3RCxDQUFDLENBQUEsQ0FBQztZQUNGLE1BQU0sUUFBUSxFQUFFLENBQUM7UUFDbkIsQ0FBQztLQUFBO0NBQ0Y7QUFyR0Qsa0NBcUdDOzs7Ozs7O0lBcEdDLGtDQUEwQzs7Ozs7SUFDMUMsb0NBQTRDOzs7OztJQUM1QyxvQ0FBMEM7Ozs7O0lBQzFDLDBDQUE2Qzs7Ozs7SUFDN0MsdUNBQTBDOzs7OztJQUMxQyw2QkFBZ0M7Ozs7O0lBQ2hDLDhCQUFpQzs7Ozs7SUFDakMsOEJBQWlDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoZSB0ZXN0IGhhcm5lc3MgYWxsb3dzIGEgdXNlciB0byBkZXNjcmliZSBhIE1lZGlhUGlwZSBncmFwaCxcbiAqIGFsb25nIHdpdGggdGhlIGV4cGVjdGF0aW9ucyBvZiB0aGF0IGdyYXBoLCBhbmQgdGhlbiB0ZXN0IHRob3NlIGV4cGVjdGF0aW9uc1xuICogdGhyb3VnaCBhIHRlc3QgaGFybmVzcyAoV2ViRHJpdmVyLCBlLmcuKS4gIFdlIGRvIHRoaXMgYnkgYnVpbGRpbmcgdXAgdGhlXG4gKiBlbnRpcmUgdGVzdCBpbiBhIHdlYiBwYWdlIGJhc2VkIG9uIHRoZSBzcGVjcy5cbiAqL1xuXG5pbXBvcnQgKiBhcyBzb2x1dGlvbnNBcGkgZnJvbSAnZ29vZ2xlMy90aGlyZF9wYXJ0eS9tZWRpYXBpcGUvd2ViL3NvbHV0aW9ucy9zb2x1dGlvbnNfYXBpJztcblxuLyoqIEEgRElWIHdpdGggY2xhc3MgLnRlc3Qgd2lsbCBoYXZlIENPTVBMRVRFIHdoZW4gdGhlIHRlc3QgY29tcGxldGVzLiAqL1xuZXhwb3J0IGNvbnN0IENPTVBMRVRFID0gJ0NPTVBMRVRFJztcbi8qKiBBIERJViB3aXRoIGNsYXNzIC50ZXN0IHdpbGwgaGF2ZSBJTkNPTVBMRVRFIHVudGlsIHRoZSB0ZXN0IGNvbXBsZXRlcy4gKi9cbmV4cG9ydCBjb25zdCBJTkNPTVBMRVRFID0gJ0lOQ09NUExFVEUnO1xuXG4vKiogRGVzY3JpYmVzIG9uZSBpdGVtIChzdHJlYW0pIG9mIGEgZ3JhcGguICovXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RJdGVtRW50cnkge1xuICBuYW1lOiBzdHJpbmc7XG4gIHR5cGU6ICd2aWRlbyd8J29iamVjdCc7XG4gIHRvbGVyYW5jZT86IG51bWJlcjtcbiAgc3JjPzogc3RyaW5nO1xuICBkYXRhPzoge307XG4gIGRhdGFGaWxlPzogc3RyaW5nO1xuICBkYXRhUGF0dGVybj86IHN0cmluZztcbiAgZWxlbWVudD86IEhUTUxEaXZFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnQ7XG4gIGdldFZhbHVlPzogKCkgPT4gdW5rbm93bjtcbiAgcmVuZGVyPzogKGRhdGE6IHVua25vd24pID0+IFByb21pc2U8dm9pZD47XG4gIHZhbGlkYXRlPzogKGFnYWluc3Q6IFRlc3RJdGVtRW50cnkpID0+IFByb21pc2U8c3RyaW5nfHVuZGVmaW5lZD47XG59XG5cbi8qKiBTdXBwb3J0cyBleHRyYSBvcHRpb25zIGZvciBlYWNoIHRlc3QgY2FzZS4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdENhc2VPcHRpb25zIHtcbiAgJ3dhcm11cCc/OiBudW1iZXI7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgdGVzdC5cbiAqIFRPRE8obWhheXMpOiBDb2xsYXBzZSAnb3V0cHV0cycgaW50byAnZXhwZWN0cycuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdENhc2Uge1xuICAvLyBUaW1lIHRvIGFsbG93IHRoZSB0ZXN0IHRvIHJ1biBiZWZvcmUgZmFpbGluZy4gSW4gbWlsbGlzZWNvbmRzLlxuICAnaW5wdXRzJzogVGVzdEl0ZW1FbnRyeVtdO1xuICAnZXhwZWN0cyc6IFRlc3RJdGVtRW50cnlbXTtcbiAgJ291dHB1dHMnOiBUZXN0SXRlbUVudHJ5W107XG4gICdvcHRpb25zJz86IFRlc3RDYXNlT3B0aW9ucztcbn1cblxuLyoqIERlc3JpYmVzIGEgY29tcGxldGUgdGVzdCB0aGF0IHdpbGwgYmUgcnVuIGJ5IGEgaGFybmVzcy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdENvbmZpZyB7XG4gIC8vIE5hbWUgb2YgdGhlIHRlc3QsIHVzZWQgdG8gY3JlYXRlIGEgZmV3IGZpbGUgbmFtZXMgd2hlbiBsb2FkaW5nLlxuICBuYW1lOiBzdHJpbmc7XG4gIC8vIE5hbWUgb2YgdGhlIGJpbmFyeXBiIGZpbGUuIElmIHNwZWNpZmllZCwgaXQgb3ZlcndyaXRlcyB0aGUgb25lIGluIHRoZVxuICAvLyBncmFwaC5qc29uLlxuICBiaW5hcnlwYj86IHN0cmluZztcbiAgLy8gVGhlIFNvbHV0aW9uIGNvbmZpZyBtdXN0IHN1cnZpdmUgSlNPTi5zdHJpbmdpZnkgLT4gSlNPTi5wYXJzZSBhcyB3ZSBhcmVcbiAgLy8gc2VuZGluZyB0aGlzIG9iamVjdCBhcyBhIG1lc3NhZ2UgKG1vcmUgb3IgbGVzcykuXG4gIHNvbHV0aW9uPzogc29sdXRpb25zQXBpLlNvbHV0aW9uQ29uZmlnO1xuICB0ZXN0PzogVGVzdENhc2U7XG4gIC8vIElmIHN1cHBsaWVkLCB0aGUgaGFybmVzcyB3aWxsIHJlYWQgdGhlIEpTT04gZnJvbSB0aGUgdXJsIGFuZCBwdXQgaXQgaW50b1xuICAvLyBzb2x1dGlvbi5cbiAgc29sdXRpb25Vcmw/OiBzdHJpbmc7XG4gIC8vIElmIHN1cHBsaWVkLCB0aGUgaGFybmVzcyB3aWxsIHJlYWQgdGhlIEpTT04gZnJvbSB0aGUgdXJsIGFuZCBwdXQgaXQgaW50b1xuICAvLyB0ZXN0LlxuICB0ZXN0VXJsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEdpdmVzIHRoZSBtZXNzYWdlIHF1ZXVlIGEgY2hhbmNlIHRvIGVtcHR5LiBSdW4gdGhpcyBpZiB5b3UgYXJlIGRlcGVuZWRlbnQgb25cbiAqIGNoYW5nZXMgcHJvcG9nYXRpbmcgaW50byB0aGUgRE9NLlxuICovXG5mdW5jdGlvbiBmbHVzaERvbSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSwgMCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIERlZmluZXMgdGhlIHNvbHV0aW9uIHVuZGVyIHRlc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXN0U29sdXRpb24ge1xuICBwcml2YXRlIHJlYWRvbmx5IHNvbHV0aW9uOiBzb2x1dGlvbnNBcGkuU29sdXRpb247XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBzb2x1dGlvbnNBcGkuU29sdXRpb25Db25maWcpIHtcbiAgICB0aGlzLnNvbHV0aW9uID0gbmV3IHNvbHV0aW9uc0FwaS5Tb2x1dGlvbihjb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNodXRzIGRvd24gdGhlIG9iamVjdC4gQ2FsbCBiZWZvcmUgY3JlYXRpbmcgYSBuZXcgaW5zdGFuY2UuXG4gICAqL1xuICBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnNvbHV0aW9uLmNsb3NlKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBzb2x1dGlvbi4gVGhpcyBpbmNsdWRlcyBsb2FkaW5nIE1MIG1vZGVscyBhbmQgbWVkaWFwaXBlXG4gICAqIGNvbmZpZ3VyYXRpb25zLCBhcyB3ZWxsIGFzIHNldHRpbmcgdXAgcG90ZW50aWFsIGxpc3RlbmVycyBmb3IgbWV0YWRhdGEuIElmXG4gICAqIGBpbml0aWFsaXplYCBpcyBub3QgY2FsbGVkIG1hbnVhbGx5LCB0aGVuIGl0IHdpbGwgYmUgY2FsbGVkIHRoZSBmaXJzdCB0aW1lXG4gICAqIHRoZSBkZXZlbG9wZXIgY2FsbHMgYHNlbmRgLlxuICAgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPFRlc3RTb2x1dGlvbj4ge1xuICAgIGF3YWl0IHRoaXMuc29sdXRpb24uaW5pdGlhbGl6ZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGlucHV0cyB0byB0aGUgc29sdXRpb24uIFRoZSBkZXZlbG9wZXIgY2FuIGF3YWl0IHRoZSByZXN1bHRzLCB3aGljaFxuICAgKiByZXNvbHZlcyB3aGVuIHRoZSBncmFwaCBhbmQgYW55IGxpc3RlbmVycyBoYXZlIGNvbXBsZXRlZC5cbiAgICovXG4gIGFzeW5jIHNlbmQoaW5wdXRzOiBzb2x1dGlvbnNBcGkuSW5wdXRNYXApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnNvbHV0aW9uLnNlbmQoaW5wdXRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBzaW5nbGUgY2FsbGJhY2sgdGhhdCB3aWxsIGNhcnJ5IGFueSByZXN1bHRzIHRoYXQgb2NjdXJcbiAgICogYWZ0ZXIgY2FsbGluZyBTZW5kKCkuXG4gICAqL1xuICBvblJlc3VsdHMobGlzdGVuZXI6IHNvbHV0aW9uc0FwaS5SZXN1bHRNYXBMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuc29sdXRpb24ub25SZXN1bHRzKGxpc3RlbmVyKTtcbiAgfVxufVxuXG4vKipcbiAqIFVzZWQgdG8gc3RvcmUgZGF0YSBpbnRvIHRoZSB0ZXh0Q29udGVudCBvZiBhIERJViB0YWcgdmlhIEpTT04uc3RyaW5naWd5LlxuICpcbiAqIFNvbHZlcyBhIGRpc3Bhcml0eSBiZXR3ZWVuIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMuICBKU09OLnN0cmluZ2lmeSBkb2VzIG5vdFxuICogd29yayBvbiBudW1iZXIgfCBzdHJpbmcgfCBib29sZWFuLCBidXQgaWYgd2UgYXNzaWduIGl0IHRvIHRoZSBkYXRhIGZpZWxkIG9mXG4gKiBhbiBvYmplY3QsIHRoZW4gd2UgY2FuIHVzZSBKU09OLnN0cmluZ2lmeSBub3JtYWxseS4uXG4gKi9cbmludGVyZmFjZSBEYXRhSG9sZGVyIHtcbiAgZGF0YTogdW5rbm93bjtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2YWx1ZS4gUHJpbWl0aXZlcyB3aWxsIGJlIHJlbmRlcmVkXG4gKiB0aHJvdWdoIHN0cmluZyBpbnRlcnBvbGF0aW9uLCBvYmplY3RzIHdpbGwgYmUgcmVuZGVyZWQgdmlhIEpTT04uc3RyaW5naWZ5LlxuICovXG5mdW5jdGlvbiBkaXNwbGF5VmFsdWUodmFsdWU6IHVua25vd24pOiBzdHJpbmcge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICB9XG4gIHJldHVybiBgJHt2YWx1ZX1gO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgYSBncmFwaCdzIGltYWdlIGJ1ZmZlciBpbnRvIGFuIEhUTUxJbWFnZUVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckltYWdlKFxuICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCBidWZmZXI6IHNvbHV0aW9uc0FwaS5HcHVCdWZmZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIGNvbnN0IGNhbnZhc0N0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcbiAgaW1hZ2Uud2lkdGggPSBjYW52YXMud2lkdGggPSBidWZmZXIud2lkdGg7XG4gIGltYWdlLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQgPSBidWZmZXIuaGVpZ2h0O1xuICBjYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIGJ1ZmZlci53aWR0aCwgYnVmZmVyLmhlaWdodCk7XG4gIGNhbnZhc0N0eC5kcmF3SW1hZ2UoYnVmZmVyLCAwLCAwLCBidWZmZXIud2lkdGgsIGJ1ZmZlci5oZWlnaHQpO1xuXG4gIGNvbnN0IGltYWdlTG9jYWwgPSBpbWFnZTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgaW1hZ2VMb2NhbC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICBpbWFnZUxvY2FsLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW1hZ2UgZGF0YSBvZiBhbiBIVE1MSW1hZ2VFbGVtZW50ICh3aGljaCB3ZSB3aWxsIGFjY2VzcyBhcyBhXG4gKiBkYXRhIGFycmF5KS5cbiAqL1xuZnVuY3Rpb24gZ2V0SW1hZ2VEYXRhKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KTogSW1hZ2VEYXRhIHtcbiAgY29uc3QgY2FudmFzRnJvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBjYW52YXNGcm9tLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gIGNhbnZhc0Zyb20uaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICBjb25zdCBjdHggPSBjYW52YXNGcm9tLmdldENvbnRleHQoJzJkJykhO1xuICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcbiAgcmV0dXJuIGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzRnJvbS53aWR0aCwgY2FudmFzRnJvbS5oZWlnaHQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdW5kZWZpbmVkIGlmIHR3byBIVE1MSW1hZ2VFbGVtZW50cyBob2xkIHRoZSBzYW1lIGltYWdlIHdpdGhpbiBhXG4gKiAlLXRvbGVyYW5jZS4gSWYgdGhleSBkb24ndCBtYXRjaCwgYW4gZXJyb3IgbWVzc2FnZSB3aWxsIGJlIHJldHVybmVkLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUltYWdlKFxuICAgIHN0cmVhbTogc3RyaW5nLCBpbWFnZTE6IEhUTUxJbWFnZUVsZW1lbnQsIGltYWdlMjogSFRNTEltYWdlRWxlbWVudCxcbiAgICB0b2xlcmFuY2U6IG51bWJlcik6IFByb21pc2U8c3RyaW5nfHVuZGVmaW5lZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBpZiAoaW1hZ2UxLndpZHRoICE9PSBpbWFnZTIud2lkdGggfHwgaW1hZ2UxLmhlaWdodCAhPT0gaW1hZ2UyLmhlaWdodCkge1xuICAgICAgcmVzb2x2ZShgSW1hZ2Ugb24gc3RyZWFtICR7c3RyZWFtfTogRGltZW5zaW9ucyBkb24ndCBtYXRjaC4gRk9VTkQ6ICR7XG4gICAgICAgICAgaW1hZ2UxLndpZHRofXgke2ltYWdlMS5oZWlnaHR9LCBFWFBFQ1RFRDogJHtpbWFnZTIud2lkdGh9eCR7XG4gICAgICAgICAgaW1hZ2UyLmhlaWdodH1gKTtcbiAgICB9XG4gICAgY29uc3QgZGF0YTEgPSBnZXRJbWFnZURhdGEoaW1hZ2UxKS5kYXRhO1xuICAgIGNvbnN0IGRhdGEyID0gZ2V0SW1hZ2VEYXRhKGltYWdlMikuZGF0YTtcblxuICAgIGxldCBkaWZmID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGExLmxlbmd0aCAvIDQ7IGkrKykge1xuICAgICAgZGlmZiArPSBNYXRoLmFicyhkYXRhMVs0ICogaSArIDBdIC0gZGF0YTJbNCAqIGkgKyAwXSkgLyAyNTU7XG4gICAgICBkaWZmICs9IE1hdGguYWJzKGRhdGExWzQgKiBpICsgMV0gLSBkYXRhMls0ICogaSArIDFdKSAvIDI1NTtcbiAgICAgIGRpZmYgKz0gTWF0aC5hYnMoZGF0YTFbNCAqIGkgKyAyXSAtIGRhdGEyWzQgKiBpICsgMl0pIC8gMjU1O1xuICAgIH1cbiAgICBjb25zdCBub3JtRGlmZiA9IDEwMCAqIGRpZmYgLyAoaW1hZ2UxLndpZHRoICogaW1hZ2UxLmhlaWdodCAqIDMpO1xuICAgIGlmIChub3JtRGlmZiA+IHRvbGVyYW5jZSkge1xuICAgICAgcmVzb2x2ZShgSW1hZ2Ugb24gc3RyZWFtICR7c3RyZWFtfTogRmFpbGVkIHdpdGhpbiBhIHRvbGVyYW5jZSBvZiAke1xuICAgICAgICAgIHRvbGVyYW5jZX0gKHdhcyAke25vcm1EaWZmfSkuYCk7XG4gICAgfVxuICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGF0dGFjaExhYmVsKGl0ZW06IFRlc3RJdGVtRW50cnksIGFwcGVuZFRvOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdzdHJlYW0nKTtcbiAgbGFiZWwudGV4dENvbnRlbnQgPSBgU3RyZWFtOiAke2l0ZW0ubmFtZX1gO1xuICBhcHBlbmRUby5hcHBlbmRDaGlsZChsYWJlbCk7XG59XG5cbi8qKlxuICogR2l2ZW4gYSB0ZXN0IGl0ZW0gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLCBjcmVhdGVzIGEgRE9NIGVsZW1lbnQgdG8gaG9sZFxuICogZXZlcnl0aGluZy4gQWxzbyBtb2RpZmllcyBUZXN0SXRlbUVudHJ5IHdpdGggbWV0aG9kcyB0byBtYW5pcHVsYXRlIHRoaXNcbiAqIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUltYWdlSXRlbShcbiAgICBpdGVtOiBUZXN0SXRlbUVudHJ5LCBhcHBlbmRUbzogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXR0YWNoTGFiZWwoaXRlbSwgYXBwZW5kVG8pO1xuICBjb25zdCBpbWFnZSA9IGl0ZW0uZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBpbWFnZS5jbGFzc0xpc3QuYWRkKGl0ZW0ubmFtZSk7XG4gIGFwcGVuZFRvLmFwcGVuZENoaWxkKGltYWdlKTtcblxuICBpdGVtLmdldFZhbHVlID0gKCkgPT4gaXRlbS5lbGVtZW50O1xuICBpdGVtLnJlbmRlciA9IGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICBhd2FpdCByZW5kZXJJbWFnZShpbWFnZSwgcmVzdWx0IGFzIHNvbHV0aW9uc0FwaS5HcHVCdWZmZXIpO1xuICB9O1xuICBpdGVtLnZhbGlkYXRlID0gYXN5bmMgKGFnYWluc3QpID0+IHtcbiAgICByZXR1cm4gdmFsaWRhdGVJbWFnZShcbiAgICAgICAgaXRlbS5uYW1lLCBpdGVtLmVsZW1lbnQhIGFzIEhUTUxJbWFnZUVsZW1lbnQsXG4gICAgICAgIGFnYWluc3QuZWxlbWVudCEgYXMgSFRNTEltYWdlRWxlbWVudCwgYWdhaW5zdFsndG9sZXJhbmNlJ10gfHwgMCk7XG4gIH07XG5cbiAgY29uc3QgaW1hZ2VTcmMgPSBpdGVtLnNyYztcbiAgaWYgKGltYWdlU3JjKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGltYWdlLm9ubG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcbiAgICAgIGltYWdlLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW1hZ2UgJHtpbWFnZVNyY30gZGlkIG5vdCBsb2FkIGNvcnJlY3RseS5gKTtcbiAgICAgIH07XG4gICAgICBpbWFnZS5zcmMgPSBpbWFnZVNyYztcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59XG5cbi8qKlxuICogR2l2ZW4gYSB0ZXN0IGl0ZW0gdGhhdCByZXByZXNlbnRzIGFuIG9iamVjdCBvciBwcmltaXRpdmUsIGNyZWF0ZXMgYSBET01cbiAqIGVsZW1lbnQgdG8gaG9sZCBldmVyeXRoaW5nLiBBbHNvIG1vZGlmaWVzIFRlc3RJdGVtRW50cnkgd2l0aCBtZXRob2RzIHRvXG4gKiBtYW5pcHVsYXRlIHRoaXMgZWxlbWVudC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlT2JqZWN0SXRlbShcbiAgICBpdGVtOiBUZXN0SXRlbUVudHJ5LCBhcHBlbmRUbzogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXR0YWNoTGFiZWwoaXRlbSwgYXBwZW5kVG8pO1xuICBjb25zdCBlbGVtZW50ID0gaXRlbS5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGl0ZW0uZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgaWYgKGVsZW1lbnQudGV4dENvbnRlbnQpIHtcbiAgICAgIHJldHVybiAoSlNPTi5wYXJzZShlbGVtZW50LnRleHRDb250ZW50KSBhcyBEYXRhSG9sZGVyKS5kYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbiAgaXRlbS5yZW5kZXIgPSBhc3luYyAocmVzdWx0OiB1bmtub3duKSA9PiB7XG4gICAgY29uc3QgYnVmZmVyID0ge2RhdGE6IHJlc3VsdCBhcyBvYmplY3R9O1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShidWZmZXIpO1xuICB9O1xuICBpdGVtLnZhbGlkYXRlID0gKGFnYWluc3Q6IFRlc3RJdGVtRW50cnkpID0+IHtcbiAgICBjb25zdCBpdGVtVmFsdWUgPSBpdGVtLmdldFZhbHVlISgpO1xuICAgIGNvbnN0IGFnYWluc3RWYWx1ZSA9IGFnYWluc3QuZ2V0VmFsdWUhKCk7XG4gICAgaWYgKGFnYWluc3RbJ2RhdGFQYXR0ZXJuJ10pIHtcbiAgICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChhZ2FpbnN0WydkYXRhUGF0dGVybiddKTtcbiAgICAgIGlmIChyZS50ZXN0KGRpc3BsYXlWYWx1ZShpdGVtVmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGBPYmplY3Qgb24gc3RyZWFtICR7aXRlbS5uYW1lfSBmYWlsZWQgcGF0dGVybiAke1xuICAgICAgICAgIGFnYWluc3RbJ2RhdGFQYXR0ZXJuJ119LiBGT1VORDogJHtkaXNwbGF5VmFsdWUoaXRlbVZhbHVlKX1gKTtcbiAgICB9IGVsc2UgaWYgKGl0ZW1WYWx1ZSA9PT0gYWdhaW5zdFZhbHVlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYE9iamVjdCBvbiBzdHJlYW0gJHtpdGVtLm5hbWV9IGZhaWxlZC4gRk9VTkQ6ICR7XG4gICAgICAgIGRpc3BsYXlWYWx1ZShpdGVtVmFsdWUpfSwgRVhQRUNURUQ6ICR7ZGlzcGxheVZhbHVlKGFnYWluc3RWYWx1ZSl9YCk7XG4gIH07XG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChpdGVtLm5hbWUpO1xuXG4gIGlmIChpdGVtLmRhdGFGaWxlKSB7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGF3YWl0IChhd2FpdCBmZXRjaChpdGVtLmRhdGFGaWxlKSkudGV4dCgpO1xuICB9IGVsc2UgaWYgKGl0ZW0uZGF0YVBhdHRlcm4pIHtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoe2RhdGE6IGl0ZW0uZGF0YX0pO1xuICB9IGVsc2UgaWYgKGl0ZW0uZGF0YSkge1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeSh7ZGF0YTogaXRlbS5kYXRhfSk7XG4gIH1cblxuICBhcHBlbmRUby5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYWxsIG9mIHRoZSB0ZXN0IGl0ZW0gZW50cmllcyBmb3IgZWFjaCBpdGVtIGVudHJ5IHByb3ZpZGVkLlxuICovXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVXb3Jrc3BhY2VJdGVtcyhcbiAgICBpdGVtczogVGVzdEl0ZW1FbnRyeVtdLCBhcHBlbmRUbzogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgYXdhaXQgY3JlYXRlSW1hZ2VJdGVtKGl0ZW0sIGFwcGVuZFRvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgY3JlYXRlT2JqZWN0SXRlbShpdGVtLCBhcHBlbmRUbyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29ubmVjdHMgYSB0ZXN0IGhhcm5lc3MgdXAgdG8gYSBzcGVjaWZpZWQgcm9vdCBub2RlICh1c3VhbGx5IGRvY3VtZW50LmJvZHkpLlxuICogQ2FsbCBgaW5pdGlhbGl6ZWAgdG8gc2V0IHVwIHRoZSBET00uXG4gKlxuICogVXNhZ2U6XG4gKiAxLiBQbGFjZSB0aGUgSlNPTi5zdHJpbmdpZnkgb2YgYSB0ZXN0IGNvbmZpZ3VyYXRpb24gaW50byBhbiBpbnB1dCBlbGVtZW50XG4gKiAgICB3aXRoIHRoZSBjbGFzcyAndGVzdCcgYW5kIHRoZW4gY2xpY2sgb24gYSBidXR0b24gd2l0aCB0aGUgY2xhc3MgJ3J1bi10ZXN0J1xuICogICAgYW5kIHdhaXQgZm9yIHRoZSBkaXYgdGFnIHdpdGggdGhlIGNsYXNzICcudGVzdC1jb21wbGV0ZScgdG8gc2hvdyB0aGUgdGV4dFxuICogICAgJ0NPTVBMRVRFJy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlc3RIYXJuZXNzIHtcbiAgcHJpdmF0ZSB0ZXN0RWxlbWVudCE6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIHByaXZhdGUgZXJyb3JzRWxlbWVudCE6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIHByaXZhdGUgcnVuVGVzdEJ1dHRvbiE6IEhUTUxCdXR0b25FbGVtZW50O1xuICBwcml2YXRlIHRlc3RDb21wbGV0ZUVsZW1lbnQhOiBIVE1MRGl2RWxlbWVudDtcbiAgcHJpdmF0ZSB0ZXN0UmVhZHlFbGVtZW50ITogSFRNTERpdkVsZW1lbnQ7XG4gIHByaXZhdGUgaW5wdXRzITogSFRNTERpdkVsZW1lbnQ7XG4gIHByaXZhdGUgZXhwZWN0cyE6IEhUTUxEaXZFbGVtZW50O1xuICBwcml2YXRlIG91dHB1dHMhOiBIVE1MRGl2RWxlbWVudDtcblxuICBwcml2YXRlIGFzeW5jIG9uUmVzdWx0KHJlc3VsdHM6IHNvbHV0aW9uc0FwaS5SZXN1bHRNYXAsIGNvbmZpZzogVGVzdENvbmZpZyk6XG4gICAgICBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChjb25zdCBvdXRwdXQgb2YgY29uZmlnWyd0ZXN0J10hWydvdXRwdXRzJ10pIHtcbiAgICAgIGNvbnN0IGl0ZW1OYW1lID0gb3V0cHV0WyduYW1lJ107XG4gICAgICBhd2FpdCBvdXRwdXQucmVuZGVyIShyZXN1bHRzW2l0ZW1OYW1lXSk7XG4gICAgICBmb3IgKGNvbnN0IGV4cGVjdCBvZiBjb25maWdbJ3Rlc3QnXSFbJ2V4cGVjdHMnXSkge1xuICAgICAgICBpZiAoZXhwZWN0WyduYW1lJ10gPT09IGl0ZW1OYW1lKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBhd2FpdCBvdXRwdXQudmFsaWRhdGUhKGV4cGVjdCk7XG4gICAgICAgICAgaWYgKGVycm9yTXNnKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChlcnJvck1zZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXJyb3JzRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9ycy5qb2luKCdcXG4nKTtcbiAgICB0aGlzLnRlc3RDb21wbGV0ZUVsZW1lbnQudGV4dENvbnRlbnQgPSBDT01QTEVURTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgdGVzdCBiYXNlZCBvbiB0aGUganNvbiBpbnN0cnVjdGlvbnMgc2l0dGluZyBpbiB0ZXN0RWxlbWVudC5cbiAgICogU2VlIGBvblJlc3VsdGAgZm9yIGhvdyB3ZSBsZWF2ZSBkYXRhIGZvciB0aGUgdGVzdCBoYXJuZXNzIHRvIHJlYWQuXG4gICAqL1xuICBhc3luYyBydW4oY29uZmlnOiBUZXN0Q29uZmlnKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGNvbmZpZ1snc29sdXRpb25VcmwnXSkge1xuICAgICAgY29uc3Qgc29sdXRpb25Kc29uID0gYXdhaXQgKGF3YWl0IGZldGNoKGNvbmZpZ1snc29sdXRpb25VcmwnXSkpLmpzb24oKTtcbiAgICAgIGNvbmZpZ1snc29sdXRpb24nXSA9IHNvbHV0aW9uSnNvbiBhcyBzb2x1dGlvbnNBcGkuU29sdXRpb25Db25maWc7XG4gICAgfVxuICAgIGlmIChjb25maWdbJ3Rlc3RVcmwnXSkge1xuICAgICAgY29uc3QgdGVzdEpzb24gPSBhd2FpdCAoYXdhaXQgZmV0Y2goY29uZmlnWyd0ZXN0VXJsJ10pKS5qc29uKCk7XG4gICAgICBjb25maWdbJ3Rlc3QnXSA9IHRlc3RKc29uIGFzIFRlc3RDYXNlO1xuICAgIH1cbiAgICBpZiAoY29uZmlnWydiaW5hcnlwYiddKSB7XG4gICAgICBjb25maWdbJ3NvbHV0aW9uJ10hWydncmFwaCddID0geyd1cmwnOiBjb25maWdbJ2JpbmFyeXBiJ119O1xuICAgIH1cbiAgICBjb25zdCB0ZXN0TmFtZSA9IGNvbmZpZ1snbmFtZSddO1xuICAgIGNvbmZpZ1snc29sdXRpb24nXSFbJ2ZpbGVzJ10gPSBjb25maWdbJ3NvbHV0aW9uJ10hWydmaWxlcyddIHx8IFtdO1xuICAgIGNvbmZpZ1snc29sdXRpb24nXSFbJ2ZpbGVzJ10gPSBbXG4gICAgICAuLi5jb25maWdbJ3NvbHV0aW9uJ10hWydmaWxlcyddLFxuICAgICAge3VybDogYCR7dGVzdE5hbWV9X3dlYl9zb2x1dGlvbl9wYWNrZWRfYXNzZXRzX2xvYWRlci5qc2B9LFxuICAgICAge3NpbWQ6IGZhbHNlLCB1cmw6IGAke3Rlc3ROYW1lfV93ZWJfc29sdXRpb25fd2FzbV9iaW4uanNgfSxcbiAgICAgIHtzaW1kOiB0cnVlLCB1cmw6IGAke3Rlc3ROYW1lfV93ZWJfc29sdXRpb25fc2ltZF93YXNtX2Jpbi5qc2B9XG4gICAgXTtcblxuICAgIGNvbnN0IHNvbHV0aW9uID0gYXdhaXQgbmV3IFRlc3RTb2x1dGlvbihjb25maWdbJ3NvbHV0aW9uJ10hKS5pbml0aWFsaXplKCk7XG5cbiAgICBhd2FpdCBjcmVhdGVXb3Jrc3BhY2VJdGVtcyhjb25maWdbJ3Rlc3QnXSFbJ2lucHV0cyddLCB0aGlzLmlucHV0cyk7XG4gICAgYXdhaXQgY3JlYXRlV29ya3NwYWNlSXRlbXMoY29uZmlnWyd0ZXN0J10hWydleHBlY3RzJ10sIHRoaXMuZXhwZWN0cyk7XG4gICAgYXdhaXQgY3JlYXRlV29ya3NwYWNlSXRlbXMoY29uZmlnWyd0ZXN0J10hWydvdXRwdXRzJ10sIHRoaXMub3V0cHV0cyk7XG4gICAgYXdhaXQgZmx1c2hEb20oKTtcblxuICAgIGNvbnN0IGlucHV0czoge1trZXk6IHN0cmluZ106IHVua25vd259ID0ge307XG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiBjb25maWdbJ3Rlc3QnXSFbJ2lucHV0cyddKSB7XG4gICAgICBpbnB1dHNbaW5wdXQubmFtZV0gPSBpbnB1dC5nZXRWYWx1ZSEoKTtcbiAgICB9XG4gICAgdGhpcy50ZXN0UmVhZHlFbGVtZW50LnRleHRDb250ZW50ID0gQ09NUExFVEU7XG4gICAgaWYgKGNvbmZpZ1sndGVzdCddIVsnb3B0aW9ucyddICYmIGNvbmZpZ1sndGVzdCddIVsnb3B0aW9ucyddWyd3YXJtdXAnXSkge1xuICAgICAgY29uc3Qgd2FybXVwID0gY29uZmlnWyd0ZXN0J10hWydvcHRpb25zJ11bJ3dhcm11cCddO1xuICAgICAgZm9yIChsZXQgbG9vcCA9IDA7IGxvb3AgPCB3YXJtdXA7IGxvb3ArKykge1xuICAgICAgICBhd2FpdCBzb2x1dGlvbi5zZW5kKGlucHV0cyk7XG4gICAgICB9XG4gICAgfVxuICAgIHNvbHV0aW9uLm9uUmVzdWx0cygoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5vblJlc3VsdChkYXRhLCBjb25maWcpO1xuICAgIH0pO1xuICAgIGF3YWl0IHNvbHV0aW9uLnNlbmQoaW5wdXRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoZSB0ZXN0IGFuZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBydW4gaXMgY2FsbGVkLiBCeSBkZXNpZ24sXG4gICAqIHJ1biB3aWxsIGJlIGNhbGxlZCBieSBzaW11bGF0aW5nIGEgY2xpY2sgb24gYSBidXR0b24gd2l0aCBjbGFzcyBgcnVuLXRlc3RgLlxuICAgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnRlc3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3QnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgIHRoaXMucnVuVGVzdEJ1dHRvbiA9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ydW4tdGVzdCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIHRoaXMudGVzdENvbXBsZXRlRWxlbWVudCA9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXN0LWNvbXBsZXRlJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgdGhpcy5lcnJvcnNFbGVtZW50ID1cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9ycycpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgdGhpcy50ZXN0UmVhZHlFbGVtZW50ID1cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3QtcmVhZHknKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICB0aGlzLm91dHB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3V0cHV0cycpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIHRoaXMuZXhwZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5leHBlY3RzJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgdGhpcy5pbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXRzJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgdGhpcy5ydW5UZXN0QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLnJ1bihKU09OLnBhcnNlKHRoaXMudGVzdEVsZW1lbnQudmFsdWUpIGFzIFRlc3RDb25maWcpO1xuICAgIH07XG4gICAgYXdhaXQgZmx1c2hEb20oKTtcbiAgfVxufVxuIl19
+;return exports;});
+
+//third_party/mediapipe/web/solutions/test_harness/test_harness_driver.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ *
+ * @fileoverview Load and initialize the test_harness. Interact with the page
+ * to run the test.
+ *
+ * Generated from: third_party/mediapipe/web/solutions/test_harness/test_harness_driver.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.test_harness.test_harness_driver');
+var module = module || { id: 'third_party/mediapipe/web/solutions/test_harness/test_harness_driver.closure.js' };
+goog.require('google3.third_party.javascript.tslib.tslib');
+const tsickle_test_harness_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.test_harness.test_harness");
+const test_harness_1 = goog.require('google3.third_party.mediapipe.web.solutions.test_harness.test_harness');
+/** @type {!tsickle_test_harness_1.TestHarness} */
+const harness = new test_harness_1.TestHarness();
+harness.initialize();
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdF9oYXJuZXNzX2RyaXZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L21lZGlhcGlwZS93ZWIvc29sdXRpb25zL3Rlc3RfaGFybmVzcy90ZXN0X2hhcm5lc3NfZHJpdmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUtBLDZHQUFrRzs7TUFFNUYsT0FBTyxHQUFHLElBQUksMEJBQVcsRUFBRTtBQUNqQyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgTG9hZCBhbmQgaW5pdGlhbGl6ZSB0aGUgdGVzdF9oYXJuZXNzLiBJbnRlcmFjdCB3aXRoIHRoZSBwYWdlXG4gKiB0byBydW4gdGhlIHRlc3QuXG4gKi9cblxuaW1wb3J0IHtUZXN0SGFybmVzc30gZnJvbSAnZ29vZ2xlMy90aGlyZF9wYXJ0eS9tZWRpYXBpcGUvd2ViL3NvbHV0aW9ucy90ZXN0X2hhcm5lc3MvdGVzdF9oYXJuZXNzJztcblxuY29uc3QgaGFybmVzcyA9IG5ldyBUZXN0SGFybmVzcygpO1xuaGFybmVzcy5pbml0aWFsaXplKCk7XG4iXX0=
+;return exports;});
+
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/test_harness_driver_bin.MF b/content/test/data/gpu/mediapipe/face_mesh_test/test_harness_driver_bin.MF
new file mode 100644
index 0000000000000..771f10c54ac28
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/test_harness_driver_bin.MF
@@ -0,0 +1,7 @@
+javascript/closure/base.js
+third_party/javascript/tslib/tslib_closure.js
+third_party/mediapipe/web/solutions/shader_utils.closure.js
+third_party/mediapipe/web/solutions/stream_helpers.closure.js
+third_party/mediapipe/web/solutions/solutions_api.closure.js
+third_party/mediapipe/web/solutions/test_harness/test_harness.closure.js
+third_party/mediapipe/web/solutions/test_harness/test_harness_driver.closure.js
diff --git a/content/test/data/gpu/mediapipe/face_mesh_test/test_harness_driver_bin.js b/content/test/data/gpu/mediapipe/face_mesh_test/test_harness_driver_bin.js
new file mode 100644
index 0000000000000..8e8a774e4678d
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/face_mesh_test/test_harness_driver_bin.js
@@ -0,0 +1,58 @@
+(function(){/*
+
+ Copyright The Closure Library Authors.
+ SPDX-License-Identifier: Apache-2.0
+*/
+'use strict';function ba(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}}var u="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){if(b==Array.prototype||b==Object.prototype)return b;b[a]=c.value;return b};
+function ca(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<b.length;++a){var c=b[a];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var x=ca(this);function y(b,a){if(a)a:{var c=x;b=b.split(".");for(var d=0;d<b.length-1;d++){var e=b[d];if(!(e in c))break a;c=c[e]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&u(c,b,{configurable:!0,writable:!0,value:a})}}
+y("Symbol",function(b){function a(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(e||"")+"_"+d++,e)}function c(e,k){this.g=e;u(this,"description",{configurable:!0,writable:!0,value:k})}if(b)return b;c.prototype.toString=function(){return this.g};var d=0;return a});
+y("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<a.length;c++){var d=x[a[c]];"function"===typeof d&&"function"!=typeof d.prototype[b]&&u(d.prototype,b,{configurable:!0,writable:!0,value:function(){return da(ba(this))}})}return b});function da(b){b={next:b};b[Symbol.iterator]=function(){return this};return b}
+function G(b){var a="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return a?a.call(b):{next:ba(b)}}function ea(b){if(!(b instanceof Array)){b=G(b);for(var a,c=[];!(a=b.next()).done;)c.push(a.value);b=c}return b}var I;if("function"==typeof Object.setPrototypeOf)I=Object.setPrototypeOf;else{var K;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;K=ha.a;break a}catch(b){}K=!1}I=K?function(b,a){b.__proto__=a;if(b.__proto__!==a)throw new TypeError(b+" is not extensible");return b}:null}
+var ia=I;function L(){this.l=!1;this.i=null;this.h=void 0;this.g=1;this.s=this.m=0;this.j=null}function M(b){if(b.l)throw new TypeError("Generator is already running");b.l=!0}L.prototype.o=function(b){this.h=b};function N(b,a){b.j={M:a,N:!0};b.g=b.m||b.s}L.prototype.return=function(b){this.j={return:b};this.g=this.s};function O(b,a,c){b.g=c;return{value:a}}function ja(b){this.g=new L;this.h=b}
+function ka(b,a){M(b.g);var c=b.g.i;if(c)return P(b,"return"in c?c["return"]:function(d){return{value:d,done:!0}},a,b.g.return);b.g.return(a);return Q(b)}function P(b,a,c,d){try{var e=a.call(b.g.i,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return b.g.l=!1,e;var k=e.value}catch(f){return b.g.i=null,N(b.g,f),Q(b)}b.g.i=null;d.call(b.g,k);return Q(b)}
+function Q(b){for(;b.g.g;)try{var a=b.h(b.g);if(a)return b.g.l=!1,{value:a.value,done:!1}}catch(c){b.g.h=void 0,N(b.g,c)}b.g.l=!1;if(b.g.j){a=b.g.j;b.g.j=null;if(a.N)throw a.M;return{value:a.return,done:!0}}return{value:void 0,done:!0}}
+function la(b){this.next=function(a){M(b.g);b.g.i?a=P(b,b.g.i.next,a,b.g.o):(b.g.o(a),a=Q(b));return a};this.throw=function(a){M(b.g);b.g.i?a=P(b,b.g.i["throw"],a,b.g.o):(N(b.g,a),a=Q(b));return a};this.return=function(a){return ka(b,a)};this[Symbol.iterator]=function(){return this}}function R(b,a){a=new la(new ja(a));ia&&b.prototype&&ia(a,b.prototype);return a}
+var ma="function"==typeof Object.assign?Object.assign:function(b,a){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b};y("Object.assign",function(b){return b||ma});
+y("Promise",function(b){function a(f){this.h=0;this.i=void 0;this.g=[];this.o=!1;var g=this.j();try{f(g.resolve,g.reject)}catch(h){g.reject(h)}}function c(){this.g=null}function d(f){return f instanceof a?f:new a(function(g){g(f)})}if(b)return b;c.prototype.h=function(f){if(null==this.g){this.g=[];var g=this;this.i(function(){g.l()})}this.g.push(f)};var e=x.setTimeout;c.prototype.i=function(f){e(f,0)};c.prototype.l=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var g=0;g<f.length;++g){var h=
+f[g];f[g]=null;try{h()}catch(l){this.j(l)}}}this.g=null};c.prototype.j=function(f){this.i(function(){throw f;})};a.prototype.j=function(){function f(l){return function(n){h||(h=!0,l.call(g,n))}}var g=this,h=!1;return{resolve:f(this.C),reject:f(this.l)}};a.prototype.C=function(f){if(f===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof a)this.J(f);else{a:switch(typeof f){case "object":var g=null!=f;break a;case "function":g=!0;break a;default:g=!1}g?this.B(f):this.m(f)}};
+a.prototype.B=function(f){var g=void 0;try{g=f.then}catch(h){this.l(h);return}"function"==typeof g?this.K(g,f):this.m(f)};a.prototype.l=function(f){this.s(2,f)};a.prototype.m=function(f){this.s(1,f)};a.prototype.s=function(f,g){if(0!=this.h)throw Error("Cannot settle("+f+", "+g+"): Promise already settled in state"+this.h);this.h=f;this.i=g;2===this.h&&this.I();this.G()};a.prototype.I=function(){var f=this;e(function(){if(f.H()){var g=x.console;"undefined"!==typeof g&&g.error(f.i)}},1)};a.prototype.H=
+function(){if(this.o)return!1;var f=x.CustomEvent,g=x.Event,h=x.dispatchEvent;if("undefined"===typeof h)return!0;"function"===typeof f?f=new f("unhandledrejection",{cancelable:!0}):"function"===typeof g?f=new g("unhandledrejection",{cancelable:!0}):(f=x.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.i;return h(f)};a.prototype.G=function(){if(null!=this.g){for(var f=0;f<this.g.length;++f)k.h(this.g[f]);this.g=null}};var k=new c;a.prototype.J=
+function(f){var g=this.j();f.D(g.resolve,g.reject)};a.prototype.K=function(f,g){var h=this.j();try{f.call(g,h.resolve,h.reject)}catch(l){h.reject(l)}};a.prototype.then=function(f,g){function h(q,r){return"function"==typeof q?function(w){try{l(q(w))}catch(p){n(p)}}:r}var l,n,v=new a(function(q,r){l=q;n=r});this.D(h(f,l),h(g,n));return v};a.prototype.catch=function(f){return this.then(void 0,f)};a.prototype.D=function(f,g){function h(){switch(l.h){case 1:f(l.i);break;case 2:g(l.i);break;default:throw Error("Unexpected state: "+
+l.h);}}var l=this;null==this.g?k.h(h):this.g.push(h);this.o=!0};a.resolve=d;a.reject=function(f){return new a(function(g,h){h(f)})};a.race=function(f){return new a(function(g,h){for(var l=G(f),n=l.next();!n.done;n=l.next())d(n.value).D(g,h)})};a.all=function(f){var g=G(f),h=g.next();return h.done?d([]):new a(function(l,n){function v(w){return function(p){q[w]=p;r--;0==r&&l(q)}}var q=[],r=0;do q.push(void 0),r++,d(h.value).D(v(q.length-1),n),h=g.next();while(!h.done)})};return a});
+function qa(b,a){b instanceof String&&(b+="");var c=0,d=!1,e={next:function(){if(!d&&c<b.length){var k=c++;return{value:a(k,b[k]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}y("Array.prototype.keys",function(b){return b?b:function(){return qa(this,function(a){return a})}});var ra=this||self;
+function sa(b,a){b=b.split(".");var c=ra;b[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+b[0]);for(var d;b.length&&(d=b.shift());)b.length||void 0===a?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=a};function S(b,a){var c=void 0;return new (c||(c=Promise))(function(d,e){function k(h){try{g(a.next(h))}catch(l){e(l)}}function f(h){try{g(a["throw"](h))}catch(l){e(l)}}function g(h){h.done?d(h.value):(new c(function(l){l(h.value)})).then(k,f)}g((a=a.apply(b,void 0)).next())})};function ta(b,a,c){c=b.createShader(0===c?b.VERTEX_SHADER:b.FRAGMENT_SHADER);b.shaderSource(c,a);b.compileShader(c);if(!b.getShaderParameter(c,b.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+b.getShaderInfoLog(c));return c};function T(b,a){this.g=b;this.i=a;this.j=0}
+T.prototype.A=function(b){var a=this.i;if(void 0===this.l){var c=ta(a,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),d=ta(a,"\n  precision highp float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),e=a.createProgram();a.attachShader(e,c);a.attachShader(e,d);a.linkProgram(e);if(!a.getProgramParameter(e,
+a.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+a.getProgramInfoLog(e));c=this.l=e;a.useProgram(c);d=a.getUniformLocation(c,"sampler0");this.h={v:a.getAttribLocation(c,"aVertex"),u:a.getAttribLocation(c,"aTex"),T:d};this.o=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.o);a.enableVertexAttribArray(this.h.v);a.vertexAttribPointer(this.h.v,2,a.FLOAT,!1,0,0);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,null);this.m=
+a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.m);a.enableVertexAttribArray(this.h.u);a.vertexAttribPointer(this.h.u,2,a.FLOAT,!1,0,0);a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,null);a.uniform1i(d,0)}c=this.h;a.useProgram(this.l);a.canvas.width=b.width;a.canvas.height=b.height;a.viewport(0,0,b.width,b.height);a.activeTexture(a.TEXTURE0);this.g.bindTexture2d(b.glName);a.enableVertexAttribArray(c.v);a.bindBuffer(a.ARRAY_BUFFER,this.o);
+a.vertexAttribPointer(c.v,2,a.FLOAT,!1,0,0);a.enableVertexAttribArray(c.u);a.bindBuffer(a.ARRAY_BUFFER,this.m);a.vertexAttribPointer(c.u,2,a.FLOAT,!1,0,0);a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null);a.drawArrays(a.TRIANGLE_FAN,0,4);a.disableVertexAttribArray(c.v);a.disableVertexAttribArray(c.u);a.bindBuffer(a.ARRAY_BUFFER,null);this.g.bindTexture2d(0)};var ua=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function va(b,a){return a+b}function wa(b,a){window[b]=a}function xa(b){var a=document.createElement("script");a.setAttribute("src",b);a.setAttribute("crossorigin","anonymous");document.body.appendChild(a);return new Promise(function(c){a.addEventListener("load",function(){c()},!1)})}
+function U(b){for(var a=[],c=b.size(),d=0;d<c;++d){var e=b.get(d);a.push({x:e.x,y:e.y,z:e.z,visibility:e.hasVisibility?e.visibility:void 0})}return a}function ya(b){for(var a=[],c=b.size(),d=0;d<c;++d){var e=b.get(d);a.push({index:e.index,score:e.score,label:e.hasLabel?e.label:void 0,displayName:e.hasDisplayName?e.displayName:void 0})}return a}function za(b,a,c){this.graph=b;this.locateFile=a;this.g=c}
+za.prototype.toArrayBuffer=function(){return S(this,function a(){var c=this,d;return R(a,function(e){return 1==e.g?(c.graph.url?e=O(e,fetch(c.locateFile(c.graph.url,c.g)),3):(e.g=2,e=void 0),e):2!=e.g&&(d=e.h,d.body)?e.return(d.arrayBuffer()):e.return(new ArrayBuffer(0))})})};
+function Aa(){return S(this,function a(){return R(a,function(c){switch(c.g){case 1:return c.m=2,O(c,WebAssembly.instantiate(ua),4);case 4:c.g=3;c.m=0;break;case 2:return c.m=0,c.j=null,c.return(!1);case 3:return c.return(!0)}})})}
+function V(b){this.h=b;this.listeners={};this.G={};this.j={};this.H=this.B=!0;this.o=Promise.resolve();this.locateFile=b&&b.locateFile||va;if("object"===typeof window)b=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if("undefined"!==typeof location)b=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");this.s=b}
+V.prototype.close=function(){this.i&&this.i.delete();return Promise.resolve()};
+function Ba(b){return S(b,function c(){var d=this,e,k,f,g,h,l,n,v,q;return R(c,function(r){switch(r.g){case 1:e=d;if(!d.B)return r.return();wa("createMediapipeSolutionsWasm",{locateFile:d.locateFile});wa("createMediapipeSolutionsPackedAssets",{locateFile:d.locateFile});k=d.h.files||[];return O(r,Aa(),2);case 2:return f=r.h,O(r,Promise.all(k.map(function(w){return void 0===w.simd||w.simd&&f||!w.simd&&!f?xa(e.locateFile(w.url,e.s)):Promise.resolve()})),3);case 3:return g=window.createMediapipeSolutionsWasm,
+h=window.createMediapipeSolutionsPackedAssets,O(r,g(h),4);case 4:return d.g=r.h,d.m=document.createElement("canvas"),d.g.canvas=d.m,d.g.createContext(d.m,!0,!0,{}),d.i=new d.g.SolutionWasm,l=new za(d.h.graph,d.locateFile,d.s),O(r,d.loadGraph(l),5);case 5:if(d.h.listeners)for(n=G(d.h.listeners),v=n.next();!v.done;v=n.next())q=v.value,Ca(d,q);d.B=!1;r.g=0}})})}
+function Da(b){return S(b,function c(){var d=this,e,k,f,g,h;return R(c,function(l){if(!d.H)return l.return();e=d.m.getContext("webgl2");if(!e)return alert("Failed to create WebGL canvas context when passing video frame."),l.return();d.l=e;if(d.C){k=new d.g.GraphOptionChangeRequestList;f=G(d.C);for(g=f.next();!g.done;g=f.next())h=g.value,k.push_back(h);d.i.changeOptions(k);k.delete();d.C=void 0}d.H=!1;l.g=0})})}
+function Ea(b){return S(b,function c(){var d=this;return R(c,function(e){return 1==e.g?O(e,Ba(d),2):O(e,Da(d),0)})})}V.prototype.loadGraph=function(b){return S(this,function c(){var d,e=this;return R(c,function(k){if(1==k.g)return O(k,b.toArrayBuffer(),2);d=k.h;e.i.loadGraph(d);k.g=0})})};
+V.prototype.send=function(b,a){return S(this,function d(){var e=this,k,f,g,h,l,n,v,q;return R(d,function(r){if(1==r.g){if(!e.h.inputs)return r.return();k=1E3*(a||performance.now());return O(r,e.o,2)}if(3!=r.g)return O(r,Ea(e),3);f=new e.g.PacketDataList;g=G(Object.keys(b));for(h=g.next();!h.done;h=g.next())if(l=h.value,n=e.h.inputs[l]){a:{var w=b[l];switch(n.type){case "video":var p=e.G[n.stream];p||(p=new T(e.g,e.l),e.G[n.stream]=p);0===p.j&&(p.j=p.g.createTexture());if(w instanceof HTMLVideoElement){var m=
+w.videoWidth;var C=w.videoHeight}else w instanceof HTMLImageElement?(m=w.naturalWidth,C=w.naturalHeight):(m=w.width,C=w.height);C={glName:p.j,width:m,height:C};m=p.i;m.canvas.width=C.width;m.canvas.height=C.height;m.activeTexture(m.TEXTURE0);p.g.bindTexture2d(p.j);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,w);p.g.bindTexture2d(0);p=C;break a;default:p={}}}v=p;q=n.stream;f.pushTexture2d(Object.assign(Object.assign({},v),{stream:q,timestamp:k}))}e.i.send(f);f.delete();r.g=0})})};
+function Fa(b,a,c){if(c.isNumber())return c.getNumber();if(c.isRect())return c.getRect();if(c.isLandmarks())return c.getLandmarks();if(c.isLandmarksList())return c.getLandmarksList();if(c.isClassificationsList())return c.getClassificationsList();if(c.isObjectDetectionList())return c.getObjectDetectionList();if(c.isTexture2d()){var d=b.j[a];d||(d=new T(b.g,b.l),b.j[a]=d);b=d;c=c.getTexture2d();b.A(c);return b.i.canvas}}
+function Ca(b,a){for(var c=a.name||"$",d=[].concat(ea(a.wants)),e=new b.g.StringList,k=G(a.wants),f=k.next();!f.done;f=k.next())e.push_back(f.value);k=b.g.PacketListener.implement({onResults:function(g){return S(b,function l(){var n,v,q=this,r,w,p;return R(l,function(m){if(1==m.g){n={};for(v=0;v<a.wants.length;++v)n[d[v]]=g.get(v);var C;if(C=a.outs){for(var H={},na=G(Object.keys(C)),A=na.next();!A.done;A=na.next()){A=A.value;var F=C[A];if("string"===typeof F)H[A]=Fa(q,A,n[F]);else{var z=n[F.stream];
+if(void 0!==z){if("detection_list"===F.type){var t=z.getRectList(),D=z.getLandmarksList();z=z.getClassificationsList();var B=[];if(t)for(var E=0;E<t.size();++E){var Y={O:t.get(E),S:U(D.get(E)),P:ya(z.get(E))};B.push(Y)}H[A]=B}else if("landmarks"===F.type)t=z.getLandmarks(),H[A]=t?U(t):void 0;else if("landmarks_list"===F.type){if(t=z.getLandmarksList()){D=[];z=t.size();for(B=0;B<z;++B)E=t.get(B),D.push(U(E));t=D}else t=void 0;H[A]=t}else if("rect_list"===F.type){if(t=z.getRectList()){D=[];z=t.size();
+for(B=0;B<z;++B)E=t.get(B),D.push(E);t=D}else t=void 0;H[A]=t}else if("classifications_list"===F.type){if(t=z.getClassificationsList()){D=[];z=t.size();for(B=0;B<z;++B)E=t.get(B),D.push(ya(E));t=D}else t=void 0;H[A]=t}else if("object_detection_list"===F.type){if(t=z.getObjectDetectionList()){D=[];z=t.size();for(B=0;B<z;++B){var Z=t.get(B);E=D;Y=E.push;for(var Ka=Z.id,oa=Z.keypoints,pa=[],La=oa.size(),aa=0;aa<La;++aa){var J=oa.get(aa);pa.push({id:J.id,point3d:{x:J.point3d.x,y:J.point3d.y,z:J.point3d.z},
+point2d:{x:J.point2d.x,y:J.point2d.y,depth:J.point2d.depth}})}Y.call(E,{id:Ka,keypoints:pa,visibility:Z.visibility})}t=D}else t=void 0;H[A]=t}else if("texture"===F.type)t=q.j[A],t||(t=new T(q.g,q.l),q.j[A]=t),D=z.getTexture2d(),t.A(D),H[A]=t.i.canvas;else throw Error("Unknown output config type: '"+F.type+"'");F.transform&&H[A]&&(H[A]=F.transform(H[A]))}}}C=H}else C=n;r=C;(w=q.listeners[c])?m=O(m,q.o,3):(m.g=0,m=void 0);return m}if(p=w(r))return q.o=p,m.return(p);m.g=0})})}});b.i.attachMultiListener(e,
+k);e.delete()}V.prototype.onResults=function(b,a){this.listeners[a||"$"]=b};sa("Solution",V);sa("OptionType",{NUMBER:0,BOOL:1,0:"NUMBER",1:"BOOL"});function Ga(){var b=this;return new Promise(function(a){setTimeout(function(){return S(b,function d(){return R(d,function(e){a();e.g=0})})},0)})}function W(b){this.g=new V(b)}W.prototype.close=function(){this.g.close();return Promise.resolve()};function Ha(b){return S(b,function c(){var d=this;return R(c,function(e){return 1==e.g?O(e,Ea(d.g),2):e.return(d)})})}W.prototype.send=function(b){return S(this,function c(){var d=this;return R(c,function(e){return O(e,d.g.send(b),0)})})};
+W.prototype.onResults=function(b){this.g.onResults(b)};function X(b){return b instanceof Object?JSON.stringify(b):""+b}function Ia(b,a){var c=document.createElement("canvas"),d=c.getContext("2d");b.width=c.width=a.width;b.height=c.height=a.height;d.clearRect(0,0,a.width,a.height);d.drawImage(a,0,0,a.width,a.height);return new Promise(function(e){b.onload=function(){e()};b.src=c.toDataURL()})}
+function Ja(b){var a=document.createElement("canvas");a.width=b.width;a.height=b.height;var c=a.getContext("2d");c.drawImage(b,0,0,b.width,b.height);return c.getImageData(0,0,a.width,a.height)}
+function Ma(b,a,c,d){return new Promise(function(e){a.width===c.width&&a.height===c.height||e("Image on stream "+b+": Dimensions don't match. FOUND: "+a.width+"x"+a.height+", EXPECTED: "+c.width+"x"+c.height);for(var k=Ja(a).data,f=Ja(c).data,g=0,h=0;h<k.length/4;h++)g+=Math.abs(k[4*h]-f[4*h])/255,g+=Math.abs(k[4*h+1]-f[4*h+1])/255,g+=Math.abs(k[4*h+2]-f[4*h+2])/255;k=100*g/(a.width*a.height*3);k>d&&e("Image on stream "+b+": Failed within a tolerance of "+d+" (was "+k+").");e(void 0)})}
+function Na(b,a){var c=document.createElement("div");c.classList.add("stream");c.textContent="Stream: "+b.name;a.appendChild(c)}
+function Oa(b,a){var c=this;Na(b,a);var d=b.element=document.createElement("img");d.classList.add(b.name);a.appendChild(d);b.F=function(){return b.element};b.A=function(k){return S(c,function g(){return R(g,function(h){return O(h,Ia(d,k),0)})})};b.validate=function(k){return S(c,function g(){return R(g,function(h){return h.return(Ma(b.name,b.element,k.element,k.tolerance||0))})})};var e=b.src;return e?new Promise(function(k){d.onload=function(){return S(c,function g(){return R(g,function(h){k();h.g=
+0})})};d.onerror=function(){throw Error("Image "+e+" did not load correctly.");};d.src=e}):Promise.resolve()}
+function Pa(b,a){return S(this,function d(){var e=this,k,f,g;return R(d,function(h){switch(h.g){case 1:k=e;Na(b,a);f=b.element=document.createElement("div");b.F=function(){if(f.textContent)return JSON.parse(f.textContent).data};b.A=function(l){return S(k,function v(){var q;return R(v,function(r){q={data:l};f.textContent=JSON.stringify(q);r.g=0})})};b.validate=function(l){var n=b.F(),v=l.F();return l.dataPattern?(new RegExp(l.dataPattern)).test(X(n))?Promise.resolve(void 0):Promise.resolve("Object on stream "+
+b.name+" failed pattern "+l.dataPattern+". FOUND: "+X(n)):n===v?Promise.resolve(void 0):Promise.resolve("Object on stream "+b.name+" failed. FOUND: "+X(n)+", EXPECTED: "+X(v))};f.classList.add(b.name);if(!b.L){b.R?f.textContent=JSON.stringify({data:b.data}):b.data&&(f.textContent=JSON.stringify({data:b.data}));h.g=2;break}g=f;return O(h,fetch(b.L),4);case 4:return O(h,h.h.text(),3);case 3:g.textContent=h.h;case 2:return a.appendChild(f),h.return(Promise.resolve())}})})}
+function Qa(b,a){return S(this,function d(){var e,k,f;return R(d,function(g){1==g.g&&(e=G(b),k=e.next());if(3!=g.g){if(k.done){g.g=0;return}f=k.value;return"video"===f.type?O(g,Oa(f,a),3):O(g,Pa(f,a),3)}k=e.next();g.g=2})})}
+function Ra(b,a,c){S(b,function e(){var k,f,g,h,l,n,v,q,r,w=this;return R(e,function(p){switch(p.g){case 1:k=[],f=G(c.test.outputs),g=f.next();case 2:if(g.done){p.g=4;break}h=g.value;l=h.name;return O(p,h.A(a[l]),5);case 5:n=G(c.test.expects),v=n.next();case 6:if(v.done){p.g=3;break}q=v.value;if(q.name!==l){p.g=7;break}return O(p,h.validate(q),10);case 10:(r=p.h)&&k.push(r);p.g=3;break;case 7:v=n.next();p.g=6;break;case 3:g=f.next();p.g=2;break;case 4:w.h.textContent=k.join("\n"),w.l.textContent=
+"COMPLETE",p.g=0}})})}
+function Sa(b,a){S(b,function d(){var e=this,k,f,g,h,l,n,v,q,r,w,p;return R(d,function(m){switch(m.g){case 1:k=e;if(!a.solutionUrl){m.g=2;break}return O(m,fetch(a.solutionUrl),4);case 4:return O(m,m.h.json(),3);case 3:f=m.h,a.solution=f;case 2:if(!a.testUrl){m.g=5;break}return O(m,fetch(a.testUrl),7);case 7:return O(m,m.h.json(),6);case 6:g=m.h,a.test=g;case 5:return a.binarypb&&(a.solution.graph={url:a.binarypb}),h=a.name,a.solution.files=a.solution.files||[],a.solution.files=[].concat(ea(a.solution.files),
+[{url:h+"_web_solution_packed_assets_loader.js"},{simd:!1,url:h+"_web_solution_wasm_bin.js"},{simd:!0,url:h+"_web_solution_simd_wasm_bin.js"}]),O(m,Ha(new W(a.solution)),8);case 8:return l=m.h,O(m,Qa(a.test.inputs,e.inputs),9);case 9:return O(m,Qa(a.test.expects,e.i),10);case 10:return O(m,Qa(a.test.outputs,e.g),11);case 11:return O(m,Ga(),12);case 12:n={};v=G(a.test.inputs);for(q=v.next();!q.done;q=v.next())r=q.value,n[r.name]=r.F();e.o.textContent="COMPLETE";if(!a.test.options||!a.test.options.warmup){m.g=
+13;break}w=a.test.options.warmup;p=0;case 14:if(!(p<w)){m.g=13;break}return O(m,l.send(n),15);case 15:p++;m.g=14;break;case 13:return l.onResults(function(C){Ra(k,C,a)}),O(m,l.send(n),0)}})})};S(new function(){},function Ta(){var a=this,c;return R(Ta,function(d){c=a;a.m=document.querySelector(".test");a.j=document.querySelector(".run-test");a.l=document.querySelector(".test-complete");a.h=document.querySelector(".errors");a.o=document.querySelector(".test-ready");a.g=document.querySelector(".outputs");a.i=document.querySelector(".expects");a.inputs=document.querySelector(".inputs");a.j.onclick=function(){Sa(c,JSON.parse(c.m.value))};return O(d,Ga(),0)})});}).call(this);
diff --git a/content/test/data/gpu/mediapipe/mediapipe_chromium_tests.zip.sha1 b/content/test/data/gpu/mediapipe/mediapipe_chromium_tests.zip.sha1
new file mode 100644
index 0000000000000..171b068759965
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/mediapipe_chromium_tests.zip.sha1
@@ -0,0 +1 @@
+1d6ca505c384ef8f5af14e7958f62d54ec126356
\ No newline at end of file
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/_CLICK_ME_TO_RUN_scoob_part2_test_LOCALLY.html b/content/test/data/gpu/mediapipe/scoob_part2_test/_CLICK_ME_TO_RUN_scoob_part2_test_LOCALLY.html
new file mode 100644
index 0000000000000..279aaf7da2446
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/_CLICK_ME_TO_RUN_scoob_part2_test_LOCALLY.html
@@ -0,0 +1,96 @@
+<!DOCTYPE html>
+<html>
+  <head>
+    <style>
+      textarea { width: 500px; height: 100px; }
+      body {
+        font-family: Arial, Helvetica, sans-serif;
+      }
+      .group {
+        background-color: #e0eef3;
+        padding: 5px;
+        margin: 5px;
+      }
+      .instructions {
+        padding-bottom: 5px;
+      }
+      .run-test { width: 500px; }
+      .status { font-weight: 600; }
+      .title { font-size: 18pt; font-weight: 600; padding-bottom: 20px; }
+      .outputs, .inputs, .expects {
+        display: inline-block;
+        min-width: 20px;
+        min-height: 20px;
+        padding: 10px;
+        margin: 5px;
+      }
+      .inputs { background-color: red; }
+      .expects { background-color: orange; }
+      .outputs { background-color: green; }
+    </style>
+    <title>MediaPipe Graph Test for Web</title>
+  </head>
+<body>
+
+  <div class="title">Mediapipe for Web: scoob_part2_test</div>
+
+  <div class="group">
+    <div class="instructions">
+      Test is loaded into the following input element:
+    </div>
+    <div class="input">
+      <textarea class="test"></textarea>
+    </div>
+    <button class="run-test">
+      Run Test
+    </button>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      When the graph loads, loaded status will turn COMPLETE.
+      When the test finishes, test status will turn COMPLETE.
+    </div>
+
+    <div class="status">
+      <span class="instructions">Loaded Status:</span>
+      <span class="test-ready">INCOMPLETE</span>
+    </div>
+
+    <div class="status">
+      <span class="instructions">Test Status:</span>
+      <span class="test-complete">INCOMPLETE</span>
+    </div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">Errors (if any) will show up here:</div>
+    <div class="errors"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Inputs:
+    </div>
+    <div class="inputs"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Expectations:
+    </div>
+    <div class="expects"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Outputs:
+    </div>
+    <div class="outputs"></div>
+  </div>
+
+</body>
+</html>
+<script src="test_harness_driver_bin.js"></script>
+<!-- The following line is replaced for the ":<name>_serve" target. Do not hand edit. -->
+<script src="scoob_part2_test_localdriver_bin.js"></script>
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/effects_graph_config.json b/content/test/data/gpu/mediapipe/scoob_part2_test/effects_graph_config.json
new file mode 100644
index 0000000000000..17657cb283c2e
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/effects_graph_config.json
@@ -0,0 +1,10 @@
+{
+  "files": [ ],
+  "inputs": {
+    "image": {"type": "video", "stream": "input_video"}
+  },
+  "listeners": [{
+    "wants": ["output_video"],
+    "outs": { "image": "output_video" }
+  }]
+}
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_scoob_part2_effects_graph_test.json b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_scoob_part2_effects_graph_test.json
new file mode 100644
index 0000000000000..7bc11ed778a3b
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_scoob_part2_effects_graph_test.json
@@ -0,0 +1,15 @@
+{
+  "options" : {
+    "warmup" : 10
+  },
+  "inputs": [
+    {"name": "image", "type": "video", "src": "effects_test_image.jpg"}
+  ],
+  "expects": [
+    {"name": "image", "type": "video",
+     "src": "scuba_goldens/scoob_part2_expected.png", "tolerance": 2}
+  ],
+  "outputs": [
+    {"name": "image", "type": "video"}
+  ]
+}
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_scoob_part2_effects_graph_test_binarypb.binarypb b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_scoob_part2_effects_graph_test_binarypb.binarypb
new file mode 100644
index 0000000000000..db5af589e7675
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_scoob_part2_effects_graph_test_binarypb.binarypb
@@ -0,0 +1,2 @@
+
+(scoob_part2input_video"output_videoRinput_videozoutput_video
\ No newline at end of file
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_localdriver_bin.js b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_localdriver_bin.js
new file mode 100644
index 0000000000000..947ce700f247f
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_localdriver_bin.js
@@ -0,0 +1,6 @@
+(function(){/*
+
+ Copyright The Closure Library Authors.
+ SPDX-License-Identifier: Apache-2.0
+*/
+'use strict';var d=this||self;function f(b,e){b=b.split(".");var a=d;b[0]in a||"undefined"==typeof a.execScript||a.execScript("var "+b[0]);for(var c;b.length&&(c=b.shift());)b.length||void 0===e?a[c]&&a[c]!==Object.prototype[c]?a=a[c]:a=a[c]={}:a[c]=e};document.querySelector(".test").value=JSON.stringify({binarypb:"scoob_part2_scoob_part2_effects_graph_test_binarypb.binarypb",solutionUrl:"effects_graph_config.json",testUrl:"scoob_part2_scoob_part2_effects_graph_test.json",name:"scoob_part2_test"});f("runTest",function(){document.querySelector(".run-test").click()});f("isTestComplete",function(){return"COMPLETE"===document.querySelector(".test-complete").textContent});f("getErrors",function(){return document.querySelector(".errors").textContent});}).call(this);
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_packed_assets_loader.js b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_packed_assets_loader.js
new file mode 100644
index 0000000000000..16e15152a0531
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_packed_assets_loader.js
@@ -0,0 +1,183 @@
+
+  var Module = typeof createMediapipeSolutionsPackedAssets !== 'undefined' ? createMediapipeSolutionsPackedAssets : {};
+  
+  if (!Module.expectedDataFileDownloads) {
+    Module.expectedDataFileDownloads = 0;
+  }
+  Module.expectedDataFileDownloads++;
+  (function() {
+   var loadPackage = function(metadata) {
+  
+      var PACKAGE_PATH;
+      if (typeof window === 'object') {
+        PACKAGE_PATH = window['encodeURIComponent'](window.location.pathname.toString().substring(0, window.location.pathname.toString().lastIndexOf('/')) + '/');
+      } else if (typeof location !== 'undefined') {
+        // worker
+        PACKAGE_PATH = encodeURIComponent(location.pathname.toString().substring(0, location.pathname.toString().lastIndexOf('/')) + '/');
+      } else {
+        throw 'using preloaded data can only be done on a web page or in a web worker';
+      }
+      var PACKAGE_NAME = 'blaze-out/k8-opt/genfiles/media/effectspipe/effects/effect/scoob_part2/scoob_part2_test_web_solution_packed_assets.data';
+      var REMOTE_PACKAGE_BASE = 'scoob_part2_test_web_solution_packed_assets.data';
+      if (typeof Module['locateFilePackage'] === 'function' && !Module['locateFile']) {
+        Module['locateFile'] = Module['locateFilePackage'];
+        err('warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)');
+      }
+      var REMOTE_PACKAGE_NAME = Module['locateFile'] ? Module['locateFile'](REMOTE_PACKAGE_BASE, '') : REMOTE_PACKAGE_BASE;
+    
+      var REMOTE_PACKAGE_SIZE = metadata['remote_package_size'];
+      var PACKAGE_UUID = metadata['package_uuid'];
+    
+      function fetchRemotePackage(packageName, packageSize, callback, errback) {
+        var xhr = new XMLHttpRequest();
+        xhr.open('GET', packageName, true);
+        xhr.responseType = 'arraybuffer';
+        xhr.onprogress = function(event) {
+          var url = packageName;
+          var size = packageSize;
+          if (event.total) size = event.total;
+          if (event.loaded) {
+            if (!xhr.addedTotal) {
+              xhr.addedTotal = true;
+              if (!Module.dataFileDownloads) Module.dataFileDownloads = {};
+              Module.dataFileDownloads[url] = {
+                loaded: event.loaded,
+                total: size
+              };
+            } else {
+              Module.dataFileDownloads[url].loaded = event.loaded;
+            }
+            var total = 0;
+            var loaded = 0;
+            var num = 0;
+            for (var download in Module.dataFileDownloads) {
+            var data = Module.dataFileDownloads[download];
+              total += data.total;
+              loaded += data.loaded;
+              num++;
+            }
+            total = Math.ceil(total * Module.expectedDataFileDownloads/num);
+            if (Module['setStatus']) Module['setStatus']('Downloading data... (' + loaded + '/' + total + ')');
+          } else if (!Module.dataFileDownloads) {
+            if (Module['setStatus']) Module['setStatus']('Downloading data...');
+          }
+        };
+        xhr.onerror = function(event) {
+          throw new Error("NetworkError for: " + packageName);
+        }
+        xhr.onload = function(event) {
+          if (xhr.status == 200 || xhr.status == 304 || xhr.status == 206 || (xhr.status == 0 && xhr.response)) { // file URLs can return 0
+            var packageData = xhr.response;
+            callback(packageData);
+          } else {
+            throw new Error(xhr.statusText + " : " + xhr.responseURL);
+          }
+        };
+        xhr.send(null);
+      };
+
+      function handleError(error) {
+        console.error('package error:', error);
+      };
+    
+        var fetchedCallback = null;
+        var fetched = Module['getPreloadedPackage'] ? Module['getPreloadedPackage'](REMOTE_PACKAGE_NAME, REMOTE_PACKAGE_SIZE) : null;
+
+        if (!fetched) fetchRemotePackage(REMOTE_PACKAGE_NAME, REMOTE_PACKAGE_SIZE, function(data) {
+          if (fetchedCallback) {
+            fetchedCallback(data);
+            fetchedCallback = null;
+          } else {
+            fetched = data;
+          }
+        }, handleError);
+      
+    function runWithFS() {
+  
+      function assert(check, msg) {
+        if (!check) throw msg + new Error().stack;
+      }
+  Module['FS_createPath']("/", "scoob_part2", true, true);
+
+          /** @constructor */
+          function DataRequest(start, end, audio) {
+            this.start = start;
+            this.end = end;
+            this.audio = audio;
+          }
+          DataRequest.prototype = {
+            requests: {},
+            open: function(mode, name) {
+              this.name = name;
+              this.requests[name] = this;
+              Module['addRunDependency']('fp ' + this.name);
+            },
+            send: function() {},
+            onload: function() {
+              var byteArray = this.byteArray.subarray(this.start, this.end);
+              this.finish(byteArray);
+            },
+            finish: function(byteArray) {
+              var that = this;
+      
+          Module['FS_createPreloadedFile'](this.name, null, byteArray, true, true, function() {
+            Module['removeRunDependency']('fp ' + that.name);
+          }, function() {
+            if (that.audio) {
+              Module['removeRunDependency']('fp ' + that.name); // workaround for chromium bug 124926 (still no audio with this, but at least we don't hang)
+            } else {
+              err('Preloading file ' + that.name + ' failed');
+            }
+          }, false, true); // canOwn this data in the filesystem, it is a slide into the heap that will never change
+  
+              this.requests[this.name] = null;
+            }
+          };
+      
+              var files = metadata['files'];
+              for (var i = 0; i < files.length; ++i) {
+                new DataRequest(files[i]['start'], files[i]['end'], files[i]['audio']).open('GET', files[i]['filename']);
+              }
+      
+        
+      function processPackageData(arrayBuffer) {
+        assert(arrayBuffer, 'Loading data file failed.');
+        assert(arrayBuffer instanceof ArrayBuffer, 'bad input to processPackageData');
+        var byteArray = new Uint8Array(arrayBuffer);
+        var curr;
+        
+          // Reuse the bytearray from the XHR as the source for file reads.
+          DataRequest.prototype.byteArray = byteArray;
+    
+            var files = metadata['files'];
+            for (var i = 0; i < files.length; ++i) {
+              DataRequest.prototype.requests[files[i].filename].onload();
+            }
+                Module['removeRunDependency']('datafile_blaze-out/k8-opt/genfiles/media/effectspipe/effects/effect/scoob_part2/scoob_part2_test_web_solution_packed_assets.data');
+
+      };
+      Module['addRunDependency']('datafile_blaze-out/k8-opt/genfiles/media/effectspipe/effects/effect/scoob_part2/scoob_part2_test_web_solution_packed_assets.data');
+    
+      if (!Module.preloadResults) Module.preloadResults = {};
+    
+        Module.preloadResults[PACKAGE_NAME] = {fromCache: false};
+        if (fetched) {
+          processPackageData(fetched);
+          fetched = null;
+        } else {
+          fetchedCallback = processPackageData;
+        }
+      
+    }
+    if (Module['calledRun']) {
+      runWithFS();
+    } else {
+      if (!Module['preRun']) Module['preRun'] = [];
+      Module["preRun"].push(runWithFS); // FS is not initialized yet, wait for it
+    }
+  
+   }
+   loadPackage({"files": [{"filename": "/triggers_xref_2019_05_13_v0.xnxr", "start": 0, "end": 592, "audio": 0}, {"filename": "/segmentation-lite.f16.tflite", "start": 592, "end": 457152, "audio": 0}, {"filename": "/segmentation-full.f16.tflite", "start": 457152, "end": 765824, "audio": 0}, {"filename": "/overlay_STUDIO_TINT.png", "start": 765824, "end": 1075380, "audio": 0}, {"filename": "/overlay_LIGHT_LEAK.png", "start": 1075380, "end": 1221020, "audio": 0}, {"filename": "/overlay_GOOD_MORNING.png", "start": 1221020, "end": 1522963, "audio": 0}, {"filename": "/lut_VIVID.png", "start": 1522963, "end": 1524328, "audio": 0}, {"filename": "/lut_STUDIO_TINT.png", "start": 1524328, "end": 1527371, "audio": 0}, {"filename": "/lut_NOIR.png", "start": 1527371, "end": 1529012, "audio": 0}, {"filename": "/lut_LIGHT_LEAK.png", "start": 1529012, "end": 1533284, "audio": 0}, {"filename": "/lut_GOOD_MORNING.png", "start": 1533284, "end": 1539493, "audio": 0}, {"filename": "/lut_GOLD_2.png", "start": 1539493, "end": 1544436, "audio": 0}, {"filename": "/lut_GLOW_3.png", "start": 1544436, "end": 1548465, "audio": 0}, {"filename": "/lut_CHROMA_2.png", "start": 1548465, "end": 1552186, "audio": 0}, {"filename": "/lut_BLOCKBUSTER_fg.png", "start": 1552186, "end": 1552373, "audio": 0}, {"filename": "/lut_BLOCKBUSTER_bg.png", "start": 1552373, "end": 1555481, "audio": 0}, {"filename": "/lut_AUTO.png", "start": 1555481, "end": 1557720, "audio": 0}, {"filename": "/facerigs-full_roi_as_sub_head-2020_01_05-v0.f16.tflite", "start": 1557720, "end": 2789744, "audio": 0}, {"filename": "/facemesh_iris_faceflag-full_as_sub_head-2020_01_31-v0.f16.tflite", "start": 2789744, "end": 8489616, "audio": 0}, {"filename": "/facemesh-ultralite.f16.tflite", "start": 8489616, "end": 9228440, "audio": 0}, {"filename": "/facedetector-front.f16.tflite", "start": 9228440, "end": 9431712, "audio": 0}, {"filename": "/face_model_468_legacy.xnft", "start": 9431712, "end": 9460404, "audio": 0}, {"filename": "/face_model_468.xnft", "start": 9460404, "end": 9487408, "audio": 0}, {"filename": "/blend_shape_xref_duomoji.xnxr", "start": 9487408, "end": 9489744, "audio": 0}, {"filename": "/bg_STUDIO_TINT.png", "start": 9489744, "end": 9681496, "audio": 0}, {"filename": "/scoob_part2/vertical_bar.fplshader", "start": 9681496, "end": 9686568, "audio": 0}, {"filename": "/scoob_part2/texture_clamp_to_border.fplshader", "start": 9686568, "end": 9689824, "audio": 0}, {"filename": "/scoob_part2/texture.fplshader", "start": 9689824, "end": 9692892, "audio": 0}, {"filename": "/scoob_part2/text.fplshader", "start": 9692892, "end": 9696360, "audio": 0}, {"filename": "/scoob_part2/sprite_animation_texture.fplshader", "start": 9696360, "end": 9700020, "audio": 0}, {"filename": "/scoob_part2/sprite_animation_skinned_texture.fplshader", "start": 9700020, "end": 9710060, "audio": 0}, {"filename": "/scoob_part2/sprite_animation_matcap.fplshader", "start": 9710060, "end": 9714260, "audio": 0}, {"filename": "/scoob_part2/soft_retouch_layer.bin", "start": 9714260, "end": 9714560, "audio": 0}, {"filename": "/scoob_part2/soft_retouch_filter.bin", "start": 9714560, "end": 9714760, "audio": 0}, {"filename": "/scoob_part2/skinned_texture.fplshader", "start": 9714760, "end": 9724208, "audio": 0}, {"filename": "/scoob_part2/screen_texture.fplshader", "start": 9724208, "end": 9727388, "audio": 0}, {"filename": "/scoob_part2/scoob_paws.gsa", "start": 9727388, "end": 10542664, "audio": 0}, {"filename": "/scoob_part2/scoob_paws.bin", "start": 10542664, "end": 10542968, "audio": 0}, {"filename": "/scoob_part2/scoob_part2.bin", "start": 10542968, "end": 10543632, "audio": 0}, {"filename": "/scoob_part2/scoob_head.gsa", "start": 10543632, "end": 11975561, "audio": 0}, {"filename": "/scoob_part2/scoob_head.bin", "start": 11975561, "end": 11975865, "audio": 0}, {"filename": "/scoob_part2/scoob_albedo.webp", "start": 11975865, "end": 12129149, "audio": 0}, {"filename": "/scoob_part2/placeholder.lullmodel", "start": 12129149, "end": 12131777, "audio": 0}, {"filename": "/scoob_part2/pbr_surface_env.glslh", "start": 12131777, "end": 12139167, "audio": 0}, {"filename": "/scoob_part2/pbr_features_enabled.glslh", "start": 12139167, "end": 12139704, "audio": 0}, {"filename": "/scoob_part2/original_background.bin", "start": 12139704, "end": 12139996, "audio": 0}, {"filename": "/scoob_part2/occluder.lullmodel", "start": 12139996, "end": 12241216, "audio": 0}, {"filename": "/scoob_part2/occluder.bin", "start": 12241216, "end": 12241480, "audio": 0}, {"filename": "/scoob_part2/matcap.fplshader", "start": 12241480, "end": 12245084, "audio": 0}, {"filename": "/scoob_part2/lut_postprocess.fplshader", "start": 12245084, "end": 12250664, "audio": 0}, {"filename": "/scoob_part2/lut_postprocess.bin", "start": 12250664, "end": 12250920, "audio": 0}, {"filename": "/scoob_part2/lut.webp", "start": 12250920, "end": 12261178, "audio": 0}, {"filename": "/scoob_part2/logo.webp", "start": 12261178, "end": 12296020, "audio": 0}, {"filename": "/scoob_part2/logo.lullmodel", "start": 12296020, "end": 12299320, "audio": 0}, {"filename": "/scoob_part2/logo.bin", "start": 12299320, "end": 12299604, "audio": 0}, {"filename": "/scoob_part2/lipstick_light_spectrum.fplshader", "start": 12299604, "end": 12311220, "audio": 0}, {"filename": "/scoob_part2/lips_region_map.fplshader", "start": 12311220, "end": 12315364, "audio": 0}, {"filename": "/scoob_part2/fxaa_postprocess.fplshader", "start": 12315364, "end": 12320672, "audio": 0}, {"filename": "/scoob_part2/fxaa_postprocess.bin", "start": 12320672, "end": 12320908, "audio": 0}, {"filename": "/scoob_part2/facepaint_multiply.fplshader", "start": 12320908, "end": 12325248, "audio": 0}, {"filename": "/scoob_part2/face_occluder_rigid.lullmodel", "start": 12325248, "end": 12375668, "audio": 0}, {"filename": "/scoob_part2/face_occluder_rigid.bin", "start": 12375668, "end": 12375968, "audio": 0}, {"filename": "/scoob_part2/face_occluder.bin", "start": 12375968, "end": 12376164, "audio": 0}, {"filename": "/scoob_part2/eyeshadow_pbr.fplshader", "start": 12376164, "end": 12386104, "audio": 0}, {"filename": "/scoob_part2/dynamic_light.glslh", "start": 12386104, "end": 12387826, "audio": 0}, {"filename": "/scoob_part2/common_vertex.glslh", "start": 12387826, "end": 12388288, "audio": 0}, {"filename": "/scoob_part2/common_fragment_lut.glslh", "start": 12388288, "end": 12390528, "audio": 0}, {"filename": "/scoob_part2/common_fragment_light.glslh", "start": 12390528, "end": 12393547, "audio": 0}, {"filename": "/scoob_part2/common_fragment.glslh", "start": 12393547, "end": 12396017, "audio": 0}, {"filename": "/scoob_part2/color_thresholding.fplshader", "start": 12396017, "end": 12399333, "audio": 0}, {"filename": "/scoob_part2/color.fplshader", "start": 12399333, "end": 12402217, "audio": 0}], "remote_package_size": 12402217, "package_uuid": "2b336fe5-614c-4d62-a9a8-16f957044e89"});
+  
+  })();
+  
\ No newline at end of file
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_simd_wasm_bin.data b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_simd_wasm_bin.data
new file mode 100644
index 0000000000000..e69de29bb2d1d
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_simd_wasm_bin.js b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_simd_wasm_bin.js
new file mode 100644
index 0000000000000..3792cde2b19ae
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_simd_wasm_bin.js
@@ -0,0 +1,21 @@
+
+var createMediapipeSolutionsWasm = (function() {
+  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
+  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
+  return (
+function(createMediapipeSolutionsWasm) {
+  createMediapipeSolutionsWasm = createMediapipeSolutionsWasm || {};
+
+var Module=typeof createMediapipeSolutionsWasm!=="undefined"?createMediapipeSolutionsWasm:{};var readyPromiseResolve,readyPromiseReject;Module["ready"]=new Promise(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject});if(!Object.getOwnPropertyDescriptor(Module["ready"],"_main")){Object.defineProperty(Module["ready"],"_main",{configurable:true,get:function(){abort("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_main",{configurable:true,set:function(){abort("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_end")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_free")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_init")){Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,get:function(){abort("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,set:function(){abort("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackSave")){Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,get:function(){abort("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,set:function(){abort("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackRestore")){Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,get:function(){abort("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,set:function(){abort("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackAlloc")){Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,get:function(){abort("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,set:function(){abort("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___wasm_call_ctors")){Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,get:function(){abort("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,set:function(){abort("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_fflush")){Object.defineProperty(Module["ready"],"_fflush",{configurable:true,get:function(){abort("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_fflush",{configurable:true,set:function(){abort("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___errno_location")){Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,get:function(){abort("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,set:function(){abort("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_malloc")){Object.defineProperty(Module["ready"],"_malloc",{configurable:true,get:function(){abort("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_malloc",{configurable:true,set:function(){abort("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_free")){Object.defineProperty(Module["ready"],"_free",{configurable:true,get:function(){abort("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_free",{configurable:true,set:function(){abort("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_tzname")){Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,get:function(){abort("You are getting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,set:function(){abort("You are setting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_daylight")){Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,get:function(){abort("You are getting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,set:function(){abort("You are setting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_timezone")){Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,get:function(){abort("You are getting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,set:function(){abort("You are setting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memalign")){Object.defineProperty(Module["ready"],"_memalign",{configurable:true,get:function(){abort("You are getting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memalign",{configurable:true,set:function(){abort("You are setting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memset")){Object.defineProperty(Module["ready"],"_memset",{configurable:true,get:function(){abort("You are getting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memset",{configurable:true,set:function(){abort("You are setting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_setThrew")){Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,get:function(){abort("You are getting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,set:function(){abort("You are setting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_main_thread_process_queued_calls")){Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,get:function(){abort("You are getting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,set:function(){abort("You are setting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___cxa_is_pointer_type")){Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,get:function(){abort("You are getting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,set:function(){abort("You are setting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_make_context_current")){Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_get_current_context")){Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"onRuntimeInitialized")){Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,get:function(){abort("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,set:function(){abort("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram="./this.program";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)")}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require("path").dirname(scriptDirectory)+"/"}else{scriptDirectory=__dirname+"/"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);return nodeFS["readFileSync"](filename,binary?null:"utf8")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process["argv"].length>1){thisProgram=process["argv"][1].replace(/\\/g,"/")}arguments_=process["argv"].slice(2);process["on"]("uncaughtException",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process["on"]("unhandledRejection",abort);quit_=function(status){process["exit"](status)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){arguments_=scriptArgs}else if(typeof arguments!="undefined"){arguments_=arguments}if(typeof quit==="function"){quit_=function(status){quit(status)}}if(typeof print!=="undefined"){if(typeof console==="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!=="undefined"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!=="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1)}else{scriptDirectory=""}{read_=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{throw new Error("environment detection error")}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(!Object.getOwnPropertyDescriptor(Module,"arguments")){Object.defineProperty(Module,"arguments",{configurable:true,get:function(){abort("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(!Object.getOwnPropertyDescriptor(Module,"thisProgram")){Object.defineProperty(Module,"thisProgram",{configurable:true,get:function(){abort("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["quit"])quit_=Module["quit"];if(!Object.getOwnPropertyDescriptor(Module,"quit")){Object.defineProperty(Module,"quit",{configurable:true,get:function(){abort("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(typeof Module["memoryInitializerPrefixURL"]==="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]==="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]==="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]==="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]==="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]==="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]==="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]==="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]==="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");if(!Object.getOwnPropertyDescriptor(Module,"read")){Object.defineProperty(Module,"read",{configurable:true,get:function(){abort("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readAsync")){Object.defineProperty(Module,"readAsync",{configurable:true,get:function(){abort("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readBinary")){Object.defineProperty(Module,"readBinary",{configurable:true,get:function(){abort("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"setWindowTitle")){Object.defineProperty(Module,"setWindowTitle",{configurable:true,get:function(){abort("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var STACK_ALIGN=16;function alignMemory(size,factor){if(!factor)factor=STACK_ALIGN;return Math.ceil(size/factor)*factor}function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text)}}function convertJsFunctionToWasm(func,sig){if(typeof WebAssembly.Function==="function"){var typeNames={"i":"i32","j":"i64","f":"f32","d":"f64"};var type={parameters:[],results:sig[0]=="v"?[]:[typeNames[sig[0]]]};for(var i=1;i<sig.length;++i){type.parameters.push(typeNames[sig[i]])}return new WebAssembly.Function(type,func)}var typeSection=[1,0,1,96];var sigRet=sig.slice(0,1);var sigParam=sig.slice(1);var typeCodes={"i":127,"j":126,"f":125,"d":124};typeSection.push(sigParam.length);for(var i=0;i<sigParam.length;++i){typeSection.push(typeCodes[sigParam[i]])}if(sigRet=="v"){typeSection.push(0)}else{typeSection=typeSection.concat([1,typeCodes[sigRet]])}typeSection[1]=typeSection.length-2;var bytes=new Uint8Array([0,97,115,109,1,0,0,0].concat(typeSection,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0]));var module=new WebAssembly.Module(bytes);var instance=new WebAssembly.Instance(module,{"e":{"f":func}});var wrappedFunc=instance.exports["f"];return wrappedFunc}var freeTableIndexes=[];var functionsInTableMap;function getEmptyTableSlot(){if(freeTableIndexes.length){return freeTableIndexes.pop()}try{wasmTable.grow(1)}catch(err){if(!(err instanceof RangeError)){throw err}throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return wasmTable.length-1}function addFunctionWasm(func,sig){if(!functionsInTableMap){functionsInTableMap=new WeakMap;for(var i=0;i<wasmTable.length;i++){var item=wasmTable.get(i);if(item){functionsInTableMap.set(item,i)}}}if(functionsInTableMap.has(func)){return functionsInTableMap.get(func)}var ret=getEmptyTableSlot();try{wasmTable.set(ret,func)}catch(err){if(!(err instanceof TypeError)){throw err}assert(typeof sig!=="undefined","Missing signature argument to addFunction: "+func);var wrapped=convertJsFunctionToWasm(func,sig);wasmTable.set(ret,wrapped)}functionsInTableMap.set(func,ret);return ret}var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var getTempRet0=function(){return tempRet0};var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];if(!Object.getOwnPropertyDescriptor(Module,"wasmBinary")){Object.defineProperty(Module,"wasmBinary",{configurable:true,get:function(){abort("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var noExitRuntime=Module["noExitRuntime"]||true;if(!Object.getOwnPropertyDescriptor(Module,"noExitRuntime")){Object.defineProperty(Module,"noExitRuntime",{configurable:true,get:function(){abort("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(typeof WebAssembly!=="object"){abort("no native wasm support detected")}var wasmMemory;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}function getCFunc(ident){var func=Module["_"+ident];assert(func,"Cannot call unknown function "+ident+", make sure it is exported");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={"string":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},"array":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string")return UTF8ToString(ret);if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;assert(returnType!=="array",'Return type should not be "array".');if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}var ALLOC_STACK=1;var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte 0x"+u0.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;if(u>=2097152)warnOnce("Invalid Unicode code point 0x"+u.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder){return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr))}else{var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit)}return str}}function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr}function lengthBytesUTF16(str){return str.length*2}function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}return str}function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr}function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len}function allocateUTF8(str){var size=lengthBytesUTF8(str)+1;var ret=_malloc(size);if(ret)stringToUTF8Array(str,HEAP8,ret,size);return ret}function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer)}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){assert(str.charCodeAt(i)===str.charCodeAt(i)&255);HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module["HEAP8"]=HEAP8=new Int8Array(buf);Module["HEAP16"]=HEAP16=new Int16Array(buf);Module["HEAP32"]=HEAP32=new Int32Array(buf);Module["HEAPU8"]=HEAPU8=new Uint8Array(buf);Module["HEAPU16"]=HEAPU16=new Uint16Array(buf);Module["HEAPU32"]=HEAPU32=new Uint32Array(buf);Module["HEAPF32"]=HEAPF32=new Float32Array(buf);Module["HEAPF64"]=HEAPF64=new Float64Array(buf)}var TOTAL_STACK=5242880;if(Module["TOTAL_STACK"])assert(TOTAL_STACK===Module["TOTAL_STACK"],"the stack size can no longer be determined at runtime");var INITIAL_MEMORY=Module["INITIAL_MEMORY"]||16777216;if(!Object.getOwnPropertyDescriptor(Module,"INITIAL_MEMORY")){Object.defineProperty(Module,"INITIAL_MEMORY",{configurable:true,get:function(){abort("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(INITIAL_MEMORY>=TOTAL_STACK,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+INITIAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");assert(typeof Int32Array!=="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!==undefined&&Int32Array.prototype.set!==undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally");assert(INITIAL_MEMORY==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end();assert((max&3)==0);HEAPU32[(max>>2)+1]=34821223;HEAPU32[(max>>2)+2]=2310721022;HEAP32[0]=1668509029}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end();var cookie1=HEAPU32[(max>>2)+1];var cookie2=HEAPU32[(max>>2)+2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+cookie2.toString(16)+" "+cookie1.toString(16))}if(HEAP32[0]!==1668509029)abort("Runtime error: The application has corrupted its heap memory area (address zero)!")}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){checkStackCookie();assert(!runtimeInitialized);runtimeInitialized=true;if(!Module["noFSInit"]&&!FS.init.initialized)FS.init();TTY.init();callRuntimeCallbacks(__ATINIT__)}function preMain(){checkStackCookie();FS.ignorePermissions=false;callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){checkStackCookie();runtimeExited=true}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function getUniqueRunDependency(id){var orig=id;while(1){if(!runDependencyTracking[id])return id;id=orig+Math.random()}}function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!=="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:")}err("dependency: "+dep)}if(shown){err("(end of list)")}},1e4)}}else{err("warning: run dependency added without ID")}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id]}else{err("warning: run dependency removed without ID")}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}what+="";err(what);ABORT=true;EXITSTATUS=1;var output="abort("+what+") at "+stackTrace();what=output;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix="file://";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}function createExportWrapper(name,fixedasm){return function(){var displayName=name;var asm=fixedasm;if(!fixedasm){asm=Module["asm"]}assert(runtimeInitialized,"native function `"+displayName+"` called before runtime initialization");assert(!runtimeExited,"native function `"+displayName+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)");if(!asm[name]){assert(asm[name],"exported native function `"+displayName+"` not found")}return asm[name].apply(null,arguments)}}var wasmBinaryFile="scoob_part2_test_web_solution_simd_wasm_bin.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(file){try{if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}else{throw"both async and sync fetching of the wasm failed"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch==="function"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()}).catch(function(){return getBinary(wasmBinaryFile)})}else{if(readAsync){return new Promise(function(resolve,reject){readAsync(wasmBinaryFile,function(response){resolve(new Uint8Array(response))},reject)})}}}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var info={"env":asmLibraryArg,"wasi_snapshot_preview1":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module["asm"]=exports;wasmMemory=Module["asm"]["memory"];assert(wasmMemory,"memory not found in wasm exports");updateGlobalBufferAndViews(wasmMemory.buffer);wasmTable=Module["asm"]["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(Module["asm"]["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiatedSource(output){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(output["instance"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){var result=WebAssembly.instantiate(binary,info);return result}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")}abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch==="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module["instantiateWasm"]){try{var exports=Module["instantiateWasm"](info,receiveInstance);return exports}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}instantiateAsync().catch(readyPromiseReject);return{}}var tempDouble;var tempI64;var ASM_CONSTS={2421480:function(){let init_once=true;if(init_once){const cachedFindCanvasEventTarget=findCanvasEventTarget;if(typeof cachedFindCanvasEventTarget!=="function"){if(typeof console!=="undefined"){console.error("Expected Emscripten global function "+'"findCanvasEventTarget" not found. WebGL context creation '+"may fail.")}return}findCanvasEventTarget=function(target){if(Module&&Module.canvas){return Module.canvas}else if(Module&&Module.canvasCssSelector){return cachedFindCanvasEventTarget(Module.canvasCssSelector)}else{if(typeof console!=="undefined"){console.warn("Module properties canvas and canvasCssSelector not "+"found during WebGL context creation.")}return cachedFindCanvasEventTarget(target)}};init_once=false}}};function _emscripten_set_main_loop_timing(mode,value){Browser.mainLoop.timingMode=mode;Browser.mainLoop.timingValue=value;if(!Browser.mainLoop.func){console.error("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up.");return 1}if(!Browser.mainLoop.running){Browser.mainLoop.running=true}if(mode==0){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setTimeout(){var timeUntilNextTick=Math.max(0,Browser.mainLoop.tickStartTime+value-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,timeUntilNextTick)};Browser.mainLoop.method="timeout"}else if(mode==1){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_rAF(){Browser.requestAnimationFrame(Browser.mainLoop.runner)};Browser.mainLoop.method="rAF"}else if(mode==2){if(typeof setImmediate==="undefined"){var setImmediates=[];var emscriptenMainLoopMessageId="setimmediate";var Browser_setImmediate_messageHandler=function(event){if(event.data===emscriptenMainLoopMessageId||event.data.target===emscriptenMainLoopMessageId){event.stopPropagation();setImmediates.shift()()}};addEventListener("message",Browser_setImmediate_messageHandler,true);setImmediate=function Browser_emulated_setImmediate(func){setImmediates.push(func);if(ENVIRONMENT_IS_WORKER){if(Module["setImmediates"]===undefined)Module["setImmediates"]=[];Module["setImmediates"].push(func);postMessage({target:emscriptenMainLoopMessageId})}else postMessage(emscriptenMainLoopMessageId,"*")}}Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setImmediate(){setImmediate(Browser.mainLoop.runner)};Browser.mainLoop.method="immediate"}return 0}var _emscripten_get_now;if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function(){var t=process["hrtime"]();return t[0]*1e3+t[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else _emscripten_get_now=function(){return performance.now()};var runtimeKeepaliveCounter=0;function _exit(status){exit(status)}function maybeExit(){if(!keepRuntimeAlive()){try{_exit(EXITSTATUS)}catch(e){if(e instanceof ExitStatus){return}throw e}}}function setMainLoop(browserIterationFunc,fps,simulateInfiniteLoop,arg,noSetTiming){assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");Browser.mainLoop.func=browserIterationFunc;Browser.mainLoop.arg=arg;var thisMainLoopId=Browser.mainLoop.currentlyRunningMainloop;function checkIsRunning(){if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop){maybeExit();return false}return true}Browser.mainLoop.running=false;Browser.mainLoop.runner=function Browser_mainLoop_runner(){if(ABORT)return;if(Browser.mainLoop.queue.length>0){var start=Date.now();var blocker=Browser.mainLoop.queue.shift();blocker.func(blocker.arg);if(Browser.mainLoop.remainingBlockers){var remaining=Browser.mainLoop.remainingBlockers;var next=remaining%1==0?remaining-1:Math.floor(remaining);if(blocker.counted){Browser.mainLoop.remainingBlockers=next}else{next=next+.5;Browser.mainLoop.remainingBlockers=(8*remaining+next)/9}}console.log('main loop blocker "'+blocker.name+'" took '+(Date.now()-start)+" ms");Browser.mainLoop.updateStatus();if(!checkIsRunning())return;setTimeout(Browser.mainLoop.runner,0);return}if(!checkIsRunning())return;Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0;if(Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else if(Browser.mainLoop.timingMode==0){Browser.mainLoop.tickStartTime=_emscripten_get_now()}GL.newRenderingFrameStarted();if(Browser.mainLoop.method==="timeout"&&Module.ctx){warnOnce("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!");Browser.mainLoop.method=""}Browser.mainLoop.runIter(browserIterationFunc);checkStackCookie();if(!checkIsRunning())return;if(typeof SDL==="object"&&SDL.audio&&SDL.audio.queueNewAudioData)SDL.audio.queueNewAudioData();Browser.mainLoop.scheduler()};if(!noSetTiming){if(fps&&fps>0)_emscripten_set_main_loop_timing(0,1e3/fps);else _emscripten_set_main_loop_timing(1,1);Browser.mainLoop.scheduler()}if(simulateInfiniteLoop){throw"unwind"}}function callUserCallback(func){if(ABORT){err("user callback triggered after application aborted.  Ignoring.");return}try{func()}catch(e){if(e instanceof ExitStatus){return}else if(e!=="unwind"){if(e&&typeof e==="object"&&e.stack)err("exception thrown: "+[e,e.stack]);throw e}}}var Browser={mainLoop:{running:false,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null;Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var timingMode=Browser.mainLoop.timingMode;var timingValue=Browser.mainLoop.timingValue;var func=Browser.mainLoop.func;Browser.mainLoop.func=null;setMainLoop(func,0,false,Browser.mainLoop.arg,true);_emscripten_set_main_loop_timing(timingMode,timingValue);Browser.mainLoop.scheduler()},updateStatus:function(){if(Module["setStatus"]){var message=Module["statusMessage"]||"Please wait...";var remaining=Browser.mainLoop.remainingBlockers;var expected=Browser.mainLoop.expectedBlockers;if(remaining){if(remaining<expected){Module["setStatus"](message+" ("+(expected-remaining)+"/"+expected+")")}else{Module["setStatus"](message)}}else{Module["setStatus"]("")}}},runIter:function(func){if(ABORT)return;if(Module["preMainLoop"]){var preRet=Module["preMainLoop"]();if(preRet===false){return}}callUserCallback(func);if(Module["postMainLoop"])Module["postMainLoop"]()}},isFullscreen:false,pointerLock:false,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(!Module["preloadPlugins"])Module["preloadPlugins"]=[];if(Browser.initted)return;Browser.initted=true;try{new Blob;Browser.hasBlobConstructor=true}catch(e){Browser.hasBlobConstructor=false;console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder!="undefined"?MozBlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:!Browser.hasBlobConstructor?console.log("warning: no BlobBuilder"):null;Browser.URLObject=typeof window!="undefined"?window.URL?window.URL:window.webkitURL:undefined;if(!Module.noImageDecoding&&typeof Browser.URLObject==="undefined"){console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.");Module.noImageDecoding=true}var imagePlugin={};imagePlugin["canHandle"]=function imagePlugin_canHandle(name){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(name)};imagePlugin["handle"]=function imagePlugin_handle(byteArray,name,onload,onerror){var b=null;if(Browser.hasBlobConstructor){try{b=new Blob([byteArray],{type:Browser.getMimetype(name)});if(b.size!==byteArray.length){b=new Blob([new Uint8Array(byteArray).buffer],{type:Browser.getMimetype(name)})}}catch(e){warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}}if(!b){var bb=new Browser.BlobBuilder;bb.append(new Uint8Array(byteArray).buffer);b=bb.getBlob()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var img=new Image;img.onload=function img_onload(){assert(img.complete,"Image "+name+" could not be decoded");var canvas=document.createElement("canvas");canvas.width=img.width;canvas.height=img.height;var ctx=canvas.getContext("2d");ctx.drawImage(img,0,0);Module["preloadedImages"][name]=canvas;Browser.URLObject.revokeObjectURL(url);if(onload)onload(byteArray)};img.onerror=function img_onerror(event){console.log("Image "+url+" could not be decoded");if(onerror)onerror()};img.src=url};Module["preloadPlugins"].push(imagePlugin);var audioPlugin={};audioPlugin["canHandle"]=function audioPlugin_canHandle(name){return!Module.noAudioDecoding&&name.substr(-4)in{".ogg":1,".wav":1,".mp3":1}};audioPlugin["handle"]=function audioPlugin_handle(byteArray,name,onload,onerror){var done=false;function finish(audio){if(done)return;done=true;Module["preloadedAudios"][name]=audio;if(onload)onload(byteArray)}function fail(){if(done)return;done=true;Module["preloadedAudios"][name]=new Audio;if(onerror)onerror()}if(Browser.hasBlobConstructor){try{var b=new Blob([byteArray],{type:Browser.getMimetype(name)})}catch(e){return fail()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var audio=new Audio;audio.addEventListener("canplaythrough",function(){finish(audio)},false);audio.onerror=function audio_onerror(event){if(done)return;console.log("warning: browser could not fully decode audio "+name+", trying slower base64 approach");function encode64(data){var BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var PAD="=";var ret="";var leftchar=0;var leftbits=0;for(var i=0;i<data.length;i++){leftchar=leftchar<<8|data[i];leftbits+=8;while(leftbits>=6){var curr=leftchar>>leftbits-6&63;leftbits-=6;ret+=BASE[curr]}}if(leftbits==2){ret+=BASE[(leftchar&3)<<4];ret+=PAD+PAD}else if(leftbits==4){ret+=BASE[(leftchar&15)<<2];ret+=PAD}return ret}audio.src="data:audio/x-"+name.substr(-3)+";base64,"+encode64(byteArray);finish(audio)};audio.src=url;Browser.safeSetTimeout(function(){finish(audio)},1e4)}else{return fail()}};Module["preloadPlugins"].push(audioPlugin);function pointerLockChange(){Browser.pointerLock=document["pointerLockElement"]===Module["canvas"]||document["mozPointerLockElement"]===Module["canvas"]||document["webkitPointerLockElement"]===Module["canvas"]||document["msPointerLockElement"]===Module["canvas"]}var canvas=Module["canvas"];if(canvas){canvas.requestPointerLock=canvas["requestPointerLock"]||canvas["mozRequestPointerLock"]||canvas["webkitRequestPointerLock"]||canvas["msRequestPointerLock"]||function(){};canvas.exitPointerLock=document["exitPointerLock"]||document["mozExitPointerLock"]||document["webkitExitPointerLock"]||document["msExitPointerLock"]||function(){};canvas.exitPointerLock=canvas.exitPointerLock.bind(document);document.addEventListener("pointerlockchange",pointerLockChange,false);document.addEventListener("mozpointerlockchange",pointerLockChange,false);document.addEventListener("webkitpointerlockchange",pointerLockChange,false);document.addEventListener("mspointerlockchange",pointerLockChange,false);if(Module["elementPointerLock"]){canvas.addEventListener("click",function(ev){if(!Browser.pointerLock&&Module["canvas"].requestPointerLock){Module["canvas"].requestPointerLock();ev.preventDefault()}},false)}}},createContext:function(canvas,useWebGL,setInModule,webGLContextAttributes){if(useWebGL&&Module.ctx&&canvas==Module.canvas)return Module.ctx;var ctx;var contextHandle;if(useWebGL){var contextAttributes={antialias:false,alpha:false,majorVersion:typeof WebGL2RenderingContext!=="undefined"?2:1};if(webGLContextAttributes){for(var attribute in webGLContextAttributes){contextAttributes[attribute]=webGLContextAttributes[attribute]}}if(typeof GL!=="undefined"){contextHandle=GL.createContext(canvas,contextAttributes);if(contextHandle){ctx=GL.getContext(contextHandle).GLctx}}}else{ctx=canvas.getContext("2d")}if(!ctx)return null;if(setInModule){if(!useWebGL)assert(typeof GLctx==="undefined","cannot set in module if GLctx is used, but we are a non-GL context that would replace it");Module.ctx=ctx;if(useWebGL)GL.makeContextCurrent(contextHandle);Module.useWebGL=useWebGL;Browser.moduleContextCreatedCallbacks.forEach(function(callback){callback()});Browser.init()}return ctx},destroyContext:function(canvas,useWebGL,setInModule){},fullscreenHandlersInstalled:false,lockPointer:undefined,resizeCanvas:undefined,requestFullscreen:function(lockPointer,resizeCanvas){Browser.lockPointer=lockPointer;Browser.resizeCanvas=resizeCanvas;if(typeof Browser.lockPointer==="undefined")Browser.lockPointer=true;if(typeof Browser.resizeCanvas==="undefined")Browser.resizeCanvas=false;var canvas=Module["canvas"];function fullscreenChange(){Browser.isFullscreen=false;var canvasContainer=canvas.parentNode;if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvasContainer){canvas.exitFullscreen=Browser.exitFullscreen;if(Browser.lockPointer)canvas.requestPointerLock();Browser.isFullscreen=true;if(Browser.resizeCanvas){Browser.setFullscreenCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}else{canvasContainer.parentNode.insertBefore(canvas,canvasContainer);canvasContainer.parentNode.removeChild(canvasContainer);if(Browser.resizeCanvas){Browser.setWindowedCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}if(Module["onFullScreen"])Module["onFullScreen"](Browser.isFullscreen);if(Module["onFullscreen"])Module["onFullscreen"](Browser.isFullscreen)}if(!Browser.fullscreenHandlersInstalled){Browser.fullscreenHandlersInstalled=true;document.addEventListener("fullscreenchange",fullscreenChange,false);document.addEventListener("mozfullscreenchange",fullscreenChange,false);document.addEventListener("webkitfullscreenchange",fullscreenChange,false);document.addEventListener("MSFullscreenChange",fullscreenChange,false)}var canvasContainer=document.createElement("div");canvas.parentNode.insertBefore(canvasContainer,canvas);canvasContainer.appendChild(canvas);canvasContainer.requestFullscreen=canvasContainer["requestFullscreen"]||canvasContainer["mozRequestFullScreen"]||canvasContainer["msRequestFullscreen"]||(canvasContainer["webkitRequestFullscreen"]?function(){canvasContainer["webkitRequestFullscreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null)||(canvasContainer["webkitRequestFullScreen"]?function(){canvasContainer["webkitRequestFullScreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null);canvasContainer.requestFullscreen()},requestFullScreen:function(){abort("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen:function(){if(!Browser.isFullscreen){return false}var CFS=document["exitFullscreen"]||document["cancelFullScreen"]||document["mozCancelFullScreen"]||document["msExitFullscreen"]||document["webkitCancelFullScreen"]||function(){};CFS.apply(document,[]);return true},nextRAF:0,fakeRequestAnimationFrame:function(func){var now=Date.now();if(Browser.nextRAF===0){Browser.nextRAF=now+1e3/60}else{while(now+2>=Browser.nextRAF){Browser.nextRAF+=1e3/60}}var delay=Math.max(Browser.nextRAF-now,0);setTimeout(func,delay)},requestAnimationFrame:function(func){if(typeof requestAnimationFrame==="function"){requestAnimationFrame(func);return}var RAF=Browser.fakeRequestAnimationFrame;RAF(func)},safeRequestAnimationFrame:function(func){return Browser.requestAnimationFrame(function(){callUserCallback(func)})},safeSetTimeout:function(func,timeout){return setTimeout(function(){callUserCallback(func)},timeout)},getMimetype:function(name){return{"jpg":"image/jpeg","jpeg":"image/jpeg","png":"image/png","bmp":"image/bmp","ogg":"audio/ogg","wav":"audio/wav","mp3":"audio/mpeg"}[name.substr(name.lastIndexOf(".")+1)]},getUserMedia:function(func){if(!window.getUserMedia){window.getUserMedia=navigator["getUserMedia"]||navigator["mozGetUserMedia"]}window.getUserMedia(func)},getMovementX:function(event){return event["movementX"]||event["mozMovementX"]||event["webkitMovementX"]||0},getMovementY:function(event){return event["movementY"]||event["mozMovementY"]||event["webkitMovementY"]||0},getMouseWheelDelta:function(event){var delta=0;switch(event.type){case"DOMMouseScroll":delta=event.detail/3;break;case"mousewheel":delta=event.wheelDelta/120;break;case"wheel":delta=event.deltaY;switch(event.deltaMode){case 0:delta/=100;break;case 1:delta/=3;break;case 2:delta*=80;break;default:throw"unrecognized mouse wheel delta mode: "+event.deltaMode}break;default:throw"unrecognized mouse wheel event: "+event.type}return delta},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(event){if(Browser.pointerLock){if(event.type!="mousemove"&&"mozMovementX"in event){Browser.mouseMovementX=Browser.mouseMovementY=0}else{Browser.mouseMovementX=Browser.getMovementX(event);Browser.mouseMovementY=Browser.getMovementY(event)}if(typeof SDL!="undefined"){Browser.mouseX=SDL.mouseX+Browser.mouseMovementX;Browser.mouseY=SDL.mouseY+Browser.mouseMovementY}else{Browser.mouseX+=Browser.mouseMovementX;Browser.mouseY+=Browser.mouseMovementY}}else{var rect=Module["canvas"].getBoundingClientRect();var cw=Module["canvas"].width;var ch=Module["canvas"].height;var scrollX=typeof window.scrollX!=="undefined"?window.scrollX:window.pageXOffset;var scrollY=typeof window.scrollY!=="undefined"?window.scrollY:window.pageYOffset;assert(typeof scrollX!=="undefined"&&typeof scrollY!=="undefined","Unable to retrieve scroll position, mouse positions likely broken.");if(event.type==="touchstart"||event.type==="touchend"||event.type==="touchmove"){var touch=event.touch;if(touch===undefined){return}var adjustedX=touch.pageX-(scrollX+rect.left);var adjustedY=touch.pageY-(scrollY+rect.top);adjustedX=adjustedX*(cw/rect.width);adjustedY=adjustedY*(ch/rect.height);var coords={x:adjustedX,y:adjustedY};if(event.type==="touchstart"){Browser.lastTouches[touch.identifier]=coords;Browser.touches[touch.identifier]=coords}else if(event.type==="touchend"||event.type==="touchmove"){var last=Browser.touches[touch.identifier];if(!last)last=coords;Browser.lastTouches[touch.identifier]=last;Browser.touches[touch.identifier]=coords}return}var x=event.pageX-(scrollX+rect.left);var y=event.pageY-(scrollY+rect.top);x=x*(cw/rect.width);y=y*(ch/rect.height);Browser.mouseMovementX=x-Browser.mouseX;Browser.mouseMovementY=y-Browser.mouseY;Browser.mouseX=x;Browser.mouseY=y}},asyncLoad:function(url,onload,onerror,noRunDep){var dep=!noRunDep?getUniqueRunDependency("al "+url):"";readAsync(url,function(arrayBuffer){assert(arrayBuffer,'Loading data file "'+url+'" failed (no arrayBuffer).');onload(new Uint8Array(arrayBuffer));if(dep)removeRunDependency(dep)},function(event){if(onerror){onerror()}else{throw'Loading data file "'+url+'" failed.'}});if(dep)addRunDependency(dep)},resizeListeners:[],updateResizeListeners:function(){var canvas=Module["canvas"];Browser.resizeListeners.forEach(function(listener){listener(canvas.width,canvas.height)})},setCanvasSize:function(width,height,noUpdates){var canvas=Module["canvas"];Browser.updateCanvasDimensions(canvas,width,height);if(!noUpdates)Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags|8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags&~8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},updateCanvasDimensions:function(canvas,wNative,hNative){if(wNative&&hNative){canvas.widthNative=wNative;canvas.heightNative=hNative}else{wNative=canvas.widthNative;hNative=canvas.heightNative}var w=wNative;var h=hNative;if(Module["forcedAspectRatio"]&&Module["forcedAspectRatio"]>0){if(w/h<Module["forcedAspectRatio"]){w=Math.round(h*Module["forcedAspectRatio"])}else{h=Math.round(w/Module["forcedAspectRatio"])}}if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvas.parentNode&&typeof screen!="undefined"){var factor=Math.min(screen.width/w,screen.height/h);w=Math.round(w*factor);h=Math.round(h*factor)}if(Browser.resizeCanvas){if(canvas.width!=w)canvas.width=w;if(canvas.height!=h)canvas.height=h;if(typeof canvas.style!="undefined"){canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}else{if(canvas.width!=wNative)canvas.width=wNative;if(canvas.height!=hNative)canvas.height=hNative;if(typeof canvas.style!="undefined"){if(w!=wNative||h!=hNative){canvas.style.setProperty("width",w+"px","important");canvas.style.setProperty("height",h+"px","important")}else{canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}}},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var handle=Browser.nextWgetRequestHandle;Browser.nextWgetRequestHandle++;return handle}};function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback(Module);continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){wasmTable.get(func)()}else{wasmTable.get(func)(callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}function demangle(func){warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling");return func}function demangleAll(text){var regex=/\b_Z[\w\d_]+/g;return text.replace(regex,function(x){var y=demangle(x);return x===y?x:y+" ["+x+"]"})}function jsStackTrace(){var error=new Error;if(!error.stack){try{throw new Error}catch(e){error=e}if(!error.stack){return"(no stack trace available)"}}return error.stack.toString()}function keepRuntimeAlive(){return noExitRuntime||runtimeKeepaliveCounter>0}function stackTrace(){var js=jsStackTrace();if(Module["extraStackTrace"])js+="\n"+Module["extraStackTrace"]();return demangleAll(js)}var ExceptionInfoAttrs={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function ___cxa_allocate_exception(size){return _malloc(size+ExceptionInfoAttrs.SIZE)+ExceptionInfoAttrs.SIZE}function _atexit(func,arg){}function ___cxa_atexit(a0,a1){return _atexit(a0,a1)}function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-ExceptionInfoAttrs.SIZE;this.set_type=function(type){HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]=type};this.get_type=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]};this.set_destructor=function(destructor){HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]=destructor};this.get_destructor=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]};this.set_refcount=function(refcount){HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=refcount};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]=caught};this.get_caught=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]!=0};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]=rethrown};this.get_rethrown=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]!=0};this.init=function(type,destructor){this.set_type(type);this.set_destructor(destructor);this.set_refcount(0);this.set_caught(false);this.set_rethrown(false)};this.add_ref=function(){var value=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=value+1};this.release_ref=function(){var prev=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=prev-1;assert(prev>0);return prev===1}}function CatchInfo(ptr){this.free=function(){_free(this.ptr);this.ptr=0};this.set_base_ptr=function(basePtr){HEAP32[this.ptr>>2]=basePtr};this.get_base_ptr=function(){return HEAP32[this.ptr>>2]};this.set_adjusted_ptr=function(adjustedPtr){var ptrSize=4;HEAP32[this.ptr+ptrSize>>2]=adjustedPtr};this.get_adjusted_ptr=function(){var ptrSize=4;return HEAP32[this.ptr+ptrSize>>2]};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_exception_info().get_type());if(isPointer){return HEAP32[this.get_base_ptr()>>2]}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.get_base_ptr()};this.get_exception_info=function(){return new ExceptionInfo(this.get_base_ptr())};if(ptr===undefined){this.ptr=_malloc(8);this.set_adjusted_ptr(0)}else{this.ptr=ptr}}var exceptionCaught=[];function exception_addRef(info){info.add_ref()}var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var catchInfo=new CatchInfo(ptr);var info=catchInfo.get_exception_info();if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--}info.set_rethrown(false);exceptionCaught.push(catchInfo);exception_addRef(info);return catchInfo.get_exception_ptr()}var exceptionLast=0;function ___cxa_free_exception(ptr){try{return _free(new ExceptionInfo(ptr).ptr)}catch(e){err("exception during cxa_free_exception: "+e)}}function exception_decRef(info){if(info.release_ref()&&!info.get_rethrown()){var destructor=info.get_destructor();if(destructor){wasmTable.get(destructor)(info.excPtr)}___cxa_free_exception(info.excPtr)}}function ___cxa_end_catch(){_setThrew(0);assert(exceptionCaught.length>0);var catchInfo=exceptionCaught.pop();exception_decRef(catchInfo.get_exception_info());catchInfo.free();exceptionLast=0}function ___resumeException(catchInfoPtr){var catchInfo=new CatchInfo(catchInfoPtr);var ptr=catchInfo.get_base_ptr();if(!exceptionLast){exceptionLast=ptr}catchInfo.free();throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_find_matching_catch_2(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_find_matching_catch_3(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_rethrow(){var catchInfo=exceptionCaught.pop();if(!catchInfo){abort("no exception to throw")}var info=catchInfo.get_exception_info();var ptr=catchInfo.get_base_ptr();if(!info.get_rethrown()){exceptionCaught.push(catchInfo);info.set_rethrown(true);info.set_caught(false);uncaughtExceptionCount++}else{catchInfo.free()}exceptionLast=ptr;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_thread_atexit(a0,a1){return _atexit(a0,a1)}function ___cxa_throw(ptr,type,destructor){var info=new ExceptionInfo(ptr);info.init(type,destructor);exceptionLast=ptr;uncaughtExceptionCount++;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function setErrNo(value){HEAP32[___errno_location()>>2]=value;return value}var PATH={splitPath:function(filename){var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)==="/",trailingSlash=path.substr(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path==="/")return"/";path=PATH.normalize(path);path=path.replace(/\/$/,"");var lastSlash=path.lastIndexOf("/");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join("/"))},join2:function(l,r){return PATH.normalize(l+"/"+r)}};function getRandomDevice(){if(typeof crypto==="object"&&typeof crypto["getRandomValues"]==="function"){var randomBuffer=new Uint8Array(1);return function(){crypto.getRandomValues(randomBuffer);return randomBuffer[0]}}else if(ENVIRONMENT_IS_NODE){try{var crypto_module=require("crypto");return function(){return crypto_module["randomBytes"](1)[0]}}catch(e){}}return function(){abort("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var PATH_FS={resolve:function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:FS.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:function(from,to){from=PATH_FS.resolve(from).substr(1);to=PATH_FS.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(dev,ops){TTY.ttys[dev]={input:[],output:[],ops:ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open:function(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close:function(stream){stream.tty.ops.flush(stream.tty)},flush:function(stream){stream.tty.ops.flush(stream.tty)},read:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length){stream.node.timestamp=Date.now()}return i}},default_tty_ops:{get_char:function(tty){if(!tty.input.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc?Buffer.alloc(BUFSIZE):new Buffer(BUFSIZE);var bytesRead=0;try{bytesRead=nodeFS.readSync(process.stdin.fd,buf,0,BUFSIZE,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}else{result=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\n"}}else if(typeof readline=="function"){result=readline();if(result!==null){result+="\n"}}if(!result){return null}tty.input=intArrayFromString(result,true)}return tty.input.shift()},put_char:function(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){out(UTF8ArrayToString(tty.output,0));tty.output=[]}}},default_tty1_ops:{put_char:function(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){err(UTF8ArrayToString(tty.output,0));tty.output=[]}}}};function mmapAlloc(size){var alignedSize=alignMemory(size,16384);var ptr=_malloc(alignedSize);while(size<alignedSize)HEAP8[ptr+size++]=0;return ptr}var MEMFS={ops_table:null,mount:function(mount){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.timestamp=Date.now();if(parent){parent.contents[name]=node;parent.timestamp=node.timestamp}return node},getFileDataAsTypedArray:function(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage:function(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage:function(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr:function(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.timestamp);attr.mtime=new Date(node.timestamp);attr.ctime=new Date(node.timestamp);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr:function(node,attr){if(attr.mode!==undefined){node.mode=attr.mode}if(attr.timestamp!==undefined){node.timestamp=attr.timestamp}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup:function(parent,name){throw FS.genericErrors[44]},mknod:function(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename:function(old_node,new_dir,new_name){if(FS.isDir(old_node.mode)){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}}delete old_node.parent.contents[old_node.name];old_node.parent.timestamp=Date.now();old_node.name=new_name;new_dir.contents[new_name]=old_node;new_dir.timestamp=old_node.parent.timestamp;old_node.parent=new_dir},unlink:function(parent,name){delete parent.contents[name];parent.timestamp=Date.now()},rmdir:function(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.timestamp=Date.now()},readdir:function(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries},symlink:function(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink:function(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read:function(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);assert(size>=0);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write:function(stream,buffer,offset,length,position,canOwn){assert(!(buffer instanceof ArrayBuffer));if(buffer.buffer===HEAP8.buffer){canOwn=false}if(!length)return 0;var node=stream.node;node.timestamp=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){assert(position===0,"canOwn must imply no weird position inside the file");node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length);node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length),position)}else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek:function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},allocate:function(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)},mmap:function(stream,address,length,position,prot,flags){if(address!==0){throw new FS.ErrnoError(28)}if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents.buffer===buffer){allocated=false;ptr=contents.byteOffset}else{if(position>0||position+length<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}allocated=true;ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}HEAP8.set(contents,ptr)}return{ptr:ptr,allocated:allocated}},msync:function(stream,buffer,offset,length,mmapFlags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(mmapFlags&2){return 0}var bytesWritten=MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};var ERRNO_MESSAGES={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"};var ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(path,opts){path=PATH_FS.resolve(FS.cwd(),path);opts=opts||{};if(!path)return{path:"",node:null};var defaults={follow_mount:true,recurse_count:0};for(var key in defaults){if(opts[key]===undefined){opts[key]=defaults[key]}}if(opts.recurse_count>8){throw new FS.ErrnoError(32)}var parts=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),false);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}current=FS.lookupNode(current,parts[i]);current_path=PATH.join2(current_path,parts[i]);if(FS.isMountpoint(current)){if(!islast||islast&&opts.follow_mount){current=current.mounted.root}}if(!islast||opts.follow){var count=0;while(FS.isLink(current.mode)){var link=FS.readlink(current_path);current_path=PATH_FS.resolve(PATH.dirname(current_path),link);var lookup=FS.lookupPath(current_path,{recurse_count:opts.recurse_count});current=lookup.node;if(count++>40){throw new FS.ErrnoError(32)}}}}return{path:current_path,node:current}},getPath:function(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?mount+"/"+path:mount+path}path=path?node.name+"/"+path:node.name;node=node.parent}},hashName:function(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode:function(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode:function(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode:function(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode,parent)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode:function(parent,name,mode,rdev){assert(typeof parent==="object");var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode:function(node){FS.hashRemoveNode(node)},isRoot:function(node){return node===node.parent},isMountpoint:function(node){return!!node.mounted},isFile:function(mode){return(mode&61440)===32768},isDir:function(mode){return(mode&61440)===16384},isLink:function(mode){return(mode&61440)===40960},isChrdev:function(mode){return(mode&61440)===8192},isBlkdev:function(mode){return(mode&61440)===24576},isFIFO:function(mode){return(mode&61440)===4096},isSocket:function(mode){return(mode&49152)===49152},flagModes:{"r":0,"r+":2,"w":577,"w+":578,"a":1089,"a+":1090},modeStringToFlags:function(str){var flags=FS.flagModes[str];if(typeof flags==="undefined"){throw new Error("Unknown file open mode: "+str)}return flags},flagsToPermissionString:function(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions:function(node,perms){if(FS.ignorePermissions){return 0}if(perms.indexOf("r")!==-1&&!(node.mode&292)){return 2}else if(perms.indexOf("w")!==-1&&!(node.mode&146)){return 2}else if(perms.indexOf("x")!==-1&&!(node.mode&73)){return 2}return 0},mayLookup:function(dir){var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate:function(dir,name){try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete:function(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen:function(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&512){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},MAX_OPEN_FDS:4096,nextfd:function(fd_start,fd_end){fd_start=fd_start||0;fd_end=fd_end||FS.MAX_OPEN_FDS;for(var fd=fd_start;fd<=fd_end;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStream:function(fd){return FS.streams[fd]},createStream:function(stream,fd_start,fd_end){if(!FS.FSStream){FS.FSStream=function(){};FS.FSStream.prototype={object:{get:function(){return this.node},set:function(val){this.node=val}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}}}var newStream=new FS.FSStream;for(var p in stream){newStream[p]=stream[p]}stream=newStream;var fd=FS.nextfd(fd_start,fd_end);stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream:function(fd){FS.streams[fd]=null},chrdev_stream_ops:{open:function(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;if(stream.stream_ops.open){stream.stream_ops.open(stream)}},llseek:function(){throw new FS.ErrnoError(70)}},major:function(dev){return dev>>8},minor:function(dev){return dev&255},makedev:function(ma,mi){return ma<<8|mi},registerDevice:function(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:function(dev){return FS.devices[dev]},getMounts:function(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push.apply(check,m.mounts)}return mounts},syncfs:function(populate,callback){if(typeof populate==="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach(function(mount){if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)})},mount:function(type,opts,mountpoint){if(typeof type==="string"){throw type}var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type:type,opts:opts,mountpoint:mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount:function(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach(function(hash){var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.indexOf(current.mount)!==-1){FS.destroyNode(current)}current=next}});node.mounted=null;var idx=node.mount.mounts.indexOf(mount);assert(idx!==-1);node.mount.mounts.splice(idx,1)},lookup:function(parent,name){return parent.node_ops.lookup(parent,name)},mknod:function(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name||name==="."||name===".."){throw new FS.ErrnoError(28)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},create:function(path,mode){mode=mode!==undefined?mode:438;mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir:function(path,mode){mode=mode!==undefined?mode:511;mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree:function(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev:function(path,mode,dev){if(typeof dev==="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink:function(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename:function(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](old_path,new_path)}}catch(e){err("FS.trackingDelegate['willMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name)}catch(e){throw e}finally{FS.hashAddNode(old_node)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](old_path,new_path)}catch(e){err("FS.trackingDelegate['onMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}},rmdir:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readdir:function(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;if(!node.node_ops.readdir){throw new FS.ErrnoError(54)}return node.node_ops.readdir(node)},unlink:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.unlink(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readlink:function(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return PATH_FS.resolve(FS.getPath(link.parent),link.node_ops.readlink(link))},stat:function(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;if(!node){throw new FS.ErrnoError(44)}if(!node.node_ops.getattr){throw new FS.ErrnoError(63)}return node.node_ops.getattr(node)},lstat:function(path){return FS.stat(path,true)},chmod:function(path,mode,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{mode:mode&4095|node.mode&~4095,timestamp:Date.now()})},lchmod:function(path,mode){FS.chmod(path,mode,true)},fchmod:function(fd,mode){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chmod(stream.node,mode)},chown:function(path,uid,gid,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{timestamp:Date.now()})},lchown:function(path,uid,gid){FS.chown(path,uid,gid,true)},fchown:function(fd,uid,gid){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chown(stream.node,uid,gid)},truncate:function(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}node.node_ops.setattr(node,{size:len,timestamp:Date.now()})},ftruncate:function(fd,len){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.truncate(stream.node,len)},utime:function(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;node.node_ops.setattr(node,{timestamp:Math.max(atime,mtime)})},open:function(path,flags,mode,fd_start,fd_end){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags==="string"?FS.modeStringToFlags(flags):flags;mode=typeof mode==="undefined"?438:mode;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;if(typeof path==="object"){node=path}else{path=PATH.normalize(path);try{var lookup=FS.lookupPath(path,{follow:!(flags&131072)});node=lookup.node}catch(e){}}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else{node=FS.mknod(path,mode,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512){FS.truncate(node,0)}flags&=~(128|512|131072);var stream=FS.createStream({node:node,path:FS.getPath(node),flags:flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false},fd_start,fd_end);if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(Module["logReadFiles"]&&!(flags&1)){if(!FS.readFiles)FS.readFiles={};if(!(path in FS.readFiles)){FS.readFiles[path]=1;err("FS.trackingDelegate error on read file: "+path)}}try{if(FS.trackingDelegate["onOpenFile"]){var trackingFlags=0;if((flags&2097155)!==1){trackingFlags|=FS.tracking.openFlags.READ}if((flags&2097155)!==0){trackingFlags|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](path,trackingFlags)}}catch(e){err("FS.trackingDelegate['onOpenFile']('"+path+"', flags) threw an exception: "+e.message)}return stream},close:function(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed:function(stream){return stream.fd===null},llseek:function(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read:function(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write:function(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;try{if(stream.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](stream.path)}catch(e){err("FS.trackingDelegate['onWriteToFile']('"+stream.path+"') threw an exception: "+e.message)}return bytesWritten},allocate:function(stream,offset,length){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(offset<0||length<=0){throw new FS.ErrnoError(28)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(43)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(138)}stream.stream_ops.allocate(stream,offset,length)},mmap:function(stream,address,length,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}return stream.stream_ops.mmap(stream,address,length,position,prot,flags)},msync:function(stream,buffer,offset,length,mmapFlags){if(!stream||!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},munmap:function(stream){return 0},ioctl:function(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile:function(path,opts){opts=opts||{};opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error('Invalid encoding type "'+opts.encoding+'"')}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf,0)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret},writeFile:function(path,data,opts){opts=opts||{};opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data==="string"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,undefined,opts.canOwn)}else if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{throw new Error("Unsupported data type")}FS.close(stream)},cwd:function(){return FS.currentPath},chdir:function(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories:function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(stream,buffer,offset,length,pos){return length}});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var random_device=getRandomDevice();FS.createDevice("/dev","random",random_device);FS.createDevice("/dev","urandom",random_device);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:function(){var node=FS.createNode(proc_self,"fd",16384|511,73);node.node_ops={lookup:function(parent,name){var fd=+name;var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return stream.path}}};ret.parent=ret;return ret}};return node}},{},"/proc/self/fd")},createStandardStreams:function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1);assert(stdin.fd===0,"invalid handle for stdin ("+stdin.fd+")");assert(stdout.fd===1,"invalid handle for stdout ("+stdout.fd+")");assert(stderr.fd===2,"invalid handle for stderr ("+stderr.fd+")")},ensureErrnoError:function(){if(FS.ErrnoError)return;FS.ErrnoError=function ErrnoError(errno,node){this.node=node;this.setErrno=function(errno){this.errno=errno;for(var key in ERRNO_CODES){if(ERRNO_CODES[key]===errno){this.code=key;break}}};this.setErrno(errno);this.message=ERRNO_MESSAGES[errno];if(this.stack){Object.defineProperty(this,"stack",{value:(new Error).stack,writable:true});this.stack=demangleAll(this.stack)}};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[44].forEach(function(code){FS.genericErrors[code]=new FS.ErrnoError(code);FS.genericErrors[code].stack="<generic error, no stack>"})},staticInit:function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={"MEMFS":MEMFS}},init:function(input,output,error){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=input||Module["stdin"];Module["stdout"]=output||Module["stdout"];Module["stderr"]=error||Module["stderr"];FS.createStandardStreams()},quit:function(){FS.init.initialized=false;var fflush=Module["_fflush"];if(fflush)fflush(0);for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}},getMode:function(canRead,canWrite){var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode},findObject:function(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(ret.exists){return ret.object}else{return null}},analyzePath:function(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath:function(parent,path,canRead,canWrite){parent=typeof parent==="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current},createFile:function(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile:function(parent,name,data,canRead,canWrite,canOwn){var path=name?PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name):parent;var mode=FS.getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data==="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}return node},createDevice:function(parent,name,input,output){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(!!input,!!output);if(!FS.createDevice.major)FS.createDevice.major=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open:function(stream){stream.seekable=false},close:function(stream){if(output&&output.buffer&&output.buffer.length){output(10)}},read:function(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length){stream.node.timestamp=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile:function(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(read_){try{obj.contents=intArrayFromString(read_(obj.url),true);obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}},createLazyFile:function(parent,name,url,canRead,canWrite){function LazyUint8Array(){this.lengthKnown=false;this.chunks=[]}LazyUint8Array.prototype.get=function LazyUint8Array_get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]};LazyUint8Array.prototype.setDataGetter=function LazyUint8Array_setDataGetter(getter){this.getter=getter};LazyUint8Array.prototype.cacheLength=function LazyUint8Array_cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=function(from,to){if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);if(typeof Uint8Array!="undefined")xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}else{return intArrayFromString(xhr.responseText||"",true)}};var lazyArray=this;lazyArray.setDataGetter(function(chunkNum){var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]==="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]==="undefined")throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;Object.defineProperties(lazyArray,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url:url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach(function(key){var fn=node.stream_ops[key];stream_ops[key]=function forceLoadLazyFile(){FS.forceLoadFile(node);return fn.apply(null,arguments)}});stream_ops.read=function stream_ops_read(stream,buffer,offset,length,position){FS.forceLoadFile(node);var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);assert(size>=0);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size};node.stream_ops=stream_ops;return node},createPreloadedFile:function(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish){Browser.init();var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency("cp "+fullname);function processData(byteArray){function finish(byteArray){if(preFinish)preFinish();if(!dontCreateFile){FS.createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}if(onload)onload();removeRunDependency(dep)}var handled=false;Module["preloadPlugins"].forEach(function(plugin){if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,function(){if(onerror)onerror();removeRunDependency(dep)});handled=true}});if(!handled)finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){Browser.asyncLoad(url,function(byteArray){processData(byteArray)},onerror)}else{processData(url)}},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=function openRequest_onupgradeneeded(){out("creating db");var db=openRequest.result;db.createObjectStore(FS.DB_STORE_NAME)};openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;var transaction=db.transaction([FS.DB_STORE_NAME],"readwrite");var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var putRequest=files.put(FS.analyzePath(path).object.contents,path);putRequest.onsuccess=function putRequest_onsuccess(){ok++;if(ok+fail==total)finish()};putRequest.onerror=function putRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},loadFilesFromDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=onerror;openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;try{var transaction=db.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){onerror(e);return}var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var getRequest=files.get(path);getRequest.onsuccess=function getRequest_onsuccess(){if(FS.analyzePath(path).exists){FS.unlink(path)}FS.createDataFile(PATH.dirname(path),PATH.basename(path),getRequest.result,true,true,true);ok++;if(ok+fail==total)finish()};getRequest.onerror=function getRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},absolutePath:function(){abort("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){abort("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){abort("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){abort("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){abort("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){abort("FS.standardizePath has been removed; use PATH.normalize instead")}};var SYSCALLS={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(dirfd,path,allowEmpty){if(path[0]==="/"){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=FS.getStream(dirfd);if(!dirstream)throw new FS.ErrnoError(8);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return PATH.join2(dir,path)},doStat:function(func,path,buf){try{var stat=func(path)}catch(e){if(e&&e.node&&PATH.normalize(path)!==PATH.normalize(FS.getPath(e.node))){return-54}throw e}HEAP32[buf>>2]=stat.dev;HEAP32[buf+4>>2]=0;HEAP32[buf+8>>2]=stat.ino;HEAP32[buf+12>>2]=stat.mode;HEAP32[buf+16>>2]=stat.nlink;HEAP32[buf+20>>2]=stat.uid;HEAP32[buf+24>>2]=stat.gid;HEAP32[buf+28>>2]=stat.rdev;HEAP32[buf+32>>2]=0;tempI64=[stat.size>>>0,(tempDouble=stat.size,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+40>>2]=tempI64[0],HEAP32[buf+44>>2]=tempI64[1];HEAP32[buf+48>>2]=4096;HEAP32[buf+52>>2]=stat.blocks;HEAP32[buf+56>>2]=stat.atime.getTime()/1e3|0;HEAP32[buf+60>>2]=0;HEAP32[buf+64>>2]=stat.mtime.getTime()/1e3|0;HEAP32[buf+68>>2]=0;HEAP32[buf+72>>2]=stat.ctime.getTime()/1e3|0;HEAP32[buf+76>>2]=0;tempI64=[stat.ino>>>0,(tempDouble=stat.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+80>>2]=tempI64[0],HEAP32[buf+84>>2]=tempI64[1];return 0},doMsync:function(addr,stream,len,flags,offset){var buffer=HEAPU8.slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},doMkdir:function(path,mode){path=PATH.normalize(path);if(path[path.length-1]==="/")path=path.substr(0,path.length-1);FS.mkdir(path,mode,0);return 0},doMknod:function(path,mode,dev){switch(mode&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}FS.mknod(path,mode,dev);return 0},doReadlink:function(path,buf,bufsize){if(bufsize<=0)return-28;var ret=FS.readlink(path);var len=Math.min(bufsize,lengthBytesUTF8(ret));var endChar=HEAP8[buf+len];stringToUTF8(ret,buf,bufsize+1);HEAP8[buf+len]=endChar;return len},doAccess:function(path,amode){if(amode&~7){return-28}var node;var lookup=FS.lookupPath(path,{follow:true});node=lookup.node;if(!node){return-44}var perms="";if(amode&4)perms+="r";if(amode&2)perms+="w";if(amode&1)perms+="x";if(perms&&FS.nodePermissions(node,perms)){return-2}return 0},doDup:function(path,flags,suggestFD){var suggest=FS.getStream(suggestFD);if(suggest)FS.close(suggest);return FS.open(path,flags,0,suggestFD,suggestFD).fd},doReadv:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break}return ret},doWritev:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr}return ret},varargs:undefined,get:function(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},getStreamFromFD:function(fd){var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);return stream},get64:function(low,high){if(low>=0)assert(high===0);else assert(high===-1);return low}};function ___sys_fcntl64(fd,cmd,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=SYSCALLS.get();if(arg<0){return-28}var newStream;newStream=FS.open(stream.path,stream.flags,0,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=SYSCALLS.get();stream.flags|=arg;return 0}case 12:{var arg=SYSCALLS.get();var offset=0;HEAP16[arg+offset>>1]=2;return 0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:setErrNo(28);return-1;default:{return-28}}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_fstat64(fd,buf){try{var stream=SYSCALLS.getStreamFromFD(fd);return SYSCALLS.doStat(FS.stat,stream.path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_ioctl(fd,op,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:case 21505:{if(!stream.tty)return-59;return 0}case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!stream.tty)return-59;return 0}case 21519:{if(!stream.tty)return-59;var argp=SYSCALLS.get();HEAP32[argp>>2]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21531:{var argp=SYSCALLS.get();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;return 0}case 21524:{if(!stream.tty)return-59;return 0}default:abort("bad ioctl syscall "+op)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function syscallMmap2(addr,len,prot,flags,fd,off){off<<=12;var ptr;var allocated=false;if((flags&16)!==0&&addr%16384!==0){return-28}if((flags&32)!==0){ptr=_memalign(16384,len);if(!ptr)return-48;_memset(ptr,0,len);allocated=true}else{var info=FS.getStream(fd);if(!info)return-8;var res=FS.mmap(info,addr,len,off,prot,flags);ptr=res.ptr;allocated=res.allocated}SYSCALLS.mappings[ptr]={malloc:ptr,len:len,allocated:allocated,fd:fd,prot:prot,flags:flags,offset:off};return ptr}function ___sys_mmap2(addr,len,prot,flags,fd,off){try{return syscallMmap2(addr,len,prot,flags,fd,off)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_mprotect(addr,len,size){return 0}function syscallMunmap(addr,len){if((addr|0)===-1||len===0){return-28}var info=SYSCALLS.mappings[addr];if(!info)return 0;if(len===info.len){var stream=FS.getStream(info.fd);if(stream){if(info.prot&2){SYSCALLS.doMsync(addr,stream,len,info.flags,info.offset)}FS.munmap(stream)}SYSCALLS.mappings[addr]=null;if(info.allocated){_free(info.malloc)}}return 0}function ___sys_munmap(addr,len){try{return syscallMunmap(addr,len)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_open(path,flags,varargs){SYSCALLS.varargs=varargs;try{var pathname=SYSCALLS.getStr(path);var mode=varargs?SYSCALLS.get():0;var stream=FS.open(pathname,flags,mode);return stream.fd}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_stat64(path,buf){try{path=SYSCALLS.getStr(path);return SYSCALLS.doStat(FS.stat,path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var char_0=48;var char_9=57;function makeLegalFunctionName(name){if(undefined===name){return"_unknown"}name=name.replace(/[^a-zA-Z0-9_]/g,"$");var f=name.charCodeAt(0);if(f>=char_0&&f<=char_9){return"_"+name}else{return name}}function createNamedFunction(name,body){name=makeLegalFunctionName(name);return new Function("body","return function "+name+"() {\n"+'    "use strict";'+"    return body.apply(this, arguments);\n"+"};\n")(body)}var emval_free_list=[];var emval_handle_array=[{},{value:undefined},{value:null},{value:true},{value:false}];function count_emval_handles(){var count=0;for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){++count}}return count}function get_first_emval(){for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){return emval_handle_array[i]}}return null}function init_emval(){Module["count_emval_handles"]=count_emval_handles;Module["get_first_emval"]=get_first_emval}function __emval_register(value){switch(value){case undefined:{return 1}case null:{return 2}case true:{return 3}case false:{return 4}default:{var handle=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;emval_handle_array[handle]={refcount:1,value:value};return handle}}}function extendError(baseErrorType,errorName){var errorClass=createNamedFunction(errorName,function(message){this.name=errorName;this.message=message;var stack=new Error(message).stack;if(stack!==undefined){this.stack=this.toString()+"\n"+stack.replace(/^Error(:[^\n]*)?\n/,"")}});errorClass.prototype=Object.create(baseErrorType.prototype);errorClass.prototype.constructor=errorClass;errorClass.prototype.toString=function(){if(this.message===undefined){return this.name}else{return this.name+": "+this.message}};return errorClass}var PureVirtualError=undefined;function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i)}embind_charCodes=codes}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]]}return ret}function getInheritedInstanceCount(){return Object.keys(registeredInstances).length}function getLiveInheritedInstances(){var rv=[];for(var k in registeredInstances){if(registeredInstances.hasOwnProperty(k)){rv.push(registeredInstances[k])}}return rv}var deletionQueue=[];function flushPendingDeletes(){while(deletionQueue.length){var obj=deletionQueue.pop();obj.$$.deleteScheduled=false;obj["delete"]()}}var delayFunction=undefined;function setDelayFunction(fn){delayFunction=fn;if(deletionQueue.length&&delayFunction){delayFunction(flushPendingDeletes)}}function init_embind(){Module["getInheritedInstanceCount"]=getInheritedInstanceCount;Module["getLiveInheritedInstances"]=getLiveInheritedInstances;Module["flushPendingDeletes"]=flushPendingDeletes;Module["setDelayFunction"]=setDelayFunction}var registeredInstances={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message)}function getBasestPointer(class_,ptr){if(ptr===undefined){throwBindingError("ptr should not be undefined")}while(class_.baseClass){ptr=class_.upcast(ptr);class_=class_.baseClass}return ptr}function registerInheritedInstance(class_,ptr,instance){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){throwBindingError("Tried to register registered instance: "+ptr)}else{registeredInstances[ptr]=instance}}function requireHandle(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle)}return emval_handle_array[handle].value}var registeredTypes={};function getTypeName(type){var ptr=___getTypeName(type);var rv=readLatin1String(ptr);_free(ptr);return rv}function requireRegisteredType(rawType,humanName){var impl=registeredTypes[rawType];if(undefined===impl){throwBindingError(humanName+" has unknown type "+getTypeName(rawType))}return impl}function unregisterInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){delete registeredInstances[ptr]}else{throwBindingError("Tried to unregister unregistered instance: "+ptr)}}function detachFinalizer(handle){}var finalizationGroup=false;function runDestructor($$){if($$.smartPtr){$$.smartPtrType.rawDestructor($$.smartPtr)}else{$$.ptrType.registeredClass.rawDestructor($$.ptr)}}function releaseClassHandle($$){$$.count.value-=1;var toDelete=0===$$.count.value;if(toDelete){runDestructor($$)}}function attachFinalizer(handle){if("undefined"===typeof FinalizationGroup){attachFinalizer=function(handle){return handle};return handle}finalizationGroup=new FinalizationGroup(function(iter){for(var result=iter.next();!result.done;result=iter.next()){var $$=result.value;if(!$$.ptr){console.warn("object already deleted: "+$$.ptr)}else{releaseClassHandle($$)}}});attachFinalizer=function(handle){finalizationGroup.register(handle,handle.$$,handle.$$);return handle};detachFinalizer=function(handle){finalizationGroup.unregister(handle.$$)};return attachFinalizer(handle)}function __embind_create_inheriting_constructor(constructorName,wrapperType,properties){constructorName=readLatin1String(constructorName);wrapperType=requireRegisteredType(wrapperType,"wrapper");properties=requireHandle(properties);var arraySlice=[].slice;var registeredClass=wrapperType.registeredClass;var wrapperPrototype=registeredClass.instancePrototype;var baseClass=registeredClass.baseClass;var baseClassPrototype=baseClass.instancePrototype;var baseConstructor=registeredClass.baseClass.constructor;var ctor=createNamedFunction(constructorName,function(){registeredClass.baseClass.pureVirtualFunctions.forEach(function(name){if(this[name]===baseClassPrototype[name]){throw new PureVirtualError("Pure virtual function "+name+" must be implemented in JavaScript")}}.bind(this));Object.defineProperty(this,"__parent",{value:wrapperPrototype});this["__construct"].apply(this,arraySlice.call(arguments))});wrapperPrototype["__construct"]=function __construct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __construct")}var inner=baseConstructor["implement"].apply(undefined,[this].concat(arraySlice.call(arguments)));detachFinalizer(inner);var $$=inner.$$;inner["notifyOnDestruction"]();$$.preservePointerOnDelete=true;Object.defineProperties(this,{$$:{value:$$}});attachFinalizer(this);registerInheritedInstance(registeredClass,$$.ptr,this)};wrapperPrototype["__destruct"]=function __destruct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __destruct")}detachFinalizer(this);unregisterInheritedInstance(registeredClass,this.$$.ptr)};ctor.prototype=Object.create(wrapperPrototype);for(var p in properties){ctor.prototype[p]=properties[p]}return __emval_register(ctor)}var structRegistrations={};function runDestructors(destructors){while(destructors.length){var ptr=destructors.pop();var del=destructors.pop();del(ptr)}}function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAPU32[pointer>>2])}var awaitingDependencies={};var typeDependencies={};var InternalError=undefined;function throwInternalError(message){throw new InternalError(message)}function whenDependentTypesAreResolved(myTypes,dependentTypes,getTypeConverters){myTypes.forEach(function(type){typeDependencies[type]=dependentTypes});function onComplete(typeConverters){var myTypeConverters=getTypeConverters(typeConverters);if(myTypeConverters.length!==myTypes.length){throwInternalError("Mismatched type converter count")}for(var i=0;i<myTypes.length;++i){registerType(myTypes[i],myTypeConverters[i])}}var typeConverters=new Array(dependentTypes.length);var unregisteredTypes=[];var registered=0;dependentTypes.forEach(function(dt,i){if(registeredTypes.hasOwnProperty(dt)){typeConverters[i]=registeredTypes[dt]}else{unregisteredTypes.push(dt);if(!awaitingDependencies.hasOwnProperty(dt)){awaitingDependencies[dt]=[]}awaitingDependencies[dt].push(function(){typeConverters[i]=registeredTypes[dt];++registered;if(registered===unregisteredTypes.length){onComplete(typeConverters)}})}});if(0===unregisteredTypes.length){onComplete(typeConverters)}}function __embind_finalize_value_object(structType){var reg=structRegistrations[structType];delete structRegistrations[structType];var rawConstructor=reg.rawConstructor;var rawDestructor=reg.rawDestructor;var fieldRecords=reg.fields;var fieldTypes=fieldRecords.map(function(field){return field.getterReturnType}).concat(fieldRecords.map(function(field){return field.setterArgumentType}));whenDependentTypesAreResolved([structType],fieldTypes,function(fieldTypes){var fields={};fieldRecords.forEach(function(field,i){var fieldName=field.fieldName;var getterReturnType=fieldTypes[i];var getter=field.getter;var getterContext=field.getterContext;var setterArgumentType=fieldTypes[i+fieldRecords.length];var setter=field.setter;var setterContext=field.setterContext;fields[fieldName]={read:function(ptr){return getterReturnType["fromWireType"](getter(getterContext,ptr))},write:function(ptr,o){var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,o));runDestructors(destructors)}}});return[{name:reg.name,"fromWireType":function(ptr){var rv={};for(var i in fields){rv[i]=fields[i].read(ptr)}rawDestructor(ptr);return rv},"toWireType":function(destructors,o){for(var fieldName in fields){if(!(fieldName in o)){throw new TypeError('Missing field:  "'+fieldName+'"')}}var ptr=rawConstructor();for(fieldName in fields){fields[fieldName].write(ptr,o[fieldName])}if(destructors!==null){destructors.push(rawDestructor,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:rawDestructor}]})}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size)}}function registerType(rawType,registeredInstance,options){options=options||{};if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance")}var name=registeredInstance.name;if(!rawType){throwBindingError('type "'+name+'" must have a positive integer typeid pointer')}if(registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations){return}else{throwBindingError("Cannot register type '"+name+"' twice")}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){cb()})}}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(wt){return!!wt},"toWireType":function(destructors,o){return o?trueValue:falseValue},"argPackAdvance":8,"readValueFromPointer":function(pointer){var heap;if(size===1){heap=HEAP8}else if(size===2){heap=HEAP16}else if(size===4){heap=HEAP32}else{throw new TypeError("Unknown boolean type size: "+name)}return this["fromWireType"](heap[pointer>>shift])},destructorFunction:null})}function ClassHandle_isAliasOf(other){if(!(this instanceof ClassHandle)){return false}if(!(other instanceof ClassHandle)){return false}var leftClass=this.$$.ptrType.registeredClass;var left=this.$$.ptr;var rightClass=other.$$.ptrType.registeredClass;var right=other.$$.ptr;while(leftClass.baseClass){left=leftClass.upcast(left);leftClass=leftClass.baseClass}while(rightClass.baseClass){right=rightClass.upcast(right);rightClass=rightClass.baseClass}return leftClass===rightClass&&left===right}function shallowCopyInternalPointer(o){return{count:o.count,deleteScheduled:o.deleteScheduled,preservePointerOnDelete:o.preservePointerOnDelete,ptr:o.ptr,ptrType:o.ptrType,smartPtr:o.smartPtr,smartPtrType:o.smartPtrType}}function throwInstanceAlreadyDeleted(obj){function getInstanceTypeName(handle){return handle.$$.ptrType.registeredClass.name}throwBindingError(getInstanceTypeName(obj)+" instance already deleted")}function ClassHandle_clone(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.preservePointerOnDelete){this.$$.count.value+=1;return this}else{var clone=attachFinalizer(Object.create(Object.getPrototypeOf(this),{$$:{value:shallowCopyInternalPointer(this.$$)}}));clone.$$.count.value+=1;clone.$$.deleteScheduled=false;return clone}}function ClassHandle_delete(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}detachFinalizer(this);releaseClassHandle(this.$$);if(!this.$$.preservePointerOnDelete){this.$$.smartPtr=undefined;this.$$.ptr=undefined}}function ClassHandle_isDeleted(){return!this.$$.ptr}function ClassHandle_deleteLater(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}deletionQueue.push(this);if(deletionQueue.length===1&&delayFunction){delayFunction(flushPendingDeletes)}this.$$.deleteScheduled=true;return this}function init_ClassHandle(){ClassHandle.prototype["isAliasOf"]=ClassHandle_isAliasOf;ClassHandle.prototype["clone"]=ClassHandle_clone;ClassHandle.prototype["delete"]=ClassHandle_delete;ClassHandle.prototype["isDeleted"]=ClassHandle_isDeleted;ClassHandle.prototype["deleteLater"]=ClassHandle_deleteLater}function ClassHandle(){}var registeredPointers={};function ensureOverloadTable(proto,methodName,humanName){if(undefined===proto[methodName].overloadTable){var prevFunc=proto[methodName];proto[methodName]=function(){if(!proto[methodName].overloadTable.hasOwnProperty(arguments.length)){throwBindingError("Function '"+humanName+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+proto[methodName].overloadTable+")!")}return proto[methodName].overloadTable[arguments.length].apply(this,arguments)};proto[methodName].overloadTable=[];proto[methodName].overloadTable[prevFunc.argCount]=prevFunc}}function exposePublicSymbol(name,value,numArguments){if(Module.hasOwnProperty(name)){if(undefined===numArguments||undefined!==Module[name].overloadTable&&undefined!==Module[name].overloadTable[numArguments]){throwBindingError("Cannot register public name '"+name+"' twice")}ensureOverloadTable(Module,name,name);if(Module.hasOwnProperty(numArguments)){throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+numArguments+")!")}Module[name].overloadTable[numArguments]=value}else{Module[name]=value;if(undefined!==numArguments){Module[name].numArguments=numArguments}}}function RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast){this.name=name;this.constructor=constructor;this.instancePrototype=instancePrototype;this.rawDestructor=rawDestructor;this.baseClass=baseClass;this.getActualType=getActualType;this.upcast=upcast;this.downcast=downcast;this.pureVirtualFunctions=[]}function upcastPointer(ptr,ptrClass,desiredClass){while(ptrClass!==desiredClass){if(!ptrClass.upcast){throwBindingError("Expected null or instance of "+desiredClass.name+", got an instance of "+ptrClass.name)}ptr=ptrClass.upcast(ptr);ptrClass=ptrClass.baseClass}return ptr}function constNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function genericPointerToWireType(destructors,handle){var ptr;if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}if(this.isSmartPointer){ptr=this.rawConstructor();if(destructors!==null){destructors.push(this.rawDestructor,ptr)}return ptr}else{return 0}}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(!this.isConst&&handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);if(this.isSmartPointer){if(undefined===handle.$$.smartPtr){throwBindingError("Passing raw pointer to smart pointer is illegal")}switch(this.sharingPolicy){case 0:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}break;case 1:ptr=handle.$$.smartPtr;break;case 2:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{var clonedHandle=handle["clone"]();ptr=this.rawShare(ptr,__emval_register(function(){clonedHandle["delete"]()}));if(destructors!==null){destructors.push(this.rawDestructor,ptr)}}break;default:throwBindingError("Unsupporting sharing policy")}}return ptr}function nonConstNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+handle.$$.ptrType.name+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function RegisteredPointer_getPointee(ptr){if(this.rawGetPointee){ptr=this.rawGetPointee(ptr)}return ptr}function RegisteredPointer_destructor(ptr){if(this.rawDestructor){this.rawDestructor(ptr)}}function RegisteredPointer_deleteObject(handle){if(handle!==null){handle["delete"]()}}function downcastPointer(ptr,ptrClass,desiredClass){if(ptrClass===desiredClass){return ptr}if(undefined===desiredClass.baseClass){return null}var rv=downcastPointer(ptr,ptrClass,desiredClass.baseClass);if(rv===null){return null}return desiredClass.downcast(rv)}function getInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);return registeredInstances[ptr]}function makeClassHandle(prototype,record){if(!record.ptrType||!record.ptr){throwInternalError("makeClassHandle requires ptr and ptrType")}var hasSmartPtrType=!!record.smartPtrType;var hasSmartPtr=!!record.smartPtr;if(hasSmartPtrType!==hasSmartPtr){throwInternalError("Both smartPtrType and smartPtr must be specified")}record.count={value:1};return attachFinalizer(Object.create(prototype,{$$:{value:record}}))}function RegisteredPointer_fromWireType(ptr){var rawPointer=this.getPointee(ptr);if(!rawPointer){this.destructor(ptr);return null}var registeredInstance=getInheritedInstance(this.registeredClass,rawPointer);if(undefined!==registeredInstance){if(0===registeredInstance.$$.count.value){registeredInstance.$$.ptr=rawPointer;registeredInstance.$$.smartPtr=ptr;return registeredInstance["clone"]()}else{var rv=registeredInstance["clone"]();this.destructor(ptr);return rv}}function makeDefaultHandle(){if(this.isSmartPointer){return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:rawPointer,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this,ptr:ptr})}}var actualType=this.registeredClass.getActualType(rawPointer);var registeredPointerRecord=registeredPointers[actualType];if(!registeredPointerRecord){return makeDefaultHandle.call(this)}var toType;if(this.isConst){toType=registeredPointerRecord.constPointerType}else{toType=registeredPointerRecord.pointerType}var dp=downcastPointer(rawPointer,this.registeredClass,toType.registeredClass);if(dp===null){return makeDefaultHandle.call(this)}if(this.isSmartPointer){return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp})}}function init_RegisteredPointer(){RegisteredPointer.prototype.getPointee=RegisteredPointer_getPointee;RegisteredPointer.prototype.destructor=RegisteredPointer_destructor;RegisteredPointer.prototype["argPackAdvance"]=8;RegisteredPointer.prototype["readValueFromPointer"]=simpleReadValueFromPointer;RegisteredPointer.prototype["deleteObject"]=RegisteredPointer_deleteObject;RegisteredPointer.prototype["fromWireType"]=RegisteredPointer_fromWireType}function RegisteredPointer(name,registeredClass,isReference,isConst,isSmartPointer,pointeeType,sharingPolicy,rawGetPointee,rawConstructor,rawShare,rawDestructor){this.name=name;this.registeredClass=registeredClass;this.isReference=isReference;this.isConst=isConst;this.isSmartPointer=isSmartPointer;this.pointeeType=pointeeType;this.sharingPolicy=sharingPolicy;this.rawGetPointee=rawGetPointee;this.rawConstructor=rawConstructor;this.rawShare=rawShare;this.rawDestructor=rawDestructor;if(!isSmartPointer&&registeredClass.baseClass===undefined){if(isConst){this["toWireType"]=constNoSmartPtrRawPointerToWireType;this.destructorFunction=null}else{this["toWireType"]=nonConstNoSmartPtrRawPointerToWireType;this.destructorFunction=null}}else{this["toWireType"]=genericPointerToWireType}}function replacePublicSymbol(name,value,numArguments){if(!Module.hasOwnProperty(name)){throwInternalError("Replacing nonexistant public symbol")}if(undefined!==Module[name].overloadTable&&undefined!==numArguments){Module[name].overloadTable[numArguments]=value}else{Module[name]=value;Module[name].argCount=numArguments}}function dynCallLegacy(sig,ptr,args){assert("dynCall_"+sig in Module,"bad function pointer type - no table for sig '"+sig+"'");if(args&&args.length){assert(args.length===sig.substring(1).replace(/j/g,"--").length)}else{assert(sig.length==1)}var f=Module["dynCall_"+sig];return args&&args.length?f.apply(null,[ptr].concat(args)):f.call(null,ptr)}function dynCall(sig,ptr,args){if(sig.indexOf("j")!=-1){return dynCallLegacy(sig,ptr,args)}assert(wasmTable.get(ptr),"missing table entry in dynCall: "+ptr);return wasmTable.get(ptr).apply(null,args)}function getDynCaller(sig,ptr){assert(sig.indexOf("j")>=0,"getDynCaller should only be called with i64 sigs");var argCache=[];return function(){argCache.length=arguments.length;for(var i=0;i<arguments.length;i++){argCache[i]=arguments[i]}return dynCall(sig,ptr,argCache)}}function embind__requireFunction(signature,rawFunction){signature=readLatin1String(signature);function makeDynCaller(){if(signature.indexOf("j")!=-1){return getDynCaller(signature,rawFunction)}return wasmTable.get(rawFunction)}var fp=makeDynCaller();if(typeof fp!=="function"){throwBindingError("unknown function pointer with signature "+signature+": "+rawFunction)}return fp}var UnboundTypeError=undefined;function throwUnboundTypeError(message,types){var unboundTypes=[];var seen={};function visit(type){if(seen[type]){return}if(registeredTypes[type]){return}if(typeDependencies[type]){typeDependencies[type].forEach(visit);return}unboundTypes.push(type);seen[type]=true}types.forEach(visit);throw new UnboundTypeError(message+": "+unboundTypes.map(getTypeName).join([", "]))}function __embind_register_class(rawType,rawPointerType,rawConstPointerType,baseClassRawType,getActualTypeSignature,getActualType,upcastSignature,upcast,downcastSignature,downcast,name,destructorSignature,rawDestructor){name=readLatin1String(name);getActualType=embind__requireFunction(getActualTypeSignature,getActualType);if(upcast){upcast=embind__requireFunction(upcastSignature,upcast)}if(downcast){downcast=embind__requireFunction(downcastSignature,downcast)}rawDestructor=embind__requireFunction(destructorSignature,rawDestructor);var legalFunctionName=makeLegalFunctionName(name);exposePublicSymbol(legalFunctionName,function(){throwUnboundTypeError("Cannot construct "+name+" due to unbound types",[baseClassRawType])});whenDependentTypesAreResolved([rawType,rawPointerType,rawConstPointerType],baseClassRawType?[baseClassRawType]:[],function(base){base=base[0];var baseClass;var basePrototype;if(baseClassRawType){baseClass=base.registeredClass;basePrototype=baseClass.instancePrototype}else{basePrototype=ClassHandle.prototype}var constructor=createNamedFunction(legalFunctionName,function(){if(Object.getPrototypeOf(this)!==instancePrototype){throw new BindingError("Use 'new' to construct "+name)}if(undefined===registeredClass.constructor_body){throw new BindingError(name+" has no accessible constructor")}var body=registeredClass.constructor_body[arguments.length];if(undefined===body){throw new BindingError("Tried to invoke ctor of "+name+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(registeredClass.constructor_body).toString()+") parameters instead!")}return body.apply(this,arguments)});var instancePrototype=Object.create(basePrototype,{constructor:{value:constructor}});constructor.prototype=instancePrototype;var registeredClass=new RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast);var referenceConverter=new RegisteredPointer(name,registeredClass,true,false,false);var pointerConverter=new RegisteredPointer(name+"*",registeredClass,false,false,false);var constPointerConverter=new RegisteredPointer(name+" const*",registeredClass,false,true,false);registeredPointers[rawType]={pointerType:pointerConverter,constPointerType:constPointerConverter};replacePublicSymbol(legalFunctionName,constructor);return[referenceConverter,pointerConverter,constPointerConverter]})}function new_(constructor,argumentList){if(!(constructor instanceof Function)){throw new TypeError("new_ called with constructor type "+typeof constructor+" which is not a function")}var dummy=createNamedFunction(constructor.name||"unknownFunctionName",function(){});dummy.prototype=constructor.prototype;var obj=new dummy;var r=constructor.apply(obj,argumentList);return r instanceof Object?r:obj}function craftInvokerFunction(humanName,argTypes,classType,cppInvokerFunc,cppTargetFunc){var argCount=argTypes.length;if(argCount<2){throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!")}var isClassMethodFunc=argTypes[1]!==null&&classType!==null;var needsDestructorStack=false;for(var i=1;i<argTypes.length;++i){if(argTypes[i]!==null&&argTypes[i].destructorFunction===undefined){needsDestructorStack=true;break}}var returns=argTypes[0].name!=="void";var argsList="";var argsListWired="";for(var i=0;i<argCount-2;++i){argsList+=(i!==0?", ":"")+"arg"+i;argsListWired+=(i!==0?", ":"")+"arg"+i+"Wired"}var invokerFnBody="return function "+makeLegalFunctionName(humanName)+"("+argsList+") {\n"+"if (arguments.length !== "+(argCount-2)+") {\n"+"throwBindingError('function "+humanName+" called with ' + arguments.length + ' arguments, expected "+(argCount-2)+" args!');\n"+"}\n";if(needsDestructorStack){invokerFnBody+="var destructors = [];\n"}var dtorStack=needsDestructorStack?"destructors":"null";var args1=["throwBindingError","invoker","fn","runDestructors","retType","classParam"];var args2=[throwBindingError,cppInvokerFunc,cppTargetFunc,runDestructors,argTypes[0],argTypes[1]];if(isClassMethodFunc){invokerFnBody+="var thisWired = classParam.toWireType("+dtorStack+", this);\n"}for(var i=0;i<argCount-2;++i){invokerFnBody+="var arg"+i+"Wired = argType"+i+".toWireType("+dtorStack+", arg"+i+"); // "+argTypes[i+2].name+"\n";args1.push("argType"+i);args2.push(argTypes[i+2])}if(isClassMethodFunc){argsListWired="thisWired"+(argsListWired.length>0?", ":"")+argsListWired}invokerFnBody+=(returns?"var rv = ":"")+"invoker(fn"+(argsListWired.length>0?", ":"")+argsListWired+");\n";if(needsDestructorStack){invokerFnBody+="runDestructors(destructors);\n"}else{for(var i=isClassMethodFunc?1:2;i<argTypes.length;++i){var paramName=i===1?"thisWired":"arg"+(i-2)+"Wired";if(argTypes[i].destructorFunction!==null){invokerFnBody+=paramName+"_dtor("+paramName+"); // "+argTypes[i].name+"\n";args1.push(paramName+"_dtor");args2.push(argTypes[i].destructorFunction)}}}if(returns){invokerFnBody+="var ret = retType.fromWireType(rv);\n"+"return ret;\n"}else{}invokerFnBody+="}\n";args1.push(invokerFnBody);var invokerFunction=new_(Function,args1).apply(null,args2);return invokerFunction}function heap32VectorToArray(count,firstElement){var array=[];for(var i=0;i<count;i++){array.push(HEAP32[(firstElement>>2)+i])}return array}function __embind_register_class_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,fn){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.constructor;if(undefined===proto[methodName]){unboundTypesHandler.argCount=argCount-1;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-1]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));var func=craftInvokerFunction(humanName,invokerArgsArray,null,rawInvoker,fn);if(undefined===proto[methodName].overloadTable){func.argCount=argCount-1;proto[methodName]=func}else{proto[methodName].overloadTable[argCount-1]=func}return[]});return[]})}function __embind_register_class_constructor(rawClassType,argCount,rawArgTypesAddr,invokerSignature,invoker,rawConstructor){assert(argCount>0);var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);invoker=embind__requireFunction(invokerSignature,invoker);var args=[rawConstructor];var destructors=[];whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName="constructor "+classType.name;if(undefined===classType.registeredClass.constructor_body){classType.registeredClass.constructor_body=[]}if(undefined!==classType.registeredClass.constructor_body[argCount-1]){throw new BindingError("Cannot register multiple constructors with identical number of parameters ("+(argCount-1)+") for class '"+classType.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!")}classType.registeredClass.constructor_body[argCount-1]=function unboundTypeHandler(){throwUnboundTypeError("Cannot construct "+classType.name+" due to unbound types",rawArgTypes)};whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){classType.registeredClass.constructor_body[argCount-1]=function constructor_body(){if(arguments.length!==argCount-1){throwBindingError(humanName+" called with "+arguments.length+" arguments, expected "+(argCount-1))}destructors.length=0;args.length=argCount;for(var i=1;i<argCount;++i){args[i]=argTypes[i]["toWireType"](destructors,arguments[i-1])}var ptr=invoker.apply(null,args);runDestructors(destructors);return argTypes[0]["fromWireType"](ptr)};return[]});return[]})}function __embind_register_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,context,isPureVirtual){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;if(isPureVirtual){classType.registeredClass.pureVirtualFunctions.push(methodName)}function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.instancePrototype;var method=proto[methodName];if(undefined===method||undefined===method.overloadTable&&method.className!==classType.name&&method.argCount===argCount-2){unboundTypesHandler.argCount=argCount-2;unboundTypesHandler.className=classType.name;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-2]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var memberFunction=craftInvokerFunction(humanName,argTypes,classType,rawInvoker,context);if(undefined===proto[methodName].overloadTable){memberFunction.argCount=argCount-2;proto[methodName]=memberFunction}else{proto[methodName].overloadTable[argCount-2]=memberFunction}return[]});return[]})}function validateThis(this_,classType,humanName){if(!(this_ instanceof Object)){throwBindingError(humanName+' with invalid "this": '+this_)}if(!(this_ instanceof classType.registeredClass.constructor)){throwBindingError(humanName+' incompatible with "this" of type '+this_.constructor.name)}if(!this_.$$.ptr){throwBindingError("cannot call emscripten binding method "+humanName+" on deleted object")}return upcastPointer(this_.$$.ptr,this_.$$.ptrType.registeredClass,classType.registeredClass)}function __embind_register_class_property(classType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){fieldName=readLatin1String(fieldName);getter=embind__requireFunction(getterSignature,getter);whenDependentTypesAreResolved([],[classType],function(classType){classType=classType[0];var humanName=classType.name+"."+fieldName;var desc={get:function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])},enumerable:true,configurable:true};if(setter){desc.set=function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])}}else{desc.set=function(v){throwBindingError(humanName+" is a read-only property")}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);whenDependentTypesAreResolved([],setter?[getterReturnType,setterArgumentType]:[getterReturnType],function(types){var getterReturnType=types[0];var desc={get:function(){var ptr=validateThis(this,classType,humanName+" getter");return getterReturnType["fromWireType"](getter(getterContext,ptr))},enumerable:true};if(setter){setter=embind__requireFunction(setterSignature,setter);var setterArgumentType=types[1];desc.set=function(v){var ptr=validateThis(this,classType,humanName+" setter");var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,v));runDestructors(destructors)}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);return[]});return[]})}function __emval_decref(handle){if(handle>4&&0===--emval_handle_array[handle].refcount){emval_handle_array[handle]=undefined;emval_free_list.push(handle)}}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(handle){var rv=emval_handle_array[handle].value;__emval_decref(handle);return rv},"toWireType":function(destructors,value){return __emval_register(value)},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null})}function _embind_repr(v){if(v===null){return"null"}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString()}else{return""+v}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2])};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3])};default:throw new TypeError("Unknown float type: "+name)}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(value){return value},"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}return value},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null})}function __embind_register_function(name,argCount,rawArgTypesAddr,signature,rawInvoker,fn){var argTypes=heap32VectorToArray(argCount,rawArgTypesAddr);name=readLatin1String(name);rawInvoker=embind__requireFunction(signature,rawInvoker);exposePublicSymbol(name,function(){throwUnboundTypeError("Cannot call "+name+" due to unbound types",argTypes)},argCount-1);whenDependentTypesAreResolved([],argTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));replacePublicSymbol(name,craftInvokerFunction(name,invokerArgsArray,null,rawInvoker,fn),argCount-1);return[]})}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer]}:function readU8FromPointer(pointer){return HEAPU8[pointer]};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1]}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1]};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2]}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2]};default:throw new TypeError("Unknown integer type: "+name)}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295}var shift=getShiftFromSize(size);var fromWireType=function(value){return value};if(minRange===0){var bitshift=32-8*size;fromWireType=function(value){return value<<bitshift>>>bitshift}}var isUnsignedType=name.indexOf("unsigned")!=-1;registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}if(value<minRange||value>maxRange){throw new TypeError('Passing a number "'+_embind_repr(value)+'" from JS side to C/C++ side to an argument of type "'+name+'", which is outside the valid range ['+minRange+", "+maxRange+"]!")}return isUnsignedType?value>>>0:value|0},"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null})}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(buffer,data,size)}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true})}function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var str;if(stdStringIsUTF8){var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+1}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[value+4+i])}str=a.join("")}_free(value);return str},"toWireType":function(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value)}var getLength;var valueIsOfTypeString=typeof value==="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string")}if(stdStringIsUTF8&&valueIsOfTypeString){getLength=function(){return lengthBytesUTF8(value)}}else{getLength=function(){return value.length}}var length=getLength();var ptr=_malloc(4+length+1);HEAPU32[ptr>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr+4,length+1)}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits")}HEAPU8[ptr+4+i]=charCode}}else{for(var i=0;i<length;++i){HEAPU8[ptr+4+i]=value[i]}}}if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function(){return HEAPU16};shift=1}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function(){return HEAPU32};shift=2}registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+charSize}}_free(value);return str},"toWireType":function(destructors,value){if(!(typeof value==="string")){throwBindingError("Cannot pass non-string to C++ string type "+name)}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_value_object(rawType,name,constructorSignature,rawConstructor,destructorSignature,rawDestructor){structRegistrations[rawType]={name:readLatin1String(name),rawConstructor:embind__requireFunction(constructorSignature,rawConstructor),rawDestructor:embind__requireFunction(destructorSignature,rawDestructor),fields:[]}}function __embind_register_value_object_field(structType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){structRegistrations[structType].fields.push({fieldName:readLatin1String(fieldName),getterReturnType:getterReturnType,getter:embind__requireFunction(getterSignature,getter),getterContext:getterContext,setterArgumentType:setterArgumentType,setter:embind__requireFunction(setterSignature,setter),setterContext:setterContext})}function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function(){return undefined},"toWireType":function(destructors,o){return undefined}})}var emval_symbols={};function getStringOrSymbol(address){var symbol=emval_symbols[address];if(symbol===undefined){return readLatin1String(address)}else{return symbol}}var emval_methodCallers=[];function __emval_call_void_method(caller,handle,methodName,args){caller=emval_methodCallers[caller];handle=requireHandle(handle);methodName=getStringOrSymbol(methodName);caller(handle,methodName,null,args)}function __emval_addMethodCaller(caller){var id=emval_methodCallers.length;emval_methodCallers.push(caller);return id}function __emval_lookupTypes(argCount,argTypes){var a=new Array(argCount);for(var i=0;i<argCount;++i){a[i]=requireRegisteredType(HEAP32[(argTypes>>2)+i],"parameter "+i)}return a}function __emval_get_method_caller(argCount,argTypes){var types=__emval_lookupTypes(argCount,argTypes);var retType=types[0];var signatureName=retType.name+"_$"+types.slice(1).map(function(t){return t.name}).join("_")+"$";var params=["retType"];var args=[retType];var argsList="";for(var i=0;i<argCount-1;++i){argsList+=(i!==0?", ":"")+"arg"+i;params.push("argType"+i);args.push(types[1+i])}var functionName=makeLegalFunctionName("methodCaller_"+signatureName);var functionBody="return function "+functionName+"(handle, name, destructors, args) {\n";var offset=0;for(var i=0;i<argCount-1;++i){functionBody+="    var arg"+i+" = argType"+i+".readValueFromPointer(args"+(offset?"+"+offset:"")+");\n";offset+=types[i+1]["argPackAdvance"]}functionBody+="    var rv = handle[name]("+argsList+");\n";for(var i=0;i<argCount-1;++i){if(types[i+1]["deleteObject"]){functionBody+="    argType"+i+".deleteObject(arg"+i+");\n"}}if(!retType.isVoid){functionBody+="    return retType.toWireType(destructors, rv);\n"}functionBody+="};\n";params.push(functionBody);var invokerFunction=new_(Function,params).apply(null,args);return __emval_addMethodCaller(invokerFunction)}function __emval_incref(handle){if(handle>4){emval_handle_array[handle].refcount+=1}}function __emval_take_value(type,argv){type=requireRegisteredType(type,"_emval_take_value");var v=type["readValueFromPointer"](argv);return __emval_register(v)}function __exit(a0){return _exit(a0)}function _abort(){abort()}var _emscripten_get_now_is_monotonic=true;function _clock_gettime(clk_id,tp){var now;if(clk_id===0){now=Date.now()}else if((clk_id===1||clk_id===4)&&_emscripten_get_now_is_monotonic){now=_emscripten_get_now()}else{setErrNo(28);return-1}HEAP32[tp>>2]=now/1e3|0;HEAP32[tp+4>>2]=now%1e3*1e3*1e3|0;return 0}function _dlopen(filename,flag){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function _dlsym(handle,symbol){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}var EGL={errorCode:12288,defaultDisplayInitialized:false,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:false,depth:false,stencil:false,antialias:false},stringCache:{},setErrorCode:function(code){EGL.errorCode=code},chooseConfig:function(display,attribList,config,config_size,numConfigs){if(display!=62e3){EGL.setErrorCode(12296);return 0}if(attribList){for(;;){var param=HEAP32[attribList>>2];if(param==12321){var alphaSize=HEAP32[attribList+4>>2];EGL.contextAttributes.alpha=alphaSize>0}else if(param==12325){var depthSize=HEAP32[attribList+4>>2];EGL.contextAttributes.depth=depthSize>0}else if(param==12326){var stencilSize=HEAP32[attribList+4>>2];EGL.contextAttributes.stencil=stencilSize>0}else if(param==12337){var samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=samples>0}else if(param==12338){var samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=samples==1}else if(param==12544){var requestedPriority=HEAP32[attribList+4>>2];EGL.contextAttributes.lowLatency=requestedPriority!=12547}else if(param==12344){break}attribList+=8}}if((!config||!config_size)&&!numConfigs){EGL.setErrorCode(12300);return 0}if(numConfigs){HEAP32[numConfigs>>2]=1}if(config&&config_size>0){HEAP32[config>>2]=62002}EGL.setErrorCode(12288);return 1}};function _eglGetCurrentContext(){return EGL.currentContext}function _eglGetDisplay(nativeDisplayType){EGL.setErrorCode(12288);return 62e3}function _eglQueryContext(display,context,attribute,value){if(display!=62e3){EGL.setErrorCode(12296);return 0}if(context!=62004){EGL.setErrorCode(12294);return 0}if(!value){EGL.setErrorCode(12300);return 0}EGL.setErrorCode(12288);switch(attribute){case 12328:HEAP32[value>>2]=62002;return 1;case 12439:HEAP32[value>>2]=12448;return 1;case 12440:HEAP32[value>>2]=EGL.contextAttributes.majorVersion+1;return 1;case 12422:HEAP32[value>>2]=12420;return 1;default:EGL.setErrorCode(12292);return 0}}function _emscripten_asm_const_int(code,sigPtr,argbuf){var args=readAsmConstArgs(sigPtr,argbuf);if(!ASM_CONSTS.hasOwnProperty(code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args)}function _emscripten_async_call(func,arg,millis){function wrapper(){wasmTable.get(func)(arg)}if(millis>=0){Browser.safeSetTimeout(wrapper,millis)}else{Browser.safeRequestAnimationFrame(wrapper)}}function _emscripten_get_heap_max(){return 2147483648}function _longjmp(env,value){_setThrew(env,value||1);throw"longjmp"}function _emscripten_longjmp(a0,a1){return _longjmp(a0,a1)}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+buffer.byteLength+" bytes to "+size+" bytes, but got error: "+e)}}function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;assert(requestedSize>oldSize);var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false}function _emscripten_thread_sleep(msecs){var start=_emscripten_get_now();while(_emscripten_get_now()-start<msecs){}}function __webgl_enable_ANGLE_instanced_arrays(ctx){var ext=ctx.getExtension("ANGLE_instanced_arrays");if(ext){ctx["vertexAttribDivisor"]=function(index,divisor){ext["vertexAttribDivisorANGLE"](index,divisor)};ctx["drawArraysInstanced"]=function(mode,first,count,primcount){ext["drawArraysInstancedANGLE"](mode,first,count,primcount)};ctx["drawElementsInstanced"]=function(mode,count,type,indices,primcount){ext["drawElementsInstancedANGLE"](mode,count,type,indices,primcount)};return 1}}function __webgl_enable_OES_vertex_array_object(ctx){var ext=ctx.getExtension("OES_vertex_array_object");if(ext){ctx["createVertexArray"]=function(){return ext["createVertexArrayOES"]()};ctx["deleteVertexArray"]=function(vao){ext["deleteVertexArrayOES"](vao)};ctx["bindVertexArray"]=function(vao){ext["bindVertexArrayOES"](vao)};ctx["isVertexArray"]=function(vao){return ext["isVertexArrayOES"](vao)};return 1}}function __webgl_enable_WEBGL_draw_buffers(ctx){var ext=ctx.getExtension("WEBGL_draw_buffers");if(ext){ctx["drawBuffers"]=function(n,bufs){ext["drawBuffersWEBGL"](n,bufs)};return 1}}function __webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.dibvbi=ctx.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.mdibvbi=ctx.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw(ctx){return!!(ctx.multiDrawWebgl=ctx.getExtension("WEBGL_multi_draw"))}var GL={counter:1,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function recordError(errorCode){if(!GL.lastError){GL.lastError=errorCode}},getNewId:function(table){var ret=GL.counter++;for(var i=table.length;i<ret;i++){table[i]=null}return ret},MAX_TEMP_BUFFER_SIZE:2097152,numTempVertexBuffersPerSize:64,log2ceilLookup:function(i){return 32-Math.clz32(i===0?0:i-1)},generateTempBuffers:function(quads,context){var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);context.tempVertexBufferCounters1=[];context.tempVertexBufferCounters2=[];context.tempVertexBufferCounters1.length=context.tempVertexBufferCounters2.length=largestIndex+1;context.tempVertexBuffers1=[];context.tempVertexBuffers2=[];context.tempVertexBuffers1.length=context.tempVertexBuffers2.length=largestIndex+1;context.tempIndexBuffers=[];context.tempIndexBuffers.length=largestIndex+1;for(var i=0;i<=largestIndex;++i){context.tempIndexBuffers[i]=null;context.tempVertexBufferCounters1[i]=context.tempVertexBufferCounters2[i]=0;var ringbufferLength=GL.numTempVertexBuffersPerSize;context.tempVertexBuffers1[i]=[];context.tempVertexBuffers2[i]=[];var ringbuffer1=context.tempVertexBuffers1[i];var ringbuffer2=context.tempVertexBuffers2[i];ringbuffer1.length=ringbuffer2.length=ringbufferLength;for(var j=0;j<ringbufferLength;++j){ringbuffer1[j]=ringbuffer2[j]=null}}if(quads){context.tempQuadIndexBuffer=GLctx.createBuffer();context.GLctx.bindBuffer(34963,context.tempQuadIndexBuffer);var numIndexes=GL.MAX_TEMP_BUFFER_SIZE>>1;var quadIndexes=new Uint16Array(numIndexes);var i=0,v=0;while(1){quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+1;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v+3;if(i>=numIndexes)break;v+=4}context.GLctx.bufferData(34963,quadIndexes,35044);context.GLctx.bindBuffer(34963,null)}},getTempVertexBuffer:function getTempVertexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ringbuffer=GL.currentContext.tempVertexBuffers1[idx];var nextFreeBufferIndex=GL.currentContext.tempVertexBufferCounters1[idx];GL.currentContext.tempVertexBufferCounters1[idx]=GL.currentContext.tempVertexBufferCounters1[idx]+1&GL.numTempVertexBuffersPerSize-1;var vbo=ringbuffer[nextFreeBufferIndex];if(vbo){return vbo}var prevVBO=GLctx.getParameter(34964);ringbuffer[nextFreeBufferIndex]=GLctx.createBuffer();GLctx.bindBuffer(34962,ringbuffer[nextFreeBufferIndex]);GLctx.bufferData(34962,1<<idx,35048);GLctx.bindBuffer(34962,prevVBO);return ringbuffer[nextFreeBufferIndex]},getTempIndexBuffer:function getTempIndexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ibo=GL.currentContext.tempIndexBuffers[idx];if(ibo){return ibo}var prevIBO=GLctx.getParameter(34965);GL.currentContext.tempIndexBuffers[idx]=GLctx.createBuffer();GLctx.bindBuffer(34963,GL.currentContext.tempIndexBuffers[idx]);GLctx.bufferData(34963,1<<idx,35048);GLctx.bindBuffer(34963,prevIBO);return GL.currentContext.tempIndexBuffers[idx]},newRenderingFrameStarted:function newRenderingFrameStarted(){if(!GL.currentContext){return}var vb=GL.currentContext.tempVertexBuffers1;GL.currentContext.tempVertexBuffers1=GL.currentContext.tempVertexBuffers2;GL.currentContext.tempVertexBuffers2=vb;vb=GL.currentContext.tempVertexBufferCounters1;GL.currentContext.tempVertexBufferCounters1=GL.currentContext.tempVertexBufferCounters2;GL.currentContext.tempVertexBufferCounters2=vb;var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);for(var i=0;i<=largestIndex;++i){GL.currentContext.tempVertexBufferCounters1[i]=0}},getSource:function(shader,count,string,length){var source="";for(var i=0;i<count;++i){var len=length?HEAP32[length+i*4>>2]:-1;source+=UTF8ToString(HEAP32[string+i*4>>2],len<0?undefined:len)}return source},calcBufLength:function calcBufLength(size,type,stride,count){if(stride>0){return count*stride}var typeSize=GL.byteSizeByType[type-GL.byteSizeByTypeRoot];return size*typeSize*count},usedTempBuffers:[],preDrawHandleClientVertexAttribBindings:function preDrawHandleClientVertexAttribBindings(count){GL.resetBufferBinding=false;for(var i=0;i<GL.currentContext.maxVertexAttribs;++i){var cb=GL.currentContext.clientBuffers[i];if(!cb.clientside||!cb.enabled)continue;GL.resetBufferBinding=true;var size=GL.calcBufLength(cb.size,cb.type,cb.stride,count);var buf=GL.getTempVertexBuffer(size);GLctx.bindBuffer(34962,buf);GLctx.bufferSubData(34962,0,HEAPU8.subarray(cb.ptr,cb.ptr+size));cb.vertexAttribPointerAdaptor.call(GLctx,i,cb.size,cb.type,cb.normalized,cb.stride,0)}},postDrawHandleClientVertexAttribBindings:function postDrawHandleClientVertexAttribBindings(){if(GL.resetBufferBinding){GLctx.bindBuffer(34962,GL.buffers[GLctx.currentArrayBufferBinding])}},createContext:function(canvas,webGLContextAttributes){if(!canvas.getContextSafariWebGL2Fixed){canvas.getContextSafariWebGL2Fixed=canvas.getContext;canvas.getContext=function(ver,attrs){var gl=canvas.getContextSafariWebGL2Fixed(ver,attrs);return ver=="webgl"==gl instanceof WebGLRenderingContext?gl:null}}var ctx=webGLContextAttributes.majorVersion>1?canvas.getContext("webgl2",webGLContextAttributes):canvas.getContext("webgl",webGLContextAttributes);if(!ctx)return 0;var handle=GL.registerContext(ctx,webGLContextAttributes);return handle},registerContext:function(ctx,webGLContextAttributes){var handle=GL.getNewId(GL.contexts);var context={handle:handle,attributes:webGLContextAttributes,version:webGLContextAttributes.majorVersion,GLctx:ctx};if(ctx.canvas)ctx.canvas.GLctxObject=context;GL.contexts[handle]=context;if(typeof webGLContextAttributes.enableExtensionsByDefault==="undefined"||webGLContextAttributes.enableExtensionsByDefault){GL.initExtensions(context)}context.maxVertexAttribs=context.GLctx.getParameter(34921);context.clientBuffers=[];for(var i=0;i<context.maxVertexAttribs;i++){context.clientBuffers[i]={enabled:false,clientside:false,size:0,type:0,normalized:0,stride:0,ptr:0,vertexAttribPointerAdaptor:null}}GL.generateTempBuffers(false,context);return handle},makeContextCurrent:function(contextHandle){GL.currentContext=GL.contexts[contextHandle];Module.ctx=GLctx=GL.currentContext&&GL.currentContext.GLctx;return!(contextHandle&&!GLctx)},getContext:function(contextHandle){return GL.contexts[contextHandle]},deleteContext:function(contextHandle){if(GL.currentContext===GL.contexts[contextHandle])GL.currentContext=null;if(typeof JSEvents==="object")JSEvents.removeAllHandlersOnTarget(GL.contexts[contextHandle].GLctx.canvas);if(GL.contexts[contextHandle]&&GL.contexts[contextHandle].GLctx.canvas)GL.contexts[contextHandle].GLctx.canvas.GLctxObject=undefined;GL.contexts[contextHandle]=null},initExtensions:function(context){if(!context)context=GL.currentContext;if(context.initExtensionsDone)return;context.initExtensionsDone=true;var GLctx=context.GLctx;__webgl_enable_ANGLE_instanced_arrays(GLctx);__webgl_enable_OES_vertex_array_object(GLctx);__webgl_enable_WEBGL_draw_buffers(GLctx);__webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(GLctx);__webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(GLctx);GLctx.disjointTimerQueryExt=GLctx.getExtension("EXT_disjoint_timer_query");__webgl_enable_WEBGL_multi_draw(GLctx);var exts=GLctx.getSupportedExtensions()||[];exts.forEach(function(ext){if(ext.indexOf("lose_context")<0&&ext.indexOf("debug")<0){GLctx.getExtension(ext)}})},populateUniformTable:function(program){var p=GL.programs[program];var ptable=GL.programInfos[program]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var utable=ptable.uniforms;var numUniforms=GLctx.getProgramParameter(p,35718);for(var i=0;i<numUniforms;++i){var u=GLctx.getActiveUniform(p,i);var name=u.name;ptable.maxUniformLength=Math.max(ptable.maxUniformLength,name.length+1);if(name.slice(-1)=="]"){name=name.slice(0,name.lastIndexOf("["))}var loc=GLctx.getUniformLocation(p,name);if(loc){var id=GL.getNewId(GL.uniforms);utable[name]=[u.size,id];GL.uniforms[id]=loc;for(var j=1;j<u.size;++j){var n=name+"["+j+"]";loc=GLctx.getUniformLocation(p,n);id=GL.getNewId(GL.uniforms);GL.uniforms[id]=loc}}}}};var JSEvents={inEventHandler:0,removeAllEventListeners:function(){for(var i=JSEvents.eventHandlers.length-1;i>=0;--i){JSEvents._removeHandler(i)}JSEvents.eventHandlers=[];JSEvents.deferredCalls=[]},registerRemoveEventListeners:function(){if(!JSEvents.removeEventListenersRegistered){__ATEXIT__.push(JSEvents.removeAllEventListeners);JSEvents.removeEventListenersRegistered=true}},deferredCalls:[],deferCall:function(targetFunction,precedence,argsList){function arraysHaveEqualContent(arrA,arrB){if(arrA.length!=arrB.length)return false;for(var i in arrA){if(arrA[i]!=arrB[i])return false}return true}for(var i in JSEvents.deferredCalls){var call=JSEvents.deferredCalls[i];if(call.targetFunction==targetFunction&&arraysHaveEqualContent(call.argsList,argsList)){return}}JSEvents.deferredCalls.push({targetFunction:targetFunction,precedence:precedence,argsList:argsList});JSEvents.deferredCalls.sort(function(x,y){return x.precedence<y.precedence})},removeDeferredCalls:function(targetFunction){for(var i=0;i<JSEvents.deferredCalls.length;++i){if(JSEvents.deferredCalls[i].targetFunction==targetFunction){JSEvents.deferredCalls.splice(i,1);--i}}},canPerformEventHandlerRequests:function(){return JSEvents.inEventHandler&&JSEvents.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!JSEvents.canPerformEventHandlerRequests()){return}for(var i=0;i<JSEvents.deferredCalls.length;++i){var call=JSEvents.deferredCalls[i];JSEvents.deferredCalls.splice(i,1);--i;call.targetFunction.apply(null,call.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(target,eventTypeString){for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==target&&(!eventTypeString||eventTypeString==JSEvents.eventHandlers[i].eventTypeString)){JSEvents._removeHandler(i--)}}},_removeHandler:function(i){var h=JSEvents.eventHandlers[i];h.target.removeEventListener(h.eventTypeString,h.eventListenerFunc,h.useCapture);JSEvents.eventHandlers.splice(i,1)},registerOrRemoveHandler:function(eventHandler){var jsEventHandler=function jsEventHandler(event){++JSEvents.inEventHandler;JSEvents.currentEventHandler=eventHandler;JSEvents.runDeferredCalls();eventHandler.handlerFunc(event);JSEvents.runDeferredCalls();--JSEvents.inEventHandler};if(eventHandler.callbackfunc){eventHandler.eventListenerFunc=jsEventHandler;eventHandler.target.addEventListener(eventHandler.eventTypeString,jsEventHandler,eventHandler.useCapture);JSEvents.eventHandlers.push(eventHandler);JSEvents.registerRemoveEventListeners()}else{for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==eventHandler.target&&JSEvents.eventHandlers[i].eventTypeString==eventHandler.eventTypeString){JSEvents._removeHandler(i--)}}}},getNodeNameForTarget:function(target){if(!target)return"";if(target==window)return"#window";if(target==screen)return"#screen";return target&&target.nodeName?target.nodeName:""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var __emscripten_webgl_power_preferences=["default","low-power","high-performance"];var specialHTMLTargets=[0,typeof document!=="undefined"?document:0,typeof window!=="undefined"?window:0];function findEventTarget(target){warnOnce("Rules for selecting event targets in HTML5 API are changing: instead of using document.getElementById() that only can refer to elements by their DOM ID, new event target selection mechanism uses the more flexible function document.querySelector() that can look up element names, classes, and complex CSS selectors. Build with -s DISABLE_DEPRECATED_FIND_EVENT_TARGET_BEHAVIOR=1 to change to the new lookup rules. See https://github.com/emscripten-core/emscripten/pull/7977 for more details.");try{if(!target)return window;if(typeof target==="number")target=specialHTMLTargets[target]||UTF8ToString(target);if(target==="#window")return window;else if(target==="#document")return document;else if(target==="#screen")return screen;else if(target==="#canvas")return Module["canvas"];return typeof target==="string"?document.getElementById(target):target}catch(e){return null}}function findCanvasEventTarget(target){if(typeof target==="number")target=UTF8ToString(target);if(!target||target==="#canvas"){if(typeof GL!=="undefined"&&GL.offscreenCanvases["canvas"])return GL.offscreenCanvases["canvas"];return Module["canvas"]}if(typeof GL!=="undefined"&&GL.offscreenCanvases[target])return GL.offscreenCanvases[target];return findEventTarget(target)}function _emscripten_webgl_do_create_context(target,attributes){assert(attributes);var a=attributes>>2;var powerPreference=HEAP32[a+(24>>2)];var contextAttributes={"alpha":!!HEAP32[a+(0>>2)],"depth":!!HEAP32[a+(4>>2)],"stencil":!!HEAP32[a+(8>>2)],"antialias":!!HEAP32[a+(12>>2)],"premultipliedAlpha":!!HEAP32[a+(16>>2)],"preserveDrawingBuffer":!!HEAP32[a+(20>>2)],"powerPreference":__emscripten_webgl_power_preferences[powerPreference],"failIfMajorPerformanceCaveat":!!HEAP32[a+(28>>2)],majorVersion:HEAP32[a+(32>>2)],minorVersion:HEAP32[a+(36>>2)],enableExtensionsByDefault:HEAP32[a+(40>>2)],explicitSwapControl:HEAP32[a+(44>>2)],proxyContextToMainThread:HEAP32[a+(48>>2)],renderViaOffscreenBackBuffer:HEAP32[a+(52>>2)]};var canvas=findCanvasEventTarget(target);if(!canvas){return 0}if(contextAttributes.explicitSwapControl){return 0}var contextHandle=GL.createContext(canvas,contextAttributes);return contextHandle}function _emscripten_webgl_create_context(a0,a1){return _emscripten_webgl_do_create_context(a0,a1)}function _emscripten_webgl_do_get_current_context(){return GL.currentContext?GL.currentContext.handle:0}function _emscripten_webgl_get_current_context(){return _emscripten_webgl_do_get_current_context()}Module["_emscripten_webgl_get_current_context"]=_emscripten_webgl_get_current_context;function _emscripten_webgl_make_context_current(contextHandle){var success=GL.makeContextCurrent(contextHandle);return success?0:-5}Module["_emscripten_webgl_make_context_current"]=_emscripten_webgl_make_context_current;function _emscripten_webgl_destroy_context(contextHandle){if(GL.currentContext==contextHandle)GL.currentContext=0;GL.deleteContext(contextHandle)}function _emscripten_webgl_get_context_attributes(c,a){if(!a)return-5;c=GL.contexts[c];if(!c)return-3;var t=c.GLctx;if(!t)return-3;t=t.getContextAttributes();HEAP32[a>>2]=t.alpha;HEAP32[a+4>>2]=t.depth;HEAP32[a+8>>2]=t.stencil;HEAP32[a+12>>2]=t.antialias;HEAP32[a+16>>2]=t.premultipliedAlpha;HEAP32[a+20>>2]=t.preserveDrawingBuffer;var power=t["powerPreference"]&&__emscripten_webgl_power_preferences.indexOf(t["powerPreference"]);HEAP32[a+24>>2]=power;HEAP32[a+28>>2]=t.failIfMajorPerformanceCaveat;HEAP32[a+32>>2]=c.version;HEAP32[a+36>>2]=0;HEAP32[a+40>>2]=c.attributes.enableExtensionsByDefault;return 0}function _emscripten_webgl_init_context_attributes(attributes){assert(attributes);var a=attributes>>2;for(var i=0;i<56>>2;++i){HEAP32[a+i]=0}HEAP32[a+(0>>2)]=HEAP32[a+(4>>2)]=HEAP32[a+(12>>2)]=HEAP32[a+(16>>2)]=HEAP32[a+(32>>2)]=HEAP32[a+(40>>2)]=1}var ENV={};function getExecutableName(){return thisProgram||"./this.program"}function getEnvStrings(){if(!getEnvStrings.strings){var lang=(typeof navigator==="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var env={"USER":"web_user","LOGNAME":"web_user","PATH":"/","PWD":"/","HOME":"/home/web_user","LANG":lang,"_":getExecutableName()};for(var x in ENV){env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(x+"="+env[x])}getEnvStrings.strings=strings}return getEnvStrings.strings}function _environ_get(__environ,environ_buf){try{var bufSize=0;getEnvStrings().forEach(function(string,i){var ptr=environ_buf+bufSize;HEAP32[__environ+i*4>>2]=ptr;writeAsciiToMemory(string,ptr);bufSize+=string.length+1});return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _environ_sizes_get(penviron_count,penviron_buf_size){try{var strings=getEnvStrings();HEAP32[penviron_count>>2]=strings.length;var bufSize=0;strings.forEach(function(string){bufSize+=string.length+1});HEAP32[penviron_buf_size>>2]=bufSize;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_fdstat_get(fd,pbuf){try{var stream=SYSCALLS.getStreamFromFD(fd);var type=stream.tty?2:FS.isDir(stream.mode)?3:FS.isLink(stream.mode)?7:4;HEAP8[pbuf>>0]=type;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_read(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doReadv(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){try{var stream=SYSCALLS.getStreamFromFD(fd);var HIGH_OFFSET=4294967296;var offset=offset_high*HIGH_OFFSET+(offset_low>>>0);var DOUBLE_LIMIT=9007199254740992;if(offset<=-DOUBLE_LIMIT||offset>=DOUBLE_LIMIT){return-61}FS.llseek(stream,offset,whence);tempI64=[stream.position>>>0,(tempDouble=stream.position,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[newOffset>>2]=tempI64[0],HEAP32[newOffset+4>>2]=tempI64[1];if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_write(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doWritev(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _getTempRet0(){return getTempRet0()|0}function _gettimeofday(ptr){var now=Date.now();HEAP32[ptr>>2]=now/1e3|0;HEAP32[ptr+4>>2]=now%1e3*1e3|0;return 0}function _glActiveTexture(x0){GLctx["activeTexture"](x0)}function _glAttachShader(program,shader){GLctx.attachShader(GL.programs[program],GL.shaders[shader])}function _glBindAttribLocation(program,index,name){GLctx.bindAttribLocation(GL.programs[program],index,UTF8ToString(name))}function _glBindBuffer(target,buffer){if(target==34962){GLctx.currentArrayBufferBinding=buffer}else if(target==34963){GLctx.currentElementArrayBufferBinding=buffer}if(target==35051){GLctx.currentPixelPackBufferBinding=buffer}else if(target==35052){GLctx.currentPixelUnpackBufferBinding=buffer}GLctx.bindBuffer(target,GL.buffers[buffer])}function _glBindBufferBase(target,index,buffer){GLctx["bindBufferBase"](target,index,GL.buffers[buffer])}function _glBindFramebuffer(target,framebuffer){GLctx.bindFramebuffer(target,GL.framebuffers[framebuffer])}function _glBindRenderbuffer(target,renderbuffer){GLctx.bindRenderbuffer(target,GL.renderbuffers[renderbuffer])}function _glBindSampler(unit,sampler){GLctx["bindSampler"](unit,GL.samplers[sampler])}function _glBindTexture(target,texture){GLctx.bindTexture(target,GL.textures[texture])}function _glBindVertexArray(vao){GLctx["bindVertexArray"](GL.vaos[vao]);var ibo=GLctx.getParameter(34965);GLctx.currentElementArrayBufferBinding=ibo?ibo.name|0:0}function _glBlendFunc(x0,x1){GLctx["blendFunc"](x0,x1)}function _glBlendFuncSeparate(x0,x1,x2,x3){GLctx["blendFuncSeparate"](x0,x1,x2,x3)}function _glBlitFramebuffer(x0,x1,x2,x3,x4,x5,x6,x7,x8,x9){GLctx["blitFramebuffer"](x0,x1,x2,x3,x4,x5,x6,x7,x8,x9)}function _glBufferData(target,size,data,usage){if(GL.currentContext.version>=2){if(data){GLctx.bufferData(target,HEAPU8,usage,data,size)}else{GLctx.bufferData(target,size,usage)}}else{GLctx.bufferData(target,data?HEAPU8.subarray(data,data+size):size,usage)}}function _glBufferSubData(target,offset,size,data){if(GL.currentContext.version>=2){GLctx.bufferSubData(target,offset,HEAPU8,data,size);return}GLctx.bufferSubData(target,offset,HEAPU8.subarray(data,data+size))}function _glCheckFramebufferStatus(x0){return GLctx["checkFramebufferStatus"](x0)}function _glClear(x0){GLctx["clear"](x0)}function _glClearColor(x0,x1,x2,x3){GLctx["clearColor"](x0,x1,x2,x3)}function _glClearDepthf(x0){GLctx["clearDepth"](x0)}function _glClearStencil(x0){GLctx["clearStencil"](x0)}function convertI32PairToI53(lo,hi){assert(hi===(hi|0));return(lo>>>0)+hi*4294967296}function _glClientWaitSync(sync,flags,timeoutLo,timeoutHi){return GLctx.clientWaitSync(GL.syncs[sync],flags,convertI32PairToI53(timeoutLo,timeoutHi))}function _glColorMask(red,green,blue,alpha){GLctx.colorMask(!!red,!!green,!!blue,!!alpha)}function _glCompileShader(shader){GLctx.compileShader(GL.shaders[shader])}function _glCompressedTexImage2D(target,level,internalFormat,width,height,border,imageSize,data){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,imageSize,data)}else{GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,HEAPU8,data,imageSize)}return}GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,data?HEAPU8.subarray(data,data+imageSize):null)}function _glCreateProgram(){var id=GL.getNewId(GL.programs);var program=GLctx.createProgram();program.name=id;GL.programs[id]=program;return id}function _glCreateShader(shaderType){var id=GL.getNewId(GL.shaders);GL.shaders[id]=GLctx.createShader(shaderType);return id}function _glCullFace(x0){GLctx["cullFace"](x0)}function _glDeleteBuffers(n,buffers){for(var i=0;i<n;i++){var id=HEAP32[buffers+i*4>>2];var buffer=GL.buffers[id];if(!buffer)continue;GLctx.deleteBuffer(buffer);buffer.name=0;GL.buffers[id]=null;if(id==GLctx.currentArrayBufferBinding)GLctx.currentArrayBufferBinding=0;if(id==GLctx.currentElementArrayBufferBinding)GLctx.currentElementArrayBufferBinding=0;if(id==GLctx.currentPixelPackBufferBinding)GLctx.currentPixelPackBufferBinding=0;if(id==GLctx.currentPixelUnpackBufferBinding)GLctx.currentPixelUnpackBufferBinding=0}}function _glDeleteFramebuffers(n,framebuffers){for(var i=0;i<n;++i){var id=HEAP32[framebuffers+i*4>>2];var framebuffer=GL.framebuffers[id];if(!framebuffer)continue;GLctx.deleteFramebuffer(framebuffer);framebuffer.name=0;GL.framebuffers[id]=null}}function _glDeleteProgram(id){if(!id)return;var program=GL.programs[id];if(!program){GL.recordError(1281);return}GLctx.deleteProgram(program);program.name=0;GL.programs[id]=null;GL.programInfos[id]=null}function _glDeleteRenderbuffers(n,renderbuffers){for(var i=0;i<n;i++){var id=HEAP32[renderbuffers+i*4>>2];var renderbuffer=GL.renderbuffers[id];if(!renderbuffer)continue;GLctx.deleteRenderbuffer(renderbuffer);renderbuffer.name=0;GL.renderbuffers[id]=null}}function _glDeleteShader(id){if(!id)return;var shader=GL.shaders[id];if(!shader){GL.recordError(1281);return}GLctx.deleteShader(shader);GL.shaders[id]=null}function _glDeleteSync(id){if(!id)return;var sync=GL.syncs[id];if(!sync){GL.recordError(1281);return}GLctx.deleteSync(sync);sync.name=0;GL.syncs[id]=null}function _glDeleteTextures(n,textures){for(var i=0;i<n;i++){var id=HEAP32[textures+i*4>>2];var texture=GL.textures[id];if(!texture)continue;GLctx.deleteTexture(texture);texture.name=0;GL.textures[id]=null}}function _glDeleteVertexArrays(n,vaos){for(var i=0;i<n;i++){var id=HEAP32[vaos+i*4>>2];GLctx["deleteVertexArray"](GL.vaos[id]);GL.vaos[id]=null}}function _glDepthFunc(x0){GLctx["depthFunc"](x0)}function _glDepthMask(flag){GLctx.depthMask(!!flag)}function _glDisable(x0){GLctx["disable"](x0)}function _glDisableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=false;GLctx.disableVertexAttribArray(index)}function _glDrawArrays(mode,first,count){GL.preDrawHandleClientVertexAttribBindings(first+count);GLctx.drawArrays(mode,first,count);GL.postDrawHandleClientVertexAttribBindings()}var tempFixedLengthArray=[];function _glDrawBuffers(n,bufs){var bufArray=tempFixedLengthArray[n];for(var i=0;i<n;i++){bufArray[i]=HEAP32[bufs+i*4>>2]}GLctx["drawBuffers"](bufArray)}function _glDrawElements(mode,count,type,indices){var buf;if(!GLctx.currentElementArrayBufferBinding){var size=GL.calcBufLength(1,type,0,count);buf=GL.getTempIndexBuffer(size);GLctx.bindBuffer(34963,buf);GLctx.bufferSubData(34963,0,HEAPU8.subarray(indices,indices+size));indices=0}GL.preDrawHandleClientVertexAttribBindings(count);GLctx.drawElements(mode,count,type,indices);GL.postDrawHandleClientVertexAttribBindings(count);if(!GLctx.currentElementArrayBufferBinding){GLctx.bindBuffer(34963,null)}}function _glEnable(x0){GLctx["enable"](x0)}function _glEnableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=true;GLctx.enableVertexAttribArray(index)}function _glFenceSync(condition,flags){var sync=GLctx.fenceSync(condition,flags);if(sync){var id=GL.getNewId(GL.syncs);sync.name=id;GL.syncs[id]=sync;return id}else{return 0}}function _glFinish(){GLctx["finish"]()}function _glFlush(){GLctx["flush"]()}function _glFramebufferRenderbuffer(target,attachment,renderbuffertarget,renderbuffer){GLctx.framebufferRenderbuffer(target,attachment,renderbuffertarget,GL.renderbuffers[renderbuffer])}function _glFramebufferTexture2D(target,attachment,textarget,texture,level){GLctx.framebufferTexture2D(target,attachment,textarget,GL.textures[texture],level)}function _glFramebufferTextureLayer(target,attachment,texture,level,layer){GLctx.framebufferTextureLayer(target,attachment,GL.textures[texture],level,layer)}function _glFrontFace(x0){GLctx["frontFace"](x0)}function __glGenObject(n,buffers,createFunction,objectTable){for(var i=0;i<n;i++){var buffer=GLctx[createFunction]();var id=buffer&&GL.getNewId(objectTable);if(buffer){buffer.name=id;objectTable[id]=buffer}else{GL.recordError(1282)}HEAP32[buffers+i*4>>2]=id}}function _glGenBuffers(n,buffers){__glGenObject(n,buffers,"createBuffer",GL.buffers)}function _glGenFramebuffers(n,ids){__glGenObject(n,ids,"createFramebuffer",GL.framebuffers)}function _glGenRenderbuffers(n,renderbuffers){__glGenObject(n,renderbuffers,"createRenderbuffer",GL.renderbuffers)}function _glGenTextures(n,textures){__glGenObject(n,textures,"createTexture",GL.textures)}function _glGenVertexArrays(n,arrays){__glGenObject(n,arrays,"createVertexArray",GL.vaos)}function _glGenerateMipmap(x0){GLctx["generateMipmap"](x0)}function __glGetActiveAttribOrUniform(funcName,program,index,bufSize,length,size,type,name){program=GL.programs[program];var info=GLctx[funcName](program,index);if(info){var numBytesWrittenExclNull=name&&stringToUTF8(info.name,name,bufSize);if(length)HEAP32[length>>2]=numBytesWrittenExclNull;if(size)HEAP32[size>>2]=info.size;if(type)HEAP32[type>>2]=info.type}}function _glGetActiveUniform(program,index,bufSize,length,size,type,name){__glGetActiveAttribOrUniform("getActiveUniform",program,index,bufSize,length,size,type,name)}function _glGetActiveUniformBlockName(program,uniformBlockIndex,bufSize,length,uniformBlockName){program=GL.programs[program];var result=GLctx["getActiveUniformBlockName"](program,uniformBlockIndex);if(!result)return;if(uniformBlockName&&bufSize>0){var numBytesWrittenExclNull=stringToUTF8(result,uniformBlockName,bufSize);if(length)HEAP32[length>>2]=numBytesWrittenExclNull}else{if(length)HEAP32[length>>2]=0}}function _glGetActiveUniformBlockiv(program,uniformBlockIndex,pname,params){if(!params){GL.recordError(1281);return}program=GL.programs[program];if(pname==35393){var name=GLctx["getActiveUniformBlockName"](program,uniformBlockIndex);HEAP32[params>>2]=name.length+1;return}var result=GLctx["getActiveUniformBlockParameter"](program,uniformBlockIndex,pname);if(result===null)return;if(pname==35395){for(var i=0;i<result.length;i++){HEAP32[params+i*4>>2]=result[i]}}else{HEAP32[params>>2]=result}}function _glGetAttribLocation(program,name){return GLctx.getAttribLocation(GL.programs[program],UTF8ToString(name))}function readI53FromI64(ptr){return HEAPU32[ptr>>2]+HEAP32[ptr+4>>2]*4294967296}function readI53FromU64(ptr){return HEAPU32[ptr>>2]+HEAPU32[ptr+4>>2]*4294967296}function writeI53ToI64(ptr,num){HEAPU32[ptr>>2]=num;HEAPU32[ptr+4>>2]=(num-HEAPU32[ptr>>2])/4294967296;var deserialized=num>=0?readI53FromU64(ptr):readI53FromI64(ptr);if(deserialized!=num)warnOnce("writeI53ToI64() out of range: serialized JS Number "+num+" to Wasm heap as bytes lo=0x"+HEAPU32[ptr>>2].toString(16)+", hi=0x"+HEAPU32[ptr+4>>2].toString(16)+", which deserializes back to "+deserialized+" instead!")}function emscriptenWebGLGet(name_,p,type){if(!p){GL.recordError(1281);return}var ret=undefined;switch(name_){case 36346:ret=1;break;case 36344:if(type!=0&&type!=1){GL.recordError(1280)}return;case 34814:case 36345:ret=0;break;case 34466:var formats=GLctx.getParameter(34467);ret=formats?formats.length:0;break;case 33309:if(GL.currentContext.version<2){GL.recordError(1282);return}var exts=GLctx.getSupportedExtensions()||[];ret=2*exts.length;break;case 33307:case 33308:if(GL.currentContext.version<2){GL.recordError(1280);return}ret=name_==33307?3:0;break}if(ret===undefined){var result=GLctx.getParameter(name_);switch(typeof result){case"number":ret=result;break;case"boolean":ret=result?1:0;break;case"string":GL.recordError(1280);return;case"object":if(result===null){switch(name_){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:{ret=0;break}default:{GL.recordError(1280);return}}}else if(result instanceof Float32Array||result instanceof Uint32Array||result instanceof Int32Array||result instanceof Array){for(var i=0;i<result.length;++i){switch(type){case 0:HEAP32[p+i*4>>2]=result[i];break;case 2:HEAPF32[p+i*4>>2]=result[i];break;case 4:HEAP8[p+i>>0]=result[i]?1:0;break}}return}else{try{ret=result.name|0}catch(e){GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Unknown object returned from WebGL getParameter("+name_+")! (error: "+e+")");return}}break;default:GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Native code calling glGet"+type+"v("+name_+") and it returns "+result+" of type "+typeof result+"!");return}}switch(type){case 1:writeI53ToI64(p,ret);break;case 0:HEAP32[p>>2]=ret;break;case 2:HEAPF32[p>>2]=ret;break;case 4:HEAP8[p>>0]=ret?1:0;break}}function _glGetBooleanv(name_,p){emscriptenWebGLGet(name_,p,4)}function _glGetError(){var error=GLctx.getError()||GL.lastError;GL.lastError=0;return error}function _glGetIntegerv(name_,p){emscriptenWebGLGet(name_,p,0)}function _glGetProgramInfoLog(program,maxLength,length,infoLog){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetProgramiv(program,pname,p){if(!p){GL.recordError(1281);return}if(program>=GL.counter){GL.recordError(1281);return}var ptable=GL.programInfos[program];if(!ptable){GL.recordError(1282);return}if(pname==35716){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";HEAP32[p>>2]=log.length+1}else if(pname==35719){HEAP32[p>>2]=ptable.maxUniformLength}else if(pname==35722){if(ptable.maxAttributeLength==-1){program=GL.programs[program];var numAttribs=GLctx.getProgramParameter(program,35721);ptable.maxAttributeLength=0;for(var i=0;i<numAttribs;++i){var activeAttrib=GLctx.getActiveAttrib(program,i);ptable.maxAttributeLength=Math.max(ptable.maxAttributeLength,activeAttrib.name.length+1)}}HEAP32[p>>2]=ptable.maxAttributeLength}else if(pname==35381){if(ptable.maxUniformBlockNameLength==-1){program=GL.programs[program];var numBlocks=GLctx.getProgramParameter(program,35382);ptable.maxUniformBlockNameLength=0;for(var i=0;i<numBlocks;++i){var activeBlockName=GLctx.getActiveUniformBlockName(program,i);ptable.maxUniformBlockNameLength=Math.max(ptable.maxUniformBlockNameLength,activeBlockName.length+1)}}HEAP32[p>>2]=ptable.maxUniformBlockNameLength}else{HEAP32[p>>2]=GLctx.getProgramParameter(GL.programs[program],pname)}}function _glGetShaderInfoLog(shader,maxLength,length,infoLog){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetShaderiv(shader,pname,p){if(!p){GL.recordError(1281);return}if(pname==35716){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var logLength=log?log.length+1:0;HEAP32[p>>2]=logLength}else if(pname==35720){var source=GLctx.getShaderSource(GL.shaders[shader]);var sourceLength=source?source.length+1:0;HEAP32[p>>2]=sourceLength}else{HEAP32[p>>2]=GLctx.getShaderParameter(GL.shaders[shader],pname)}}function stringToNewUTF8(jsString){var length=lengthBytesUTF8(jsString)+1;var cString=_malloc(length);stringToUTF8(jsString,cString,length);return cString}function _glGetString(name_){if(GL.stringCache[name_])return GL.stringCache[name_];var ret;switch(name_){case 7939:var exts=GLctx.getSupportedExtensions()||[];exts=exts.concat(exts.map(function(e){return"GL_"+e}));ret=stringToNewUTF8(exts.join(" "));break;case 7936:case 7937:case 37445:case 37446:var s=GLctx.getParameter(name_);if(!s){GL.recordError(1280)}ret=stringToNewUTF8(s);break;case 7938:var glVersion=GLctx.getParameter(7938);if(GL.currentContext.version>=2)glVersion="OpenGL ES 3.0 ("+glVersion+")";else{glVersion="OpenGL ES 2.0 ("+glVersion+")"}ret=stringToNewUTF8(glVersion);break;case 35724:var glslVersion=GLctx.getParameter(35724);var ver_re=/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/;var ver_num=glslVersion.match(ver_re);if(ver_num!==null){if(ver_num[1].length==3)ver_num[1]=ver_num[1]+"0";glslVersion="OpenGL ES GLSL ES "+ver_num[1]+" ("+glslVersion+")"}ret=stringToNewUTF8(glslVersion);break;default:GL.recordError(1280);return 0}GL.stringCache[name_]=ret;return ret}function _glGetStringi(name,index){if(GL.currentContext.version<2){GL.recordError(1282);return 0}var stringiCache=GL.stringiCache[name];if(stringiCache){if(index<0||index>=stringiCache.length){GL.recordError(1281);return 0}return stringiCache[index]}switch(name){case 7939:var exts=GLctx.getSupportedExtensions()||[];exts=exts.concat(exts.map(function(e){return"GL_"+e}));exts=exts.map(function(e){return stringToNewUTF8(e)});stringiCache=GL.stringiCache[name]=exts;if(index<0||index>=stringiCache.length){GL.recordError(1281);return 0}return stringiCache[index];default:GL.recordError(1280);return 0}}function _glGetUniformBlockIndex(program,uniformBlockName){return GLctx["getUniformBlockIndex"](GL.programs[program],UTF8ToString(uniformBlockName))}function jstoi_q(str){return parseInt(str)}function _glGetUniformLocation(program,name){name=UTF8ToString(name);var arrayIndex=0;if(name[name.length-1]=="]"){var leftBrace=name.lastIndexOf("[");arrayIndex=name[leftBrace+1]!="]"?jstoi_q(name.slice(leftBrace+1)):0;name=name.slice(0,leftBrace)}var uniformInfo=GL.programInfos[program]&&GL.programInfos[program].uniforms[name];if(uniformInfo&&arrayIndex>=0&&arrayIndex<uniformInfo[0]){return uniformInfo[1]+arrayIndex}else{return-1}}function _glLinkProgram(program){GLctx.linkProgram(GL.programs[program]);GL.populateUniformTable(program)}function _glPixelStorei(pname,param){if(pname==3317){GL.unpackAlignment=param}GLctx.pixelStorei(pname,param)}function _glReadBuffer(x0){GLctx["readBuffer"](x0)}function computeUnpackAlignedImageSize(width,height,sizePerPixel,alignment){function roundedToNextMultipleOf(x,y){return x+y-1&-y}var plainRowSize=width*sizePerPixel;var alignedRowSize=roundedToNextMultipleOf(plainRowSize,alignment);return height*alignedRowSize}function __colorChannelsInGlTextureFormat(format){var colorChannels={5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4};return colorChannels[format-6402]||1}function heapObjectForWebGLType(type){type-=5120;if(type==0)return HEAP8;if(type==1)return HEAPU8;if(type==2)return HEAP16;if(type==4)return HEAP32;if(type==6)return HEAPF32;if(type==5||type==28922||type==28520||type==30779||type==30782)return HEAPU32;return HEAPU16}function heapAccessShiftForWebGLHeap(heap){return 31-Math.clz32(heap.BYTES_PER_ELEMENT)}function emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat){var heap=heapObjectForWebGLType(type);var shift=heapAccessShiftForWebGLHeap(heap);var byteSize=1<<shift;var sizePerPixel=__colorChannelsInGlTextureFormat(format)*byteSize;var bytes=computeUnpackAlignedImageSize(width,height,sizePerPixel,GL.unpackAlignment);return heap.subarray(pixels>>shift,pixels+bytes>>shift)}function _glReadPixels(x,y,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelPackBufferBinding){GLctx.readPixels(x,y,width,height,format,type,pixels)}else{var heap=heapObjectForWebGLType(type);GLctx.readPixels(x,y,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}return}var pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,format);if(!pixelData){GL.recordError(1280);return}GLctx.readPixels(x,y,width,height,format,type,pixelData)}function _glRenderbufferStorage(x0,x1,x2,x3){GLctx["renderbufferStorage"](x0,x1,x2,x3)}function _glRenderbufferStorageMultisample(x0,x1,x2,x3,x4){GLctx["renderbufferStorageMultisample"](x0,x1,x2,x3,x4)}function _glScissor(x0,x1,x2,x3){GLctx["scissor"](x0,x1,x2,x3)}function _glShaderSource(shader,count,string,length){var source=GL.getSource(shader,count,string,length);GLctx.shaderSource(GL.shaders[shader],source)}function _glStencilFuncSeparate(x0,x1,x2,x3){GLctx["stencilFuncSeparate"](x0,x1,x2,x3)}function _glStencilOpSeparate(x0,x1,x2,x3){GLctx["stencilOpSeparate"](x0,x1,x2,x3)}function _glTexImage2D(target,level,internalFormat,width,height,border,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,null)}return}GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat):null)}function _glTexParameterf(x0,x1,x2){GLctx["texParameterf"](x0,x1,x2)}function _glTexParameterfv(target,pname,params){var param=HEAPF32[params>>2];GLctx.texParameterf(target,pname,param)}function _glTexParameteri(x0,x1,x2){GLctx["texParameteri"](x0,x1,x2)}function _glTexStorage2D(x0,x1,x2,x3,x4){GLctx["texStorage2D"](x0,x1,x2,x3,x4)}function _glTexStorage3D(x0,x1,x2,x3,x4,x5){GLctx["texStorage3D"](x0,x1,x2,x3,x4,x5)}function _glTexSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,null)}return}var pixelData=null;if(pixels)pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,0);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixelData)}function _glTexSubImage3D(target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels){if(GLctx.currentPixelUnpackBufferBinding){GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,null)}}function _glUniform1f(location,v0){GLctx.uniform1f(GL.uniforms[location],v0)}var miniTempWebGLFloatBuffers=[];function _glUniform1fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform1fv(GL.uniforms[location],HEAPF32,value>>2,count);return}if(count<=288){var view=miniTempWebGLFloatBuffers[count-1];for(var i=0;i<count;++i){view[i]=HEAPF32[value+4*i>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*4>>2)}GLctx.uniform1fv(GL.uniforms[location],view)}function _glUniform1i(location,v0){GLctx.uniform1i(GL.uniforms[location],v0)}var __miniTempWebGLIntBuffers=[];function _glUniform1iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform1iv(GL.uniforms[location],HEAP32,value>>2,count);return}if(count<=288){var view=__miniTempWebGLIntBuffers[count-1];for(var i=0;i<count;++i){view[i]=HEAP32[value+4*i>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*4>>2)}GLctx.uniform1iv(GL.uniforms[location],view)}function _glUniform2f(location,v0,v1){GLctx.uniform2f(GL.uniforms[location],v0,v1)}function _glUniform2fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2fv(GL.uniforms[location],HEAPF32,value>>2,count*2);return}if(count<=144){var view=miniTempWebGLFloatBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2fv(GL.uniforms[location],view)}function _glUniform2iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2iv(GL.uniforms[location],HEAP32,value>>2,count*2);return}if(count<=144){var view=__miniTempWebGLIntBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2iv(GL.uniforms[location],view)}function _glUniform3f(location,v0,v1,v2){GLctx.uniform3f(GL.uniforms[location],v0,v1,v2)}function _glUniform3fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform3fv(GL.uniforms[location],HEAPF32,value>>2,count*3);return}if(count<=96){var view=miniTempWebGLFloatBuffers[3*count-1];for(var i=0;i<3*count;i+=3){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*12>>2)}GLctx.uniform3fv(GL.uniforms[location],view)}function _glUniform3iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform3iv(GL.uniforms[location],HEAP32,value>>2,count*3);return}if(count<=96){var view=__miniTempWebGLIntBuffers[3*count-1];for(var i=0;i<3*count;i+=3){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2];view[i+2]=HEAP32[value+(4*i+8)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*12>>2)}GLctx.uniform3iv(GL.uniforms[location],view)}function _glUniform4f(location,v0,v1,v2,v3){GLctx.uniform4f(GL.uniforms[location],v0,v1,v2,v3)}function _glUniform4fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4fv(GL.uniforms[location],HEAPF32,value>>2,count*4);return}if(count<=72){var view=miniTempWebGLFloatBuffers[4*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<4*count;i+=4){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4fv(GL.uniforms[location],view)}function _glUniform4iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4iv(GL.uniforms[location],HEAP32,value>>2,count*4);return}if(count<=72){var view=__miniTempWebGLIntBuffers[4*count-1];for(var i=0;i<4*count;i+=4){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2];view[i+2]=HEAP32[value+(4*i+8)>>2];view[i+3]=HEAP32[value+(4*i+12)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4iv(GL.uniforms[location],view)}function _glUniformBlockBinding(program,uniformBlockIndex,uniformBlockBinding){program=GL.programs[program];GLctx["uniformBlockBinding"](program,uniformBlockIndex,uniformBlockBinding)}function _glUniformMatrix2fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix2fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*4);return}if(count<=72){var view=miniTempWebGLFloatBuffers[4*count-1];for(var i=0;i<4*count;i+=4){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2];view[i+3]=HEAPF32[value+(4*i+12)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniformMatrix2fv(GL.uniforms[location],!!transpose,view)}function _glUniformMatrix3fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix3fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*9);return}if(count<=32){var view=miniTempWebGLFloatBuffers[9*count-1];for(var i=0;i<9*count;i+=9){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2];view[i+3]=HEAPF32[value+(4*i+12)>>2];view[i+4]=HEAPF32[value+(4*i+16)>>2];view[i+5]=HEAPF32[value+(4*i+20)>>2];view[i+6]=HEAPF32[value+(4*i+24)>>2];view[i+7]=HEAPF32[value+(4*i+28)>>2];view[i+8]=HEAPF32[value+(4*i+32)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*36>>2)}GLctx.uniformMatrix3fv(GL.uniforms[location],!!transpose,view)}function _glUniformMatrix4fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*16);return}if(count<=18){var view=miniTempWebGLFloatBuffers[16*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<16*count;i+=16){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3];view[i+4]=heap[dst+4];view[i+5]=heap[dst+5];view[i+6]=heap[dst+6];view[i+7]=heap[dst+7];view[i+8]=heap[dst+8];view[i+9]=heap[dst+9];view[i+10]=heap[dst+10];view[i+11]=heap[dst+11];view[i+12]=heap[dst+12];view[i+13]=heap[dst+13];view[i+14]=heap[dst+14];view[i+15]=heap[dst+15]}}else{var view=HEAPF32.subarray(value>>2,value+count*64>>2)}GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,view)}function _glUseProgram(program){GLctx.useProgram(GL.programs[program])}function _glVertexAttribPointer(index,size,type,normalized,stride,ptr){var cb=GL.currentContext.clientBuffers[index];if(!GLctx.currentArrayBufferBinding){cb.size=size;cb.type=type;cb.normalized=normalized;cb.stride=stride;cb.ptr=ptr;cb.clientside=true;cb.vertexAttribPointerAdaptor=function(index,size,type,normalized,stride,ptr){this.vertexAttribPointer(index,size,type,normalized,stride,ptr)};return}cb.clientside=false;GLctx.vertexAttribPointer(index,size,type,!!normalized,stride,ptr)}function _glViewport(x0,x1,x2,x3){GLctx["viewport"](x0,x1,x2,x3)}function _gmtime_r(time,tmPtr){var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getUTCSeconds();HEAP32[tmPtr+4>>2]=date.getUTCMinutes();HEAP32[tmPtr+8>>2]=date.getUTCHours();HEAP32[tmPtr+12>>2]=date.getUTCDate();HEAP32[tmPtr+16>>2]=date.getUTCMonth();HEAP32[tmPtr+20>>2]=date.getUTCFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getUTCDay();HEAP32[tmPtr+36>>2]=0;HEAP32[tmPtr+32>>2]=0;var start=Date.UTC(date.getUTCFullYear(),0,1,0,0,0,0);var yday=(date.getTime()-start)/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;if(!_gmtime_r.GMTString)_gmtime_r.GMTString=allocateUTF8("GMT");HEAP32[tmPtr+40>>2]=_gmtime_r.GMTString;return tmPtr}function _llvm_eh_typeid_for(type){return type}function _tzset(){if(_tzset.called)return;_tzset.called=true;var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);HEAP32[__get_timezone()>>2]=stdTimezoneOffset*60;HEAP32[__get_daylight()>>2]=Number(winterOffset!=summerOffset);function extractZone(date){var match=date.toTimeString().match(/\(([A-Za-z ]+)\)$/);return match?match[1]:"GMT"}var winterName=extractZone(winter);var summerName=extractZone(summer);var winterNamePtr=allocateUTF8(winterName);var summerNamePtr=allocateUTF8(summerName);if(summerOffset<winterOffset){HEAP32[__get_tzname()>>2]=winterNamePtr;HEAP32[__get_tzname()+4>>2]=summerNamePtr}else{HEAP32[__get_tzname()>>2]=summerNamePtr;HEAP32[__get_tzname()+4>>2]=winterNamePtr}}function _localtime_r(time,tmPtr){_tzset();var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();HEAP32[tmPtr+20>>2]=date.getFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getDay();var start=new Date(date.getFullYear(),0,1);var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr+36>>2]=-(date.getTimezoneOffset()*60);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dst=(summerOffset!=winterOffset&&date.getTimezoneOffset()==Math.min(winterOffset,summerOffset))|0;HEAP32[tmPtr+32>>2]=dst;var zonePtr=HEAP32[__get_tzname()+(dst?4:0)>>2];HEAP32[tmPtr+40>>2]=zonePtr;return tmPtr}function _mktime(tmPtr){_tzset();var date=new Date(HEAP32[tmPtr+20>>2]+1900,HEAP32[tmPtr+16>>2],HEAP32[tmPtr+12>>2],HEAP32[tmPtr+8>>2],HEAP32[tmPtr+4>>2],HEAP32[tmPtr>>2],0);var dst=HEAP32[tmPtr+32>>2];var guessedOffset=date.getTimezoneOffset();var start=new Date(date.getFullYear(),0,1);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dstOffset=Math.min(winterOffset,summerOffset);if(dst<0){HEAP32[tmPtr+32>>2]=Number(summerOffset!=winterOffset&&dstOffset==guessedOffset)}else if(dst>0!=(dstOffset==guessedOffset)){var nonDstOffset=Math.max(winterOffset,summerOffset);var trueOffset=dst>0?dstOffset:nonDstOffset;date.setTime(date.getTime()+(trueOffset-guessedOffset)*6e4)}HEAP32[tmPtr+24>>2]=date.getDay();var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();return date.getTime()/1e3|0}function _pthread_create(){return 6}function _pthread_join(){return 28}function _setTempRet0($i){setTempRet0($i|0)}function __isLeapYear(year){return year%4===0&&(year%100!==0||year%400===0)}function __arraySum(array,index){var sum=0;for(var i=0;i<=index;sum+=array[i++]){}return sum}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31];var __MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(date,days){var newDate=new Date(date.getTime());while(days>0){var leap=__isLeapYear(newDate.getFullYear());var currentMonth=newDate.getMonth();var daysInCurrentMonth=(leap?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[currentMonth];if(days>daysInCurrentMonth-newDate.getDate()){days-=daysInCurrentMonth-newDate.getDate()+1;newDate.setDate(1);if(currentMonth<11){newDate.setMonth(currentMonth+1)}else{newDate.setMonth(0);newDate.setFullYear(newDate.getFullYear()+1)}}else{newDate.setDate(newDate.getDate()+days);return newDate}}return newDate}function _strftime(s,maxsize,format,tm){var tm_zone=HEAP32[tm+40>>2];var date={tm_sec:HEAP32[tm>>2],tm_min:HEAP32[tm+4>>2],tm_hour:HEAP32[tm+8>>2],tm_mday:HEAP32[tm+12>>2],tm_mon:HEAP32[tm+16>>2],tm_year:HEAP32[tm+20>>2],tm_wday:HEAP32[tm+24>>2],tm_yday:HEAP32[tm+28>>2],tm_isdst:HEAP32[tm+32>>2],tm_gmtoff:HEAP32[tm+36>>2],tm_zone:tm_zone?UTF8ToString(tm_zone):""};var pattern=UTF8ToString(format);var EXPANSION_RULES_1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var rule in EXPANSION_RULES_1){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_1[rule])}var WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];function leadingSomething(value,digits,character){var str=typeof value==="number"?value.toString():value||"";while(str.length<digits){str=character[0]+str}return str}function leadingNulls(value,digits){return leadingSomething(value,digits,"0")}function compareByDay(date1,date2){function sgn(value){return value<0?-1:value>0?1:0}var compare;if((compare=sgn(date1.getFullYear()-date2.getFullYear()))===0){if((compare=sgn(date1.getMonth()-date2.getMonth()))===0){compare=sgn(date1.getDate()-date2.getDate())}}return compare}function getFirstWeekStartDate(janFourth){switch(janFourth.getDay()){case 0:return new Date(janFourth.getFullYear()-1,11,29);case 1:return janFourth;case 2:return new Date(janFourth.getFullYear(),0,3);case 3:return new Date(janFourth.getFullYear(),0,2);case 4:return new Date(janFourth.getFullYear(),0,1);case 5:return new Date(janFourth.getFullYear()-1,11,31);case 6:return new Date(janFourth.getFullYear()-1,11,30)}}function getWeekBasedYear(date){var thisDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);var janFourthThisYear=new Date(thisDate.getFullYear(),0,4);var janFourthNextYear=new Date(thisDate.getFullYear()+1,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);if(compareByDay(firstWeekStartThisYear,thisDate)<=0){if(compareByDay(firstWeekStartNextYear,thisDate)<=0){return thisDate.getFullYear()+1}else{return thisDate.getFullYear()}}else{return thisDate.getFullYear()-1}}var EXPANSION_RULES_2={"%a":function(date){return WEEKDAYS[date.tm_wday].substring(0,3)},"%A":function(date){return WEEKDAYS[date.tm_wday]},"%b":function(date){return MONTHS[date.tm_mon].substring(0,3)},"%B":function(date){return MONTHS[date.tm_mon]},"%C":function(date){var year=date.tm_year+1900;return leadingNulls(year/100|0,2)},"%d":function(date){return leadingNulls(date.tm_mday,2)},"%e":function(date){return leadingSomething(date.tm_mday,2," ")},"%g":function(date){return getWeekBasedYear(date).toString().substring(2)},"%G":function(date){return getWeekBasedYear(date)},"%H":function(date){return leadingNulls(date.tm_hour,2)},"%I":function(date){var twelveHour=date.tm_hour;if(twelveHour==0)twelveHour=12;else if(twelveHour>12)twelveHour-=12;return leadingNulls(twelveHour,2)},"%j":function(date){return leadingNulls(date.tm_mday+__arraySum(__isLeapYear(date.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,date.tm_mon-1),3)},"%m":function(date){return leadingNulls(date.tm_mon+1,2)},"%M":function(date){return leadingNulls(date.tm_min,2)},"%n":function(){return"\n"},"%p":function(date){if(date.tm_hour>=0&&date.tm_hour<12){return"AM"}else{return"PM"}},"%S":function(date){return leadingNulls(date.tm_sec,2)},"%t":function(){return"\t"},"%u":function(date){return date.tm_wday||7},"%U":function(date){var janFirst=new Date(date.tm_year+1900,0,1);var firstSunday=janFirst.getDay()===0?janFirst:__addDays(janFirst,7-janFirst.getDay());var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstSunday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstSundayUntilEndJanuary=31-firstSunday.getDate();var days=firstSundayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstSunday,janFirst)===0?"01":"00"},"%V":function(date){var janFourthThisYear=new Date(date.tm_year+1900,0,4);var janFourthNextYear=new Date(date.tm_year+1901,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);var endDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);if(compareByDay(endDate,firstWeekStartThisYear)<0){return"53"}if(compareByDay(firstWeekStartNextYear,endDate)<=0){return"01"}var daysDifference;if(firstWeekStartThisYear.getFullYear()<date.tm_year+1900){daysDifference=date.tm_yday+32-firstWeekStartThisYear.getDate()}else{daysDifference=date.tm_yday+1-firstWeekStartThisYear.getDate()}return leadingNulls(Math.ceil(daysDifference/7),2)},"%w":function(date){return date.tm_wday},"%W":function(date){var janFirst=new Date(date.tm_year,0,1);var firstMonday=janFirst.getDay()===1?janFirst:__addDays(janFirst,janFirst.getDay()===0?1:7-janFirst.getDay()+1);var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstMonday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstMondayUntilEndJanuary=31-firstMonday.getDate();var days=firstMondayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstMonday,janFirst)===0?"01":"00"},"%y":function(date){return(date.tm_year+1900).toString().substring(2)},"%Y":function(date){return date.tm_year+1900},"%z":function(date){var off=date.tm_gmtoff;var ahead=off>=0;off=Math.abs(off)/60;off=off/60*100+off%60;return(ahead?"+":"-")+String("0000"+off).slice(-4)},"%Z":function(date){return date.tm_zone},"%%":function(){return"%"}};for(var rule in EXPANSION_RULES_2){if(pattern.indexOf(rule)>=0){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_2[rule](date))}}var bytes=intArrayFromString(pattern,false);if(bytes.length>maxsize){return 0}writeArrayToMemory(bytes,s);return bytes.length-1}function _strftime_l(s,maxsize,format,tm){return _strftime(s,maxsize,format,tm)}var readAsmConstArgsArray=[];function readAsmConstArgs(sigPtr,buf){assert(Array.isArray(readAsmConstArgsArray));assert(buf%16==0);readAsmConstArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){assert(ch===100||ch===102||ch===105);var double=ch<105;if(double&&buf&1)buf++;readAsmConstArgsArray.push(double?HEAPF64[buf++>>1]:HEAP32[buf]);++buf}return readAsmConstArgsArray}Module["requestFullscreen"]=function Module_requestFullscreen(lockPointer,resizeCanvas){Browser.requestFullscreen(lockPointer,resizeCanvas)};Module["requestFullScreen"]=function Module_requestFullScreen(){Browser.requestFullScreen()};Module["requestAnimationFrame"]=function Module_requestAnimationFrame(func){Browser.requestAnimationFrame(func)};Module["setCanvasSize"]=function Module_setCanvasSize(width,height,noUpdates){Browser.setCanvasSize(width,height,noUpdates)};Module["pauseMainLoop"]=function Module_pauseMainLoop(){Browser.mainLoop.pause()};Module["resumeMainLoop"]=function Module_resumeMainLoop(){Browser.mainLoop.resume()};Module["getUserMedia"]=function Module_getUserMedia(){Browser.getUserMedia()};Module["createContext"]=function Module_createContext(canvas,useWebGL,setInModule,webGLContextAttributes){return Browser.createContext(canvas,useWebGL,setInModule,webGLContextAttributes)};var FSNode=function(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.mounted=null;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.node_ops={};this.stream_ops={};this.rdev=rdev};var readMode=292|73;var writeMode=146;Object.defineProperties(FSNode.prototype,{read:{get:function(){return(this.mode&readMode)===readMode},set:function(val){val?this.mode|=readMode:this.mode&=~readMode}},write:{get:function(){return(this.mode&writeMode)===writeMode},set:function(val){val?this.mode|=writeMode:this.mode&=~writeMode}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}});FS.FSNode=FSNode;FS.staticInit();Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;init_emval();PureVirtualError=Module["PureVirtualError"]=extendError(Error,"PureVirtualError");embind_init_charCodes();init_embind();BindingError=Module["BindingError"]=extendError(Error,"BindingError");InternalError=Module["InternalError"]=extendError(Error,"InternalError");init_ClassHandle();init_RegisteredPointer();UnboundTypeError=Module["UnboundTypeError"]=extendError(Error,"UnboundTypeError");var GLctx;for(var i=0;i<32;++i)tempFixedLengthArray.push(new Array(i));var miniTempWebGLFloatBuffersStorage=new Float32Array(288);for(var i=0;i<288;++i){miniTempWebGLFloatBuffers[i]=miniTempWebGLFloatBuffersStorage.subarray(0,i+1)}var __miniTempWebGLIntBuffersStorage=new Int32Array(288);for(var i=0;i<288;++i){__miniTempWebGLIntBuffers[i]=__miniTempWebGLIntBuffersStorage.subarray(0,i+1)}var ASSERTIONS=true;function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}var asmLibraryArg={"__cxa_allocate_exception":___cxa_allocate_exception,"__cxa_atexit":___cxa_atexit,"__cxa_begin_catch":___cxa_begin_catch,"__cxa_end_catch":___cxa_end_catch,"__cxa_find_matching_catch_2":___cxa_find_matching_catch_2,"__cxa_find_matching_catch_3":___cxa_find_matching_catch_3,"__cxa_free_exception":___cxa_free_exception,"__cxa_rethrow":___cxa_rethrow,"__cxa_thread_atexit":___cxa_thread_atexit,"__cxa_throw":___cxa_throw,"__resumeException":___resumeException,"__sys_fcntl64":___sys_fcntl64,"__sys_fstat64":___sys_fstat64,"__sys_ioctl":___sys_ioctl,"__sys_mmap2":___sys_mmap2,"__sys_mprotect":___sys_mprotect,"__sys_munmap":___sys_munmap,"__sys_open":___sys_open,"__sys_stat64":___sys_stat64,"_embind_create_inheriting_constructor":__embind_create_inheriting_constructor,"_embind_finalize_value_object":__embind_finalize_value_object,"_embind_register_bool":__embind_register_bool,"_embind_register_class":__embind_register_class,"_embind_register_class_class_function":__embind_register_class_class_function,"_embind_register_class_constructor":__embind_register_class_constructor,"_embind_register_class_function":__embind_register_class_function,"_embind_register_class_property":__embind_register_class_property,"_embind_register_emval":__embind_register_emval,"_embind_register_float":__embind_register_float,"_embind_register_function":__embind_register_function,"_embind_register_integer":__embind_register_integer,"_embind_register_memory_view":__embind_register_memory_view,"_embind_register_std_string":__embind_register_std_string,"_embind_register_std_wstring":__embind_register_std_wstring,"_embind_register_value_object":__embind_register_value_object,"_embind_register_value_object_field":__embind_register_value_object_field,"_embind_register_void":__embind_register_void,"_emval_call_void_method":__emval_call_void_method,"_emval_decref":__emval_decref,"_emval_get_method_caller":__emval_get_method_caller,"_emval_incref":__emval_incref,"_emval_take_value":__emval_take_value,"_exit":__exit,"abort":_abort,"clock_gettime":_clock_gettime,"dlopen":_dlopen,"dlsym":_dlsym,"eglGetCurrentContext":_eglGetCurrentContext,"eglGetDisplay":_eglGetDisplay,"eglQueryContext":_eglQueryContext,"emscripten_asm_const_int":_emscripten_asm_const_int,"emscripten_async_call":_emscripten_async_call,"emscripten_get_heap_max":_emscripten_get_heap_max,"emscripten_longjmp":_emscripten_longjmp,"emscripten_memcpy_big":_emscripten_memcpy_big,"emscripten_resize_heap":_emscripten_resize_heap,"emscripten_thread_sleep":_emscripten_thread_sleep,"emscripten_webgl_create_context":_emscripten_webgl_create_context,"emscripten_webgl_destroy_context":_emscripten_webgl_destroy_context,"emscripten_webgl_get_context_attributes":_emscripten_webgl_get_context_attributes,"emscripten_webgl_get_current_context":_emscripten_webgl_get_current_context,"emscripten_webgl_init_context_attributes":_emscripten_webgl_init_context_attributes,"emscripten_webgl_make_context_current":_emscripten_webgl_make_context_current,"environ_get":_environ_get,"environ_sizes_get":_environ_sizes_get,"exit":_exit,"fd_close":_fd_close,"fd_fdstat_get":_fd_fdstat_get,"fd_read":_fd_read,"fd_seek":_fd_seek,"fd_write":_fd_write,"getTempRet0":_getTempRet0,"gettimeofday":_gettimeofday,"glActiveTexture":_glActiveTexture,"glAttachShader":_glAttachShader,"glBindAttribLocation":_glBindAttribLocation,"glBindBuffer":_glBindBuffer,"glBindBufferBase":_glBindBufferBase,"glBindFramebuffer":_glBindFramebuffer,"glBindRenderbuffer":_glBindRenderbuffer,"glBindSampler":_glBindSampler,"glBindTexture":_glBindTexture,"glBindVertexArray":_glBindVertexArray,"glBlendFunc":_glBlendFunc,"glBlendFuncSeparate":_glBlendFuncSeparate,"glBlitFramebuffer":_glBlitFramebuffer,"glBufferData":_glBufferData,"glBufferSubData":_glBufferSubData,"glCheckFramebufferStatus":_glCheckFramebufferStatus,"glClear":_glClear,"glClearColor":_glClearColor,"glClearDepthf":_glClearDepthf,"glClearStencil":_glClearStencil,"glClientWaitSync":_glClientWaitSync,"glColorMask":_glColorMask,"glCompileShader":_glCompileShader,"glCompressedTexImage2D":_glCompressedTexImage2D,"glCreateProgram":_glCreateProgram,"glCreateShader":_glCreateShader,"glCullFace":_glCullFace,"glDeleteBuffers":_glDeleteBuffers,"glDeleteFramebuffers":_glDeleteFramebuffers,"glDeleteProgram":_glDeleteProgram,"glDeleteRenderbuffers":_glDeleteRenderbuffers,"glDeleteShader":_glDeleteShader,"glDeleteSync":_glDeleteSync,"glDeleteTextures":_glDeleteTextures,"glDeleteVertexArrays":_glDeleteVertexArrays,"glDepthFunc":_glDepthFunc,"glDepthMask":_glDepthMask,"glDisable":_glDisable,"glDisableVertexAttribArray":_glDisableVertexAttribArray,"glDrawArrays":_glDrawArrays,"glDrawBuffers":_glDrawBuffers,"glDrawElements":_glDrawElements,"glEnable":_glEnable,"glEnableVertexAttribArray":_glEnableVertexAttribArray,"glFenceSync":_glFenceSync,"glFinish":_glFinish,"glFlush":_glFlush,"glFramebufferRenderbuffer":_glFramebufferRenderbuffer,"glFramebufferTexture2D":_glFramebufferTexture2D,"glFramebufferTextureLayer":_glFramebufferTextureLayer,"glFrontFace":_glFrontFace,"glGenBuffers":_glGenBuffers,"glGenFramebuffers":_glGenFramebuffers,"glGenRenderbuffers":_glGenRenderbuffers,"glGenTextures":_glGenTextures,"glGenVertexArrays":_glGenVertexArrays,"glGenerateMipmap":_glGenerateMipmap,"glGetActiveUniform":_glGetActiveUniform,"glGetActiveUniformBlockName":_glGetActiveUniformBlockName,"glGetActiveUniformBlockiv":_glGetActiveUniformBlockiv,"glGetAttribLocation":_glGetAttribLocation,"glGetBooleanv":_glGetBooleanv,"glGetError":_glGetError,"glGetIntegerv":_glGetIntegerv,"glGetProgramInfoLog":_glGetProgramInfoLog,"glGetProgramiv":_glGetProgramiv,"glGetShaderInfoLog":_glGetShaderInfoLog,"glGetShaderiv":_glGetShaderiv,"glGetString":_glGetString,"glGetStringi":_glGetStringi,"glGetUniformBlockIndex":_glGetUniformBlockIndex,"glGetUniformLocation":_glGetUniformLocation,"glLinkProgram":_glLinkProgram,"glPixelStorei":_glPixelStorei,"glReadBuffer":_glReadBuffer,"glReadPixels":_glReadPixels,"glRenderbufferStorage":_glRenderbufferStorage,"glRenderbufferStorageMultisample":_glRenderbufferStorageMultisample,"glScissor":_glScissor,"glShaderSource":_glShaderSource,"glStencilFuncSeparate":_glStencilFuncSeparate,"glStencilOpSeparate":_glStencilOpSeparate,"glTexImage2D":_glTexImage2D,"glTexParameterf":_glTexParameterf,"glTexParameterfv":_glTexParameterfv,"glTexParameteri":_glTexParameteri,"glTexStorage2D":_glTexStorage2D,"glTexStorage3D":_glTexStorage3D,"glTexSubImage2D":_glTexSubImage2D,"glTexSubImage3D":_glTexSubImage3D,"glUniform1f":_glUniform1f,"glUniform1fv":_glUniform1fv,"glUniform1i":_glUniform1i,"glUniform1iv":_glUniform1iv,"glUniform2f":_glUniform2f,"glUniform2fv":_glUniform2fv,"glUniform2iv":_glUniform2iv,"glUniform3f":_glUniform3f,"glUniform3fv":_glUniform3fv,"glUniform3iv":_glUniform3iv,"glUniform4f":_glUniform4f,"glUniform4fv":_glUniform4fv,"glUniform4iv":_glUniform4iv,"glUniformBlockBinding":_glUniformBlockBinding,"glUniformMatrix2fv":_glUniformMatrix2fv,"glUniformMatrix3fv":_glUniformMatrix3fv,"glUniformMatrix4fv":_glUniformMatrix4fv,"glUseProgram":_glUseProgram,"glVertexAttribPointer":_glVertexAttribPointer,"glViewport":_glViewport,"gmtime_r":_gmtime_r,"invoke_diii":invoke_diii,"invoke_i":invoke_i,"invoke_ii":invoke_ii,"invoke_iii":invoke_iii,"invoke_iiii":invoke_iiii,"invoke_iiiii":invoke_iiiii,"invoke_iiiiii":invoke_iiiiii,"invoke_iiiiiii":invoke_iiiiiii,"invoke_iiiiiiiddi":invoke_iiiiiiiddi,"invoke_iiiiiiii":invoke_iiiiiiii,"invoke_iiiiiiiii":invoke_iiiiiiiii,"invoke_iiiiiiiiii":invoke_iiiiiiiiii,"invoke_v":invoke_v,"invoke_vdiii":invoke_vdiii,"invoke_vi":invoke_vi,"invoke_vididdii":invoke_vididdii,"invoke_vidii":invoke_vidii,"invoke_vii":invoke_vii,"invoke_viid":invoke_viid,"invoke_viidd":invoke_viidd,"invoke_viidi":invoke_viidi,"invoke_viididii":invoke_viididii,"invoke_viii":invoke_viii,"invoke_viiid":invoke_viiid,"invoke_viiidd":invoke_viiidd,"invoke_viiiddi":invoke_viiiddi,"invoke_viiidi":invoke_viiidi,"invoke_viiii":invoke_viiii,"invoke_viiiid":invoke_viiiid,"invoke_viiiidi":invoke_viiiidi,"invoke_viiiidid":invoke_viiiidid,"invoke_viiiidiidiiiiiii":invoke_viiiidiidiiiiiii,"invoke_viiiifiifiiiiiii":invoke_viiiifiifiiiiiii,"invoke_viiiii":invoke_viiiii,"invoke_viiiiid":invoke_viiiiid,"invoke_viiiiif":invoke_viiiiif,"invoke_viiiiii":invoke_viiiiii,"invoke_viiiiiid":invoke_viiiiiid,"invoke_viiiiiif":invoke_viiiiiif,"invoke_viiiiiii":invoke_viiiiiii,"invoke_viiiiiiiddi":invoke_viiiiiiiddi,"invoke_viiiiiiidiiii":invoke_viiiiiiidiiii,"invoke_viiiiiiifiiii":invoke_viiiiiiifiiii,"invoke_viiiiiiii":invoke_viiiiiiii,"invoke_viiiiiiiidd":invoke_viiiiiiiidd,"invoke_viiiiiiiidf":invoke_viiiiiiiidf,"invoke_viiiiiiiii":invoke_viiiiiiiii,"invoke_viiiiiiiiidd":invoke_viiiiiiiiidd,"invoke_viiiiiiiiiddi":invoke_viiiiiiiiiddi,"invoke_viiiiiiiiii":invoke_viiiiiiiiii,"invoke_viiiiiiiiiiddi":invoke_viiiiiiiiiiddi,"invoke_viiiiiiiiiii":invoke_viiiiiiiiiii,"invoke_viiiiiiiiiiii":invoke_viiiiiiiiiiii,"invoke_viiiiiiiiiiiii":invoke_viiiiiiiiiiiii,"llvm_eh_typeid_for":_llvm_eh_typeid_for,"localtime_r":_localtime_r,"mktime":_mktime,"pthread_create":_pthread_create,"pthread_join":_pthread_join,"setTempRet0":_setTempRet0,"strftime":_strftime,"strftime_l":_strftime_l};var asm=createWasm();var ___wasm_call_ctors=Module["___wasm_call_ctors"]=createExportWrapper("__wasm_call_ctors");var _memset=Module["_memset"]=createExportWrapper("memset");var _free=Module["_free"]=createExportWrapper("free");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var ___errno_location=Module["___errno_location"]=createExportWrapper("__errno_location");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var ___getTypeName=Module["___getTypeName"]=createExportWrapper("__getTypeName");var ___embind_register_native_and_builtin_types=Module["___embind_register_native_and_builtin_types"]=createExportWrapper("__embind_register_native_and_builtin_types");var __get_tzname=Module["__get_tzname"]=createExportWrapper("_get_tzname");var __get_daylight=Module["__get_daylight"]=createExportWrapper("_get_daylight");var __get_timezone=Module["__get_timezone"]=createExportWrapper("_get_timezone");var _emscripten_main_thread_process_queued_calls=Module["_emscripten_main_thread_process_queued_calls"]=createExportWrapper("emscripten_main_thread_process_queued_calls");var _emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=function(){return(_emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=Module["asm"]["emscripten_stack_get_end"]).apply(null,arguments)};var stackSave=Module["stackSave"]=createExportWrapper("stackSave");var stackRestore=Module["stackRestore"]=createExportWrapper("stackRestore");var stackAlloc=Module["stackAlloc"]=createExportWrapper("stackAlloc");var _emscripten_stack_init=Module["_emscripten_stack_init"]=function(){return(_emscripten_stack_init=Module["_emscripten_stack_init"]=Module["asm"]["emscripten_stack_init"]).apply(null,arguments)};var _emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=function(){return(_emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=Module["asm"]["emscripten_stack_get_free"]).apply(null,arguments)};var _setThrew=Module["_setThrew"]=createExportWrapper("setThrew");var _memalign=Module["_memalign"]=createExportWrapper("memalign");var dynCall_viijii=Module["dynCall_viijii"]=createExportWrapper("dynCall_viijii");var dynCall_ji=Module["dynCall_ji"]=createExportWrapper("dynCall_ji");var dynCall_jii=Module["dynCall_jii"]=createExportWrapper("dynCall_jii");var dynCall_jf=Module["dynCall_jf"]=createExportWrapper("dynCall_jf");var dynCall_jiii=Module["dynCall_jiii"]=createExportWrapper("dynCall_jiii");var dynCall_viji=Module["dynCall_viji"]=createExportWrapper("dynCall_viji");var dynCall_vij=Module["dynCall_vij"]=createExportWrapper("dynCall_vij");var dynCall_vijii=Module["dynCall_vijii"]=createExportWrapper("dynCall_vijii");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_jjj=Module["dynCall_jjj"]=createExportWrapper("dynCall_jjj");var dynCall_iiiijj=Module["dynCall_iiiijj"]=createExportWrapper("dynCall_iiiijj");var dynCall_viijj=Module["dynCall_viijj"]=createExportWrapper("dynCall_viijj");var dynCall_viiijjjj=Module["dynCall_viiijjjj"]=createExportWrapper("dynCall_viiijjjj");var dynCall_jiiii=Module["dynCall_jiiii"]=createExportWrapper("dynCall_jiiii");var dynCall_vji=Module["dynCall_vji"]=createExportWrapper("dynCall_vji");var dynCall_vj=Module["dynCall_vj"]=createExportWrapper("dynCall_vj");var dynCall_viij=Module["dynCall_viij"]=createExportWrapper("dynCall_viij");var dynCall_viiiiij=Module["dynCall_viiiiij"]=createExportWrapper("dynCall_viiiiij");var dynCall_iijjiiii=Module["dynCall_iijjiiii"]=createExportWrapper("dynCall_iijjiiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");var dynCall_iiiiij=Module["dynCall_iiiiij"]=createExportWrapper("dynCall_iiiiij");var dynCall_iiiiijj=Module["dynCall_iiiiijj"]=createExportWrapper("dynCall_iiiiijj");var dynCall_iiiiiijj=Module["dynCall_iiiiiijj"]=createExportWrapper("dynCall_iiiiiijj");function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiii(index,a1,a2,a3,a4){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_ii(index,a1){var sp=stackSave();try{return wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vii(index,a1,a2){var sp=stackSave();try{wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vi(index,a1){var sp=stackSave();try{wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_v(index){var sp=stackSave();try{wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viid(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidd(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_diii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidd(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiidd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiddi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_i(index){var sp=stackSave();try{return wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidi(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vdiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vididdii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viididii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidf(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiid(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiidiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiif(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiif(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiifiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiifiifiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidiidiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiid(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vidii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiid(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidi(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}if(!Object.getOwnPropertyDescriptor(Module,"intArrayFromString"))Module["intArrayFromString"]=function(){abort("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"intArrayToString"))Module["intArrayToString"]=function(){abort("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ccall"))Module["ccall"]=function(){abort("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"cwrap"))Module["cwrap"]=function(){abort("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setValue"))Module["setValue"]=function(){abort("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getValue"))Module["getValue"]=function(){abort("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocate"))Module["allocate"]=function(){abort("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ArrayToString"))Module["UTF8ArrayToString"]=function(){abort("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ToString"))Module["UTF8ToString"]=function(){abort("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8Array"))Module["stringToUTF8Array"]=function(){abort("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8"))Module["stringToUTF8"]=function(){abort("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF8"))Module["lengthBytesUTF8"]=function(){abort("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreRun"))Module["addOnPreRun"]=function(){abort("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnInit"))Module["addOnInit"]=function(){abort("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreMain"))Module["addOnPreMain"]=function(){abort("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnExit"))Module["addOnExit"]=function(){abort("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPostRun"))Module["addOnPostRun"]=function(){abort("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeStringToMemory"))Module["writeStringToMemory"]=function(){abort("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeArrayToMemory"))Module["writeArrayToMemory"]=function(){abort("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeAsciiToMemory"))Module["writeAsciiToMemory"]=function(){abort("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;if(!Object.getOwnPropertyDescriptor(Module,"FS_createFolder"))Module["FS_createFolder"]=function(){abort("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;if(!Object.getOwnPropertyDescriptor(Module,"FS_createLink"))Module["FS_createLink"]=function(){abort("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;if(!Object.getOwnPropertyDescriptor(Module,"getLEB"))Module["getLEB"]=function(){abort("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFunctionTables"))Module["getFunctionTables"]=function(){abort("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"alignFunctionTables"))Module["alignFunctionTables"]=function(){abort("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFunctions"))Module["registerFunctions"]=function(){abort("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addFunction"))Module["addFunction"]=function(){abort("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"removeFunction"))Module["removeFunction"]=function(){abort("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"prettyPrint"))Module["prettyPrint"]=function(){abort("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeBigInt"))Module["makeBigInt"]=function(){abort("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCompilerSetting"))Module["getCompilerSetting"]=function(){abort("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"print"))Module["print"]=function(){abort("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"printErr"))Module["printErr"]=function(){abort("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTempRet0"))Module["getTempRet0"]=function(){abort("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setTempRet0"))Module["setTempRet0"]=function(){abort("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callMain"))Module["callMain"]=function(){abort("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"abort"))Module["abort"]=function(){abort("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToNewUTF8"))Module["stringToNewUTF8"]=function(){abort("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setFileTime"))Module["setFileTime"]=function(){abort("'setFileTime' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscripten_realloc_buffer"))Module["emscripten_realloc_buffer"]=function(){abort("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ENV"))Module["ENV"]=function(){abort("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_CODES"))Module["ERRNO_CODES"]=function(){abort("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_MESSAGES"))Module["ERRNO_MESSAGES"]=function(){abort("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setErrNo"))Module["setErrNo"]=function(){abort("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton4"))Module["inetPton4"]=function(){abort("'inetPton4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop4"))Module["inetNtop4"]=function(){abort("'inetNtop4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton6"))Module["inetPton6"]=function(){abort("'inetPton6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop6"))Module["inetNtop6"]=function(){abort("'inetNtop6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readSockaddr"))Module["readSockaddr"]=function(){abort("'readSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeSockaddr"))Module["writeSockaddr"]=function(){abort("'writeSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"DNS"))Module["DNS"]=function(){abort("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getHostByName"))Module["getHostByName"]=function(){abort("'getHostByName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GAI_ERRNO_MESSAGES"))Module["GAI_ERRNO_MESSAGES"]=function(){abort("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Protocols"))Module["Protocols"]=function(){abort("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Sockets"))Module["Sockets"]=function(){abort("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getRandomDevice"))Module["getRandomDevice"]=function(){abort("'getRandomDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"traverseStack"))Module["traverseStack"]=function(){abort("'traverseStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UNWIND_CACHE"))Module["UNWIND_CACHE"]=function(){abort("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"withBuiltinMalloc"))Module["withBuiltinMalloc"]=function(){abort("'withBuiltinMalloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgsArray"))Module["readAsmConstArgsArray"]=function(){abort("'readAsmConstArgsArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgs"))Module["readAsmConstArgs"]=function(){abort("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mainThreadEM_ASM"))Module["mainThreadEM_ASM"]=function(){abort("'mainThreadEM_ASM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_q"))Module["jstoi_q"]=function(){abort("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_s"))Module["jstoi_s"]=function(){abort("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getExecutableName"))Module["getExecutableName"]=function(){abort("'getExecutableName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"listenOnce"))Module["listenOnce"]=function(){abort("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"autoResumeAudioContext"))Module["autoResumeAudioContext"]=function(){abort("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCallLegacy"))Module["dynCallLegacy"]=function(){abort("'dynCallLegacy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getDynCaller"))Module["getDynCaller"]=function(){abort("'getDynCaller' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callRuntimeCallbacks"))Module["callRuntimeCallbacks"]=function(){abort("'callRuntimeCallbacks' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepaliveCounter"))Module["runtimeKeepaliveCounter"]=function(){abort("'runtimeKeepaliveCounter' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"keepRuntimeAlive"))Module["keepRuntimeAlive"]=function(){abort("'keepRuntimeAlive' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePush"))Module["runtimeKeepalivePush"]=function(){abort("'runtimeKeepalivePush' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePop"))Module["runtimeKeepalivePop"]=function(){abort("'runtimeKeepalivePop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callUserCallback"))Module["callUserCallback"]=function(){abort("'callUserCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"maybeExit"))Module["maybeExit"]=function(){abort("'maybeExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reallyNegative"))Module["reallyNegative"]=function(){abort("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unSign"))Module["unSign"]=function(){abort("'unSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reSign"))Module["reSign"]=function(){abort("'reSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"formatString"))Module["formatString"]=function(){abort("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH"))Module["PATH"]=function(){abort("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH_FS"))Module["PATH_FS"]=function(){abort("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SYSCALLS"))Module["SYSCALLS"]=function(){abort("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMmap2"))Module["syscallMmap2"]=function(){abort("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMunmap"))Module["syscallMunmap"]=function(){abort("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketFromFD"))Module["getSocketFromFD"]=function(){abort("'getSocketFromFD' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketAddress"))Module["getSocketAddress"]=function(){abort("'getSocketAddress' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"JSEvents"))Module["JSEvents"]=function(){abort("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerKeyEventCallback"))Module["registerKeyEventCallback"]=function(){abort("'registerKeyEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"specialHTMLTargets"))Module["specialHTMLTargets"]=function(){abort("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findEventTarget"))Module["findEventTarget"]=function(){abort("'findEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findCanvasEventTarget"))Module["findCanvasEventTarget"]=function(){abort("'findCanvasEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBoundingClientRect"))Module["getBoundingClientRect"]=function(){abort("'getBoundingClientRect' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillMouseEventData"))Module["fillMouseEventData"]=function(){abort("'fillMouseEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerMouseEventCallback"))Module["registerMouseEventCallback"]=function(){abort("'registerMouseEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerWheelEventCallback"))Module["registerWheelEventCallback"]=function(){abort("'registerWheelEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerUiEventCallback"))Module["registerUiEventCallback"]=function(){abort("'registerUiEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFocusEventCallback"))Module["registerFocusEventCallback"]=function(){abort("'registerFocusEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceOrientationEventData"))Module["fillDeviceOrientationEventData"]=function(){abort("'fillDeviceOrientationEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceOrientationEventCallback"))Module["registerDeviceOrientationEventCallback"]=function(){abort("'registerDeviceOrientationEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceMotionEventData"))Module["fillDeviceMotionEventData"]=function(){abort("'fillDeviceMotionEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceMotionEventCallback"))Module["registerDeviceMotionEventCallback"]=function(){abort("'registerDeviceMotionEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"screenOrientation"))Module["screenOrientation"]=function(){abort("'screenOrientation' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillOrientationChangeEventData"))Module["fillOrientationChangeEventData"]=function(){abort("'fillOrientationChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerOrientationChangeEventCallback"))Module["registerOrientationChangeEventCallback"]=function(){abort("'registerOrientationChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillFullscreenChangeEventData"))Module["fillFullscreenChangeEventData"]=function(){abort("'fillFullscreenChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFullscreenChangeEventCallback"))Module["registerFullscreenChangeEventCallback"]=function(){abort("'registerFullscreenChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerRestoreOldStyle"))Module["registerRestoreOldStyle"]=function(){abort("'registerRestoreOldStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"hideEverythingExceptGivenElement"))Module["hideEverythingExceptGivenElement"]=function(){abort("'hideEverythingExceptGivenElement' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreHiddenElements"))Module["restoreHiddenElements"]=function(){abort("'restoreHiddenElements' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setLetterbox"))Module["setLetterbox"]=function(){abort("'setLetterbox' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"currentFullscreenStrategy"))Module["currentFullscreenStrategy"]=function(){abort("'currentFullscreenStrategy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreOldWindowedStyle"))Module["restoreOldWindowedStyle"]=function(){abort("'restoreOldWindowedStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"softFullscreenResizeWebGLRenderTarget"))Module["softFullscreenResizeWebGLRenderTarget"]=function(){abort("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"doRequestFullscreen"))Module["doRequestFullscreen"]=function(){abort("'doRequestFullscreen' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillPointerlockChangeEventData"))Module["fillPointerlockChangeEventData"]=function(){abort("'fillPointerlockChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockChangeEventCallback"))Module["registerPointerlockChangeEventCallback"]=function(){abort("'registerPointerlockChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockErrorEventCallback"))Module["registerPointerlockErrorEventCallback"]=function(){abort("'registerPointerlockErrorEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requestPointerLock"))Module["requestPointerLock"]=function(){abort("'requestPointerLock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillVisibilityChangeEventData"))Module["fillVisibilityChangeEventData"]=function(){abort("'fillVisibilityChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerVisibilityChangeEventCallback"))Module["registerVisibilityChangeEventCallback"]=function(){abort("'registerVisibilityChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerTouchEventCallback"))Module["registerTouchEventCallback"]=function(){abort("'registerTouchEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillGamepadEventData"))Module["fillGamepadEventData"]=function(){abort("'fillGamepadEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerGamepadEventCallback"))Module["registerGamepadEventCallback"]=function(){abort("'registerGamepadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBeforeUnloadEventCallback"))Module["registerBeforeUnloadEventCallback"]=function(){abort("'registerBeforeUnloadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillBatteryEventData"))Module["fillBatteryEventData"]=function(){abort("'fillBatteryEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"battery"))Module["battery"]=function(){abort("'battery' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBatteryEventCallback"))Module["registerBatteryEventCallback"]=function(){abort("'registerBatteryEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setCanvasElementSize"))Module["setCanvasElementSize"]=function(){abort("'setCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCanvasElementSize"))Module["getCanvasElementSize"]=function(){abort("'getCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"polyfillSetImmediate"))Module["polyfillSetImmediate"]=function(){abort("'polyfillSetImmediate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangle"))Module["demangle"]=function(){abort("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangleAll"))Module["demangleAll"]=function(){abort("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jsStackTrace"))Module["jsStackTrace"]=function(){abort("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getEnvStrings"))Module["getEnvStrings"]=function(){abort("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"checkWasiClock"))Module["checkWasiClock"]=function(){abort("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64"))Module["writeI53ToI64"]=function(){abort("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Clamped"))Module["writeI53ToI64Clamped"]=function(){abort("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Signaling"))Module["writeI53ToI64Signaling"]=function(){abort("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Clamped"))Module["writeI53ToU64Clamped"]=function(){abort("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Signaling"))Module["writeI53ToU64Signaling"]=function(){abort("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromI64"))Module["readI53FromI64"]=function(){abort("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromU64"))Module["readI53FromU64"]=function(){abort("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertI32PairToI53"))Module["convertI32PairToI53"]=function(){abort("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertU32PairToI53"))Module["convertU32PairToI53"]=function(){abort("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"uncaughtExceptionCount"))Module["uncaughtExceptionCount"]=function(){abort("'uncaughtExceptionCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionLast"))Module["exceptionLast"]=function(){abort("'exceptionLast' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionCaught"))Module["exceptionCaught"]=function(){abort("'exceptionCaught' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfoAttrs"))Module["ExceptionInfoAttrs"]=function(){abort("'ExceptionInfoAttrs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfo"))Module["ExceptionInfo"]=function(){abort("'ExceptionInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"CatchInfo"))Module["CatchInfo"]=function(){abort("'CatchInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_addRef"))Module["exception_addRef"]=function(){abort("'exception_addRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_decRef"))Module["exception_decRef"]=function(){abort("'exception_decRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Browser"))Module["Browser"]=function(){abort("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"funcWrappers"))Module["funcWrappers"]=function(){abort("'funcWrappers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setMainLoop"))Module["setMainLoop"]=function(){abort("'setMainLoop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"FS"))Module["FS"]=function(){abort("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mmapAlloc"))Module["mmapAlloc"]=function(){abort("'mmapAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"MEMFS"))Module["MEMFS"]=function(){abort("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"TTY"))Module["TTY"]=function(){abort("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PIPEFS"))Module["PIPEFS"]=function(){abort("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SOCKFS"))Module["SOCKFS"]=function(){abort("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"_setNetworkCallback"))Module["_setNetworkCallback"]=function(){abort("'_setNetworkCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tempFixedLengthArray"))Module["tempFixedLengthArray"]=function(){abort("'tempFixedLengthArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"miniTempWebGLFloatBuffers"))Module["miniTempWebGLFloatBuffers"]=function(){abort("'miniTempWebGLFloatBuffers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapObjectForWebGLType"))Module["heapObjectForWebGLType"]=function(){abort("'heapObjectForWebGLType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapAccessShiftForWebGLHeap"))Module["heapAccessShiftForWebGLHeap"]=function(){abort("'heapAccessShiftForWebGLHeap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GL"))Module["GL"]=function(){abort("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGet"))Module["emscriptenWebGLGet"]=function(){abort("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"computeUnpackAlignedImageSize"))Module["computeUnpackAlignedImageSize"]=function(){abort("'computeUnpackAlignedImageSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetTexPixelData"))Module["emscriptenWebGLGetTexPixelData"]=function(){abort("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetUniform"))Module["emscriptenWebGLGetUniform"]=function(){abort("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetVertexAttrib"))Module["emscriptenWebGLGetVertexAttrib"]=function(){abort("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetBufferBinding"))Module["emscriptenWebGLGetBufferBinding"]=function(){abort("'emscriptenWebGLGetBufferBinding' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLValidateMapBufferTarget"))Module["emscriptenWebGLValidateMapBufferTarget"]=function(){abort("'emscriptenWebGLValidateMapBufferTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeGLArray"))Module["writeGLArray"]=function(){abort("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AL"))Module["AL"]=function(){abort("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_unicode"))Module["SDL_unicode"]=function(){abort("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_ttfContext"))Module["SDL_ttfContext"]=function(){abort("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_audio"))Module["SDL_audio"]=function(){abort("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL"))Module["SDL"]=function(){abort("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_gfx"))Module["SDL_gfx"]=function(){abort("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLUT"))Module["GLUT"]=function(){abort("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"EGL"))Module["EGL"]=function(){abort("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW_Window"))Module["GLFW_Window"]=function(){abort("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW"))Module["GLFW"]=function(){abort("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLEW"))Module["GLEW"]=function(){abort("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"IDBStore"))Module["IDBStore"]=function(){abort("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runAndAbortIfError"))Module["runAndAbortIfError"]=function(){abort("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_handle_array"))Module["emval_handle_array"]=function(){abort("'emval_handle_array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_free_list"))Module["emval_free_list"]=function(){abort("'emval_free_list' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_symbols"))Module["emval_symbols"]=function(){abort("'emval_symbols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_emval"))Module["init_emval"]=function(){abort("'init_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"count_emval_handles"))Module["count_emval_handles"]=function(){abort("'count_emval_handles' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"get_first_emval"))Module["get_first_emval"]=function(){abort("'get_first_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getStringOrSymbol"))Module["getStringOrSymbol"]=function(){abort("'getStringOrSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireHandle"))Module["requireHandle"]=function(){abort("'requireHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_newers"))Module["emval_newers"]=function(){abort("'emval_newers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftEmvalAllocator"))Module["craftEmvalAllocator"]=function(){abort("'craftEmvalAllocator' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_get_global"))Module["emval_get_global"]=function(){abort("'emval_get_global' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_methodCallers"))Module["emval_methodCallers"]=function(){abort("'emval_methodCallers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"InternalError"))Module["InternalError"]=function(){abort("'InternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"BindingError"))Module["BindingError"]=function(){abort("'BindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UnboundTypeError"))Module["UnboundTypeError"]=function(){abort("'UnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PureVirtualError"))Module["PureVirtualError"]=function(){abort("'PureVirtualError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_embind"))Module["init_embind"]=function(){abort("'init_embind' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInternalError"))Module["throwInternalError"]=function(){abort("'throwInternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwBindingError"))Module["throwBindingError"]=function(){abort("'throwBindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwUnboundTypeError"))Module["throwUnboundTypeError"]=function(){abort("'throwUnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ensureOverloadTable"))Module["ensureOverloadTable"]=function(){abort("'ensureOverloadTable' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exposePublicSymbol"))Module["exposePublicSymbol"]=function(){abort("'exposePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"replacePublicSymbol"))Module["replacePublicSymbol"]=function(){abort("'replacePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"extendError"))Module["extendError"]=function(){abort("'extendError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"createNamedFunction"))Module["createNamedFunction"]=function(){abort("'createNamedFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredInstances"))Module["registeredInstances"]=function(){abort("'registeredInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBasestPointer"))Module["getBasestPointer"]=function(){abort("'getBasestPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerInheritedInstance"))Module["registerInheritedInstance"]=function(){abort("'registerInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unregisterInheritedInstance"))Module["unregisterInheritedInstance"]=function(){abort("'unregisterInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstance"))Module["getInheritedInstance"]=function(){abort("'getInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstanceCount"))Module["getInheritedInstanceCount"]=function(){abort("'getInheritedInstanceCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getLiveInheritedInstances"))Module["getLiveInheritedInstances"]=function(){abort("'getLiveInheritedInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredTypes"))Module["registeredTypes"]=function(){abort("'registeredTypes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"awaitingDependencies"))Module["awaitingDependencies"]=function(){abort("'awaitingDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"typeDependencies"))Module["typeDependencies"]=function(){abort("'typeDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredPointers"))Module["registeredPointers"]=function(){abort("'registeredPointers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerType"))Module["registerType"]=function(){abort("'registerType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"whenDependentTypesAreResolved"))Module["whenDependentTypesAreResolved"]=function(){abort("'whenDependentTypesAreResolved' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_charCodes"))Module["embind_charCodes"]=function(){abort("'embind_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_init_charCodes"))Module["embind_init_charCodes"]=function(){abort("'embind_init_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readLatin1String"))Module["readLatin1String"]=function(){abort("'readLatin1String' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTypeName"))Module["getTypeName"]=function(){abort("'getTypeName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heap32VectorToArray"))Module["heap32VectorToArray"]=function(){abort("'heap32VectorToArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireRegisteredType"))Module["requireRegisteredType"]=function(){abort("'requireRegisteredType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getShiftFromSize"))Module["getShiftFromSize"]=function(){abort("'getShiftFromSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"integerReadValueFromPointer"))Module["integerReadValueFromPointer"]=function(){abort("'integerReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"enumReadValueFromPointer"))Module["enumReadValueFromPointer"]=function(){abort("'enumReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"floatReadValueFromPointer"))Module["floatReadValueFromPointer"]=function(){abort("'floatReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"simpleReadValueFromPointer"))Module["simpleReadValueFromPointer"]=function(){abort("'simpleReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructors"))Module["runDestructors"]=function(){abort("'runDestructors' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"new_"))Module["new_"]=function(){abort("'new_' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftInvokerFunction"))Module["craftInvokerFunction"]=function(){abort("'craftInvokerFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind__requireFunction"))Module["embind__requireFunction"]=function(){abort("'embind__requireFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tupleRegistrations"))Module["tupleRegistrations"]=function(){abort("'tupleRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"structRegistrations"))Module["structRegistrations"]=function(){abort("'structRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"genericPointerToWireType"))Module["genericPointerToWireType"]=function(){abort("'genericPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"constNoSmartPtrRawPointerToWireType"))Module["constNoSmartPtrRawPointerToWireType"]=function(){abort("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"nonConstNoSmartPtrRawPointerToWireType"))Module["nonConstNoSmartPtrRawPointerToWireType"]=function(){abort("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_RegisteredPointer"))Module["init_RegisteredPointer"]=function(){abort("'init_RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer"))Module["RegisteredPointer"]=function(){abort("'RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_getPointee"))Module["RegisteredPointer_getPointee"]=function(){abort("'RegisteredPointer_getPointee' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_destructor"))Module["RegisteredPointer_destructor"]=function(){abort("'RegisteredPointer_destructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_deleteObject"))Module["RegisteredPointer_deleteObject"]=function(){abort("'RegisteredPointer_deleteObject' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_fromWireType"))Module["RegisteredPointer_fromWireType"]=function(){abort("'RegisteredPointer_fromWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructor"))Module["runDestructor"]=function(){abort("'runDestructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"releaseClassHandle"))Module["releaseClassHandle"]=function(){abort("'releaseClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"finalizationGroup"))Module["finalizationGroup"]=function(){abort("'finalizationGroup' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer_deps"))Module["detachFinalizer_deps"]=function(){abort("'detachFinalizer_deps' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer"))Module["detachFinalizer"]=function(){abort("'detachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"attachFinalizer"))Module["attachFinalizer"]=function(){abort("'attachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeClassHandle"))Module["makeClassHandle"]=function(){abort("'makeClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_ClassHandle"))Module["init_ClassHandle"]=function(){abort("'init_ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle"))Module["ClassHandle"]=function(){abort("'ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isAliasOf"))Module["ClassHandle_isAliasOf"]=function(){abort("'ClassHandle_isAliasOf' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInstanceAlreadyDeleted"))Module["throwInstanceAlreadyDeleted"]=function(){abort("'throwInstanceAlreadyDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_clone"))Module["ClassHandle_clone"]=function(){abort("'ClassHandle_clone' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_delete"))Module["ClassHandle_delete"]=function(){abort("'ClassHandle_delete' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"deletionQueue"))Module["deletionQueue"]=function(){abort("'deletionQueue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isDeleted"))Module["ClassHandle_isDeleted"]=function(){abort("'ClassHandle_isDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_deleteLater"))Module["ClassHandle_deleteLater"]=function(){abort("'ClassHandle_deleteLater' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"flushPendingDeletes"))Module["flushPendingDeletes"]=function(){abort("'flushPendingDeletes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"delayFunction"))Module["delayFunction"]=function(){abort("'delayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setDelayFunction"))Module["setDelayFunction"]=function(){abort("'setDelayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredClass"))Module["RegisteredClass"]=function(){abort("'RegisteredClass' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"shallowCopyInternalPointer"))Module["shallowCopyInternalPointer"]=function(){abort("'shallowCopyInternalPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"downcastPointer"))Module["downcastPointer"]=function(){abort("'downcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"upcastPointer"))Module["upcastPointer"]=function(){abort("'upcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"validateThis"))Module["validateThis"]=function(){abort("'validateThis' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_0"))Module["char_0"]=function(){abort("'char_0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_9"))Module["char_9"]=function(){abort("'char_9' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeLegalFunctionName"))Module["makeLegalFunctionName"]=function(){abort("'makeLegalFunctionName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetIndexed"))Module["emscriptenWebGLGetIndexed"]=function(){abort("'emscriptenWebGLGetIndexed' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"warnOnce"))Module["warnOnce"]=function(){abort("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackSave"))Module["stackSave"]=function(){abort("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackRestore"))Module["stackRestore"]=function(){abort("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackAlloc"))Module["stackAlloc"]=function(){abort("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AsciiToString"))Module["AsciiToString"]=function(){abort("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToAscii"))Module["stringToAscii"]=function(){abort("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF16ToString"))Module["UTF16ToString"]=function(){abort("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF16"))Module["stringToUTF16"]=function(){abort("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF16"))Module["lengthBytesUTF16"]=function(){abort("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF32ToString"))Module["UTF32ToString"]=function(){abort("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF32"))Module["stringToUTF32"]=function(){abort("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF32"))Module["lengthBytesUTF32"]=function(){abort("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8"))Module["allocateUTF8"]=function(){abort("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8OnStack"))Module["allocateUTF8OnStack"]=function(){abort("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["writeStackCookie"]=writeStackCookie;Module["checkStackCookie"]=checkStackCookie;if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_NORMAL"))Object.defineProperty(Module,"ALLOC_NORMAL",{configurable:true,get:function(){abort("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_STACK"))Object.defineProperty(Module,"ALLOC_STACK",{configurable:true,get:function(){abort("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var calledRun;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function stackCheckInit(){_emscripten_stack_init();writeStackCookie()}function run(args){args=args||arguments_;if(runDependencies>0){return}stackCheckInit();preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}checkStackCookie()}Module["run"]=run;function checkUnflushedContent(){var oldOut=out;var oldErr=err;var has=false;out=err=function(x){has=true};try{var flush=Module["_fflush"];if(flush)flush(0);["stdout","stderr"].forEach(function(name){var info=FS.analyzePath("/dev/"+name);if(!info)return;var stream=info.object;var rdev=stream.rdev;var tty=TTY.ttys[rdev];if(tty&&tty.output&&tty.output.length){has=true}})}catch(e){}out=oldOut;err=oldErr;if(has){warnOnce("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}}function exit(status,implicit){EXITSTATUS=status;checkUnflushedContent();if(implicit&&keepRuntimeAlive()&&status===0){return}if(keepRuntimeAlive()){if(!implicit){var msg="program exited (with status: "+status+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";readyPromiseReject(msg);err(msg)}}else{exitRuntime();if(Module["onExit"])Module["onExit"](status);ABORT=true}quit_(status,new ExitStatus(status))}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();
+
+
+  return createMediapipeSolutionsWasm.ready
+}
+);
+})();
+if (typeof exports === 'object' && typeof module === 'object')
+  module.exports = createMediapipeSolutionsWasm;
+else if (typeof define === 'function' && define['amd'])
+  define([], function() { return createMediapipeSolutionsWasm; });
+else if (typeof exports === 'object')
+  exports["createMediapipeSolutionsWasm"] = createMediapipeSolutionsWasm;
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_wasm_bin.js b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_wasm_bin.js
new file mode 100644
index 0000000000000..a8b702f4f9afc
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/scoob_part2_test_web_solution_wasm_bin.js
@@ -0,0 +1,21 @@
+
+var createMediapipeSolutionsWasm = (function() {
+  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
+  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
+  return (
+function(createMediapipeSolutionsWasm) {
+  createMediapipeSolutionsWasm = createMediapipeSolutionsWasm || {};
+
+var Module=typeof createMediapipeSolutionsWasm!=="undefined"?createMediapipeSolutionsWasm:{};var readyPromiseResolve,readyPromiseReject;Module["ready"]=new Promise(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject});if(!Object.getOwnPropertyDescriptor(Module["ready"],"_main")){Object.defineProperty(Module["ready"],"_main",{configurable:true,get:function(){abort("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_main",{configurable:true,set:function(){abort("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_end")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_free")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_init")){Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,get:function(){abort("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,set:function(){abort("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackSave")){Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,get:function(){abort("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,set:function(){abort("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackRestore")){Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,get:function(){abort("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,set:function(){abort("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackAlloc")){Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,get:function(){abort("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,set:function(){abort("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___wasm_call_ctors")){Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,get:function(){abort("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,set:function(){abort("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_fflush")){Object.defineProperty(Module["ready"],"_fflush",{configurable:true,get:function(){abort("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_fflush",{configurable:true,set:function(){abort("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___errno_location")){Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,get:function(){abort("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,set:function(){abort("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_malloc")){Object.defineProperty(Module["ready"],"_malloc",{configurable:true,get:function(){abort("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_malloc",{configurable:true,set:function(){abort("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_free")){Object.defineProperty(Module["ready"],"_free",{configurable:true,get:function(){abort("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_free",{configurable:true,set:function(){abort("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_tzname")){Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,get:function(){abort("You are getting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,set:function(){abort("You are setting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_daylight")){Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,get:function(){abort("You are getting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,set:function(){abort("You are setting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_timezone")){Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,get:function(){abort("You are getting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,set:function(){abort("You are setting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memalign")){Object.defineProperty(Module["ready"],"_memalign",{configurable:true,get:function(){abort("You are getting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memalign",{configurable:true,set:function(){abort("You are setting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memset")){Object.defineProperty(Module["ready"],"_memset",{configurable:true,get:function(){abort("You are getting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memset",{configurable:true,set:function(){abort("You are setting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_setThrew")){Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,get:function(){abort("You are getting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,set:function(){abort("You are setting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_main_thread_process_queued_calls")){Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,get:function(){abort("You are getting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,set:function(){abort("You are setting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___cxa_is_pointer_type")){Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,get:function(){abort("You are getting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,set:function(){abort("You are setting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_make_context_current")){Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_get_current_context")){Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"onRuntimeInitialized")){Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,get:function(){abort("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,set:function(){abort("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram="./this.program";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)")}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require("path").dirname(scriptDirectory)+"/"}else{scriptDirectory=__dirname+"/"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);return nodeFS["readFileSync"](filename,binary?null:"utf8")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process["argv"].length>1){thisProgram=process["argv"][1].replace(/\\/g,"/")}arguments_=process["argv"].slice(2);process["on"]("uncaughtException",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process["on"]("unhandledRejection",abort);quit_=function(status){process["exit"](status)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){arguments_=scriptArgs}else if(typeof arguments!="undefined"){arguments_=arguments}if(typeof quit==="function"){quit_=function(status){quit(status)}}if(typeof print!=="undefined"){if(typeof console==="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!=="undefined"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!=="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1)}else{scriptDirectory=""}{read_=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{throw new Error("environment detection error")}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(!Object.getOwnPropertyDescriptor(Module,"arguments")){Object.defineProperty(Module,"arguments",{configurable:true,get:function(){abort("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(!Object.getOwnPropertyDescriptor(Module,"thisProgram")){Object.defineProperty(Module,"thisProgram",{configurable:true,get:function(){abort("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["quit"])quit_=Module["quit"];if(!Object.getOwnPropertyDescriptor(Module,"quit")){Object.defineProperty(Module,"quit",{configurable:true,get:function(){abort("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(typeof Module["memoryInitializerPrefixURL"]==="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]==="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]==="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]==="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]==="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]==="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]==="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]==="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]==="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");if(!Object.getOwnPropertyDescriptor(Module,"read")){Object.defineProperty(Module,"read",{configurable:true,get:function(){abort("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readAsync")){Object.defineProperty(Module,"readAsync",{configurable:true,get:function(){abort("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readBinary")){Object.defineProperty(Module,"readBinary",{configurable:true,get:function(){abort("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"setWindowTitle")){Object.defineProperty(Module,"setWindowTitle",{configurable:true,get:function(){abort("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var STACK_ALIGN=16;function alignMemory(size,factor){if(!factor)factor=STACK_ALIGN;return Math.ceil(size/factor)*factor}function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text)}}function convertJsFunctionToWasm(func,sig){if(typeof WebAssembly.Function==="function"){var typeNames={"i":"i32","j":"i64","f":"f32","d":"f64"};var type={parameters:[],results:sig[0]=="v"?[]:[typeNames[sig[0]]]};for(var i=1;i<sig.length;++i){type.parameters.push(typeNames[sig[i]])}return new WebAssembly.Function(type,func)}var typeSection=[1,0,1,96];var sigRet=sig.slice(0,1);var sigParam=sig.slice(1);var typeCodes={"i":127,"j":126,"f":125,"d":124};typeSection.push(sigParam.length);for(var i=0;i<sigParam.length;++i){typeSection.push(typeCodes[sigParam[i]])}if(sigRet=="v"){typeSection.push(0)}else{typeSection=typeSection.concat([1,typeCodes[sigRet]])}typeSection[1]=typeSection.length-2;var bytes=new Uint8Array([0,97,115,109,1,0,0,0].concat(typeSection,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0]));var module=new WebAssembly.Module(bytes);var instance=new WebAssembly.Instance(module,{"e":{"f":func}});var wrappedFunc=instance.exports["f"];return wrappedFunc}var freeTableIndexes=[];var functionsInTableMap;function getEmptyTableSlot(){if(freeTableIndexes.length){return freeTableIndexes.pop()}try{wasmTable.grow(1)}catch(err){if(!(err instanceof RangeError)){throw err}throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return wasmTable.length-1}function addFunctionWasm(func,sig){if(!functionsInTableMap){functionsInTableMap=new WeakMap;for(var i=0;i<wasmTable.length;i++){var item=wasmTable.get(i);if(item){functionsInTableMap.set(item,i)}}}if(functionsInTableMap.has(func)){return functionsInTableMap.get(func)}var ret=getEmptyTableSlot();try{wasmTable.set(ret,func)}catch(err){if(!(err instanceof TypeError)){throw err}assert(typeof sig!=="undefined","Missing signature argument to addFunction: "+func);var wrapped=convertJsFunctionToWasm(func,sig);wasmTable.set(ret,wrapped)}functionsInTableMap.set(func,ret);return ret}var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var getTempRet0=function(){return tempRet0};var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];if(!Object.getOwnPropertyDescriptor(Module,"wasmBinary")){Object.defineProperty(Module,"wasmBinary",{configurable:true,get:function(){abort("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var noExitRuntime=Module["noExitRuntime"]||true;if(!Object.getOwnPropertyDescriptor(Module,"noExitRuntime")){Object.defineProperty(Module,"noExitRuntime",{configurable:true,get:function(){abort("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(typeof WebAssembly!=="object"){abort("no native wasm support detected")}var wasmMemory;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}function getCFunc(ident){var func=Module["_"+ident];assert(func,"Cannot call unknown function "+ident+", make sure it is exported");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={"string":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},"array":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string")return UTF8ToString(ret);if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;assert(returnType!=="array",'Return type should not be "array".');if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}var ALLOC_STACK=1;var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte 0x"+u0.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;if(u>=2097152)warnOnce("Invalid Unicode code point 0x"+u.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder){return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr))}else{var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit)}return str}}function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr}function lengthBytesUTF16(str){return str.length*2}function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}return str}function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr}function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len}function allocateUTF8(str){var size=lengthBytesUTF8(str)+1;var ret=_malloc(size);if(ret)stringToUTF8Array(str,HEAP8,ret,size);return ret}function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer)}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){assert(str.charCodeAt(i)===str.charCodeAt(i)&255);HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module["HEAP8"]=HEAP8=new Int8Array(buf);Module["HEAP16"]=HEAP16=new Int16Array(buf);Module["HEAP32"]=HEAP32=new Int32Array(buf);Module["HEAPU8"]=HEAPU8=new Uint8Array(buf);Module["HEAPU16"]=HEAPU16=new Uint16Array(buf);Module["HEAPU32"]=HEAPU32=new Uint32Array(buf);Module["HEAPF32"]=HEAPF32=new Float32Array(buf);Module["HEAPF64"]=HEAPF64=new Float64Array(buf)}var TOTAL_STACK=5242880;if(Module["TOTAL_STACK"])assert(TOTAL_STACK===Module["TOTAL_STACK"],"the stack size can no longer be determined at runtime");var INITIAL_MEMORY=Module["INITIAL_MEMORY"]||16777216;if(!Object.getOwnPropertyDescriptor(Module,"INITIAL_MEMORY")){Object.defineProperty(Module,"INITIAL_MEMORY",{configurable:true,get:function(){abort("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(INITIAL_MEMORY>=TOTAL_STACK,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+INITIAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");assert(typeof Int32Array!=="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!==undefined&&Int32Array.prototype.set!==undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally");assert(INITIAL_MEMORY==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end();assert((max&3)==0);HEAPU32[(max>>2)+1]=34821223;HEAPU32[(max>>2)+2]=2310721022;HEAP32[0]=1668509029}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end();var cookie1=HEAPU32[(max>>2)+1];var cookie2=HEAPU32[(max>>2)+2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+cookie2.toString(16)+" "+cookie1.toString(16))}if(HEAP32[0]!==1668509029)abort("Runtime error: The application has corrupted its heap memory area (address zero)!")}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){checkStackCookie();assert(!runtimeInitialized);runtimeInitialized=true;if(!Module["noFSInit"]&&!FS.init.initialized)FS.init();TTY.init();callRuntimeCallbacks(__ATINIT__)}function preMain(){checkStackCookie();FS.ignorePermissions=false;callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){checkStackCookie();runtimeExited=true}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function getUniqueRunDependency(id){var orig=id;while(1){if(!runDependencyTracking[id])return id;id=orig+Math.random()}}function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!=="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:")}err("dependency: "+dep)}if(shown){err("(end of list)")}},1e4)}}else{err("warning: run dependency added without ID")}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id]}else{err("warning: run dependency removed without ID")}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}what+="";err(what);ABORT=true;EXITSTATUS=1;var output="abort("+what+") at "+stackTrace();what=output;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix="file://";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}function createExportWrapper(name,fixedasm){return function(){var displayName=name;var asm=fixedasm;if(!fixedasm){asm=Module["asm"]}assert(runtimeInitialized,"native function `"+displayName+"` called before runtime initialization");assert(!runtimeExited,"native function `"+displayName+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)");if(!asm[name]){assert(asm[name],"exported native function `"+displayName+"` not found")}return asm[name].apply(null,arguments)}}var wasmBinaryFile="scoob_part2_test_web_solution_wasm_bin.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(file){try{if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}else{throw"both async and sync fetching of the wasm failed"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch==="function"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()}).catch(function(){return getBinary(wasmBinaryFile)})}else{if(readAsync){return new Promise(function(resolve,reject){readAsync(wasmBinaryFile,function(response){resolve(new Uint8Array(response))},reject)})}}}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var info={"env":asmLibraryArg,"wasi_snapshot_preview1":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module["asm"]=exports;wasmMemory=Module["asm"]["memory"];assert(wasmMemory,"memory not found in wasm exports");updateGlobalBufferAndViews(wasmMemory.buffer);wasmTable=Module["asm"]["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(Module["asm"]["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiatedSource(output){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(output["instance"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){var result=WebAssembly.instantiate(binary,info);return result}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")}abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch==="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module["instantiateWasm"]){try{var exports=Module["instantiateWasm"](info,receiveInstance);return exports}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}instantiateAsync().catch(readyPromiseReject);return{}}var tempDouble;var tempI64;var ASM_CONSTS={2421864:function(){let init_once=true;if(init_once){const cachedFindCanvasEventTarget=findCanvasEventTarget;if(typeof cachedFindCanvasEventTarget!=="function"){if(typeof console!=="undefined"){console.error("Expected Emscripten global function "+'"findCanvasEventTarget" not found. WebGL context creation '+"may fail.")}return}findCanvasEventTarget=function(target){if(Module&&Module.canvas){return Module.canvas}else if(Module&&Module.canvasCssSelector){return cachedFindCanvasEventTarget(Module.canvasCssSelector)}else{if(typeof console!=="undefined"){console.warn("Module properties canvas and canvasCssSelector not "+"found during WebGL context creation.")}return cachedFindCanvasEventTarget(target)}};init_once=false}}};function _emscripten_set_main_loop_timing(mode,value){Browser.mainLoop.timingMode=mode;Browser.mainLoop.timingValue=value;if(!Browser.mainLoop.func){console.error("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up.");return 1}if(!Browser.mainLoop.running){Browser.mainLoop.running=true}if(mode==0){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setTimeout(){var timeUntilNextTick=Math.max(0,Browser.mainLoop.tickStartTime+value-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,timeUntilNextTick)};Browser.mainLoop.method="timeout"}else if(mode==1){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_rAF(){Browser.requestAnimationFrame(Browser.mainLoop.runner)};Browser.mainLoop.method="rAF"}else if(mode==2){if(typeof setImmediate==="undefined"){var setImmediates=[];var emscriptenMainLoopMessageId="setimmediate";var Browser_setImmediate_messageHandler=function(event){if(event.data===emscriptenMainLoopMessageId||event.data.target===emscriptenMainLoopMessageId){event.stopPropagation();setImmediates.shift()()}};addEventListener("message",Browser_setImmediate_messageHandler,true);setImmediate=function Browser_emulated_setImmediate(func){setImmediates.push(func);if(ENVIRONMENT_IS_WORKER){if(Module["setImmediates"]===undefined)Module["setImmediates"]=[];Module["setImmediates"].push(func);postMessage({target:emscriptenMainLoopMessageId})}else postMessage(emscriptenMainLoopMessageId,"*")}}Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setImmediate(){setImmediate(Browser.mainLoop.runner)};Browser.mainLoop.method="immediate"}return 0}var _emscripten_get_now;if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function(){var t=process["hrtime"]();return t[0]*1e3+t[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else _emscripten_get_now=function(){return performance.now()};var runtimeKeepaliveCounter=0;function _exit(status){exit(status)}function maybeExit(){if(!keepRuntimeAlive()){try{_exit(EXITSTATUS)}catch(e){if(e instanceof ExitStatus){return}throw e}}}function setMainLoop(browserIterationFunc,fps,simulateInfiniteLoop,arg,noSetTiming){assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");Browser.mainLoop.func=browserIterationFunc;Browser.mainLoop.arg=arg;var thisMainLoopId=Browser.mainLoop.currentlyRunningMainloop;function checkIsRunning(){if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop){maybeExit();return false}return true}Browser.mainLoop.running=false;Browser.mainLoop.runner=function Browser_mainLoop_runner(){if(ABORT)return;if(Browser.mainLoop.queue.length>0){var start=Date.now();var blocker=Browser.mainLoop.queue.shift();blocker.func(blocker.arg);if(Browser.mainLoop.remainingBlockers){var remaining=Browser.mainLoop.remainingBlockers;var next=remaining%1==0?remaining-1:Math.floor(remaining);if(blocker.counted){Browser.mainLoop.remainingBlockers=next}else{next=next+.5;Browser.mainLoop.remainingBlockers=(8*remaining+next)/9}}console.log('main loop blocker "'+blocker.name+'" took '+(Date.now()-start)+" ms");Browser.mainLoop.updateStatus();if(!checkIsRunning())return;setTimeout(Browser.mainLoop.runner,0);return}if(!checkIsRunning())return;Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0;if(Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else if(Browser.mainLoop.timingMode==0){Browser.mainLoop.tickStartTime=_emscripten_get_now()}GL.newRenderingFrameStarted();if(Browser.mainLoop.method==="timeout"&&Module.ctx){warnOnce("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!");Browser.mainLoop.method=""}Browser.mainLoop.runIter(browserIterationFunc);checkStackCookie();if(!checkIsRunning())return;if(typeof SDL==="object"&&SDL.audio&&SDL.audio.queueNewAudioData)SDL.audio.queueNewAudioData();Browser.mainLoop.scheduler()};if(!noSetTiming){if(fps&&fps>0)_emscripten_set_main_loop_timing(0,1e3/fps);else _emscripten_set_main_loop_timing(1,1);Browser.mainLoop.scheduler()}if(simulateInfiniteLoop){throw"unwind"}}function callUserCallback(func){if(ABORT){err("user callback triggered after application aborted.  Ignoring.");return}try{func()}catch(e){if(e instanceof ExitStatus){return}else if(e!=="unwind"){if(e&&typeof e==="object"&&e.stack)err("exception thrown: "+[e,e.stack]);throw e}}}var Browser={mainLoop:{running:false,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null;Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var timingMode=Browser.mainLoop.timingMode;var timingValue=Browser.mainLoop.timingValue;var func=Browser.mainLoop.func;Browser.mainLoop.func=null;setMainLoop(func,0,false,Browser.mainLoop.arg,true);_emscripten_set_main_loop_timing(timingMode,timingValue);Browser.mainLoop.scheduler()},updateStatus:function(){if(Module["setStatus"]){var message=Module["statusMessage"]||"Please wait...";var remaining=Browser.mainLoop.remainingBlockers;var expected=Browser.mainLoop.expectedBlockers;if(remaining){if(remaining<expected){Module["setStatus"](message+" ("+(expected-remaining)+"/"+expected+")")}else{Module["setStatus"](message)}}else{Module["setStatus"]("")}}},runIter:function(func){if(ABORT)return;if(Module["preMainLoop"]){var preRet=Module["preMainLoop"]();if(preRet===false){return}}callUserCallback(func);if(Module["postMainLoop"])Module["postMainLoop"]()}},isFullscreen:false,pointerLock:false,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(!Module["preloadPlugins"])Module["preloadPlugins"]=[];if(Browser.initted)return;Browser.initted=true;try{new Blob;Browser.hasBlobConstructor=true}catch(e){Browser.hasBlobConstructor=false;console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder!="undefined"?MozBlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:!Browser.hasBlobConstructor?console.log("warning: no BlobBuilder"):null;Browser.URLObject=typeof window!="undefined"?window.URL?window.URL:window.webkitURL:undefined;if(!Module.noImageDecoding&&typeof Browser.URLObject==="undefined"){console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.");Module.noImageDecoding=true}var imagePlugin={};imagePlugin["canHandle"]=function imagePlugin_canHandle(name){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(name)};imagePlugin["handle"]=function imagePlugin_handle(byteArray,name,onload,onerror){var b=null;if(Browser.hasBlobConstructor){try{b=new Blob([byteArray],{type:Browser.getMimetype(name)});if(b.size!==byteArray.length){b=new Blob([new Uint8Array(byteArray).buffer],{type:Browser.getMimetype(name)})}}catch(e){warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}}if(!b){var bb=new Browser.BlobBuilder;bb.append(new Uint8Array(byteArray).buffer);b=bb.getBlob()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var img=new Image;img.onload=function img_onload(){assert(img.complete,"Image "+name+" could not be decoded");var canvas=document.createElement("canvas");canvas.width=img.width;canvas.height=img.height;var ctx=canvas.getContext("2d");ctx.drawImage(img,0,0);Module["preloadedImages"][name]=canvas;Browser.URLObject.revokeObjectURL(url);if(onload)onload(byteArray)};img.onerror=function img_onerror(event){console.log("Image "+url+" could not be decoded");if(onerror)onerror()};img.src=url};Module["preloadPlugins"].push(imagePlugin);var audioPlugin={};audioPlugin["canHandle"]=function audioPlugin_canHandle(name){return!Module.noAudioDecoding&&name.substr(-4)in{".ogg":1,".wav":1,".mp3":1}};audioPlugin["handle"]=function audioPlugin_handle(byteArray,name,onload,onerror){var done=false;function finish(audio){if(done)return;done=true;Module["preloadedAudios"][name]=audio;if(onload)onload(byteArray)}function fail(){if(done)return;done=true;Module["preloadedAudios"][name]=new Audio;if(onerror)onerror()}if(Browser.hasBlobConstructor){try{var b=new Blob([byteArray],{type:Browser.getMimetype(name)})}catch(e){return fail()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var audio=new Audio;audio.addEventListener("canplaythrough",function(){finish(audio)},false);audio.onerror=function audio_onerror(event){if(done)return;console.log("warning: browser could not fully decode audio "+name+", trying slower base64 approach");function encode64(data){var BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var PAD="=";var ret="";var leftchar=0;var leftbits=0;for(var i=0;i<data.length;i++){leftchar=leftchar<<8|data[i];leftbits+=8;while(leftbits>=6){var curr=leftchar>>leftbits-6&63;leftbits-=6;ret+=BASE[curr]}}if(leftbits==2){ret+=BASE[(leftchar&3)<<4];ret+=PAD+PAD}else if(leftbits==4){ret+=BASE[(leftchar&15)<<2];ret+=PAD}return ret}audio.src="data:audio/x-"+name.substr(-3)+";base64,"+encode64(byteArray);finish(audio)};audio.src=url;Browser.safeSetTimeout(function(){finish(audio)},1e4)}else{return fail()}};Module["preloadPlugins"].push(audioPlugin);function pointerLockChange(){Browser.pointerLock=document["pointerLockElement"]===Module["canvas"]||document["mozPointerLockElement"]===Module["canvas"]||document["webkitPointerLockElement"]===Module["canvas"]||document["msPointerLockElement"]===Module["canvas"]}var canvas=Module["canvas"];if(canvas){canvas.requestPointerLock=canvas["requestPointerLock"]||canvas["mozRequestPointerLock"]||canvas["webkitRequestPointerLock"]||canvas["msRequestPointerLock"]||function(){};canvas.exitPointerLock=document["exitPointerLock"]||document["mozExitPointerLock"]||document["webkitExitPointerLock"]||document["msExitPointerLock"]||function(){};canvas.exitPointerLock=canvas.exitPointerLock.bind(document);document.addEventListener("pointerlockchange",pointerLockChange,false);document.addEventListener("mozpointerlockchange",pointerLockChange,false);document.addEventListener("webkitpointerlockchange",pointerLockChange,false);document.addEventListener("mspointerlockchange",pointerLockChange,false);if(Module["elementPointerLock"]){canvas.addEventListener("click",function(ev){if(!Browser.pointerLock&&Module["canvas"].requestPointerLock){Module["canvas"].requestPointerLock();ev.preventDefault()}},false)}}},createContext:function(canvas,useWebGL,setInModule,webGLContextAttributes){if(useWebGL&&Module.ctx&&canvas==Module.canvas)return Module.ctx;var ctx;var contextHandle;if(useWebGL){var contextAttributes={antialias:false,alpha:false,majorVersion:typeof WebGL2RenderingContext!=="undefined"?2:1};if(webGLContextAttributes){for(var attribute in webGLContextAttributes){contextAttributes[attribute]=webGLContextAttributes[attribute]}}if(typeof GL!=="undefined"){contextHandle=GL.createContext(canvas,contextAttributes);if(contextHandle){ctx=GL.getContext(contextHandle).GLctx}}}else{ctx=canvas.getContext("2d")}if(!ctx)return null;if(setInModule){if(!useWebGL)assert(typeof GLctx==="undefined","cannot set in module if GLctx is used, but we are a non-GL context that would replace it");Module.ctx=ctx;if(useWebGL)GL.makeContextCurrent(contextHandle);Module.useWebGL=useWebGL;Browser.moduleContextCreatedCallbacks.forEach(function(callback){callback()});Browser.init()}return ctx},destroyContext:function(canvas,useWebGL,setInModule){},fullscreenHandlersInstalled:false,lockPointer:undefined,resizeCanvas:undefined,requestFullscreen:function(lockPointer,resizeCanvas){Browser.lockPointer=lockPointer;Browser.resizeCanvas=resizeCanvas;if(typeof Browser.lockPointer==="undefined")Browser.lockPointer=true;if(typeof Browser.resizeCanvas==="undefined")Browser.resizeCanvas=false;var canvas=Module["canvas"];function fullscreenChange(){Browser.isFullscreen=false;var canvasContainer=canvas.parentNode;if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvasContainer){canvas.exitFullscreen=Browser.exitFullscreen;if(Browser.lockPointer)canvas.requestPointerLock();Browser.isFullscreen=true;if(Browser.resizeCanvas){Browser.setFullscreenCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}else{canvasContainer.parentNode.insertBefore(canvas,canvasContainer);canvasContainer.parentNode.removeChild(canvasContainer);if(Browser.resizeCanvas){Browser.setWindowedCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}if(Module["onFullScreen"])Module["onFullScreen"](Browser.isFullscreen);if(Module["onFullscreen"])Module["onFullscreen"](Browser.isFullscreen)}if(!Browser.fullscreenHandlersInstalled){Browser.fullscreenHandlersInstalled=true;document.addEventListener("fullscreenchange",fullscreenChange,false);document.addEventListener("mozfullscreenchange",fullscreenChange,false);document.addEventListener("webkitfullscreenchange",fullscreenChange,false);document.addEventListener("MSFullscreenChange",fullscreenChange,false)}var canvasContainer=document.createElement("div");canvas.parentNode.insertBefore(canvasContainer,canvas);canvasContainer.appendChild(canvas);canvasContainer.requestFullscreen=canvasContainer["requestFullscreen"]||canvasContainer["mozRequestFullScreen"]||canvasContainer["msRequestFullscreen"]||(canvasContainer["webkitRequestFullscreen"]?function(){canvasContainer["webkitRequestFullscreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null)||(canvasContainer["webkitRequestFullScreen"]?function(){canvasContainer["webkitRequestFullScreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null);canvasContainer.requestFullscreen()},requestFullScreen:function(){abort("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen:function(){if(!Browser.isFullscreen){return false}var CFS=document["exitFullscreen"]||document["cancelFullScreen"]||document["mozCancelFullScreen"]||document["msExitFullscreen"]||document["webkitCancelFullScreen"]||function(){};CFS.apply(document,[]);return true},nextRAF:0,fakeRequestAnimationFrame:function(func){var now=Date.now();if(Browser.nextRAF===0){Browser.nextRAF=now+1e3/60}else{while(now+2>=Browser.nextRAF){Browser.nextRAF+=1e3/60}}var delay=Math.max(Browser.nextRAF-now,0);setTimeout(func,delay)},requestAnimationFrame:function(func){if(typeof requestAnimationFrame==="function"){requestAnimationFrame(func);return}var RAF=Browser.fakeRequestAnimationFrame;RAF(func)},safeRequestAnimationFrame:function(func){return Browser.requestAnimationFrame(function(){callUserCallback(func)})},safeSetTimeout:function(func,timeout){return setTimeout(function(){callUserCallback(func)},timeout)},getMimetype:function(name){return{"jpg":"image/jpeg","jpeg":"image/jpeg","png":"image/png","bmp":"image/bmp","ogg":"audio/ogg","wav":"audio/wav","mp3":"audio/mpeg"}[name.substr(name.lastIndexOf(".")+1)]},getUserMedia:function(func){if(!window.getUserMedia){window.getUserMedia=navigator["getUserMedia"]||navigator["mozGetUserMedia"]}window.getUserMedia(func)},getMovementX:function(event){return event["movementX"]||event["mozMovementX"]||event["webkitMovementX"]||0},getMovementY:function(event){return event["movementY"]||event["mozMovementY"]||event["webkitMovementY"]||0},getMouseWheelDelta:function(event){var delta=0;switch(event.type){case"DOMMouseScroll":delta=event.detail/3;break;case"mousewheel":delta=event.wheelDelta/120;break;case"wheel":delta=event.deltaY;switch(event.deltaMode){case 0:delta/=100;break;case 1:delta/=3;break;case 2:delta*=80;break;default:throw"unrecognized mouse wheel delta mode: "+event.deltaMode}break;default:throw"unrecognized mouse wheel event: "+event.type}return delta},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(event){if(Browser.pointerLock){if(event.type!="mousemove"&&"mozMovementX"in event){Browser.mouseMovementX=Browser.mouseMovementY=0}else{Browser.mouseMovementX=Browser.getMovementX(event);Browser.mouseMovementY=Browser.getMovementY(event)}if(typeof SDL!="undefined"){Browser.mouseX=SDL.mouseX+Browser.mouseMovementX;Browser.mouseY=SDL.mouseY+Browser.mouseMovementY}else{Browser.mouseX+=Browser.mouseMovementX;Browser.mouseY+=Browser.mouseMovementY}}else{var rect=Module["canvas"].getBoundingClientRect();var cw=Module["canvas"].width;var ch=Module["canvas"].height;var scrollX=typeof window.scrollX!=="undefined"?window.scrollX:window.pageXOffset;var scrollY=typeof window.scrollY!=="undefined"?window.scrollY:window.pageYOffset;assert(typeof scrollX!=="undefined"&&typeof scrollY!=="undefined","Unable to retrieve scroll position, mouse positions likely broken.");if(event.type==="touchstart"||event.type==="touchend"||event.type==="touchmove"){var touch=event.touch;if(touch===undefined){return}var adjustedX=touch.pageX-(scrollX+rect.left);var adjustedY=touch.pageY-(scrollY+rect.top);adjustedX=adjustedX*(cw/rect.width);adjustedY=adjustedY*(ch/rect.height);var coords={x:adjustedX,y:adjustedY};if(event.type==="touchstart"){Browser.lastTouches[touch.identifier]=coords;Browser.touches[touch.identifier]=coords}else if(event.type==="touchend"||event.type==="touchmove"){var last=Browser.touches[touch.identifier];if(!last)last=coords;Browser.lastTouches[touch.identifier]=last;Browser.touches[touch.identifier]=coords}return}var x=event.pageX-(scrollX+rect.left);var y=event.pageY-(scrollY+rect.top);x=x*(cw/rect.width);y=y*(ch/rect.height);Browser.mouseMovementX=x-Browser.mouseX;Browser.mouseMovementY=y-Browser.mouseY;Browser.mouseX=x;Browser.mouseY=y}},asyncLoad:function(url,onload,onerror,noRunDep){var dep=!noRunDep?getUniqueRunDependency("al "+url):"";readAsync(url,function(arrayBuffer){assert(arrayBuffer,'Loading data file "'+url+'" failed (no arrayBuffer).');onload(new Uint8Array(arrayBuffer));if(dep)removeRunDependency(dep)},function(event){if(onerror){onerror()}else{throw'Loading data file "'+url+'" failed.'}});if(dep)addRunDependency(dep)},resizeListeners:[],updateResizeListeners:function(){var canvas=Module["canvas"];Browser.resizeListeners.forEach(function(listener){listener(canvas.width,canvas.height)})},setCanvasSize:function(width,height,noUpdates){var canvas=Module["canvas"];Browser.updateCanvasDimensions(canvas,width,height);if(!noUpdates)Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags|8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags&~8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},updateCanvasDimensions:function(canvas,wNative,hNative){if(wNative&&hNative){canvas.widthNative=wNative;canvas.heightNative=hNative}else{wNative=canvas.widthNative;hNative=canvas.heightNative}var w=wNative;var h=hNative;if(Module["forcedAspectRatio"]&&Module["forcedAspectRatio"]>0){if(w/h<Module["forcedAspectRatio"]){w=Math.round(h*Module["forcedAspectRatio"])}else{h=Math.round(w/Module["forcedAspectRatio"])}}if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvas.parentNode&&typeof screen!="undefined"){var factor=Math.min(screen.width/w,screen.height/h);w=Math.round(w*factor);h=Math.round(h*factor)}if(Browser.resizeCanvas){if(canvas.width!=w)canvas.width=w;if(canvas.height!=h)canvas.height=h;if(typeof canvas.style!="undefined"){canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}else{if(canvas.width!=wNative)canvas.width=wNative;if(canvas.height!=hNative)canvas.height=hNative;if(typeof canvas.style!="undefined"){if(w!=wNative||h!=hNative){canvas.style.setProperty("width",w+"px","important");canvas.style.setProperty("height",h+"px","important")}else{canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}}},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var handle=Browser.nextWgetRequestHandle;Browser.nextWgetRequestHandle++;return handle}};function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback(Module);continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){wasmTable.get(func)()}else{wasmTable.get(func)(callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}function demangle(func){warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling");return func}function demangleAll(text){var regex=/\b_Z[\w\d_]+/g;return text.replace(regex,function(x){var y=demangle(x);return x===y?x:y+" ["+x+"]"})}function jsStackTrace(){var error=new Error;if(!error.stack){try{throw new Error}catch(e){error=e}if(!error.stack){return"(no stack trace available)"}}return error.stack.toString()}function keepRuntimeAlive(){return noExitRuntime||runtimeKeepaliveCounter>0}function stackTrace(){var js=jsStackTrace();if(Module["extraStackTrace"])js+="\n"+Module["extraStackTrace"]();return demangleAll(js)}var ExceptionInfoAttrs={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function ___cxa_allocate_exception(size){return _malloc(size+ExceptionInfoAttrs.SIZE)+ExceptionInfoAttrs.SIZE}function _atexit(func,arg){}function ___cxa_atexit(a0,a1){return _atexit(a0,a1)}function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-ExceptionInfoAttrs.SIZE;this.set_type=function(type){HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]=type};this.get_type=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]};this.set_destructor=function(destructor){HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]=destructor};this.get_destructor=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]};this.set_refcount=function(refcount){HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=refcount};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]=caught};this.get_caught=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]!=0};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]=rethrown};this.get_rethrown=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]!=0};this.init=function(type,destructor){this.set_type(type);this.set_destructor(destructor);this.set_refcount(0);this.set_caught(false);this.set_rethrown(false)};this.add_ref=function(){var value=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=value+1};this.release_ref=function(){var prev=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=prev-1;assert(prev>0);return prev===1}}function CatchInfo(ptr){this.free=function(){_free(this.ptr);this.ptr=0};this.set_base_ptr=function(basePtr){HEAP32[this.ptr>>2]=basePtr};this.get_base_ptr=function(){return HEAP32[this.ptr>>2]};this.set_adjusted_ptr=function(adjustedPtr){var ptrSize=4;HEAP32[this.ptr+ptrSize>>2]=adjustedPtr};this.get_adjusted_ptr=function(){var ptrSize=4;return HEAP32[this.ptr+ptrSize>>2]};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_exception_info().get_type());if(isPointer){return HEAP32[this.get_base_ptr()>>2]}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.get_base_ptr()};this.get_exception_info=function(){return new ExceptionInfo(this.get_base_ptr())};if(ptr===undefined){this.ptr=_malloc(8);this.set_adjusted_ptr(0)}else{this.ptr=ptr}}var exceptionCaught=[];function exception_addRef(info){info.add_ref()}var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var catchInfo=new CatchInfo(ptr);var info=catchInfo.get_exception_info();if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--}info.set_rethrown(false);exceptionCaught.push(catchInfo);exception_addRef(info);return catchInfo.get_exception_ptr()}var exceptionLast=0;function ___cxa_free_exception(ptr){try{return _free(new ExceptionInfo(ptr).ptr)}catch(e){err("exception during cxa_free_exception: "+e)}}function exception_decRef(info){if(info.release_ref()&&!info.get_rethrown()){var destructor=info.get_destructor();if(destructor){wasmTable.get(destructor)(info.excPtr)}___cxa_free_exception(info.excPtr)}}function ___cxa_end_catch(){_setThrew(0);assert(exceptionCaught.length>0);var catchInfo=exceptionCaught.pop();exception_decRef(catchInfo.get_exception_info());catchInfo.free();exceptionLast=0}function ___resumeException(catchInfoPtr){var catchInfo=new CatchInfo(catchInfoPtr);var ptr=catchInfo.get_base_ptr();if(!exceptionLast){exceptionLast=ptr}catchInfo.free();throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_find_matching_catch_2(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_find_matching_catch_3(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_rethrow(){var catchInfo=exceptionCaught.pop();if(!catchInfo){abort("no exception to throw")}var info=catchInfo.get_exception_info();var ptr=catchInfo.get_base_ptr();if(!info.get_rethrown()){exceptionCaught.push(catchInfo);info.set_rethrown(true);info.set_caught(false);uncaughtExceptionCount++}else{catchInfo.free()}exceptionLast=ptr;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_thread_atexit(a0,a1){return _atexit(a0,a1)}function ___cxa_throw(ptr,type,destructor){var info=new ExceptionInfo(ptr);info.init(type,destructor);exceptionLast=ptr;uncaughtExceptionCount++;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function setErrNo(value){HEAP32[___errno_location()>>2]=value;return value}var PATH={splitPath:function(filename){var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)==="/",trailingSlash=path.substr(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path==="/")return"/";path=PATH.normalize(path);path=path.replace(/\/$/,"");var lastSlash=path.lastIndexOf("/");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join("/"))},join2:function(l,r){return PATH.normalize(l+"/"+r)}};function getRandomDevice(){if(typeof crypto==="object"&&typeof crypto["getRandomValues"]==="function"){var randomBuffer=new Uint8Array(1);return function(){crypto.getRandomValues(randomBuffer);return randomBuffer[0]}}else if(ENVIRONMENT_IS_NODE){try{var crypto_module=require("crypto");return function(){return crypto_module["randomBytes"](1)[0]}}catch(e){}}return function(){abort("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var PATH_FS={resolve:function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:FS.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:function(from,to){from=PATH_FS.resolve(from).substr(1);to=PATH_FS.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(dev,ops){TTY.ttys[dev]={input:[],output:[],ops:ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open:function(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close:function(stream){stream.tty.ops.flush(stream.tty)},flush:function(stream){stream.tty.ops.flush(stream.tty)},read:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length){stream.node.timestamp=Date.now()}return i}},default_tty_ops:{get_char:function(tty){if(!tty.input.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc?Buffer.alloc(BUFSIZE):new Buffer(BUFSIZE);var bytesRead=0;try{bytesRead=nodeFS.readSync(process.stdin.fd,buf,0,BUFSIZE,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}else{result=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\n"}}else if(typeof readline=="function"){result=readline();if(result!==null){result+="\n"}}if(!result){return null}tty.input=intArrayFromString(result,true)}return tty.input.shift()},put_char:function(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){out(UTF8ArrayToString(tty.output,0));tty.output=[]}}},default_tty1_ops:{put_char:function(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){err(UTF8ArrayToString(tty.output,0));tty.output=[]}}}};function mmapAlloc(size){var alignedSize=alignMemory(size,16384);var ptr=_malloc(alignedSize);while(size<alignedSize)HEAP8[ptr+size++]=0;return ptr}var MEMFS={ops_table:null,mount:function(mount){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.timestamp=Date.now();if(parent){parent.contents[name]=node;parent.timestamp=node.timestamp}return node},getFileDataAsTypedArray:function(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage:function(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage:function(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr:function(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.timestamp);attr.mtime=new Date(node.timestamp);attr.ctime=new Date(node.timestamp);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr:function(node,attr){if(attr.mode!==undefined){node.mode=attr.mode}if(attr.timestamp!==undefined){node.timestamp=attr.timestamp}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup:function(parent,name){throw FS.genericErrors[44]},mknod:function(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename:function(old_node,new_dir,new_name){if(FS.isDir(old_node.mode)){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}}delete old_node.parent.contents[old_node.name];old_node.parent.timestamp=Date.now();old_node.name=new_name;new_dir.contents[new_name]=old_node;new_dir.timestamp=old_node.parent.timestamp;old_node.parent=new_dir},unlink:function(parent,name){delete parent.contents[name];parent.timestamp=Date.now()},rmdir:function(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.timestamp=Date.now()},readdir:function(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries},symlink:function(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink:function(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read:function(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);assert(size>=0);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write:function(stream,buffer,offset,length,position,canOwn){assert(!(buffer instanceof ArrayBuffer));if(buffer.buffer===HEAP8.buffer){canOwn=false}if(!length)return 0;var node=stream.node;node.timestamp=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){assert(position===0,"canOwn must imply no weird position inside the file");node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length);node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length),position)}else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek:function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},allocate:function(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)},mmap:function(stream,address,length,position,prot,flags){if(address!==0){throw new FS.ErrnoError(28)}if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents.buffer===buffer){allocated=false;ptr=contents.byteOffset}else{if(position>0||position+length<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}allocated=true;ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}HEAP8.set(contents,ptr)}return{ptr:ptr,allocated:allocated}},msync:function(stream,buffer,offset,length,mmapFlags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(mmapFlags&2){return 0}var bytesWritten=MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};var ERRNO_MESSAGES={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"};var ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(path,opts){path=PATH_FS.resolve(FS.cwd(),path);opts=opts||{};if(!path)return{path:"",node:null};var defaults={follow_mount:true,recurse_count:0};for(var key in defaults){if(opts[key]===undefined){opts[key]=defaults[key]}}if(opts.recurse_count>8){throw new FS.ErrnoError(32)}var parts=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),false);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}current=FS.lookupNode(current,parts[i]);current_path=PATH.join2(current_path,parts[i]);if(FS.isMountpoint(current)){if(!islast||islast&&opts.follow_mount){current=current.mounted.root}}if(!islast||opts.follow){var count=0;while(FS.isLink(current.mode)){var link=FS.readlink(current_path);current_path=PATH_FS.resolve(PATH.dirname(current_path),link);var lookup=FS.lookupPath(current_path,{recurse_count:opts.recurse_count});current=lookup.node;if(count++>40){throw new FS.ErrnoError(32)}}}}return{path:current_path,node:current}},getPath:function(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?mount+"/"+path:mount+path}path=path?node.name+"/"+path:node.name;node=node.parent}},hashName:function(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode:function(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode:function(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode:function(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode,parent)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode:function(parent,name,mode,rdev){assert(typeof parent==="object");var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode:function(node){FS.hashRemoveNode(node)},isRoot:function(node){return node===node.parent},isMountpoint:function(node){return!!node.mounted},isFile:function(mode){return(mode&61440)===32768},isDir:function(mode){return(mode&61440)===16384},isLink:function(mode){return(mode&61440)===40960},isChrdev:function(mode){return(mode&61440)===8192},isBlkdev:function(mode){return(mode&61440)===24576},isFIFO:function(mode){return(mode&61440)===4096},isSocket:function(mode){return(mode&49152)===49152},flagModes:{"r":0,"r+":2,"w":577,"w+":578,"a":1089,"a+":1090},modeStringToFlags:function(str){var flags=FS.flagModes[str];if(typeof flags==="undefined"){throw new Error("Unknown file open mode: "+str)}return flags},flagsToPermissionString:function(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions:function(node,perms){if(FS.ignorePermissions){return 0}if(perms.indexOf("r")!==-1&&!(node.mode&292)){return 2}else if(perms.indexOf("w")!==-1&&!(node.mode&146)){return 2}else if(perms.indexOf("x")!==-1&&!(node.mode&73)){return 2}return 0},mayLookup:function(dir){var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate:function(dir,name){try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete:function(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen:function(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&512){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},MAX_OPEN_FDS:4096,nextfd:function(fd_start,fd_end){fd_start=fd_start||0;fd_end=fd_end||FS.MAX_OPEN_FDS;for(var fd=fd_start;fd<=fd_end;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStream:function(fd){return FS.streams[fd]},createStream:function(stream,fd_start,fd_end){if(!FS.FSStream){FS.FSStream=function(){};FS.FSStream.prototype={object:{get:function(){return this.node},set:function(val){this.node=val}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}}}var newStream=new FS.FSStream;for(var p in stream){newStream[p]=stream[p]}stream=newStream;var fd=FS.nextfd(fd_start,fd_end);stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream:function(fd){FS.streams[fd]=null},chrdev_stream_ops:{open:function(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;if(stream.stream_ops.open){stream.stream_ops.open(stream)}},llseek:function(){throw new FS.ErrnoError(70)}},major:function(dev){return dev>>8},minor:function(dev){return dev&255},makedev:function(ma,mi){return ma<<8|mi},registerDevice:function(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:function(dev){return FS.devices[dev]},getMounts:function(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push.apply(check,m.mounts)}return mounts},syncfs:function(populate,callback){if(typeof populate==="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach(function(mount){if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)})},mount:function(type,opts,mountpoint){if(typeof type==="string"){throw type}var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type:type,opts:opts,mountpoint:mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount:function(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach(function(hash){var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.indexOf(current.mount)!==-1){FS.destroyNode(current)}current=next}});node.mounted=null;var idx=node.mount.mounts.indexOf(mount);assert(idx!==-1);node.mount.mounts.splice(idx,1)},lookup:function(parent,name){return parent.node_ops.lookup(parent,name)},mknod:function(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name||name==="."||name===".."){throw new FS.ErrnoError(28)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},create:function(path,mode){mode=mode!==undefined?mode:438;mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir:function(path,mode){mode=mode!==undefined?mode:511;mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree:function(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev:function(path,mode,dev){if(typeof dev==="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink:function(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename:function(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](old_path,new_path)}}catch(e){err("FS.trackingDelegate['willMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name)}catch(e){throw e}finally{FS.hashAddNode(old_node)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](old_path,new_path)}catch(e){err("FS.trackingDelegate['onMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}},rmdir:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readdir:function(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;if(!node.node_ops.readdir){throw new FS.ErrnoError(54)}return node.node_ops.readdir(node)},unlink:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.unlink(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readlink:function(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return PATH_FS.resolve(FS.getPath(link.parent),link.node_ops.readlink(link))},stat:function(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;if(!node){throw new FS.ErrnoError(44)}if(!node.node_ops.getattr){throw new FS.ErrnoError(63)}return node.node_ops.getattr(node)},lstat:function(path){return FS.stat(path,true)},chmod:function(path,mode,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{mode:mode&4095|node.mode&~4095,timestamp:Date.now()})},lchmod:function(path,mode){FS.chmod(path,mode,true)},fchmod:function(fd,mode){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chmod(stream.node,mode)},chown:function(path,uid,gid,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{timestamp:Date.now()})},lchown:function(path,uid,gid){FS.chown(path,uid,gid,true)},fchown:function(fd,uid,gid){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chown(stream.node,uid,gid)},truncate:function(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}node.node_ops.setattr(node,{size:len,timestamp:Date.now()})},ftruncate:function(fd,len){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.truncate(stream.node,len)},utime:function(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;node.node_ops.setattr(node,{timestamp:Math.max(atime,mtime)})},open:function(path,flags,mode,fd_start,fd_end){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags==="string"?FS.modeStringToFlags(flags):flags;mode=typeof mode==="undefined"?438:mode;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;if(typeof path==="object"){node=path}else{path=PATH.normalize(path);try{var lookup=FS.lookupPath(path,{follow:!(flags&131072)});node=lookup.node}catch(e){}}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else{node=FS.mknod(path,mode,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512){FS.truncate(node,0)}flags&=~(128|512|131072);var stream=FS.createStream({node:node,path:FS.getPath(node),flags:flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false},fd_start,fd_end);if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(Module["logReadFiles"]&&!(flags&1)){if(!FS.readFiles)FS.readFiles={};if(!(path in FS.readFiles)){FS.readFiles[path]=1;err("FS.trackingDelegate error on read file: "+path)}}try{if(FS.trackingDelegate["onOpenFile"]){var trackingFlags=0;if((flags&2097155)!==1){trackingFlags|=FS.tracking.openFlags.READ}if((flags&2097155)!==0){trackingFlags|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](path,trackingFlags)}}catch(e){err("FS.trackingDelegate['onOpenFile']('"+path+"', flags) threw an exception: "+e.message)}return stream},close:function(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed:function(stream){return stream.fd===null},llseek:function(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read:function(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write:function(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;try{if(stream.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](stream.path)}catch(e){err("FS.trackingDelegate['onWriteToFile']('"+stream.path+"') threw an exception: "+e.message)}return bytesWritten},allocate:function(stream,offset,length){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(offset<0||length<=0){throw new FS.ErrnoError(28)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(43)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(138)}stream.stream_ops.allocate(stream,offset,length)},mmap:function(stream,address,length,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}return stream.stream_ops.mmap(stream,address,length,position,prot,flags)},msync:function(stream,buffer,offset,length,mmapFlags){if(!stream||!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},munmap:function(stream){return 0},ioctl:function(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile:function(path,opts){opts=opts||{};opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error('Invalid encoding type "'+opts.encoding+'"')}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf,0)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret},writeFile:function(path,data,opts){opts=opts||{};opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data==="string"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,undefined,opts.canOwn)}else if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{throw new Error("Unsupported data type")}FS.close(stream)},cwd:function(){return FS.currentPath},chdir:function(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories:function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(stream,buffer,offset,length,pos){return length}});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var random_device=getRandomDevice();FS.createDevice("/dev","random",random_device);FS.createDevice("/dev","urandom",random_device);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:function(){var node=FS.createNode(proc_self,"fd",16384|511,73);node.node_ops={lookup:function(parent,name){var fd=+name;var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return stream.path}}};ret.parent=ret;return ret}};return node}},{},"/proc/self/fd")},createStandardStreams:function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1);assert(stdin.fd===0,"invalid handle for stdin ("+stdin.fd+")");assert(stdout.fd===1,"invalid handle for stdout ("+stdout.fd+")");assert(stderr.fd===2,"invalid handle for stderr ("+stderr.fd+")")},ensureErrnoError:function(){if(FS.ErrnoError)return;FS.ErrnoError=function ErrnoError(errno,node){this.node=node;this.setErrno=function(errno){this.errno=errno;for(var key in ERRNO_CODES){if(ERRNO_CODES[key]===errno){this.code=key;break}}};this.setErrno(errno);this.message=ERRNO_MESSAGES[errno];if(this.stack){Object.defineProperty(this,"stack",{value:(new Error).stack,writable:true});this.stack=demangleAll(this.stack)}};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[44].forEach(function(code){FS.genericErrors[code]=new FS.ErrnoError(code);FS.genericErrors[code].stack="<generic error, no stack>"})},staticInit:function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={"MEMFS":MEMFS}},init:function(input,output,error){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=input||Module["stdin"];Module["stdout"]=output||Module["stdout"];Module["stderr"]=error||Module["stderr"];FS.createStandardStreams()},quit:function(){FS.init.initialized=false;var fflush=Module["_fflush"];if(fflush)fflush(0);for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}},getMode:function(canRead,canWrite){var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode},findObject:function(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(ret.exists){return ret.object}else{return null}},analyzePath:function(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath:function(parent,path,canRead,canWrite){parent=typeof parent==="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current},createFile:function(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile:function(parent,name,data,canRead,canWrite,canOwn){var path=name?PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name):parent;var mode=FS.getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data==="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}return node},createDevice:function(parent,name,input,output){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(!!input,!!output);if(!FS.createDevice.major)FS.createDevice.major=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open:function(stream){stream.seekable=false},close:function(stream){if(output&&output.buffer&&output.buffer.length){output(10)}},read:function(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length){stream.node.timestamp=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile:function(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(read_){try{obj.contents=intArrayFromString(read_(obj.url),true);obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}},createLazyFile:function(parent,name,url,canRead,canWrite){function LazyUint8Array(){this.lengthKnown=false;this.chunks=[]}LazyUint8Array.prototype.get=function LazyUint8Array_get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]};LazyUint8Array.prototype.setDataGetter=function LazyUint8Array_setDataGetter(getter){this.getter=getter};LazyUint8Array.prototype.cacheLength=function LazyUint8Array_cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=function(from,to){if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);if(typeof Uint8Array!="undefined")xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}else{return intArrayFromString(xhr.responseText||"",true)}};var lazyArray=this;lazyArray.setDataGetter(function(chunkNum){var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]==="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]==="undefined")throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;Object.defineProperties(lazyArray,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url:url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach(function(key){var fn=node.stream_ops[key];stream_ops[key]=function forceLoadLazyFile(){FS.forceLoadFile(node);return fn.apply(null,arguments)}});stream_ops.read=function stream_ops_read(stream,buffer,offset,length,position){FS.forceLoadFile(node);var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);assert(size>=0);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size};node.stream_ops=stream_ops;return node},createPreloadedFile:function(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish){Browser.init();var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency("cp "+fullname);function processData(byteArray){function finish(byteArray){if(preFinish)preFinish();if(!dontCreateFile){FS.createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}if(onload)onload();removeRunDependency(dep)}var handled=false;Module["preloadPlugins"].forEach(function(plugin){if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,function(){if(onerror)onerror();removeRunDependency(dep)});handled=true}});if(!handled)finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){Browser.asyncLoad(url,function(byteArray){processData(byteArray)},onerror)}else{processData(url)}},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=function openRequest_onupgradeneeded(){out("creating db");var db=openRequest.result;db.createObjectStore(FS.DB_STORE_NAME)};openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;var transaction=db.transaction([FS.DB_STORE_NAME],"readwrite");var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var putRequest=files.put(FS.analyzePath(path).object.contents,path);putRequest.onsuccess=function putRequest_onsuccess(){ok++;if(ok+fail==total)finish()};putRequest.onerror=function putRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},loadFilesFromDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=onerror;openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;try{var transaction=db.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){onerror(e);return}var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var getRequest=files.get(path);getRequest.onsuccess=function getRequest_onsuccess(){if(FS.analyzePath(path).exists){FS.unlink(path)}FS.createDataFile(PATH.dirname(path),PATH.basename(path),getRequest.result,true,true,true);ok++;if(ok+fail==total)finish()};getRequest.onerror=function getRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},absolutePath:function(){abort("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){abort("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){abort("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){abort("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){abort("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){abort("FS.standardizePath has been removed; use PATH.normalize instead")}};var SYSCALLS={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(dirfd,path,allowEmpty){if(path[0]==="/"){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=FS.getStream(dirfd);if(!dirstream)throw new FS.ErrnoError(8);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return PATH.join2(dir,path)},doStat:function(func,path,buf){try{var stat=func(path)}catch(e){if(e&&e.node&&PATH.normalize(path)!==PATH.normalize(FS.getPath(e.node))){return-54}throw e}HEAP32[buf>>2]=stat.dev;HEAP32[buf+4>>2]=0;HEAP32[buf+8>>2]=stat.ino;HEAP32[buf+12>>2]=stat.mode;HEAP32[buf+16>>2]=stat.nlink;HEAP32[buf+20>>2]=stat.uid;HEAP32[buf+24>>2]=stat.gid;HEAP32[buf+28>>2]=stat.rdev;HEAP32[buf+32>>2]=0;tempI64=[stat.size>>>0,(tempDouble=stat.size,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+40>>2]=tempI64[0],HEAP32[buf+44>>2]=tempI64[1];HEAP32[buf+48>>2]=4096;HEAP32[buf+52>>2]=stat.blocks;HEAP32[buf+56>>2]=stat.atime.getTime()/1e3|0;HEAP32[buf+60>>2]=0;HEAP32[buf+64>>2]=stat.mtime.getTime()/1e3|0;HEAP32[buf+68>>2]=0;HEAP32[buf+72>>2]=stat.ctime.getTime()/1e3|0;HEAP32[buf+76>>2]=0;tempI64=[stat.ino>>>0,(tempDouble=stat.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+80>>2]=tempI64[0],HEAP32[buf+84>>2]=tempI64[1];return 0},doMsync:function(addr,stream,len,flags,offset){var buffer=HEAPU8.slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},doMkdir:function(path,mode){path=PATH.normalize(path);if(path[path.length-1]==="/")path=path.substr(0,path.length-1);FS.mkdir(path,mode,0);return 0},doMknod:function(path,mode,dev){switch(mode&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}FS.mknod(path,mode,dev);return 0},doReadlink:function(path,buf,bufsize){if(bufsize<=0)return-28;var ret=FS.readlink(path);var len=Math.min(bufsize,lengthBytesUTF8(ret));var endChar=HEAP8[buf+len];stringToUTF8(ret,buf,bufsize+1);HEAP8[buf+len]=endChar;return len},doAccess:function(path,amode){if(amode&~7){return-28}var node;var lookup=FS.lookupPath(path,{follow:true});node=lookup.node;if(!node){return-44}var perms="";if(amode&4)perms+="r";if(amode&2)perms+="w";if(amode&1)perms+="x";if(perms&&FS.nodePermissions(node,perms)){return-2}return 0},doDup:function(path,flags,suggestFD){var suggest=FS.getStream(suggestFD);if(suggest)FS.close(suggest);return FS.open(path,flags,0,suggestFD,suggestFD).fd},doReadv:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break}return ret},doWritev:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr}return ret},varargs:undefined,get:function(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},getStreamFromFD:function(fd){var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);return stream},get64:function(low,high){if(low>=0)assert(high===0);else assert(high===-1);return low}};function ___sys_fcntl64(fd,cmd,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=SYSCALLS.get();if(arg<0){return-28}var newStream;newStream=FS.open(stream.path,stream.flags,0,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=SYSCALLS.get();stream.flags|=arg;return 0}case 12:{var arg=SYSCALLS.get();var offset=0;HEAP16[arg+offset>>1]=2;return 0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:setErrNo(28);return-1;default:{return-28}}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_fstat64(fd,buf){try{var stream=SYSCALLS.getStreamFromFD(fd);return SYSCALLS.doStat(FS.stat,stream.path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_ioctl(fd,op,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:case 21505:{if(!stream.tty)return-59;return 0}case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!stream.tty)return-59;return 0}case 21519:{if(!stream.tty)return-59;var argp=SYSCALLS.get();HEAP32[argp>>2]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21531:{var argp=SYSCALLS.get();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;return 0}case 21524:{if(!stream.tty)return-59;return 0}default:abort("bad ioctl syscall "+op)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function syscallMmap2(addr,len,prot,flags,fd,off){off<<=12;var ptr;var allocated=false;if((flags&16)!==0&&addr%16384!==0){return-28}if((flags&32)!==0){ptr=_memalign(16384,len);if(!ptr)return-48;_memset(ptr,0,len);allocated=true}else{var info=FS.getStream(fd);if(!info)return-8;var res=FS.mmap(info,addr,len,off,prot,flags);ptr=res.ptr;allocated=res.allocated}SYSCALLS.mappings[ptr]={malloc:ptr,len:len,allocated:allocated,fd:fd,prot:prot,flags:flags,offset:off};return ptr}function ___sys_mmap2(addr,len,prot,flags,fd,off){try{return syscallMmap2(addr,len,prot,flags,fd,off)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_mprotect(addr,len,size){return 0}function syscallMunmap(addr,len){if((addr|0)===-1||len===0){return-28}var info=SYSCALLS.mappings[addr];if(!info)return 0;if(len===info.len){var stream=FS.getStream(info.fd);if(stream){if(info.prot&2){SYSCALLS.doMsync(addr,stream,len,info.flags,info.offset)}FS.munmap(stream)}SYSCALLS.mappings[addr]=null;if(info.allocated){_free(info.malloc)}}return 0}function ___sys_munmap(addr,len){try{return syscallMunmap(addr,len)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_open(path,flags,varargs){SYSCALLS.varargs=varargs;try{var pathname=SYSCALLS.getStr(path);var mode=varargs?SYSCALLS.get():0;var stream=FS.open(pathname,flags,mode);return stream.fd}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_stat64(path,buf){try{path=SYSCALLS.getStr(path);return SYSCALLS.doStat(FS.stat,path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var char_0=48;var char_9=57;function makeLegalFunctionName(name){if(undefined===name){return"_unknown"}name=name.replace(/[^a-zA-Z0-9_]/g,"$");var f=name.charCodeAt(0);if(f>=char_0&&f<=char_9){return"_"+name}else{return name}}function createNamedFunction(name,body){name=makeLegalFunctionName(name);return new Function("body","return function "+name+"() {\n"+'    "use strict";'+"    return body.apply(this, arguments);\n"+"};\n")(body)}var emval_free_list=[];var emval_handle_array=[{},{value:undefined},{value:null},{value:true},{value:false}];function count_emval_handles(){var count=0;for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){++count}}return count}function get_first_emval(){for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){return emval_handle_array[i]}}return null}function init_emval(){Module["count_emval_handles"]=count_emval_handles;Module["get_first_emval"]=get_first_emval}function __emval_register(value){switch(value){case undefined:{return 1}case null:{return 2}case true:{return 3}case false:{return 4}default:{var handle=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;emval_handle_array[handle]={refcount:1,value:value};return handle}}}function extendError(baseErrorType,errorName){var errorClass=createNamedFunction(errorName,function(message){this.name=errorName;this.message=message;var stack=new Error(message).stack;if(stack!==undefined){this.stack=this.toString()+"\n"+stack.replace(/^Error(:[^\n]*)?\n/,"")}});errorClass.prototype=Object.create(baseErrorType.prototype);errorClass.prototype.constructor=errorClass;errorClass.prototype.toString=function(){if(this.message===undefined){return this.name}else{return this.name+": "+this.message}};return errorClass}var PureVirtualError=undefined;function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i)}embind_charCodes=codes}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]]}return ret}function getInheritedInstanceCount(){return Object.keys(registeredInstances).length}function getLiveInheritedInstances(){var rv=[];for(var k in registeredInstances){if(registeredInstances.hasOwnProperty(k)){rv.push(registeredInstances[k])}}return rv}var deletionQueue=[];function flushPendingDeletes(){while(deletionQueue.length){var obj=deletionQueue.pop();obj.$$.deleteScheduled=false;obj["delete"]()}}var delayFunction=undefined;function setDelayFunction(fn){delayFunction=fn;if(deletionQueue.length&&delayFunction){delayFunction(flushPendingDeletes)}}function init_embind(){Module["getInheritedInstanceCount"]=getInheritedInstanceCount;Module["getLiveInheritedInstances"]=getLiveInheritedInstances;Module["flushPendingDeletes"]=flushPendingDeletes;Module["setDelayFunction"]=setDelayFunction}var registeredInstances={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message)}function getBasestPointer(class_,ptr){if(ptr===undefined){throwBindingError("ptr should not be undefined")}while(class_.baseClass){ptr=class_.upcast(ptr);class_=class_.baseClass}return ptr}function registerInheritedInstance(class_,ptr,instance){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){throwBindingError("Tried to register registered instance: "+ptr)}else{registeredInstances[ptr]=instance}}function requireHandle(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle)}return emval_handle_array[handle].value}var registeredTypes={};function getTypeName(type){var ptr=___getTypeName(type);var rv=readLatin1String(ptr);_free(ptr);return rv}function requireRegisteredType(rawType,humanName){var impl=registeredTypes[rawType];if(undefined===impl){throwBindingError(humanName+" has unknown type "+getTypeName(rawType))}return impl}function unregisterInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){delete registeredInstances[ptr]}else{throwBindingError("Tried to unregister unregistered instance: "+ptr)}}function detachFinalizer(handle){}var finalizationGroup=false;function runDestructor($$){if($$.smartPtr){$$.smartPtrType.rawDestructor($$.smartPtr)}else{$$.ptrType.registeredClass.rawDestructor($$.ptr)}}function releaseClassHandle($$){$$.count.value-=1;var toDelete=0===$$.count.value;if(toDelete){runDestructor($$)}}function attachFinalizer(handle){if("undefined"===typeof FinalizationGroup){attachFinalizer=function(handle){return handle};return handle}finalizationGroup=new FinalizationGroup(function(iter){for(var result=iter.next();!result.done;result=iter.next()){var $$=result.value;if(!$$.ptr){console.warn("object already deleted: "+$$.ptr)}else{releaseClassHandle($$)}}});attachFinalizer=function(handle){finalizationGroup.register(handle,handle.$$,handle.$$);return handle};detachFinalizer=function(handle){finalizationGroup.unregister(handle.$$)};return attachFinalizer(handle)}function __embind_create_inheriting_constructor(constructorName,wrapperType,properties){constructorName=readLatin1String(constructorName);wrapperType=requireRegisteredType(wrapperType,"wrapper");properties=requireHandle(properties);var arraySlice=[].slice;var registeredClass=wrapperType.registeredClass;var wrapperPrototype=registeredClass.instancePrototype;var baseClass=registeredClass.baseClass;var baseClassPrototype=baseClass.instancePrototype;var baseConstructor=registeredClass.baseClass.constructor;var ctor=createNamedFunction(constructorName,function(){registeredClass.baseClass.pureVirtualFunctions.forEach(function(name){if(this[name]===baseClassPrototype[name]){throw new PureVirtualError("Pure virtual function "+name+" must be implemented in JavaScript")}}.bind(this));Object.defineProperty(this,"__parent",{value:wrapperPrototype});this["__construct"].apply(this,arraySlice.call(arguments))});wrapperPrototype["__construct"]=function __construct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __construct")}var inner=baseConstructor["implement"].apply(undefined,[this].concat(arraySlice.call(arguments)));detachFinalizer(inner);var $$=inner.$$;inner["notifyOnDestruction"]();$$.preservePointerOnDelete=true;Object.defineProperties(this,{$$:{value:$$}});attachFinalizer(this);registerInheritedInstance(registeredClass,$$.ptr,this)};wrapperPrototype["__destruct"]=function __destruct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __destruct")}detachFinalizer(this);unregisterInheritedInstance(registeredClass,this.$$.ptr)};ctor.prototype=Object.create(wrapperPrototype);for(var p in properties){ctor.prototype[p]=properties[p]}return __emval_register(ctor)}var structRegistrations={};function runDestructors(destructors){while(destructors.length){var ptr=destructors.pop();var del=destructors.pop();del(ptr)}}function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAPU32[pointer>>2])}var awaitingDependencies={};var typeDependencies={};var InternalError=undefined;function throwInternalError(message){throw new InternalError(message)}function whenDependentTypesAreResolved(myTypes,dependentTypes,getTypeConverters){myTypes.forEach(function(type){typeDependencies[type]=dependentTypes});function onComplete(typeConverters){var myTypeConverters=getTypeConverters(typeConverters);if(myTypeConverters.length!==myTypes.length){throwInternalError("Mismatched type converter count")}for(var i=0;i<myTypes.length;++i){registerType(myTypes[i],myTypeConverters[i])}}var typeConverters=new Array(dependentTypes.length);var unregisteredTypes=[];var registered=0;dependentTypes.forEach(function(dt,i){if(registeredTypes.hasOwnProperty(dt)){typeConverters[i]=registeredTypes[dt]}else{unregisteredTypes.push(dt);if(!awaitingDependencies.hasOwnProperty(dt)){awaitingDependencies[dt]=[]}awaitingDependencies[dt].push(function(){typeConverters[i]=registeredTypes[dt];++registered;if(registered===unregisteredTypes.length){onComplete(typeConverters)}})}});if(0===unregisteredTypes.length){onComplete(typeConverters)}}function __embind_finalize_value_object(structType){var reg=structRegistrations[structType];delete structRegistrations[structType];var rawConstructor=reg.rawConstructor;var rawDestructor=reg.rawDestructor;var fieldRecords=reg.fields;var fieldTypes=fieldRecords.map(function(field){return field.getterReturnType}).concat(fieldRecords.map(function(field){return field.setterArgumentType}));whenDependentTypesAreResolved([structType],fieldTypes,function(fieldTypes){var fields={};fieldRecords.forEach(function(field,i){var fieldName=field.fieldName;var getterReturnType=fieldTypes[i];var getter=field.getter;var getterContext=field.getterContext;var setterArgumentType=fieldTypes[i+fieldRecords.length];var setter=field.setter;var setterContext=field.setterContext;fields[fieldName]={read:function(ptr){return getterReturnType["fromWireType"](getter(getterContext,ptr))},write:function(ptr,o){var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,o));runDestructors(destructors)}}});return[{name:reg.name,"fromWireType":function(ptr){var rv={};for(var i in fields){rv[i]=fields[i].read(ptr)}rawDestructor(ptr);return rv},"toWireType":function(destructors,o){for(var fieldName in fields){if(!(fieldName in o)){throw new TypeError('Missing field:  "'+fieldName+'"')}}var ptr=rawConstructor();for(fieldName in fields){fields[fieldName].write(ptr,o[fieldName])}if(destructors!==null){destructors.push(rawDestructor,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:rawDestructor}]})}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size)}}function registerType(rawType,registeredInstance,options){options=options||{};if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance")}var name=registeredInstance.name;if(!rawType){throwBindingError('type "'+name+'" must have a positive integer typeid pointer')}if(registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations){return}else{throwBindingError("Cannot register type '"+name+"' twice")}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){cb()})}}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(wt){return!!wt},"toWireType":function(destructors,o){return o?trueValue:falseValue},"argPackAdvance":8,"readValueFromPointer":function(pointer){var heap;if(size===1){heap=HEAP8}else if(size===2){heap=HEAP16}else if(size===4){heap=HEAP32}else{throw new TypeError("Unknown boolean type size: "+name)}return this["fromWireType"](heap[pointer>>shift])},destructorFunction:null})}function ClassHandle_isAliasOf(other){if(!(this instanceof ClassHandle)){return false}if(!(other instanceof ClassHandle)){return false}var leftClass=this.$$.ptrType.registeredClass;var left=this.$$.ptr;var rightClass=other.$$.ptrType.registeredClass;var right=other.$$.ptr;while(leftClass.baseClass){left=leftClass.upcast(left);leftClass=leftClass.baseClass}while(rightClass.baseClass){right=rightClass.upcast(right);rightClass=rightClass.baseClass}return leftClass===rightClass&&left===right}function shallowCopyInternalPointer(o){return{count:o.count,deleteScheduled:o.deleteScheduled,preservePointerOnDelete:o.preservePointerOnDelete,ptr:o.ptr,ptrType:o.ptrType,smartPtr:o.smartPtr,smartPtrType:o.smartPtrType}}function throwInstanceAlreadyDeleted(obj){function getInstanceTypeName(handle){return handle.$$.ptrType.registeredClass.name}throwBindingError(getInstanceTypeName(obj)+" instance already deleted")}function ClassHandle_clone(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.preservePointerOnDelete){this.$$.count.value+=1;return this}else{var clone=attachFinalizer(Object.create(Object.getPrototypeOf(this),{$$:{value:shallowCopyInternalPointer(this.$$)}}));clone.$$.count.value+=1;clone.$$.deleteScheduled=false;return clone}}function ClassHandle_delete(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}detachFinalizer(this);releaseClassHandle(this.$$);if(!this.$$.preservePointerOnDelete){this.$$.smartPtr=undefined;this.$$.ptr=undefined}}function ClassHandle_isDeleted(){return!this.$$.ptr}function ClassHandle_deleteLater(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}deletionQueue.push(this);if(deletionQueue.length===1&&delayFunction){delayFunction(flushPendingDeletes)}this.$$.deleteScheduled=true;return this}function init_ClassHandle(){ClassHandle.prototype["isAliasOf"]=ClassHandle_isAliasOf;ClassHandle.prototype["clone"]=ClassHandle_clone;ClassHandle.prototype["delete"]=ClassHandle_delete;ClassHandle.prototype["isDeleted"]=ClassHandle_isDeleted;ClassHandle.prototype["deleteLater"]=ClassHandle_deleteLater}function ClassHandle(){}var registeredPointers={};function ensureOverloadTable(proto,methodName,humanName){if(undefined===proto[methodName].overloadTable){var prevFunc=proto[methodName];proto[methodName]=function(){if(!proto[methodName].overloadTable.hasOwnProperty(arguments.length)){throwBindingError("Function '"+humanName+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+proto[methodName].overloadTable+")!")}return proto[methodName].overloadTable[arguments.length].apply(this,arguments)};proto[methodName].overloadTable=[];proto[methodName].overloadTable[prevFunc.argCount]=prevFunc}}function exposePublicSymbol(name,value,numArguments){if(Module.hasOwnProperty(name)){if(undefined===numArguments||undefined!==Module[name].overloadTable&&undefined!==Module[name].overloadTable[numArguments]){throwBindingError("Cannot register public name '"+name+"' twice")}ensureOverloadTable(Module,name,name);if(Module.hasOwnProperty(numArguments)){throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+numArguments+")!")}Module[name].overloadTable[numArguments]=value}else{Module[name]=value;if(undefined!==numArguments){Module[name].numArguments=numArguments}}}function RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast){this.name=name;this.constructor=constructor;this.instancePrototype=instancePrototype;this.rawDestructor=rawDestructor;this.baseClass=baseClass;this.getActualType=getActualType;this.upcast=upcast;this.downcast=downcast;this.pureVirtualFunctions=[]}function upcastPointer(ptr,ptrClass,desiredClass){while(ptrClass!==desiredClass){if(!ptrClass.upcast){throwBindingError("Expected null or instance of "+desiredClass.name+", got an instance of "+ptrClass.name)}ptr=ptrClass.upcast(ptr);ptrClass=ptrClass.baseClass}return ptr}function constNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function genericPointerToWireType(destructors,handle){var ptr;if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}if(this.isSmartPointer){ptr=this.rawConstructor();if(destructors!==null){destructors.push(this.rawDestructor,ptr)}return ptr}else{return 0}}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(!this.isConst&&handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);if(this.isSmartPointer){if(undefined===handle.$$.smartPtr){throwBindingError("Passing raw pointer to smart pointer is illegal")}switch(this.sharingPolicy){case 0:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}break;case 1:ptr=handle.$$.smartPtr;break;case 2:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{var clonedHandle=handle["clone"]();ptr=this.rawShare(ptr,__emval_register(function(){clonedHandle["delete"]()}));if(destructors!==null){destructors.push(this.rawDestructor,ptr)}}break;default:throwBindingError("Unsupporting sharing policy")}}return ptr}function nonConstNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+handle.$$.ptrType.name+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function RegisteredPointer_getPointee(ptr){if(this.rawGetPointee){ptr=this.rawGetPointee(ptr)}return ptr}function RegisteredPointer_destructor(ptr){if(this.rawDestructor){this.rawDestructor(ptr)}}function RegisteredPointer_deleteObject(handle){if(handle!==null){handle["delete"]()}}function downcastPointer(ptr,ptrClass,desiredClass){if(ptrClass===desiredClass){return ptr}if(undefined===desiredClass.baseClass){return null}var rv=downcastPointer(ptr,ptrClass,desiredClass.baseClass);if(rv===null){return null}return desiredClass.downcast(rv)}function getInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);return registeredInstances[ptr]}function makeClassHandle(prototype,record){if(!record.ptrType||!record.ptr){throwInternalError("makeClassHandle requires ptr and ptrType")}var hasSmartPtrType=!!record.smartPtrType;var hasSmartPtr=!!record.smartPtr;if(hasSmartPtrType!==hasSmartPtr){throwInternalError("Both smartPtrType and smartPtr must be specified")}record.count={value:1};return attachFinalizer(Object.create(prototype,{$$:{value:record}}))}function RegisteredPointer_fromWireType(ptr){var rawPointer=this.getPointee(ptr);if(!rawPointer){this.destructor(ptr);return null}var registeredInstance=getInheritedInstance(this.registeredClass,rawPointer);if(undefined!==registeredInstance){if(0===registeredInstance.$$.count.value){registeredInstance.$$.ptr=rawPointer;registeredInstance.$$.smartPtr=ptr;return registeredInstance["clone"]()}else{var rv=registeredInstance["clone"]();this.destructor(ptr);return rv}}function makeDefaultHandle(){if(this.isSmartPointer){return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:rawPointer,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this,ptr:ptr})}}var actualType=this.registeredClass.getActualType(rawPointer);var registeredPointerRecord=registeredPointers[actualType];if(!registeredPointerRecord){return makeDefaultHandle.call(this)}var toType;if(this.isConst){toType=registeredPointerRecord.constPointerType}else{toType=registeredPointerRecord.pointerType}var dp=downcastPointer(rawPointer,this.registeredClass,toType.registeredClass);if(dp===null){return makeDefaultHandle.call(this)}if(this.isSmartPointer){return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp})}}function init_RegisteredPointer(){RegisteredPointer.prototype.getPointee=RegisteredPointer_getPointee;RegisteredPointer.prototype.destructor=RegisteredPointer_destructor;RegisteredPointer.prototype["argPackAdvance"]=8;RegisteredPointer.prototype["readValueFromPointer"]=simpleReadValueFromPointer;RegisteredPointer.prototype["deleteObject"]=RegisteredPointer_deleteObject;RegisteredPointer.prototype["fromWireType"]=RegisteredPointer_fromWireType}function RegisteredPointer(name,registeredClass,isReference,isConst,isSmartPointer,pointeeType,sharingPolicy,rawGetPointee,rawConstructor,rawShare,rawDestructor){this.name=name;this.registeredClass=registeredClass;this.isReference=isReference;this.isConst=isConst;this.isSmartPointer=isSmartPointer;this.pointeeType=pointeeType;this.sharingPolicy=sharingPolicy;this.rawGetPointee=rawGetPointee;this.rawConstructor=rawConstructor;this.rawShare=rawShare;this.rawDestructor=rawDestructor;if(!isSmartPointer&&registeredClass.baseClass===undefined){if(isConst){this["toWireType"]=constNoSmartPtrRawPointerToWireType;this.destructorFunction=null}else{this["toWireType"]=nonConstNoSmartPtrRawPointerToWireType;this.destructorFunction=null}}else{this["toWireType"]=genericPointerToWireType}}function replacePublicSymbol(name,value,numArguments){if(!Module.hasOwnProperty(name)){throwInternalError("Replacing nonexistant public symbol")}if(undefined!==Module[name].overloadTable&&undefined!==numArguments){Module[name].overloadTable[numArguments]=value}else{Module[name]=value;Module[name].argCount=numArguments}}function dynCallLegacy(sig,ptr,args){assert("dynCall_"+sig in Module,"bad function pointer type - no table for sig '"+sig+"'");if(args&&args.length){assert(args.length===sig.substring(1).replace(/j/g,"--").length)}else{assert(sig.length==1)}var f=Module["dynCall_"+sig];return args&&args.length?f.apply(null,[ptr].concat(args)):f.call(null,ptr)}function dynCall(sig,ptr,args){if(sig.indexOf("j")!=-1){return dynCallLegacy(sig,ptr,args)}assert(wasmTable.get(ptr),"missing table entry in dynCall: "+ptr);return wasmTable.get(ptr).apply(null,args)}function getDynCaller(sig,ptr){assert(sig.indexOf("j")>=0,"getDynCaller should only be called with i64 sigs");var argCache=[];return function(){argCache.length=arguments.length;for(var i=0;i<arguments.length;i++){argCache[i]=arguments[i]}return dynCall(sig,ptr,argCache)}}function embind__requireFunction(signature,rawFunction){signature=readLatin1String(signature);function makeDynCaller(){if(signature.indexOf("j")!=-1){return getDynCaller(signature,rawFunction)}return wasmTable.get(rawFunction)}var fp=makeDynCaller();if(typeof fp!=="function"){throwBindingError("unknown function pointer with signature "+signature+": "+rawFunction)}return fp}var UnboundTypeError=undefined;function throwUnboundTypeError(message,types){var unboundTypes=[];var seen={};function visit(type){if(seen[type]){return}if(registeredTypes[type]){return}if(typeDependencies[type]){typeDependencies[type].forEach(visit);return}unboundTypes.push(type);seen[type]=true}types.forEach(visit);throw new UnboundTypeError(message+": "+unboundTypes.map(getTypeName).join([", "]))}function __embind_register_class(rawType,rawPointerType,rawConstPointerType,baseClassRawType,getActualTypeSignature,getActualType,upcastSignature,upcast,downcastSignature,downcast,name,destructorSignature,rawDestructor){name=readLatin1String(name);getActualType=embind__requireFunction(getActualTypeSignature,getActualType);if(upcast){upcast=embind__requireFunction(upcastSignature,upcast)}if(downcast){downcast=embind__requireFunction(downcastSignature,downcast)}rawDestructor=embind__requireFunction(destructorSignature,rawDestructor);var legalFunctionName=makeLegalFunctionName(name);exposePublicSymbol(legalFunctionName,function(){throwUnboundTypeError("Cannot construct "+name+" due to unbound types",[baseClassRawType])});whenDependentTypesAreResolved([rawType,rawPointerType,rawConstPointerType],baseClassRawType?[baseClassRawType]:[],function(base){base=base[0];var baseClass;var basePrototype;if(baseClassRawType){baseClass=base.registeredClass;basePrototype=baseClass.instancePrototype}else{basePrototype=ClassHandle.prototype}var constructor=createNamedFunction(legalFunctionName,function(){if(Object.getPrototypeOf(this)!==instancePrototype){throw new BindingError("Use 'new' to construct "+name)}if(undefined===registeredClass.constructor_body){throw new BindingError(name+" has no accessible constructor")}var body=registeredClass.constructor_body[arguments.length];if(undefined===body){throw new BindingError("Tried to invoke ctor of "+name+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(registeredClass.constructor_body).toString()+") parameters instead!")}return body.apply(this,arguments)});var instancePrototype=Object.create(basePrototype,{constructor:{value:constructor}});constructor.prototype=instancePrototype;var registeredClass=new RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast);var referenceConverter=new RegisteredPointer(name,registeredClass,true,false,false);var pointerConverter=new RegisteredPointer(name+"*",registeredClass,false,false,false);var constPointerConverter=new RegisteredPointer(name+" const*",registeredClass,false,true,false);registeredPointers[rawType]={pointerType:pointerConverter,constPointerType:constPointerConverter};replacePublicSymbol(legalFunctionName,constructor);return[referenceConverter,pointerConverter,constPointerConverter]})}function new_(constructor,argumentList){if(!(constructor instanceof Function)){throw new TypeError("new_ called with constructor type "+typeof constructor+" which is not a function")}var dummy=createNamedFunction(constructor.name||"unknownFunctionName",function(){});dummy.prototype=constructor.prototype;var obj=new dummy;var r=constructor.apply(obj,argumentList);return r instanceof Object?r:obj}function craftInvokerFunction(humanName,argTypes,classType,cppInvokerFunc,cppTargetFunc){var argCount=argTypes.length;if(argCount<2){throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!")}var isClassMethodFunc=argTypes[1]!==null&&classType!==null;var needsDestructorStack=false;for(var i=1;i<argTypes.length;++i){if(argTypes[i]!==null&&argTypes[i].destructorFunction===undefined){needsDestructorStack=true;break}}var returns=argTypes[0].name!=="void";var argsList="";var argsListWired="";for(var i=0;i<argCount-2;++i){argsList+=(i!==0?", ":"")+"arg"+i;argsListWired+=(i!==0?", ":"")+"arg"+i+"Wired"}var invokerFnBody="return function "+makeLegalFunctionName(humanName)+"("+argsList+") {\n"+"if (arguments.length !== "+(argCount-2)+") {\n"+"throwBindingError('function "+humanName+" called with ' + arguments.length + ' arguments, expected "+(argCount-2)+" args!');\n"+"}\n";if(needsDestructorStack){invokerFnBody+="var destructors = [];\n"}var dtorStack=needsDestructorStack?"destructors":"null";var args1=["throwBindingError","invoker","fn","runDestructors","retType","classParam"];var args2=[throwBindingError,cppInvokerFunc,cppTargetFunc,runDestructors,argTypes[0],argTypes[1]];if(isClassMethodFunc){invokerFnBody+="var thisWired = classParam.toWireType("+dtorStack+", this);\n"}for(var i=0;i<argCount-2;++i){invokerFnBody+="var arg"+i+"Wired = argType"+i+".toWireType("+dtorStack+", arg"+i+"); // "+argTypes[i+2].name+"\n";args1.push("argType"+i);args2.push(argTypes[i+2])}if(isClassMethodFunc){argsListWired="thisWired"+(argsListWired.length>0?", ":"")+argsListWired}invokerFnBody+=(returns?"var rv = ":"")+"invoker(fn"+(argsListWired.length>0?", ":"")+argsListWired+");\n";if(needsDestructorStack){invokerFnBody+="runDestructors(destructors);\n"}else{for(var i=isClassMethodFunc?1:2;i<argTypes.length;++i){var paramName=i===1?"thisWired":"arg"+(i-2)+"Wired";if(argTypes[i].destructorFunction!==null){invokerFnBody+=paramName+"_dtor("+paramName+"); // "+argTypes[i].name+"\n";args1.push(paramName+"_dtor");args2.push(argTypes[i].destructorFunction)}}}if(returns){invokerFnBody+="var ret = retType.fromWireType(rv);\n"+"return ret;\n"}else{}invokerFnBody+="}\n";args1.push(invokerFnBody);var invokerFunction=new_(Function,args1).apply(null,args2);return invokerFunction}function heap32VectorToArray(count,firstElement){var array=[];for(var i=0;i<count;i++){array.push(HEAP32[(firstElement>>2)+i])}return array}function __embind_register_class_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,fn){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.constructor;if(undefined===proto[methodName]){unboundTypesHandler.argCount=argCount-1;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-1]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));var func=craftInvokerFunction(humanName,invokerArgsArray,null,rawInvoker,fn);if(undefined===proto[methodName].overloadTable){func.argCount=argCount-1;proto[methodName]=func}else{proto[methodName].overloadTable[argCount-1]=func}return[]});return[]})}function __embind_register_class_constructor(rawClassType,argCount,rawArgTypesAddr,invokerSignature,invoker,rawConstructor){assert(argCount>0);var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);invoker=embind__requireFunction(invokerSignature,invoker);var args=[rawConstructor];var destructors=[];whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName="constructor "+classType.name;if(undefined===classType.registeredClass.constructor_body){classType.registeredClass.constructor_body=[]}if(undefined!==classType.registeredClass.constructor_body[argCount-1]){throw new BindingError("Cannot register multiple constructors with identical number of parameters ("+(argCount-1)+") for class '"+classType.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!")}classType.registeredClass.constructor_body[argCount-1]=function unboundTypeHandler(){throwUnboundTypeError("Cannot construct "+classType.name+" due to unbound types",rawArgTypes)};whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){classType.registeredClass.constructor_body[argCount-1]=function constructor_body(){if(arguments.length!==argCount-1){throwBindingError(humanName+" called with "+arguments.length+" arguments, expected "+(argCount-1))}destructors.length=0;args.length=argCount;for(var i=1;i<argCount;++i){args[i]=argTypes[i]["toWireType"](destructors,arguments[i-1])}var ptr=invoker.apply(null,args);runDestructors(destructors);return argTypes[0]["fromWireType"](ptr)};return[]});return[]})}function __embind_register_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,context,isPureVirtual){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;if(isPureVirtual){classType.registeredClass.pureVirtualFunctions.push(methodName)}function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.instancePrototype;var method=proto[methodName];if(undefined===method||undefined===method.overloadTable&&method.className!==classType.name&&method.argCount===argCount-2){unboundTypesHandler.argCount=argCount-2;unboundTypesHandler.className=classType.name;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-2]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var memberFunction=craftInvokerFunction(humanName,argTypes,classType,rawInvoker,context);if(undefined===proto[methodName].overloadTable){memberFunction.argCount=argCount-2;proto[methodName]=memberFunction}else{proto[methodName].overloadTable[argCount-2]=memberFunction}return[]});return[]})}function validateThis(this_,classType,humanName){if(!(this_ instanceof Object)){throwBindingError(humanName+' with invalid "this": '+this_)}if(!(this_ instanceof classType.registeredClass.constructor)){throwBindingError(humanName+' incompatible with "this" of type '+this_.constructor.name)}if(!this_.$$.ptr){throwBindingError("cannot call emscripten binding method "+humanName+" on deleted object")}return upcastPointer(this_.$$.ptr,this_.$$.ptrType.registeredClass,classType.registeredClass)}function __embind_register_class_property(classType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){fieldName=readLatin1String(fieldName);getter=embind__requireFunction(getterSignature,getter);whenDependentTypesAreResolved([],[classType],function(classType){classType=classType[0];var humanName=classType.name+"."+fieldName;var desc={get:function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])},enumerable:true,configurable:true};if(setter){desc.set=function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])}}else{desc.set=function(v){throwBindingError(humanName+" is a read-only property")}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);whenDependentTypesAreResolved([],setter?[getterReturnType,setterArgumentType]:[getterReturnType],function(types){var getterReturnType=types[0];var desc={get:function(){var ptr=validateThis(this,classType,humanName+" getter");return getterReturnType["fromWireType"](getter(getterContext,ptr))},enumerable:true};if(setter){setter=embind__requireFunction(setterSignature,setter);var setterArgumentType=types[1];desc.set=function(v){var ptr=validateThis(this,classType,humanName+" setter");var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,v));runDestructors(destructors)}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);return[]});return[]})}function __emval_decref(handle){if(handle>4&&0===--emval_handle_array[handle].refcount){emval_handle_array[handle]=undefined;emval_free_list.push(handle)}}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(handle){var rv=emval_handle_array[handle].value;__emval_decref(handle);return rv},"toWireType":function(destructors,value){return __emval_register(value)},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null})}function _embind_repr(v){if(v===null){return"null"}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString()}else{return""+v}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2])};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3])};default:throw new TypeError("Unknown float type: "+name)}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(value){return value},"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}return value},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null})}function __embind_register_function(name,argCount,rawArgTypesAddr,signature,rawInvoker,fn){var argTypes=heap32VectorToArray(argCount,rawArgTypesAddr);name=readLatin1String(name);rawInvoker=embind__requireFunction(signature,rawInvoker);exposePublicSymbol(name,function(){throwUnboundTypeError("Cannot call "+name+" due to unbound types",argTypes)},argCount-1);whenDependentTypesAreResolved([],argTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));replacePublicSymbol(name,craftInvokerFunction(name,invokerArgsArray,null,rawInvoker,fn),argCount-1);return[]})}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer]}:function readU8FromPointer(pointer){return HEAPU8[pointer]};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1]}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1]};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2]}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2]};default:throw new TypeError("Unknown integer type: "+name)}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295}var shift=getShiftFromSize(size);var fromWireType=function(value){return value};if(minRange===0){var bitshift=32-8*size;fromWireType=function(value){return value<<bitshift>>>bitshift}}var isUnsignedType=name.indexOf("unsigned")!=-1;registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}if(value<minRange||value>maxRange){throw new TypeError('Passing a number "'+_embind_repr(value)+'" from JS side to C/C++ side to an argument of type "'+name+'", which is outside the valid range ['+minRange+", "+maxRange+"]!")}return isUnsignedType?value>>>0:value|0},"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null})}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(buffer,data,size)}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true})}function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var str;if(stdStringIsUTF8){var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+1}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[value+4+i])}str=a.join("")}_free(value);return str},"toWireType":function(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value)}var getLength;var valueIsOfTypeString=typeof value==="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string")}if(stdStringIsUTF8&&valueIsOfTypeString){getLength=function(){return lengthBytesUTF8(value)}}else{getLength=function(){return value.length}}var length=getLength();var ptr=_malloc(4+length+1);HEAPU32[ptr>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr+4,length+1)}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits")}HEAPU8[ptr+4+i]=charCode}}else{for(var i=0;i<length;++i){HEAPU8[ptr+4+i]=value[i]}}}if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function(){return HEAPU16};shift=1}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function(){return HEAPU32};shift=2}registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+charSize}}_free(value);return str},"toWireType":function(destructors,value){if(!(typeof value==="string")){throwBindingError("Cannot pass non-string to C++ string type "+name)}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_value_object(rawType,name,constructorSignature,rawConstructor,destructorSignature,rawDestructor){structRegistrations[rawType]={name:readLatin1String(name),rawConstructor:embind__requireFunction(constructorSignature,rawConstructor),rawDestructor:embind__requireFunction(destructorSignature,rawDestructor),fields:[]}}function __embind_register_value_object_field(structType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){structRegistrations[structType].fields.push({fieldName:readLatin1String(fieldName),getterReturnType:getterReturnType,getter:embind__requireFunction(getterSignature,getter),getterContext:getterContext,setterArgumentType:setterArgumentType,setter:embind__requireFunction(setterSignature,setter),setterContext:setterContext})}function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function(){return undefined},"toWireType":function(destructors,o){return undefined}})}var emval_symbols={};function getStringOrSymbol(address){var symbol=emval_symbols[address];if(symbol===undefined){return readLatin1String(address)}else{return symbol}}var emval_methodCallers=[];function __emval_call_void_method(caller,handle,methodName,args){caller=emval_methodCallers[caller];handle=requireHandle(handle);methodName=getStringOrSymbol(methodName);caller(handle,methodName,null,args)}function __emval_addMethodCaller(caller){var id=emval_methodCallers.length;emval_methodCallers.push(caller);return id}function __emval_lookupTypes(argCount,argTypes){var a=new Array(argCount);for(var i=0;i<argCount;++i){a[i]=requireRegisteredType(HEAP32[(argTypes>>2)+i],"parameter "+i)}return a}function __emval_get_method_caller(argCount,argTypes){var types=__emval_lookupTypes(argCount,argTypes);var retType=types[0];var signatureName=retType.name+"_$"+types.slice(1).map(function(t){return t.name}).join("_")+"$";var params=["retType"];var args=[retType];var argsList="";for(var i=0;i<argCount-1;++i){argsList+=(i!==0?", ":"")+"arg"+i;params.push("argType"+i);args.push(types[1+i])}var functionName=makeLegalFunctionName("methodCaller_"+signatureName);var functionBody="return function "+functionName+"(handle, name, destructors, args) {\n";var offset=0;for(var i=0;i<argCount-1;++i){functionBody+="    var arg"+i+" = argType"+i+".readValueFromPointer(args"+(offset?"+"+offset:"")+");\n";offset+=types[i+1]["argPackAdvance"]}functionBody+="    var rv = handle[name]("+argsList+");\n";for(var i=0;i<argCount-1;++i){if(types[i+1]["deleteObject"]){functionBody+="    argType"+i+".deleteObject(arg"+i+");\n"}}if(!retType.isVoid){functionBody+="    return retType.toWireType(destructors, rv);\n"}functionBody+="};\n";params.push(functionBody);var invokerFunction=new_(Function,params).apply(null,args);return __emval_addMethodCaller(invokerFunction)}function __emval_incref(handle){if(handle>4){emval_handle_array[handle].refcount+=1}}function __emval_take_value(type,argv){type=requireRegisteredType(type,"_emval_take_value");var v=type["readValueFromPointer"](argv);return __emval_register(v)}function __exit(a0){return _exit(a0)}function _abort(){abort()}var _emscripten_get_now_is_monotonic=true;function _clock_gettime(clk_id,tp){var now;if(clk_id===0){now=Date.now()}else if((clk_id===1||clk_id===4)&&_emscripten_get_now_is_monotonic){now=_emscripten_get_now()}else{setErrNo(28);return-1}HEAP32[tp>>2]=now/1e3|0;HEAP32[tp+4>>2]=now%1e3*1e3*1e3|0;return 0}function _dlopen(filename,flag){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function _dlsym(handle,symbol){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}var EGL={errorCode:12288,defaultDisplayInitialized:false,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:false,depth:false,stencil:false,antialias:false},stringCache:{},setErrorCode:function(code){EGL.errorCode=code},chooseConfig:function(display,attribList,config,config_size,numConfigs){if(display!=62e3){EGL.setErrorCode(12296);return 0}if(attribList){for(;;){var param=HEAP32[attribList>>2];if(param==12321){var alphaSize=HEAP32[attribList+4>>2];EGL.contextAttributes.alpha=alphaSize>0}else if(param==12325){var depthSize=HEAP32[attribList+4>>2];EGL.contextAttributes.depth=depthSize>0}else if(param==12326){var stencilSize=HEAP32[attribList+4>>2];EGL.contextAttributes.stencil=stencilSize>0}else if(param==12337){var samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=samples>0}else if(param==12338){var samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=samples==1}else if(param==12544){var requestedPriority=HEAP32[attribList+4>>2];EGL.contextAttributes.lowLatency=requestedPriority!=12547}else if(param==12344){break}attribList+=8}}if((!config||!config_size)&&!numConfigs){EGL.setErrorCode(12300);return 0}if(numConfigs){HEAP32[numConfigs>>2]=1}if(config&&config_size>0){HEAP32[config>>2]=62002}EGL.setErrorCode(12288);return 1}};function _eglGetCurrentContext(){return EGL.currentContext}function _eglGetDisplay(nativeDisplayType){EGL.setErrorCode(12288);return 62e3}function _eglQueryContext(display,context,attribute,value){if(display!=62e3){EGL.setErrorCode(12296);return 0}if(context!=62004){EGL.setErrorCode(12294);return 0}if(!value){EGL.setErrorCode(12300);return 0}EGL.setErrorCode(12288);switch(attribute){case 12328:HEAP32[value>>2]=62002;return 1;case 12439:HEAP32[value>>2]=12448;return 1;case 12440:HEAP32[value>>2]=EGL.contextAttributes.majorVersion+1;return 1;case 12422:HEAP32[value>>2]=12420;return 1;default:EGL.setErrorCode(12292);return 0}}function _emscripten_asm_const_int(code,sigPtr,argbuf){var args=readAsmConstArgs(sigPtr,argbuf);if(!ASM_CONSTS.hasOwnProperty(code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args)}function _emscripten_async_call(func,arg,millis){function wrapper(){wasmTable.get(func)(arg)}if(millis>=0){Browser.safeSetTimeout(wrapper,millis)}else{Browser.safeRequestAnimationFrame(wrapper)}}function _emscripten_get_heap_max(){return 2147483648}function _longjmp(env,value){_setThrew(env,value||1);throw"longjmp"}function _emscripten_longjmp(a0,a1){return _longjmp(a0,a1)}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+buffer.byteLength+" bytes to "+size+" bytes, but got error: "+e)}}function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;assert(requestedSize>oldSize);var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false}function _emscripten_thread_sleep(msecs){var start=_emscripten_get_now();while(_emscripten_get_now()-start<msecs){}}function __webgl_enable_ANGLE_instanced_arrays(ctx){var ext=ctx.getExtension("ANGLE_instanced_arrays");if(ext){ctx["vertexAttribDivisor"]=function(index,divisor){ext["vertexAttribDivisorANGLE"](index,divisor)};ctx["drawArraysInstanced"]=function(mode,first,count,primcount){ext["drawArraysInstancedANGLE"](mode,first,count,primcount)};ctx["drawElementsInstanced"]=function(mode,count,type,indices,primcount){ext["drawElementsInstancedANGLE"](mode,count,type,indices,primcount)};return 1}}function __webgl_enable_OES_vertex_array_object(ctx){var ext=ctx.getExtension("OES_vertex_array_object");if(ext){ctx["createVertexArray"]=function(){return ext["createVertexArrayOES"]()};ctx["deleteVertexArray"]=function(vao){ext["deleteVertexArrayOES"](vao)};ctx["bindVertexArray"]=function(vao){ext["bindVertexArrayOES"](vao)};ctx["isVertexArray"]=function(vao){return ext["isVertexArrayOES"](vao)};return 1}}function __webgl_enable_WEBGL_draw_buffers(ctx){var ext=ctx.getExtension("WEBGL_draw_buffers");if(ext){ctx["drawBuffers"]=function(n,bufs){ext["drawBuffersWEBGL"](n,bufs)};return 1}}function __webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.dibvbi=ctx.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.mdibvbi=ctx.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw(ctx){return!!(ctx.multiDrawWebgl=ctx.getExtension("WEBGL_multi_draw"))}var GL={counter:1,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function recordError(errorCode){if(!GL.lastError){GL.lastError=errorCode}},getNewId:function(table){var ret=GL.counter++;for(var i=table.length;i<ret;i++){table[i]=null}return ret},MAX_TEMP_BUFFER_SIZE:2097152,numTempVertexBuffersPerSize:64,log2ceilLookup:function(i){return 32-Math.clz32(i===0?0:i-1)},generateTempBuffers:function(quads,context){var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);context.tempVertexBufferCounters1=[];context.tempVertexBufferCounters2=[];context.tempVertexBufferCounters1.length=context.tempVertexBufferCounters2.length=largestIndex+1;context.tempVertexBuffers1=[];context.tempVertexBuffers2=[];context.tempVertexBuffers1.length=context.tempVertexBuffers2.length=largestIndex+1;context.tempIndexBuffers=[];context.tempIndexBuffers.length=largestIndex+1;for(var i=0;i<=largestIndex;++i){context.tempIndexBuffers[i]=null;context.tempVertexBufferCounters1[i]=context.tempVertexBufferCounters2[i]=0;var ringbufferLength=GL.numTempVertexBuffersPerSize;context.tempVertexBuffers1[i]=[];context.tempVertexBuffers2[i]=[];var ringbuffer1=context.tempVertexBuffers1[i];var ringbuffer2=context.tempVertexBuffers2[i];ringbuffer1.length=ringbuffer2.length=ringbufferLength;for(var j=0;j<ringbufferLength;++j){ringbuffer1[j]=ringbuffer2[j]=null}}if(quads){context.tempQuadIndexBuffer=GLctx.createBuffer();context.GLctx.bindBuffer(34963,context.tempQuadIndexBuffer);var numIndexes=GL.MAX_TEMP_BUFFER_SIZE>>1;var quadIndexes=new Uint16Array(numIndexes);var i=0,v=0;while(1){quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+1;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v+3;if(i>=numIndexes)break;v+=4}context.GLctx.bufferData(34963,quadIndexes,35044);context.GLctx.bindBuffer(34963,null)}},getTempVertexBuffer:function getTempVertexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ringbuffer=GL.currentContext.tempVertexBuffers1[idx];var nextFreeBufferIndex=GL.currentContext.tempVertexBufferCounters1[idx];GL.currentContext.tempVertexBufferCounters1[idx]=GL.currentContext.tempVertexBufferCounters1[idx]+1&GL.numTempVertexBuffersPerSize-1;var vbo=ringbuffer[nextFreeBufferIndex];if(vbo){return vbo}var prevVBO=GLctx.getParameter(34964);ringbuffer[nextFreeBufferIndex]=GLctx.createBuffer();GLctx.bindBuffer(34962,ringbuffer[nextFreeBufferIndex]);GLctx.bufferData(34962,1<<idx,35048);GLctx.bindBuffer(34962,prevVBO);return ringbuffer[nextFreeBufferIndex]},getTempIndexBuffer:function getTempIndexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ibo=GL.currentContext.tempIndexBuffers[idx];if(ibo){return ibo}var prevIBO=GLctx.getParameter(34965);GL.currentContext.tempIndexBuffers[idx]=GLctx.createBuffer();GLctx.bindBuffer(34963,GL.currentContext.tempIndexBuffers[idx]);GLctx.bufferData(34963,1<<idx,35048);GLctx.bindBuffer(34963,prevIBO);return GL.currentContext.tempIndexBuffers[idx]},newRenderingFrameStarted:function newRenderingFrameStarted(){if(!GL.currentContext){return}var vb=GL.currentContext.tempVertexBuffers1;GL.currentContext.tempVertexBuffers1=GL.currentContext.tempVertexBuffers2;GL.currentContext.tempVertexBuffers2=vb;vb=GL.currentContext.tempVertexBufferCounters1;GL.currentContext.tempVertexBufferCounters1=GL.currentContext.tempVertexBufferCounters2;GL.currentContext.tempVertexBufferCounters2=vb;var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);for(var i=0;i<=largestIndex;++i){GL.currentContext.tempVertexBufferCounters1[i]=0}},getSource:function(shader,count,string,length){var source="";for(var i=0;i<count;++i){var len=length?HEAP32[length+i*4>>2]:-1;source+=UTF8ToString(HEAP32[string+i*4>>2],len<0?undefined:len)}return source},calcBufLength:function calcBufLength(size,type,stride,count){if(stride>0){return count*stride}var typeSize=GL.byteSizeByType[type-GL.byteSizeByTypeRoot];return size*typeSize*count},usedTempBuffers:[],preDrawHandleClientVertexAttribBindings:function preDrawHandleClientVertexAttribBindings(count){GL.resetBufferBinding=false;for(var i=0;i<GL.currentContext.maxVertexAttribs;++i){var cb=GL.currentContext.clientBuffers[i];if(!cb.clientside||!cb.enabled)continue;GL.resetBufferBinding=true;var size=GL.calcBufLength(cb.size,cb.type,cb.stride,count);var buf=GL.getTempVertexBuffer(size);GLctx.bindBuffer(34962,buf);GLctx.bufferSubData(34962,0,HEAPU8.subarray(cb.ptr,cb.ptr+size));cb.vertexAttribPointerAdaptor.call(GLctx,i,cb.size,cb.type,cb.normalized,cb.stride,0)}},postDrawHandleClientVertexAttribBindings:function postDrawHandleClientVertexAttribBindings(){if(GL.resetBufferBinding){GLctx.bindBuffer(34962,GL.buffers[GLctx.currentArrayBufferBinding])}},createContext:function(canvas,webGLContextAttributes){if(!canvas.getContextSafariWebGL2Fixed){canvas.getContextSafariWebGL2Fixed=canvas.getContext;canvas.getContext=function(ver,attrs){var gl=canvas.getContextSafariWebGL2Fixed(ver,attrs);return ver=="webgl"==gl instanceof WebGLRenderingContext?gl:null}}var ctx=webGLContextAttributes.majorVersion>1?canvas.getContext("webgl2",webGLContextAttributes):canvas.getContext("webgl",webGLContextAttributes);if(!ctx)return 0;var handle=GL.registerContext(ctx,webGLContextAttributes);return handle},registerContext:function(ctx,webGLContextAttributes){var handle=GL.getNewId(GL.contexts);var context={handle:handle,attributes:webGLContextAttributes,version:webGLContextAttributes.majorVersion,GLctx:ctx};if(ctx.canvas)ctx.canvas.GLctxObject=context;GL.contexts[handle]=context;if(typeof webGLContextAttributes.enableExtensionsByDefault==="undefined"||webGLContextAttributes.enableExtensionsByDefault){GL.initExtensions(context)}context.maxVertexAttribs=context.GLctx.getParameter(34921);context.clientBuffers=[];for(var i=0;i<context.maxVertexAttribs;i++){context.clientBuffers[i]={enabled:false,clientside:false,size:0,type:0,normalized:0,stride:0,ptr:0,vertexAttribPointerAdaptor:null}}GL.generateTempBuffers(false,context);return handle},makeContextCurrent:function(contextHandle){GL.currentContext=GL.contexts[contextHandle];Module.ctx=GLctx=GL.currentContext&&GL.currentContext.GLctx;return!(contextHandle&&!GLctx)},getContext:function(contextHandle){return GL.contexts[contextHandle]},deleteContext:function(contextHandle){if(GL.currentContext===GL.contexts[contextHandle])GL.currentContext=null;if(typeof JSEvents==="object")JSEvents.removeAllHandlersOnTarget(GL.contexts[contextHandle].GLctx.canvas);if(GL.contexts[contextHandle]&&GL.contexts[contextHandle].GLctx.canvas)GL.contexts[contextHandle].GLctx.canvas.GLctxObject=undefined;GL.contexts[contextHandle]=null},initExtensions:function(context){if(!context)context=GL.currentContext;if(context.initExtensionsDone)return;context.initExtensionsDone=true;var GLctx=context.GLctx;__webgl_enable_ANGLE_instanced_arrays(GLctx);__webgl_enable_OES_vertex_array_object(GLctx);__webgl_enable_WEBGL_draw_buffers(GLctx);__webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(GLctx);__webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(GLctx);GLctx.disjointTimerQueryExt=GLctx.getExtension("EXT_disjoint_timer_query");__webgl_enable_WEBGL_multi_draw(GLctx);var exts=GLctx.getSupportedExtensions()||[];exts.forEach(function(ext){if(ext.indexOf("lose_context")<0&&ext.indexOf("debug")<0){GLctx.getExtension(ext)}})},populateUniformTable:function(program){var p=GL.programs[program];var ptable=GL.programInfos[program]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var utable=ptable.uniforms;var numUniforms=GLctx.getProgramParameter(p,35718);for(var i=0;i<numUniforms;++i){var u=GLctx.getActiveUniform(p,i);var name=u.name;ptable.maxUniformLength=Math.max(ptable.maxUniformLength,name.length+1);if(name.slice(-1)=="]"){name=name.slice(0,name.lastIndexOf("["))}var loc=GLctx.getUniformLocation(p,name);if(loc){var id=GL.getNewId(GL.uniforms);utable[name]=[u.size,id];GL.uniforms[id]=loc;for(var j=1;j<u.size;++j){var n=name+"["+j+"]";loc=GLctx.getUniformLocation(p,n);id=GL.getNewId(GL.uniforms);GL.uniforms[id]=loc}}}}};var JSEvents={inEventHandler:0,removeAllEventListeners:function(){for(var i=JSEvents.eventHandlers.length-1;i>=0;--i){JSEvents._removeHandler(i)}JSEvents.eventHandlers=[];JSEvents.deferredCalls=[]},registerRemoveEventListeners:function(){if(!JSEvents.removeEventListenersRegistered){__ATEXIT__.push(JSEvents.removeAllEventListeners);JSEvents.removeEventListenersRegistered=true}},deferredCalls:[],deferCall:function(targetFunction,precedence,argsList){function arraysHaveEqualContent(arrA,arrB){if(arrA.length!=arrB.length)return false;for(var i in arrA){if(arrA[i]!=arrB[i])return false}return true}for(var i in JSEvents.deferredCalls){var call=JSEvents.deferredCalls[i];if(call.targetFunction==targetFunction&&arraysHaveEqualContent(call.argsList,argsList)){return}}JSEvents.deferredCalls.push({targetFunction:targetFunction,precedence:precedence,argsList:argsList});JSEvents.deferredCalls.sort(function(x,y){return x.precedence<y.precedence})},removeDeferredCalls:function(targetFunction){for(var i=0;i<JSEvents.deferredCalls.length;++i){if(JSEvents.deferredCalls[i].targetFunction==targetFunction){JSEvents.deferredCalls.splice(i,1);--i}}},canPerformEventHandlerRequests:function(){return JSEvents.inEventHandler&&JSEvents.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!JSEvents.canPerformEventHandlerRequests()){return}for(var i=0;i<JSEvents.deferredCalls.length;++i){var call=JSEvents.deferredCalls[i];JSEvents.deferredCalls.splice(i,1);--i;call.targetFunction.apply(null,call.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(target,eventTypeString){for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==target&&(!eventTypeString||eventTypeString==JSEvents.eventHandlers[i].eventTypeString)){JSEvents._removeHandler(i--)}}},_removeHandler:function(i){var h=JSEvents.eventHandlers[i];h.target.removeEventListener(h.eventTypeString,h.eventListenerFunc,h.useCapture);JSEvents.eventHandlers.splice(i,1)},registerOrRemoveHandler:function(eventHandler){var jsEventHandler=function jsEventHandler(event){++JSEvents.inEventHandler;JSEvents.currentEventHandler=eventHandler;JSEvents.runDeferredCalls();eventHandler.handlerFunc(event);JSEvents.runDeferredCalls();--JSEvents.inEventHandler};if(eventHandler.callbackfunc){eventHandler.eventListenerFunc=jsEventHandler;eventHandler.target.addEventListener(eventHandler.eventTypeString,jsEventHandler,eventHandler.useCapture);JSEvents.eventHandlers.push(eventHandler);JSEvents.registerRemoveEventListeners()}else{for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==eventHandler.target&&JSEvents.eventHandlers[i].eventTypeString==eventHandler.eventTypeString){JSEvents._removeHandler(i--)}}}},getNodeNameForTarget:function(target){if(!target)return"";if(target==window)return"#window";if(target==screen)return"#screen";return target&&target.nodeName?target.nodeName:""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var __emscripten_webgl_power_preferences=["default","low-power","high-performance"];var specialHTMLTargets=[0,typeof document!=="undefined"?document:0,typeof window!=="undefined"?window:0];function findEventTarget(target){warnOnce("Rules for selecting event targets in HTML5 API are changing: instead of using document.getElementById() that only can refer to elements by their DOM ID, new event target selection mechanism uses the more flexible function document.querySelector() that can look up element names, classes, and complex CSS selectors. Build with -s DISABLE_DEPRECATED_FIND_EVENT_TARGET_BEHAVIOR=1 to change to the new lookup rules. See https://github.com/emscripten-core/emscripten/pull/7977 for more details.");try{if(!target)return window;if(typeof target==="number")target=specialHTMLTargets[target]||UTF8ToString(target);if(target==="#window")return window;else if(target==="#document")return document;else if(target==="#screen")return screen;else if(target==="#canvas")return Module["canvas"];return typeof target==="string"?document.getElementById(target):target}catch(e){return null}}function findCanvasEventTarget(target){if(typeof target==="number")target=UTF8ToString(target);if(!target||target==="#canvas"){if(typeof GL!=="undefined"&&GL.offscreenCanvases["canvas"])return GL.offscreenCanvases["canvas"];return Module["canvas"]}if(typeof GL!=="undefined"&&GL.offscreenCanvases[target])return GL.offscreenCanvases[target];return findEventTarget(target)}function _emscripten_webgl_do_create_context(target,attributes){assert(attributes);var a=attributes>>2;var powerPreference=HEAP32[a+(24>>2)];var contextAttributes={"alpha":!!HEAP32[a+(0>>2)],"depth":!!HEAP32[a+(4>>2)],"stencil":!!HEAP32[a+(8>>2)],"antialias":!!HEAP32[a+(12>>2)],"premultipliedAlpha":!!HEAP32[a+(16>>2)],"preserveDrawingBuffer":!!HEAP32[a+(20>>2)],"powerPreference":__emscripten_webgl_power_preferences[powerPreference],"failIfMajorPerformanceCaveat":!!HEAP32[a+(28>>2)],majorVersion:HEAP32[a+(32>>2)],minorVersion:HEAP32[a+(36>>2)],enableExtensionsByDefault:HEAP32[a+(40>>2)],explicitSwapControl:HEAP32[a+(44>>2)],proxyContextToMainThread:HEAP32[a+(48>>2)],renderViaOffscreenBackBuffer:HEAP32[a+(52>>2)]};var canvas=findCanvasEventTarget(target);if(!canvas){return 0}if(contextAttributes.explicitSwapControl){return 0}var contextHandle=GL.createContext(canvas,contextAttributes);return contextHandle}function _emscripten_webgl_create_context(a0,a1){return _emscripten_webgl_do_create_context(a0,a1)}function _emscripten_webgl_do_get_current_context(){return GL.currentContext?GL.currentContext.handle:0}function _emscripten_webgl_get_current_context(){return _emscripten_webgl_do_get_current_context()}Module["_emscripten_webgl_get_current_context"]=_emscripten_webgl_get_current_context;function _emscripten_webgl_make_context_current(contextHandle){var success=GL.makeContextCurrent(contextHandle);return success?0:-5}Module["_emscripten_webgl_make_context_current"]=_emscripten_webgl_make_context_current;function _emscripten_webgl_destroy_context(contextHandle){if(GL.currentContext==contextHandle)GL.currentContext=0;GL.deleteContext(contextHandle)}function _emscripten_webgl_get_context_attributes(c,a){if(!a)return-5;c=GL.contexts[c];if(!c)return-3;var t=c.GLctx;if(!t)return-3;t=t.getContextAttributes();HEAP32[a>>2]=t.alpha;HEAP32[a+4>>2]=t.depth;HEAP32[a+8>>2]=t.stencil;HEAP32[a+12>>2]=t.antialias;HEAP32[a+16>>2]=t.premultipliedAlpha;HEAP32[a+20>>2]=t.preserveDrawingBuffer;var power=t["powerPreference"]&&__emscripten_webgl_power_preferences.indexOf(t["powerPreference"]);HEAP32[a+24>>2]=power;HEAP32[a+28>>2]=t.failIfMajorPerformanceCaveat;HEAP32[a+32>>2]=c.version;HEAP32[a+36>>2]=0;HEAP32[a+40>>2]=c.attributes.enableExtensionsByDefault;return 0}function _emscripten_webgl_init_context_attributes(attributes){assert(attributes);var a=attributes>>2;for(var i=0;i<56>>2;++i){HEAP32[a+i]=0}HEAP32[a+(0>>2)]=HEAP32[a+(4>>2)]=HEAP32[a+(12>>2)]=HEAP32[a+(16>>2)]=HEAP32[a+(32>>2)]=HEAP32[a+(40>>2)]=1}var ENV={};function getExecutableName(){return thisProgram||"./this.program"}function getEnvStrings(){if(!getEnvStrings.strings){var lang=(typeof navigator==="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var env={"USER":"web_user","LOGNAME":"web_user","PATH":"/","PWD":"/","HOME":"/home/web_user","LANG":lang,"_":getExecutableName()};for(var x in ENV){env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(x+"="+env[x])}getEnvStrings.strings=strings}return getEnvStrings.strings}function _environ_get(__environ,environ_buf){try{var bufSize=0;getEnvStrings().forEach(function(string,i){var ptr=environ_buf+bufSize;HEAP32[__environ+i*4>>2]=ptr;writeAsciiToMemory(string,ptr);bufSize+=string.length+1});return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _environ_sizes_get(penviron_count,penviron_buf_size){try{var strings=getEnvStrings();HEAP32[penviron_count>>2]=strings.length;var bufSize=0;strings.forEach(function(string){bufSize+=string.length+1});HEAP32[penviron_buf_size>>2]=bufSize;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_fdstat_get(fd,pbuf){try{var stream=SYSCALLS.getStreamFromFD(fd);var type=stream.tty?2:FS.isDir(stream.mode)?3:FS.isLink(stream.mode)?7:4;HEAP8[pbuf>>0]=type;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_read(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doReadv(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){try{var stream=SYSCALLS.getStreamFromFD(fd);var HIGH_OFFSET=4294967296;var offset=offset_high*HIGH_OFFSET+(offset_low>>>0);var DOUBLE_LIMIT=9007199254740992;if(offset<=-DOUBLE_LIMIT||offset>=DOUBLE_LIMIT){return-61}FS.llseek(stream,offset,whence);tempI64=[stream.position>>>0,(tempDouble=stream.position,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[newOffset>>2]=tempI64[0],HEAP32[newOffset+4>>2]=tempI64[1];if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_write(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doWritev(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _getTempRet0(){return getTempRet0()|0}function _gettimeofday(ptr){var now=Date.now();HEAP32[ptr>>2]=now/1e3|0;HEAP32[ptr+4>>2]=now%1e3*1e3|0;return 0}function _glActiveTexture(x0){GLctx["activeTexture"](x0)}function _glAttachShader(program,shader){GLctx.attachShader(GL.programs[program],GL.shaders[shader])}function _glBindAttribLocation(program,index,name){GLctx.bindAttribLocation(GL.programs[program],index,UTF8ToString(name))}function _glBindBuffer(target,buffer){if(target==34962){GLctx.currentArrayBufferBinding=buffer}else if(target==34963){GLctx.currentElementArrayBufferBinding=buffer}if(target==35051){GLctx.currentPixelPackBufferBinding=buffer}else if(target==35052){GLctx.currentPixelUnpackBufferBinding=buffer}GLctx.bindBuffer(target,GL.buffers[buffer])}function _glBindBufferBase(target,index,buffer){GLctx["bindBufferBase"](target,index,GL.buffers[buffer])}function _glBindFramebuffer(target,framebuffer){GLctx.bindFramebuffer(target,GL.framebuffers[framebuffer])}function _glBindRenderbuffer(target,renderbuffer){GLctx.bindRenderbuffer(target,GL.renderbuffers[renderbuffer])}function _glBindSampler(unit,sampler){GLctx["bindSampler"](unit,GL.samplers[sampler])}function _glBindTexture(target,texture){GLctx.bindTexture(target,GL.textures[texture])}function _glBindVertexArray(vao){GLctx["bindVertexArray"](GL.vaos[vao]);var ibo=GLctx.getParameter(34965);GLctx.currentElementArrayBufferBinding=ibo?ibo.name|0:0}function _glBlendFunc(x0,x1){GLctx["blendFunc"](x0,x1)}function _glBlendFuncSeparate(x0,x1,x2,x3){GLctx["blendFuncSeparate"](x0,x1,x2,x3)}function _glBlitFramebuffer(x0,x1,x2,x3,x4,x5,x6,x7,x8,x9){GLctx["blitFramebuffer"](x0,x1,x2,x3,x4,x5,x6,x7,x8,x9)}function _glBufferData(target,size,data,usage){if(GL.currentContext.version>=2){if(data){GLctx.bufferData(target,HEAPU8,usage,data,size)}else{GLctx.bufferData(target,size,usage)}}else{GLctx.bufferData(target,data?HEAPU8.subarray(data,data+size):size,usage)}}function _glBufferSubData(target,offset,size,data){if(GL.currentContext.version>=2){GLctx.bufferSubData(target,offset,HEAPU8,data,size);return}GLctx.bufferSubData(target,offset,HEAPU8.subarray(data,data+size))}function _glCheckFramebufferStatus(x0){return GLctx["checkFramebufferStatus"](x0)}function _glClear(x0){GLctx["clear"](x0)}function _glClearColor(x0,x1,x2,x3){GLctx["clearColor"](x0,x1,x2,x3)}function _glClearDepthf(x0){GLctx["clearDepth"](x0)}function _glClearStencil(x0){GLctx["clearStencil"](x0)}function convertI32PairToI53(lo,hi){assert(hi===(hi|0));return(lo>>>0)+hi*4294967296}function _glClientWaitSync(sync,flags,timeoutLo,timeoutHi){return GLctx.clientWaitSync(GL.syncs[sync],flags,convertI32PairToI53(timeoutLo,timeoutHi))}function _glColorMask(red,green,blue,alpha){GLctx.colorMask(!!red,!!green,!!blue,!!alpha)}function _glCompileShader(shader){GLctx.compileShader(GL.shaders[shader])}function _glCompressedTexImage2D(target,level,internalFormat,width,height,border,imageSize,data){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,imageSize,data)}else{GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,HEAPU8,data,imageSize)}return}GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,data?HEAPU8.subarray(data,data+imageSize):null)}function _glCreateProgram(){var id=GL.getNewId(GL.programs);var program=GLctx.createProgram();program.name=id;GL.programs[id]=program;return id}function _glCreateShader(shaderType){var id=GL.getNewId(GL.shaders);GL.shaders[id]=GLctx.createShader(shaderType);return id}function _glCullFace(x0){GLctx["cullFace"](x0)}function _glDeleteBuffers(n,buffers){for(var i=0;i<n;i++){var id=HEAP32[buffers+i*4>>2];var buffer=GL.buffers[id];if(!buffer)continue;GLctx.deleteBuffer(buffer);buffer.name=0;GL.buffers[id]=null;if(id==GLctx.currentArrayBufferBinding)GLctx.currentArrayBufferBinding=0;if(id==GLctx.currentElementArrayBufferBinding)GLctx.currentElementArrayBufferBinding=0;if(id==GLctx.currentPixelPackBufferBinding)GLctx.currentPixelPackBufferBinding=0;if(id==GLctx.currentPixelUnpackBufferBinding)GLctx.currentPixelUnpackBufferBinding=0}}function _glDeleteFramebuffers(n,framebuffers){for(var i=0;i<n;++i){var id=HEAP32[framebuffers+i*4>>2];var framebuffer=GL.framebuffers[id];if(!framebuffer)continue;GLctx.deleteFramebuffer(framebuffer);framebuffer.name=0;GL.framebuffers[id]=null}}function _glDeleteProgram(id){if(!id)return;var program=GL.programs[id];if(!program){GL.recordError(1281);return}GLctx.deleteProgram(program);program.name=0;GL.programs[id]=null;GL.programInfos[id]=null}function _glDeleteRenderbuffers(n,renderbuffers){for(var i=0;i<n;i++){var id=HEAP32[renderbuffers+i*4>>2];var renderbuffer=GL.renderbuffers[id];if(!renderbuffer)continue;GLctx.deleteRenderbuffer(renderbuffer);renderbuffer.name=0;GL.renderbuffers[id]=null}}function _glDeleteShader(id){if(!id)return;var shader=GL.shaders[id];if(!shader){GL.recordError(1281);return}GLctx.deleteShader(shader);GL.shaders[id]=null}function _glDeleteSync(id){if(!id)return;var sync=GL.syncs[id];if(!sync){GL.recordError(1281);return}GLctx.deleteSync(sync);sync.name=0;GL.syncs[id]=null}function _glDeleteTextures(n,textures){for(var i=0;i<n;i++){var id=HEAP32[textures+i*4>>2];var texture=GL.textures[id];if(!texture)continue;GLctx.deleteTexture(texture);texture.name=0;GL.textures[id]=null}}function _glDeleteVertexArrays(n,vaos){for(var i=0;i<n;i++){var id=HEAP32[vaos+i*4>>2];GLctx["deleteVertexArray"](GL.vaos[id]);GL.vaos[id]=null}}function _glDepthFunc(x0){GLctx["depthFunc"](x0)}function _glDepthMask(flag){GLctx.depthMask(!!flag)}function _glDisable(x0){GLctx["disable"](x0)}function _glDisableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=false;GLctx.disableVertexAttribArray(index)}function _glDrawArrays(mode,first,count){GL.preDrawHandleClientVertexAttribBindings(first+count);GLctx.drawArrays(mode,first,count);GL.postDrawHandleClientVertexAttribBindings()}var tempFixedLengthArray=[];function _glDrawBuffers(n,bufs){var bufArray=tempFixedLengthArray[n];for(var i=0;i<n;i++){bufArray[i]=HEAP32[bufs+i*4>>2]}GLctx["drawBuffers"](bufArray)}function _glDrawElements(mode,count,type,indices){var buf;if(!GLctx.currentElementArrayBufferBinding){var size=GL.calcBufLength(1,type,0,count);buf=GL.getTempIndexBuffer(size);GLctx.bindBuffer(34963,buf);GLctx.bufferSubData(34963,0,HEAPU8.subarray(indices,indices+size));indices=0}GL.preDrawHandleClientVertexAttribBindings(count);GLctx.drawElements(mode,count,type,indices);GL.postDrawHandleClientVertexAttribBindings(count);if(!GLctx.currentElementArrayBufferBinding){GLctx.bindBuffer(34963,null)}}function _glEnable(x0){GLctx["enable"](x0)}function _glEnableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=true;GLctx.enableVertexAttribArray(index)}function _glFenceSync(condition,flags){var sync=GLctx.fenceSync(condition,flags);if(sync){var id=GL.getNewId(GL.syncs);sync.name=id;GL.syncs[id]=sync;return id}else{return 0}}function _glFinish(){GLctx["finish"]()}function _glFlush(){GLctx["flush"]()}function _glFramebufferRenderbuffer(target,attachment,renderbuffertarget,renderbuffer){GLctx.framebufferRenderbuffer(target,attachment,renderbuffertarget,GL.renderbuffers[renderbuffer])}function _glFramebufferTexture2D(target,attachment,textarget,texture,level){GLctx.framebufferTexture2D(target,attachment,textarget,GL.textures[texture],level)}function _glFramebufferTextureLayer(target,attachment,texture,level,layer){GLctx.framebufferTextureLayer(target,attachment,GL.textures[texture],level,layer)}function _glFrontFace(x0){GLctx["frontFace"](x0)}function __glGenObject(n,buffers,createFunction,objectTable){for(var i=0;i<n;i++){var buffer=GLctx[createFunction]();var id=buffer&&GL.getNewId(objectTable);if(buffer){buffer.name=id;objectTable[id]=buffer}else{GL.recordError(1282)}HEAP32[buffers+i*4>>2]=id}}function _glGenBuffers(n,buffers){__glGenObject(n,buffers,"createBuffer",GL.buffers)}function _glGenFramebuffers(n,ids){__glGenObject(n,ids,"createFramebuffer",GL.framebuffers)}function _glGenRenderbuffers(n,renderbuffers){__glGenObject(n,renderbuffers,"createRenderbuffer",GL.renderbuffers)}function _glGenTextures(n,textures){__glGenObject(n,textures,"createTexture",GL.textures)}function _glGenVertexArrays(n,arrays){__glGenObject(n,arrays,"createVertexArray",GL.vaos)}function _glGenerateMipmap(x0){GLctx["generateMipmap"](x0)}function __glGetActiveAttribOrUniform(funcName,program,index,bufSize,length,size,type,name){program=GL.programs[program];var info=GLctx[funcName](program,index);if(info){var numBytesWrittenExclNull=name&&stringToUTF8(info.name,name,bufSize);if(length)HEAP32[length>>2]=numBytesWrittenExclNull;if(size)HEAP32[size>>2]=info.size;if(type)HEAP32[type>>2]=info.type}}function _glGetActiveUniform(program,index,bufSize,length,size,type,name){__glGetActiveAttribOrUniform("getActiveUniform",program,index,bufSize,length,size,type,name)}function _glGetActiveUniformBlockName(program,uniformBlockIndex,bufSize,length,uniformBlockName){program=GL.programs[program];var result=GLctx["getActiveUniformBlockName"](program,uniformBlockIndex);if(!result)return;if(uniformBlockName&&bufSize>0){var numBytesWrittenExclNull=stringToUTF8(result,uniformBlockName,bufSize);if(length)HEAP32[length>>2]=numBytesWrittenExclNull}else{if(length)HEAP32[length>>2]=0}}function _glGetActiveUniformBlockiv(program,uniformBlockIndex,pname,params){if(!params){GL.recordError(1281);return}program=GL.programs[program];if(pname==35393){var name=GLctx["getActiveUniformBlockName"](program,uniformBlockIndex);HEAP32[params>>2]=name.length+1;return}var result=GLctx["getActiveUniformBlockParameter"](program,uniformBlockIndex,pname);if(result===null)return;if(pname==35395){for(var i=0;i<result.length;i++){HEAP32[params+i*4>>2]=result[i]}}else{HEAP32[params>>2]=result}}function _glGetAttribLocation(program,name){return GLctx.getAttribLocation(GL.programs[program],UTF8ToString(name))}function readI53FromI64(ptr){return HEAPU32[ptr>>2]+HEAP32[ptr+4>>2]*4294967296}function readI53FromU64(ptr){return HEAPU32[ptr>>2]+HEAPU32[ptr+4>>2]*4294967296}function writeI53ToI64(ptr,num){HEAPU32[ptr>>2]=num;HEAPU32[ptr+4>>2]=(num-HEAPU32[ptr>>2])/4294967296;var deserialized=num>=0?readI53FromU64(ptr):readI53FromI64(ptr);if(deserialized!=num)warnOnce("writeI53ToI64() out of range: serialized JS Number "+num+" to Wasm heap as bytes lo=0x"+HEAPU32[ptr>>2].toString(16)+", hi=0x"+HEAPU32[ptr+4>>2].toString(16)+", which deserializes back to "+deserialized+" instead!")}function emscriptenWebGLGet(name_,p,type){if(!p){GL.recordError(1281);return}var ret=undefined;switch(name_){case 36346:ret=1;break;case 36344:if(type!=0&&type!=1){GL.recordError(1280)}return;case 34814:case 36345:ret=0;break;case 34466:var formats=GLctx.getParameter(34467);ret=formats?formats.length:0;break;case 33309:if(GL.currentContext.version<2){GL.recordError(1282);return}var exts=GLctx.getSupportedExtensions()||[];ret=2*exts.length;break;case 33307:case 33308:if(GL.currentContext.version<2){GL.recordError(1280);return}ret=name_==33307?3:0;break}if(ret===undefined){var result=GLctx.getParameter(name_);switch(typeof result){case"number":ret=result;break;case"boolean":ret=result?1:0;break;case"string":GL.recordError(1280);return;case"object":if(result===null){switch(name_){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:{ret=0;break}default:{GL.recordError(1280);return}}}else if(result instanceof Float32Array||result instanceof Uint32Array||result instanceof Int32Array||result instanceof Array){for(var i=0;i<result.length;++i){switch(type){case 0:HEAP32[p+i*4>>2]=result[i];break;case 2:HEAPF32[p+i*4>>2]=result[i];break;case 4:HEAP8[p+i>>0]=result[i]?1:0;break}}return}else{try{ret=result.name|0}catch(e){GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Unknown object returned from WebGL getParameter("+name_+")! (error: "+e+")");return}}break;default:GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Native code calling glGet"+type+"v("+name_+") and it returns "+result+" of type "+typeof result+"!");return}}switch(type){case 1:writeI53ToI64(p,ret);break;case 0:HEAP32[p>>2]=ret;break;case 2:HEAPF32[p>>2]=ret;break;case 4:HEAP8[p>>0]=ret?1:0;break}}function _glGetBooleanv(name_,p){emscriptenWebGLGet(name_,p,4)}function _glGetError(){var error=GLctx.getError()||GL.lastError;GL.lastError=0;return error}function _glGetIntegerv(name_,p){emscriptenWebGLGet(name_,p,0)}function _glGetProgramInfoLog(program,maxLength,length,infoLog){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetProgramiv(program,pname,p){if(!p){GL.recordError(1281);return}if(program>=GL.counter){GL.recordError(1281);return}var ptable=GL.programInfos[program];if(!ptable){GL.recordError(1282);return}if(pname==35716){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";HEAP32[p>>2]=log.length+1}else if(pname==35719){HEAP32[p>>2]=ptable.maxUniformLength}else if(pname==35722){if(ptable.maxAttributeLength==-1){program=GL.programs[program];var numAttribs=GLctx.getProgramParameter(program,35721);ptable.maxAttributeLength=0;for(var i=0;i<numAttribs;++i){var activeAttrib=GLctx.getActiveAttrib(program,i);ptable.maxAttributeLength=Math.max(ptable.maxAttributeLength,activeAttrib.name.length+1)}}HEAP32[p>>2]=ptable.maxAttributeLength}else if(pname==35381){if(ptable.maxUniformBlockNameLength==-1){program=GL.programs[program];var numBlocks=GLctx.getProgramParameter(program,35382);ptable.maxUniformBlockNameLength=0;for(var i=0;i<numBlocks;++i){var activeBlockName=GLctx.getActiveUniformBlockName(program,i);ptable.maxUniformBlockNameLength=Math.max(ptable.maxUniformBlockNameLength,activeBlockName.length+1)}}HEAP32[p>>2]=ptable.maxUniformBlockNameLength}else{HEAP32[p>>2]=GLctx.getProgramParameter(GL.programs[program],pname)}}function _glGetShaderInfoLog(shader,maxLength,length,infoLog){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetShaderiv(shader,pname,p){if(!p){GL.recordError(1281);return}if(pname==35716){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var logLength=log?log.length+1:0;HEAP32[p>>2]=logLength}else if(pname==35720){var source=GLctx.getShaderSource(GL.shaders[shader]);var sourceLength=source?source.length+1:0;HEAP32[p>>2]=sourceLength}else{HEAP32[p>>2]=GLctx.getShaderParameter(GL.shaders[shader],pname)}}function stringToNewUTF8(jsString){var length=lengthBytesUTF8(jsString)+1;var cString=_malloc(length);stringToUTF8(jsString,cString,length);return cString}function _glGetString(name_){if(GL.stringCache[name_])return GL.stringCache[name_];var ret;switch(name_){case 7939:var exts=GLctx.getSupportedExtensions()||[];exts=exts.concat(exts.map(function(e){return"GL_"+e}));ret=stringToNewUTF8(exts.join(" "));break;case 7936:case 7937:case 37445:case 37446:var s=GLctx.getParameter(name_);if(!s){GL.recordError(1280)}ret=stringToNewUTF8(s);break;case 7938:var glVersion=GLctx.getParameter(7938);if(GL.currentContext.version>=2)glVersion="OpenGL ES 3.0 ("+glVersion+")";else{glVersion="OpenGL ES 2.0 ("+glVersion+")"}ret=stringToNewUTF8(glVersion);break;case 35724:var glslVersion=GLctx.getParameter(35724);var ver_re=/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/;var ver_num=glslVersion.match(ver_re);if(ver_num!==null){if(ver_num[1].length==3)ver_num[1]=ver_num[1]+"0";glslVersion="OpenGL ES GLSL ES "+ver_num[1]+" ("+glslVersion+")"}ret=stringToNewUTF8(glslVersion);break;default:GL.recordError(1280);return 0}GL.stringCache[name_]=ret;return ret}function _glGetStringi(name,index){if(GL.currentContext.version<2){GL.recordError(1282);return 0}var stringiCache=GL.stringiCache[name];if(stringiCache){if(index<0||index>=stringiCache.length){GL.recordError(1281);return 0}return stringiCache[index]}switch(name){case 7939:var exts=GLctx.getSupportedExtensions()||[];exts=exts.concat(exts.map(function(e){return"GL_"+e}));exts=exts.map(function(e){return stringToNewUTF8(e)});stringiCache=GL.stringiCache[name]=exts;if(index<0||index>=stringiCache.length){GL.recordError(1281);return 0}return stringiCache[index];default:GL.recordError(1280);return 0}}function _glGetUniformBlockIndex(program,uniformBlockName){return GLctx["getUniformBlockIndex"](GL.programs[program],UTF8ToString(uniformBlockName))}function jstoi_q(str){return parseInt(str)}function _glGetUniformLocation(program,name){name=UTF8ToString(name);var arrayIndex=0;if(name[name.length-1]=="]"){var leftBrace=name.lastIndexOf("[");arrayIndex=name[leftBrace+1]!="]"?jstoi_q(name.slice(leftBrace+1)):0;name=name.slice(0,leftBrace)}var uniformInfo=GL.programInfos[program]&&GL.programInfos[program].uniforms[name];if(uniformInfo&&arrayIndex>=0&&arrayIndex<uniformInfo[0]){return uniformInfo[1]+arrayIndex}else{return-1}}function _glLinkProgram(program){GLctx.linkProgram(GL.programs[program]);GL.populateUniformTable(program)}function _glPixelStorei(pname,param){if(pname==3317){GL.unpackAlignment=param}GLctx.pixelStorei(pname,param)}function _glReadBuffer(x0){GLctx["readBuffer"](x0)}function computeUnpackAlignedImageSize(width,height,sizePerPixel,alignment){function roundedToNextMultipleOf(x,y){return x+y-1&-y}var plainRowSize=width*sizePerPixel;var alignedRowSize=roundedToNextMultipleOf(plainRowSize,alignment);return height*alignedRowSize}function __colorChannelsInGlTextureFormat(format){var colorChannels={5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4};return colorChannels[format-6402]||1}function heapObjectForWebGLType(type){type-=5120;if(type==0)return HEAP8;if(type==1)return HEAPU8;if(type==2)return HEAP16;if(type==4)return HEAP32;if(type==6)return HEAPF32;if(type==5||type==28922||type==28520||type==30779||type==30782)return HEAPU32;return HEAPU16}function heapAccessShiftForWebGLHeap(heap){return 31-Math.clz32(heap.BYTES_PER_ELEMENT)}function emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat){var heap=heapObjectForWebGLType(type);var shift=heapAccessShiftForWebGLHeap(heap);var byteSize=1<<shift;var sizePerPixel=__colorChannelsInGlTextureFormat(format)*byteSize;var bytes=computeUnpackAlignedImageSize(width,height,sizePerPixel,GL.unpackAlignment);return heap.subarray(pixels>>shift,pixels+bytes>>shift)}function _glReadPixels(x,y,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelPackBufferBinding){GLctx.readPixels(x,y,width,height,format,type,pixels)}else{var heap=heapObjectForWebGLType(type);GLctx.readPixels(x,y,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}return}var pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,format);if(!pixelData){GL.recordError(1280);return}GLctx.readPixels(x,y,width,height,format,type,pixelData)}function _glRenderbufferStorage(x0,x1,x2,x3){GLctx["renderbufferStorage"](x0,x1,x2,x3)}function _glRenderbufferStorageMultisample(x0,x1,x2,x3,x4){GLctx["renderbufferStorageMultisample"](x0,x1,x2,x3,x4)}function _glScissor(x0,x1,x2,x3){GLctx["scissor"](x0,x1,x2,x3)}function _glShaderSource(shader,count,string,length){var source=GL.getSource(shader,count,string,length);GLctx.shaderSource(GL.shaders[shader],source)}function _glStencilFuncSeparate(x0,x1,x2,x3){GLctx["stencilFuncSeparate"](x0,x1,x2,x3)}function _glStencilOpSeparate(x0,x1,x2,x3){GLctx["stencilOpSeparate"](x0,x1,x2,x3)}function _glTexImage2D(target,level,internalFormat,width,height,border,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,null)}return}GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat):null)}function _glTexParameterf(x0,x1,x2){GLctx["texParameterf"](x0,x1,x2)}function _glTexParameterfv(target,pname,params){var param=HEAPF32[params>>2];GLctx.texParameterf(target,pname,param)}function _glTexParameteri(x0,x1,x2){GLctx["texParameteri"](x0,x1,x2)}function _glTexStorage2D(x0,x1,x2,x3,x4){GLctx["texStorage2D"](x0,x1,x2,x3,x4)}function _glTexStorage3D(x0,x1,x2,x3,x4,x5){GLctx["texStorage3D"](x0,x1,x2,x3,x4,x5)}function _glTexSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,null)}return}var pixelData=null;if(pixels)pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,0);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixelData)}function _glTexSubImage3D(target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels){if(GLctx.currentPixelUnpackBufferBinding){GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,null)}}function _glUniform1f(location,v0){GLctx.uniform1f(GL.uniforms[location],v0)}var miniTempWebGLFloatBuffers=[];function _glUniform1fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform1fv(GL.uniforms[location],HEAPF32,value>>2,count);return}if(count<=288){var view=miniTempWebGLFloatBuffers[count-1];for(var i=0;i<count;++i){view[i]=HEAPF32[value+4*i>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*4>>2)}GLctx.uniform1fv(GL.uniforms[location],view)}function _glUniform1i(location,v0){GLctx.uniform1i(GL.uniforms[location],v0)}var __miniTempWebGLIntBuffers=[];function _glUniform1iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform1iv(GL.uniforms[location],HEAP32,value>>2,count);return}if(count<=288){var view=__miniTempWebGLIntBuffers[count-1];for(var i=0;i<count;++i){view[i]=HEAP32[value+4*i>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*4>>2)}GLctx.uniform1iv(GL.uniforms[location],view)}function _glUniform2f(location,v0,v1){GLctx.uniform2f(GL.uniforms[location],v0,v1)}function _glUniform2fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2fv(GL.uniforms[location],HEAPF32,value>>2,count*2);return}if(count<=144){var view=miniTempWebGLFloatBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2fv(GL.uniforms[location],view)}function _glUniform2iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2iv(GL.uniforms[location],HEAP32,value>>2,count*2);return}if(count<=144){var view=__miniTempWebGLIntBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2iv(GL.uniforms[location],view)}function _glUniform3f(location,v0,v1,v2){GLctx.uniform3f(GL.uniforms[location],v0,v1,v2)}function _glUniform3fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform3fv(GL.uniforms[location],HEAPF32,value>>2,count*3);return}if(count<=96){var view=miniTempWebGLFloatBuffers[3*count-1];for(var i=0;i<3*count;i+=3){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*12>>2)}GLctx.uniform3fv(GL.uniforms[location],view)}function _glUniform3iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform3iv(GL.uniforms[location],HEAP32,value>>2,count*3);return}if(count<=96){var view=__miniTempWebGLIntBuffers[3*count-1];for(var i=0;i<3*count;i+=3){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2];view[i+2]=HEAP32[value+(4*i+8)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*12>>2)}GLctx.uniform3iv(GL.uniforms[location],view)}function _glUniform4f(location,v0,v1,v2,v3){GLctx.uniform4f(GL.uniforms[location],v0,v1,v2,v3)}function _glUniform4fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4fv(GL.uniforms[location],HEAPF32,value>>2,count*4);return}if(count<=72){var view=miniTempWebGLFloatBuffers[4*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<4*count;i+=4){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4fv(GL.uniforms[location],view)}function _glUniform4iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4iv(GL.uniforms[location],HEAP32,value>>2,count*4);return}if(count<=72){var view=__miniTempWebGLIntBuffers[4*count-1];for(var i=0;i<4*count;i+=4){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2];view[i+2]=HEAP32[value+(4*i+8)>>2];view[i+3]=HEAP32[value+(4*i+12)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4iv(GL.uniforms[location],view)}function _glUniformBlockBinding(program,uniformBlockIndex,uniformBlockBinding){program=GL.programs[program];GLctx["uniformBlockBinding"](program,uniformBlockIndex,uniformBlockBinding)}function _glUniformMatrix2fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix2fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*4);return}if(count<=72){var view=miniTempWebGLFloatBuffers[4*count-1];for(var i=0;i<4*count;i+=4){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2];view[i+3]=HEAPF32[value+(4*i+12)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniformMatrix2fv(GL.uniforms[location],!!transpose,view)}function _glUniformMatrix3fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix3fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*9);return}if(count<=32){var view=miniTempWebGLFloatBuffers[9*count-1];for(var i=0;i<9*count;i+=9){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2];view[i+3]=HEAPF32[value+(4*i+12)>>2];view[i+4]=HEAPF32[value+(4*i+16)>>2];view[i+5]=HEAPF32[value+(4*i+20)>>2];view[i+6]=HEAPF32[value+(4*i+24)>>2];view[i+7]=HEAPF32[value+(4*i+28)>>2];view[i+8]=HEAPF32[value+(4*i+32)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*36>>2)}GLctx.uniformMatrix3fv(GL.uniforms[location],!!transpose,view)}function _glUniformMatrix4fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*16);return}if(count<=18){var view=miniTempWebGLFloatBuffers[16*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<16*count;i+=16){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3];view[i+4]=heap[dst+4];view[i+5]=heap[dst+5];view[i+6]=heap[dst+6];view[i+7]=heap[dst+7];view[i+8]=heap[dst+8];view[i+9]=heap[dst+9];view[i+10]=heap[dst+10];view[i+11]=heap[dst+11];view[i+12]=heap[dst+12];view[i+13]=heap[dst+13];view[i+14]=heap[dst+14];view[i+15]=heap[dst+15]}}else{var view=HEAPF32.subarray(value>>2,value+count*64>>2)}GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,view)}function _glUseProgram(program){GLctx.useProgram(GL.programs[program])}function _glVertexAttribPointer(index,size,type,normalized,stride,ptr){var cb=GL.currentContext.clientBuffers[index];if(!GLctx.currentArrayBufferBinding){cb.size=size;cb.type=type;cb.normalized=normalized;cb.stride=stride;cb.ptr=ptr;cb.clientside=true;cb.vertexAttribPointerAdaptor=function(index,size,type,normalized,stride,ptr){this.vertexAttribPointer(index,size,type,normalized,stride,ptr)};return}cb.clientside=false;GLctx.vertexAttribPointer(index,size,type,!!normalized,stride,ptr)}function _glViewport(x0,x1,x2,x3){GLctx["viewport"](x0,x1,x2,x3)}function _gmtime_r(time,tmPtr){var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getUTCSeconds();HEAP32[tmPtr+4>>2]=date.getUTCMinutes();HEAP32[tmPtr+8>>2]=date.getUTCHours();HEAP32[tmPtr+12>>2]=date.getUTCDate();HEAP32[tmPtr+16>>2]=date.getUTCMonth();HEAP32[tmPtr+20>>2]=date.getUTCFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getUTCDay();HEAP32[tmPtr+36>>2]=0;HEAP32[tmPtr+32>>2]=0;var start=Date.UTC(date.getUTCFullYear(),0,1,0,0,0,0);var yday=(date.getTime()-start)/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;if(!_gmtime_r.GMTString)_gmtime_r.GMTString=allocateUTF8("GMT");HEAP32[tmPtr+40>>2]=_gmtime_r.GMTString;return tmPtr}function _llvm_eh_typeid_for(type){return type}function _tzset(){if(_tzset.called)return;_tzset.called=true;var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);HEAP32[__get_timezone()>>2]=stdTimezoneOffset*60;HEAP32[__get_daylight()>>2]=Number(winterOffset!=summerOffset);function extractZone(date){var match=date.toTimeString().match(/\(([A-Za-z ]+)\)$/);return match?match[1]:"GMT"}var winterName=extractZone(winter);var summerName=extractZone(summer);var winterNamePtr=allocateUTF8(winterName);var summerNamePtr=allocateUTF8(summerName);if(summerOffset<winterOffset){HEAP32[__get_tzname()>>2]=winterNamePtr;HEAP32[__get_tzname()+4>>2]=summerNamePtr}else{HEAP32[__get_tzname()>>2]=summerNamePtr;HEAP32[__get_tzname()+4>>2]=winterNamePtr}}function _localtime_r(time,tmPtr){_tzset();var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();HEAP32[tmPtr+20>>2]=date.getFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getDay();var start=new Date(date.getFullYear(),0,1);var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr+36>>2]=-(date.getTimezoneOffset()*60);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dst=(summerOffset!=winterOffset&&date.getTimezoneOffset()==Math.min(winterOffset,summerOffset))|0;HEAP32[tmPtr+32>>2]=dst;var zonePtr=HEAP32[__get_tzname()+(dst?4:0)>>2];HEAP32[tmPtr+40>>2]=zonePtr;return tmPtr}function _mktime(tmPtr){_tzset();var date=new Date(HEAP32[tmPtr+20>>2]+1900,HEAP32[tmPtr+16>>2],HEAP32[tmPtr+12>>2],HEAP32[tmPtr+8>>2],HEAP32[tmPtr+4>>2],HEAP32[tmPtr>>2],0);var dst=HEAP32[tmPtr+32>>2];var guessedOffset=date.getTimezoneOffset();var start=new Date(date.getFullYear(),0,1);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dstOffset=Math.min(winterOffset,summerOffset);if(dst<0){HEAP32[tmPtr+32>>2]=Number(summerOffset!=winterOffset&&dstOffset==guessedOffset)}else if(dst>0!=(dstOffset==guessedOffset)){var nonDstOffset=Math.max(winterOffset,summerOffset);var trueOffset=dst>0?dstOffset:nonDstOffset;date.setTime(date.getTime()+(trueOffset-guessedOffset)*6e4)}HEAP32[tmPtr+24>>2]=date.getDay();var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();return date.getTime()/1e3|0}function _pthread_create(){return 6}function _pthread_join(){return 28}function _setTempRet0($i){setTempRet0($i|0)}function __isLeapYear(year){return year%4===0&&(year%100!==0||year%400===0)}function __arraySum(array,index){var sum=0;for(var i=0;i<=index;sum+=array[i++]){}return sum}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31];var __MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(date,days){var newDate=new Date(date.getTime());while(days>0){var leap=__isLeapYear(newDate.getFullYear());var currentMonth=newDate.getMonth();var daysInCurrentMonth=(leap?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[currentMonth];if(days>daysInCurrentMonth-newDate.getDate()){days-=daysInCurrentMonth-newDate.getDate()+1;newDate.setDate(1);if(currentMonth<11){newDate.setMonth(currentMonth+1)}else{newDate.setMonth(0);newDate.setFullYear(newDate.getFullYear()+1)}}else{newDate.setDate(newDate.getDate()+days);return newDate}}return newDate}function _strftime(s,maxsize,format,tm){var tm_zone=HEAP32[tm+40>>2];var date={tm_sec:HEAP32[tm>>2],tm_min:HEAP32[tm+4>>2],tm_hour:HEAP32[tm+8>>2],tm_mday:HEAP32[tm+12>>2],tm_mon:HEAP32[tm+16>>2],tm_year:HEAP32[tm+20>>2],tm_wday:HEAP32[tm+24>>2],tm_yday:HEAP32[tm+28>>2],tm_isdst:HEAP32[tm+32>>2],tm_gmtoff:HEAP32[tm+36>>2],tm_zone:tm_zone?UTF8ToString(tm_zone):""};var pattern=UTF8ToString(format);var EXPANSION_RULES_1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var rule in EXPANSION_RULES_1){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_1[rule])}var WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];function leadingSomething(value,digits,character){var str=typeof value==="number"?value.toString():value||"";while(str.length<digits){str=character[0]+str}return str}function leadingNulls(value,digits){return leadingSomething(value,digits,"0")}function compareByDay(date1,date2){function sgn(value){return value<0?-1:value>0?1:0}var compare;if((compare=sgn(date1.getFullYear()-date2.getFullYear()))===0){if((compare=sgn(date1.getMonth()-date2.getMonth()))===0){compare=sgn(date1.getDate()-date2.getDate())}}return compare}function getFirstWeekStartDate(janFourth){switch(janFourth.getDay()){case 0:return new Date(janFourth.getFullYear()-1,11,29);case 1:return janFourth;case 2:return new Date(janFourth.getFullYear(),0,3);case 3:return new Date(janFourth.getFullYear(),0,2);case 4:return new Date(janFourth.getFullYear(),0,1);case 5:return new Date(janFourth.getFullYear()-1,11,31);case 6:return new Date(janFourth.getFullYear()-1,11,30)}}function getWeekBasedYear(date){var thisDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);var janFourthThisYear=new Date(thisDate.getFullYear(),0,4);var janFourthNextYear=new Date(thisDate.getFullYear()+1,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);if(compareByDay(firstWeekStartThisYear,thisDate)<=0){if(compareByDay(firstWeekStartNextYear,thisDate)<=0){return thisDate.getFullYear()+1}else{return thisDate.getFullYear()}}else{return thisDate.getFullYear()-1}}var EXPANSION_RULES_2={"%a":function(date){return WEEKDAYS[date.tm_wday].substring(0,3)},"%A":function(date){return WEEKDAYS[date.tm_wday]},"%b":function(date){return MONTHS[date.tm_mon].substring(0,3)},"%B":function(date){return MONTHS[date.tm_mon]},"%C":function(date){var year=date.tm_year+1900;return leadingNulls(year/100|0,2)},"%d":function(date){return leadingNulls(date.tm_mday,2)},"%e":function(date){return leadingSomething(date.tm_mday,2," ")},"%g":function(date){return getWeekBasedYear(date).toString().substring(2)},"%G":function(date){return getWeekBasedYear(date)},"%H":function(date){return leadingNulls(date.tm_hour,2)},"%I":function(date){var twelveHour=date.tm_hour;if(twelveHour==0)twelveHour=12;else if(twelveHour>12)twelveHour-=12;return leadingNulls(twelveHour,2)},"%j":function(date){return leadingNulls(date.tm_mday+__arraySum(__isLeapYear(date.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,date.tm_mon-1),3)},"%m":function(date){return leadingNulls(date.tm_mon+1,2)},"%M":function(date){return leadingNulls(date.tm_min,2)},"%n":function(){return"\n"},"%p":function(date){if(date.tm_hour>=0&&date.tm_hour<12){return"AM"}else{return"PM"}},"%S":function(date){return leadingNulls(date.tm_sec,2)},"%t":function(){return"\t"},"%u":function(date){return date.tm_wday||7},"%U":function(date){var janFirst=new Date(date.tm_year+1900,0,1);var firstSunday=janFirst.getDay()===0?janFirst:__addDays(janFirst,7-janFirst.getDay());var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstSunday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstSundayUntilEndJanuary=31-firstSunday.getDate();var days=firstSundayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstSunday,janFirst)===0?"01":"00"},"%V":function(date){var janFourthThisYear=new Date(date.tm_year+1900,0,4);var janFourthNextYear=new Date(date.tm_year+1901,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);var endDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);if(compareByDay(endDate,firstWeekStartThisYear)<0){return"53"}if(compareByDay(firstWeekStartNextYear,endDate)<=0){return"01"}var daysDifference;if(firstWeekStartThisYear.getFullYear()<date.tm_year+1900){daysDifference=date.tm_yday+32-firstWeekStartThisYear.getDate()}else{daysDifference=date.tm_yday+1-firstWeekStartThisYear.getDate()}return leadingNulls(Math.ceil(daysDifference/7),2)},"%w":function(date){return date.tm_wday},"%W":function(date){var janFirst=new Date(date.tm_year,0,1);var firstMonday=janFirst.getDay()===1?janFirst:__addDays(janFirst,janFirst.getDay()===0?1:7-janFirst.getDay()+1);var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstMonday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstMondayUntilEndJanuary=31-firstMonday.getDate();var days=firstMondayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstMonday,janFirst)===0?"01":"00"},"%y":function(date){return(date.tm_year+1900).toString().substring(2)},"%Y":function(date){return date.tm_year+1900},"%z":function(date){var off=date.tm_gmtoff;var ahead=off>=0;off=Math.abs(off)/60;off=off/60*100+off%60;return(ahead?"+":"-")+String("0000"+off).slice(-4)},"%Z":function(date){return date.tm_zone},"%%":function(){return"%"}};for(var rule in EXPANSION_RULES_2){if(pattern.indexOf(rule)>=0){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_2[rule](date))}}var bytes=intArrayFromString(pattern,false);if(bytes.length>maxsize){return 0}writeArrayToMemory(bytes,s);return bytes.length-1}function _strftime_l(s,maxsize,format,tm){return _strftime(s,maxsize,format,tm)}var readAsmConstArgsArray=[];function readAsmConstArgs(sigPtr,buf){assert(Array.isArray(readAsmConstArgsArray));assert(buf%16==0);readAsmConstArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){assert(ch===100||ch===102||ch===105);var double=ch<105;if(double&&buf&1)buf++;readAsmConstArgsArray.push(double?HEAPF64[buf++>>1]:HEAP32[buf]);++buf}return readAsmConstArgsArray}Module["requestFullscreen"]=function Module_requestFullscreen(lockPointer,resizeCanvas){Browser.requestFullscreen(lockPointer,resizeCanvas)};Module["requestFullScreen"]=function Module_requestFullScreen(){Browser.requestFullScreen()};Module["requestAnimationFrame"]=function Module_requestAnimationFrame(func){Browser.requestAnimationFrame(func)};Module["setCanvasSize"]=function Module_setCanvasSize(width,height,noUpdates){Browser.setCanvasSize(width,height,noUpdates)};Module["pauseMainLoop"]=function Module_pauseMainLoop(){Browser.mainLoop.pause()};Module["resumeMainLoop"]=function Module_resumeMainLoop(){Browser.mainLoop.resume()};Module["getUserMedia"]=function Module_getUserMedia(){Browser.getUserMedia()};Module["createContext"]=function Module_createContext(canvas,useWebGL,setInModule,webGLContextAttributes){return Browser.createContext(canvas,useWebGL,setInModule,webGLContextAttributes)};var FSNode=function(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.mounted=null;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.node_ops={};this.stream_ops={};this.rdev=rdev};var readMode=292|73;var writeMode=146;Object.defineProperties(FSNode.prototype,{read:{get:function(){return(this.mode&readMode)===readMode},set:function(val){val?this.mode|=readMode:this.mode&=~readMode}},write:{get:function(){return(this.mode&writeMode)===writeMode},set:function(val){val?this.mode|=writeMode:this.mode&=~writeMode}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}});FS.FSNode=FSNode;FS.staticInit();Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;init_emval();PureVirtualError=Module["PureVirtualError"]=extendError(Error,"PureVirtualError");embind_init_charCodes();init_embind();BindingError=Module["BindingError"]=extendError(Error,"BindingError");InternalError=Module["InternalError"]=extendError(Error,"InternalError");init_ClassHandle();init_RegisteredPointer();UnboundTypeError=Module["UnboundTypeError"]=extendError(Error,"UnboundTypeError");var GLctx;for(var i=0;i<32;++i)tempFixedLengthArray.push(new Array(i));var miniTempWebGLFloatBuffersStorage=new Float32Array(288);for(var i=0;i<288;++i){miniTempWebGLFloatBuffers[i]=miniTempWebGLFloatBuffersStorage.subarray(0,i+1)}var __miniTempWebGLIntBuffersStorage=new Int32Array(288);for(var i=0;i<288;++i){__miniTempWebGLIntBuffers[i]=__miniTempWebGLIntBuffersStorage.subarray(0,i+1)}var ASSERTIONS=true;function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}var asmLibraryArg={"__cxa_allocate_exception":___cxa_allocate_exception,"__cxa_atexit":___cxa_atexit,"__cxa_begin_catch":___cxa_begin_catch,"__cxa_end_catch":___cxa_end_catch,"__cxa_find_matching_catch_2":___cxa_find_matching_catch_2,"__cxa_find_matching_catch_3":___cxa_find_matching_catch_3,"__cxa_free_exception":___cxa_free_exception,"__cxa_rethrow":___cxa_rethrow,"__cxa_thread_atexit":___cxa_thread_atexit,"__cxa_throw":___cxa_throw,"__resumeException":___resumeException,"__sys_fcntl64":___sys_fcntl64,"__sys_fstat64":___sys_fstat64,"__sys_ioctl":___sys_ioctl,"__sys_mmap2":___sys_mmap2,"__sys_mprotect":___sys_mprotect,"__sys_munmap":___sys_munmap,"__sys_open":___sys_open,"__sys_stat64":___sys_stat64,"_embind_create_inheriting_constructor":__embind_create_inheriting_constructor,"_embind_finalize_value_object":__embind_finalize_value_object,"_embind_register_bool":__embind_register_bool,"_embind_register_class":__embind_register_class,"_embind_register_class_class_function":__embind_register_class_class_function,"_embind_register_class_constructor":__embind_register_class_constructor,"_embind_register_class_function":__embind_register_class_function,"_embind_register_class_property":__embind_register_class_property,"_embind_register_emval":__embind_register_emval,"_embind_register_float":__embind_register_float,"_embind_register_function":__embind_register_function,"_embind_register_integer":__embind_register_integer,"_embind_register_memory_view":__embind_register_memory_view,"_embind_register_std_string":__embind_register_std_string,"_embind_register_std_wstring":__embind_register_std_wstring,"_embind_register_value_object":__embind_register_value_object,"_embind_register_value_object_field":__embind_register_value_object_field,"_embind_register_void":__embind_register_void,"_emval_call_void_method":__emval_call_void_method,"_emval_decref":__emval_decref,"_emval_get_method_caller":__emval_get_method_caller,"_emval_incref":__emval_incref,"_emval_take_value":__emval_take_value,"_exit":__exit,"abort":_abort,"clock_gettime":_clock_gettime,"dlopen":_dlopen,"dlsym":_dlsym,"eglGetCurrentContext":_eglGetCurrentContext,"eglGetDisplay":_eglGetDisplay,"eglQueryContext":_eglQueryContext,"emscripten_asm_const_int":_emscripten_asm_const_int,"emscripten_async_call":_emscripten_async_call,"emscripten_get_heap_max":_emscripten_get_heap_max,"emscripten_longjmp":_emscripten_longjmp,"emscripten_memcpy_big":_emscripten_memcpy_big,"emscripten_resize_heap":_emscripten_resize_heap,"emscripten_thread_sleep":_emscripten_thread_sleep,"emscripten_webgl_create_context":_emscripten_webgl_create_context,"emscripten_webgl_destroy_context":_emscripten_webgl_destroy_context,"emscripten_webgl_get_context_attributes":_emscripten_webgl_get_context_attributes,"emscripten_webgl_get_current_context":_emscripten_webgl_get_current_context,"emscripten_webgl_init_context_attributes":_emscripten_webgl_init_context_attributes,"emscripten_webgl_make_context_current":_emscripten_webgl_make_context_current,"environ_get":_environ_get,"environ_sizes_get":_environ_sizes_get,"exit":_exit,"fd_close":_fd_close,"fd_fdstat_get":_fd_fdstat_get,"fd_read":_fd_read,"fd_seek":_fd_seek,"fd_write":_fd_write,"getTempRet0":_getTempRet0,"gettimeofday":_gettimeofday,"glActiveTexture":_glActiveTexture,"glAttachShader":_glAttachShader,"glBindAttribLocation":_glBindAttribLocation,"glBindBuffer":_glBindBuffer,"glBindBufferBase":_glBindBufferBase,"glBindFramebuffer":_glBindFramebuffer,"glBindRenderbuffer":_glBindRenderbuffer,"glBindSampler":_glBindSampler,"glBindTexture":_glBindTexture,"glBindVertexArray":_glBindVertexArray,"glBlendFunc":_glBlendFunc,"glBlendFuncSeparate":_glBlendFuncSeparate,"glBlitFramebuffer":_glBlitFramebuffer,"glBufferData":_glBufferData,"glBufferSubData":_glBufferSubData,"glCheckFramebufferStatus":_glCheckFramebufferStatus,"glClear":_glClear,"glClearColor":_glClearColor,"glClearDepthf":_glClearDepthf,"glClearStencil":_glClearStencil,"glClientWaitSync":_glClientWaitSync,"glColorMask":_glColorMask,"glCompileShader":_glCompileShader,"glCompressedTexImage2D":_glCompressedTexImage2D,"glCreateProgram":_glCreateProgram,"glCreateShader":_glCreateShader,"glCullFace":_glCullFace,"glDeleteBuffers":_glDeleteBuffers,"glDeleteFramebuffers":_glDeleteFramebuffers,"glDeleteProgram":_glDeleteProgram,"glDeleteRenderbuffers":_glDeleteRenderbuffers,"glDeleteShader":_glDeleteShader,"glDeleteSync":_glDeleteSync,"glDeleteTextures":_glDeleteTextures,"glDeleteVertexArrays":_glDeleteVertexArrays,"glDepthFunc":_glDepthFunc,"glDepthMask":_glDepthMask,"glDisable":_glDisable,"glDisableVertexAttribArray":_glDisableVertexAttribArray,"glDrawArrays":_glDrawArrays,"glDrawBuffers":_glDrawBuffers,"glDrawElements":_glDrawElements,"glEnable":_glEnable,"glEnableVertexAttribArray":_glEnableVertexAttribArray,"glFenceSync":_glFenceSync,"glFinish":_glFinish,"glFlush":_glFlush,"glFramebufferRenderbuffer":_glFramebufferRenderbuffer,"glFramebufferTexture2D":_glFramebufferTexture2D,"glFramebufferTextureLayer":_glFramebufferTextureLayer,"glFrontFace":_glFrontFace,"glGenBuffers":_glGenBuffers,"glGenFramebuffers":_glGenFramebuffers,"glGenRenderbuffers":_glGenRenderbuffers,"glGenTextures":_glGenTextures,"glGenVertexArrays":_glGenVertexArrays,"glGenerateMipmap":_glGenerateMipmap,"glGetActiveUniform":_glGetActiveUniform,"glGetActiveUniformBlockName":_glGetActiveUniformBlockName,"glGetActiveUniformBlockiv":_glGetActiveUniformBlockiv,"glGetAttribLocation":_glGetAttribLocation,"glGetBooleanv":_glGetBooleanv,"glGetError":_glGetError,"glGetIntegerv":_glGetIntegerv,"glGetProgramInfoLog":_glGetProgramInfoLog,"glGetProgramiv":_glGetProgramiv,"glGetShaderInfoLog":_glGetShaderInfoLog,"glGetShaderiv":_glGetShaderiv,"glGetString":_glGetString,"glGetStringi":_glGetStringi,"glGetUniformBlockIndex":_glGetUniformBlockIndex,"glGetUniformLocation":_glGetUniformLocation,"glLinkProgram":_glLinkProgram,"glPixelStorei":_glPixelStorei,"glReadBuffer":_glReadBuffer,"glReadPixels":_glReadPixels,"glRenderbufferStorage":_glRenderbufferStorage,"glRenderbufferStorageMultisample":_glRenderbufferStorageMultisample,"glScissor":_glScissor,"glShaderSource":_glShaderSource,"glStencilFuncSeparate":_glStencilFuncSeparate,"glStencilOpSeparate":_glStencilOpSeparate,"glTexImage2D":_glTexImage2D,"glTexParameterf":_glTexParameterf,"glTexParameterfv":_glTexParameterfv,"glTexParameteri":_glTexParameteri,"glTexStorage2D":_glTexStorage2D,"glTexStorage3D":_glTexStorage3D,"glTexSubImage2D":_glTexSubImage2D,"glTexSubImage3D":_glTexSubImage3D,"glUniform1f":_glUniform1f,"glUniform1fv":_glUniform1fv,"glUniform1i":_glUniform1i,"glUniform1iv":_glUniform1iv,"glUniform2f":_glUniform2f,"glUniform2fv":_glUniform2fv,"glUniform2iv":_glUniform2iv,"glUniform3f":_glUniform3f,"glUniform3fv":_glUniform3fv,"glUniform3iv":_glUniform3iv,"glUniform4f":_glUniform4f,"glUniform4fv":_glUniform4fv,"glUniform4iv":_glUniform4iv,"glUniformBlockBinding":_glUniformBlockBinding,"glUniformMatrix2fv":_glUniformMatrix2fv,"glUniformMatrix3fv":_glUniformMatrix3fv,"glUniformMatrix4fv":_glUniformMatrix4fv,"glUseProgram":_glUseProgram,"glVertexAttribPointer":_glVertexAttribPointer,"glViewport":_glViewport,"gmtime_r":_gmtime_r,"invoke_diii":invoke_diii,"invoke_i":invoke_i,"invoke_ii":invoke_ii,"invoke_iii":invoke_iii,"invoke_iiii":invoke_iiii,"invoke_iiiii":invoke_iiiii,"invoke_iiiiii":invoke_iiiiii,"invoke_iiiiiii":invoke_iiiiiii,"invoke_iiiiiiiddi":invoke_iiiiiiiddi,"invoke_iiiiiiii":invoke_iiiiiiii,"invoke_iiiiiiiii":invoke_iiiiiiiii,"invoke_iiiiiiiiii":invoke_iiiiiiiiii,"invoke_v":invoke_v,"invoke_vdiii":invoke_vdiii,"invoke_vi":invoke_vi,"invoke_vididdii":invoke_vididdii,"invoke_vidii":invoke_vidii,"invoke_vii":invoke_vii,"invoke_viid":invoke_viid,"invoke_viidd":invoke_viidd,"invoke_viidi":invoke_viidi,"invoke_viididii":invoke_viididii,"invoke_viii":invoke_viii,"invoke_viiid":invoke_viiid,"invoke_viiidd":invoke_viiidd,"invoke_viiiddi":invoke_viiiddi,"invoke_viiidi":invoke_viiidi,"invoke_viiii":invoke_viiii,"invoke_viiiid":invoke_viiiid,"invoke_viiiidi":invoke_viiiidi,"invoke_viiiidid":invoke_viiiidid,"invoke_viiiidiidiiiiiii":invoke_viiiidiidiiiiiii,"invoke_viiiifiifiiiiiii":invoke_viiiifiifiiiiiii,"invoke_viiiii":invoke_viiiii,"invoke_viiiiid":invoke_viiiiid,"invoke_viiiiif":invoke_viiiiif,"invoke_viiiiii":invoke_viiiiii,"invoke_viiiiiid":invoke_viiiiiid,"invoke_viiiiiif":invoke_viiiiiif,"invoke_viiiiiii":invoke_viiiiiii,"invoke_viiiiiiiddi":invoke_viiiiiiiddi,"invoke_viiiiiiidiiii":invoke_viiiiiiidiiii,"invoke_viiiiiiifiiii":invoke_viiiiiiifiiii,"invoke_viiiiiiii":invoke_viiiiiiii,"invoke_viiiiiiiidd":invoke_viiiiiiiidd,"invoke_viiiiiiiidf":invoke_viiiiiiiidf,"invoke_viiiiiiiii":invoke_viiiiiiiii,"invoke_viiiiiiiiidd":invoke_viiiiiiiiidd,"invoke_viiiiiiiiiddi":invoke_viiiiiiiiiddi,"invoke_viiiiiiiiii":invoke_viiiiiiiiii,"invoke_viiiiiiiiiiddi":invoke_viiiiiiiiiiddi,"invoke_viiiiiiiiiii":invoke_viiiiiiiiiii,"invoke_viiiiiiiiiiii":invoke_viiiiiiiiiiii,"invoke_viiiiiiiiiiiii":invoke_viiiiiiiiiiiii,"llvm_eh_typeid_for":_llvm_eh_typeid_for,"localtime_r":_localtime_r,"mktime":_mktime,"pthread_create":_pthread_create,"pthread_join":_pthread_join,"setTempRet0":_setTempRet0,"strftime":_strftime,"strftime_l":_strftime_l};var asm=createWasm();var ___wasm_call_ctors=Module["___wasm_call_ctors"]=createExportWrapper("__wasm_call_ctors");var _memset=Module["_memset"]=createExportWrapper("memset");var _free=Module["_free"]=createExportWrapper("free");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var ___errno_location=Module["___errno_location"]=createExportWrapper("__errno_location");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var ___getTypeName=Module["___getTypeName"]=createExportWrapper("__getTypeName");var ___embind_register_native_and_builtin_types=Module["___embind_register_native_and_builtin_types"]=createExportWrapper("__embind_register_native_and_builtin_types");var __get_tzname=Module["__get_tzname"]=createExportWrapper("_get_tzname");var __get_daylight=Module["__get_daylight"]=createExportWrapper("_get_daylight");var __get_timezone=Module["__get_timezone"]=createExportWrapper("_get_timezone");var _emscripten_main_thread_process_queued_calls=Module["_emscripten_main_thread_process_queued_calls"]=createExportWrapper("emscripten_main_thread_process_queued_calls");var _emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=function(){return(_emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=Module["asm"]["emscripten_stack_get_end"]).apply(null,arguments)};var stackSave=Module["stackSave"]=createExportWrapper("stackSave");var stackRestore=Module["stackRestore"]=createExportWrapper("stackRestore");var stackAlloc=Module["stackAlloc"]=createExportWrapper("stackAlloc");var _emscripten_stack_init=Module["_emscripten_stack_init"]=function(){return(_emscripten_stack_init=Module["_emscripten_stack_init"]=Module["asm"]["emscripten_stack_init"]).apply(null,arguments)};var _emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=function(){return(_emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=Module["asm"]["emscripten_stack_get_free"]).apply(null,arguments)};var _setThrew=Module["_setThrew"]=createExportWrapper("setThrew");var _memalign=Module["_memalign"]=createExportWrapper("memalign");var dynCall_viijii=Module["dynCall_viijii"]=createExportWrapper("dynCall_viijii");var dynCall_ji=Module["dynCall_ji"]=createExportWrapper("dynCall_ji");var dynCall_jii=Module["dynCall_jii"]=createExportWrapper("dynCall_jii");var dynCall_jf=Module["dynCall_jf"]=createExportWrapper("dynCall_jf");var dynCall_jiii=Module["dynCall_jiii"]=createExportWrapper("dynCall_jiii");var dynCall_viji=Module["dynCall_viji"]=createExportWrapper("dynCall_viji");var dynCall_vij=Module["dynCall_vij"]=createExportWrapper("dynCall_vij");var dynCall_vijii=Module["dynCall_vijii"]=createExportWrapper("dynCall_vijii");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_jjj=Module["dynCall_jjj"]=createExportWrapper("dynCall_jjj");var dynCall_iiiijj=Module["dynCall_iiiijj"]=createExportWrapper("dynCall_iiiijj");var dynCall_viijj=Module["dynCall_viijj"]=createExportWrapper("dynCall_viijj");var dynCall_viiijjjj=Module["dynCall_viiijjjj"]=createExportWrapper("dynCall_viiijjjj");var dynCall_jiiii=Module["dynCall_jiiii"]=createExportWrapper("dynCall_jiiii");var dynCall_vji=Module["dynCall_vji"]=createExportWrapper("dynCall_vji");var dynCall_vj=Module["dynCall_vj"]=createExportWrapper("dynCall_vj");var dynCall_viij=Module["dynCall_viij"]=createExportWrapper("dynCall_viij");var dynCall_viiiiij=Module["dynCall_viiiiij"]=createExportWrapper("dynCall_viiiiij");var dynCall_iijjiiii=Module["dynCall_iijjiiii"]=createExportWrapper("dynCall_iijjiiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");var dynCall_iiiiij=Module["dynCall_iiiiij"]=createExportWrapper("dynCall_iiiiij");var dynCall_iiiiijj=Module["dynCall_iiiiijj"]=createExportWrapper("dynCall_iiiiijj");var dynCall_iiiiiijj=Module["dynCall_iiiiiijj"]=createExportWrapper("dynCall_iiiiiijj");function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiii(index,a1,a2,a3,a4){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_ii(index,a1){var sp=stackSave();try{return wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vii(index,a1,a2){var sp=stackSave();try{wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vi(index,a1){var sp=stackSave();try{wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_v(index){var sp=stackSave();try{wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viid(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidd(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_diii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidd(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiidd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiddi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_i(index){var sp=stackSave();try{return wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidi(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vdiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vididdii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viididii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidf(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiid(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiidiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiif(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiif(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiifiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiifiifiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidiidiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiid(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vidii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiid(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidi(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}if(!Object.getOwnPropertyDescriptor(Module,"intArrayFromString"))Module["intArrayFromString"]=function(){abort("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"intArrayToString"))Module["intArrayToString"]=function(){abort("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ccall"))Module["ccall"]=function(){abort("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"cwrap"))Module["cwrap"]=function(){abort("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setValue"))Module["setValue"]=function(){abort("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getValue"))Module["getValue"]=function(){abort("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocate"))Module["allocate"]=function(){abort("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ArrayToString"))Module["UTF8ArrayToString"]=function(){abort("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ToString"))Module["UTF8ToString"]=function(){abort("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8Array"))Module["stringToUTF8Array"]=function(){abort("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8"))Module["stringToUTF8"]=function(){abort("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF8"))Module["lengthBytesUTF8"]=function(){abort("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreRun"))Module["addOnPreRun"]=function(){abort("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnInit"))Module["addOnInit"]=function(){abort("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreMain"))Module["addOnPreMain"]=function(){abort("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnExit"))Module["addOnExit"]=function(){abort("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPostRun"))Module["addOnPostRun"]=function(){abort("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeStringToMemory"))Module["writeStringToMemory"]=function(){abort("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeArrayToMemory"))Module["writeArrayToMemory"]=function(){abort("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeAsciiToMemory"))Module["writeAsciiToMemory"]=function(){abort("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;if(!Object.getOwnPropertyDescriptor(Module,"FS_createFolder"))Module["FS_createFolder"]=function(){abort("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;if(!Object.getOwnPropertyDescriptor(Module,"FS_createLink"))Module["FS_createLink"]=function(){abort("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;if(!Object.getOwnPropertyDescriptor(Module,"getLEB"))Module["getLEB"]=function(){abort("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFunctionTables"))Module["getFunctionTables"]=function(){abort("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"alignFunctionTables"))Module["alignFunctionTables"]=function(){abort("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFunctions"))Module["registerFunctions"]=function(){abort("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addFunction"))Module["addFunction"]=function(){abort("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"removeFunction"))Module["removeFunction"]=function(){abort("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"prettyPrint"))Module["prettyPrint"]=function(){abort("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeBigInt"))Module["makeBigInt"]=function(){abort("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCompilerSetting"))Module["getCompilerSetting"]=function(){abort("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"print"))Module["print"]=function(){abort("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"printErr"))Module["printErr"]=function(){abort("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTempRet0"))Module["getTempRet0"]=function(){abort("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setTempRet0"))Module["setTempRet0"]=function(){abort("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callMain"))Module["callMain"]=function(){abort("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"abort"))Module["abort"]=function(){abort("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToNewUTF8"))Module["stringToNewUTF8"]=function(){abort("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setFileTime"))Module["setFileTime"]=function(){abort("'setFileTime' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscripten_realloc_buffer"))Module["emscripten_realloc_buffer"]=function(){abort("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ENV"))Module["ENV"]=function(){abort("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_CODES"))Module["ERRNO_CODES"]=function(){abort("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_MESSAGES"))Module["ERRNO_MESSAGES"]=function(){abort("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setErrNo"))Module["setErrNo"]=function(){abort("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton4"))Module["inetPton4"]=function(){abort("'inetPton4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop4"))Module["inetNtop4"]=function(){abort("'inetNtop4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton6"))Module["inetPton6"]=function(){abort("'inetPton6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop6"))Module["inetNtop6"]=function(){abort("'inetNtop6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readSockaddr"))Module["readSockaddr"]=function(){abort("'readSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeSockaddr"))Module["writeSockaddr"]=function(){abort("'writeSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"DNS"))Module["DNS"]=function(){abort("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getHostByName"))Module["getHostByName"]=function(){abort("'getHostByName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GAI_ERRNO_MESSAGES"))Module["GAI_ERRNO_MESSAGES"]=function(){abort("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Protocols"))Module["Protocols"]=function(){abort("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Sockets"))Module["Sockets"]=function(){abort("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getRandomDevice"))Module["getRandomDevice"]=function(){abort("'getRandomDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"traverseStack"))Module["traverseStack"]=function(){abort("'traverseStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UNWIND_CACHE"))Module["UNWIND_CACHE"]=function(){abort("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"withBuiltinMalloc"))Module["withBuiltinMalloc"]=function(){abort("'withBuiltinMalloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgsArray"))Module["readAsmConstArgsArray"]=function(){abort("'readAsmConstArgsArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgs"))Module["readAsmConstArgs"]=function(){abort("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mainThreadEM_ASM"))Module["mainThreadEM_ASM"]=function(){abort("'mainThreadEM_ASM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_q"))Module["jstoi_q"]=function(){abort("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_s"))Module["jstoi_s"]=function(){abort("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getExecutableName"))Module["getExecutableName"]=function(){abort("'getExecutableName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"listenOnce"))Module["listenOnce"]=function(){abort("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"autoResumeAudioContext"))Module["autoResumeAudioContext"]=function(){abort("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCallLegacy"))Module["dynCallLegacy"]=function(){abort("'dynCallLegacy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getDynCaller"))Module["getDynCaller"]=function(){abort("'getDynCaller' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callRuntimeCallbacks"))Module["callRuntimeCallbacks"]=function(){abort("'callRuntimeCallbacks' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepaliveCounter"))Module["runtimeKeepaliveCounter"]=function(){abort("'runtimeKeepaliveCounter' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"keepRuntimeAlive"))Module["keepRuntimeAlive"]=function(){abort("'keepRuntimeAlive' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePush"))Module["runtimeKeepalivePush"]=function(){abort("'runtimeKeepalivePush' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePop"))Module["runtimeKeepalivePop"]=function(){abort("'runtimeKeepalivePop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callUserCallback"))Module["callUserCallback"]=function(){abort("'callUserCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"maybeExit"))Module["maybeExit"]=function(){abort("'maybeExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reallyNegative"))Module["reallyNegative"]=function(){abort("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unSign"))Module["unSign"]=function(){abort("'unSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reSign"))Module["reSign"]=function(){abort("'reSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"formatString"))Module["formatString"]=function(){abort("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH"))Module["PATH"]=function(){abort("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH_FS"))Module["PATH_FS"]=function(){abort("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SYSCALLS"))Module["SYSCALLS"]=function(){abort("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMmap2"))Module["syscallMmap2"]=function(){abort("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMunmap"))Module["syscallMunmap"]=function(){abort("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketFromFD"))Module["getSocketFromFD"]=function(){abort("'getSocketFromFD' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketAddress"))Module["getSocketAddress"]=function(){abort("'getSocketAddress' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"JSEvents"))Module["JSEvents"]=function(){abort("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerKeyEventCallback"))Module["registerKeyEventCallback"]=function(){abort("'registerKeyEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"specialHTMLTargets"))Module["specialHTMLTargets"]=function(){abort("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findEventTarget"))Module["findEventTarget"]=function(){abort("'findEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findCanvasEventTarget"))Module["findCanvasEventTarget"]=function(){abort("'findCanvasEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBoundingClientRect"))Module["getBoundingClientRect"]=function(){abort("'getBoundingClientRect' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillMouseEventData"))Module["fillMouseEventData"]=function(){abort("'fillMouseEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerMouseEventCallback"))Module["registerMouseEventCallback"]=function(){abort("'registerMouseEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerWheelEventCallback"))Module["registerWheelEventCallback"]=function(){abort("'registerWheelEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerUiEventCallback"))Module["registerUiEventCallback"]=function(){abort("'registerUiEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFocusEventCallback"))Module["registerFocusEventCallback"]=function(){abort("'registerFocusEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceOrientationEventData"))Module["fillDeviceOrientationEventData"]=function(){abort("'fillDeviceOrientationEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceOrientationEventCallback"))Module["registerDeviceOrientationEventCallback"]=function(){abort("'registerDeviceOrientationEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceMotionEventData"))Module["fillDeviceMotionEventData"]=function(){abort("'fillDeviceMotionEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceMotionEventCallback"))Module["registerDeviceMotionEventCallback"]=function(){abort("'registerDeviceMotionEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"screenOrientation"))Module["screenOrientation"]=function(){abort("'screenOrientation' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillOrientationChangeEventData"))Module["fillOrientationChangeEventData"]=function(){abort("'fillOrientationChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerOrientationChangeEventCallback"))Module["registerOrientationChangeEventCallback"]=function(){abort("'registerOrientationChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillFullscreenChangeEventData"))Module["fillFullscreenChangeEventData"]=function(){abort("'fillFullscreenChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFullscreenChangeEventCallback"))Module["registerFullscreenChangeEventCallback"]=function(){abort("'registerFullscreenChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerRestoreOldStyle"))Module["registerRestoreOldStyle"]=function(){abort("'registerRestoreOldStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"hideEverythingExceptGivenElement"))Module["hideEverythingExceptGivenElement"]=function(){abort("'hideEverythingExceptGivenElement' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreHiddenElements"))Module["restoreHiddenElements"]=function(){abort("'restoreHiddenElements' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setLetterbox"))Module["setLetterbox"]=function(){abort("'setLetterbox' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"currentFullscreenStrategy"))Module["currentFullscreenStrategy"]=function(){abort("'currentFullscreenStrategy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreOldWindowedStyle"))Module["restoreOldWindowedStyle"]=function(){abort("'restoreOldWindowedStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"softFullscreenResizeWebGLRenderTarget"))Module["softFullscreenResizeWebGLRenderTarget"]=function(){abort("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"doRequestFullscreen"))Module["doRequestFullscreen"]=function(){abort("'doRequestFullscreen' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillPointerlockChangeEventData"))Module["fillPointerlockChangeEventData"]=function(){abort("'fillPointerlockChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockChangeEventCallback"))Module["registerPointerlockChangeEventCallback"]=function(){abort("'registerPointerlockChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockErrorEventCallback"))Module["registerPointerlockErrorEventCallback"]=function(){abort("'registerPointerlockErrorEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requestPointerLock"))Module["requestPointerLock"]=function(){abort("'requestPointerLock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillVisibilityChangeEventData"))Module["fillVisibilityChangeEventData"]=function(){abort("'fillVisibilityChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerVisibilityChangeEventCallback"))Module["registerVisibilityChangeEventCallback"]=function(){abort("'registerVisibilityChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerTouchEventCallback"))Module["registerTouchEventCallback"]=function(){abort("'registerTouchEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillGamepadEventData"))Module["fillGamepadEventData"]=function(){abort("'fillGamepadEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerGamepadEventCallback"))Module["registerGamepadEventCallback"]=function(){abort("'registerGamepadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBeforeUnloadEventCallback"))Module["registerBeforeUnloadEventCallback"]=function(){abort("'registerBeforeUnloadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillBatteryEventData"))Module["fillBatteryEventData"]=function(){abort("'fillBatteryEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"battery"))Module["battery"]=function(){abort("'battery' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBatteryEventCallback"))Module["registerBatteryEventCallback"]=function(){abort("'registerBatteryEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setCanvasElementSize"))Module["setCanvasElementSize"]=function(){abort("'setCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCanvasElementSize"))Module["getCanvasElementSize"]=function(){abort("'getCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"polyfillSetImmediate"))Module["polyfillSetImmediate"]=function(){abort("'polyfillSetImmediate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangle"))Module["demangle"]=function(){abort("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangleAll"))Module["demangleAll"]=function(){abort("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jsStackTrace"))Module["jsStackTrace"]=function(){abort("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getEnvStrings"))Module["getEnvStrings"]=function(){abort("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"checkWasiClock"))Module["checkWasiClock"]=function(){abort("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64"))Module["writeI53ToI64"]=function(){abort("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Clamped"))Module["writeI53ToI64Clamped"]=function(){abort("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Signaling"))Module["writeI53ToI64Signaling"]=function(){abort("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Clamped"))Module["writeI53ToU64Clamped"]=function(){abort("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Signaling"))Module["writeI53ToU64Signaling"]=function(){abort("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromI64"))Module["readI53FromI64"]=function(){abort("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromU64"))Module["readI53FromU64"]=function(){abort("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertI32PairToI53"))Module["convertI32PairToI53"]=function(){abort("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertU32PairToI53"))Module["convertU32PairToI53"]=function(){abort("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"uncaughtExceptionCount"))Module["uncaughtExceptionCount"]=function(){abort("'uncaughtExceptionCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionLast"))Module["exceptionLast"]=function(){abort("'exceptionLast' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionCaught"))Module["exceptionCaught"]=function(){abort("'exceptionCaught' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfoAttrs"))Module["ExceptionInfoAttrs"]=function(){abort("'ExceptionInfoAttrs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfo"))Module["ExceptionInfo"]=function(){abort("'ExceptionInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"CatchInfo"))Module["CatchInfo"]=function(){abort("'CatchInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_addRef"))Module["exception_addRef"]=function(){abort("'exception_addRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_decRef"))Module["exception_decRef"]=function(){abort("'exception_decRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Browser"))Module["Browser"]=function(){abort("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"funcWrappers"))Module["funcWrappers"]=function(){abort("'funcWrappers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setMainLoop"))Module["setMainLoop"]=function(){abort("'setMainLoop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"FS"))Module["FS"]=function(){abort("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mmapAlloc"))Module["mmapAlloc"]=function(){abort("'mmapAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"MEMFS"))Module["MEMFS"]=function(){abort("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"TTY"))Module["TTY"]=function(){abort("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PIPEFS"))Module["PIPEFS"]=function(){abort("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SOCKFS"))Module["SOCKFS"]=function(){abort("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"_setNetworkCallback"))Module["_setNetworkCallback"]=function(){abort("'_setNetworkCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tempFixedLengthArray"))Module["tempFixedLengthArray"]=function(){abort("'tempFixedLengthArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"miniTempWebGLFloatBuffers"))Module["miniTempWebGLFloatBuffers"]=function(){abort("'miniTempWebGLFloatBuffers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapObjectForWebGLType"))Module["heapObjectForWebGLType"]=function(){abort("'heapObjectForWebGLType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapAccessShiftForWebGLHeap"))Module["heapAccessShiftForWebGLHeap"]=function(){abort("'heapAccessShiftForWebGLHeap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GL"))Module["GL"]=function(){abort("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGet"))Module["emscriptenWebGLGet"]=function(){abort("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"computeUnpackAlignedImageSize"))Module["computeUnpackAlignedImageSize"]=function(){abort("'computeUnpackAlignedImageSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetTexPixelData"))Module["emscriptenWebGLGetTexPixelData"]=function(){abort("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetUniform"))Module["emscriptenWebGLGetUniform"]=function(){abort("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetVertexAttrib"))Module["emscriptenWebGLGetVertexAttrib"]=function(){abort("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetBufferBinding"))Module["emscriptenWebGLGetBufferBinding"]=function(){abort("'emscriptenWebGLGetBufferBinding' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLValidateMapBufferTarget"))Module["emscriptenWebGLValidateMapBufferTarget"]=function(){abort("'emscriptenWebGLValidateMapBufferTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeGLArray"))Module["writeGLArray"]=function(){abort("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AL"))Module["AL"]=function(){abort("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_unicode"))Module["SDL_unicode"]=function(){abort("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_ttfContext"))Module["SDL_ttfContext"]=function(){abort("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_audio"))Module["SDL_audio"]=function(){abort("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL"))Module["SDL"]=function(){abort("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_gfx"))Module["SDL_gfx"]=function(){abort("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLUT"))Module["GLUT"]=function(){abort("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"EGL"))Module["EGL"]=function(){abort("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW_Window"))Module["GLFW_Window"]=function(){abort("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW"))Module["GLFW"]=function(){abort("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLEW"))Module["GLEW"]=function(){abort("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"IDBStore"))Module["IDBStore"]=function(){abort("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runAndAbortIfError"))Module["runAndAbortIfError"]=function(){abort("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_handle_array"))Module["emval_handle_array"]=function(){abort("'emval_handle_array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_free_list"))Module["emval_free_list"]=function(){abort("'emval_free_list' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_symbols"))Module["emval_symbols"]=function(){abort("'emval_symbols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_emval"))Module["init_emval"]=function(){abort("'init_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"count_emval_handles"))Module["count_emval_handles"]=function(){abort("'count_emval_handles' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"get_first_emval"))Module["get_first_emval"]=function(){abort("'get_first_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getStringOrSymbol"))Module["getStringOrSymbol"]=function(){abort("'getStringOrSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireHandle"))Module["requireHandle"]=function(){abort("'requireHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_newers"))Module["emval_newers"]=function(){abort("'emval_newers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftEmvalAllocator"))Module["craftEmvalAllocator"]=function(){abort("'craftEmvalAllocator' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_get_global"))Module["emval_get_global"]=function(){abort("'emval_get_global' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_methodCallers"))Module["emval_methodCallers"]=function(){abort("'emval_methodCallers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"InternalError"))Module["InternalError"]=function(){abort("'InternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"BindingError"))Module["BindingError"]=function(){abort("'BindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UnboundTypeError"))Module["UnboundTypeError"]=function(){abort("'UnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PureVirtualError"))Module["PureVirtualError"]=function(){abort("'PureVirtualError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_embind"))Module["init_embind"]=function(){abort("'init_embind' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInternalError"))Module["throwInternalError"]=function(){abort("'throwInternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwBindingError"))Module["throwBindingError"]=function(){abort("'throwBindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwUnboundTypeError"))Module["throwUnboundTypeError"]=function(){abort("'throwUnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ensureOverloadTable"))Module["ensureOverloadTable"]=function(){abort("'ensureOverloadTable' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exposePublicSymbol"))Module["exposePublicSymbol"]=function(){abort("'exposePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"replacePublicSymbol"))Module["replacePublicSymbol"]=function(){abort("'replacePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"extendError"))Module["extendError"]=function(){abort("'extendError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"createNamedFunction"))Module["createNamedFunction"]=function(){abort("'createNamedFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredInstances"))Module["registeredInstances"]=function(){abort("'registeredInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBasestPointer"))Module["getBasestPointer"]=function(){abort("'getBasestPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerInheritedInstance"))Module["registerInheritedInstance"]=function(){abort("'registerInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unregisterInheritedInstance"))Module["unregisterInheritedInstance"]=function(){abort("'unregisterInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstance"))Module["getInheritedInstance"]=function(){abort("'getInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstanceCount"))Module["getInheritedInstanceCount"]=function(){abort("'getInheritedInstanceCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getLiveInheritedInstances"))Module["getLiveInheritedInstances"]=function(){abort("'getLiveInheritedInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredTypes"))Module["registeredTypes"]=function(){abort("'registeredTypes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"awaitingDependencies"))Module["awaitingDependencies"]=function(){abort("'awaitingDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"typeDependencies"))Module["typeDependencies"]=function(){abort("'typeDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredPointers"))Module["registeredPointers"]=function(){abort("'registeredPointers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerType"))Module["registerType"]=function(){abort("'registerType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"whenDependentTypesAreResolved"))Module["whenDependentTypesAreResolved"]=function(){abort("'whenDependentTypesAreResolved' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_charCodes"))Module["embind_charCodes"]=function(){abort("'embind_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_init_charCodes"))Module["embind_init_charCodes"]=function(){abort("'embind_init_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readLatin1String"))Module["readLatin1String"]=function(){abort("'readLatin1String' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTypeName"))Module["getTypeName"]=function(){abort("'getTypeName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heap32VectorToArray"))Module["heap32VectorToArray"]=function(){abort("'heap32VectorToArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireRegisteredType"))Module["requireRegisteredType"]=function(){abort("'requireRegisteredType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getShiftFromSize"))Module["getShiftFromSize"]=function(){abort("'getShiftFromSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"integerReadValueFromPointer"))Module["integerReadValueFromPointer"]=function(){abort("'integerReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"enumReadValueFromPointer"))Module["enumReadValueFromPointer"]=function(){abort("'enumReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"floatReadValueFromPointer"))Module["floatReadValueFromPointer"]=function(){abort("'floatReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"simpleReadValueFromPointer"))Module["simpleReadValueFromPointer"]=function(){abort("'simpleReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructors"))Module["runDestructors"]=function(){abort("'runDestructors' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"new_"))Module["new_"]=function(){abort("'new_' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftInvokerFunction"))Module["craftInvokerFunction"]=function(){abort("'craftInvokerFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind__requireFunction"))Module["embind__requireFunction"]=function(){abort("'embind__requireFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tupleRegistrations"))Module["tupleRegistrations"]=function(){abort("'tupleRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"structRegistrations"))Module["structRegistrations"]=function(){abort("'structRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"genericPointerToWireType"))Module["genericPointerToWireType"]=function(){abort("'genericPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"constNoSmartPtrRawPointerToWireType"))Module["constNoSmartPtrRawPointerToWireType"]=function(){abort("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"nonConstNoSmartPtrRawPointerToWireType"))Module["nonConstNoSmartPtrRawPointerToWireType"]=function(){abort("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_RegisteredPointer"))Module["init_RegisteredPointer"]=function(){abort("'init_RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer"))Module["RegisteredPointer"]=function(){abort("'RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_getPointee"))Module["RegisteredPointer_getPointee"]=function(){abort("'RegisteredPointer_getPointee' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_destructor"))Module["RegisteredPointer_destructor"]=function(){abort("'RegisteredPointer_destructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_deleteObject"))Module["RegisteredPointer_deleteObject"]=function(){abort("'RegisteredPointer_deleteObject' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_fromWireType"))Module["RegisteredPointer_fromWireType"]=function(){abort("'RegisteredPointer_fromWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructor"))Module["runDestructor"]=function(){abort("'runDestructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"releaseClassHandle"))Module["releaseClassHandle"]=function(){abort("'releaseClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"finalizationGroup"))Module["finalizationGroup"]=function(){abort("'finalizationGroup' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer_deps"))Module["detachFinalizer_deps"]=function(){abort("'detachFinalizer_deps' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer"))Module["detachFinalizer"]=function(){abort("'detachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"attachFinalizer"))Module["attachFinalizer"]=function(){abort("'attachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeClassHandle"))Module["makeClassHandle"]=function(){abort("'makeClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_ClassHandle"))Module["init_ClassHandle"]=function(){abort("'init_ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle"))Module["ClassHandle"]=function(){abort("'ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isAliasOf"))Module["ClassHandle_isAliasOf"]=function(){abort("'ClassHandle_isAliasOf' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInstanceAlreadyDeleted"))Module["throwInstanceAlreadyDeleted"]=function(){abort("'throwInstanceAlreadyDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_clone"))Module["ClassHandle_clone"]=function(){abort("'ClassHandle_clone' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_delete"))Module["ClassHandle_delete"]=function(){abort("'ClassHandle_delete' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"deletionQueue"))Module["deletionQueue"]=function(){abort("'deletionQueue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isDeleted"))Module["ClassHandle_isDeleted"]=function(){abort("'ClassHandle_isDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_deleteLater"))Module["ClassHandle_deleteLater"]=function(){abort("'ClassHandle_deleteLater' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"flushPendingDeletes"))Module["flushPendingDeletes"]=function(){abort("'flushPendingDeletes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"delayFunction"))Module["delayFunction"]=function(){abort("'delayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setDelayFunction"))Module["setDelayFunction"]=function(){abort("'setDelayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredClass"))Module["RegisteredClass"]=function(){abort("'RegisteredClass' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"shallowCopyInternalPointer"))Module["shallowCopyInternalPointer"]=function(){abort("'shallowCopyInternalPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"downcastPointer"))Module["downcastPointer"]=function(){abort("'downcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"upcastPointer"))Module["upcastPointer"]=function(){abort("'upcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"validateThis"))Module["validateThis"]=function(){abort("'validateThis' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_0"))Module["char_0"]=function(){abort("'char_0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_9"))Module["char_9"]=function(){abort("'char_9' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeLegalFunctionName"))Module["makeLegalFunctionName"]=function(){abort("'makeLegalFunctionName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetIndexed"))Module["emscriptenWebGLGetIndexed"]=function(){abort("'emscriptenWebGLGetIndexed' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"warnOnce"))Module["warnOnce"]=function(){abort("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackSave"))Module["stackSave"]=function(){abort("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackRestore"))Module["stackRestore"]=function(){abort("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackAlloc"))Module["stackAlloc"]=function(){abort("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AsciiToString"))Module["AsciiToString"]=function(){abort("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToAscii"))Module["stringToAscii"]=function(){abort("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF16ToString"))Module["UTF16ToString"]=function(){abort("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF16"))Module["stringToUTF16"]=function(){abort("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF16"))Module["lengthBytesUTF16"]=function(){abort("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF32ToString"))Module["UTF32ToString"]=function(){abort("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF32"))Module["stringToUTF32"]=function(){abort("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF32"))Module["lengthBytesUTF32"]=function(){abort("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8"))Module["allocateUTF8"]=function(){abort("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8OnStack"))Module["allocateUTF8OnStack"]=function(){abort("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["writeStackCookie"]=writeStackCookie;Module["checkStackCookie"]=checkStackCookie;if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_NORMAL"))Object.defineProperty(Module,"ALLOC_NORMAL",{configurable:true,get:function(){abort("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_STACK"))Object.defineProperty(Module,"ALLOC_STACK",{configurable:true,get:function(){abort("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var calledRun;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function stackCheckInit(){_emscripten_stack_init();writeStackCookie()}function run(args){args=args||arguments_;if(runDependencies>0){return}stackCheckInit();preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}checkStackCookie()}Module["run"]=run;function checkUnflushedContent(){var oldOut=out;var oldErr=err;var has=false;out=err=function(x){has=true};try{var flush=Module["_fflush"];if(flush)flush(0);["stdout","stderr"].forEach(function(name){var info=FS.analyzePath("/dev/"+name);if(!info)return;var stream=info.object;var rdev=stream.rdev;var tty=TTY.ttys[rdev];if(tty&&tty.output&&tty.output.length){has=true}})}catch(e){}out=oldOut;err=oldErr;if(has){warnOnce("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}}function exit(status,implicit){EXITSTATUS=status;checkUnflushedContent();if(implicit&&keepRuntimeAlive()&&status===0){return}if(keepRuntimeAlive()){if(!implicit){var msg="program exited (with status: "+status+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";readyPromiseReject(msg);err(msg)}}else{exitRuntime();if(Module["onExit"])Module["onExit"](status);ABORT=true}quit_(status,new ExitStatus(status))}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();
+
+
+  return createMediapipeSolutionsWasm.ready
+}
+);
+})();
+if (typeof exports === 'object' && typeof module === 'object')
+  module.exports = createMediapipeSolutionsWasm;
+else if (typeof define === 'function' && define['amd'])
+  define([], function() { return createMediapipeSolutionsWasm; });
+else if (typeof exports === 'object')
+  exports["createMediapipeSolutionsWasm"] = createMediapipeSolutionsWasm;
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness.html b/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness.html
new file mode 100644
index 0000000000000..04ab290c60fc7
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness.html
@@ -0,0 +1,96 @@
+<!DOCTYPE html>
+<html>
+  <head>
+    <style>
+      textarea { width: 500px; height: 100px; }
+      body {
+        font-family: Arial, Helvetica, sans-serif;
+      }
+      .group {
+        background-color: #e0eef3;
+        padding: 5px;
+        margin: 5px;
+      }
+      .instructions {
+        padding-bottom: 5px;
+      }
+      .run-test { width: 500px; }
+      .status { font-weight: 600; }
+      .title { font-size: 18pt; font-weight: 600; padding-bottom: 20px; }
+      .outputs, .inputs, .expects {
+        display: inline-block;
+        min-width: 20px;
+        min-height: 20px;
+        padding: 10px;
+        margin: 5px;
+      }
+      .inputs { background-color: red; }
+      .expects { background-color: orange; }
+      .outputs { background-color: green; }
+    </style>
+    <title>MediaPipe Graph Test for Web</title>
+  </head>
+<body>
+
+  <div class="title">Mediapipe for Web: %NAME%</div>
+
+  <div class="group">
+    <div class="instructions">
+      Test is loaded into the following input element:
+    </div>
+    <div class="input">
+      <textarea class="test"></textarea>
+    </div>
+    <button class="run-test">
+      Run Test
+    </button>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      When the graph loads, loaded status will turn COMPLETE.
+      When the test finishes, test status will turn COMPLETE.
+    </div>
+
+    <div class="status">
+      <span class="instructions">Loaded Status:</span>
+      <span class="test-ready">INCOMPLETE</span>
+    </div>
+
+    <div class="status">
+      <span class="instructions">Test Status:</span>
+      <span class="test-complete">INCOMPLETE</span>
+    </div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">Errors (if any) will show up here:</div>
+    <div class="errors"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Inputs:
+    </div>
+    <div class="inputs"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Expectations:
+    </div>
+    <div class="expects"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Outputs:
+    </div>
+    <div class="outputs"></div>
+  </div>
+
+</body>
+</html>
+<script src="test_harness_driver_bin.js"></script>
+<!-- The following line is replaced for the ":<name>_serve" target. Do not hand edit. -->
+<!--LOCALDRIVER-->
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness_driver_bin-bundle.js b/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness_driver_bin-bundle.js
new file mode 100644
index 0000000000000..2cb3d1c098271
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness_driver_bin-bundle.js
@@ -0,0 +1,6947 @@
+//javascript/closure/base.js
+/**
+ * @license
+ * Copyright The Closure Library Authors.
+ * SPDX-License-Identifier: Apache-2.0
+ */
+
+/**
+ * @fileoverview Bootstrap for the Google JS Library (Closure).
+ *
+ * In uncompiled mode base.js will attempt to load Closure's deps file, unless
+ * the global <code>CLOSURE_NO_DEPS</code> is set to true.  This allows projects
+ * to include their own deps file(s) from different locations.
+ *
+ * Avoid including base.js more than once. This is strictly discouraged and not
+ * supported. goog.require(...) won't work properly in that case.
+ *
+ * @provideGoog
+ */
+
+
+/**
+ * @define {boolean} Overridden to true by the compiler.
+ */
+var COMPILED = false;
+
+
+/**
+ * Base namespace for the Closure library.  Checks to see goog is already
+ * defined in the current scope before assigning to prevent clobbering if
+ * base.js is loaded more than once.
+ *
+ * @const
+ */
+var goog = goog || {};
+
+/**
+ * Reference to the global object.
+ * https://www.ecma-international.org/ecma-262/9.0/index.html#sec-global-object
+ *
+ * More info on this implementation here:
+ * https://docs.google.com/document/d/1NAeW4Wk7I7FV0Y2tcUFvQdGMc89k2vdgSXInw8_nvCI/edit
+ *
+ * @const
+ * @suppress {undefinedVars} self won't be referenced unless `this` is falsy.
+ * @type {!Global}
+ */
+goog.global =
+    // Check `this` first for backwards compatibility.
+    // Valid unless running as an ES module or in a function wrapper called
+    //   without setting `this` properly.
+    // Note that base.js can't usefully be imported as an ES module, but it may
+    // be compiled into bundles that are loadable as ES modules.
+    this ||
+    // https://developer.mozilla.org/en-US/docs/Web/API/Window/self
+    // For in-page browser environments and workers.
+    self;
+
+
+/**
+ * A hook for overriding the define values in uncompiled mode.
+ *
+ * In uncompiled mode, `CLOSURE_UNCOMPILED_DEFINES` may be defined before
+ * loading base.js.  If a key is defined in `CLOSURE_UNCOMPILED_DEFINES`,
+ * `goog.define` will use the value instead of the default value.  This
+ * allows flags to be overwritten without compilation (this is normally
+ * accomplished with the compiler's "define" flag).
+ *
+ * Example:
+ * <pre>
+ *   var CLOSURE_UNCOMPILED_DEFINES = {'goog.DEBUG': false};
+ * </pre>
+ *
+ * @type {Object<string, (string|number|boolean)>|undefined}
+ */
+goog.global.CLOSURE_UNCOMPILED_DEFINES;
+
+
+/**
+ * A hook for overriding the define values in uncompiled or compiled mode,
+ * like CLOSURE_UNCOMPILED_DEFINES but effective in compiled code.  In
+ * uncompiled code CLOSURE_UNCOMPILED_DEFINES takes precedence.
+ *
+ * Also unlike CLOSURE_UNCOMPILED_DEFINES the values must be number, boolean or
+ * string literals or the compiler will emit an error.
+ *
+ * While any @define value may be set, only those set with goog.define will be
+ * effective for uncompiled code.
+ *
+ * Example:
+ * <pre>
+ *   var CLOSURE_DEFINES = {'goog.DEBUG': false} ;
+ * </pre>
+ *
+ * @type {Object<string, (string|number|boolean)>|undefined}
+ */
+goog.global.CLOSURE_DEFINES;
+
+
+/**
+ * Builds an object structure for the provided namespace path, ensuring that
+ * names that already exist are not overwritten. For example:
+ * "a.b.c" -> a = {};a.b={};a.b.c={};
+ * Used by goog.provide and goog.exportSymbol.
+ * @param {string} name The name of the object that this file defines.
+ * @param {*=} object The object to expose at the end of the path.
+ * @param {boolean=} overwriteImplicit If object is set and a previous call
+ *     implicitly constructed the namespace given by name, this parameter
+ *     controls whether object should overwrite the implicitly constructed
+ *     namespace or be merged into it. Defaults to false.
+ * @param {?Object=} objectToExportTo The object to add the path to; if this
+ *     field is not specified, its value defaults to `goog.global`.
+ * @private
+ */
+goog.exportPath_ = function(name, object, overwriteImplicit, objectToExportTo) {
+  var parts = name.split('.');
+  var cur = objectToExportTo || goog.global;
+
+  // Internet Explorer exhibits strange behavior when throwing errors from
+  // methods externed in this manner.  See the testExportSymbolExceptions in
+  // base_test.html for an example.
+  if (!(parts[0] in cur) && typeof cur.execScript != 'undefined') {
+    cur.execScript('var ' + parts[0]);
+  }
+
+  for (var part; parts.length && (part = parts.shift());) {
+    if (!parts.length && object !== undefined) {
+      if (!overwriteImplicit && goog.isObject(object) &&
+          goog.isObject(cur[part])) {
+        // Merge properties on object (the input parameter) with the existing
+        // implicitly defined namespace, so as to not clobber previously
+        // defined child namespaces.
+        for (var prop in object) {
+          if (object.hasOwnProperty(prop)) {
+            cur[part][prop] = object[prop];
+          }
+        }
+      } else {
+        // Either there is no existing implicit namespace, or overwriteImplicit
+        // is set to true, so directly assign object (the input parameter) to
+        // the namespace.
+        cur[part] = object;
+      }
+    } else if (cur[part] && cur[part] !== Object.prototype[part]) {
+      cur = cur[part];
+    } else {
+      cur = cur[part] = {};
+    }
+  }
+};
+
+
+/**
+ * Defines a named value. In uncompiled mode, the value is retrieved from
+ * CLOSURE_DEFINES or CLOSURE_UNCOMPILED_DEFINES if the object is defined and
+ * has the property specified, and otherwise used the defined defaultValue.
+ * When compiled the default can be overridden using the compiler options or the
+ * value set in the CLOSURE_DEFINES object. Returns the defined value so that it
+ * can be used safely in modules. Note that the value type MUST be either
+ * boolean, number, or string.
+ *
+ * @param {string} name The distinguished name to provide.
+ * @param {T} defaultValue
+ * @return {T} The defined value.
+ * @template T
+ */
+goog.define = function(name, defaultValue) {
+  var value = defaultValue;
+  if (!COMPILED) {
+    var uncompiledDefines = goog.global.CLOSURE_UNCOMPILED_DEFINES;
+    var defines = goog.global.CLOSURE_DEFINES;
+    if (uncompiledDefines &&
+        // Anti DOM-clobbering runtime check (b/37736576).
+        /** @type {?} */ (uncompiledDefines).nodeType === undefined &&
+        Object.prototype.hasOwnProperty.call(uncompiledDefines, name)) {
+      value = uncompiledDefines[name];
+    } else if (
+        defines &&
+        // Anti DOM-clobbering runtime check (b/37736576).
+        /** @type {?} */ (defines).nodeType === undefined &&
+        Object.prototype.hasOwnProperty.call(defines, name)) {
+      value = defines[name];
+    }
+  }
+  return value;
+};
+
+
+/**
+ * @define {number} Integer year indicating the set of browser features that are
+ * guaranteed to be present.  This is defined to include exactly features that
+ * work correctly on all "modern" browsers that are stable on January 1 of the
+ * specified year.  For example,
+ * ```js
+ * if (goog.FEATURESET_YEAR >= 2019) {
+ *   // use APIs known to be available on all major stable browsers Jan 1, 2019
+ * } else {
+ *   // polyfill for older browsers
+ * }
+ * ```
+ * This is intended to be the primary define for removing
+ * unnecessary browser compatibility code (such as ponyfills and workarounds),
+ * and should inform the default value for most other defines:
+ * ```js
+ * const ASSUME_NATIVE_PROMISE =
+ *     goog.define('ASSUME_NATIVE_PROMISE', goog.FEATURESET_YEAR >= 2016);
+ * ```
+ *
+ * The default assumption is that IE9 is the lowest supported browser, which was
+ * first available Jan 1, 2012.
+ *
+ * TODO(mathiasb): Reference more thorough documentation when it's available.
+ */
+goog.FEATURESET_YEAR = goog.define('goog.FEATURESET_YEAR', 2012);
+
+
+/**
+ * @define {boolean} DEBUG is provided as a convenience so that debugging code
+ * that should not be included in a production. It can be easily stripped
+ * by specifying --define goog.DEBUG=false to the Closure Compiler aka
+ * JSCompiler. For example, most toString() methods should be declared inside an
+ * "if (goog.DEBUG)" conditional because they are generally used for debugging
+ * purposes and it is difficult for the JSCompiler to statically determine
+ * whether they are used.
+ */
+goog.DEBUG = goog.define('goog.DEBUG', true);
+
+
+/**
+ * @define {string} LOCALE defines the locale being used for compilation. It is
+ * used to select locale specific data to be compiled in js binary. BUILD rule
+ * can specify this value by "--define goog.LOCALE=<locale_name>" as a compiler
+ * option.
+ *
+ * Take into account that the locale code format is important. You should use
+ * the canonical Unicode format with hyphen as a delimiter. Language must be
+ * lowercase, Language Script - Capitalized, Region - UPPERCASE.
+ * There are few examples: pt-BR, en, en-US, sr-Latin-BO, zh-Hans-CN.
+ *
+ * See more info about locale codes here:
+ * http://www.unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers
+ *
+ * For language codes you should use values defined by ISO 693-1. See it here
+ * http://www.w3.org/WAI/ER/IG/ert/iso639.htm. There is only one exception from
+ * this rule: the Hebrew language. For legacy reasons the old code (iw) should
+ * be used instead of the new code (he).
+ *
+ * MOE:begin_intracomment_strip
+ * See http://g3doc/i18n/identifiers/g3doc/synonyms.
+ * MOE:end_intracomment_strip
+ */
+goog.LOCALE = goog.define('goog.LOCALE', 'en');  // default to en
+
+
+/**
+ * @define {boolean} Whether this code is running on trusted sites.
+ *
+ * On untrusted sites, several native functions can be defined or overridden by
+ * external libraries like Prototype, Datejs, and JQuery and setting this flag
+ * to false forces closure to use its own implementations when possible.
+ *
+ * If your JavaScript can be loaded by a third party site and you are wary about
+ * relying on non-standard implementations, specify
+ * "--define goog.TRUSTED_SITE=false" to the compiler.
+ */
+goog.TRUSTED_SITE = goog.define('goog.TRUSTED_SITE', true);
+
+
+/**
+ * @define {boolean} Whether code that calls {@link goog.setTestOnly} should
+ *     be disallowed in the compilation unit.
+ */
+goog.DISALLOW_TEST_ONLY_CODE =
+    goog.define('goog.DISALLOW_TEST_ONLY_CODE', COMPILED && !goog.DEBUG);
+
+
+/**
+ * @define {boolean} Whether to use a Chrome app CSP-compliant method for
+ *     loading scripts via goog.require. @see appendScriptSrcNode_.
+ */
+goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING =
+    goog.define('goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING', false);
+
+
+/**
+ * Defines a namespace in Closure.
+ *
+ * A namespace may only be defined once in a codebase. It may be defined using
+ * goog.provide() or goog.module().
+ *
+ * The presence of one or more goog.provide() calls in a file indicates
+ * that the file defines the given objects/namespaces.
+ * Provided symbols must not be null or undefined.
+ *
+ * In addition, goog.provide() creates the object stubs for a namespace
+ * (for example, goog.provide("goog.foo.bar") will create the object
+ * goog.foo.bar if it does not already exist).
+ *
+ * Build tools also scan for provide/require/module statements
+ * to discern dependencies, build dependency files (see deps.js), etc.
+ *
+ * @see goog.require
+ * @see goog.module
+ * @param {string} name Namespace provided by this file in the form
+ *     "goog.package.part".
+ * deprecated Use goog.module (see b/159289405)
+ */
+goog.provide = function(name) {
+  if (goog.isInModuleLoader_()) {
+    throw new Error('goog.provide cannot be used within a module.');
+  }
+  if (!COMPILED) {
+    // Ensure that the same namespace isn't provided twice.
+    // A goog.module/goog.provide maps a goog.require to a specific file
+    if (goog.isProvided_(name)) {
+      throw new Error('Namespace "' + name + '" already declared.');
+    }
+  }
+
+  goog.constructNamespace_(name);
+};
+
+
+/**
+ * @param {string} name Namespace provided by this file in the form
+ *     "goog.package.part".
+ * @param {?Object=} object The object to embed in the namespace.
+ * @param {boolean=} overwriteImplicit If object is set and a previous call
+ *     implicitly constructed the namespace given by name, this parameter
+ *     controls whether opt_obj should overwrite the implicitly constructed
+ *     namespace or be merged into it. Defaults to false.
+ * @private
+ */
+goog.constructNamespace_ = function(name, object, overwriteImplicit) {
+  if (!COMPILED) {
+    delete goog.implicitNamespaces_[name];
+
+    var namespace = name;
+    while ((namespace = namespace.substring(0, namespace.lastIndexOf('.')))) {
+      if (goog.getObjectByName(namespace)) {
+        break;
+      }
+      goog.implicitNamespaces_[namespace] = true;
+    }
+  }
+
+  goog.exportPath_(name, object, overwriteImplicit);
+};
+
+
+/**
+ * Returns CSP nonce, if set for any script tag.
+ * @param {?Window=} opt_window The window context used to retrieve the nonce.
+ *     Defaults to global context.
+ * @return {string} CSP nonce or empty string if no nonce is present.
+ * @deprecated Use goog.dom.safe.getScriptNonce.
+ */
+goog.getScriptNonce = function(opt_window) {
+  if (opt_window && opt_window != goog.global) {
+    return goog.getScriptNonce_(opt_window.document);
+  }
+  if (goog.cspNonce_ === null) {
+    goog.cspNonce_ = goog.getScriptNonce_(goog.global.document);
+  }
+  return goog.cspNonce_;
+};
+
+
+/**
+ * According to the CSP3 spec a nonce must be a valid base64 string.
+ * @see https://www.w3.org/TR/CSP3/#grammardef-base64-value
+ * @private @const
+ */
+goog.NONCE_PATTERN_ = /^[\w+/_-]+[=]{0,2}$/;
+
+
+/**
+ * @private {?string}
+ */
+goog.cspNonce_ = null;
+
+
+/**
+ * Returns CSP nonce, if set for any script tag.
+ * @param {!Document} doc
+ * @return {string} CSP nonce or empty string if no nonce is present.
+ * @private
+ */
+goog.getScriptNonce_ = function(doc) {
+  var script = doc.querySelector && doc.querySelector('script[nonce]');
+  if (script) {
+    // Try to get the nonce from the IDL property first, because browsers that
+    // implement additional nonce protection features (currently only Chrome) to
+    // prevent nonce stealing via CSS do not expose the nonce via attributes.
+    // See https://github.com/whatwg/html/issues/2369
+    var nonce = script['nonce'] || script.getAttribute('nonce');
+    if (nonce && goog.NONCE_PATTERN_.test(nonce)) {
+      return nonce;
+    }
+  }
+  return '';
+};
+
+
+/**
+ * Module identifier validation regexp.
+ * Note: This is a conservative check, it is very possible to be more lenient,
+ *   the primary exclusion here is "/" and "\" and a leading ".", these
+ *   restrictions are intended to leave the door open for using goog.require
+ *   with relative file paths rather than module identifiers.
+ * @private
+ */
+goog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
+
+
+/**
+ * Defines a module in Closure.
+ *
+ * Marks that this file must be loaded as a module and claims the namespace.
+ *
+ * A namespace may only be defined once in a codebase. It may be defined using
+ * goog.provide() or goog.module().
+ *
+ * goog.module() has three requirements:
+ * - goog.module may not be used in the same file as goog.provide.
+ * - goog.module must be the first statement in the file.
+ * - only one goog.module is allowed per file.
+ *
+ * When a goog.module annotated file is loaded, it is enclosed in
+ * a strict function closure. This means that:
+ * - any variables declared in a goog.module file are private to the file
+ * (not global), though the compiler is expected to inline the module.
+ * - The code must obey all the rules of "strict" JavaScript.
+ * - the file will be marked as "use strict"
+ *
+ * NOTE: unlike goog.provide, goog.module does not declare any symbols by
+ * itself. If declared symbols are desired, use
+ * goog.module.declareLegacyNamespace().
+ *
+ * MOE:begin_intracomment_strip
+ * See the goog.module announcement at http://go/goog.module-announce
+ * MOE:end_intracomment_strip
+ *
+ * See the public goog.module proposal: http://goo.gl/Va1hin
+ *
+ * @param {string} name Namespace provided by this file in the form
+ *     "goog.package.part", is expected but not required.
+ * @return {void}
+ */
+goog.module = function(name) {
+  if (typeof name !== 'string' || !name ||
+      name.search(goog.VALID_MODULE_RE_) == -1) {
+    throw new Error('Invalid module identifier');
+  }
+  if (!goog.isInGoogModuleLoader_()) {
+    throw new Error(
+        'Module ' + name + ' has been loaded incorrectly. Note, ' +
+        'modules cannot be loaded as normal scripts. They require some kind of ' +
+        'pre-processing step. You\'re likely trying to load a module via a ' +
+        'script tag or as a part of a concatenated bundle without rewriting the ' +
+        'module. For more info see: ' +
+        'https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.');
+  }
+  if (goog.moduleLoaderState_.moduleName) {
+    throw new Error('goog.module may only be called once per module.');
+  }
+
+  // Store the module name for the loader.
+  goog.moduleLoaderState_.moduleName = name;
+  if (!COMPILED) {
+    // Ensure that the same namespace isn't provided twice.
+    // A goog.module/goog.provide maps a goog.require to a specific file
+    if (goog.isProvided_(name)) {
+      throw new Error('Namespace "' + name + '" already declared.');
+    }
+    delete goog.implicitNamespaces_[name];
+  }
+};
+
+
+/**
+ * @param {string} name The module identifier.
+ * @return {?} The module exports for an already loaded module or null.
+ *
+ * Note: This is not an alternative to goog.require, it does not
+ * indicate a hard dependency, instead it is used to indicate
+ * an optional dependency or to access the exports of a module
+ * that has already been loaded.
+ * @suppress {missingProvide}
+ */
+goog.module.get = function(name) {
+  return goog.module.getInternal_(name);
+};
+
+
+/**
+ * @param {string} name The module identifier.
+ * @return {?} The module exports for an already loaded module or null.
+ * @private
+ */
+goog.module.getInternal_ = function(name) {
+  if (!COMPILED) {
+    if (name in goog.loadedModules_) {
+      return goog.loadedModules_[name].exports;
+    } else if (!goog.implicitNamespaces_[name]) {
+      var ns = goog.getObjectByName(name);
+      return ns != null ? ns : null;
+    }
+  }
+  return null;
+};
+
+
+/**
+ * Types of modules the debug loader can load.
+ * @enum {string}
+ */
+goog.ModuleType = {
+  ES6: 'es6',
+  GOOG: 'goog'
+};
+
+
+/**
+ * @private {?{
+ *   moduleName: (string|undefined),
+ *   declareLegacyNamespace:boolean,
+ *   type: ?goog.ModuleType
+ * }}
+ */
+goog.moduleLoaderState_ = null;
+
+
+/**
+ * @private
+ * @return {boolean} Whether a goog.module or an es6 module is currently being
+ *     initialized.
+ */
+goog.isInModuleLoader_ = function() {
+  return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();
+};
+
+
+/**
+ * @private
+ * @return {boolean} Whether a goog.module is currently being initialized.
+ */
+goog.isInGoogModuleLoader_ = function() {
+  return !!goog.moduleLoaderState_ &&
+      goog.moduleLoaderState_.type == goog.ModuleType.GOOG;
+};
+
+
+/**
+ * @private
+ * @return {boolean} Whether an es6 module is currently being initialized.
+ */
+goog.isInEs6ModuleLoader_ = function() {
+  var inLoader = !!goog.moduleLoaderState_ &&
+      goog.moduleLoaderState_.type == goog.ModuleType.ES6;
+
+  if (inLoader) {
+    return true;
+  }
+
+  var jscomp = goog.global['$jscomp'];
+
+  if (jscomp) {
+    // jscomp may not have getCurrentModulePath if this is a compiled bundle
+    // that has some of the runtime, but not all of it. This can happen if
+    // optimizations are turned on so the unused runtime is removed but renaming
+    // and Closure pass are off (so $jscomp is still named $jscomp and the
+    // goog.provide/require calls still exist).
+    if (typeof jscomp.getCurrentModulePath != 'function') {
+      return false;
+    }
+
+    // Bundled ES6 module.
+    return !!jscomp.getCurrentModulePath();
+  }
+
+  return false;
+};
+
+
+/**
+ * Provide the module's exports as a globally accessible object under the
+ * module's declared name.  This is intended to ease migration to goog.module
+ * for files that have existing usages.
+ * @suppress {missingProvide}
+ */
+goog.module.declareLegacyNamespace = function() {
+  if (!COMPILED && !goog.isInGoogModuleLoader_()) {
+    throw new Error(
+        'goog.module.declareLegacyNamespace must be called from ' +
+        'within a goog.module');
+  }
+  if (!COMPILED && !goog.moduleLoaderState_.moduleName) {
+    throw new Error(
+        'goog.module must be called prior to ' +
+        'goog.module.declareLegacyNamespace.');
+  }
+  goog.moduleLoaderState_.declareLegacyNamespace = true;
+};
+
+
+/**
+ * Associates an ES6 module with a Closure module ID so that is available via
+ * goog.require. The associated ID  acts like a goog.module ID - it does not
+ * create any global names, it is merely available via goog.require /
+ * goog.module.get / goog.forwardDeclare / goog.requireType. goog.require and
+ * goog.module.get will return the entire module as if it was import *'d. This
+ * allows Closure files to reference ES6 modules for the sake of migration.
+ *
+ * @param {string} namespace
+ * @suppress {missingProvide}
+ */
+goog.declareModuleId = function(namespace) {
+  if (!COMPILED) {
+    if (!goog.isInEs6ModuleLoader_()) {
+      throw new Error(
+          'goog.declareModuleId may only be called from ' +
+          'within an ES6 module');
+    }
+    if (goog.moduleLoaderState_ && goog.moduleLoaderState_.moduleName) {
+      throw new Error(
+          'goog.declareModuleId may only be called once per module.');
+    }
+    if (namespace in goog.loadedModules_) {
+      throw new Error(
+          'Module with namespace "' + namespace + '" already exists.');
+    }
+  }
+  if (goog.moduleLoaderState_) {
+    // Not bundled - debug loading.
+    goog.moduleLoaderState_.moduleName = namespace;
+  } else {
+    // Bundled - not debug loading, no module loader state.
+    var jscomp = goog.global['$jscomp'];
+    if (!jscomp || typeof jscomp.getCurrentModulePath != 'function') {
+      throw new Error(
+          'Module with namespace "' + namespace +
+          '" has been loaded incorrectly.');
+    }
+    var exports = jscomp.require(jscomp.getCurrentModulePath());
+    goog.loadedModules_[namespace] = {
+      exports: exports,
+      type: goog.ModuleType.ES6,
+      moduleId: namespace
+    };
+  }
+};
+
+
+/**
+ * Marks that the current file should only be used for testing, and never for
+ * live code in production.
+ *
+ * In the case of unit tests, the message may optionally be an exact namespace
+ * for the test (e.g. 'goog.stringTest'). The linter will then ignore the extra
+ * provide (if not explicitly defined in the code).
+ *
+ * @param {string=} opt_message Optional message to add to the error that's
+ *     raised when used in production code.
+ */
+goog.setTestOnly = function(opt_message) {
+  if (goog.DISALLOW_TEST_ONLY_CODE) {
+    opt_message = opt_message || '';
+    throw new Error(
+        'Importing test-only code into non-debug environment' +
+        (opt_message ? ': ' + opt_message : '.'));
+  }
+};
+
+
+/**
+ * Forward declares a symbol. This is an indication to the compiler that the
+ * symbol may be used in the source yet is not required and may not be provided
+ * in compilation.
+ *
+ * The most common usage of forward declaration is code that takes a type as a
+ * function parameter but does not need to require it. By forward declaring
+ * instead of requiring, no hard dependency is made, and (if not required
+ * elsewhere) the namespace may never be required and thus, not be pulled
+ * into the JavaScript binary. If it is required elsewhere, it will be type
+ * checked as normal.
+ *
+ * Before using goog.forwardDeclare, please read the documentation at
+ * https://github.com/google/closure-compiler/wiki/Bad-Type-Annotation to
+ * understand the options and tradeoffs when working with forward declarations.
+ *
+ * @param {string} name The namespace to forward declare in the form of
+ *     "goog.package.part".
+ * @deprecated See go/noforwarddeclaration, Use `goog.requireType` instead.
+ */
+goog.forwardDeclare = function(name) {};
+
+
+/**
+ * Forward declare type information. Used to assign types to goog.global
+ * referenced object that would otherwise result in unknown type references
+ * and thus block property disambiguation.
+ */
+goog.forwardDeclare('Document');
+goog.forwardDeclare('HTMLScriptElement');
+goog.forwardDeclare('XMLHttpRequest');
+
+
+if (!COMPILED) {
+  /**
+   * Check if the given name has been goog.provided. This will return false for
+   * names that are available only as implicit namespaces.
+   * @param {string} name name of the object to look for.
+   * @return {boolean} Whether the name has been provided.
+   * @private
+   */
+  goog.isProvided_ = function(name) {
+    return (name in goog.loadedModules_) ||
+        (!goog.implicitNamespaces_[name] && goog.getObjectByName(name) != null);
+  };
+
+  /**
+   * Namespaces implicitly defined by goog.provide. For example,
+   * goog.provide('goog.events.Event') implicitly declares that 'goog' and
+   * 'goog.events' must be namespaces.
+   *
+   * @type {!Object<string, (boolean|undefined)>}
+   * @private
+   */
+  goog.implicitNamespaces_ = {'goog.module': true};
+
+  // NOTE: We add goog.module as an implicit namespace as goog.module is defined
+  // here and because the existing module package has not been moved yet out of
+  // the goog.module namespace. This satisifies both the debug loader and
+  // ahead-of-time dependency management.
+}
+
+
+/**
+ * Returns an object based on its fully qualified external name.  The object
+ * is not found if null or undefined.  If you are using a compilation pass that
+ * renames property names beware that using this function will not find renamed
+ * properties.
+ *
+ * @param {string} name The fully qualified name.
+ * @param {Object=} opt_obj The object within which to look; default is
+ *     |goog.global|.
+ * @return {?} The value (object or primitive) or, if not found, null.
+ */
+goog.getObjectByName = function(name, opt_obj) {
+  var parts = name.split('.');
+  var cur = opt_obj || goog.global;
+  for (var i = 0; i < parts.length; i++) {
+    cur = cur[parts[i]];
+    if (cur == null) {
+      return null;
+    }
+  }
+  return cur;
+};
+
+
+/**
+ * Adds a dependency from a file to the files it requires.
+ * @param {string} relPath The path to the js file.
+ * @param {!Array<string>} provides An array of strings with
+ *     the names of the objects this file provides.
+ * @param {!Array<string>} requires An array of strings with
+ *     the names of the objects this file requires.
+ * @param {boolean|!Object<string>=} opt_loadFlags Parameters indicating
+ *     how the file must be loaded.  The boolean 'true' is equivalent
+ *     to {'module': 'goog'} for backwards-compatibility.  Valid properties
+ *     and values include {'module': 'goog'} and {'lang': 'es6'}.
+ */
+goog.addDependency = function(relPath, provides, requires, opt_loadFlags) {
+  if (!COMPILED && goog.DEPENDENCIES_ENABLED) {
+    goog.debugLoader_.addDependency(relPath, provides, requires, opt_loadFlags);
+  }
+};
+
+
+// MOE:begin_strip
+/**
+ * Whether goog.require should throw an exception if it fails.
+ * @type {boolean}
+ */
+goog.useStrictRequires = false;
+
+
+// MOE:end_strip
+
+
+// NOTE(nnaze): The debug DOM loader was included in base.js as an original way
+// to do "debug-mode" development.  The dependency system can sometimes be
+// confusing, as can the debug DOM loader's asynchronous nature.
+//
+// With the DOM loader, a call to goog.require() is not blocking -- the script
+// will not load until some point after the current script.  If a namespace is
+// needed at runtime, it needs to be defined in a previous script, or loaded via
+// require() with its registered dependencies.
+//
+// User-defined namespaces may need their own deps file. For a reference on
+// creating a deps file, see:
+// MOE:begin_strip
+// Internally: http://go/deps-files and http://go/be#js_deps
+// MOE:end_strip
+// Externally: https://developers.google.com/closure/library/docs/depswriter
+//
+// Because of legacy clients, the DOM loader can't be easily removed from
+// base.js.  Work was done to make it disableable or replaceable for
+// different environments (DOM-less JavaScript interpreters like Rhino or V8,
+// for example). See bootstrap/ for more information.
+
+
+/**
+ * @define {boolean} Whether to enable the debug loader.
+ *
+ * If enabled, a call to goog.require() will attempt to load the namespace by
+ * appending a script tag to the DOM (if the namespace has been registered).
+ *
+ * If disabled, goog.require() will simply assert that the namespace has been
+ * provided (and depend on the fact that some outside tool correctly ordered
+ * the script).
+ */
+goog.ENABLE_DEBUG_LOADER = goog.define('goog.ENABLE_DEBUG_LOADER', true);
+
+
+/**
+ * @param {string} msg
+ * @private
+ */
+goog.logToConsole_ = function(msg) {
+  if (goog.global.console) {
+    goog.global.console['error'](msg);
+  }
+};
+
+
+/**
+ * Implements a system for the dynamic resolution of dependencies that works in
+ * parallel with the BUILD system.
+ *
+ * Note that all calls to goog.require will be stripped by the compiler.
+ *
+ * @see goog.provide
+ * @param {string} namespace Namespace (as was given in goog.provide,
+ *     goog.module, or goog.declareModuleId) in the form
+ *     "goog.package.part".
+ * @return {?} If called within a goog.module or ES6 module file, the associated
+ *     namespace or module otherwise null.
+ */
+goog.require = function(namespace) {
+  if (!COMPILED) {
+    // Might need to lazy load on old IE.
+    if (goog.ENABLE_DEBUG_LOADER) {
+      goog.debugLoader_.requested(namespace);
+    }
+
+    // If the object already exists we do not need to do anything.
+    if (goog.isProvided_(namespace)) {
+      if (goog.isInModuleLoader_()) {
+        return goog.module.getInternal_(namespace);
+      }
+    } else if (goog.ENABLE_DEBUG_LOADER) {
+      var moduleLoaderState = goog.moduleLoaderState_;
+      goog.moduleLoaderState_ = null;
+      try {
+        goog.debugLoader_.load_(namespace);
+      } finally {
+        goog.moduleLoaderState_ = moduleLoaderState;
+      }
+    }
+
+    return null;
+  }
+};
+
+
+/**
+ * Requires a symbol for its type information. This is an indication to the
+ * compiler that the symbol may appear in type annotations, yet it is not
+ * referenced at runtime.
+ *
+ * When called within a goog.module or ES6 module file, the return value may be
+ * assigned to or destructured into a variable, but it may not be otherwise used
+ * in code outside of a type annotation.
+ *
+ * Note that all calls to goog.requireType will be stripped by the compiler.
+ *
+ * @param {string} namespace Namespace (as was given in goog.provide,
+ *     goog.module, or goog.declareModuleId) in the form
+ *     "goog.package.part".
+ * @return {?}
+ */
+goog.requireType = function(namespace) {
+  // Return an empty object so that single-level destructuring of the return
+  // value doesn't crash at runtime when using the debug loader. Multi-level
+  // destructuring isn't supported.
+  return {};
+};
+
+
+/**
+ * Path for included scripts.
+ * @type {string}
+ */
+goog.basePath = '';
+
+
+/**
+ * A hook for overriding the base path.
+ * @type {string|undefined}
+ */
+goog.global.CLOSURE_BASE_PATH;
+
+
+/**
+ * Whether to attempt to load Closure's deps file. By default, when uncompiled,
+ * deps files will attempt to be loaded.
+ * @type {boolean|undefined}
+ */
+goog.global.CLOSURE_NO_DEPS;
+
+
+/**
+ * A function to import a single script. This is meant to be overridden when
+ * Closure is being run in non-HTML contexts, such as web workers. It's defined
+ * in the global scope so that it can be set before base.js is loaded, which
+ * allows deps.js to be imported properly.
+ *
+ * The first parameter the script source, which is a relative URI. The second,
+ * optional parameter is the script contents, in the event the script needed
+ * transformation. It should return true if the script was imported, false
+ * otherwise.
+ * @type {(function(string, string=): boolean)|undefined}
+ */
+goog.global.CLOSURE_IMPORT_SCRIPT;
+
+
+/**
+ * Null function used for default values of callbacks, etc.
+ * @return {void} Nothing.
+ * @deprecated use '()=>{}' or 'function(){}' instead.
+ */
+goog.nullFunction = function() {};
+
+
+/**
+ * When defining a class Foo with an abstract method bar(), you can do:
+ * Foo.prototype.bar = goog.abstractMethod
+ *
+ * Now if a subclass of Foo fails to override bar(), an error will be thrown
+ * when bar() is invoked.
+ *
+ * @type {!Function}
+ * @throws {Error} when invoked to indicate the method should be overridden.
+ * @deprecated Use "@abstract" annotation instead of goog.abstractMethod in new
+ *     code. See
+ *     https://github.com/google/closure-compiler/wiki/@abstract-classes-and-methods
+ */
+goog.abstractMethod = function() {
+  throw new Error('unimplemented abstract method');
+};
+
+
+/**
+ * Adds a `getInstance` static method that always returns the same
+ * instance object.
+ * @param {!Function} ctor The constructor for the class to add the static
+ *     method to.
+ * @suppress {missingProperties} 'instance_' isn't a property on 'Function'
+ *     but we don't have a better type to use here.
+ */
+goog.addSingletonGetter = function(ctor) {
+  // instance_ is immediately set to prevent issues with sealed constructors
+  // such as are encountered when a constructor is returned as the export object
+  // of a goog.module in unoptimized code.
+  // Delcare type to avoid conformance violations that ctor.instance_ is unknown
+  /** @type {undefined|!Object} @suppress {underscore} */
+  ctor.instance_ = undefined;
+  ctor.getInstance = function() {
+    if (ctor.instance_) {
+      return ctor.instance_;
+    }
+    if (goog.DEBUG) {
+      // NOTE: JSCompiler can't optimize away Array#push.
+      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;
+    }
+    // Cast to avoid conformance violations that ctor.instance_ is unknown
+    return /** @type {!Object|undefined} */ (ctor.instance_) = new ctor;
+  };
+};
+
+
+/**
+ * All singleton classes that have been instantiated, for testing. Don't read
+ * it directly, use the `goog.testing.singleton` module. The compiler
+ * removes this variable if unused.
+ * @type {!Array<!Function>}
+ * @private
+ */
+goog.instantiatedSingletons_ = [];
+
+
+/**
+ * @define {boolean} Whether to load goog.modules using `eval` when using
+ * the debug loader.  This provides a better debugging experience as the
+ * source is unmodified and can be edited using Chrome Workspaces or similar.
+ * However in some environments the use of `eval` is banned
+ * so we provide an alternative.
+ */
+goog.LOAD_MODULE_USING_EVAL = goog.define('goog.LOAD_MODULE_USING_EVAL', true);
+
+
+/**
+ * @define {boolean} Whether the exports of goog.modules should be sealed when
+ * possible.
+ */
+goog.SEAL_MODULE_EXPORTS = goog.define('goog.SEAL_MODULE_EXPORTS', goog.DEBUG);
+
+
+/**
+ * The registry of initialized modules:
+ * The module identifier or path to module exports map.
+ * @private @const {!Object<string, {exports:?,type:string,moduleId:string}>}
+ */
+goog.loadedModules_ = {};
+
+
+/**
+ * True if the debug loader enabled and used.
+ * @const {boolean}
+ */
+goog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;
+
+
+/**
+ * @define {string} How to decide whether to transpile.  Valid values
+ * are 'always', 'never', and 'detect'.  The default ('detect') is to
+ * use feature detection to determine which language levels need
+ * transpilation.
+ */
+// NOTE(sdh): we could expand this to accept a language level to bypass
+// detection: e.g. goog.TRANSPILE == 'es5' would transpile ES6 files but
+// would leave ES3 and ES5 files alone.
+goog.TRANSPILE = goog.define('goog.TRANSPILE', 'detect');
+
+/**
+ * @define {boolean} If true assume that ES modules have already been
+ * transpiled by the jscompiler (in the same way that transpile.js would
+ * transpile them - to jscomp modules). Useful only for servers that wish to use
+ * the debug loader and transpile server side. Thus this is only respected if
+ * goog.TRANSPILE is "never".
+ */
+goog.ASSUME_ES_MODULES_TRANSPILED =
+    goog.define('goog.ASSUME_ES_MODULES_TRANSPILED', false);
+
+
+/**
+ * @define {string} If a file needs to be transpiled what the output language
+ * should be. By default this is the highest language level this file detects
+ * the current environment supports. Generally this flag should not be set, but
+ * it could be useful to override. Example: If the current environment supports
+ * ES6 then by default ES7+ files will be transpiled to ES6, unless this is
+ * overridden.
+ *
+ * Valid values include: es3, es5, es6, es7, and es8. Anything not recognized
+ * is treated as es3.
+ *
+ * Note that setting this value does not force transpilation. Just if
+ * transpilation occurs this will be the output. So this is most useful when
+ * goog.TRANSPILE is set to 'always' and then forcing the language level to be
+ * something lower than what the environment detects.
+ */
+goog.TRANSPILE_TO_LANGUAGE = goog.define('goog.TRANSPILE_TO_LANGUAGE', '');
+
+
+/**
+ * @define {string} Path to the transpiler.  Executing the script at this
+ * path (relative to base.js) should define a function $jscomp.transpile.
+ */
+goog.TRANSPILER = goog.define('goog.TRANSPILER', 'transpile.js');
+
+
+/**
+ * @define {string} Trusted Types policy name. If non-empty then Closure will
+ * use Trusted Types.
+ */
+goog.TRUSTED_TYPES_POLICY_NAME =
+    goog.define('goog.TRUSTED_TYPES_POLICY_NAME', 'goog');
+
+
+/**
+ * @package {?boolean}
+ * Visible for testing.
+ */
+goog.hasBadLetScoping = null;
+
+
+/**
+ * @param {function(?):?|string} moduleDef The module definition.
+ */
+goog.loadModule = function(moduleDef) {
+  // NOTE: we allow function definitions to be either in the from
+  // of a string to eval (which keeps the original source intact) or
+  // in a eval forbidden environment (CSP) we allow a function definition
+  // which in its body must call `goog.module`, and return the exports
+  // of the module.
+  var previousState = goog.moduleLoaderState_;
+  try {
+    goog.moduleLoaderState_ = {
+      moduleName: '',
+      declareLegacyNamespace: false,
+      type: goog.ModuleType.GOOG
+    };
+    var origExports = {};
+    var exports = origExports;
+    if (typeof moduleDef === 'function') {
+      exports = moduleDef.call(undefined, exports);
+    } else if (typeof moduleDef === 'string') {
+      exports = goog.loadModuleFromSource_.call(undefined, exports, moduleDef);
+    } else {
+      throw new Error('Invalid module definition');
+    }
+
+    var moduleName = goog.moduleLoaderState_.moduleName;
+    if (typeof moduleName === 'string' && moduleName) {
+      // Don't seal legacy namespaces as they may be used as a parent of
+      // another namespace
+      if (goog.moduleLoaderState_.declareLegacyNamespace) {
+        // Whether exports was overwritten via default export assignment.
+        // This is important for legacy namespaces as it dictates whether
+        // previously a previously loaded implicit namespace should be clobbered
+        // or not.
+        var isDefaultExport = origExports !== exports;
+        goog.constructNamespace_(moduleName, exports, isDefaultExport);
+      } else if (
+          goog.SEAL_MODULE_EXPORTS && Object.seal &&
+          typeof exports == 'object' && exports != null) {
+        Object.seal(exports);
+      }
+
+      var data = {
+        exports: exports,
+        type: goog.ModuleType.GOOG,
+        moduleId: goog.moduleLoaderState_.moduleName
+      };
+      goog.loadedModules_[moduleName] = data;
+    } else {
+      throw new Error('Invalid module name \"' + moduleName + '\"');
+    }
+  } finally {
+    goog.moduleLoaderState_ = previousState;
+  }
+};
+
+
+/**
+ * @private @const
+ */
+goog.loadModuleFromSource_ =
+    /** @type {function(!Object, string):?} */ (function(exports) {
+      // NOTE: we avoid declaring parameters or local variables here to avoid
+      // masking globals or leaking values into the module definition.
+      'use strict';
+      eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(arguments[1]));
+      return exports;
+    });
+
+
+/**
+ * Normalize a file path by removing redundant ".." and extraneous "." file
+ * path components.
+ * @param {string} path
+ * @return {string}
+ * @private
+ */
+goog.normalizePath_ = function(path) {
+  var components = path.split('/');
+  var i = 0;
+  while (i < components.length) {
+    if (components[i] == '.') {
+      components.splice(i, 1);
+    } else if (
+        i && components[i] == '..' && components[i - 1] &&
+        components[i - 1] != '..') {
+      components.splice(--i, 2);
+    } else {
+      i++;
+    }
+  }
+  return components.join('/');
+};
+
+
+/**
+ * Provides a hook for loading a file when using Closure's goog.require() API
+ * with goog.modules.  In particular this hook is provided to support Node.js.
+ *
+ * @type {(function(string):string)|undefined}
+ */
+goog.global.CLOSURE_LOAD_FILE_SYNC;
+
+
+/**
+ * Loads file by synchronous XHR. Should not be used in production environments.
+ * @param {string} src Source URL.
+ * @return {?string} File contents, or null if load failed.
+ * @private
+ */
+goog.loadFileSync_ = function(src) {
+  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {
+    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);
+  } else {
+    try {
+      /** @type {XMLHttpRequest} */
+      var xhr = new goog.global['XMLHttpRequest']();
+      xhr.open('get', src, false);
+      xhr.send();
+      // NOTE: Successful http: requests have a status of 200, but successful
+      // file: requests may have a status of zero.  Any other status, or a
+      // thrown exception (particularly in case of file: requests) indicates
+      // some sort of error, which we treat as a missing or unavailable file.
+      return xhr.status == 0 || xhr.status == 200 ? xhr.responseText : null;
+    } catch (err) {
+      // No need to rethrow or log, since errors should show up on their own.
+      return null;
+    }
+  }
+};
+
+
+/**
+ * Lazily retrieves the transpiler and applies it to the source.
+ * @param {string} code JS code.
+ * @param {string} path Path to the code.
+ * @param {string} target Language level output.
+ * @return {string} The transpiled code.
+ * @private
+ */
+goog.transpile_ = function(code, path, target) {
+  var jscomp = goog.global['$jscomp'];
+  if (!jscomp) {
+    goog.global['$jscomp'] = jscomp = {};
+  }
+  var transpile = jscomp.transpile;
+  if (!transpile) {
+    var transpilerPath = goog.basePath + goog.TRANSPILER;
+    var transpilerCode = goog.loadFileSync_(transpilerPath);
+    if (transpilerCode) {
+      // This must be executed synchronously, since by the time we know we
+      // need it, we're about to load and write the ES6 code synchronously,
+      // so a normal script-tag load will be too slow. Wrapped in a function
+      // so that code is eval'd in the global scope.
+      (function() {
+        (0, eval)(transpilerCode + '\n//# sourceURL=' + transpilerPath);
+      }).call(goog.global);
+      // Even though the transpiler is optional, if $gwtExport is found, it's
+      // a sign the transpiler was loaded and the $jscomp.transpile *should*
+      // be there.
+      if (goog.global['$gwtExport'] && goog.global['$gwtExport']['$jscomp'] &&
+          !goog.global['$gwtExport']['$jscomp']['transpile']) {
+        throw new Error(
+            'The transpiler did not properly export the "transpile" ' +
+            'method. $gwtExport: ' + JSON.stringify(goog.global['$gwtExport']));
+      }
+      // transpile.js only exports a single $jscomp function, transpile. We
+      // grab just that and add it to the existing definition of $jscomp which
+      // contains the polyfills.
+      goog.global['$jscomp'].transpile =
+          goog.global['$gwtExport']['$jscomp']['transpile'];
+      jscomp = goog.global['$jscomp'];
+      transpile = jscomp.transpile;
+    }
+  }
+  if (!transpile) {
+    // The transpiler is an optional component.  If it's not available then
+    // replace it with a pass-through function that simply logs.
+    var suffix = ' requires transpilation but no transpiler was found.';
+    // MOE:begin_strip
+    suffix +=  // Provide a more appropriate message internally.
+        ' Please add "//javascript/closure:transpiler" as a data ' +
+        'dependency to ensure it is included.';
+    // MOE:end_strip
+    transpile = jscomp.transpile = function(code, path) {
+      // TODO(sdh): figure out some way to get this error to show up
+      // in test results, noting that the failure may occur in many
+      // different ways, including in loadModule() before the test
+      // runner even comes up.
+      goog.logToConsole_(path + suffix);
+      return code;
+    };
+  }
+  // Note: any transpilation errors/warnings will be logged to the console.
+  return transpile(code, path, target);
+};
+
+//==============================================================================
+// Language Enhancements
+//==============================================================================
+
+
+/**
+ * This is a "fixed" version of the typeof operator.  It differs from the typeof
+ * operator in such a way that null returns 'null' and arrays return 'array'.
+ * @param {?} value The value to get the type of.
+ * @return {string} The name of the type.
+ */
+goog.typeOf = function(value) {
+  var s = typeof value;
+
+  if (s != 'object') {
+    return s;
+  }
+
+  if (!value) {
+    return 'null';
+  }
+
+  if (Array.isArray(value)) {
+    return 'array';
+  }
+  return s;
+};
+
+
+/**
+ * Returns true if the object looks like an array. To qualify as array like
+ * the value needs to be either a NodeList or an object with a Number length
+ * property. Note that for this function neither strings nor functions are
+ * considered "array-like".
+ *
+ * @param {?} val Variable to test.
+ * @return {boolean} Whether variable is an array.
+ */
+goog.isArrayLike = function(val) {
+  var type = goog.typeOf(val);
+  // We do not use goog.isObject here in order to exclude function values.
+  return type == 'array' || type == 'object' && typeof val.length == 'number';
+};
+
+
+/**
+ * Returns true if the object looks like a Date. To qualify as Date-like the
+ * value needs to be an object and have a getFullYear() function.
+ * @param {?} val Variable to test.
+ * @return {boolean} Whether variable is a like a Date.
+ */
+goog.isDateLike = function(val) {
+  return goog.isObject(val) && typeof val.getFullYear == 'function';
+};
+
+
+/**
+ * Returns true if the specified value is an object.  This includes arrays and
+ * functions.
+ * @param {?} val Variable to test.
+ * @return {boolean} Whether variable is an object.
+ */
+goog.isObject = function(val) {
+  var type = typeof val;
+  return type == 'object' && val != null || type == 'function';
+  // return Object(val) === val also works, but is slower, especially if val is
+  // not an object.
+};
+
+
+/**
+ * Gets a unique ID for an object. This mutates the object so that further calls
+ * with the same object as a parameter returns the same value. The unique ID is
+ * guaranteed to be unique across the current session amongst objects that are
+ * passed into `getUid`. There is no guarantee that the ID is unique or
+ * consistent across sessions. It is unsafe to generate unique ID for function
+ * prototypes.
+ *
+ * @param {Object} obj The object to get the unique ID for.
+ * @return {number} The unique ID for the object.
+ */
+goog.getUid = function(obj) {
+  // TODO(arv): Make the type stricter, do not accept null.
+  return Object.prototype.hasOwnProperty.call(obj, goog.UID_PROPERTY_) &&
+      obj[goog.UID_PROPERTY_] ||
+      (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);
+};
+
+
+/**
+ * Whether the given object is already assigned a unique ID.
+ *
+ * This does not modify the object.
+ *
+ * @param {!Object} obj The object to check.
+ * @return {boolean} Whether there is an assigned unique id for the object.
+ */
+goog.hasUid = function(obj) {
+  return !!obj[goog.UID_PROPERTY_];
+};
+
+
+/**
+ * Removes the unique ID from an object. This is useful if the object was
+ * previously mutated using `goog.getUid` in which case the mutation is
+ * undone.
+ * @param {Object} obj The object to remove the unique ID field from.
+ */
+goog.removeUid = function(obj) {
+  // TODO(arv): Make the type stricter, do not accept null.
+
+  // In IE, DOM nodes are not instances of Object and throw an exception if we
+  // try to delete.  Instead we try to use removeAttribute.
+  if (obj !== null && 'removeAttribute' in obj) {
+    obj.removeAttribute(goog.UID_PROPERTY_);
+  }
+
+  try {
+    delete obj[goog.UID_PROPERTY_];
+  } catch (ex) {
+  }
+};
+
+
+/**
+ * Name for unique ID property. Initialized in a way to help avoid collisions
+ * with other closure JavaScript on the same page.
+ * @type {string}
+ * @private
+ */
+goog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);
+
+
+/**
+ * Counter for UID.
+ * @type {number}
+ * @private
+ */
+goog.uidCounter_ = 0;
+
+
+/**
+ * Clones a value. The input may be an Object, Array, or basic type. Objects and
+ * arrays will be cloned recursively.
+ *
+ * WARNINGS:
+ * <code>goog.cloneObject</code> does not detect reference loops. Objects that
+ * refer to themselves will cause infinite recursion.
+ *
+ * <code>goog.cloneObject</code> is unaware of unique identifiers, and copies
+ * UIDs created by <code>getUid</code> into cloned results.
+ *
+ * @param {*} obj The value to clone.
+ * @return {*} A clone of the input value.
+ * @deprecated goog.cloneObject is unsafe. Prefer the goog.object methods.
+ */
+goog.cloneObject = function(obj) {
+  var type = goog.typeOf(obj);
+  if (type == 'object' || type == 'array') {
+    if (typeof obj.clone === 'function') {
+      return obj.clone();
+    }
+    var clone = type == 'array' ? [] : {};
+    for (var key in obj) {
+      clone[key] = goog.cloneObject(obj[key]);
+    }
+    return clone;
+  }
+
+  return obj;
+};
+
+
+/**
+ * A native implementation of goog.bind.
+ * @param {?function(this:T, ...)} fn A function to partially apply.
+ * @param {T} selfObj Specifies the object which this should point to when the
+ *     function is run.
+ * @param {...*} var_args Additional arguments that are partially applied to the
+ *     function.
+ * @return {!Function} A partially-applied form of the function goog.bind() was
+ *     invoked as a method of.
+ * @template T
+ * @private
+ */
+goog.bindNative_ = function(fn, selfObj, var_args) {
+  return /** @type {!Function} */ (fn.call.apply(fn.bind, arguments));
+};
+
+
+/**
+ * A pure-JS implementation of goog.bind.
+ * @param {?function(this:T, ...)} fn A function to partially apply.
+ * @param {T} selfObj Specifies the object which this should point to when the
+ *     function is run.
+ * @param {...*} var_args Additional arguments that are partially applied to the
+ *     function.
+ * @return {!Function} A partially-applied form of the function goog.bind() was
+ *     invoked as a method of.
+ * @template T
+ * @private
+ */
+goog.bindJs_ = function(fn, selfObj, var_args) {
+  if (!fn) {
+    throw new Error();
+  }
+
+  if (arguments.length > 2) {
+    var boundArgs = Array.prototype.slice.call(arguments, 2);
+    return function() {
+      // Prepend the bound arguments to the current arguments.
+      var newArgs = Array.prototype.slice.call(arguments);
+      Array.prototype.unshift.apply(newArgs, boundArgs);
+      return fn.apply(selfObj, newArgs);
+    };
+
+  } else {
+    return function() {
+      return fn.apply(selfObj, arguments);
+    };
+  }
+};
+
+
+/**
+ * Partially applies this function to a particular 'this object' and zero or
+ * more arguments. The result is a new function with some arguments of the first
+ * function pre-filled and the value of this 'pre-specified'.
+ *
+ * Remaining arguments specified at call-time are appended to the pre-specified
+ * ones.
+ *
+ * Also see: {@link #partial}.
+ *
+ * Usage:
+ * <pre>var barMethBound = goog.bind(myFunction, myObj, 'arg1', 'arg2');
+ * barMethBound('arg3', 'arg4');</pre>
+ *
+ * @param {?function(this:T, ...)} fn A function to partially apply.
+ * @param {T} selfObj Specifies the object which this should point to when the
+ *     function is run.
+ * @param {...*} var_args Additional arguments that are partially applied to the
+ *     function.
+ * @return {!Function} A partially-applied form of the function goog.bind() was
+ *     invoked as a method of.
+ * @template T
+ * @suppress {deprecated} See above.
+ * @deprecated use `=> {}` or Function.prototype.bind instead.
+ */
+goog.bind = function(fn, selfObj, var_args) {
+  // TODO(nicksantos): narrow the type signature.
+  if (Function.prototype.bind &&
+      // NOTE(nicksantos): Somebody pulled base.js into the default Chrome
+      // extension environment. This means that for Chrome extensions, they get
+      // the implementation of Function.prototype.bind that calls goog.bind
+      // instead of the native one. Even worse, we don't want to introduce a
+      // circular dependency between goog.bind and Function.prototype.bind, so
+      // we have to hack this to make sure it works correctly.
+      Function.prototype.bind.toString().indexOf('native code') != -1) {
+    goog.bind = goog.bindNative_;
+  } else {
+    goog.bind = goog.bindJs_;
+  }
+  return goog.bind.apply(null, arguments);
+};
+
+
+/**
+ * Like goog.bind(), except that a 'this object' is not required. Useful when
+ * the target function is already bound.
+ *
+ * Usage:
+ * var g = goog.partial(f, arg1, arg2);
+ * g(arg3, arg4);
+ *
+ * @param {Function} fn A function to partially apply.
+ * @param {...*} var_args Additional arguments that are partially applied to fn.
+ * @return {!Function} A partially-applied form of the function goog.partial()
+ *     was invoked as a method of.
+ */
+goog.partial = function(fn, var_args) {
+  var args = Array.prototype.slice.call(arguments, 1);
+  return function() {
+    // Clone the array (with slice()) and append additional arguments
+    // to the existing arguments.
+    var newArgs = args.slice();
+    newArgs.push.apply(newArgs, arguments);
+    return fn.apply(/** @type {?} */ (this), newArgs);
+  };
+};
+
+
+/**
+ * Copies all the members of a source object to a target object. This method
+ * does not work on all browsers for all objects that contain keys such as
+ * toString or hasOwnProperty. Use goog.object.extend for this purpose.
+ *
+ * NOTE: Some have advocated for the use of goog.mixin to setup classes
+ * with multiple inheritence (traits, mixins, etc).  However, as it simply
+ * uses "for in", this is not compatible with ES6 classes whose methods are
+ * non-enumerable.  Changing this, would break cases where non-enumerable
+ * properties are not expected.
+ *
+ * @param {Object} target Target.
+ * @param {Object} source Source.
+ * @deprecated Prefer Object.assign
+ */
+goog.mixin = function(target, source) {
+  for (var x in source) {
+    target[x] = source[x];
+  }
+
+  // For IE7 or lower, the for-in-loop does not contain any properties that are
+  // not enumerable on the prototype object (for example, isPrototypeOf from
+  // Object.prototype) but also it will not include 'replace' on objects that
+  // extend String and change 'replace' (not that it is common for anyone to
+  // extend anything except Object).
+};
+
+
+/**
+ * @return {number} An integer value representing the number of milliseconds
+ *     between midnight, January 1, 1970 and the current time.
+ * @deprecated Use Date.now
+ */
+goog.now = function() {
+  return Date.now();
+};
+
+
+/**
+ * Evals JavaScript in the global scope.
+ *
+ * Throws an exception if neither execScript or eval is defined.
+ * @param {string|!TrustedScript} script JavaScript string.
+ */
+goog.globalEval = function(script) {
+  (0, eval)(script);
+};
+
+
+/**
+ * Optional map of CSS class names to obfuscated names used with
+ * goog.getCssName().
+ * @private {!Object<string, string>|undefined}
+ * @see goog.setCssNameMapping
+ */
+goog.cssNameMapping_;
+
+
+/**
+ * Optional obfuscation style for CSS class names. Should be set to either
+ * 'BY_WHOLE' or 'BY_PART' if defined.
+ * @type {string|undefined}
+ * @private
+ * @see goog.setCssNameMapping
+ */
+goog.cssNameMappingStyle_;
+
+
+
+/**
+ * A hook for modifying the default behavior goog.getCssName. The function
+ * if present, will receive the standard output of the goog.getCssName as
+ * its input.
+ *
+ * @type {(function(string):string)|undefined}
+ */
+goog.global.CLOSURE_CSS_NAME_MAP_FN;
+
+
+/**
+ * Handles strings that are intended to be used as CSS class names.
+ *
+ * This function works in tandem with @see goog.setCssNameMapping.
+ *
+ * Without any mapping set, the arguments are simple joined with a hyphen and
+ * passed through unaltered.
+ *
+ * When there is a mapping, there are two possible styles in which these
+ * mappings are used. In the BY_PART style, each part (i.e. in between hyphens)
+ * of the passed in css name is rewritten according to the map. In the BY_WHOLE
+ * style, the full css name is looked up in the map directly. If a rewrite is
+ * not specified by the map, the compiler will output a warning.
+ *
+ * When the mapping is passed to the compiler, it will replace calls to
+ * goog.getCssName with the strings from the mapping, e.g.
+ *     var x = goog.getCssName('foo');
+ *     var y = goog.getCssName(this.baseClass, 'active');
+ *  becomes:
+ *     var x = 'foo';
+ *     var y = this.baseClass + '-active';
+ *
+ * If one argument is passed it will be processed, if two are passed only the
+ * modifier will be processed, as it is assumed the first argument was generated
+ * as a result of calling goog.getCssName.
+ *
+ * @param {string} className The class name.
+ * @param {string=} opt_modifier A modifier to be appended to the class name.
+ * @return {string} The class name or the concatenation of the class name and
+ *     the modifier.
+ */
+goog.getCssName = function(className, opt_modifier) {
+  // String() is used for compatibility with compiled soy where the passed
+  // className can be non-string objects.
+  if (String(className).charAt(0) == '.') {
+    throw new Error(
+        'className passed in goog.getCssName must not start with ".".' +
+        ' You passed: ' + className);
+  }
+
+  var getMapping = function(cssName) {
+    return goog.cssNameMapping_[cssName] || cssName;
+  };
+
+  var renameByParts = function(cssName) {
+    // Remap all the parts individually.
+    var parts = cssName.split('-');
+    var mapped = [];
+    for (var i = 0; i < parts.length; i++) {
+      mapped.push(getMapping(parts[i]));
+    }
+    return mapped.join('-');
+  };
+
+  var rename;
+  if (goog.cssNameMapping_) {
+    rename =
+        goog.cssNameMappingStyle_ == 'BY_WHOLE' ? getMapping : renameByParts;
+  } else {
+    rename = function(a) {
+      return a;
+    };
+  }
+
+  var result =
+      opt_modifier ? className + '-' + rename(opt_modifier) : rename(className);
+
+  // The special CLOSURE_CSS_NAME_MAP_FN allows users to specify further
+  // processing of the class name.
+  if (goog.global.CLOSURE_CSS_NAME_MAP_FN) {
+    return goog.global.CLOSURE_CSS_NAME_MAP_FN(result);
+  }
+
+  return result;
+};
+
+
+/**
+ * Sets the map to check when returning a value from goog.getCssName(). Example:
+ * <pre>
+ * goog.setCssNameMapping({
+ *   "goog": "a",
+ *   "disabled": "b",
+ * });
+ *
+ * var x = goog.getCssName('goog');
+ * // The following evaluates to: "a a-b".
+ * goog.getCssName('goog') + ' ' + goog.getCssName(x, 'disabled')
+ * </pre>
+ * When declared as a map of string literals to string literals, the JSCompiler
+ * will replace all calls to goog.getCssName() using the supplied map if the
+ * --process_closure_primitives flag is set.
+ *
+ * @param {!Object} mapping A map of strings to strings where keys are possible
+ *     arguments to goog.getCssName() and values are the corresponding values
+ *     that should be returned.
+ * @param {string=} opt_style The style of css name mapping. There are two valid
+ *     options: 'BY_PART', and 'BY_WHOLE'.
+ * @see goog.getCssName for a description.
+ */
+goog.setCssNameMapping = function(mapping, opt_style) {
+  goog.cssNameMapping_ = mapping;
+  goog.cssNameMappingStyle_ = opt_style;
+};
+
+
+/**
+ * To use CSS renaming in compiled mode, one of the input files should have a
+ * call to goog.setCssNameMapping() with an object literal that the JSCompiler
+ * can extract and use to replace all calls to goog.getCssName(). In uncompiled
+ * mode, JavaScript code should be loaded before this base.js file that declares
+ * a global variable, CLOSURE_CSS_NAME_MAPPING, which is used below. This is
+ * to ensure that the mapping is loaded before any calls to goog.getCssName()
+ * are made in uncompiled mode.
+ *
+ * A hook for overriding the CSS name mapping.
+ * @type {!Object<string, string>|undefined}
+ */
+goog.global.CLOSURE_CSS_NAME_MAPPING;
+
+
+if (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {
+  // This does not call goog.setCssNameMapping() because the JSCompiler
+  // requires that goog.setCssNameMapping() be called with an object literal.
+  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;
+}
+
+
+/**
+ * Gets a localized message.
+ *
+ * This function is a compiler primitive. If you give the compiler a localized
+ * message bundle, it will replace the string at compile-time with a localized
+ * version, and expand goog.getMsg call to a concatenated string.
+ *
+ * Messages must be initialized in the form:
+ * <code>
+ * var MSG_NAME = goog.getMsg('Hello {$placeholder}', {'placeholder': 'world'});
+ * </code>
+ *
+ * This function produces a string which should be treated as plain text. Use
+ * {@link goog.html.SafeHtmlFormatter} in conjunction with goog.getMsg to
+ * produce SafeHtml.
+ *
+ * @param {string} str Translatable string, places holders in the form {$foo}.
+ * @param {Object<string, string>=} opt_values Maps place holder name to value.
+ * @param {{html: (boolean|undefined),
+ *         unescapeHtmlEntities: (boolean|undefined)}=} opt_options Options:
+ *     html: Escape '<' in str to '&lt;'. Used by Closure Templates where the
+ *     generated code size and performance is critical which is why {@link
+ *     goog.html.SafeHtmlFormatter} is not used. The value must be literal true
+ *     or false.
+ *     unescapeHtmlEntities: Unescape common html entities: &gt;, &lt;, &apos;,
+ *     &quot; and &amp;. Used for messages not in HTML context, such as with
+ *     `textContent` property.
+ * @return {string} message with placeholders filled.
+ */
+goog.getMsg = function(str, opt_values, opt_options) {
+  if (opt_options && opt_options.html) {
+    // Note that '&' is not replaced because the translation can contain HTML
+    // entities.
+    str = str.replace(/</g, '&lt;');
+  }
+  if (opt_options && opt_options.unescapeHtmlEntities) {
+    // Note that "&amp;" must be the last to avoid "creating" new entities.
+    str = str.replace(/&lt;/g, '<')
+              .replace(/&gt;/g, '>')
+              .replace(/&apos;/g, '\'')
+              .replace(/&quot;/g, '"')
+              .replace(/&amp;/g, '&');
+  }
+  if (opt_values) {
+    str = str.replace(/\{\$([^}]+)}/g, function(match, key) {
+      return (opt_values != null && key in opt_values) ? opt_values[key] :
+                                                         match;
+    });
+  }
+  return str;
+};
+
+
+/**
+ * Gets a localized message. If the message does not have a translation, gives a
+ * fallback message.
+ *
+ * This is useful when introducing a new message that has not yet been
+ * translated into all languages.
+ *
+ * This function is a compiler primitive. Must be used in the form:
+ * <code>var x = goog.getMsgWithFallback(MSG_A, MSG_B);</code>
+ * where MSG_A and MSG_B were initialized with goog.getMsg.
+ *
+ * @param {string} a The preferred message.
+ * @param {string} b The fallback message.
+ * @return {string} The best translated message.
+ */
+goog.getMsgWithFallback = function(a, b) {
+  return a;
+};
+
+
+/**
+ * Exposes an unobfuscated global namespace path for the given object.
+ * Note that fields of the exported object *will* be obfuscated, unless they are
+ * exported in turn via this function or goog.exportProperty.
+ *
+ * Also handy for making public items that are defined in anonymous closures.
+ *
+ * ex. goog.exportSymbol('public.path.Foo', Foo);
+ *
+ * ex. goog.exportSymbol('public.path.Foo.staticFunction', Foo.staticFunction);
+ *     public.path.Foo.staticFunction();
+ *
+ * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',
+ *                       Foo.prototype.myMethod);
+ *     new public.path.Foo().myMethod();
+ *
+ * @param {string} publicPath Unobfuscated name to export.
+ * @param {*} object Object the name should point to.
+ * @param {?Object=} objectToExportTo The object to add the path to; default
+ *     is goog.global.
+ */
+goog.exportSymbol = function(publicPath, object, objectToExportTo) {
+  goog.exportPath_(
+      publicPath, object, /* overwriteImplicit= */ true, objectToExportTo);
+};
+
+
+/**
+ * Exports a property unobfuscated into the object's namespace.
+ * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);
+ * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);
+ * @param {Object} object Object whose static property is being exported.
+ * @param {string} publicName Unobfuscated name to export.
+ * @param {*} symbol Object the name should point to.
+ */
+goog.exportProperty = function(object, publicName, symbol) {
+  object[publicName] = symbol;
+};
+
+
+/**
+ * Inherit the prototype methods from one constructor into another.
+ *
+ * Usage:
+ * <pre>
+ * function ParentClass(a, b) { }
+ * ParentClass.prototype.foo = function(a) { };
+ *
+ * function ChildClass(a, b, c) {
+ *   ChildClass.base(this, 'constructor', a, b);
+ * }
+ * goog.inherits(ChildClass, ParentClass);
+ *
+ * var child = new ChildClass('a', 'b', 'see');
+ * child.foo(); // This works.
+ * </pre>
+ *
+ * @param {!Function} childCtor Child class.
+ * @param {!Function} parentCtor Parent class.
+ * @suppress {strictMissingProperties} superClass_ and base is not defined on
+ *    Function.
+ * @deprecated Use ECMAScript class syntax instead.
+ */
+goog.inherits = function(childCtor, parentCtor) {
+  /** @constructor */
+  function tempCtor() {}
+  tempCtor.prototype = parentCtor.prototype;
+  childCtor.superClass_ = parentCtor.prototype;
+  childCtor.prototype = new tempCtor();
+  /** @override */
+  childCtor.prototype.constructor = childCtor;
+
+  /**
+   * Calls superclass constructor/method.
+   *
+   * This function is only available if you use goog.inherits to
+   * express inheritance relationships between classes.
+   *
+   * NOTE: This is a replacement for goog.base and for superClass_
+   * property defined in childCtor.
+   *
+   * @param {!Object} me Should always be "this".
+   * @param {string} methodName The method name to call. Calling
+   *     superclass constructor can be done with the special string
+   *     'constructor'.
+   * @param {...*} var_args The arguments to pass to superclass
+   *     method/constructor.
+   * @return {*} The return value of the superclass method/constructor.
+   */
+  childCtor.base = function(me, methodName, var_args) {
+    // Copying using loop to avoid deop due to passing arguments object to
+    // function. This is faster in many JS engines as of late 2014.
+    var args = new Array(arguments.length - 2);
+    for (var i = 2; i < arguments.length; i++) {
+      args[i - 2] = arguments[i];
+    }
+    return parentCtor.prototype[methodName].apply(me, args);
+  };
+};
+
+
+/**
+ * Allow for aliasing within scope functions.  This function exists for
+ * uncompiled code - in compiled code the calls will be inlined and the aliases
+ * applied.  In uncompiled code the function is simply run since the aliases as
+ * written are valid JavaScript.
+ *
+ * MOE:begin_intracomment_strip
+ * See the goog.scope document at http://go/goog.scope
+ *
+ * For more on goog.scope deprecation, see the style guide entry:
+ * http://go/jsstyle#appendices-legacy-exceptions-goog-scope
+ * MOE:end_intracomment_strip
+ *
+ * @param {function()} fn Function to call.  This function can contain aliases
+ *     to namespaces (e.g. "var dom = goog.dom") or classes
+ *     (e.g. "var Timer = goog.Timer").
+ * @deprecated Use goog.module instead.
+ */
+goog.scope = function(fn) {
+  if (goog.isInModuleLoader_()) {
+    throw new Error('goog.scope is not supported within a module.');
+  }
+  fn.call(goog.global);
+};
+
+
+/*
+ * To support uncompiled, strict mode bundles that use eval to divide source
+ * like so:
+ *    eval('someSource;//# sourceUrl sourcefile.js');
+ * We need to export the globally defined symbols "goog" and "COMPILED".
+ * Exporting "goog" breaks the compiler optimizations, so we required that
+ * be defined externally.
+ * NOTE: We don't use goog.exportSymbol here because we don't want to trigger
+ * extern generation when that compiler option is enabled.
+ */
+if (!COMPILED) {
+  goog.global['COMPILED'] = COMPILED;
+}
+
+
+//==============================================================================
+// goog.defineClass implementation
+//==============================================================================
+
+
+/**
+ * Creates a restricted form of a Closure "class":
+ *   - from the compiler's perspective, the instance returned from the
+ *     constructor is sealed (no new properties may be added).  This enables
+ *     better checks.
+ *   - the compiler will rewrite this definition to a form that is optimal
+ *     for type checking and optimization (initially this will be a more
+ *     traditional form).
+ *
+ * @param {Function} superClass The superclass, Object or null.
+ * @param {goog.defineClass.ClassDescriptor} def
+ *     An object literal describing
+ *     the class.  It may have the following properties:
+ *     "constructor": the constructor function
+ *     "statics": an object literal containing methods to add to the constructor
+ *        as "static" methods or a function that will receive the constructor
+ *        function as its only parameter to which static properties can
+ *        be added.
+ *     all other properties are added to the prototype.
+ * @return {!Function} The class constructor.
+ * @deprecated Use ECMAScript class syntax instead.
+ */
+goog.defineClass = function(superClass, def) {
+  // TODO(johnlenz): consider making the superClass an optional parameter.
+  var constructor = def.constructor;
+  var statics = def.statics;
+  // Wrap the constructor prior to setting up the prototype and static methods.
+  if (!constructor || constructor == Object.prototype.constructor) {
+    constructor = function() {
+      throw new Error(
+          'cannot instantiate an interface (no constructor defined).');
+    };
+  }
+
+  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);
+  if (superClass) {
+    goog.inherits(cls, superClass);
+  }
+
+  // Remove all the properties that should not be copied to the prototype.
+  delete def.constructor;
+  delete def.statics;
+
+  goog.defineClass.applyProperties_(cls.prototype, def);
+  if (statics != null) {
+    if (statics instanceof Function) {
+      statics(cls);
+    } else {
+      goog.defineClass.applyProperties_(cls, statics);
+    }
+  }
+
+  return cls;
+};
+
+
+/**
+ * @typedef {{
+ *   constructor: (!Function|undefined),
+ *   statics: (Object|undefined|function(Function):void)
+ * }}
+ */
+goog.defineClass.ClassDescriptor;
+
+
+/**
+ * @define {boolean} Whether the instances returned by goog.defineClass should
+ *     be sealed when possible.
+ *
+ * When sealing is disabled the constructor function will not be wrapped by
+ * goog.defineClass, making it incompatible with ES6 class methods.
+ */
+goog.defineClass.SEAL_CLASS_INSTANCES =
+    goog.define('goog.defineClass.SEAL_CLASS_INSTANCES', goog.DEBUG);
+
+
+/**
+ * If goog.defineClass.SEAL_CLASS_INSTANCES is enabled and Object.seal is
+ * defined, this function will wrap the constructor in a function that seals the
+ * results of the provided constructor function.
+ *
+ * @param {!Function} ctr The constructor whose results maybe be sealed.
+ * @param {Function} superClass The superclass constructor.
+ * @return {!Function} The replacement constructor.
+ * @private
+ */
+goog.defineClass.createSealingConstructor_ = function(ctr, superClass) {
+  if (!goog.defineClass.SEAL_CLASS_INSTANCES) {
+    // Do now wrap the constructor when sealing is disabled. Angular code
+    // depends on this for injection to work properly.
+    return ctr;
+  }
+
+  // NOTE: The sealing behavior has been removed
+
+  /**
+   * @this {Object}
+   * @return {?}
+   */
+  var wrappedCtr = function() {
+    // Don't seal an instance of a subclass when it calls the constructor of
+    // its super class as there is most likely still setup to do.
+    var instance = ctr.apply(this, arguments) || this;
+    instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];
+
+    return instance;
+  };
+
+  return wrappedCtr;
+};
+
+
+
+// TODO(johnlenz): share these values with the goog.object
+/**
+ * The names of the fields that are defined on Object.prototype.
+ * @type {!Array<string>}
+ * @private
+ * @const
+ */
+goog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = [
+  'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',
+  'toLocaleString', 'toString', 'valueOf'
+];
+
+
+// TODO(johnlenz): share this function with the goog.object
+/**
+ * @param {!Object} target The object to add properties to.
+ * @param {!Object} source The object to copy properties from.
+ * @private
+ */
+goog.defineClass.applyProperties_ = function(target, source) {
+  // TODO(johnlenz): update this to support ES5 getters/setters
+
+  var key;
+  for (key in source) {
+    if (Object.prototype.hasOwnProperty.call(source, key)) {
+      target[key] = source[key];
+    }
+  }
+
+  // For IE the for-in-loop does not contain any properties that are not
+  // enumerable on the prototype object (for example isPrototypeOf from
+  // Object.prototype) and it will also not include 'replace' on objects that
+  // extend String and change 'replace' (not that it is common for anyone to
+  // extend anything except Object).
+  for (var i = 0; i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; i++) {
+    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i];
+    if (Object.prototype.hasOwnProperty.call(source, key)) {
+      target[key] = source[key];
+    }
+  }
+};
+
+/**
+ * Returns the parameter.
+ * @param {string} s
+ * @return {string}
+ * @private
+ */
+goog.identity_ = function(s) {
+  return s;
+};
+
+
+/**
+ * Creates Trusted Types policy if Trusted Types are supported by the browser.
+ * The policy just blesses any string as a Trusted Type. It is not visibility
+ * restricted because anyone can also call trustedTypes.createPolicy directly.
+ * However, the allowed names should be restricted by a HTTP header and the
+ * reference to the created policy should be visibility restricted.
+ * @param {string} name
+ * @return {?TrustedTypePolicy}
+ */
+goog.createTrustedTypesPolicy = function(name) {
+  var policy = null;
+  var policyFactory = goog.global.trustedTypes;
+  if (!policyFactory || !policyFactory.createPolicy) {
+    return policy;
+  }
+  // trustedTypes.createPolicy throws if called with a name that is already
+  // registered, even in report-only mode. Until the API changes, catch the
+  // error not to break the applications functionally. In such case, the code
+  // will fall back to using regular Safe Types.
+  // TODO(koto): Remove catching once createPolicy API stops throwing.
+  try {
+    policy = policyFactory.createPolicy(name, {
+      createHTML: goog.identity_,
+      createScript: goog.identity_,
+      createScriptURL: goog.identity_
+    });
+  } catch (e) {
+    goog.logToConsole_(e.message);
+  }
+  return policy;
+};
+
+// There's a bug in the compiler where without collapse properties the
+// Closure namespace defines do not guard code correctly. To help reduce code
+// size also check for !COMPILED even though it redundant until this is fixed.
+if (!COMPILED && goog.DEPENDENCIES_ENABLED) {
+  // MOE:begin_strip
+  // TODO(b/67050526) This object is obsolete but some people are relying on
+  // it internally. Keep it around until we migrate them.
+  /**
+   * @private
+   * @type {{
+   *   loadFlags: !Object<string, !Object<string, string>>,
+   *   nameToPath: !Object<string, string>,
+   *   requires: !Object<string, !Object<string, boolean>>,
+   *   visited: !Object<string, boolean>,
+   *   written: !Object<string, boolean>,
+   *   deferred: !Object<string, string>
+   * }}
+   */
+  goog.dependencies_ = {
+    loadFlags: {},  // 1 to 1
+
+    nameToPath: {},  // 1 to 1
+
+    requires: {},  // 1 to many
+
+    // Used when resolving dependencies to prevent us from visiting file
+    // twice.
+    visited: {},
+
+    written: {},  // Used to keep track of script files we have written.
+
+    deferred: {}  // Used to track deferred module evaluations in old IEs
+  };
+
+  /**
+   * @return {!Object}
+   * @private
+   */
+  goog.getLoader_ = function() {
+    return {
+      dependencies_: goog.dependencies_,
+      writeScriptTag_: goog.writeScriptTag_
+    };
+  };
+
+
+  /**
+   * @param {string} src The script url.
+   * @param {string=} opt_sourceText The optionally source text to evaluate
+   * @return {boolean} True if the script was imported, false otherwise.
+   * @private
+   */
+  goog.writeScriptTag_ = function(src, opt_sourceText) {
+    if (goog.inHtmlDocument_()) {
+      /** @type {!HTMLDocument} */
+      var doc = goog.global.document;
+
+      // If the user tries to require a new symbol after document load,
+      // something has gone terribly wrong. Doing a document.write would
+      // wipe out the page. This does not apply to the CSP-compliant method
+      // of writing script tags.
+      if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&
+          doc.readyState == 'complete') {
+        // Certain test frameworks load base.js multiple times, which tries
+        // to write deps.js each time. If that happens, just fail silently.
+        // These frameworks wipe the page between each load of base.js, so this
+        // is OK.
+        var isDeps = /\bdeps.js$/.test(src);
+        if (isDeps) {
+          return false;
+        } else {
+          throw Error('Cannot write "' + src + '" after document load');
+        }
+      }
+
+      var nonceAttr = '';
+      var nonce = goog.getScriptNonce();
+      if (nonce) {
+        nonceAttr = ' nonce="' + nonce + '"';
+      }
+
+      if (opt_sourceText === undefined) {
+        var script = '<script src="' + src + '"' + nonceAttr + '></' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      } else {
+        var script = '<script' + nonceAttr + '>' +
+            goog.protectScriptTag_(opt_sourceText) + '</' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      }
+      return true;
+    } else {
+      return false;
+    }
+  };
+  // MOE:end_strip
+
+
+  /**
+   * Tries to detect whether the current browser is Edge, based on the user
+   * agent. This matches only pre-Chromium Edge.
+   * @see https://docs.microsoft.com/en-us/microsoft-edge/web-platform/user-agent-string
+   * @return {boolean} True if the current browser is Edge.
+   * @private
+   */
+  goog.isEdge_ = function() {
+    var userAgent = goog.global.navigator && goog.global.navigator.userAgent ?
+        goog.global.navigator.userAgent :
+        '';
+    var edgeRe = /Edge\/(\d+)(\.\d)*/i;
+    return !!userAgent.match(edgeRe);
+  };
+
+
+  /**
+   * Tries to detect whether is in the context of an HTML document.
+   * @return {boolean} True if it looks like HTML document.
+   * @private
+   */
+  goog.inHtmlDocument_ = function() {
+    /** @type {!Document} */
+    var doc = goog.global.document;
+    return doc != null && 'write' in doc;  // XULDocument misses write.
+  };
+
+
+  /**
+   * We'd like to check for if the document readyState is 'loading'; however
+   * there are bugs on IE 10 and below where the readyState being anything other
+   * than 'complete' is not reliable.
+   * @return {boolean}
+   * @private
+   */
+  goog.isDocumentLoading_ = function() {
+    // attachEvent is available on IE 6 thru 10 only, and thus can be used to
+    // detect those browsers.
+    /** @type {!HTMLDocument} */
+    var doc = goog.global.document;
+    return doc.attachEvent ? doc.readyState != 'complete' :
+                             doc.readyState == 'loading';
+  };
+
+
+  /**
+   * Tries to detect the base path of base.js script that bootstraps Closure.
+   * @private
+   */
+  goog.findBasePath_ = function() {
+    if (goog.global.CLOSURE_BASE_PATH != undefined &&
+        // Anti DOM-clobbering runtime check (b/37736576).
+        typeof goog.global.CLOSURE_BASE_PATH === 'string') {
+      goog.basePath = goog.global.CLOSURE_BASE_PATH;
+      return;
+    } else if (!goog.inHtmlDocument_()) {
+      return;
+    }
+    /** @type {!Document} */
+    var doc = goog.global.document;
+    // If we have a currentScript available, use it exclusively.
+    var currentScript = doc.currentScript;
+    if (currentScript) {
+      var scripts = [currentScript];
+    } else {
+      var scripts = doc.getElementsByTagName('SCRIPT');
+    }
+    // Search backwards since the current script is in almost all cases the one
+    // that has base.js.
+    for (var i = scripts.length - 1; i >= 0; --i) {
+      var script = /** @type {!HTMLScriptElement} */ (scripts[i]);
+      var src = script.src;
+      var qmark = src.lastIndexOf('?');
+      var l = qmark == -1 ? src.length : qmark;
+      if (src.substr(l - 7, 7) == 'base.js') {
+        goog.basePath = src.substr(0, l - 7);
+        return;
+      }
+    }
+  };
+
+  goog.findBasePath_();
+
+  /** @struct @constructor @final */
+  goog.Transpiler = function() {
+    /** @private {?Object<string, boolean>} */
+    this.requiresTranspilation_ = null;
+    /** @private {string} */
+    this.transpilationTarget_ = goog.TRANSPILE_TO_LANGUAGE;
+  };
+
+
+  // MOE:begin_strip
+  // LINT.IfChange
+  // MOE:end_strip
+  /**
+   * Returns a newly created map from language mode string to a boolean
+   * indicating whether transpilation should be done for that mode as well as
+   * the highest level language that this environment supports.
+   *
+   * Guaranteed invariant:
+   * For any two modes, l1 and l2 where l2 is a newer mode than l1,
+   * `map[l1] == true` implies that `map[l2] == true`.
+   *
+   * Note this method is extracted and used elsewhere, so it cannot rely on
+   * anything external (it should easily be able to be transformed into a
+   * standalone, top level function).
+   *
+   * @private
+   * @return {{
+   *   target: string,
+   *   map: !Object<string, boolean>
+   * }}
+   */
+  goog.Transpiler.prototype.createRequiresTranspilation_ = function() {
+    var transpilationTarget = 'es3';
+    var /** !Object<string, boolean> */ requiresTranspilation = {'es3': false};
+    var transpilationRequiredForAllLaterModes = false;
+
+    /**
+     * Adds an entry to requiresTranspliation for the given language mode.
+     *
+     * IMPORTANT: Calls must be made in order from oldest to newest language
+     * mode.
+     * @param {string} modeName
+     * @param {function(): boolean} isSupported Returns true if the JS engine
+     *     supports the given mode.
+     */
+    function addNewerLanguageTranspilationCheck(modeName, isSupported) {
+      if (transpilationRequiredForAllLaterModes) {
+        requiresTranspilation[modeName] = true;
+      } else if (isSupported()) {
+        transpilationTarget = modeName;
+        requiresTranspilation[modeName] = false;
+      } else {
+        requiresTranspilation[modeName] = true;
+        transpilationRequiredForAllLaterModes = true;
+      }
+    }
+
+    /**
+     * Does the given code evaluate without syntax errors and return a truthy
+     * result?
+     */
+    function /** boolean */ evalCheck(/** string */ code) {
+      try {
+        return !!eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(code));
+      } catch (ignored) {
+        return false;
+      }
+    }
+
+    // Identify ES3-only browsers by their incorrect treatment of commas.
+    addNewerLanguageTranspilationCheck('es5', function() {
+      return evalCheck('[1,].length==1');
+    });
+    addNewerLanguageTranspilationCheck('es6', function() {
+      // Edge has a non-deterministic (i.e., not reproducible) bug with ES6:
+      // https://github.com/Microsoft/ChakraCore/issues/1496.
+      // MOE:begin_strip
+      // TODO(joeltine): Our internal web-testing version of Edge will need to
+      // be updated before we can remove this check. See http://b/34945376.
+      // MOE:end_strip
+      if (goog.isEdge_()) {
+        // The Reflect.construct test below is flaky on Edge. It can sometimes
+        // pass or fail on 40 15.15063, so just exit early for Edge and treat
+        // it as ES5. Until we're on a more up to date version just always use
+        // ES5. See https://github.com/Microsoft/ChakraCore/issues/3217.
+        return false;
+      }
+      // Test es6: [FF50 (?), Edge 14 (?), Chrome 50]
+      //   (a) default params (specifically shadowing locals),
+      //   (b) destructuring, (c) block-scoped functions,
+      //   (d) for-of (const), (e) new.target/Reflect.construct
+      var es6fullTest =
+          'class X{constructor(){if(new.target!=String)throw 1;this.x=42}}' +
+          'let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof ' +
+          'String))throw 1;for(const a of[2,3]){if(a==2)continue;function ' +
+          'f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()' +
+          '==3}';
+
+      return evalCheck('(()=>{"use strict";' + es6fullTest + '})()');
+    });
+    // ** and **= are the only new features in 'es7'
+    addNewerLanguageTranspilationCheck('es7', function() {
+      return evalCheck('2**3==8');
+    });
+    // async functions are the only new features in 'es8'
+    addNewerLanguageTranspilationCheck('es8', function() {
+      return evalCheck('async()=>1,1');
+    });
+    addNewerLanguageTranspilationCheck('es9', function() {
+      return evalCheck('({...rest}={}),1');
+    });
+    // optional catch binding, unescaped unicode paragraph separator in strings
+    addNewerLanguageTranspilationCheck('es_2019', function() {
+      return evalCheck('let r;try{throw 0}catch{r="\u2029"};r');
+    });
+    // optional chaining, nullish coalescing
+    // untested/unsupported: bigint, import meta
+    addNewerLanguageTranspilationCheck('es_2020', function() {
+      return evalCheck('null?.x??1');
+    });
+    addNewerLanguageTranspilationCheck('es_next', function() {
+      return false;  // assume it always need to transpile
+    });
+    return {target: transpilationTarget, map: requiresTranspilation};
+  };
+  // MOE:begin_strip
+  // LINT.ThenChange(//depot/google3/java/com/google/testing/web/devtools/updatebrowserinfo/requires_transpilation.js)
+  // MOE:end_strip
+
+
+  /**
+   * Determines whether the given language needs to be transpiled.
+   * @param {string} lang
+   * @param {string|undefined} module
+   * @return {boolean}
+   */
+  goog.Transpiler.prototype.needsTranspile = function(lang, module) {
+    if (goog.TRANSPILE == 'always') {
+      return true;
+    } else if (goog.TRANSPILE == 'never') {
+      return false;
+    } else if (!this.requiresTranspilation_) {
+      var obj = this.createRequiresTranspilation_();
+      this.requiresTranspilation_ = obj.map;
+      this.transpilationTarget_ = this.transpilationTarget_ || obj.target;
+    }
+    if (lang in this.requiresTranspilation_) {
+      if (this.requiresTranspilation_[lang]) {
+        return true;
+      } else if (
+          goog.inHtmlDocument_() && module == 'es6' &&
+          !('noModule' in goog.global.document.createElement('script'))) {
+        return true;
+      } else {
+        return false;
+      }
+    } else {
+      throw new Error('Unknown language mode: ' + lang);
+    }
+  };
+
+
+  /**
+   * Lazily retrieves the transpiler and applies it to the source.
+   * @param {string} code JS code.
+   * @param {string} path Path to the code.
+   * @return {string} The transpiled code.
+   */
+  goog.Transpiler.prototype.transpile = function(code, path) {
+    // TODO(johnplaisted): We should delete goog.transpile_ and just have this
+    // function. But there's some compile error atm where goog.global is being
+    // stripped incorrectly without this.
+    return goog.transpile_(code, path, this.transpilationTarget_);
+  };
+
+
+  /** @private @final {!goog.Transpiler} */
+  goog.transpiler_ = new goog.Transpiler();
+
+  /**
+   * Rewrites closing script tags in input to avoid ending an enclosing script
+   * tag.
+   *
+   * @param {string} str
+   * @return {string}
+   * @private
+   */
+  goog.protectScriptTag_ = function(str) {
+    return str.replace(/<\/(SCRIPT)/ig, '\\x3c/$1');
+  };
+
+
+  /**
+   * A debug loader is responsible for downloading and executing javascript
+   * files in an unbundled, uncompiled environment.
+   *
+   * This can be custimized via the setDependencyFactory method, or by
+   * CLOSURE_IMPORT_SCRIPT/CLOSURE_LOAD_FILE_SYNC.
+   *
+   * @struct @constructor @final @private
+   */
+  goog.DebugLoader_ = function() {
+    /** @private @const {!Object<string, !goog.Dependency>} */
+    this.dependencies_ = {};
+    /** @private @const {!Object<string, string>} */
+    this.idToPath_ = {};
+    /** @private @const {!Object<string, boolean>} */
+    this.written_ = {};
+    /** @private @const {!Array<!goog.Dependency>} */
+    this.loadingDeps_ = [];
+    /** @private {!Array<!goog.Dependency>} */
+    this.depsToLoad_ = [];
+    /** @private {boolean} */
+    this.paused_ = false;
+    /** @private {!goog.DependencyFactory} */
+    this.factory_ = new goog.DependencyFactory(goog.transpiler_);
+    /** @private @const {!Object<string, !Function>} */
+    this.deferredCallbacks_ = {};
+    /** @private @const {!Array<string>} */
+    this.deferredQueue_ = [];
+  };
+
+  /**
+   * @param {!Array<string>} namespaces
+   * @param {function(): undefined} callback Function to call once all the
+   *     namespaces have loaded.
+   */
+  goog.DebugLoader_.prototype.bootstrap = function(namespaces, callback) {
+    var cb = callback;
+    function resolve() {
+      if (cb) {
+        goog.global.setTimeout(cb, 0);
+        cb = null;
+      }
+    }
+
+    if (!namespaces.length) {
+      resolve();
+      return;
+    }
+
+    var deps = [];
+    for (var i = 0; i < namespaces.length; i++) {
+      var path = this.getPathFromDeps_(namespaces[i]);
+      if (!path) {
+        throw new Error('Unregonized namespace: ' + namespaces[i]);
+      }
+      deps.push(this.dependencies_[path]);
+    }
+
+    var require = goog.require;
+    var loaded = 0;
+    for (var i = 0; i < namespaces.length; i++) {
+      require(namespaces[i]);
+      deps[i].onLoad(function() {
+        if (++loaded == namespaces.length) {
+          resolve();
+        }
+      });
+    }
+  };
+
+
+  /**
+   * Loads the Closure Dependency file.
+   *
+   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base
+   * loaded, setDependencyFactory called, and then this called. i.e. allows
+   * custom loading of the deps file.
+   */
+  goog.DebugLoader_.prototype.loadClosureDeps = function() {
+    // Circumvent addDependency, which would try to transpile deps.js if
+    // transpile is set to always.
+    var relPath = 'deps.js';
+    this.depsToLoad_.push(this.factory_.createDependency(
+        goog.normalizePath_(goog.basePath + relPath), relPath, [], [], {},
+        false));
+    this.loadDeps_();
+  };
+
+
+  /**
+   * Notifies the debug loader when a dependency has been requested.
+   *
+   * @param {string} absPathOrId Path of the dependency or goog id.
+   * @param {boolean=} opt_force
+   */
+  goog.DebugLoader_.prototype.requested = function(absPathOrId, opt_force) {
+    var path = this.getPathFromDeps_(absPathOrId);
+    if (path &&
+        (opt_force || this.areDepsLoaded_(this.dependencies_[path].requires))) {
+      var callback = this.deferredCallbacks_[path];
+      if (callback) {
+        delete this.deferredCallbacks_[path];
+        callback();
+      }
+    }
+  };
+
+
+  /**
+   * Sets the dependency factory, which can be used to create custom
+   * goog.Dependency implementations to control how dependencies are loaded.
+   *
+   * @param {!goog.DependencyFactory} factory
+   */
+  goog.DebugLoader_.prototype.setDependencyFactory = function(factory) {
+    this.factory_ = factory;
+  };
+
+
+  /**
+   * Travserses the dependency graph and queues the given dependency, and all of
+   * its transitive dependencies, for loading and then starts loading if not
+   * paused.
+   *
+   * @param {string} namespace
+   * @private
+   */
+  goog.DebugLoader_.prototype.load_ = function(namespace) {
+    if (!this.getPathFromDeps_(namespace)) {
+      var errorMessage = 'goog.require could not find: ' + namespace;
+      goog.logToConsole_(errorMessage);
+    } else {
+      var loader = this;
+
+      var deps = [];
+
+      /** @param {string} namespace */
+      var visit = function(namespace) {
+        var path = loader.getPathFromDeps_(namespace);
+
+        if (!path) {
+          throw new Error('Bad dependency path or symbol: ' + namespace);
+        }
+
+        if (loader.written_[path]) {
+          return;
+        }
+
+        loader.written_[path] = true;
+
+        var dep = loader.dependencies_[path];
+        // MOE:begin_strip
+        if (goog.dependencies_.written[dep.relativePath]) {
+          return;
+        }
+        // MOE:end_strip
+        for (var i = 0; i < dep.requires.length; i++) {
+          if (!goog.isProvided_(dep.requires[i])) {
+            visit(dep.requires[i]);
+          }
+        }
+
+        deps.push(dep);
+      };
+
+      visit(namespace);
+
+      var wasLoading = !!this.depsToLoad_.length;
+      this.depsToLoad_ = this.depsToLoad_.concat(deps);
+
+      if (!this.paused_ && !wasLoading) {
+        this.loadDeps_();
+      }
+    }
+  };
+
+
+  /**
+   * Loads any queued dependencies until they are all loaded or paused.
+   *
+   * @private
+   */
+  goog.DebugLoader_.prototype.loadDeps_ = function() {
+    var loader = this;
+    var paused = this.paused_;
+
+    while (this.depsToLoad_.length && !paused) {
+      (function() {
+        var loadCallDone = false;
+        var dep = loader.depsToLoad_.shift();
+
+        var loaded = false;
+        loader.loading_(dep);
+
+        var controller = {
+          pause: function() {
+            if (loadCallDone) {
+              throw new Error('Cannot call pause after the call to load.');
+            } else {
+              paused = true;
+            }
+          },
+          resume: function() {
+            if (loadCallDone) {
+              loader.resume_();
+            } else {
+              // Some dep called pause and then resume in the same load call.
+              // Just keep running this same loop.
+              paused = false;
+            }
+          },
+          loaded: function() {
+            if (loaded) {
+              throw new Error('Double call to loaded.');
+            }
+
+            loaded = true;
+            loader.loaded_(dep);
+          },
+          pending: function() {
+            // Defensive copy.
+            var pending = [];
+            for (var i = 0; i < loader.loadingDeps_.length; i++) {
+              pending.push(loader.loadingDeps_[i]);
+            }
+            return pending;
+          },
+          /**
+           * @param {goog.ModuleType} type
+           */
+          setModuleState: function(type) {
+            goog.moduleLoaderState_ = {
+              type: type,
+              moduleName: '',
+              declareLegacyNamespace: false
+            };
+          },
+          /** @type {function(string, string, string=)} */
+          registerEs6ModuleExports: function(
+              path, exports, opt_closureNamespace) {
+            if (opt_closureNamespace) {
+              goog.loadedModules_[opt_closureNamespace] = {
+                exports: exports,
+                type: goog.ModuleType.ES6,
+                moduleId: opt_closureNamespace || ''
+              };
+            }
+          },
+          /** @type {function(string, ?)} */
+          registerGoogModuleExports: function(moduleId, exports) {
+            goog.loadedModules_[moduleId] = {
+              exports: exports,
+              type: goog.ModuleType.GOOG,
+              moduleId: moduleId
+            };
+          },
+          clearModuleState: function() {
+            goog.moduleLoaderState_ = null;
+          },
+          defer: function(callback) {
+            if (loadCallDone) {
+              throw new Error(
+                  'Cannot register with defer after the call to load.');
+            }
+            loader.defer_(dep, callback);
+          },
+          areDepsLoaded: function() {
+            return loader.areDepsLoaded_(dep.requires);
+          }
+        };
+
+        try {
+          dep.load(controller);
+        } finally {
+          loadCallDone = true;
+        }
+      })();
+    }
+
+    if (paused) {
+      this.pause_();
+    }
+  };
+
+
+  /** @private */
+  goog.DebugLoader_.prototype.pause_ = function() {
+    this.paused_ = true;
+  };
+
+
+  /** @private */
+  goog.DebugLoader_.prototype.resume_ = function() {
+    if (this.paused_) {
+      this.paused_ = false;
+      this.loadDeps_();
+    }
+  };
+
+
+  /**
+   * Marks the given dependency as loading (load has been called but it has not
+   * yet marked itself as finished). Useful for dependencies that want to know
+   * what else is loading. Example: goog.modules cannot eval if there are
+   * loading dependencies.
+   *
+   * @param {!goog.Dependency} dep
+   * @private
+   */
+  goog.DebugLoader_.prototype.loading_ = function(dep) {
+    this.loadingDeps_.push(dep);
+  };
+
+
+  /**
+   * Marks the given dependency as having finished loading and being available
+   * for require.
+   *
+   * @param {!goog.Dependency} dep
+   * @private
+   */
+  goog.DebugLoader_.prototype.loaded_ = function(dep) {
+    for (var i = 0; i < this.loadingDeps_.length; i++) {
+      if (this.loadingDeps_[i] == dep) {
+        this.loadingDeps_.splice(i, 1);
+        break;
+      }
+    }
+
+    for (var i = 0; i < this.deferredQueue_.length; i++) {
+      if (this.deferredQueue_[i] == dep.path) {
+        this.deferredQueue_.splice(i, 1);
+        break;
+      }
+    }
+
+    if (this.loadingDeps_.length == this.deferredQueue_.length &&
+        !this.depsToLoad_.length) {
+      // Something has asked to load these, but they may not be directly
+      // required again later, so load them now that we know we're done loading
+      // everything else. e.g. a goog module entry point.
+      while (this.deferredQueue_.length) {
+        this.requested(this.deferredQueue_.shift(), true);
+      }
+    }
+
+    dep.loaded();
+  };
+
+
+  /**
+   * @param {!Array<string>} pathsOrIds
+   * @return {boolean}
+   * @private
+   */
+  goog.DebugLoader_.prototype.areDepsLoaded_ = function(pathsOrIds) {
+    for (var i = 0; i < pathsOrIds.length; i++) {
+      var path = this.getPathFromDeps_(pathsOrIds[i]);
+      if (!path ||
+          (!(path in this.deferredCallbacks_) &&
+           !goog.isProvided_(pathsOrIds[i]))) {
+        return false;
+      }
+    }
+
+    return true;
+  };
+
+
+  /**
+   * @param {string} absPathOrId
+   * @return {?string}
+   * @private
+   */
+  goog.DebugLoader_.prototype.getPathFromDeps_ = function(absPathOrId) {
+    if (absPathOrId in this.idToPath_) {
+      return this.idToPath_[absPathOrId];
+    } else if (absPathOrId in this.dependencies_) {
+      return absPathOrId;
+    } else {
+      return null;
+    }
+  };
+
+
+  /**
+   * @param {!goog.Dependency} dependency
+   * @param {!Function} callback
+   * @private
+   */
+  goog.DebugLoader_.prototype.defer_ = function(dependency, callback) {
+    this.deferredCallbacks_[dependency.path] = callback;
+    this.deferredQueue_.push(dependency.path);
+  };
+
+
+  /**
+   * Interface for goog.Dependency implementations to have some control over
+   * loading of dependencies.
+   *
+   * @record
+   */
+  goog.LoadController = function() {};
+
+
+  /**
+   * Tells the controller to halt loading of more dependencies.
+   */
+  goog.LoadController.prototype.pause = function() {};
+
+
+  /**
+   * Tells the controller to resume loading of more dependencies if paused.
+   */
+  goog.LoadController.prototype.resume = function() {};
+
+
+  /**
+   * Tells the controller that this dependency has finished loading.
+   *
+   * This causes this to be removed from pending() and any load callbacks to
+   * fire.
+   */
+  goog.LoadController.prototype.loaded = function() {};
+
+
+  /**
+   * List of dependencies on which load has been called but which have not
+   * called loaded on their controller. This includes the current dependency.
+   *
+   * @return {!Array<!goog.Dependency>}
+   */
+  goog.LoadController.prototype.pending = function() {};
+
+
+  /**
+   * Registers an object as an ES6 module's exports so that goog.modules may
+   * require it by path.
+   *
+   * @param {string} path Full path of the module.
+   * @param {?} exports
+   * @param {string=} opt_closureNamespace Closure namespace to associate with
+   *     this module.
+   */
+  goog.LoadController.prototype.registerEs6ModuleExports = function(
+      path, exports, opt_closureNamespace) {};
+
+
+  /**
+   * Sets the current module state.
+   *
+   * @param {goog.ModuleType} type Type of module.
+   */
+  goog.LoadController.prototype.setModuleState = function(type) {};
+
+
+  /**
+   * Clears the current module state.
+   */
+  goog.LoadController.prototype.clearModuleState = function() {};
+
+
+  /**
+   * Registers a callback to call once the dependency is actually requested
+   * via goog.require + all of the immediate dependencies have been loaded or
+   * all other files have been loaded. Allows for lazy loading until
+   * require'd without pausing dependency loading, which is needed on old IE.
+   *
+   * @param {!Function} callback
+   */
+  goog.LoadController.prototype.defer = function(callback) {};
+
+
+  /**
+   * @return {boolean}
+   */
+  goog.LoadController.prototype.areDepsLoaded = function() {};
+
+
+  /**
+   * Basic super class for all dependencies Closure Library can load.
+   *
+   * This default implementation is designed to load untranspiled, non-module
+   * scripts in a web broswer.
+   *
+   * For transpiled non-goog.module files {@see goog.TranspiledDependency}.
+   * For goog.modules see {@see goog.GoogModuleDependency}.
+   * For untranspiled ES6 modules {@see goog.Es6ModuleDependency}.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor
+   */
+  goog.Dependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    /** @const */
+    this.path = path;
+    /** @const */
+    this.relativePath = relativePath;
+    /** @const */
+    this.provides = provides;
+    /** @const */
+    this.requires = requires;
+    /** @const */
+    this.loadFlags = loadFlags;
+    /** @private {boolean} */
+    this.loaded_ = false;
+    /** @private {!Array<function()>} */
+    this.loadCallbacks_ = [];
+  };
+
+
+  /**
+   * @return {string} The pathname part of this dependency's path if it is a
+   *     URI.
+   */
+  goog.Dependency.prototype.getPathName = function() {
+    var pathName = this.path;
+    var protocolIndex = pathName.indexOf('://');
+    if (protocolIndex >= 0) {
+      pathName = pathName.substring(protocolIndex + 3);
+      var slashIndex = pathName.indexOf('/');
+      if (slashIndex >= 0) {
+        pathName = pathName.substring(slashIndex + 1);
+      }
+    }
+    return pathName;
+  };
+
+
+  /**
+   * @param {function()} callback Callback to fire as soon as this has loaded.
+   * @final
+   */
+  goog.Dependency.prototype.onLoad = function(callback) {
+    if (this.loaded_) {
+      callback();
+    } else {
+      this.loadCallbacks_.push(callback);
+    }
+  };
+
+
+  /**
+   * Marks this dependency as loaded and fires any callbacks registered with
+   * onLoad.
+   * @final
+   */
+  goog.Dependency.prototype.loaded = function() {
+    this.loaded_ = true;
+    var callbacks = this.loadCallbacks_;
+    this.loadCallbacks_ = [];
+    for (var i = 0; i < callbacks.length; i++) {
+      callbacks[i]();
+    }
+  };
+
+
+  /**
+   * Whether or not document.written / appended script tags should be deferred.
+   *
+   * @private {boolean}
+   */
+  goog.Dependency.defer_ = false;
+
+
+  /**
+   * Map of script ready / state change callbacks. Old IE cannot handle putting
+   * these properties on goog.global.
+   *
+   * @private @const {!Object<string, function(?):undefined>}
+   */
+  goog.Dependency.callbackMap_ = {};
+
+
+  /**
+   * @param {function(...?):?} callback
+   * @return {string}
+   * @private
+   */
+  goog.Dependency.registerCallback_ = function(callback) {
+    var key = Math.random().toString(32);
+    goog.Dependency.callbackMap_[key] = callback;
+    return key;
+  };
+
+
+  /**
+   * @param {string} key
+   * @private
+   */
+  goog.Dependency.unregisterCallback_ = function(key) {
+    delete goog.Dependency.callbackMap_[key];
+  };
+
+
+  /**
+   * @param {string} key
+   * @param {...?} var_args
+   * @private
+   * @suppress {unusedPrivateMembers}
+   */
+  goog.Dependency.callback_ = function(key, var_args) {
+    if (key in goog.Dependency.callbackMap_) {
+      var callback = goog.Dependency.callbackMap_[key];
+      var args = [];
+      for (var i = 1; i < arguments.length; i++) {
+        args.push(arguments[i]);
+      }
+      callback.apply(undefined, args);
+    } else {
+      var errorMessage = 'Callback key ' + key +
+          ' does not exist (was base.js loaded more than once?).';
+      // MOE:begin_strip
+      // TODO(johnplaisted): Some people internally are mistakenly loading
+      // base.js twice, and this can happen while a dependency is loading,
+      // wiping out state.
+      goog.logToConsole_(errorMessage);
+      // MOE:end_strip
+      // MOE:insert throw Error(errorMessage);
+    }
+  };
+
+
+  /**
+   * Starts loading this dependency. This dependency can pause loading if it
+   * needs to and resume it later via the controller interface.
+   *
+   * When this is loaded it should call controller.loaded(). Note that this will
+   * end up calling the loaded method of this dependency; there is no need to
+   * call it explicitly.
+   *
+   * @param {!goog.LoadController} controller
+   */
+  goog.Dependency.prototype.load = function(controller) {
+    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
+      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+    if (!goog.inHtmlDocument_()) {
+      goog.logToConsole_(
+          'Cannot use default debug loader outside of HTML documents.');
+      if (this.relativePath == 'deps.js') {
+        // Some old code is relying on base.js auto loading deps.js failing with
+        // no error before later setting CLOSURE_IMPORT_SCRIPT.
+        // CLOSURE_IMPORT_SCRIPT should be set *before* base.js is loaded, or
+        // CLOSURE_NO_DEPS set to true.
+        goog.logToConsole_(
+            'Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, ' +
+            'or setting CLOSURE_NO_DEPS to true.');
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+    /** @type {!HTMLDocument} */
+    var doc = goog.global.document;
+
+    // If the user tries to require a new symbol after document load,
+    // something has gone terribly wrong. Doing a document.write would
+    // wipe out the page. This does not apply to the CSP-compliant method
+    // of writing script tags.
+    if (doc.readyState == 'complete' &&
+        !goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {
+      // Certain test frameworks load base.js multiple times, which tries
+      // to write deps.js each time. If that happens, just fail silently.
+      // These frameworks wipe the page between each load of base.js, so this
+      // is OK.
+      var isDeps = /\bdeps.js$/.test(this.path);
+      if (isDeps) {
+        controller.loaded();
+        return;
+      } else {
+        throw Error('Cannot write "' + this.path + '" after document load');
+      }
+    }
+
+    var nonce = goog.getScriptNonce();
+    if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&
+        goog.isDocumentLoading_()) {
+      var key;
+      var callback = function(script) {
+        if (script.readyState && script.readyState != 'complete') {
+          script.onload = callback;
+          return;
+        }
+        goog.Dependency.unregisterCallback_(key);
+        controller.loaded();
+      };
+      key = goog.Dependency.registerCallback_(callback);
+
+      var defer = goog.Dependency.defer_ ? ' defer' : '';
+      var nonceAttr = nonce ? ' nonce="' + nonce + '"' : '';
+      var script = '<script src="' + this.path + '"' + nonceAttr + defer +
+          ' id="script-' + key + '"><\/script>';
+
+      script += '<script' + nonceAttr + '>';
+
+      if (goog.Dependency.defer_) {
+        script += 'document.getElementById(\'script-' + key +
+            '\').onload = function() {\n' +
+            '  goog.Dependency.callback_(\'' + key + '\', this);\n' +
+            '};\n';
+      } else {
+        script += 'goog.Dependency.callback_(\'' + key +
+            '\', document.getElementById(\'script-' + key + '\'));';
+      }
+
+      script += '<\/script>';
+
+      doc.write(
+          goog.TRUSTED_TYPES_POLICY_ ?
+              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+              script);
+    } else {
+      var scriptEl =
+          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));
+      scriptEl.defer = goog.Dependency.defer_;
+      scriptEl.async = false;
+
+      // If CSP nonces are used, propagate them to dynamically created scripts.
+      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.
+      if (nonce) {
+        scriptEl.nonce = nonce;
+      }
+
+      if (goog.DebugLoader_.IS_OLD_IE_) {
+        // Execution order is not guaranteed on old IE, halt loading and write
+        // these scripts one at a time, after each loads.
+        controller.pause();
+        scriptEl.onreadystatechange = function() {
+          if (scriptEl.readyState == 'loaded' ||
+              scriptEl.readyState == 'complete') {
+            controller.loaded();
+            controller.resume();
+          }
+        };
+      } else {
+        scriptEl.onload = function() {
+          scriptEl.onload = null;
+          controller.loaded();
+        };
+      }
+
+      scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?
+          goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path) :
+          this.path;
+      doc.head.appendChild(scriptEl);
+    }
+  };
+
+
+  /**
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides Should be an empty array.
+   *     TODO(johnplaisted) add support for adding closure namespaces to ES6
+   *     modules for interop purposes.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor
+   * @extends {goog.Dependency}
+   */
+  goog.Es6ModuleDependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    goog.Es6ModuleDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+  };
+  goog.inherits(goog.Es6ModuleDependency, goog.Dependency);
+
+
+  /**
+   * @override
+   * @param {!goog.LoadController} controller
+   */
+  goog.Es6ModuleDependency.prototype.load = function(controller) {
+    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
+      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+    if (!goog.inHtmlDocument_()) {
+      goog.logToConsole_(
+          'Cannot use default debug loader outside of HTML documents.');
+      controller.pause();
+      return;
+    }
+
+    /** @type {!HTMLDocument} */
+    var doc = goog.global.document;
+
+    var dep = this;
+
+    // TODO(johnplaisted): Does document.writing really speed up anything? Any
+    // difference between this and just waiting for interactive mode and then
+    // appending?
+    function write(src, contents) {
+      var nonceAttr = '';
+      var nonce = goog.getScriptNonce();
+      if (nonce) {
+        nonceAttr = ' nonce="' + nonce + '"';
+      }
+
+      if (contents) {
+        var script = '<script type="module" crossorigin' + nonceAttr + '>' +
+            contents + '</' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      } else {
+        var script = '<script type="module" crossorigin src="' + src + '"' +
+            nonceAttr + '></' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      }
+    }
+
+    function append(src, contents) {
+      var scriptEl =
+          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));
+      scriptEl.defer = true;
+      scriptEl.async = false;
+      scriptEl.type = 'module';
+      scriptEl.setAttribute('crossorigin', true);
+
+      // If CSP nonces are used, propagate them to dynamically created scripts.
+      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.
+      var nonce = goog.getScriptNonce();
+      if (nonce) {
+        scriptEl.nonce = nonce;
+      }
+
+      if (contents) {
+        scriptEl.text = goog.TRUSTED_TYPES_POLICY_ ?
+            goog.TRUSTED_TYPES_POLICY_.createScript(contents) :
+            contents;
+      } else {
+        scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?
+            goog.TRUSTED_TYPES_POLICY_.createScriptURL(src) :
+            src;
+      }
+
+      doc.head.appendChild(scriptEl);
+    }
+
+    var create;
+
+    if (goog.isDocumentLoading_()) {
+      create = write;
+      // We can ONLY call document.write if we are guaranteed that any
+      // non-module script tags document.written after this are deferred.
+      // Small optimization, in theory document.writing is faster.
+      goog.Dependency.defer_ = true;
+    } else {
+      create = append;
+    }
+
+    // Write 4 separate tags here:
+    // 1) Sets the module state at the correct time (just before execution).
+    // 2) A src node for this, which just hopefully lets the browser load it a
+    //    little early (no need to parse #3).
+    // 3) Import the module and register it.
+    // 4) Clear the module state at the correct time. Guaranteed to run even
+    //    if there is an error in the module (#3 will not run if there is an
+    //    error in the module).
+    var beforeKey = goog.Dependency.registerCallback_(function() {
+      goog.Dependency.unregisterCallback_(beforeKey);
+      controller.setModuleState(goog.ModuleType.ES6);
+    });
+    create(undefined, 'goog.Dependency.callback_("' + beforeKey + '")');
+
+    // TODO(johnplaisted): Does this really speed up anything?
+    create(this.path, undefined);
+
+    var registerKey = goog.Dependency.registerCallback_(function(exports) {
+      goog.Dependency.unregisterCallback_(registerKey);
+      controller.registerEs6ModuleExports(
+          dep.path, exports, goog.moduleLoaderState_.moduleName);
+    });
+    create(
+        undefined,
+        'import * as m from "' + this.path + '"; goog.Dependency.callback_("' +
+            registerKey + '", m)');
+
+    var afterKey = goog.Dependency.registerCallback_(function() {
+      goog.Dependency.unregisterCallback_(afterKey);
+      controller.clearModuleState();
+      controller.loaded();
+    });
+    create(undefined, 'goog.Dependency.callback_("' + afterKey + '")');
+  };
+
+
+  /**
+   * Superclass of any dependency that needs to be loaded into memory,
+   * transformed, and then eval'd (goog.modules and transpiled files).
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor @abstract
+   * @extends {goog.Dependency}
+   */
+  goog.TransformedDependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    goog.TransformedDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+    /** @private {?string} */
+    this.contents_ = null;
+
+    /**
+     * Whether to lazily make the synchronous XHR (when goog.require'd) or make
+     * the synchronous XHR when initially loading. On FireFox 61 there is a bug
+     * where an ES6 module cannot make a synchronous XHR (rather, it can, but if
+     * it does then no other ES6 modules will load after).
+     *
+     * tl;dr we lazy load due to bugs on older browsers and eager load due to
+     * bugs on newer ones.
+     *
+     * https://bugzilla.mozilla.org/show_bug.cgi?id=1477090
+     *
+     * @private @const {boolean}
+     */
+    this.lazyFetch_ = !goog.inHtmlDocument_() ||
+        !('noModule' in goog.global.document.createElement('script'));
+  };
+  goog.inherits(goog.TransformedDependency, goog.Dependency);
+
+
+  /**
+   * @override
+   * @param {!goog.LoadController} controller
+   */
+  goog.TransformedDependency.prototype.load = function(controller) {
+    var dep = this;
+
+    function fetch() {
+      dep.contents_ = goog.loadFileSync_(dep.path);
+
+      if (dep.contents_) {
+        dep.contents_ = dep.transform(dep.contents_);
+        if (dep.contents_) {
+          dep.contents_ += '\n//# sourceURL=' + dep.path;
+        }
+      }
+    }
+
+    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
+      fetch();
+      if (this.contents_ &&
+          goog.global.CLOSURE_IMPORT_SCRIPT('', this.contents_)) {
+        this.contents_ = null;
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+
+    var isEs6 = this.loadFlags['module'] == goog.ModuleType.ES6;
+
+    if (!this.lazyFetch_) {
+      fetch();
+    }
+
+    function load() {
+      if (dep.lazyFetch_) {
+        fetch();
+      }
+
+      if (!dep.contents_) {
+        // loadFileSync_ or transform are responsible. Assume they logged an
+        // error.
+        return;
+      }
+
+      if (isEs6) {
+        controller.setModuleState(goog.ModuleType.ES6);
+      }
+
+      var namespace;
+
+      try {
+        var contents = dep.contents_;
+        dep.contents_ = null;
+        goog.globalEval(goog.CLOSURE_EVAL_PREFILTER_.createScript(contents));
+        if (isEs6) {
+          namespace = goog.moduleLoaderState_.moduleName;
+        }
+      } finally {
+        if (isEs6) {
+          controller.clearModuleState();
+        }
+      }
+
+      if (isEs6) {
+        // Due to circular dependencies this may not be available for require
+        // right now.
+        goog.global['$jscomp']['require']['ensure'](
+            [dep.getPathName()], function() {
+              controller.registerEs6ModuleExports(
+                  dep.path,
+                  goog.global['$jscomp']['require'](dep.getPathName()),
+                  namespace);
+            });
+      }
+
+      controller.loaded();
+    }
+
+    // Do not fetch now; in FireFox 47 the synchronous XHR doesn't block all
+    // events. If we fetched now and then document.write'd the contents the
+    // document.write would be an eval and would execute too soon! Instead write
+    // a script tag to fetch and eval synchronously at the correct time.
+    function fetchInOwnScriptThenLoad() {
+      /** @type {!HTMLDocument} */
+      var doc = goog.global.document;
+
+      var key = goog.Dependency.registerCallback_(function() {
+        goog.Dependency.unregisterCallback_(key);
+        load();
+      });
+
+      var nonce = goog.getScriptNonce();
+      var nonceAttr = nonce ? ' nonce="' + nonce + '"' : '';
+      var script = '<script' + nonceAttr + '>' +
+          goog.protectScriptTag_('goog.Dependency.callback_("' + key + '");') +
+          '</' +
+          'script>';
+      doc.write(
+          goog.TRUSTED_TYPES_POLICY_ ?
+              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+              script);
+    }
+
+    // If one thing is pending it is this.
+    var anythingElsePending = controller.pending().length > 1;
+
+    // If anything else is loading we need to lazy load due to bugs in old IE.
+    // Specifically script tags with src and script tags with contents could
+    // execute out of order if document.write is used, so we cannot use
+    // document.write. Do not pause here; it breaks old IE as well.
+    var useOldIeWorkAround =
+        anythingElsePending && goog.DebugLoader_.IS_OLD_IE_;
+
+    // Additionally if we are meant to defer scripts but the page is still
+    // loading (e.g. an ES6 module is loading) then also defer. Or if we are
+    // meant to defer and anything else is pending then defer (those may be
+    // scripts that did not need transformation and are just script tags with
+    // defer set to true, and we need to evaluate after that deferred script).
+    var needsAsyncLoading = goog.Dependency.defer_ &&
+        (anythingElsePending || goog.isDocumentLoading_());
+
+    if (useOldIeWorkAround || needsAsyncLoading) {
+      // Note that we only defer when we have to rather than 100% of the time.
+      // Always defering would work, but then in theory the order of
+      // goog.require calls would then matter. We want to enforce that most of
+      // the time the order of the require calls does not matter.
+      controller.defer(function() {
+        load();
+      });
+      return;
+    }
+    // TODO(johnplaisted): Externs are missing onreadystatechange for
+    // HTMLDocument.
+    /** @type {?} */
+    var doc = goog.global.document;
+
+    var isInternetExplorerOrEdge = goog.inHtmlDocument_() &&
+        ('ActiveXObject' in goog.global || goog.isEdge_());
+
+    // Don't delay in any version of IE or pre-Chromium Edge. There's a bug
+    // around this that will cause out of order script execution. This means
+    // that on older IE ES6 modules will load too early (while the document is
+    // still loading + the dom is not available). The other option is to load
+    // too late (when the document is complete and the onload even will never
+    // fire). This seems to be the lesser of two evils as scripts already act
+    // like the former.
+    if (isEs6 && goog.inHtmlDocument_() && goog.isDocumentLoading_() &&
+        !isInternetExplorerOrEdge) {
+      goog.Dependency.defer_ = true;
+      // Transpiled ES6 modules still need to load like regular ES6 modules,
+      // aka only after the document is interactive.
+      controller.pause();
+      var oldCallback = doc.onreadystatechange;
+      doc.onreadystatechange = function() {
+        if (doc.readyState == 'interactive') {
+          doc.onreadystatechange = oldCallback;
+          load();
+          controller.resume();
+        }
+        if (typeof oldCallback === 'function') {
+          oldCallback.apply(undefined, arguments);
+        }
+      };
+    } else {
+      // Always eval on old IE.
+      if (goog.DebugLoader_.IS_OLD_IE_ || !goog.inHtmlDocument_() ||
+          !goog.isDocumentLoading_()) {
+        load();
+      } else {
+        fetchInOwnScriptThenLoad();
+      }
+    }
+  };
+
+
+  /**
+   * @param {string} contents
+   * @return {string}
+   * @abstract
+   */
+  goog.TransformedDependency.prototype.transform = function(contents) {};
+
+
+  /**
+   * Any non-goog.module dependency which needs to be transpiled before eval.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @param {!goog.Transpiler} transpiler
+   * @struct @constructor
+   * @extends {goog.TransformedDependency}
+   */
+  goog.TranspiledDependency = function(
+      path, relativePath, provides, requires, loadFlags, transpiler) {
+    goog.TranspiledDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+    /** @protected @const*/
+    this.transpiler = transpiler;
+  };
+  goog.inherits(goog.TranspiledDependency, goog.TransformedDependency);
+
+
+  /**
+   * @override
+   * @param {string} contents
+   * @return {string}
+   */
+  goog.TranspiledDependency.prototype.transform = function(contents) {
+    // Transpile with the pathname so that ES6 modules are domain agnostic.
+    return this.transpiler.transpile(contents, this.getPathName());
+  };
+
+
+  /**
+   * An ES6 module dependency that was transpiled to a jscomp module outside
+   * of the debug loader, e.g. server side.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor
+   * @extends {goog.TransformedDependency}
+   */
+  goog.PreTranspiledEs6ModuleDependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    goog.PreTranspiledEs6ModuleDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+  };
+  goog.inherits(
+      goog.PreTranspiledEs6ModuleDependency, goog.TransformedDependency);
+
+
+  /**
+   * @override
+   * @param {string} contents
+   * @return {string}
+   */
+  goog.PreTranspiledEs6ModuleDependency.prototype.transform = function(
+      contents) {
+    return contents;
+  };
+
+
+  /**
+   * A goog.module, transpiled or not. Will always perform some minimal
+   * transformation even when not transpiled to wrap in a goog.loadModule
+   * statement.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @param {boolean} needsTranspile
+   * @param {!goog.Transpiler} transpiler
+   * @struct @constructor
+   * @extends {goog.TransformedDependency}
+   */
+  goog.GoogModuleDependency = function(
+      path, relativePath, provides, requires, loadFlags, needsTranspile,
+      transpiler) {
+    goog.GoogModuleDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+    /** @private @const */
+    this.needsTranspile_ = needsTranspile;
+    /** @private @const */
+    this.transpiler_ = transpiler;
+  };
+  goog.inherits(goog.GoogModuleDependency, goog.TransformedDependency);
+
+
+  /**
+   * @override
+   * @param {string} contents
+   * @return {string}
+   */
+  goog.GoogModuleDependency.prototype.transform = function(contents) {
+    if (this.needsTranspile_) {
+      contents = this.transpiler_.transpile(contents, this.getPathName());
+    }
+
+    if (!goog.LOAD_MODULE_USING_EVAL || goog.global.JSON === undefined) {
+      return '' +
+          'goog.loadModule(function(exports) {' +
+          '"use strict";' + contents +
+          '\n' +  // terminate any trailing single line comment.
+          ';return exports' +
+          '});' +
+          '\n//# sourceURL=' + this.path + '\n';
+    } else {
+      return '' +
+          'goog.loadModule(' +
+          goog.global.JSON.stringify(
+              contents + '\n//# sourceURL=' + this.path + '\n') +
+          ');';
+    }
+  };
+
+
+  /**
+   * Whether the browser is IE9 or earlier, which needs special handling
+   * for deferred modules.
+   * @const @private {boolean}
+   */
+  goog.DebugLoader_.IS_OLD_IE_ = !!(
+      !goog.global.atob && goog.global.document && goog.global.document['all']);
+
+
+  /**
+   * @param {string} relPath
+   * @param {!Array<string>|undefined} provides
+   * @param {!Array<string>} requires
+   * @param {boolean|!Object<string>=} opt_loadFlags
+   * @see goog.addDependency
+   */
+  goog.DebugLoader_.prototype.addDependency = function(
+      relPath, provides, requires, opt_loadFlags) {
+    provides = provides || [];
+    relPath = relPath.replace(/\\/g, '/');
+    var path = goog.normalizePath_(goog.basePath + relPath);
+    if (!opt_loadFlags || typeof opt_loadFlags === 'boolean') {
+      opt_loadFlags = opt_loadFlags ? {'module': goog.ModuleType.GOOG} : {};
+    }
+    var dep = this.factory_.createDependency(
+        path, relPath, provides, requires, opt_loadFlags,
+        goog.transpiler_.needsTranspile(
+            opt_loadFlags['lang'] || 'es3', opt_loadFlags['module']));
+    this.dependencies_[path] = dep;
+    for (var i = 0; i < provides.length; i++) {
+      this.idToPath_[provides[i]] = path;
+    }
+    this.idToPath_[relPath] = path;
+  };
+
+
+  /**
+   * Creates goog.Dependency instances for the debug loader to load.
+   *
+   * Should be overridden to have the debug loader use custom subclasses of
+   * goog.Dependency.
+   *
+   * @param {!goog.Transpiler} transpiler
+   * @struct @constructor
+   */
+  goog.DependencyFactory = function(transpiler) {
+    /** @protected @const */
+    this.transpiler = transpiler;
+  };
+
+
+  /**
+   * @param {string} path Absolute path of the file.
+   * @param {string} relativePath Path relative to closure’s base.js.
+   * @param {!Array<string>} provides Array of provided goog.provide/module ids.
+   * @param {!Array<string>} requires Array of required goog.provide/module /
+   *     relative ES6 module paths.
+   * @param {!Object<string, string>} loadFlags
+   * @param {boolean} needsTranspile True if the file needs to be transpiled
+   *     per the goog.Transpiler.
+   * @return {!goog.Dependency}
+   */
+  goog.DependencyFactory.prototype.createDependency = function(
+      path, relativePath, provides, requires, loadFlags, needsTranspile) {
+    // MOE:begin_strip
+    var provide, require;
+    for (var i = 0; provide = provides[i]; i++) {
+      goog.dependencies_.nameToPath[provide] = relativePath;
+      goog.dependencies_.loadFlags[relativePath] = loadFlags;
+    }
+    for (var j = 0; require = requires[j]; j++) {
+      if (!(relativePath in goog.dependencies_.requires)) {
+        goog.dependencies_.requires[relativePath] = {};
+      }
+      goog.dependencies_.requires[relativePath][require] = true;
+    }
+    // MOE:end_strip
+
+    if (loadFlags['module'] == goog.ModuleType.GOOG) {
+      return new goog.GoogModuleDependency(
+          path, relativePath, provides, requires, loadFlags, needsTranspile,
+          this.transpiler);
+    } else if (needsTranspile) {
+      return new goog.TranspiledDependency(
+          path, relativePath, provides, requires, loadFlags, this.transpiler);
+    } else {
+      if (loadFlags['module'] == goog.ModuleType.ES6) {
+        if (goog.TRANSPILE == 'never' && goog.ASSUME_ES_MODULES_TRANSPILED) {
+          return new goog.PreTranspiledEs6ModuleDependency(
+              path, relativePath, provides, requires, loadFlags);
+        } else {
+          return new goog.Es6ModuleDependency(
+              path, relativePath, provides, requires, loadFlags);
+        }
+      } else {
+        return new goog.Dependency(
+            path, relativePath, provides, requires, loadFlags);
+      }
+    }
+  };
+
+
+  /** @private @const */
+  goog.debugLoader_ = new goog.DebugLoader_();
+
+
+  /**
+   * Loads the Closure Dependency file.
+   *
+   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base
+   * loaded, setDependencyFactory called, and then this called. i.e. allows
+   * custom loading of the deps file.
+   */
+  goog.loadClosureDeps = function() {
+    goog.debugLoader_.loadClosureDeps();
+  };
+
+
+  /**
+   * Sets the dependency factory, which can be used to create custom
+   * goog.Dependency implementations to control how dependencies are loaded.
+   *
+   * Note: if you wish to call this function and provide your own implemnetation
+   * it is a wise idea to set CLOSURE_NO_DEPS to true, otherwise the dependency
+   * file and all of its goog.addDependency calls will use the default factory.
+   * You can call goog.loadClosureDeps to load the Closure dependency file
+   * later, after your factory is injected.
+   *
+   * @param {!goog.DependencyFactory} factory
+   */
+  goog.setDependencyFactory = function(factory) {
+    goog.debugLoader_.setDependencyFactory(factory);
+  };
+
+
+  /**
+   * Trusted Types policy for the debug loader.
+   * @private @const {?TrustedTypePolicy}
+   */
+  goog.TRUSTED_TYPES_POLICY_ = goog.TRUSTED_TYPES_POLICY_NAME ?
+      goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + '#base') :
+      null;
+
+  if (!goog.global.CLOSURE_NO_DEPS) {
+    goog.debugLoader_.loadClosureDeps();
+  }
+
+
+  /**
+   * Bootstraps the given namespaces and calls the callback once they are
+   * available either via goog.require. This is a replacement for using
+   * `goog.require` to bootstrap Closure JavaScript. Previously a `goog.require`
+   * in an HTML file would guarantee that the require'd namespace was available
+   * in the next immediate script tag. With ES6 modules this no longer a
+   * guarantee.
+   *
+   * @param {!Array<string>} namespaces
+   * @param {function(): ?} callback Function to call once all the namespaces
+   *     have loaded. Always called asynchronously.
+   */
+  goog.bootstrap = function(namespaces, callback) {
+    goog.debugLoader_.bootstrap(namespaces, callback);
+  };
+}
+
+
+if (!COMPILED) {
+  var isChrome87 = false;
+  // Cannot run check for Chrome <87 bug in case of strict CSP environments.
+  // TODO(aaronshim): Remove once Chrome <87 bug is no longer a problem.
+  try {
+    isChrome87 = eval(goog.global.trustedTypes.emptyScript) !==
+        goog.global.trustedTypes.emptyScript;
+  } catch (err) {
+  }
+
+  /**
+   * Trusted Types for running dev servers.
+   *
+   * @private @const
+   */
+  goog.CLOSURE_EVAL_PREFILTER_ =
+      // Detect Chrome <87 bug with TT and eval.
+      goog.global.trustedTypes && isChrome87 &&
+          goog.createTrustedTypesPolicy('goog#base#devonly#eval') ||
+      {createScript: goog.identity_};
+}
+
+//third_party/javascript/tslib/tslib_closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ * @fileoverview
+ * Hand-modified Closure version of tslib.js.
+ * These use the literal space optimized code from TypeScript for
+ * compatibility.
+ *
+ * @suppress {undefinedVars}
+ */
+
+// Do not use @license
+
+/******************************************************************************
+Copyright (c) Microsoft Corporation.
+
+Permission to use, copy, modify, and/or distribute this software for any
+purpose with or without fee is hereby granted.
+
+THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
+REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
+AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
+INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
+LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
+OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
+PERFORMANCE OF THIS SOFTWARE.
+***************************************************************************** */
+
+goog.module('google3.third_party.javascript.tslib.tslib');
+
+/** @suppress {missingPolyfill} the code below intentionally feature-tests. */
+var extendStatics = Object.setPrototypeOf ||
+    ({__proto__: []} instanceof Array && function(d, b) {d.__proto__ = b;}) ||
+    function(d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
+
+/**
+ * @param {?} d
+ * @param {?} b
+ */
+exports.__extends = function(d, b) {
+    extendStatics(d, b);
+    // LOCAL MODIFICATION: Add jsdoc annotation here:
+    /** @constructor */
+    function __() { /** @type {?} */ (this).constructor = d; }
+    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
+};
+
+exports.__assign = Object.assign || /** @return {?} */ function (/** ? */ t) {
+    for (var s, i = 1, n = arguments.length; i < n; i++) {
+        s = arguments[i];
+        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
+    }
+    return t;
+};
+
+/**
+ * @param {?} s
+ * @param {?} e
+ * @return {?}
+ */
+exports.__rest = function (s, e) {
+    var t = {};
+    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
+        t[p] = s[p];
+    if (s != null && typeof Object.getOwnPropertySymbols === "function")
+        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
+            t[p[i]] = s[p[i]];
+    return t;
+};
+
+/**
+ * @param {?} decorators
+ * @param {T} target
+ * @param {?=} key
+ * @param {?=} desc
+ * @return {T}
+ * @template T
+ */
+exports.__decorate = function (decorators, target, key, desc) {
+    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
+    // google3 local modification: use quoted property access to work around
+    // https://b.corp.google.com/issues/77140019.
+    if (typeof Reflect === "object" && Reflect && typeof Reflect['decorate'] === "function") r = Reflect['decorate'](decorators, target, key, desc);
+    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
+    return c > 3 && r && Object.defineProperty(target, key, r), r;
+};
+
+/**
+ * @param {?} metadataKey
+ * @param {?} metadataValue
+ * @return {?}
+ */
+exports.__metadata = function (metadataKey, metadataValue) {
+  // google3 local modification: use quoted property access to work around
+  // https://b.corp.google.com/issues/77140019.
+  if (typeof Reflect === "object" && Reflect && typeof Reflect['metadata'] === "function") return Reflect['metadata'](metadataKey, metadataValue);
+};
+
+/**
+ * @param {?} paramIndex
+ * @param {?} decorator
+ * @return {?}
+ */
+exports.__param = function (paramIndex, decorator) {
+    return function (target, key) { decorator(target, key, paramIndex); };
+};
+
+/**
+ * @template T
+ * @param {T} thisArg
+ * @param {?} _arguments
+ * @param {?} P
+ * @param {function(this:T)} generator
+ * @return {?}
+ */
+exports.__awaiter = function(thisArg, _arguments, P, generator) {
+  return new (P || (P = Promise))(function(resolve, reject) {
+    // LOCAL MODIFICATION: Cannot express the function + keys pattern in
+    // closure, so we escape generator.next with ? type.
+    function fulfilled(value) {
+      try {
+        step((/** @type {?} */ (generator)).next(value));
+      } catch (e) {
+        reject(e);
+      }
+    }
+    function rejected(value) {
+      try {
+        step(generator['throw'](value));
+      } catch (e) {
+        reject(e);
+      }
+    }
+    function step(result) {
+      result.done ? resolve(result.value) : new P(function(resolve) {
+                                              resolve(result.value);
+                                            }).then(fulfilled, rejected);
+    }
+    step((generator = generator.apply(thisArg, _arguments)).next());
+  });
+};
+
+/**
+ * @param {?} thisArg
+ * @param {?} body
+ * @return {?}
+ */
+exports.__generator = function(thisArg, body) {
+  var _ = {
+    label: 0,
+    sent: function() {
+      if (t[0] & 1) throw (/** @type {!Error} */ (t[1]));
+      return t[1];
+    },
+    trys: [],
+    ops: []
+  },
+      f, y, t, g;
+  // LOCAL MODIFICATION: Originally iterator body was "return this", but it
+  // doesn't compile as this is unknown. Changed to g, which is equivalent.
+  return g = {next: verb(0), "throw": verb(1), "return": verb(2)},
+         typeof Symbol === "function" && (g[Symbol.iterator] = function() {
+           return g;
+         }), g;
+  function verb(n) {
+    return function(v) {
+      return step([n, v]);
+    };
+  }
+  function step(op) {
+    if (f) throw new TypeError("Generator is already executing.");
+    while (_) try {
+        if (f = 1,
+            y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) &&
+                !(t = t.call(y, op[1])).done)
+          return t;
+        if (y = 0, t) op = [0, t.value];
+        switch (op[0]) {
+          case 0:
+          case 1:
+            t = op;
+            break;
+          case 4:
+            _.label++;
+            return {value: op[1], done: false};
+          case 5:
+            _.label++;
+            y = op[1];
+            op = [0];
+            continue;
+          case 7:
+            op = _.ops.pop();
+            _.trys.pop();
+            continue;
+          default:
+            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) &&
+                (op[0] === 6 || op[0] === 2)) {
+              _ = 0;
+              continue;
+            }
+            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
+              _.label = op[1];
+              break;
+            }
+            if (op[0] === 6 && _.label < t[1]) {
+              _.label = t[1];
+              t = op;
+              break;
+            }
+            if (t && _.label < t[2]) {
+              _.label = t[2];
+              _.ops.push(op);
+              break;
+            }
+            if (t[2]) _.ops.pop();
+            _.trys.pop();
+            continue;
+        }
+        op = body.call(thisArg, _);
+      } catch (e) {
+        op = [6, e];
+        y = 0;
+      } finally {
+        f = t = 0;
+      }
+    if (op[0] & 5) throw (/** @type {!Error} */ (op[1]));
+    return {value: op[0] ? op[1] : void 0, done: true};
+  }
+};
+
+/**
+ * @param {?} m
+ * @param {?} e
+ */
+exports.__exportStar = function (m, e) {
+    for (var p in m) if (!e.hasOwnProperty(p)) e[p] = m[p];
+};
+
+/**
+ * @param {?} o
+ * @return {?}
+ */
+exports.__values = function (o) {
+    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
+    if (m) return m.call(o);
+    return {
+        next: function () {
+            if (o && i >= o.length) o = void 0;
+            return { value: o && o[i++], done: !o };
+        }
+    };
+};
+
+/**
+ * @param {?} o
+ * @param {?=} n
+ * @return {?}
+ */
+exports.__read = function(o, n) {
+  var m = typeof Symbol === "function" && o[Symbol.iterator];
+  if (!m) return o;
+  var i = m.call(o), r, ar = [], e;
+  try {
+    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
+  } catch (error) {
+    e = {error: error};
+  } finally {
+    try {
+      if (r && !r.done && (m = i["return"])) m.call(i);
+    } finally {
+      if (e) throw (/** @type {!Error} */ (e.error));
+    }
+  }
+  return ar;
+};
+
+/**
+ * @return {!Array}
+ * @deprecated since TypeScript 4.2
+ */
+exports.__spread = function() {
+  for (var ar = [], i = 0; i < arguments.length; i++)
+    ar = ar.concat(exports.__read(arguments[i]));
+  return ar;
+};
+
+/**
+ * @return {!Array<?>}
+ * @deprecated since TypeScript 4.2
+ */
+exports.__spreadArrays = function() {
+  for (var s = 0, i = 0, il = arguments.length; i < il; i++)
+    s += arguments[i].length;
+  for (var r = Array(s), k = 0, i = 0; i < il; i++)
+    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
+      r[k] = a[j];
+  return r;
+};
+
+/**
+ * @param {!Array<?>} to
+ * @param {!Array<?>} from
+ * @return {!Array<?>}
+ */
+exports.__spreadArray = function(to, from) {
+  // LOCAL MODIFICATION: https://github.com/microsoft/TypeScript/issues/43353
+  // We have to accept NodeList because they don't implement Iterable in Edge.
+  if (!Array.isArray(from) && !(from instanceof NodeList)) {
+    throw new TypeError('Expected an Array or NodeList: ' + String(from));
+  }
+  // END LOCAL MODIFICATION
+  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
+    to[j] = from[i];
+  return to;
+};
+
+/**
+ * @constructor
+ * LOCAL MODIFICATION: Originally used "this" in function body,
+ * @this {?}
+ * END LOCAL MODIFICATION
+ * @param {?} v
+ * @return {?}
+ */
+exports.__await = function(v) {
+  return this instanceof exports.__await ? (this.v = v, this) :
+                                           new exports.__await(v);
+};
+
+/**
+ * @template T
+ * @param {T} thisArg
+ * @param {?} _arguments
+ * @param {function(this:T)} generator
+ * @return {?}
+ */
+exports.__asyncGenerator = function __asyncGenerator(
+    thisArg, _arguments, generator) {
+  if (!Symbol.asyncIterator)
+    throw new TypeError('Symbol.asyncIterator is not defined.');
+  var g = generator.apply(thisArg, _arguments || []), i, q = [];
+  return i = {}, verb('next'), verb('throw'), verb('return'),
+         i[Symbol.asyncIterator] = function() {
+           return (/** @type {?} */ (this));
+         }, i;
+  function verb(n) {
+    if (g[n])
+      i[n] = function(v) {
+        return new Promise(function(a, b) {
+          q.push([n, v, a, b]) > 1 || resume(n, v);
+        });
+      };
+  }
+  function resume(n, v) {
+    try {
+      step(g[n](v));
+    } catch (e) {
+      settle(q[0][3], e);
+    }
+  }
+  function step(r) {
+    r.value instanceof exports.__await ?
+        Promise.resolve(/** @type {?} */ (r.value).v).then(fulfill, reject) :
+        settle(q[0][2], r);
+  }
+  function fulfill(value) {
+    resume('next', value);
+  }
+  function reject(value) {
+    resume('throw', value);
+  }
+  function settle(f, v) {
+    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);
+  }
+};
+
+/**
+ * @param {?} o
+ * @return {?}
+ */
+exports.__asyncDelegator = function(o) {
+  var i, p;
+  // LOCAL MODIFICATION: Originally iterator body was "return this", but it
+  // doesn't compile in some builds, as this is unknown. Changed to i, which is
+  // equivalent.
+  return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return i; }, i;
+  /**
+   * @param {?} n
+   * @param {?=} f
+   * @return {?}
+   */
+  function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: new exports.__await(o[n](v)), done: n === "return" } : f ? f(v) : v; }; }
+};
+
+/**
+ * @param {?} o
+ * @return {?}
+ */
+exports.__asyncValues = function(o) {
+  if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
+  var m = o[Symbol.asyncIterator];
+  return m ? m.call(o) : typeof __values === "function" ? __values(o) : o[Symbol.iterator]();
+};
+
+/**
+ * @param {?=} cooked
+ * @param {?=} raw
+ * @return {?}
+ */
+exports.__makeTemplateObject = function(cooked, raw) {
+    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
+    return cooked;
+};
+
+
+/**
+ * @param {?} receiver
+ * @param {!WeakMap} privateMap
+ * @return {?}
+ */
+exports.__classPrivateFieldGet = function (receiver, privateMap) {
+  if (!privateMap.has(receiver)) {
+      throw new TypeError("attempted to get private field on non-instance");
+  }
+  return privateMap.get(receiver);
+};
+
+/**
+ * @param {?} receiver
+ * @param {!WeakMap} privateMap
+ * @param {?} value
+ * @return {?}
+ */
+exports.__classPrivateFieldSet = function (receiver, privateMap, value) {
+  if (!privateMap.has(receiver)) {
+      throw new TypeError("attempted to set private field on non-instance");
+  }
+  privateMap.set(receiver, value);
+  return value;
+};
+
+;return exports;});
+
+//third_party/mediapipe/web/solutions/shader_utils.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ *
+ * @fileoverview Wrappers around the OpenGL shader creation calls.
+ *
+ * Generated from: third_party/mediapipe/web/solutions/shader_utils.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.shader_utils');
+var module = module || { id: 'third_party/mediapipe/web/solutions/shader_utils.closure.js' };
+goog.require('google3.third_party.javascript.tslib.tslib');
+/** @enum {number} */
+const ShaderType = {
+    VERTEX_SHADER: 0,
+    FRAGMENT_SHADER: 1,
+};
+exports.ShaderType = ShaderType;
+ShaderType[ShaderType.VERTEX_SHADER] = 'VERTEX_SHADER';
+ShaderType[ShaderType.FRAGMENT_SHADER] = 'FRAGMENT_SHADER';
+/**
+ * Compiles a string into the requested shader type. We can always just use
+ * `createProgramFromSources` to avoid calling this directly.
+ * @param {!WebGLRenderingContext} gl
+ * @param {string} source
+ * @param {!ShaderType} type
+ * @return {!WebGLShader}
+ */
+function loadShader(gl, source, type) {
+    /** @type {number} */
+    const shaderType = type === ShaderType.VERTEX_SHADER ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;
+    /** @type {!WebGLShader} */
+    const shader = (/** @type {!WebGLShader} */ (gl.createShader(shaderType)));
+    gl.shaderSource(shader, source);
+    gl.compileShader(shader);
+    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
+        /** @type {(null|string)} */
+        const info = gl.getShaderInfoLog(shader);
+        throw new Error(`Could not compile WebGL shader.\n\n${info}`);
+    }
+    return shader;
+}
+exports.loadShader = loadShader;
+/**
+ * Links a shader program given the vertex and fragment shaders.
+ * @param {!WebGLRenderingContext} gl
+ * @param {!WebGLShader} vertexShader
+ * @param {!WebGLShader} fragmentShader
+ * @return {!WebGLProgram}
+ */
+function createProgram(gl, vertexShader, fragmentShader) {
+    /** @type {!WebGLProgram} */
+    const program = (/** @type {!WebGLProgram} */ (gl.createProgram()));
+    gl.attachShader(program, vertexShader);
+    gl.attachShader(program, fragmentShader);
+    gl.linkProgram(program);
+    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
+        /** @type {(null|string)} */
+        const info = gl.getProgramInfoLog(program);
+        throw new Error(`Could not compile WebGL program.\n\n${info}`);
+    }
+    return program;
+}
+exports.createProgram = createProgram;
+/**
+ * Helper function to take shader programs as strings and produce a linked
+ * program.
+ * @param {!WebGLRenderingContext} gl
+ * @param {string} vertexSource
+ * @param {string} fragmentSource
+ * @return {!WebGLProgram}
+ */
+function createProgramFromSources(gl, vertexSource, fragmentSource) {
+    /** @type {!WebGLShader} */
+    const vertexShader = loadShader(gl, vertexSource, ShaderType.VERTEX_SHADER);
+    /** @type {!WebGLShader} */
+    const fragmentShader = loadShader(gl, fragmentSource, ShaderType.FRAGMENT_SHADER);
+    return createProgram(gl, vertexShader, fragmentShader);
+}
+exports.createProgramFromSources = createProgramFromSources;
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhZGVyX3V0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvbWVkaWFwaXBlL3dlYi9zb2x1dGlvbnMvc2hhZGVyX3V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBUUEsTUFBWSxVQUFVO0lBQ3BCLGFBQWEsR0FBQTtJQUNiLGVBQWUsR0FBQTtFQUNoQjs7Ozs7Ozs7Ozs7O0FBTUQsU0FBZ0IsVUFBVSxDQUN0QixFQUF5QixFQUFFLE1BQWMsRUFBRSxJQUFnQjs7VUFDdkQsVUFBVSxHQUNaLElBQUksS0FBSyxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsZUFBZTs7VUFDdkUsTUFBTSxHQUFHLDhCQUFBLEVBQUUsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLEVBQUM7SUFDM0MsRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDaEMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN6QixJQUFJLENBQUMsRUFBRSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsY0FBYyxDQUFDLEVBQUU7O2NBQy9DLElBQUksR0FBRyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDO1FBQ3hDLE1BQU0sSUFBSSxLQUFLLENBQUMsc0NBQXNDLElBQUksRUFBRSxDQUFDLENBQUM7S0FDL0Q7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBWkQsZ0NBWUM7Ozs7Ozs7O0FBS0QsU0FBZ0IsYUFBYSxDQUN6QixFQUF5QixFQUFFLFlBQXlCLEVBQ3BELGNBQTJCOztVQUN2QixPQUFPLEdBQUcsK0JBQUEsRUFBRSxDQUFDLGFBQWEsRUFBRSxFQUFDO0lBQ25DLEVBQUUsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3ZDLEVBQUUsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQ3pDLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFOztjQUM5QyxJQUFJLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQztRQUMxQyxNQUFNLElBQUksS0FBSyxDQUFDLHVDQUF1QyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0tBQ2hFO0lBQ0QsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQztBQVpELHNDQVlDOzs7Ozs7Ozs7QUFNRCxTQUFnQix3QkFBd0IsQ0FDcEMsRUFBeUIsRUFBRSxZQUFvQixFQUMvQyxjQUFzQjs7VUFDbEIsWUFBWSxHQUFHLFVBQVUsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLFVBQVUsQ0FBQyxhQUFhLENBQUM7O1VBQ3JFLGNBQWMsR0FDaEIsVUFBVSxDQUFDLEVBQUUsRUFBRSxjQUFjLEVBQUUsVUFBVSxDQUFDLGVBQWUsQ0FBQztJQUM5RCxPQUFPLGFBQWEsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3pELENBQUM7QUFQRCw0REFPQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVvdmVydmlldyBXcmFwcGVycyBhcm91bmQgdGhlIE9wZW5HTCBzaGFkZXIgY3JlYXRpb24gY2FsbHMuXG4gKi9cblxuLyoqXG4gKiBTaW1wbGUgcmVmZXJlbmNlIHRvIHRoZSB0d28gc2hhZGVyIHR5cGVzLiBJZiB3ZSBkb24ndCBwcm92aWRlIHRoaXMsIHRoZVxuICogdXNlciBuZWVkcyB0byByZWFjaCBpbnRvIHRoZWlyIGdsQ29udGV4dCB0byBnZXQgdGhlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGVudW0gU2hhZGVyVHlwZSB7XG4gIFZFUlRFWF9TSEFERVIsXG4gIEZSQUdNRU5UX1NIQURFUlxufVxuXG4vKipcbiAqIENvbXBpbGVzIGEgc3RyaW5nIGludG8gdGhlIHJlcXVlc3RlZCBzaGFkZXIgdHlwZS4gV2UgY2FuIGFsd2F5cyBqdXN0IHVzZVxuICogYGNyZWF0ZVByb2dyYW1Gcm9tU291cmNlc2AgdG8gYXZvaWQgY2FsbGluZyB0aGlzIGRpcmVjdGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNoYWRlcihcbiAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBzb3VyY2U6IHN0cmluZywgdHlwZTogU2hhZGVyVHlwZSk6IFdlYkdMU2hhZGVyIHtcbiAgY29uc3Qgc2hhZGVyVHlwZSA9XG4gICAgICB0eXBlID09PSBTaGFkZXJUeXBlLlZFUlRFWF9TSEFERVIgPyBnbC5WRVJURVhfU0hBREVSIDogZ2wuRlJBR01FTlRfU0hBREVSO1xuICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSkhO1xuICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xuICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgY29uc3QgaW5mbyA9IGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb21waWxlIFdlYkdMIHNoYWRlci5cXG5cXG4ke2luZm99YCk7XG4gIH1cbiAgcmV0dXJuIHNoYWRlcjtcbn1cblxuLyoqXG4gKiBMaW5rcyBhIHNoYWRlciBwcm9ncmFtIGdpdmVuIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9ncmFtKFxuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsXG4gICAgZnJhZ21lbnRTaGFkZXI6IFdlYkdMU2hhZGVyKTogV2ViR0xQcm9ncmFtIHtcbiAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKSE7XG4gIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgIGNvbnN0IGluZm8gPSBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb21waWxlIFdlYkdMIHByb2dyYW0uXFxuXFxuJHtpbmZvfWApO1xuICB9XG4gIHJldHVybiBwcm9ncmFtO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byB0YWtlIHNoYWRlciBwcm9ncmFtcyBhcyBzdHJpbmdzIGFuZCBwcm9kdWNlIGEgbGlua2VkXG4gKiBwcm9ncmFtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbUZyb21Tb3VyY2VzKFxuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNvdXJjZTogc3RyaW5nLFxuICAgIGZyYWdtZW50U291cmNlOiBzdHJpbmcpOiBXZWJHTFByb2dyYW0ge1xuICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBsb2FkU2hhZGVyKGdsLCB2ZXJ0ZXhTb3VyY2UsIFNoYWRlclR5cGUuVkVSVEVYX1NIQURFUik7XG4gIGNvbnN0IGZyYWdtZW50U2hhZGVyID1cbiAgICAgIGxvYWRTaGFkZXIoZ2wsIGZyYWdtZW50U291cmNlLCBTaGFkZXJUeXBlLkZSQUdNRU5UX1NIQURFUik7XG4gIHJldHVybiBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcbn1cbiJdfQ==
+;return exports;});
+
+//third_party/mediapipe/web/solutions/stream_helpers.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ * @fileoverview added by tsickle
+ * Generated from: third_party/mediapipe/web/solutions/stream_helpers.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.stream_helpers');
+var module = module || { id: 'third_party/mediapipe/web/solutions/stream_helpers.closure.js' };
+goog.require('google3.third_party.javascript.tslib.tslib');
+const tsickle_shader_utils_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.shader_utils");
+const tsickle_solutions_wasm_2 = goog.requireType("google3.third_party.mediapipe.web.solutions.solutions_wasm");
+const shaderUtils = goog.require('google3.third_party.mediapipe.web.solutions.shader_utils');
+/**
+ * When the graph is closed or restarted, we use this to give the helpers a
+ * chance to cleanup. For instance, OpenGl textures that have been created can
+ * be deleted.
+ * @record
+ */
+function StreamHelper() { }
+exports.StreamHelper = StreamHelper;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @return {void}
+     */
+    StreamHelper.prototype.dispose = function () { };
+}
+/** @type {string} */
+const VS_RENDER = `
+  attribute vec2 aVertex;
+  attribute vec2 aTex;
+  varying vec2 vTex;
+  void main(void) {
+    gl_Position = vec4(aVertex, 0.0, 1.0);
+    vTex = aTex;
+  }`;
+/** @type {string} */
+const FS_RENDER = `
+  precision highp float;
+  varying vec2 vTex;
+  uniform sampler2D sampler0;
+  void main(){
+    gl_FragColor = texture2D(sampler0, vTex);
+  }`;
+/**
+ * @record
+ */
+function RenderVariableLocations() { }
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    RenderVariableLocations.prototype.aVertex;
+    /** @type {number} */
+    RenderVariableLocations.prototype.aTex;
+    /** @type {!WebGLUniformLocation} */
+    RenderVariableLocations.prototype.sampler0;
+}
+/**
+ * Represents a GpuBuffer coming from MediaPipe. We attach helper methods
+ * to deal with the internal GL details.
+ * @typedef {!HTMLCanvasElement}
+ */
+exports.GpuBuffer;
+/**
+ * The types of inputs that can be encoded.
+ * @typedef {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)}
+ */
+exports.InputElement;
+/**
+ * Deals with the trouble of moving image information into MediaPipe back out
+ * again. At our lowest level, we use a Canvas element to provide a context in
+ * which to do GPU processing, but because browsers do not share contexts
+ * between elements, there's no easy way to move texture data around. So we'll
+ * do that here. We'll provide ways for the user to supply HTML elements that
+ * we'll feed into MediaPipe (see `encode`) and we'll provide ways to render
+ * output streams from MediaPipe (see `renderTo`).
+ * @implements {StreamHelper}
+ */
+class ImageStreamHelper {
+    /**
+     * @param {!tsickle_solutions_wasm_2.MediapipeWasm} wasm
+     * @param {!WebGL2RenderingContext} gl
+     */
+    constructor(wasm, gl) {
+        this.wasm = wasm;
+        this.gl = gl;
+        // This is used for both input_streams and output_streams in a graph. The
+        // back end either needs it to wrap an external texture, or provides it when
+        // supplying us with a texture (as part of an output stream).
+        this.textureId = 0;
+    }
+    /**
+     * Captures a frame from a video element to send as a texture to the graph.
+     * TODO(mhays); In the future this will also other elements that supply
+     * texture (including HTMLImageElement and HTMLCanvasElement).
+     * @param {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)} input
+     * @return {!Object}
+     */
+    encode(input) {
+        if (this.textureId === 0) {
+            this.textureId = this.wasm.createTexture();
+        }
+        /** @type {number} */
+        let width = 0;
+        /** @type {number} */
+        let height = 0;
+        if (input instanceof HTMLVideoElement) {
+            width = input.videoWidth;
+            height = input.videoHeight;
+        }
+        else if (input instanceof HTMLImageElement) {
+            width = input.naturalWidth;
+            height = input.naturalHeight;
+        }
+        else {
+            width = input.width;
+            height = input.height;
+        }
+        /** @type {{glName: number, width: number, height: number}} */
+        const result = { glName: this.textureId, width, height };
+        /** @type {!WebGL2RenderingContext} */
+        const gl = this.gl;
+        gl.canvas.width = result.width;
+        gl.canvas.height = result.height;
+        gl.activeTexture(gl.TEXTURE0);
+        this.wasm.bindTexture2d(this.textureId);
+        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, input);
+        this.wasm.bindTexture2d(0);
+        return result;
+    }
+    /**
+     * @param {!tsickle_solutions_wasm_2.Texture2dData} data
+     * @return {!HTMLCanvasElement}
+     */
+    decode(data) {
+        this.render(data);
+        return (/** @type {!HTMLCanvasElement} */ (this.gl.canvas));
+    }
+    /**
+     * @private
+     * @param {!tsickle_solutions_wasm_2.Texture2dData} data
+     * @return {void}
+     */
+    render(data) {
+        /** @type {!WebGL2RenderingContext} */
+        const gl = this.gl;
+        if (this.renderProgram === undefined) {
+            /** @type {!WebGLProgram} */
+            const program = this.renderProgram =
+                shaderUtils.createProgramFromSources(gl, VS_RENDER, FS_RENDER);
+            gl.useProgram(program);
+            /** @type {number} */
+            const aVertex = gl.getAttribLocation(program, 'aVertex');
+            /** @type {number} */
+            const aTex = gl.getAttribLocation(program, 'aTex');
+            /** @type {!WebGLUniformLocation} */
+            const sampler0 = (/** @type {!WebGLUniformLocation} */ (gl.getUniformLocation(program, 'sampler0')));
+            this.locations = { aVertex, aTex, sampler0 };
+            this.vertexBuffer = (/** @type {!WebGLBuffer} */ (gl.createBuffer()));
+            gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);
+            gl.enableVertexAttribArray(this.locations.aVertex);
+            gl.vertexAttribPointer(this.locations.aVertex, 2, gl.FLOAT, false, 0, 0);
+            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), gl.STATIC_DRAW);
+            gl.bindBuffer(gl.ARRAY_BUFFER, null);
+            this.textureBuffer = (/** @type {!WebGLBuffer} */ (gl.createBuffer()));
+            gl.bindBuffer(gl.ARRAY_BUFFER, this.textureBuffer);
+            gl.enableVertexAttribArray(this.locations.aTex);
+            gl.vertexAttribPointer(this.locations.aTex, 2, gl.FLOAT, false, 0, 0);
+            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 1, 0, 0, 1, 0, 1, 1]), gl.STATIC_DRAW);
+            gl.bindBuffer(gl.ARRAY_BUFFER, null);
+            gl.uniform1i(sampler0, 0);
+        }
+        /** @type {!RenderVariableLocations} */
+        const locations = (/** @type {!RenderVariableLocations} */ (this.locations));
+        /** @type {!WebGLProgram} */
+        const program = this.renderProgram;
+        gl.useProgram(program);
+        gl.canvas.width = data.width;
+        gl.canvas.height = data.height;
+        gl.viewport(0, 0, data.width, data.height);
+        // The texture will already be filled when we are rendering.  We just need
+        // to hand it over to the program on sampler0.
+        gl.activeTexture(gl.TEXTURE0);
+        this.wasm.bindTexture2d(data.glName);
+        gl.enableVertexAttribArray(locations.aVertex);
+        gl.bindBuffer(gl.ARRAY_BUFFER, (/** @type {!WebGLBuffer} */ (this.vertexBuffer)));
+        gl.vertexAttribPointer(locations.aVertex, 2, gl.FLOAT, false, 0, 0);
+        gl.enableVertexAttribArray(locations.aTex);
+        gl.bindBuffer(gl.ARRAY_BUFFER, (/** @type {!WebGLBuffer} */ (this.textureBuffer)));
+        gl.vertexAttribPointer(locations.aTex, 2, gl.FLOAT, false, 0, 0);
+        // Make sure we're drawing to the canvas and not to a texture.
+        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
+        gl.drawArrays(gl.TRIANGLE_FAN, 0, 4);
+        gl.disableVertexAttribArray(locations.aVertex);
+        gl.disableVertexAttribArray(locations.aTex);
+        gl.bindBuffer(gl.ARRAY_BUFFER, null);
+        this.wasm.bindTexture2d(0);
+    }
+    /**
+     * Disposes of the texture we created. Since we made the texture on the C++
+     * layer, we need to delete it there as well.
+     * @return {void}
+     */
+    dispose() {
+        if (this.textureId !== 0) {
+            this.wasm.deleteTexture(this.textureId);
+        }
+        if (this.renderProgram) {
+            this.gl.deleteProgram(this.renderProgram);
+        }
+        if (this.textureBuffer) {
+            this.gl.deleteBuffer(this.textureBuffer);
+        }
+        if (this.vertexBuffer) {
+            this.gl.deleteBuffer(this.vertexBuffer);
+        }
+    }
+}
+exports.ImageStreamHelper = ImageStreamHelper;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {number}
+     * @private
+     */
+    ImageStreamHelper.prototype.textureId;
+    /**
+     * @type {(undefined|!WebGLProgram)}
+     * @private
+     */
+    ImageStreamHelper.prototype.renderProgram;
+    /**
+     * @type {(undefined|!WebGLBuffer)}
+     * @private
+     */
+    ImageStreamHelper.prototype.vertexBuffer;
+    /**
+     * @type {(undefined|!WebGLBuffer)}
+     * @private
+     */
+    ImageStreamHelper.prototype.textureBuffer;
+    /**
+     * @type {(undefined|!RenderVariableLocations)}
+     * @private
+     */
+    ImageStreamHelper.prototype.locations;
+    /**
+     * @type {!tsickle_solutions_wasm_2.MediapipeWasm}
+     * @private
+     */
+    ImageStreamHelper.prototype.wasm;
+    /**
+     * @type {!WebGL2RenderingContext}
+     * @private
+     */
+    ImageStreamHelper.prototype.gl;
+}
+/**
+ * Streams sometimes save information aside. For instance, 2d textures will save
+ * a texture id.
+ * @record
+ */
+function StreamHelperMap() { }
+exports.StreamHelperMap = StreamHelperMap;
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyZWFtX2hlbHBlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9tZWRpYXBpcGUvd2ViL3NvbHV0aW9ucy9zdHJlYW1faGVscGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsNkZBQThDOzs7Ozs7O0FBUTlDLDJCQUVDOzs7Ozs7O0lBREMsaURBQWdCOzs7TUFHWixTQUFTLEdBQUc7Ozs7Ozs7SUFPZDs7TUFFRSxTQUFTLEdBQUc7Ozs7OztJQU1kOzs7O0FBRUosc0NBSUM7Ozs7SUFIQywwQ0FBZTs7SUFDZix1Q0FBWTs7SUFDWiwyQ0FBK0I7Ozs7Ozs7QUFPakMsa0JBQTBDOzs7OztBQUsxQyxxQkFBK0U7Ozs7Ozs7Ozs7O0FBVy9FLE1BQWEsaUJBQWlCOzs7OztJQVk1QixZQUNxQixJQUFpQyxFQUNqQyxFQUEwQjtRQUQxQixTQUFJLEdBQUosSUFBSSxDQUE2QjtRQUNqQyxPQUFFLEdBQUYsRUFBRSxDQUF3Qjs7OztRQVZ2QyxjQUFTLEdBQUcsQ0FBQyxDQUFDO0lBVTRCLENBQUM7Ozs7Ozs7O0lBT25ELE1BQU0sQ0FBQyxLQUFtQjtRQUN4QixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztTQUM1Qzs7WUFFRyxLQUFLLEdBQUcsQ0FBQzs7WUFDVCxNQUFNLEdBQUcsQ0FBQztRQUVkLElBQUksS0FBSyxZQUFZLGdCQUFnQixFQUFFO1lBQ3JDLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDO1lBQ3pCLE1BQU0sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDO1NBQzVCO2FBQU0sSUFBSSxLQUFLLFlBQVksZ0JBQWdCLEVBQUU7WUFDNUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUM7WUFDM0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUM7U0FDOUI7YUFBTTtZQUNMLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3BCLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1NBQ3ZCOztjQUNLLE1BQU0sR0FBRyxFQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUM7O2NBRWhELEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRTtRQUNsQixFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQy9CLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDakMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7Ozs7SUFFRCxNQUFNLENBQUMsSUFBaUM7UUFDdEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQixPQUFPLG9DQUFBLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFhLENBQUM7SUFDckMsQ0FBQzs7Ozs7O0lBRU8sTUFBTSxDQUFDLElBQWlDOztjQUN4QyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUU7UUFFbEIsSUFBSSxJQUFJLENBQUMsYUFBYSxLQUFLLFNBQVMsRUFBRTs7a0JBQzlCLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYTtnQkFDOUIsV0FBVyxDQUFDLHdCQUF3QixDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDO1lBQ2xFLEVBQUUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7O2tCQUVqQixPQUFPLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUM7O2tCQUNsRCxJQUFJLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7O2tCQUM1QyxRQUFRLEdBQUcsdUNBQUEsRUFBRSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsRUFBQztZQUM1RCxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsQ0FBQztZQUUzQyxJQUFJLENBQUMsWUFBWSxHQUFHLDhCQUFBLEVBQUUsQ0FBQyxZQUFZLEVBQUUsRUFBQyxDQUFDO1lBQ3ZDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDbEQsRUFBRSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbkQsRUFBRSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDekUsRUFBRSxDQUFDLFVBQVUsQ0FDVCxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDL0QsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3BCLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztZQUVyQyxJQUFJLENBQUMsYUFBYSxHQUFHLDhCQUFBLEVBQUUsQ0FBQyxZQUFZLEVBQUUsRUFBQyxDQUFDO1lBQ3hDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDbkQsRUFBRSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEQsRUFBRSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEUsRUFBRSxDQUFDLFVBQVUsQ0FDVCxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQzNELEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNwQixFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDckMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDM0I7O2NBRUssU0FBUyxHQUFHLDBDQUFBLElBQUksQ0FBQyxTQUFTLEVBQUM7O2NBQzNCLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYTtRQUVsQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDN0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMvQixFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFM0MsMEVBQTBFO1FBQzFFLDhDQUE4QztRQUM5QyxFQUFFLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFckMsRUFBRSxDQUFDLHVCQUF1QixDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsOEJBQUEsSUFBSSxDQUFDLFlBQVksRUFBQyxDQUFDLENBQUM7UUFDbkQsRUFBRSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVwRSxFQUFFLENBQUMsdUJBQXVCLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSw4QkFBQSxJQUFJLENBQUMsYUFBYSxFQUFDLENBQUMsQ0FBQztRQUNwRCxFQUFFLENBQUMsbUJBQW1CLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRWpFLDhEQUE4RDtRQUM5RCxFQUFFLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU5QyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRXJDLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDL0MsRUFBRSxDQUFDLHdCQUF3QixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM1QyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFckMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0IsQ0FBQzs7Ozs7O0lBTUQsT0FBTztRQUNMLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxDQUFDLEVBQUU7WUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3RCLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztTQUMzQztRQUNELElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUN0QixJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7U0FDMUM7UUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDckIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQ3pDO0lBQ0gsQ0FBQztDQUNGO0FBNUlELDhDQTRJQzs7Ozs7OztJQXhJQyxzQ0FBc0I7Ozs7O0lBR3RCLDBDQUFxQzs7Ozs7SUFDckMseUNBQW1DOzs7OztJQUNuQywwQ0FBb0M7Ozs7O0lBQ3BDLHNDQUE0Qzs7Ozs7SUFHeEMsaUNBQWtEOzs7OztJQUNsRCwrQkFBMkM7Ozs7Ozs7QUFvSWpELDhCQUVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgc2hhZGVyVXRpbHMgZnJvbSAnLi9zaGFkZXJfdXRpbHMnO1xuaW1wb3J0ICogYXMgc29sdXRpb25zV2FzbSBmcm9tICcuL3NvbHV0aW9uc193YXNtJztcblxuLyoqXG4gKiBXaGVuIHRoZSBncmFwaCBpcyBjbG9zZWQgb3IgcmVzdGFydGVkLCB3ZSB1c2UgdGhpcyB0byBnaXZlIHRoZSBoZWxwZXJzIGFcbiAqIGNoYW5jZSB0byBjbGVhbnVwLiBGb3IgaW5zdGFuY2UsIE9wZW5HbCB0ZXh0dXJlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIGNhblxuICogYmUgZGVsZXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJlYW1IZWxwZXIge1xuICBkaXNwb3NlKCk6IHZvaWQ7XG59XG5cbmNvbnN0IFZTX1JFTkRFUiA9IGBcbiAgYXR0cmlidXRlIHZlYzIgYVZlcnRleDtcbiAgYXR0cmlidXRlIHZlYzIgYVRleDtcbiAgdmFyeWluZyB2ZWMyIHZUZXg7XG4gIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFWZXJ0ZXgsIDAuMCwgMS4wKTtcbiAgICB2VGV4ID0gYVRleDtcbiAgfWA7XG5cbmNvbnN0IEZTX1JFTkRFUiA9IGBcbiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICB2YXJ5aW5nIHZlYzIgdlRleDtcbiAgdW5pZm9ybSBzYW1wbGVyMkQgc2FtcGxlcjA7XG4gIHZvaWQgbWFpbigpe1xuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRChzYW1wbGVyMCwgdlRleCk7XG4gIH1gO1xuXG5pbnRlcmZhY2UgUmVuZGVyVmFyaWFibGVMb2NhdGlvbnMge1xuICBhVmVydGV4OiBHTGludDtcbiAgYVRleDogR0xpbnQ7XG4gIHNhbXBsZXIwOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgR3B1QnVmZmVyIGNvbWluZyBmcm9tIE1lZGlhUGlwZS4gV2UgYXR0YWNoIGhlbHBlciBtZXRob2RzXG4gKiB0byBkZWFsIHdpdGggdGhlIGludGVybmFsIEdMIGRldGFpbHMuXG4gKi9cbmV4cG9ydCB0eXBlIEdwdUJ1ZmZlciA9IEhUTUxDYW52YXNFbGVtZW50O1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiBpbnB1dHMgdGhhdCBjYW4gYmUgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IHR5cGUgSW5wdXRFbGVtZW50ID0gSFRNTFZpZGVvRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50O1xuXG4vKipcbiAqIERlYWxzIHdpdGggdGhlIHRyb3VibGUgb2YgbW92aW5nIGltYWdlIGluZm9ybWF0aW9uIGludG8gTWVkaWFQaXBlIGJhY2sgb3V0XG4gKiBhZ2Fpbi4gQXQgb3VyIGxvd2VzdCBsZXZlbCwgd2UgdXNlIGEgQ2FudmFzIGVsZW1lbnQgdG8gcHJvdmlkZSBhIGNvbnRleHQgaW5cbiAqIHdoaWNoIHRvIGRvIEdQVSBwcm9jZXNzaW5nLCBidXQgYmVjYXVzZSBicm93c2VycyBkbyBub3Qgc2hhcmUgY29udGV4dHNcbiAqIGJldHdlZW4gZWxlbWVudHMsIHRoZXJlJ3Mgbm8gZWFzeSB3YXkgdG8gbW92ZSB0ZXh0dXJlIGRhdGEgYXJvdW5kLiBTbyB3ZSdsbFxuICogZG8gdGhhdCBoZXJlLiBXZSdsbCBwcm92aWRlIHdheXMgZm9yIHRoZSB1c2VyIHRvIHN1cHBseSBIVE1MIGVsZW1lbnRzIHRoYXRcbiAqIHdlJ2xsIGZlZWQgaW50byBNZWRpYVBpcGUgKHNlZSBgZW5jb2RlYCkgYW5kIHdlJ2xsIHByb3ZpZGUgd2F5cyB0byByZW5kZXJcbiAqIG91dHB1dCBzdHJlYW1zIGZyb20gTWVkaWFQaXBlIChzZWUgYHJlbmRlclRvYCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbWFnZVN0cmVhbUhlbHBlciBpbXBsZW1lbnRzIFN0cmVhbUhlbHBlciB7XG4gIC8vIFRoaXMgaXMgdXNlZCBmb3IgYm90aCBpbnB1dF9zdHJlYW1zIGFuZCBvdXRwdXRfc3RyZWFtcyBpbiBhIGdyYXBoLiBUaGVcbiAgLy8gYmFjayBlbmQgZWl0aGVyIG5lZWRzIGl0IHRvIHdyYXAgYW4gZXh0ZXJuYWwgdGV4dHVyZSwgb3IgcHJvdmlkZXMgaXQgd2hlblxuICAvLyBzdXBwbHlpbmcgdXMgd2l0aCBhIHRleHR1cmUgKGFzIHBhcnQgb2YgYW4gb3V0cHV0IHN0cmVhbSkuXG4gIHByaXZhdGUgdGV4dHVyZUlkID0gMDtcblxuICAvLyBXZWJHTCBwcm9ncmFtcyBhcmUgb25seSB1c2VkIGZvciByZW5kZXJpbmcsIHNvIG9ubHkgZm9yIG91dHB1dCB0ZXh0dXJlcy5cbiAgcHJpdmF0ZSByZW5kZXJQcm9ncmFtPzogV2ViR0xQcm9ncmFtO1xuICBwcml2YXRlIHZlcnRleEJ1ZmZlcj86IFdlYkdMQnVmZmVyO1xuICBwcml2YXRlIHRleHR1cmVCdWZmZXI/OiBXZWJHTEJ1ZmZlcjtcbiAgcHJpdmF0ZSBsb2NhdGlvbnM/OiBSZW5kZXJWYXJpYWJsZUxvY2F0aW9ucztcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIHByaXZhdGUgcmVhZG9ubHkgd2FzbTogc29sdXRpb25zV2FzbS5NZWRpYXBpcGVXYXNtLFxuICAgICAgcHJpdmF0ZSByZWFkb25seSBnbDogV2ViR0wyUmVuZGVyaW5nQ29udGV4dCkge31cblxuICAvKipcbiAgICogQ2FwdHVyZXMgYSBmcmFtZSBmcm9tIGEgdmlkZW8gZWxlbWVudCB0byBzZW5kIGFzIGEgdGV4dHVyZSB0byB0aGUgZ3JhcGguXG4gICAqIFRPRE8obWhheXMpOyBJbiB0aGUgZnV0dXJlIHRoaXMgd2lsbCBhbHNvIG90aGVyIGVsZW1lbnRzIHRoYXQgc3VwcGx5XG4gICAqIHRleHR1cmUgKGluY2x1ZGluZyBIVE1MSW1hZ2VFbGVtZW50IGFuZCBIVE1MQ2FudmFzRWxlbWVudCkuXG4gICAqL1xuICBlbmNvZGUoaW5wdXQ6IElucHV0RWxlbWVudCk6IG9iamVjdCB7XG4gICAgaWYgKHRoaXMudGV4dHVyZUlkID09PSAwKSB7XG4gICAgICB0aGlzLnRleHR1cmVJZCA9IHRoaXMud2FzbS5jcmVhdGVUZXh0dXJlKCk7XG4gICAgfVxuXG4gICAgbGV0IHdpZHRoID0gMDtcbiAgICBsZXQgaGVpZ2h0ID0gMDtcblxuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpIHtcbiAgICAgIHdpZHRoID0gaW5wdXQudmlkZW9XaWR0aDtcbiAgICAgIGhlaWdodCA9IGlucHV0LnZpZGVvSGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoaW5wdXQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICB3aWR0aCA9IGlucHV0Lm5hdHVyYWxXaWR0aDtcbiAgICAgIGhlaWdodCA9IGlucHV0Lm5hdHVyYWxIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gaW5wdXQud2lkdGg7XG4gICAgICBoZWlnaHQgPSBpbnB1dC5oZWlnaHQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtnbE5hbWU6IHRoaXMudGV4dHVyZUlkLCB3aWR0aCwgaGVpZ2h0fTtcblxuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICBnbC5jYW52YXMud2lkdGggPSByZXN1bHQud2lkdGg7XG4gICAgZ2wuY2FudmFzLmhlaWdodCA9IHJlc3VsdC5oZWlnaHQ7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gICAgdGhpcy53YXNtLmJpbmRUZXh0dXJlMmQodGhpcy50ZXh0dXJlSWQpO1xuICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgaW5wdXQpO1xuICAgIHRoaXMud2FzbS5iaW5kVGV4dHVyZTJkKDApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBkZWNvZGUoZGF0YTogc29sdXRpb25zV2FzbS5UZXh0dXJlMmREYXRhKTogR3B1QnVmZmVyIHtcbiAgICB0aGlzLnJlbmRlcihkYXRhKTtcbiAgICByZXR1cm4gdGhpcy5nbC5jYW52YXMgYXMgR3B1QnVmZmVyO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoZGF0YTogc29sdXRpb25zV2FzbS5UZXh0dXJlMmREYXRhKTogdm9pZCB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuXG4gICAgaWYgKHRoaXMucmVuZGVyUHJvZ3JhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBwcm9ncmFtID0gdGhpcy5yZW5kZXJQcm9ncmFtID1cbiAgICAgICAgICBzaGFkZXJVdGlscy5jcmVhdGVQcm9ncmFtRnJvbVNvdXJjZXMoZ2wsIFZTX1JFTkRFUiwgRlNfUkVOREVSKTtcbiAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG5cbiAgICAgIGNvbnN0IGFWZXJ0ZXggPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAnYVZlcnRleCcpO1xuICAgICAgY29uc3QgYVRleCA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhVGV4Jyk7XG4gICAgICBjb25zdCBzYW1wbGVyMCA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAnc2FtcGxlcjAnKSE7XG4gICAgICB0aGlzLmxvY2F0aW9ucyA9IHthVmVydGV4LCBhVGV4LCBzYW1wbGVyMH07XG5cbiAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xuICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4QnVmZmVyKTtcbiAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMubG9jYXRpb25zLmFWZXJ0ZXgpO1xuICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmxvY2F0aW9ucy5hVmVydGV4LCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgICBnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgLTEsIDEsIDEsIDEsIDEsIC0xXSksXG4gICAgICAgICAgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuXG4gICAgICB0aGlzLnRleHR1cmVCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKSE7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy50ZXh0dXJlQnVmZmVyKTtcbiAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMubG9jYXRpb25zLmFUZXgpO1xuICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmxvY2F0aW9ucy5hVGV4LCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgICBnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWzAsIDEsIDAsIDAsIDEsIDAsIDEsIDFdKSxcbiAgICAgICAgICBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgICBnbC51bmlmb3JtMWkoc2FtcGxlcjAsIDApO1xuICAgIH1cblxuICAgIGNvbnN0IGxvY2F0aW9ucyA9IHRoaXMubG9jYXRpb25zITtcbiAgICBjb25zdCBwcm9ncmFtID0gdGhpcy5yZW5kZXJQcm9ncmFtO1xuXG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC5jYW52YXMud2lkdGggPSBkYXRhLndpZHRoO1xuICAgIGdsLmNhbnZhcy5oZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICBnbC52aWV3cG9ydCgwLCAwLCBkYXRhLndpZHRoLCBkYXRhLmhlaWdodCk7XG5cbiAgICAvLyBUaGUgdGV4dHVyZSB3aWxsIGFscmVhZHkgYmUgZmlsbGVkIHdoZW4gd2UgYXJlIHJlbmRlcmluZy4gIFdlIGp1c3QgbmVlZFxuICAgIC8vIHRvIGhhbmQgaXQgb3ZlciB0byB0aGUgcHJvZ3JhbSBvbiBzYW1wbGVyMC5cbiAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICB0aGlzLndhc20uYmluZFRleHR1cmUyZChkYXRhLmdsTmFtZSk7XG5cbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2NhdGlvbnMuYVZlcnRleCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4QnVmZmVyISk7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbnMuYVZlcnRleCwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9ucy5hVGV4KTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy50ZXh0dXJlQnVmZmVyISk7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbnMuYVRleCwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgIC8vIE1ha2Ugc3VyZSB3ZSdyZSBkcmF3aW5nIHRvIHRoZSBjYW52YXMgYW5kIG5vdCB0byBhIHRleHR1cmUuXG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkRSQVdfRlJBTUVCVUZGRVIsIG51bGwpO1xuXG4gICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9GQU4sIDAsIDQpO1xuXG4gICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9ucy5hVmVydGV4KTtcbiAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb25zLmFUZXgpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcblxuICAgIHRoaXMud2FzbS5iaW5kVGV4dHVyZTJkKDApO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIG9mIHRoZSB0ZXh0dXJlIHdlIGNyZWF0ZWQuIFNpbmNlIHdlIG1hZGUgdGhlIHRleHR1cmUgb24gdGhlIEMrK1xuICAgKiBsYXllciwgd2UgbmVlZCB0byBkZWxldGUgaXQgdGhlcmUgYXMgd2VsbC5cbiAgICovXG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGV4dHVyZUlkICE9PSAwKSB7XG4gICAgICB0aGlzLndhc20uZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmVJZCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlbmRlclByb2dyYW0pIHtcbiAgICAgIHRoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnJlbmRlclByb2dyYW0pO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0dXJlQnVmZmVyKSB7XG4gICAgICB0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLnRleHR1cmVCdWZmZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy52ZXJ0ZXhCdWZmZXIpIHtcbiAgICAgIHRoaXMuZ2wuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4QnVmZmVyKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTdHJlYW1zIHNvbWV0aW1lcyBzYXZlIGluZm9ybWF0aW9uIGFzaWRlLiBGb3IgaW5zdGFuY2UsIDJkIHRleHR1cmVzIHdpbGwgc2F2ZVxuICogYSB0ZXh0dXJlIGlkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbUhlbHBlck1hcCB7XG4gIFtrZXk6IHN0cmluZ106IFN0cmVhbUhlbHBlcjtcbn1cbiJdfQ==
+;return exports;});
+
+//third_party/mediapipe/web/solutions/solutions_api.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ * @fileoverview added by tsickle
+ * Generated from: third_party/mediapipe/web/solutions/solutions_api.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.solutions_api');
+var module = module || { id: 'third_party/mediapipe/web/solutions/solutions_api.closure.js' };
+const tslib_1 = goog.require('google3.third_party.javascript.tslib.tslib');
+const tsickle_solutions_wasm_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.solutions_wasm");
+const tsickle_stream_helpers_2 = goog.requireType("google3.third_party.mediapipe.web.solutions.stream_helpers");
+const streamHelpers = goog.require('google3.third_party.mediapipe.web.solutions.stream_helpers');
+/**
+ * Represents pairs of (start,end) indexes so that we can connect landmarks
+ * with lines to provide a skeleton when we draw the points. These are defined
+ * within each specific solution, but a common definition is held here for
+ * convenience.
+ * @typedef {!Array<!Array<?>>}
+ */
+exports.LandmarkConnectionArray;
+/**
+ * Represents a normalized rectangle that can be passed to a StreamListener.
+ * @typedef {!tsickle_solutions_wasm_1.NormalizedRect}
+ */
+exports.NormalizedRect;
+/**
+ * Represents a list of normalized rectangles.
+ * @typedef {!Array<!tsickle_solutions_wasm_1.NormalizedRect>}
+ */
+exports.NormalizedRectList;
+/**
+ * Represents a detection.
+ * @record
+ */
+function Detection() { }
+exports.Detection = Detection;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The bounding box around the detection.
+     * @type {!tsickle_solutions_wasm_1.NormalizedRect}
+     */
+    Detection.prototype.boundingBox;
+    /**
+     * The associated landmarks.
+     *
+     * May be empty. This is typically filled for e.g. face, hands or pose
+     * detection use cases.
+     * @type {!Array<!NormalizedLandmark>}
+     */
+    Detection.prototype.landmarks;
+    /**
+     * The associated classifications.
+     *
+     * May be empty. This is typically filled for e.g. object detection use cases.
+     * @type {!Array<!Classification>}
+     */
+    Detection.prototype.classifications;
+}
+/**
+ * Represents a list of detections.
+ * @typedef {!Array<!Detection>}
+ */
+exports.DetectionList;
+/**
+ * Represents a detected landmark.
+ * @record
+ */
+function NormalizedLandmark() { }
+exports.NormalizedLandmark = NormalizedLandmark;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    NormalizedLandmark.prototype.x;
+    /** @type {number} */
+    NormalizedLandmark.prototype.y;
+    /** @type {number} */
+    NormalizedLandmark.prototype.z;
+    /** @type {(undefined|number)} */
+    NormalizedLandmark.prototype.visibility;
+}
+/**
+ * Represents a list of landmarks.
+ * @typedef {!Array<!NormalizedLandmark>}
+ */
+exports.NormalizedLandmarkList;
+/**
+ * Represents a list of lists of landmarks.
+ * @typedef {!Array<!Array<!NormalizedLandmark>>}
+ */
+exports.NormalizedLandmarkListList;
+/**
+ * A class label with score.
+ * @record
+ */
+function Classification() { }
+exports.Classification = Classification;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The index of the class in the corresponding label map.
+     * @type {number}
+     */
+    Classification.prototype.index;
+    /**
+     * The probability score for this class.
+     * @type {number}
+     */
+    Classification.prototype.score;
+    /**
+     * Label or name of the class.
+     * @type {(undefined|string)}
+     */
+    Classification.prototype.label;
+    /**
+     * Display name of the class, for visualization purposes.
+     * @type {(undefined|string)}
+     */
+    Classification.prototype.displayName;
+}
+/**
+ * A list of classifications.
+ * @typedef {!Array<!Classification>}
+ */
+exports.ClassificationList;
+/**
+ * Multiple lists of classifications.
+ * @typedef {!Array<!Array<!Classification>>}
+ */
+exports.ClassificationListList;
+/**
+ * Represents a single normalized landmark, with depth.
+ * @record
+ */
+function Point2D() { }
+exports.Point2D = Point2D;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    Point2D.prototype.x;
+    /** @type {number} */
+    Point2D.prototype.y;
+    /** @type {number} */
+    Point2D.prototype.depth;
+}
+/**
+ * Represents a point in 3D space.
+ * @record
+ */
+function Point3D() { }
+exports.Point3D = Point3D;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    Point3D.prototype.x;
+    /** @type {number} */
+    Point3D.prototype.y;
+    /** @type {number} */
+    Point3D.prototype.z;
+}
+/**
+ * Represents a particular keypoint from an object detection. The id denotes
+ * which keypoint this is (consistent over time), and then two representations
+ * are included for this point, a 2D normalized version, and a 3D version.
+ * @record
+ */
+function Keypoint() { }
+exports.Keypoint = Keypoint;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    Keypoint.prototype.id;
+    /** @type {!Point3D} */
+    Keypoint.prototype.point3d;
+    /** @type {!Point2D} */
+    Keypoint.prototype.point2d;
+}
+/**
+ * List of keypoints.
+ * @typedef {!Array<!Keypoint>}
+ */
+exports.KeypointList;
+/**
+ * The relevant information about a particular object detection.
+ * @record
+ */
+function ObjectDetection() { }
+exports.ObjectDetection = ObjectDetection;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The unique object instance identifier.
+     * @type {number}
+     */
+    ObjectDetection.prototype.id;
+    /**
+     * The list of keypoints for this detection (8 for a 3D bounding box).
+     * @type {!Array<!Keypoint>}
+     */
+    ObjectDetection.prototype.keypoints;
+    /**
+     * The visibility of this object detection in a frame.
+     * @type {number}
+     */
+    ObjectDetection.prototype.visibility;
+}
+/**
+ * List of object detections.
+ * @typedef {!Array<!ObjectDetection>}
+ */
+exports.ObjectDetectionList;
+/**
+ * Represents an image produced by the graph.
+ * @typedef {!HTMLCanvasElement}
+ */
+exports.GpuBuffer;
+/**
+ * Represents a single result of a multi result listener. The shape is
+ * transformed into a shape that the end user can consume.
+ * @record
+ */
+function ResultMap() { }
+exports.ResultMap = ResultMap;
+/**
+ * Represents a single result of a multi result listener. The shape is the
+ * wasm class from which we can pull out different kinds of data.
+ * @record
+ */
+function WasmResultMap() { }
+exports.WasmResultMap = WasmResultMap;
+/**
+ * This represents the callbacks from the graph's stream listeners. If the
+ * listener needs to do asynchronous work, return a Promise to allow the
+ * solution to wait.
+ * @typedef {function(!ResultMap): (void|!Promise<void>)}
+ */
+exports.ResultMapListener;
+/**
+ * Option descriptions that describe where to change an option in a graph.
+ * @typedef {!tsickle_solutions_wasm_1.GraphOptionXRef}
+ */
+exports.GraphOptionXRef;
+/**
+ * If your files are organized in some weird structure, you can customize how
+ * the path is constructed by sending this to the config options for Solution.
+ * @typedef {function(string, string): string}
+ */
+exports.FileLocatorFn;
+/**
+ * Users of the solution set options using a key-value map. However, specific
+ * solutions will constrain the options with an exported interface.
+ *
+ * e.g.
+ *
+ * generalSolution.setOptions({"myKey": myValue}) becomes
+ * specificSolution.setOptions({ myKey: myValue }}
+ *
+ * declare interface SpecificSolutionOptionList {
+ *   myKey: number
+ * };
+ *
+ * This works because `Object`s in JavaScript are just hashmaps, and we fit
+ * meaning on top of those hashmaps with our type declarations.
+ * @record
+ */
+function OptionList() { }
+exports.OptionList = OptionList;
+/**
+ * Used in the constructor of Graph.
+ * @record
+ */
+function Graph() { }
+exports.Graph = Graph;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    Graph.prototype.url;
+}
+/**
+ * Describes how to turn user input (See InputMap) into data the graph can
+ * consume.
+ * @record
+ */
+function InputConfig() { }
+exports.InputConfig = InputConfig;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * Provides direction on how to interpret the `value` of the InputMap.
+     * @type {string}
+     */
+    InputConfig.prototype.type;
+    /**
+     * The name of the input stream of the graph that will receive the input.
+     * @type {string}
+     */
+    InputConfig.prototype.stream;
+}
+/**
+ * The full description of all the inputs that will be exposed to the user. The
+ * key is the name of the input a user will use.
+ * @record
+ */
+function InputConfigMap() { }
+exports.InputConfigMap = InputConfigMap;
+/**
+ * Describes the inputs that the user will send to the graph. `unknown` allows
+ * users to do all sorts of things, from using HTMLVideoElements to numbers to
+ * whatever else we need. See `prepareInput` to see how this unknown is turned
+ * into structural data that can be sent to the graph.
+ *
+ * The specific solution should supply a stronger interface that will be used
+ * instead of this generic keymap,  In this way, the solution designer can
+ * name very specific inputs and exactly what is expected in that InputMap.'
+ * @record
+ */
+function InputMap() { }
+exports.InputMap = InputMap;
+/**
+ * We support several ways to get image inputs.
+ * @typedef {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)}
+ */
+exports.InputImage;
+/** @enum {number} */
+const OptionType = {
+    NUMBER: 0,
+    BOOL: 1,
+};
+exports.OptionType = OptionType;
+OptionType[OptionType.NUMBER] = 'NUMBER';
+OptionType[OptionType.BOOL] = 'BOOL';
+/**
+ * Used to register keys with the solution. Right now it is limited to
+ * graphOptionXref, which is specifically for options that will be fed to the
+ * MediaPipe graph, but we'll also need options that are handled by the specific
+ * solution to do work (e.g., selfie-flipping).
+ * @record
+ */
+function OptionConfig() { }
+exports.OptionConfig = OptionConfig;
+/* istanbul ignore if */
+if (false) {
+    /** @type {!OptionType} */
+    OptionConfig.prototype.type;
+    /** @type {(undefined|!tsickle_solutions_wasm_1.GraphOptionXRef)} */
+    OptionConfig.prototype.graphOptionXref;
+}
+/**
+ * Optionally specified in the output to transform the output.
+ * @typedef {function(?): ?}
+ */
+exports.Transformer;
+/**
+ * Output configuration without a transform function.
+ * @record
+ */
+function OutputConfigBase() { }
+exports.OutputConfigBase = OutputConfigBase;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigBase.prototype.stream;
+    /** @type {string} */
+    OutputConfigBase.prototype.type;
+    /** @type {(undefined|function(?): ?)} */
+    OutputConfigBase.prototype.transform;
+}
+/**
+ * Output config with type safety for a list of landmarks.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigLandmarkList() { }
+exports.OutputConfigLandmarkList = OutputConfigLandmarkList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigLandmarkList.prototype.type;
+    /** @type {(undefined|function(!Array<!NormalizedLandmark>): T)} */
+    OutputConfigLandmarkList.prototype.transform;
+}
+/**
+ * Output config with type safety for a list of landmark lists.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigLandmarkListList() { }
+exports.OutputConfigLandmarkListList = OutputConfigLandmarkListList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigLandmarkListList.prototype.type;
+    /** @type {(undefined|function(!Array<!Array<!NormalizedLandmark>>): T)} */
+    OutputConfigLandmarkListList.prototype.transform;
+}
+/**
+ * Output config with type safety for a list of classification lists.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigClassificationListList() { }
+exports.OutputConfigClassificationListList = OutputConfigClassificationListList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigClassificationListList.prototype.type;
+    /** @type {(undefined|function(!Array<!Array<!Classification>>): T)} */
+    OutputConfigClassificationListList.prototype.transform;
+}
+/**
+ * Output config with type safety for an object detection.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigObjectDetectionList() { }
+exports.OutputConfigObjectDetectionList = OutputConfigObjectDetectionList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigObjectDetectionList.prototype.type;
+    /** @type {(undefined|function(!Array<!ObjectDetection>): T)} */
+    OutputConfigObjectDetectionList.prototype.transform;
+}
+/**
+ * When specifying outputs, cast to OutputConfig<T> to get type safety between
+ * the `type` and the `transform`.
+ * @typedef {(!OutputConfigLandmarkList<?>|!OutputConfigLandmarkListList<?>|!OutputConfigClassificationListList<?>|!OutputConfigObjectDetectionList<?>)}
+ */
+exports.OutputConfig;
+/**
+ * Translation map to expose underlying streams to the user. A solution
+ * designer should declare a type to constrain the shape of the outputs.
+ * @record
+ */
+function OutputConfigMap() { }
+exports.OutputConfigMap = OutputConfigMap;
+/**
+ * The collection of option configuration entries, arranged by option name.
+ * @record
+ */
+function OptionConfigMap() { }
+exports.OptionConfigMap = OptionConfigMap;
+/**
+ * Binds the streams to a set of listeners that can be surfaced to the
+ * developer.
+ * @record
+ */
+function ListenerPort() { }
+exports.ListenerPort = ListenerPort;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * If there is only one registration, the name can be omitted. See onResults
+     * for more discussion.
+     * @type {(undefined|string)}
+     */
+    ListenerPort.prototype.name;
+    /**
+     * A list of streams in the graph that will be combined into a HashMap
+     * which will be assembled and delivered to listeners that the end user
+     * can listen to.
+     * @type {!Array<string>}
+     */
+    ListenerPort.prototype.wants;
+    /**
+     * Allows the results to be transformed into literally any kind of shape. It
+     * is up to the solution creator to expose this type information through
+     * an onResults specialization.
+     * @type {(undefined|!OutputConfigMap)}
+     */
+    ListenerPort.prototype.outs;
+    /**
+     * Allows transformation of `outs` before handing the results back to the
+     * listener. Allows final creative control of the shape of the output.
+     * @type {(undefined|function(!OutputConfigMap): !OutputConfigMap)}
+     */
+    ListenerPort.prototype.transform;
+}
+/**
+ * Describes a file that should be loaded by the solution. We can include flags
+ * for checks that should be done before loading a file. Currently, we allow
+ * a user to provide special files that are only provided if SIMD is
+ * specifically supported or not supported by the browser (do not include the
+ * simd flag if you do not care).
+ * @record
+ */
+function FileEntry() { }
+exports.FileEntry = FileEntry;
+/* istanbul ignore if */
+if (false) {
+    /** @type {(undefined|boolean)} */
+    FileEntry.prototype.simd;
+    /** @type {string} */
+    FileEntry.prototype.url;
+}
+/**
+ * Options to configure the solution.
+ * @record
+ */
+function SolutionConfig() { }
+exports.SolutionConfig = SolutionConfig;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The pack loader and the wasm loader need to be here. A file loader will be
+     * provided to them, and They will get loaded asynchronously. We won't
+     * continue initialization until they've completely loaded and run.
+     * @type {!ReadonlyArray<!FileEntry>}
+     */
+    SolutionConfig.prototype.files;
+    /**
+     * The binary graph. Can support multiple ways of getting that graph.
+     * @type {!Graph}
+     */
+    SolutionConfig.prototype.graph;
+    /**
+     * Contains a mapping that allows us to turn the inputs a user sends as part
+     * of `send` into an input that the graph can consume.
+     * @type {!InputConfigMap}
+     */
+    SolutionConfig.prototype.inputs;
+    /**
+     * See FileLocatorFn. Any file loading done on the user's behalf will use
+     * locateFile if its profived. This includes WASM blobs and graph urls.
+     * @type {(undefined|function(string, string): string)}
+     */
+    SolutionConfig.prototype.locateFile;
+    /**
+     * Specifies how to interpret options fed to setOptions.
+     * @type {(undefined|!OptionConfigMap)}
+     */
+    SolutionConfig.prototype.options;
+    /**
+     * Attaches listeners to the graph. This is only for registering the ports.
+     * To actually register a callback, the developer will call onResults with
+     * the name of the port they want to tap into.
+     * @type {(undefined|!Array<!ListenerPort>)}
+     */
+    SolutionConfig.prototype.listeners;
+}
+/**
+ * Represents a graph that can be fed to mediapipe Solution.
+ * @record
+ */
+function GraphData() { }
+exports.GraphData = GraphData;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @return {!Promise<!ArrayBuffer>}
+     */
+    GraphData.prototype.toArrayBuffer = function () { };
+}
+// These export names come from wasm_cc_binary BUILD rules. They belong to two
+// different scripts that are loaded in parallel (see Promise.all, below).
+// Because they mutate their respective variables, there is a race condition
+// where they will stomp on each other if they choose the same name. Users
+// won't normally see this race condition because they put script tags in the
+// HTML, and HTML guarantees that the scripts will be run in order.
+/** @type {string} */
+const API_EXPORT_NAME = 'createMediapipeSolutionsWasm';
+/** @type {string} */
+const PACK_EXPORT_NAME = 'createMediapipeSolutionsPackedAssets';
+// Used internally to represent a port for which the user did not define a name.
+/** @type {string} */
+const DEFAULT_PORT_NAME = '$';
+/**
+ * Simplest WASM program to perform a SIMD operation. We'll try to instantiate
+ * it with WebAssembly.instantiate() and if it fails, we'll know there is no
+ * SIMD support.
+ *
+ * To generate the web assembly, I included the following script into a web page
+ * https://cdn.jsdelivr.net/gh/AssemblyScript/wabt.js/index.js
+ *
+ * And then followed it with a bit of script:
+ *
+ * ```
+ * async function run() {
+ * var wasm = `(module
+ *  (func
+ *      i32.const 0
+ *      i8x16.splat
+ *      drop
+ *    )
+ *  )`;
+ *  const wabt = await WabtModule();
+ *  const wat = wabt.parseWat("test", wasm, {simd: true});
+ *  const bin = wat.toBinary({}).buffer;
+ *
+ *  // The following line prints the array that we cut and paste into our source
+ *  // code.
+ *  console.log(bin.join(','));
+ *
+ *  const arr = new Uint8Array(bin);
+ *  const wa = await WebAssembly.instantiate(arr);
+ * }
+ * run();
+ * ```
+ * @type {!Uint8Array}
+ */
+const WASM_SIMD_CHECK = new Uint8Array([
+    0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3,
+    2, 1, 0, 10, 9, 1, 7, 0, 65, 0, 253, 15, 26, 11
+]);
+/**
+ * Returns the default path to a resource if the user did not overload the
+ * locateFile parameter in SolutionConfig.
+ * @param {string} file
+ * @param {string} prefix
+ * @return {string}
+ */
+function defaultLocateFile(file, prefix) {
+    return prefix + file;
+}
+/**
+ * Sets an arbitrary value on `window`. This helper function gets around a lot
+ * of the cumbersome boilerplate required to set and retrieve arbitrary data
+ * from the `window` object.
+ * @template T
+ * @param {string} key
+ * @param {T} value
+ * @return {void}
+ */
+function setWindow(key, value) {
+    ((/** @type {!Object<string,T>} */ ((/** @type {*} */ (window)))))[key] = value;
+}
+/**
+ * Gets an arbitrary value from `window`. See `setWindow`.
+ * @param {string} key
+ * @return {*}
+ */
+function getWindow(key) {
+    return ((/** @type {!Object<string,*>} */ ((/** @type {*} */ (window)))))[key];
+}
+/**
+ * Dynamically loads a ascript into the current page and returns a `Promise`
+ * that resolves when its loading is complete.
+ * @param {string} url
+ * @return {!Promise<void>}
+ */
+function loadScript(url) {
+    /** @type {!HTMLScriptElement} */
+    const script = document.createElement('script');
+    script.setAttribute('src', url);
+    script.setAttribute('crossorigin', 'anonymous');
+    document.body.appendChild(script);
+    return new Promise((/**
+     * @param {function((void|!PromiseLike<void>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        script.addEventListener('load', (/**
+         * @return {void}
+         */
+        () => {
+            resolve();
+        }), false);
+    }));
+}
+/**
+ * @return {string}
+ */
+function getPackagePath() {
+    if (typeof window === 'object') {
+        return window.location.pathname.toString().substring(0, window.location.pathname.toString().lastIndexOf('/')) +
+            '/';
+    }
+    else if (typeof location !== 'undefined') {
+        // worker
+        return location.pathname.toString().substring(0, location.pathname.toString().lastIndexOf('/')) +
+            '/';
+    }
+    else {
+        throw new Error('solutions can only be loaded on a web page or in a web worker');
+    }
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>} landmarks
+ * @return {!Array<!NormalizedLandmark>}
+ */
+function decodeLandmarks(landmarks) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = landmarks.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.NormalizedLandmark} */
+        const landmark = landmarks.get(index);
+        output.push({
+            x: landmark.x,
+            y: landmark.y,
+            z: landmark.z,
+            visibility: landmark.hasVisibility ? landmark.visibility : undefined
+        });
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>} rects
+ * @return {!Array<!tsickle_solutions_wasm_1.NormalizedRect>}
+ */
+function decodeRectList(rects) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = rects.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.NormalizedRect} */
+        const rect = rects.get(index);
+        output.push(rect);
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ResultWasm} results
+ * @return {!Array<!Detection>}
+ */
+function decodeDetectionList(results) {
+    /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>} */
+    const rectList = (/** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>} */ (results.getRectList()));
+    /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>} */
+    const landmarksList = (/** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>} */ (results.getLandmarksList()));
+    /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>} */
+    const classificationsList = (/** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>} */ (results.getClassificationsList()));
+    /** @type {!Array<?>} */
+    const output = [];
+    if (rectList) {
+        for (let index = 0; index < rectList.size(); ++index) {
+            /** @type {{boundingBox: !tsickle_solutions_wasm_1.NormalizedRect, landmarks: !Array<!NormalizedLandmark>, classifications: !Array<!Classification>}} */
+            const result = {
+                boundingBox: rectList.get(index),
+                landmarks: decodeLandmarks(landmarksList.get(index)),
+                classifications: decodeClassifications(classificationsList.get(index)),
+            };
+            output.push(result);
+        }
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>} landmarks
+ * @return {!Array<!Array<!NormalizedLandmark>>}
+ */
+function decodeLandmarksList(landmarks) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = landmarks.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>} */
+        const landmark = landmarks.get(index);
+        output.push(decodeLandmarks(landmark));
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>} classifications
+ * @return {!Array<!Classification>}
+ */
+function decodeClassifications(classifications) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = classifications.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.Classification} */
+        const classification = classifications.get(index);
+        output.push({
+            index: classification.index,
+            score: classification.score,
+            label: classification.hasLabel ? classification.label : undefined,
+            displayName: classification.hasDisplayName ? classification.displayName :
+                undefined,
+        });
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>} classifications
+ * @return {!Array<!Array<!Classification>>}
+ */
+function decodeClassificationsList(classifications) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = classifications.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>} */
+        const classification = classifications.get(index);
+        output.push(decodeClassifications(classification));
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.Keypoint} keypoint
+ * @return {!Keypoint}
+ */
+function decodeKeypoint(keypoint) {
+    return {
+        id: keypoint.id,
+        point3d: {
+            x: keypoint.point3d.x,
+            y: keypoint.point3d.y,
+            z: keypoint.point3d.z,
+        },
+        point2d: {
+            x: keypoint.point2d.x,
+            y: keypoint.point2d.y,
+            depth: keypoint.point2d.depth,
+        }
+    };
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Keypoint>} keypoints
+ * @return {!Array<!Keypoint>}
+ */
+function decodeKeypointList(keypoints) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = keypoints.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.Keypoint} */
+        const keypoint = keypoints.get(index);
+        output.push(decodeKeypoint(keypoint));
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ObjectDetection} detection
+ * @return {!ObjectDetection}
+ */
+function decodeObjectDetection(detection) {
+    return {
+        id: detection.id,
+        keypoints: decodeKeypointList(detection.keypoints),
+        visibility: detection.visibility,
+    };
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ObjectDetection>} detections
+ * @return {!Array<!ObjectDetection>}
+ */
+function decodeObjectDetectionList(detections) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = detections.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.ObjectDetection} */
+        const detection = detections.get(index);
+        output.push(decodeObjectDetection(detection));
+    }
+    return output;
+}
+class GraphDataImpl {
+    /**
+     * @param {!Graph} graph
+     * @param {function(string, string): string} locateFile
+     * @param {string} packagePath
+     */
+    constructor(graph, locateFile, packagePath) {
+        this.graph = graph;
+        this.locateFile = locateFile;
+        this.packagePath = packagePath;
+    }
+    /**
+     * @return {!Promise<!ArrayBuffer>}
+     */
+    toArrayBuffer() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (this.graph.url) {
+                /** @type {!Response} */
+                const fetched = yield fetch(this.locateFile(this.graph.url, this.packagePath));
+                if (fetched.body) {
+                    return fetched.arrayBuffer();
+                }
+            }
+            return new ArrayBuffer(0);
+        });
+    }
+}
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {!Graph}
+     * @private
+     */
+    GraphDataImpl.prototype.graph;
+    /**
+     * @type {function(string, string): string}
+     * @private
+     */
+    GraphDataImpl.prototype.locateFile;
+    /**
+     * @type {string}
+     * @private
+     */
+    GraphDataImpl.prototype.packagePath;
+}
+/**
+ * Inputs to the graph. Currently only one input, a video frame, is
+ * permitted, but this should encompass any input data to a solution.
+ * @record
+ */
+function FrameInputs() { }
+exports.FrameInputs = FrameInputs;
+/* istanbul ignore if */
+if (false) {
+    /** @type {!HTMLVideoElement} */
+    FrameInputs.prototype.video;
+}
+/**
+ * The solution keeps all of the current listeners. The user can pass us a
+ * listener map and then change the elements at any time. They will be picked
+ * up on the next pass through `processFrame`.
+ * @record
+ */
+function ListenerMap() { }
+exports.ListenerMap = ListenerMap;
+/**
+ * @return {!Promise<boolean>}
+ * @this {*}
+ */
+function isSupportedSimd() {
+    return tslib_1.__awaiter(this, void 0, void 0, function* () {
+        try {
+            yield WebAssembly.instantiate(WASM_SIMD_CHECK);
+        }
+        catch (_a) {
+            return false;
+        }
+        return true;
+    });
+}
+/**
+ * MediaPipe Solution upon which all specific solutions will be built.
+ */
+class Solution {
+    /**
+     * @param {!SolutionConfig} config
+     */
+    constructor(config) {
+        this.config = config;
+        this.listeners = {};
+        this.inStreamHelpers = {};
+        this.outStreamHelpers = {};
+        this.needToInitializeWasm = true;
+        this.needToInitializeGraph = true;
+        this.runningPromise = Promise.resolve();
+        this.locateFile = (config && config.locateFile) || defaultLocateFile;
+        this.packagePath = getPackagePath();
+    }
+    /**
+     * @return {!Promise<void>}
+     */
+    close() {
+        if (this.solutionWasm) {
+            this.solutionWasm.delete();
+        }
+        return Promise.resolve();
+    }
+    /**
+     * Loads all of the dependent WASM files. This is heavy, so we make sure to
+     * only do this once.
+     * @private
+     * @return {!Promise<void>}
+     */
+    tryToInitializeWasm() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (!this.needToInitializeWasm) {
+                return;
+            }
+            // Set up the file loader for both external loaders.
+            setWindow(API_EXPORT_NAME, { locateFile: this.locateFile });
+            setWindow(PACK_EXPORT_NAME, { locateFile: this.locateFile });
+            /** @type {!ReadonlyArray<!FileEntry>} */
+            const files = (this.config.files) || [];
+            /** @type {boolean} */
+            const supportsSimd = yield isSupportedSimd();
+            yield Promise.all(files.map((/**
+             * @param {!FileEntry} x
+             * @return {!Promise<void>}
+             */
+            x => {
+                /** @type {boolean} */
+                const doLoad = (x.simd === undefined) || (x.simd && supportsSimd) ||
+                    (!x.simd && !supportsSimd);
+                if (doLoad) {
+                    return loadScript(this.locateFile(x.url, this.packagePath));
+                }
+                return Promise.resolve();
+            })));
+            // The variables we set earlier will not be mutated, each according to its
+            // related loader.
+            /** @type {function(!tsickle_solutions_wasm_1.PackLoader): !Promise<!tsickle_solutions_wasm_1.MediapipeWasm>} */
+            const apiFn = (/** @type {function(!tsickle_solutions_wasm_1.PackLoader): !Promise<!tsickle_solutions_wasm_1.MediapipeWasm>} */ (getWindow(API_EXPORT_NAME)));
+            /** @type {!tsickle_solutions_wasm_1.PackLoader} */
+            const packFn = (/** @type {!tsickle_solutions_wasm_1.PackLoader} */ (getWindow(PACK_EXPORT_NAME)));
+            // Now that everything is loaded and mutated, we can finally initialize
+            // the WASM loader with the pack loader. The WASM loader will wait until
+            // all of the files in the pack loader are complete before resolving its
+            // Promise.
+            this.wasm = yield apiFn(packFn);
+            // TODO(mhays): Developer should be able to explicitly load/unload a
+            // solution to prevent stealing all of the WebGL resources (e.g., Chrome
+            // may limit the number of WebGL contexts by domain).
+            // This is the single canvas that will be used for all texture transfer
+            // to and from the back end.
+            this.glCanvas = document.createElement('canvas');
+            this.wasm.canvas = this.glCanvas;
+            this.wasm.createContext(this.glCanvas, /* useWebGl= */ true, 
+            /* setInModule= */ true, {});
+            // The graph only needs to be loaded once into the solution, but the WASM
+            // might re-initialize the solution, and that will specifically happen
+            // during wasm.ProcessFrame.
+            this.solutionWasm = new this.wasm.SolutionWasm();
+            /** @type {!GraphDataImpl} */
+            const graphData = new GraphDataImpl(this.config.graph, this.locateFile, this.packagePath);
+            yield this.loadGraph(graphData);
+            // Listeners modify the graph config internally, so graph listeners are
+            // attached only once. Users are free to connect and disconnect callbacks
+            // to these listeners as needed.
+            if (this.config.listeners) {
+                for (const listener of this.config.listeners) {
+                    this.addListenerPort(listener);
+                }
+            }
+            this.needToInitializeWasm = false;
+        });
+    }
+    /**
+     * Sets the options for the graph, potentially triggering a reinitialize.
+     * The triggering is contingent upon the options matching those set up in
+     * the solution configuration. If a match is found, initialize is set to run
+     * on the next processFrame.
+     *
+     * We do not create a WASM object here, because it's possible (likely) that
+     * WASM has not loaded yet (i.e., the user calls setOptions before calling
+     * processFrame / initialize).  We'll do that during initialize when we know
+     * it's safe.
+     * @param {!OptionList} options
+     * @return {void}
+     */
+    setOptions(options) {
+        if (!this.config.options) {
+            return;
+        }
+        /** @type {!Array<!tsickle_solutions_wasm_1.GraphOptionChangeRequest>} */
+        const pendingChanges = [];
+        for (const option of Object.keys(options)) {
+            // Look each option in the option config.
+            /** @type {!OptionConfig} */
+            const optionConfig = this.config.options[option];
+            if (optionConfig) {
+                if (optionConfig.graphOptionXref) {
+                    /** @type {{valueNumber: number, valueBoolean: boolean}} */
+                    const optionValue = {
+                        valueNumber: optionConfig.type === OptionType.NUMBER ?
+                            (/** @type {number} */ (options[option])) :
+                            0.0,
+                        valueBoolean: optionConfig.type === OptionType.BOOL ?
+                            (/** @type {boolean} */ (options[option])) :
+                            false
+                    };
+                    /** @type {{calculatorName: string, calculatorIndex: number}} */
+                    const defaults = { calculatorName: '', calculatorIndex: 0 };
+                    // Combine the xref with the value. This is what the WASM will be
+                    // expecting.
+                    /** @type {*} */
+                    const request = Object.assign(Object.assign(Object.assign({}, defaults), optionConfig.graphOptionXref), optionValue);
+                    pendingChanges.push(request);
+                }
+            }
+        }
+        if (pendingChanges.length !== 0) {
+            this.needToInitializeGraph = true;
+            this.pendingChanges = pendingChanges;
+        }
+    }
+    /**
+     * Initializes the graph is it has not been loaded, or has been triggered to
+     * reload (setOptions was called while the graph was running).
+     * @private
+     * @return {!Promise<void>}
+     */
+    tryToInitializeGraph() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (!this.needToInitializeGraph) {
+                return;
+            }
+            // Move the video frame into the texture.
+            /** @type {(null|!WebGL2RenderingContext)} */
+            const gl = this.glCanvas.getContext('webgl2');
+            if (!gl) {
+                alert('Failed to create WebGL canvas context when passing video frame.');
+                return;
+            }
+            this.gl = gl;
+            // Changing options on the graph will mutate the graph config.
+            if (this.pendingChanges) {
+                /** @type {!tsickle_solutions_wasm_1.GraphOptionChangeRequestList} */
+                const changeList = new this.wasm.GraphOptionChangeRequestList();
+                for (const change of this.pendingChanges) {
+                    changeList.push_back(change);
+                }
+                this.solutionWasm.changeOptions(changeList);
+                changeList.delete();
+                this.pendingChanges = undefined;
+            }
+            this.needToInitializeGraph = false;
+        });
+    }
+    /**
+     * @return {!Promise<void>}
+     */
+    initialize() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            yield this.tryToInitializeWasm();
+            yield this.tryToInitializeGraph();
+        });
+    }
+    /**
+     * @private
+     * @param {!GraphData} graph
+     * @return {!Promise<void>}
+     */
+    loadGraph(graph) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            /** @type {!ArrayBuffer} */
+            const graphData = yield graph.toArrayBuffer();
+            this.solutionWasm.loadGraph(graphData);
+        });
+    }
+    /**
+     * Uses the 'type' field of the input config to turn the `unknown` input into
+     * something usable by the back end.  In general, we are using emscripten
+     * embind's value_object to effect the transfer, so the data must be simply
+     * marshalable.
+     * @private
+     * @param {!InputConfig} config
+     * @param {*} input
+     * @return {!Object}
+     */
+    prepareInput(config, input) {
+        switch (config.type) {
+            case 'video':
+                /** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */
+                let helper = (/** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */ (this.inStreamHelpers[config.stream]));
+                if (!helper) {
+                    helper = new streamHelpers.ImageStreamHelper(this.wasm, this.gl);
+                    this.inStreamHelpers[config.stream] = helper;
+                }
+                return helper.encode((/** @type {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)} */ (input)));
+            default:
+                return {};
+        }
+    }
+    /**
+     * Allows the user to send one or more inputs to the graph. The graph will
+     * run and potentially produce outputs for any attached listeners. The data
+     * that a javascript user supplies needs to be conditioned for use by
+     * mediapipe, and those details are hidden away (see `prepareInput`).
+     * @param {!InputMap} inputs
+     * @param {(undefined|number)=} at Timestamp in ms, if undefined, we'll use performance.now().
+     * @return {!Promise<void>}
+     */
+    send(inputs, at) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (!this.config.inputs) {
+                return;
+            }
+            /** @type {number} */
+            const timestamp = 1000 * (at || performance.now());
+            yield this.runningPromise;
+            yield this.initialize();
+            /** @type {!tsickle_solutions_wasm_1.PacketDataList} */
+            const dataValueList = new this.wasm.PacketDataList();
+            for (const key of Object.keys(inputs)) {
+                /** @type {!InputConfig} */
+                const inputConfig = this.config.inputs[key];
+                if (inputConfig) {
+                    // We only support texture2d at the moment, but once we support more,
+                    // this will be a switch statement so that we call the correct push
+                    // method.
+                    /** @type {!Object} */
+                    const input = this.prepareInput(inputConfig, inputs[key]);
+                    /** @type {string} */
+                    const stream = inputConfig.stream;
+                    dataValueList.pushTexture2d((/** @type {!tsickle_solutions_wasm_1.Texture2dData} */ (Object.assign(Object.assign({}, input), { stream, timestamp }))));
+                }
+            }
+            this.solutionWasm.send(dataValueList);
+            dataValueList.delete();
+        });
+    }
+    /**
+     * @private
+     * @param {!WasmResultMap} results
+     * @param {(undefined|!OutputConfigMap)=} configMap
+     * @return {!ResultMap}
+     */
+    transformOutputs(results, configMap) {
+        if (!configMap) {
+            return results;
+        }
+        /** @type {!ResultMap} */
+        const outputs = {};
+        for (const key of Object.keys(configMap)) {
+            /** @type {(string|!OutputConfigBase)} */
+            const config = configMap[key];
+            if (typeof config === 'string') {
+                outputs[key] = this.extractWasmResult(key, results[config]);
+            }
+            else {
+                /** @type {!tsickle_solutions_wasm_1.ResultWasm} */
+                const result = results[config.stream];
+                if (result === undefined) {
+                    continue;
+                }
+                if (config.type === 'detection_list') {
+                    outputs[key] = decodeDetectionList(result);
+                }
+                else if (config.type === 'landmarks') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>)} */
+                    const value = result.getLandmarks();
+                    outputs[key] = value ? decodeLandmarks(value) : undefined;
+                }
+                else if (config.type === 'landmarks_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>)} */
+                    const value = result.getLandmarksList();
+                    outputs[key] = value ? decodeLandmarksList(value) : undefined;
+                }
+                else if (config.type === 'rect_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>)} */
+                    const value = result.getRectList();
+                    outputs[key] = value ? decodeRectList(value) : undefined;
+                }
+                else if (config.type === 'classifications_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>)} */
+                    const value = result.getClassificationsList();
+                    outputs[key] = value ? decodeClassificationsList(value) : undefined;
+                }
+                else if (config.type === 'object_detection_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ObjectDetection>)} */
+                    const value = result.getObjectDetectionList();
+                    outputs[key] = value ? decodeObjectDetectionList(value) : undefined;
+                }
+                else if (config.type === 'texture') {
+                    /** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */
+                    let helper = (/** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */ (this.outStreamHelpers[key]));
+                    if (!helper) {
+                        helper = new streamHelpers.ImageStreamHelper(this.wasm, this.gl);
+                        this.outStreamHelpers[key] = helper;
+                    }
+                    outputs[key] = helper.decode((/** @type {!tsickle_solutions_wasm_1.Texture2dData} */ (result.getTexture2d())));
+                }
+                else {
+                    throw new Error(`Unknown output config type: '${config.type}'`);
+                }
+                if (config.transform && outputs[key]) {
+                    outputs[key] = config.transform(outputs[key]);
+                }
+            }
+        }
+        return outputs;
+    }
+    /**
+     * Extracts the result from a collection of results. This tries to autodetect
+     * the type and does no transformation. Arrays will have the slightly more
+     * awkward emscripten accessors.
+     * \@TODO(mhays) Deprecate this method and always specify the type.
+     * @private
+     * @param {string} stream
+     * @param {!tsickle_solutions_wasm_1.ResultWasm} result
+     * @return {*}
+     */
+    extractWasmResult(stream, result) {
+        if (result.isNumber()) {
+            return result.getNumber();
+        }
+        if (result.isRect()) {
+            return result.getRect();
+        }
+        if (result.isLandmarks()) {
+            return result.getLandmarks();
+        }
+        if (result.isLandmarksList()) {
+            return result.getLandmarksList();
+        }
+        if (result.isClassificationsList()) {
+            return result.getClassificationsList();
+        }
+        if (result.isObjectDetectionList()) {
+            return result.getObjectDetectionList();
+        }
+        if (result.isTexture2d()) {
+            /** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */
+            let helper = (/** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */ (this.outStreamHelpers[stream]));
+            if (!helper) {
+                helper = new streamHelpers.ImageStreamHelper(this.wasm, this.gl);
+                this.outStreamHelpers[stream] = helper;
+            }
+            return helper.decode((/** @type {!tsickle_solutions_wasm_1.Texture2dData} */ (result.getTexture2d())));
+        }
+        return undefined;
+    }
+    /**
+     * Attaches a listener that will be called when the graph produces
+     * compatible packets on the named stream.
+     * @private
+     * @param {!ListenerPort} port
+     * @return {void}
+     */
+    addListenerPort(port) {
+        /** @type {string} */
+        const portName = port.name || DEFAULT_PORT_NAME;
+        /** @type {!Array<string>} */
+        const wantsCopy = [...port.wants];
+        /** @type {!tsickle_solutions_wasm_1.SimpleVector<string>} */
+        const wantsVector = new this.wasm.StringList();
+        for (const want of port.wants) {
+            wantsVector.push_back(want);
+        }
+        /** @type {{onResults: function(!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ResultWasm>): !Promise<void>}} */
+        const wasmListener = {
+            onResults: (/**
+             * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ResultWasm>} values
+             * @return {!Promise<void>}
+             */
+            (values) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+                /** @type {!WasmResultMap} */
+                const wasmResults = {};
+                for (let index = 0; index < port.wants.length; ++index) {
+                    wasmResults[wantsCopy[index]] = values.get(index);
+                }
+                /** @type {!ResultMap} */
+                const results = this.transformOutputs(wasmResults, port.outs);
+                /** @type {(undefined|function(!ResultMap): (void|!Promise<void>))} */
+                const listener = this.listeners[portName];
+                if (listener) {
+                    yield this.runningPromise;
+                    /** @type {(void|!Promise<void>)} */
+                    const result = listener(results);
+                    if (result) {
+                        this.runningPromise = result;
+                        return result;
+                    }
+                }
+            }))
+        };
+        /** @type {!tsickle_solutions_wasm_1.PacketListener} */
+        const packetListener = this.wasm.PacketListener.implement(wasmListener);
+        this.solutionWasm.attachMultiListener(wantsVector, packetListener);
+        wantsVector.delete();
+    }
+    /**
+     * Use this to connect up to one listener per port name. If port is undefined,
+     * which should be the case if there is only one, then the default port is
+     * used.
+     * @param {function(!ResultMap): (void|!Promise<void>)} listener
+     * @param {(undefined|string)=} port
+     * @return {void}
+     */
+    onResults(listener, port) {
+        port = port || DEFAULT_PORT_NAME;
+        this.listeners[port] = listener;
+    }
+}
+exports.Solution = Solution;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {string}
+     * @private
+     */
+    Solution.prototype.packagePath;
+    /**
+     * @type {function(string, string): string}
+     * @private
+     */
+    Solution.prototype.locateFile;
+    /**
+     * @type {!ListenerMap}
+     * @private
+     */
+    Solution.prototype.listeners;
+    /**
+     * @type {!tsickle_stream_helpers_2.StreamHelperMap}
+     * @private
+     */
+    Solution.prototype.inStreamHelpers;
+    /**
+     * @type {!tsickle_stream_helpers_2.StreamHelperMap}
+     * @private
+     */
+    Solution.prototype.outStreamHelpers;
+    /**
+     * @type {!HTMLCanvasElement}
+     * @private
+     */
+    Solution.prototype.glCanvas;
+    /**
+     * @type {!WebGL2RenderingContext}
+     * @private
+     */
+    Solution.prototype.gl;
+    /**
+     * @type {!tsickle_solutions_wasm_1.MediapipeWasm}
+     * @private
+     */
+    Solution.prototype.wasm;
+    /**
+     * @type {!tsickle_solutions_wasm_1.SolutionWasm}
+     * @private
+     */
+    Solution.prototype.solutionWasm;
+    /**
+     * @type {(undefined|!Array<!tsickle_solutions_wasm_1.GraphOptionChangeRequest>)}
+     * @private
+     */
+    Solution.prototype.pendingChanges;
+    /**
+     * @type {boolean}
+     * @private
+     */
+    Solution.prototype.needToInitializeWasm;
+    /**
+     * @type {boolean}
+     * @private
+     */
+    Solution.prototype.needToInitializeGraph;
+    /**
+     * @type {!Promise<void>}
+     * @private
+     */
+    Solution.prototype.runningPromise;
+    /**
+     * @type {!SolutionConfig}
+     * @private
+     */
+    Solution.prototype.config;
+}
+goog.exportSymbol('Solution', Solution);
+goog.exportSymbol('OptionType', OptionType);
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29sdXRpb25zX2FwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L21lZGlhcGlwZS93ZWIvc29sdXRpb25zL3NvbHV0aW9uc19hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNBLGlHQUFrRDs7Ozs7Ozs7QUFRbEQsZ0NBQThEOzs7OztBQUs5RCx1QkFBMEQ7Ozs7O0FBSzFELDJCQUFrRDs7Ozs7QUFLbEQsd0JBb0JDOzs7Ozs7OztJQWhCQyxnQ0FBNEI7Ozs7Ozs7O0lBUTVCLDhCQUFrQzs7Ozs7OztJQU9sQyxvQ0FBb0M7Ozs7OztBQU10QyxzQkFBd0M7Ozs7O0FBS3hDLGlDQUtDOzs7OztJQUpDLCtCQUFVOztJQUNWLCtCQUFVOztJQUNWLCtCQUFVOztJQUNWLHdDQUFvQjs7Ozs7O0FBTXRCLCtCQUEwRDs7Ozs7QUFLMUQsbUNBQWtFOzs7OztBQUtsRSw2QkFvQkM7Ozs7Ozs7O0lBaEJDLCtCQUFjOzs7OztJQUtkLCtCQUFjOzs7OztJQUtkLCtCQUFlOzs7OztJQUtmLHFDQUFxQjs7Ozs7O0FBTXZCLDJCQUFrRDs7Ozs7QUFLbEQsK0JBQTBEOzs7OztBQUsxRCxzQkFJQzs7Ozs7SUFIQyxvQkFBVTs7SUFDVixvQkFBVTs7SUFDVix3QkFBYzs7Ozs7O0FBTWhCLHNCQUlDOzs7OztJQUhDLG9CQUFVOztJQUNWLG9CQUFVOztJQUNWLG9CQUFVOzs7Ozs7OztBQVFaLHVCQUlDOzs7OztJQUhDLHNCQUFXOztJQUNYLDJCQUFpQjs7SUFDakIsMkJBQWlCOzs7Ozs7QUFNbkIscUJBQXNDOzs7OztBQUt0Qyw4QkFhQzs7Ozs7Ozs7SUFUQyw2QkFBVzs7Ozs7SUFJWCxvQ0FBd0I7Ozs7O0lBSXhCLHFDQUFtQjs7Ozs7O0FBTXJCLDRCQUFvRDs7Ozs7QUFLcEQsa0JBQWdEOzs7Ozs7QUFNaEQsd0JBRUM7Ozs7Ozs7QUFNRCw0QkFFQzs7Ozs7Ozs7QUFPRCwwQkFBdUU7Ozs7O0FBS3ZFLHdCQUE0RDs7Ozs7O0FBTTVELHNCQUFxRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JyRSx5QkFFQzs7Ozs7O0FBS0Qsb0JBRUM7Ozs7O0lBREMsb0JBQVk7Ozs7Ozs7QUFPZCwwQkFVQzs7Ozs7Ozs7SUFOQywyQkFBYTs7Ozs7SUFLYiw2QkFBZTs7Ozs7OztBQU9qQiw2QkFFQzs7Ozs7Ozs7Ozs7OztBQVlELHVCQUVDOzs7Ozs7QUFLRCxtQkFBNkU7O0FBTzdFLE1BQVksVUFBVTtJQUNwQixNQUFNLEdBQUE7SUFDTixJQUFJLEdBQUE7RUFDTDs7Ozs7Ozs7Ozs7QUFRRCwyQkFHQzs7Ozs7SUFGQyw0QkFBaUI7O0lBQ2pCLHVDQUFrQzs7Ozs7O0FBTXBDLG9CQUE0Qzs7Ozs7QUFLNUMsK0JBT0M7Ozs7O0lBTkMsa0NBQWU7O0lBQ2YsZ0NBQ3lEOztJQUd6RCxxQ0FBa0M7Ozs7Ozs7O0FBTXBDLHVDQUdDOzs7OztJQUZDLHdDQUFrQjs7SUFDbEIsNkNBQW1EOzs7Ozs7OztBQU1yRCwyQ0FHQzs7Ozs7SUFGQyw0Q0FBdUI7O0lBQ3ZCLGlEQUF1RDs7Ozs7Ozs7QUFNekQsaURBSUM7Ozs7O0lBRkMsa0RBQTZCOztJQUM3Qix1REFBbUQ7Ozs7Ozs7O0FBTXJELDhDQUdDOzs7OztJQUZDLCtDQUE4Qjs7SUFDOUIsb0RBQWdEOzs7Ozs7O0FBT2xELHFCQUV1Qzs7Ozs7O0FBTXZDLDhCQU1DOzs7Ozs7QUFLRCw4QkFFQzs7Ozs7OztBQU1ELDJCQTBCQzs7Ozs7Ozs7O0lBckJDLDRCQUFjOzs7Ozs7O0lBT2QsNkJBQWdCOzs7Ozs7O0lBT2hCLDRCQUF1Qjs7Ozs7O0lBTXZCLGlDQUF3RDs7Ozs7Ozs7OztBQVUxRCx3QkFHQzs7Ozs7SUFGQyx5QkFBZTs7SUFDZix3QkFBWTs7Ozs7O0FBTWQsNkJBb0NDOzs7Ozs7Ozs7O0lBOUJDLCtCQUFnQzs7Ozs7SUFLaEMsK0JBQWE7Ozs7OztJQU1iLGdDQUF1Qjs7Ozs7O0lBTXZCLG9DQUEyQjs7Ozs7SUFLM0IsaUNBQTBCOzs7Ozs7O0lBTzFCLG1DQUEyQjs7Ozs7O0FBTTdCLHdCQUVDOzs7Ozs7O0lBREMsb0RBQXNDOzs7Ozs7Ozs7TUFTbEMsZUFBZSxHQUFHLDhCQUE4Qjs7TUFDaEQsZ0JBQWdCLEdBQUcsc0NBQXNDOzs7TUFHekQsaUJBQWlCLEdBQUcsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUFtQ3ZCLGVBQWUsR0FBRyxJQUFJLFVBQVUsQ0FBQztJQUNyQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRyxDQUFDLEVBQUUsQ0FBQyxFQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUcsQ0FBQyxFQUFFLENBQUM7SUFDckQsQ0FBQyxFQUFFLENBQUMsRUFBRyxDQUFDLEVBQUksRUFBRSxFQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7Q0FDcEQsQ0FBQzs7Ozs7Ozs7QUFNRixTQUFTLGlCQUFpQixDQUFDLElBQVksRUFBRSxNQUFjO0lBQ3JELE9BQU8sTUFBTSxHQUFHLElBQUksQ0FBQztBQUN2QixDQUFDOzs7Ozs7Ozs7O0FBTUQsU0FBUyxTQUFTLENBQUksR0FBVyxFQUFFLEtBQVE7SUFDekMsQ0FBQyxtQ0FBQSxtQkFBQSxNQUFNLEVBQVcsRUFBc0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUN6RCxDQUFDOzs7Ozs7QUFLRCxTQUFTLFNBQVMsQ0FBQyxHQUFXO0lBQzVCLE9BQU8sQ0FBQyxtQ0FBQSxtQkFBQSxNQUFNLEVBQVcsRUFBNEIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlELENBQUM7Ozs7Ozs7QUFNRCxTQUFTLFVBQVUsQ0FBQyxHQUFXOztVQUN2QixNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDL0MsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDaEMsTUFBTSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDaEQsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEMsT0FBTyxJQUFJLE9BQU87Ozs7SUFBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQzdCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNOzs7UUFBRSxHQUFHLEVBQUU7WUFDbkMsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDLEdBQUUsS0FBSyxDQUFDLENBQUM7SUFDWixDQUFDLEVBQUMsQ0FBQztBQUNMLENBQUM7Ozs7QUFFRCxTQUFTLGNBQWM7SUFDckIsSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLEVBQUU7UUFDOUIsT0FBTyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxTQUFTLENBQ3pDLENBQUMsRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0QsR0FBRyxDQUFDO0tBQ1Q7U0FBTSxJQUFJLE9BQU8sUUFBUSxLQUFLLFdBQVcsRUFBRTtRQUMxQyxTQUFTO1FBQ1QsT0FBTyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FDbEMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hELEdBQUcsQ0FBQztLQUNUO1NBQU07UUFDTCxNQUFNLElBQUksS0FBSyxDQUNYLCtEQUErRCxDQUFDLENBQUM7S0FDdEU7QUFDSCxDQUFDOzs7OztBQUVELFNBQVMsZUFBZSxDQUFDLFNBQStDOztVQUVoRSxNQUFNLEdBQUcsRUFBRTs7VUFDWCxXQUFXLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRTtJQUNwQyxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFOztjQUMxQyxRQUFRLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNWLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNiLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNiLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNiLFVBQVUsRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTO1NBQ3JFLENBQUMsQ0FBQztLQUNKO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQzs7Ozs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxLQUF1Qzs7VUFFdkQsTUFBTSxHQUFHLEVBQUU7O1VBQ1gsV0FBVyxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUU7SUFDaEMsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRTs7Y0FDMUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQzdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDbkI7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDOzs7OztBQUVELFNBQVMsbUJBQW1CLENBQUMsT0FBaUM7O1VBQ3RELFFBQVEsR0FBRywwR0FBQSxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUM7O1VBQ2pDLGFBQWEsR0FBRyw4SkFBQSxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsRUFBQzs7VUFDM0MsbUJBQW1CLEdBQUcsMEpBQUEsT0FBTyxDQUFDLHNCQUFzQixFQUFFLEVBQUM7O1VBQ3ZELE1BQU0sR0FBRyxFQUFFO0lBQ2pCLElBQUksUUFBUSxFQUFFO1FBQ1osS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRTs7a0JBQzlDLE1BQU0sR0FBRztnQkFDYixXQUFXLEVBQUUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7Z0JBQ2hDLFNBQVMsRUFBRSxlQUFlLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDcEQsZUFBZSxFQUFFLHFCQUFxQixDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUN2RTtZQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDckI7S0FDRjtJQUNELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7Ozs7O0FBRUQsU0FBUyxtQkFBbUIsQ0FDeEIsU0FBbUQ7O1VBRS9DLE1BQU0sR0FBRyxFQUFFOztVQUNYLFdBQVcsR0FBRyxTQUFTLENBQUMsSUFBSSxFQUFFO0lBQ3BDLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxXQUFXLEVBQUUsRUFBRSxLQUFLLEVBQUU7O2NBQzFDLFFBQVEsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztRQUNyQyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0tBQ3hDO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQzs7Ozs7QUFFRCxTQUFTLHFCQUFxQixDQUMxQixlQUFpRDs7VUFDN0MsTUFBTSxHQUFHLEVBQUU7O1VBQ1gsV0FBVyxHQUFHLGVBQWUsQ0FBQyxJQUFJLEVBQUU7SUFDMUMsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRTs7Y0FDMUMsY0FBYyxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQ2pELE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDVixLQUFLLEVBQUUsY0FBYyxDQUFDLEtBQUs7WUFDM0IsS0FBSyxFQUFFLGNBQWMsQ0FBQyxLQUFLO1lBQzNCLEtBQUssRUFBRSxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTO1lBQ2pFLFdBQVcsRUFBRSxjQUFjLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzVCLFNBQVM7U0FDdkQsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDOzs7OztBQUVELFNBQVMseUJBQXlCLENBQzlCLGVBQXFEOztVQUVqRCxNQUFNLEdBQUcsRUFBRTs7VUFDWCxXQUFXLEdBQUcsZUFBZSxDQUFDLElBQUksRUFBRTtJQUMxQyxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFOztjQUMxQyxjQUFjLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDakQsTUFBTSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO0tBQ3BEO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQzs7Ozs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxRQUFnQztJQUN0RCxPQUFPO1FBQ0wsRUFBRSxFQUFFLFFBQVEsQ0FBQyxFQUFFO1FBQ2YsT0FBTyxFQUFFO1lBQ1AsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNyQixDQUFDLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JCLENBQUMsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDdEI7UUFDRCxPQUFPLEVBQUU7WUFDUCxDQUFDLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JCLENBQUMsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckIsS0FBSyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSztTQUM5QjtLQUNGLENBQUM7QUFDSixDQUFDOzs7OztBQUVELFNBQVMsa0JBQWtCLENBQ3ZCLFNBQXFDOztVQUNqQyxNQUFNLEdBQUcsRUFBRTs7VUFDWCxXQUFXLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRTtJQUNwQyxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFOztjQUMxQyxRQUFRLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztLQUN2QztJQUNELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7Ozs7O0FBRUQsU0FBUyxxQkFBcUIsQ0FDMUIsU0FBd0M7SUFDMUMsT0FBTztRQUNMLEVBQUUsRUFBRSxTQUFTLENBQUMsRUFBRTtRQUNoQixTQUFTLEVBQUUsa0JBQWtCLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztRQUNsRCxVQUFVLEVBQUUsU0FBUyxDQUFDLFVBQVU7S0FDakMsQ0FBQztBQUNKLENBQUM7Ozs7O0FBRUQsU0FBUyx5QkFBeUIsQ0FDOUIsVUFBNkM7O1VBQ3pDLE1BQU0sR0FBRyxFQUFFOztVQUNYLFdBQVcsR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFO0lBQ3JDLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxXQUFXLEVBQUUsRUFBRSxLQUFLLEVBQUU7O2NBQzFDLFNBQVMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztRQUN2QyxNQUFNLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7S0FDL0M7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBRUQsTUFBTSxhQUFhOzs7Ozs7SUFDakIsWUFDcUIsS0FBWSxFQUFtQixVQUF5QixFQUN4RCxXQUFtQjtRQURuQixVQUFLLEdBQUwsS0FBSyxDQUFPO1FBQW1CLGVBQVUsR0FBVixVQUFVLENBQWU7UUFDeEQsZ0JBQVcsR0FBWCxXQUFXLENBQVE7SUFBRyxDQUFDOzs7O0lBRXRDLGFBQWE7O1lBQ2pCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUU7O3NCQUNaLE9BQU8sR0FDVCxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDbEUsSUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFO29CQUNoQixPQUFPLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDOUI7YUFDRjtZQUNELE9BQU8sSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsQ0FBQztLQUFBO0NBQ0Y7Ozs7Ozs7SUFiSyw4QkFBNkI7Ozs7O0lBQUUsbUNBQTBDOzs7OztJQUN6RSxvQ0FBb0M7Ozs7Ozs7QUFrQjFDLDBCQUVDOzs7OztJQURDLDRCQUF3Qjs7Ozs7Ozs7QUFRMUIsMEJBRUM7Ozs7OztBQUVELFNBQWUsZUFBZTs7UUFDNUIsSUFBSTtZQUNGLE1BQU0sV0FBVyxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUNoRDtRQUFDLFdBQU07WUFDTixPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBQUE7Ozs7QUFLRCxNQUFhLFFBQVE7Ozs7SUFxQm5CLFlBQTZCLE1BQXNCO1FBQXRCLFdBQU0sR0FBTixNQUFNLENBQWdCO1FBbEJsQyxjQUFTLEdBQWdCLEVBQUUsQ0FBQztRQUM1QixvQkFBZSxHQUFrQyxFQUFFLENBQUM7UUFDcEQscUJBQWdCLEdBQWtDLEVBQUUsQ0FBQztRQVc5RCx5QkFBb0IsR0FBRyxJQUFJLENBQUM7UUFDNUIsMEJBQXFCLEdBQUcsSUFBSSxDQUFDO1FBRTdCLG1CQUFjLEdBQUcsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBR3pDLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLGlCQUFpQixDQUFDO1FBQ3JFLElBQUksQ0FBQyxXQUFXLEdBQUcsY0FBYyxFQUFFLENBQUM7SUFDdEMsQ0FBQzs7OztJQUVELEtBQUs7UUFDSCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDckIsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUM1QjtRQUNELE9BQU8sT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLENBQUM7Ozs7Ozs7SUFNYSxtQkFBbUI7O1lBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7Z0JBQzlCLE9BQU87YUFDUjtZQUNELG9EQUFvRDtZQUNwRCxTQUFTLENBQUMsZUFBZSxFQUFFLEVBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO1lBQzFELFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQzs7a0JBRXJELEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRTs7a0JBQ2pDLFlBQVksR0FBRyxNQUFNLGVBQWUsRUFBRTtZQUU1QyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUc7Ozs7WUFBQyxDQUFDLENBQUMsRUFBRTs7c0JBQ3hCLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLFlBQVksQ0FBQztvQkFDN0QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUM7Z0JBQzlCLElBQUksTUFBTSxFQUFFO29CQUNWLE9BQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztpQkFDN0Q7Z0JBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDM0IsQ0FBQyxFQUFDLENBQUMsQ0FBQzs7OztrQkFJRSxLQUFLLEdBQUcsbUhBQUEsU0FBUyxDQUFDLGVBQWUsQ0FBQyxFQUE4Qjs7a0JBQ2hFLE1BQU0sR0FBRyxzREFBQSxTQUFTLENBQUMsZ0JBQWdCLENBQUMsRUFBNEI7WUFFdEUsdUVBQXVFO1lBQ3ZFLHdFQUF3RTtZQUN4RSx3RUFBd0U7WUFDeEUsV0FBVztZQUNYLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFaEMsb0VBQW9FO1lBQ3BFLHdFQUF3RTtZQUN4RSxxREFBcUQ7WUFFckQsdUVBQXVFO1lBQ3ZFLDRCQUE0QjtZQUM1QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDakQsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUVqQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FDbkIsSUFBSSxDQUFDLFFBQVEsRUFBRSxlQUFlLENBQUMsSUFBSTtZQUNuQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFakMseUVBQXlFO1lBQ3pFLHNFQUFzRTtZQUN0RSw0QkFBNEI7WUFDNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7O2tCQUMzQyxTQUFTLEdBQ1gsSUFBSSxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQzNFLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUVoQyx1RUFBdUU7WUFDdkUseUVBQXlFO1lBQ3pFLGdDQUFnQztZQUNoQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO2dCQUN6QixLQUFLLE1BQU0sUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO29CQUM1QyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUNoQzthQUNGO1lBRUQsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQztRQUNwQyxDQUFDO0tBQUE7Ozs7Ozs7Ozs7Ozs7O0lBYUQsVUFBVSxDQUFDLE9BQW1CO1FBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTtZQUN4QixPQUFPO1NBQ1I7O2NBQ0ssY0FBYyxHQUE2QyxFQUFFO1FBQ25FLEtBQUssTUFBTSxNQUFNLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTs7O2tCQUVuQyxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1lBQ2hELElBQUksWUFBWSxFQUFFO2dCQUNoQixJQUFJLFlBQVksQ0FBQyxlQUFlLEVBQUU7OzBCQUMxQixXQUFXLEdBQUc7d0JBQ2xCLFdBQVcsRUFBRSxZQUFZLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQzs0QkFDbEQsd0JBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFVLENBQUMsQ0FBQzs0QkFDM0IsR0FBRzt3QkFDUCxZQUFZLEVBQUUsWUFBWSxDQUFDLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7NEJBQ2pELHlCQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBVyxDQUFDLENBQUM7NEJBQzVCLEtBQUs7cUJBQ1Y7OzBCQUNLLFFBQVEsR0FBRyxFQUFDLGNBQWMsRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFFLENBQUMsRUFBQzs7OzswQkFHbkQsT0FBTyxpREFDUixRQUFRLEdBQ1IsWUFBWSxDQUFDLGVBQWUsR0FDNUIsV0FBVyxDQUNmO29CQUNELGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7aUJBQzlCO2FBQ0Y7U0FDRjtRQUVELElBQUksY0FBYyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQztZQUNsQyxJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztTQUN0QztJQUNILENBQUM7Ozs7Ozs7SUFNYSxvQkFBb0I7O1lBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUU7Z0JBQy9CLE9BQU87YUFDUjs7O2tCQUVLLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7WUFDN0MsSUFBSSxDQUFDLEVBQUUsRUFBRTtnQkFDUCxLQUFLLENBQUMsaUVBQWlFLENBQUMsQ0FBQztnQkFDekUsT0FBTzthQUNSO1lBQ0QsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFFYiw4REFBOEQ7WUFDOUQsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFOztzQkFDakIsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyw0QkFBNEIsRUFBRTtnQkFDL0QsS0FBSyxNQUFNLE1BQU0sSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO29CQUN4QyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUM5QjtnQkFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDNUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNwQixJQUFJLENBQUMsY0FBYyxHQUFHLFNBQVMsQ0FBQzthQUNqQztZQUVELElBQUksQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUM7UUFDckMsQ0FBQztLQUFBOzs7O0lBRUssVUFBVTs7WUFDZCxNQUFNLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQ2pDLE1BQU0sSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDcEMsQ0FBQztLQUFBOzs7Ozs7SUFFYSxTQUFTLENBQUMsS0FBZ0I7OztrQkFDaEMsU0FBUyxHQUFHLE1BQU0sS0FBSyxDQUFDLGFBQWEsRUFBRTtZQUM3QyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN6QyxDQUFDO0tBQUE7Ozs7Ozs7Ozs7O0lBUU8sWUFBWSxDQUFDLE1BQW1CLEVBQUUsS0FBYztRQUN0RCxRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7WUFDbkIsS0FBSyxPQUFPOztvQkFDTixNQUFNLEdBQUcsNkRBQUEsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQ2I7Z0JBQ25DLElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ1gsTUFBTSxHQUFHLElBQUksYUFBYSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUNqRSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUM7aUJBQzlDO2dCQUNELE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQywwRUFBQSxLQUFLLEVBQWMsQ0FBQyxDQUFDO1lBQzVDO2dCQUNFLE9BQU8sRUFBRSxDQUFDO1NBQ2I7SUFDSCxDQUFDOzs7Ozs7Ozs7O0lBUUssSUFBSSxDQUFDLE1BQWdCLEVBQUUsRUFBVzs7WUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO2dCQUN2QixPQUFPO2FBQ1I7O2tCQUNLLFNBQVMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBRWxELE1BQU0sSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUMxQixNQUFNLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQzs7a0JBQ2xCLGFBQWEsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ3BELEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTs7c0JBQy9CLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7Z0JBQzNDLElBQUksV0FBVyxFQUFFOzs7OzswQkFJVCxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDOzswQkFDbkQsTUFBTSxHQUFHLFdBQVcsQ0FBQyxNQUFNO29CQUNqQyxhQUFhLENBQUMsYUFBYSxDQUN2Qix5RkFBSSxLQUFLLEtBQUUsTUFBTSxFQUFFLFNBQVMsS0FBZ0MsQ0FBQyxDQUFDO2lCQUNuRTthQUNGO1lBQ0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDdEMsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3pCLENBQUM7S0FBQTs7Ozs7OztJQUVPLGdCQUFnQixDQUFDLE9BQXNCLEVBQUUsU0FBMkI7UUFFMUUsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNkLE9BQU8sT0FBTyxDQUFDO1NBQ2hCOztjQUNLLE9BQU8sR0FBYyxFQUFFO1FBQzdCLEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTs7a0JBQ2xDLE1BQU0sR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQzdCLElBQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFO2dCQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzthQUM3RDtpQkFBTTs7c0JBQ0MsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNyQyxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7b0JBQ3hCLFNBQVM7aUJBQ1Y7Z0JBQ0QsSUFBSSxNQUFNLENBQUMsSUFBSSxLQUFLLGdCQUFnQixFQUFFO29CQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQzVDO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7OzBCQUNoQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFlBQVksRUFBRTtvQkFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQzNEO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxnQkFBZ0IsRUFBRTs7MEJBQ3JDLEtBQUssR0FBRyxNQUFNLENBQUMsZ0JBQWdCLEVBQUU7b0JBQ3ZDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQy9EO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7OzBCQUNoQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFdBQVcsRUFBRTtvQkFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQzFEO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxzQkFBc0IsRUFBRTs7MEJBQzNDLEtBQUssR0FBRyxNQUFNLENBQUMsc0JBQXNCLEVBQUU7b0JBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQ3JFO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyx1QkFBdUIsRUFBRTs7MEJBQzVDLEtBQUssR0FBRyxNQUFNLENBQUMsc0JBQXNCLEVBQUU7b0JBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQ3JFO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxTQUFTLEVBQUU7O3dCQUNoQyxNQUFNLEdBQ04sNkRBQUEsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxFQUFtQztvQkFDakUsSUFBSSxDQUFDLE1BQU0sRUFBRTt3QkFDWCxNQUFNLEdBQUcsSUFBSSxhQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQ2pFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7cUJBQ3JDO29CQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLHlEQUFBLE1BQU0sQ0FBQyxZQUFZLEVBQUUsRUFBQyxDQUFDLENBQUM7aUJBQ3REO3FCQUFNO29CQUNMLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO2lCQUNqRTtnQkFDRCxJQUFJLE1BQU0sQ0FBQyxTQUFTLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztpQkFDL0M7YUFDRjtTQUNGO1FBQ0QsT0FBTyxPQUFPLENBQUM7SUFDakIsQ0FBQzs7Ozs7Ozs7Ozs7SUFRTyxpQkFBaUIsQ0FBQyxNQUFjLEVBQUUsTUFBZ0M7UUFFeEUsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDckIsT0FBTyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDM0I7UUFDRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNuQixPQUFPLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUN6QjtRQUNELElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFO1lBQ3hCLE9BQU8sTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDO1NBQzlCO1FBQ0QsSUFBSSxNQUFNLENBQUMsZUFBZSxFQUFFLEVBQUU7WUFDNUIsT0FBTyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztTQUNsQztRQUNELElBQUksTUFBTSxDQUFDLHFCQUFxQixFQUFFLEVBQUU7WUFDbEMsT0FBTyxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztTQUN4QztRQUNELElBQUksTUFBTSxDQUFDLHFCQUFxQixFQUFFLEVBQUU7WUFDbEMsT0FBTyxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztTQUN4QztRQUNELElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFOztnQkFDcEIsTUFBTSxHQUNOLDZEQUFBLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsRUFBbUM7WUFDcEUsSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDWCxNQUFNLEdBQUcsSUFBSSxhQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ2pFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUM7YUFDeEM7WUFDRCxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMseURBQUEsTUFBTSxDQUFDLFlBQVksRUFBRSxFQUFDLENBQUMsQ0FBQztTQUM5QztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7Ozs7Ozs7O0lBTU8sZUFBZSxDQUFDLElBQWtCOztjQUNsQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxpQkFBaUI7O2NBQ3pDLFNBQVMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQzs7Y0FDM0IsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7UUFDOUMsS0FBSyxNQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQzdCLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7O2NBQ0ssWUFBWSxHQUFHO1lBQ25CLFNBQVM7Ozs7WUFBRSxDQUFNLE1BQW9DLEVBQWlCLEVBQUU7O3NCQUNoRSxXQUFXLEdBQWtCLEVBQUU7Z0JBQ3JDLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRTtvQkFDdEQsV0FBVyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ25EOztzQkFDSyxPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDOztzQkFDdkQsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO2dCQUN6QyxJQUFJLFFBQVEsRUFBRTtvQkFDWixNQUFNLElBQUksQ0FBQyxjQUFjLENBQUM7OzBCQUNwQixNQUFNLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztvQkFDaEMsSUFBSSxNQUFNLEVBQUU7d0JBQ1YsSUFBSSxDQUFDLGNBQWMsR0FBRyxNQUFNLENBQUM7d0JBQzdCLE9BQU8sTUFBTSxDQUFDO3FCQUNmO2lCQUNGO1lBQ0gsQ0FBQyxDQUFBLENBQUE7U0FDRjs7Y0FDSyxjQUFjLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQztRQUN2RSxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUNuRSxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdkIsQ0FBQzs7Ozs7Ozs7O0lBT0QsU0FBUyxDQUFDLFFBQTJCLEVBQUUsSUFBYTtRQUNsRCxJQUFJLEdBQUcsSUFBSSxJQUFJLGlCQUFpQixDQUFDO1FBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDO0lBQ2xDLENBQUM7Q0FDRjtBQXJYRCw0QkFxWEM7Ozs7Ozs7SUFwWEMsK0JBQXFDOzs7OztJQUNyQyw4QkFBMkM7Ozs7O0lBQzNDLDZCQUE2Qzs7Ozs7SUFDN0MsbUNBQXFFOzs7OztJQUNyRSxvQ0FBc0U7Ozs7O0lBR3RFLDRCQUFxQzs7Ozs7SUFDckMsc0JBQW9DOzs7OztJQUNwQyx3QkFBMkM7Ozs7O0lBQzNDLGdDQUFrRDs7Ozs7SUFHbEQsa0NBQWtFOzs7OztJQUVsRSx3Q0FBb0M7Ozs7O0lBQ3BDLHlDQUFxQzs7Ozs7SUFFckMsa0NBQTJDOzs7OztJQUUvQiwwQkFBdUM7O0FBa1dyRCxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUN4QyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHNvbHV0aW9uc1dhc20gZnJvbSAnLi9zb2x1dGlvbnNfd2FzbSc7XG5pbXBvcnQgKiBhcyBzdHJlYW1IZWxwZXJzIGZyb20gJy4vc3RyZWFtX2hlbHBlcnMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgcGFpcnMgb2YgKHN0YXJ0LGVuZCkgaW5kZXhlcyBzbyB0aGF0IHdlIGNhbiBjb25uZWN0IGxhbmRtYXJrc1xuICogd2l0aCBsaW5lcyB0byBwcm92aWRlIGEgc2tlbGV0b24gd2hlbiB3ZSBkcmF3IHRoZSBwb2ludHMuIFRoZXNlIGFyZSBkZWZpbmVkXG4gKiB3aXRoaW4gZWFjaCBzcGVjaWZpYyBzb2x1dGlvbiwgYnV0IGEgY29tbW9uIGRlZmluaXRpb24gaXMgaGVsZCBoZXJlIGZvclxuICogY29udmVuaWVuY2UuXG4gKi9cbmV4cG9ydCB0eXBlIExhbmRtYXJrQ29ubmVjdGlvbkFycmF5ID0gQXJyYXk8W251bWJlciwgbnVtYmVyXT47XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIG5vcm1hbGl6ZWQgcmVjdGFuZ2xlIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBhIFN0cmVhbUxpc3RlbmVyLlxuICovXG5leHBvcnQgdHlwZSBOb3JtYWxpemVkUmVjdCA9IHNvbHV0aW9uc1dhc20uTm9ybWFsaXplZFJlY3Q7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGxpc3Qgb2Ygbm9ybWFsaXplZCByZWN0YW5nbGVzLlxuICovXG5leHBvcnQgdHlwZSBOb3JtYWxpemVkUmVjdExpc3QgPSBOb3JtYWxpemVkUmVjdFtdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBkZXRlY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV0ZWN0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBib3VuZGluZyBib3ggYXJvdW5kIHRoZSBkZXRlY3Rpb24uXG4gICAqL1xuICBib3VuZGluZ0JveDogTm9ybWFsaXplZFJlY3Q7XG5cbiAgLyoqXG4gICAqIFRoZSBhc3NvY2lhdGVkIGxhbmRtYXJrcy5cbiAgICpcbiAgICogTWF5IGJlIGVtcHR5LiBUaGlzIGlzIHR5cGljYWxseSBmaWxsZWQgZm9yIGUuZy4gZmFjZSwgaGFuZHMgb3IgcG9zZVxuICAgKiBkZXRlY3Rpb24gdXNlIGNhc2VzLlxuICAgKi9cbiAgbGFuZG1hcmtzOiBOb3JtYWxpemVkTGFuZG1hcmtMaXN0O1xuXG4gIC8qKlxuICAgKiBUaGUgYXNzb2NpYXRlZCBjbGFzc2lmaWNhdGlvbnMuXG4gICAqXG4gICAqIE1heSBiZSBlbXB0eS4gVGhpcyBpcyB0eXBpY2FsbHkgZmlsbGVkIGZvciBlLmcuIG9iamVjdCBkZXRlY3Rpb24gdXNlIGNhc2VzLlxuICAgKi9cbiAgY2xhc3NpZmljYXRpb25zOiBDbGFzc2lmaWNhdGlvbkxpc3Q7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGxpc3Qgb2YgZGV0ZWN0aW9ucy5cbiAqL1xuZXhwb3J0IHR5cGUgRGV0ZWN0aW9uTGlzdCA9IERldGVjdGlvbltdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBkZXRlY3RlZCBsYW5kbWFyay5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOb3JtYWxpemVkTGFuZG1hcmsge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgejogbnVtYmVyO1xuICB2aXNpYmlsaXR5PzogbnVtYmVyO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBsaXN0IG9mIGxhbmRtYXJrcy5cbiAqL1xuZXhwb3J0IHR5cGUgTm9ybWFsaXplZExhbmRtYXJrTGlzdCA9IE5vcm1hbGl6ZWRMYW5kbWFya1tdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBsaXN0IG9mIGxpc3RzIG9mIGxhbmRtYXJrcy5cbiAqL1xuZXhwb3J0IHR5cGUgTm9ybWFsaXplZExhbmRtYXJrTGlzdExpc3QgPSBOb3JtYWxpemVkTGFuZG1hcmtMaXN0W107XG5cbi8qKlxuICogQSBjbGFzcyBsYWJlbCB3aXRoIHNjb3JlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENsYXNzaWZpY2F0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY2xhc3MgaW4gdGhlIGNvcnJlc3BvbmRpbmcgbGFiZWwgbWFwLlxuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHByb2JhYmlsaXR5IHNjb3JlIGZvciB0aGlzIGNsYXNzLlxuICAgKi9cbiAgc2NvcmU6IG51bWJlcjtcblxuICAvKipcbiAgICogTGFiZWwgb3IgbmFtZSBvZiB0aGUgY2xhc3MuXG4gICAqL1xuICBsYWJlbD86IHN0cmluZztcblxuICAvKipcbiAgICogRGlzcGxheSBuYW1lIG9mIHRoZSBjbGFzcywgZm9yIHZpc3VhbGl6YXRpb24gcHVycG9zZXMuXG4gICAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBIGxpc3Qgb2YgY2xhc3NpZmljYXRpb25zLlxuICovXG5leHBvcnQgdHlwZSBDbGFzc2lmaWNhdGlvbkxpc3QgPSBDbGFzc2lmaWNhdGlvbltdO1xuXG4vKipcbiAqIE11bHRpcGxlIGxpc3RzIG9mIGNsYXNzaWZpY2F0aW9ucy5cbiAqL1xuZXhwb3J0IHR5cGUgQ2xhc3NpZmljYXRpb25MaXN0TGlzdCA9IENsYXNzaWZpY2F0aW9uTGlzdFtdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBzaW5nbGUgbm9ybWFsaXplZCBsYW5kbWFyaywgd2l0aCBkZXB0aC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQb2ludDJEIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIGRlcHRoOiBudW1iZXI7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHBvaW50IGluIDNEIHNwYWNlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50M0Qge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgejogbnVtYmVyO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBwYXJ0aWN1bGFyIGtleXBvaW50IGZyb20gYW4gb2JqZWN0IGRldGVjdGlvbi4gVGhlIGlkIGRlbm90ZXNcbiAqIHdoaWNoIGtleXBvaW50IHRoaXMgaXMgKGNvbnNpc3RlbnQgb3ZlciB0aW1lKSwgYW5kIHRoZW4gdHdvIHJlcHJlc2VudGF0aW9uc1xuICogYXJlIGluY2x1ZGVkIGZvciB0aGlzIHBvaW50LCBhIDJEIG5vcm1hbGl6ZWQgdmVyc2lvbiwgYW5kIGEgM0QgdmVyc2lvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBLZXlwb2ludCB7XG4gIGlkOiBudW1iZXI7XG4gIHBvaW50M2Q6IFBvaW50M0Q7XG4gIHBvaW50MmQ6IFBvaW50MkQ7XG59XG5cbi8qKlxuICogTGlzdCBvZiBrZXlwb2ludHMuXG4gKi9cbmV4cG9ydCB0eXBlIEtleXBvaW50TGlzdCA9IEtleXBvaW50W107XG5cbi8qKlxuICogVGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIGFib3V0IGEgcGFydGljdWxhciBvYmplY3QgZGV0ZWN0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdERldGVjdGlvbiB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIG9iamVjdCBpbnN0YW5jZSBpZGVudGlmaWVyLlxuICAgKi9cbiAgaWQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGtleXBvaW50cyBmb3IgdGhpcyBkZXRlY3Rpb24gKDggZm9yIGEgM0QgYm91bmRpbmcgYm94KS5cbiAgICovXG4gIGtleXBvaW50czogS2V5cG9pbnRMaXN0O1xuICAvKipcbiAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhpcyBvYmplY3QgZGV0ZWN0aW9uIGluIGEgZnJhbWUuXG4gICAqL1xuICB2aXNpYmlsaXR5OiBudW1iZXI7XG59XG5cbi8qKlxuICogTGlzdCBvZiBvYmplY3QgZGV0ZWN0aW9ucy5cbiAqL1xuZXhwb3J0IHR5cGUgT2JqZWN0RGV0ZWN0aW9uTGlzdCA9IE9iamVjdERldGVjdGlvbltdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gaW1hZ2UgcHJvZHVjZWQgYnkgdGhlIGdyYXBoLlxuICovXG5leHBvcnQgdHlwZSBHcHVCdWZmZXIgPSBzdHJlYW1IZWxwZXJzLkdwdUJ1ZmZlcjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIHJlc3VsdCBvZiBhIG11bHRpIHJlc3VsdCBsaXN0ZW5lci4gVGhlIHNoYXBlIGlzXG4gKiB0cmFuc2Zvcm1lZCBpbnRvIGEgc2hhcGUgdGhhdCB0aGUgZW5kIHVzZXIgY2FuIGNvbnN1bWUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0TWFwIHtcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIHJlc3VsdCBvZiBhIG11bHRpIHJlc3VsdCBsaXN0ZW5lci4gVGhlIHNoYXBlIGlzIHRoZVxuICogd2FzbSBjbGFzcyBmcm9tIHdoaWNoIHdlIGNhbiBwdWxsIG91dCBkaWZmZXJlbnQga2luZHMgb2YgZGF0YS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXYXNtUmVzdWx0TWFwIHtcbiAgW2tleTogc3RyaW5nXTogc29sdXRpb25zV2FzbS5SZXN1bHRXYXNtO1xufVxuXG4vKipcbiAqIFRoaXMgcmVwcmVzZW50cyB0aGUgY2FsbGJhY2tzIGZyb20gdGhlIGdyYXBoJ3Mgc3RyZWFtIGxpc3RlbmVycy4gSWYgdGhlXG4gKiBsaXN0ZW5lciBuZWVkcyB0byBkbyBhc3luY2hyb25vdXMgd29yaywgcmV0dXJuIGEgUHJvbWlzZSB0byBhbGxvdyB0aGVcbiAqIHNvbHV0aW9uIHRvIHdhaXQuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3VsdE1hcExpc3RlbmVyID0gKG1hcDogUmVzdWx0TWFwKSA9PiBQcm9taXNlPHZvaWQ+fHZvaWQ7XG5cbi8qKlxuICogT3B0aW9uIGRlc2NyaXB0aW9ucyB0aGF0IGRlc2NyaWJlIHdoZXJlIHRvIGNoYW5nZSBhbiBvcHRpb24gaW4gYSBncmFwaC5cbiAqL1xuZXhwb3J0IHR5cGUgR3JhcGhPcHRpb25YUmVmID0gc29sdXRpb25zV2FzbS5HcmFwaE9wdGlvblhSZWY7XG5cbi8qKlxuICogSWYgeW91ciBmaWxlcyBhcmUgb3JnYW5pemVkIGluIHNvbWUgd2VpcmQgc3RydWN0dXJlLCB5b3UgY2FuIGN1c3RvbWl6ZSBob3dcbiAqIHRoZSBwYXRoIGlzIGNvbnN0cnVjdGVkIGJ5IHNlbmRpbmcgdGhpcyB0byB0aGUgY29uZmlnIG9wdGlvbnMgZm9yIFNvbHV0aW9uLlxuICovXG5leHBvcnQgdHlwZSBGaWxlTG9jYXRvckZuID0gKGZpbGU6IHN0cmluZywgcHJlZml4OiBzdHJpbmcpID0+IHN0cmluZztcblxuLyoqXG4gKiBVc2VycyBvZiB0aGUgc29sdXRpb24gc2V0IG9wdGlvbnMgdXNpbmcgYSBrZXktdmFsdWUgbWFwLiBIb3dldmVyLCBzcGVjaWZpY1xuICogc29sdXRpb25zIHdpbGwgY29uc3RyYWluIHRoZSBvcHRpb25zIHdpdGggYW4gZXhwb3J0ZWQgaW50ZXJmYWNlLlxuICpcbiAqIGUuZy5cbiAqXG4gKiBnZW5lcmFsU29sdXRpb24uc2V0T3B0aW9ucyh7XCJteUtleVwiOiBteVZhbHVlfSkgYmVjb21lc1xuICogc3BlY2lmaWNTb2x1dGlvbi5zZXRPcHRpb25zKHsgbXlLZXk6IG15VmFsdWUgfX1cbiAqXG4gKiBkZWNsYXJlIGludGVyZmFjZSBTcGVjaWZpY1NvbHV0aW9uT3B0aW9uTGlzdCB7XG4gKiAgIG15S2V5OiBudW1iZXJcbiAqIH07XG4gKlxuICogVGhpcyB3b3JrcyBiZWNhdXNlIGBPYmplY3RgcyBpbiBKYXZhU2NyaXB0IGFyZSBqdXN0IGhhc2htYXBzLCBhbmQgd2UgZml0XG4gKiBtZWFuaW5nIG9uIHRvcCBvZiB0aG9zZSBoYXNobWFwcyB3aXRoIG91ciB0eXBlIGRlY2xhcmF0aW9ucy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpb25MaXN0IHtcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuLyoqXG4gKiBVc2VkIGluIHRoZSBjb25zdHJ1Y3RvciBvZiBHcmFwaC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHcmFwaCB7XG4gIHVybDogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyBob3cgdG8gdHVybiB1c2VyIGlucHV0IChTZWUgSW5wdXRNYXApIGludG8gZGF0YSB0aGUgZ3JhcGggY2FuXG4gKiBjb25zdW1lLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFByb3ZpZGVzIGRpcmVjdGlvbiBvbiBob3cgdG8gaW50ZXJwcmV0IHRoZSBgdmFsdWVgIG9mIHRoZSBJbnB1dE1hcC5cbiAgICovXG4gIHR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGlucHV0IHN0cmVhbSBvZiB0aGUgZ3JhcGggdGhhdCB3aWxsIHJlY2VpdmUgdGhlIGlucHV0LlxuICAgKi9cbiAgc3RyZWFtOiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIGZ1bGwgZGVzY3JpcHRpb24gb2YgYWxsIHRoZSBpbnB1dHMgdGhhdCB3aWxsIGJlIGV4cG9zZWQgdG8gdGhlIHVzZXIuIFRoZVxuICoga2V5IGlzIHRoZSBuYW1lIG9mIHRoZSBpbnB1dCBhIHVzZXIgd2lsbCB1c2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRDb25maWdNYXAge1xuICBba2V5OiBzdHJpbmddOiBJbnB1dENvbmZpZztcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGlucHV0cyB0aGF0IHRoZSB1c2VyIHdpbGwgc2VuZCB0byB0aGUgZ3JhcGguIGB1bmtub3duYCBhbGxvd3NcbiAqIHVzZXJzIHRvIGRvIGFsbCBzb3J0cyBvZiB0aGluZ3MsIGZyb20gdXNpbmcgSFRNTFZpZGVvRWxlbWVudHMgdG8gbnVtYmVycyB0b1xuICogd2hhdGV2ZXIgZWxzZSB3ZSBuZWVkLiBTZWUgYHByZXBhcmVJbnB1dGAgdG8gc2VlIGhvdyB0aGlzIHVua25vd24gaXMgdHVybmVkXG4gKiBpbnRvIHN0cnVjdHVyYWwgZGF0YSB0aGF0IGNhbiBiZSBzZW50IHRvIHRoZSBncmFwaC5cbiAqXG4gKiBUaGUgc3BlY2lmaWMgc29sdXRpb24gc2hvdWxkIHN1cHBseSBhIHN0cm9uZ2VyIGludGVyZmFjZSB0aGF0IHdpbGwgYmUgdXNlZFxuICogaW5zdGVhZCBvZiB0aGlzIGdlbmVyaWMga2V5bWFwLCAgSW4gdGhpcyB3YXksIHRoZSBzb2x1dGlvbiBkZXNpZ25lciBjYW5cbiAqIG5hbWUgdmVyeSBzcGVjaWZpYyBpbnB1dHMgYW5kIGV4YWN0bHkgd2hhdCBpcyBleHBlY3RlZCBpbiB0aGF0IElucHV0TWFwLidcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dE1hcCB7XG4gIFtrZXk6IHN0cmluZ106IHVua25vd247XG59XG5cbi8qKlxuICogV2Ugc3VwcG9ydCBzZXZlcmFsIHdheXMgdG8gZ2V0IGltYWdlIGlucHV0cy5cbiAqL1xuZXhwb3J0IHR5cGUgSW5wdXRJbWFnZSA9IEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudDtcblxuLyoqXG4gKiBEZXNjcmliZXMgaG93IHRvIGludGVycHJldCBPcHRpb25Db25maWcuIEBzZWUgR3JhcGhPcHRpb25DaGFuZ2VSZXF1ZXN0LlxuICogZS5nLiwgQSBOVU1CRVIgdGVsbHMgdXMgdG8gZmlsbCBvdXQgdmFsdWVOdW1iZXIgKHdoaWNoIGdldHMgaW50ZXJwcmV0ZWQgYXNcbiAqIGEgZG91YmxlIG9uIHRoZSBDKysgc2lkZSkuIFdlIHdpbGwgYWRkIG90aGVyIHR5cGVzIGhlcmUgYXMgdGhlIG5lZWQgYXJpc2VzLlxuICovXG5leHBvcnQgZW51bSBPcHRpb25UeXBlIHtcbiAgTlVNQkVSLFxuICBCT09MLFxufVxuXG4vKipcbiAqIFVzZWQgdG8gcmVnaXN0ZXIga2V5cyB3aXRoIHRoZSBzb2x1dGlvbi4gUmlnaHQgbm93IGl0IGlzIGxpbWl0ZWQgdG9cbiAqIGdyYXBoT3B0aW9uWHJlZiwgd2hpY2ggaXMgc3BlY2lmaWNhbGx5IGZvciBvcHRpb25zIHRoYXQgd2lsbCBiZSBmZWQgdG8gdGhlXG4gKiBNZWRpYVBpcGUgZ3JhcGgsIGJ1dCB3ZSdsbCBhbHNvIG5lZWQgb3B0aW9ucyB0aGF0IGFyZSBoYW5kbGVkIGJ5IHRoZSBzcGVjaWZpY1xuICogc29sdXRpb24gdG8gZG8gd29yayAoZS5nLiwgc2VsZmllLWZsaXBwaW5nKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpb25Db25maWcge1xuICB0eXBlOiBPcHRpb25UeXBlO1xuICBncmFwaE9wdGlvblhyZWY/OiBHcmFwaE9wdGlvblhSZWY7XG59XG5cbi8qKlxuICogT3B0aW9uYWxseSBzcGVjaWZpZWQgaW4gdGhlIG91dHB1dCB0byB0cmFuc2Zvcm0gdGhlIG91dHB1dC5cbiAqL1xuZXhwb3J0IHR5cGUgVHJhbnNmb3JtZXI8VCwgTz4gPSAoeDogVCkgPT4gTztcblxuLyoqXG4gKiBPdXRwdXQgY29uZmlndXJhdGlvbiB3aXRob3V0IGEgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dENvbmZpZ0Jhc2Uge1xuICBzdHJlYW06IHN0cmluZztcbiAgdHlwZTogJ2xhbmRtYXJrcyd8J2xhbmRtYXJrc19saXN0J3wnY2xhc3NpZmljYXRpb25zX2xpc3QnfFxuICAgICAgJ29iamVjdF9kZXRlY3Rpb25fbGlzdCd8J3JlY3RfbGlzdCd8J2RldGVjdGlvbl9saXN0JztcbiAgLy8gSW50ZW50aW9uYWwgYGFueWAgYWxsb3dzIGRlcml2ZWQgY2xhc3NlcyB0byBzdXBwb3J0IGN1c3RvbSB0cmFuc2Zvcm1lcnMuXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgdHJhbnNmb3JtPzogVHJhbnNmb3JtZXI8YW55LCBhbnk+O1xufVxuXG4vKipcbiAqIE91dHB1dCBjb25maWcgd2l0aCB0eXBlIHNhZmV0eSBmb3IgYSBsaXN0IG9mIGxhbmRtYXJrcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPdXRwdXRDb25maWdMYW5kbWFya0xpc3Q8VD4gZXh0ZW5kcyBPdXRwdXRDb25maWdCYXNlIHtcbiAgdHlwZTogJ2xhbmRtYXJrcyc7XG4gIHRyYW5zZm9ybT86IFRyYW5zZm9ybWVyPE5vcm1hbGl6ZWRMYW5kbWFya0xpc3QsIFQ+O1xufVxuXG4vKipcbiAqIE91dHB1dCBjb25maWcgd2l0aCB0eXBlIHNhZmV0eSBmb3IgYSBsaXN0IG9mIGxhbmRtYXJrIGxpc3RzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dENvbmZpZ0xhbmRtYXJrTGlzdExpc3Q8VD4gZXh0ZW5kcyBPdXRwdXRDb25maWdCYXNlIHtcbiAgdHlwZTogJ2xhbmRtYXJrc19saXN0JztcbiAgdHJhbnNmb3JtPzogVHJhbnNmb3JtZXI8Tm9ybWFsaXplZExhbmRtYXJrTGlzdExpc3QsIFQ+O1xufVxuXG4vKipcbiAqIE91dHB1dCBjb25maWcgd2l0aCB0eXBlIHNhZmV0eSBmb3IgYSBsaXN0IG9mIGNsYXNzaWZpY2F0aW9uIGxpc3RzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dENvbmZpZ0NsYXNzaWZpY2F0aW9uTGlzdExpc3Q8VD4gZXh0ZW5kc1xuICAgIE91dHB1dENvbmZpZ0Jhc2Uge1xuICB0eXBlOiAnY2xhc3NpZmljYXRpb25zX2xpc3QnO1xuICB0cmFuc2Zvcm0/OiBUcmFuc2Zvcm1lcjxDbGFzc2lmaWNhdGlvbkxpc3RMaXN0LCBUPjtcbn1cblxuLyoqXG4gKiBPdXRwdXQgY29uZmlnIHdpdGggdHlwZSBzYWZldHkgZm9yIGFuIG9iamVjdCBkZXRlY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0Q29uZmlnT2JqZWN0RGV0ZWN0aW9uTGlzdDxUPiBleHRlbmRzIE91dHB1dENvbmZpZ0Jhc2Uge1xuICB0eXBlOiAnb2JqZWN0X2RldGVjdGlvbl9saXN0JztcbiAgdHJhbnNmb3JtPzogVHJhbnNmb3JtZXI8T2JqZWN0RGV0ZWN0aW9uTGlzdCwgVD47XG59XG5cbi8qKlxuICogV2hlbiBzcGVjaWZ5aW5nIG91dHB1dHMsIGNhc3QgdG8gT3V0cHV0Q29uZmlnPFQ+IHRvIGdldCB0eXBlIHNhZmV0eSBiZXR3ZWVuXG4gKiB0aGUgYHR5cGVgIGFuZCB0aGUgYHRyYW5zZm9ybWAuXG4gKi9cbmV4cG9ydCB0eXBlIE91dHB1dENvbmZpZzxUPiA9IE91dHB1dENvbmZpZ0xhbmRtYXJrTGlzdDxUPnxcbiAgICBPdXRwdXRDb25maWdMYW5kbWFya0xpc3RMaXN0PFQ+fE91dHB1dENvbmZpZ0NsYXNzaWZpY2F0aW9uTGlzdExpc3Q8VD58XG4gICAgT3V0cHV0Q29uZmlnT2JqZWN0RGV0ZWN0aW9uTGlzdDxUPjtcblxuLyoqXG4gKiBUcmFuc2xhdGlvbiBtYXAgdG8gZXhwb3NlIHVuZGVybHlpbmcgc3RyZWFtcyB0byB0aGUgdXNlci4gQSBzb2x1dGlvblxuICogZGVzaWduZXIgc2hvdWxkIGRlY2xhcmUgYSB0eXBlIHRvIGNvbnN0cmFpbiB0aGUgc2hhcGUgb2YgdGhlIG91dHB1dHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0Q29uZmlnTWFwIHtcbiAgLy8gVG9kYXkgdGhlIHZhbHVlIGlzIGEgc3RyaW5nLCB3aGljaCBhbGxvd3MgdXMgdG8gbWFwIGFuIGludGVybmFsIHN0cmVhbSBuYW1lXG4gIC8vIHRvIGEgZnJpZW5kbGllciwgZXh0ZXJuYWxseSB2aXNpYmxlIG5hbWUuIEluIHRoZSBuZWFyIGZ1dHVyZSBpdCB3aWxsIGJlIGFuXG4gIC8vIE9iamVjdCB0byBhbGxvdyBjb21wbGV4IHN0cnVjdHVyZXMsIG9yIGEgZnVuY3Rpb24sIHRvIGFsbG93IGNhbGN1bGF0ZWRcbiAgLy8gdmFsdWVzLlxuICBba2V5OiBzdHJpbmddOiBzdHJpbmd8T3V0cHV0Q29uZmlnQmFzZTtcbn1cblxuLyoqXG4gKiBUaGUgY29sbGVjdGlvbiBvZiBvcHRpb24gY29uZmlndXJhdGlvbiBlbnRyaWVzLCBhcnJhbmdlZCBieSBvcHRpb24gbmFtZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpb25Db25maWdNYXAge1xuICBbb3B0aW9uTmFtZTogc3RyaW5nXTogT3B0aW9uQ29uZmlnO1xufVxuXG4vKipcbiAqIEJpbmRzIHRoZSBzdHJlYW1zIHRvIGEgc2V0IG9mIGxpc3RlbmVycyB0aGF0IGNhbiBiZSBzdXJmYWNlZCB0byB0aGVcbiAqIGRldmVsb3Blci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0ZW5lclBvcnQge1xuICAvKipcbiAgICogSWYgdGhlcmUgaXMgb25seSBvbmUgcmVnaXN0cmF0aW9uLCB0aGUgbmFtZSBjYW4gYmUgb21pdHRlZC4gU2VlIG9uUmVzdWx0c1xuICAgKiBmb3IgbW9yZSBkaXNjdXNzaW9uLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHN0cmVhbXMgaW4gdGhlIGdyYXBoIHRoYXQgd2lsbCBiZSBjb21iaW5lZCBpbnRvIGEgSGFzaE1hcFxuICAgKiB3aGljaCB3aWxsIGJlIGFzc2VtYmxlZCBhbmQgZGVsaXZlcmVkIHRvIGxpc3RlbmVycyB0aGF0IHRoZSBlbmQgdXNlclxuICAgKiBjYW4gbGlzdGVuIHRvLlxuICAgKi9cbiAgd2FudHM6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHJlc3VsdHMgdG8gYmUgdHJhbnNmb3JtZWQgaW50byBsaXRlcmFsbHkgYW55IGtpbmQgb2Ygc2hhcGUuIEl0XG4gICAqIGlzIHVwIHRvIHRoZSBzb2x1dGlvbiBjcmVhdG9yIHRvIGV4cG9zZSB0aGlzIHR5cGUgaW5mb3JtYXRpb24gdGhyb3VnaFxuICAgKiBhbiBvblJlc3VsdHMgc3BlY2lhbGl6YXRpb24uXG4gICAqL1xuICBvdXRzPzogT3V0cHV0Q29uZmlnTWFwO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdHJhbnNmb3JtYXRpb24gb2YgYG91dHNgIGJlZm9yZSBoYW5kaW5nIHRoZSByZXN1bHRzIGJhY2sgdG8gdGhlXG4gICAqIGxpc3RlbmVyLiBBbGxvd3MgZmluYWwgY3JlYXRpdmUgY29udHJvbCBvZiB0aGUgc2hhcGUgb2YgdGhlIG91dHB1dC5cbiAgICovXG4gIHRyYW5zZm9ybT86IChpbnB1dDogT3V0cHV0Q29uZmlnTWFwKSA9PiBPdXRwdXRDb25maWdNYXA7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgZmlsZSB0aGF0IHNob3VsZCBiZSBsb2FkZWQgYnkgdGhlIHNvbHV0aW9uLiBXZSBjYW4gaW5jbHVkZSBmbGFnc1xuICogZm9yIGNoZWNrcyB0aGF0IHNob3VsZCBiZSBkb25lIGJlZm9yZSBsb2FkaW5nIGEgZmlsZS4gQ3VycmVudGx5LCB3ZSBhbGxvd1xuICogYSB1c2VyIHRvIHByb3ZpZGUgc3BlY2lhbCBmaWxlcyB0aGF0IGFyZSBvbmx5IHByb3ZpZGVkIGlmIFNJTUQgaXNcbiAqIHNwZWNpZmljYWxseSBzdXBwb3J0ZWQgb3Igbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3NlciAoZG8gbm90IGluY2x1ZGUgdGhlXG4gKiBzaW1kIGZsYWcgaWYgeW91IGRvIG5vdCBjYXJlKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlRW50cnkge1xuICBzaW1kPzogYm9vbGVhbjtcbiAgdXJsOiBzdHJpbmc7XG59XG5cbi8qKlxuICogT3B0aW9ucyB0byBjb25maWd1cmUgdGhlIHNvbHV0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvbHV0aW9uQ29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBwYWNrIGxvYWRlciBhbmQgdGhlIHdhc20gbG9hZGVyIG5lZWQgdG8gYmUgaGVyZS4gQSBmaWxlIGxvYWRlciB3aWxsIGJlXG4gICAqIHByb3ZpZGVkIHRvIHRoZW0sIGFuZCBUaGV5IHdpbGwgZ2V0IGxvYWRlZCBhc3luY2hyb25vdXNseS4gV2Ugd29uJ3RcbiAgICogY29udGludWUgaW5pdGlhbGl6YXRpb24gdW50aWwgdGhleSd2ZSBjb21wbGV0ZWx5IGxvYWRlZCBhbmQgcnVuLlxuICAgKi9cbiAgZmlsZXM6IFJlYWRvbmx5QXJyYXk8RmlsZUVudHJ5PjtcblxuICAvKipcbiAgICogVGhlIGJpbmFyeSBncmFwaC4gQ2FuIHN1cHBvcnQgbXVsdGlwbGUgd2F5cyBvZiBnZXR0aW5nIHRoYXQgZ3JhcGguXG4gICAqL1xuICBncmFwaDogR3JhcGg7XG5cbiAgLyoqXG4gICAqIENvbnRhaW5zIGEgbWFwcGluZyB0aGF0IGFsbG93cyB1cyB0byB0dXJuIHRoZSBpbnB1dHMgYSB1c2VyIHNlbmRzIGFzIHBhcnRcbiAgICogb2YgYHNlbmRgIGludG8gYW4gaW5wdXQgdGhhdCB0aGUgZ3JhcGggY2FuIGNvbnN1bWUuXG4gICAqL1xuICBpbnB1dHM6IElucHV0Q29uZmlnTWFwO1xuXG4gIC8qKlxuICAgKiBTZWUgRmlsZUxvY2F0b3JGbi4gQW55IGZpbGUgbG9hZGluZyBkb25lIG9uIHRoZSB1c2VyJ3MgYmVoYWxmIHdpbGwgdXNlXG4gICAqIGxvY2F0ZUZpbGUgaWYgaXRzIHByb2ZpdmVkLiBUaGlzIGluY2x1ZGVzIFdBU00gYmxvYnMgYW5kIGdyYXBoIHVybHMuXG4gICAqL1xuICBsb2NhdGVGaWxlPzogRmlsZUxvY2F0b3JGbjtcblxuICAvKipcbiAgICogU3BlY2lmaWVzIGhvdyB0byBpbnRlcnByZXQgb3B0aW9ucyBmZWQgdG8gc2V0T3B0aW9ucy5cbiAgICovXG4gIG9wdGlvbnM/OiBPcHRpb25Db25maWdNYXA7XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGxpc3RlbmVycyB0byB0aGUgZ3JhcGguIFRoaXMgaXMgb25seSBmb3IgcmVnaXN0ZXJpbmcgdGhlIHBvcnRzLlxuICAgKiBUbyBhY3R1YWxseSByZWdpc3RlciBhIGNhbGxiYWNrLCB0aGUgZGV2ZWxvcGVyIHdpbGwgY2FsbCBvblJlc3VsdHMgd2l0aFxuICAgKiB0aGUgbmFtZSBvZiB0aGUgcG9ydCB0aGV5IHdhbnQgdG8gdGFwIGludG8uXG4gICAqL1xuICBsaXN0ZW5lcnM/OiBMaXN0ZW5lclBvcnRbXTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZ3JhcGggdGhhdCBjYW4gYmUgZmVkIHRvIG1lZGlhcGlwZSBTb2x1dGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHcmFwaERhdGEge1xuICB0b0FycmF5QnVmZmVyKCk6IFByb21pc2U8QXJyYXlCdWZmZXI+O1xufVxuXG4vLyBUaGVzZSBleHBvcnQgbmFtZXMgY29tZSBmcm9tIHdhc21fY2NfYmluYXJ5IEJVSUxEIHJ1bGVzLiBUaGV5IGJlbG9uZyB0byB0d29cbi8vIGRpZmZlcmVudCBzY3JpcHRzIHRoYXQgYXJlIGxvYWRlZCBpbiBwYXJhbGxlbCAoc2VlIFByb21pc2UuYWxsLCBiZWxvdykuXG4vLyBCZWNhdXNlIHRoZXkgbXV0YXRlIHRoZWlyIHJlc3BlY3RpdmUgdmFyaWFibGVzLCB0aGVyZSBpcyBhIHJhY2UgY29uZGl0aW9uXG4vLyB3aGVyZSB0aGV5IHdpbGwgc3RvbXAgb24gZWFjaCBvdGhlciBpZiB0aGV5IGNob29zZSB0aGUgc2FtZSBuYW1lLiBVc2Vyc1xuLy8gd29uJ3Qgbm9ybWFsbHkgc2VlIHRoaXMgcmFjZSBjb25kaXRpb24gYmVjYXVzZSB0aGV5IHB1dCBzY3JpcHQgdGFncyBpbiB0aGVcbi8vIEhUTUwsIGFuZCBIVE1MIGd1YXJhbnRlZXMgdGhhdCB0aGUgc2NyaXB0cyB3aWxsIGJlIHJ1biBpbiBvcmRlci5cbmNvbnN0IEFQSV9FWFBPUlRfTkFNRSA9ICdjcmVhdGVNZWRpYXBpcGVTb2x1dGlvbnNXYXNtJztcbmNvbnN0IFBBQ0tfRVhQT1JUX05BTUUgPSAnY3JlYXRlTWVkaWFwaXBlU29sdXRpb25zUGFja2VkQXNzZXRzJztcblxuLy8gVXNlZCBpbnRlcm5hbGx5IHRvIHJlcHJlc2VudCBhIHBvcnQgZm9yIHdoaWNoIHRoZSB1c2VyIGRpZCBub3QgZGVmaW5lIGEgbmFtZS5cbmNvbnN0IERFRkFVTFRfUE9SVF9OQU1FID0gJyQnO1xuXG4vKipcbiAqIFNpbXBsZXN0IFdBU00gcHJvZ3JhbSB0byBwZXJmb3JtIGEgU0lNRCBvcGVyYXRpb24uIFdlJ2xsIHRyeSB0byBpbnN0YW50aWF0ZVxuICogaXQgd2l0aCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSgpIGFuZCBpZiBpdCBmYWlscywgd2UnbGwga25vdyB0aGVyZSBpcyBub1xuICogU0lNRCBzdXBwb3J0LlxuICpcbiAqIFRvIGdlbmVyYXRlIHRoZSB3ZWIgYXNzZW1ibHksIEkgaW5jbHVkZWQgdGhlIGZvbGxvd2luZyBzY3JpcHQgaW50byBhIHdlYiBwYWdlXG4gKiBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvQXNzZW1ibHlTY3JpcHQvd2FidC5qcy9pbmRleC5qc1xuICpcbiAqIEFuZCB0aGVuIGZvbGxvd2VkIGl0IHdpdGggYSBiaXQgb2Ygc2NyaXB0OlxuICpcbiAqIGBgYFxuICogYXN5bmMgZnVuY3Rpb24gcnVuKCkge1xuICogdmFyIHdhc20gPSBgKG1vZHVsZVxuICogIChmdW5jXG4gKiAgICAgIGkzMi5jb25zdCAwXG4gKiAgICAgIGk4eDE2LnNwbGF0XG4gKiAgICAgIGRyb3BcbiAqICAgIClcbiAqICApYDtcbiAqICBjb25zdCB3YWJ0ID0gYXdhaXQgV2FidE1vZHVsZSgpO1xuICogIGNvbnN0IHdhdCA9IHdhYnQucGFyc2VXYXQoXCJ0ZXN0XCIsIHdhc20sIHtzaW1kOiB0cnVlfSk7XG4gKiAgY29uc3QgYmluID0gd2F0LnRvQmluYXJ5KHt9KS5idWZmZXI7XG4gKlxuICogIC8vIFRoZSBmb2xsb3dpbmcgbGluZSBwcmludHMgdGhlIGFycmF5IHRoYXQgd2UgY3V0IGFuZCBwYXN0ZSBpbnRvIG91ciBzb3VyY2VcbiAqICAvLyBjb2RlLlxuICogIGNvbnNvbGUubG9nKGJpbi5qb2luKCcsJykpO1xuICpcbiAqICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShiaW4pO1xuICogIGNvbnN0IHdhID0gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYXJyKTtcbiAqIH1cbiAqIHJ1bigpO1xuICogYGBgXG4gKi9cbmNvbnN0IFdBU01fU0lNRF9DSEVDSyA9IG5ldyBVaW50OEFycmF5KFtcbiAgMCwgOTcsIDExNSwgMTA5LCAxLCAwLCAwLCAwLCAxLCAgNCwgMSwgICA5NiwgMCwgIDAsIDMsXG4gIDIsIDEsICAwLCAgIDEwLCAgOSwgMSwgNywgMCwgNjUsIDAsIDI1MywgMTUsIDI2LCAxMVxuXSk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBwYXRoIHRvIGEgcmVzb3VyY2UgaWYgdGhlIHVzZXIgZGlkIG5vdCBvdmVybG9hZCB0aGVcbiAqIGxvY2F0ZUZpbGUgcGFyYW1ldGVyIGluIFNvbHV0aW9uQ29uZmlnLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0TG9jYXRlRmlsZShmaWxlOiBzdHJpbmcsIHByZWZpeDogc3RyaW5nKSB7XG4gIHJldHVybiBwcmVmaXggKyBmaWxlO1xufVxuLyoqXG4gKiBTZXRzIGFuIGFyYml0cmFyeSB2YWx1ZSBvbiBgd2luZG93YC4gVGhpcyBoZWxwZXIgZnVuY3Rpb24gZ2V0cyBhcm91bmQgYSBsb3RcbiAqIG9mIHRoZSBjdW1iZXJzb21lIGJvaWxlcnBsYXRlIHJlcXVpcmVkIHRvIHNldCBhbmQgcmV0cmlldmUgYXJiaXRyYXJ5IGRhdGFcbiAqIGZyb20gdGhlIGB3aW5kb3dgIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gc2V0V2luZG93PFQ+KGtleTogc3RyaW5nLCB2YWx1ZTogVCk6IHZvaWQge1xuICAod2luZG93IGFzIHVua25vd24gYXMge1trZXk6IHN0cmluZ106IFR9KVtrZXldID0gdmFsdWU7XG59XG5cbi8qKlxuICogR2V0cyBhbiBhcmJpdHJhcnkgdmFsdWUgZnJvbSBgd2luZG93YC4gU2VlIGBzZXRXaW5kb3dgLlxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3coa2V5OiBzdHJpbmcpOiB1bmtub3duIHtcbiAgcmV0dXJuICh3aW5kb3cgYXMgdW5rbm93biBhcyB7W2tleTogc3RyaW5nXTogdW5rbm93bn0pW2tleV07XG59XG5cbi8qKlxuICogRHluYW1pY2FsbHkgbG9hZHMgYSBhc2NyaXB0IGludG8gdGhlIGN1cnJlbnQgcGFnZSBhbmQgcmV0dXJucyBhIGBQcm9taXNlYFxuICogdGhhdCByZXNvbHZlcyB3aGVuIGl0cyBsb2FkaW5nIGlzIGNvbXBsZXRlLlxuICovXG5mdW5jdGlvbiBsb2FkU2NyaXB0KHVybDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpO1xuICBzY3JpcHQuc2V0QXR0cmlidXRlKCdjcm9zc29yaWdpbicsICdhbm9ueW1vdXMnKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9LCBmYWxzZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRQYWNrYWdlUGF0aCgpOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKFxuICAgICAgICAgICAgICAgMCwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkubGFzdEluZGV4T2YoJy8nKSkgK1xuICAgICAgICAnLyc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIHdvcmtlclxuICAgIHJldHVybiBsb2NhdGlvbi5wYXRobmFtZS50b1N0cmluZygpLnN1YnN0cmluZyhcbiAgICAgICAgICAgICAgIDAsIGxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkubGFzdEluZGV4T2YoJy8nKSkgK1xuICAgICAgICAnLyc7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnc29sdXRpb25zIGNhbiBvbmx5IGJlIGxvYWRlZCBvbiBhIHdlYiBwYWdlIG9yIGluIGEgd2ViIHdvcmtlcicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlY29kZUxhbmRtYXJrcyhsYW5kbWFya3M6IHNvbHV0aW9uc1dhc20uTm9ybWFsaXplZExhbmRtYXJrTGlzdCk6XG4gICAgTm9ybWFsaXplZExhbmRtYXJrTGlzdCB7XG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuICBjb25zdCByZXN1bHRDb3VudCA9IGxhbmRtYXJrcy5zaXplKCk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHRDb3VudDsgKytpbmRleCkge1xuICAgIGNvbnN0IGxhbmRtYXJrID0gbGFuZG1hcmtzLmdldChpbmRleCk7XG4gICAgb3V0cHV0LnB1c2goe1xuICAgICAgeDogbGFuZG1hcmsueCxcbiAgICAgIHk6IGxhbmRtYXJrLnksXG4gICAgICB6OiBsYW5kbWFyay56LFxuICAgICAgdmlzaWJpbGl0eTogbGFuZG1hcmsuaGFzVmlzaWJpbGl0eSA/IGxhbmRtYXJrLnZpc2liaWxpdHkgOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVSZWN0TGlzdChyZWN0czogc29sdXRpb25zV2FzbS5Ob3JtYWxpemVkUmVjdExpc3QpOlxuICAgIE5vcm1hbGl6ZWRSZWN0TGlzdCB7XG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuICBjb25zdCByZXN1bHRDb3VudCA9IHJlY3RzLnNpemUoKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdENvdW50OyArK2luZGV4KSB7XG4gICAgY29uc3QgcmVjdCA9IHJlY3RzLmdldChpbmRleCk7XG4gICAgb3V0cHV0LnB1c2gocmVjdCk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuZnVuY3Rpb24gZGVjb2RlRGV0ZWN0aW9uTGlzdChyZXN1bHRzOiBzb2x1dGlvbnNXYXNtLlJlc3VsdFdhc20pOiBEZXRlY3Rpb25MaXN0IHtcbiAgY29uc3QgcmVjdExpc3QgPSByZXN1bHRzLmdldFJlY3RMaXN0KCkhO1xuICBjb25zdCBsYW5kbWFya3NMaXN0ID0gcmVzdWx0cy5nZXRMYW5kbWFya3NMaXN0KCkhO1xuICBjb25zdCBjbGFzc2lmaWNhdGlvbnNMaXN0ID0gcmVzdWx0cy5nZXRDbGFzc2lmaWNhdGlvbnNMaXN0KCkhO1xuICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgaWYgKHJlY3RMaXN0KSB7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlY3RMaXN0LnNpemUoKTsgKytpbmRleCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBib3VuZGluZ0JveDogcmVjdExpc3QuZ2V0KGluZGV4KSxcbiAgICAgICAgbGFuZG1hcmtzOiBkZWNvZGVMYW5kbWFya3MobGFuZG1hcmtzTGlzdC5nZXQoaW5kZXgpKSxcbiAgICAgICAgY2xhc3NpZmljYXRpb25zOiBkZWNvZGVDbGFzc2lmaWNhdGlvbnMoY2xhc3NpZmljYXRpb25zTGlzdC5nZXQoaW5kZXgpKSxcbiAgICAgIH07XG4gICAgICBvdXRwdXQucHVzaChyZXN1bHQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVMYW5kbWFya3NMaXN0KFxuICAgIGxhbmRtYXJrczogc29sdXRpb25zV2FzbS5Ob3JtYWxpemVkTGFuZG1hcmtMaXN0TGlzdCk6XG4gICAgTm9ybWFsaXplZExhbmRtYXJrTGlzdExpc3Qge1xuICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgY29uc3QgcmVzdWx0Q291bnQgPSBsYW5kbWFya3Muc2l6ZSgpO1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0Q291bnQ7ICsraW5kZXgpIHtcbiAgICBjb25zdCBsYW5kbWFyayA9IGxhbmRtYXJrcy5nZXQoaW5kZXgpO1xuICAgIG91dHB1dC5wdXNoKGRlY29kZUxhbmRtYXJrcyhsYW5kbWFyaykpO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIGRlY29kZUNsYXNzaWZpY2F0aW9ucyhcbiAgICBjbGFzc2lmaWNhdGlvbnM6IHNvbHV0aW9uc1dhc20uQ2xhc3NpZmljYXRpb25MaXN0KTogQ2xhc3NpZmljYXRpb25MaXN0IHtcbiAgY29uc3Qgb3V0cHV0ID0gW107XG4gIGNvbnN0IHJlc3VsdENvdW50ID0gY2xhc3NpZmljYXRpb25zLnNpemUoKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdENvdW50OyArK2luZGV4KSB7XG4gICAgY29uc3QgY2xhc3NpZmljYXRpb24gPSBjbGFzc2lmaWNhdGlvbnMuZ2V0KGluZGV4KTtcbiAgICBvdXRwdXQucHVzaCh7XG4gICAgICBpbmRleDogY2xhc3NpZmljYXRpb24uaW5kZXgsXG4gICAgICBzY29yZTogY2xhc3NpZmljYXRpb24uc2NvcmUsXG4gICAgICBsYWJlbDogY2xhc3NpZmljYXRpb24uaGFzTGFiZWwgPyBjbGFzc2lmaWNhdGlvbi5sYWJlbCA6IHVuZGVmaW5lZCxcbiAgICAgIGRpc3BsYXlOYW1lOiBjbGFzc2lmaWNhdGlvbi5oYXNEaXNwbGF5TmFtZSA/IGNsYXNzaWZpY2F0aW9uLmRpc3BsYXlOYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVDbGFzc2lmaWNhdGlvbnNMaXN0KFxuICAgIGNsYXNzaWZpY2F0aW9uczogc29sdXRpb25zV2FzbS5DbGFzc2lmaWNhdGlvbkxpc3RMaXN0KTpcbiAgICBDbGFzc2lmaWNhdGlvbkxpc3RMaXN0IHtcbiAgY29uc3Qgb3V0cHV0ID0gW107XG4gIGNvbnN0IHJlc3VsdENvdW50ID0gY2xhc3NpZmljYXRpb25zLnNpemUoKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdENvdW50OyArK2luZGV4KSB7XG4gICAgY29uc3QgY2xhc3NpZmljYXRpb24gPSBjbGFzc2lmaWNhdGlvbnMuZ2V0KGluZGV4KTtcbiAgICBvdXRwdXQucHVzaChkZWNvZGVDbGFzc2lmaWNhdGlvbnMoY2xhc3NpZmljYXRpb24pKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVLZXlwb2ludChrZXlwb2ludDogc29sdXRpb25zV2FzbS5LZXlwb2ludCk6IEtleXBvaW50IHtcbiAgcmV0dXJuIHtcbiAgICBpZDoga2V5cG9pbnQuaWQsXG4gICAgcG9pbnQzZDoge1xuICAgICAgeDoga2V5cG9pbnQucG9pbnQzZC54LFxuICAgICAgeToga2V5cG9pbnQucG9pbnQzZC55LFxuICAgICAgejoga2V5cG9pbnQucG9pbnQzZC56LFxuICAgIH0sXG4gICAgcG9pbnQyZDoge1xuICAgICAgeDoga2V5cG9pbnQucG9pbnQyZC54LFxuICAgICAgeToga2V5cG9pbnQucG9pbnQyZC55LFxuICAgICAgZGVwdGg6IGtleXBvaW50LnBvaW50MmQuZGVwdGgsXG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVLZXlwb2ludExpc3QoXG4gICAga2V5cG9pbnRzOiBzb2x1dGlvbnNXYXNtLktleXBvaW50TGlzdCk6IEtleXBvaW50TGlzdCB7XG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuICBjb25zdCByZXN1bHRDb3VudCA9IGtleXBvaW50cy5zaXplKCk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHRDb3VudDsgKytpbmRleCkge1xuICAgIGNvbnN0IGtleXBvaW50ID0ga2V5cG9pbnRzLmdldChpbmRleCk7XG4gICAgb3V0cHV0LnB1c2goZGVjb2RlS2V5cG9pbnQoa2V5cG9pbnQpKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVPYmplY3REZXRlY3Rpb24oXG4gICAgZGV0ZWN0aW9uOiBzb2x1dGlvbnNXYXNtLk9iamVjdERldGVjdGlvbik6IE9iamVjdERldGVjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgaWQ6IGRldGVjdGlvbi5pZCxcbiAgICBrZXlwb2ludHM6IGRlY29kZUtleXBvaW50TGlzdChkZXRlY3Rpb24ua2V5cG9pbnRzKSxcbiAgICB2aXNpYmlsaXR5OiBkZXRlY3Rpb24udmlzaWJpbGl0eSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlT2JqZWN0RGV0ZWN0aW9uTGlzdChcbiAgICBkZXRlY3Rpb25zOiBzb2x1dGlvbnNXYXNtLk9iamVjdERldGVjdGlvbkxpc3QpOiBPYmplY3REZXRlY3Rpb25MaXN0IHtcbiAgY29uc3Qgb3V0cHV0ID0gW107XG4gIGNvbnN0IHJlc3VsdENvdW50ID0gZGV0ZWN0aW9ucy5zaXplKCk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHRDb3VudDsgKytpbmRleCkge1xuICAgIGNvbnN0IGRldGVjdGlvbiA9IGRldGVjdGlvbnMuZ2V0KGluZGV4KTtcbiAgICBvdXRwdXQucHVzaChkZWNvZGVPYmplY3REZXRlY3Rpb24oZGV0ZWN0aW9uKSk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuY2xhc3MgR3JhcGhEYXRhSW1wbCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgICAgcHJpdmF0ZSByZWFkb25seSBncmFwaDogR3JhcGgsIHByaXZhdGUgcmVhZG9ubHkgbG9jYXRlRmlsZTogRmlsZUxvY2F0b3JGbixcbiAgICAgIHByaXZhdGUgcmVhZG9ubHkgcGFja2FnZVBhdGg6IHN0cmluZykge31cblxuICBhc3luYyB0b0FycmF5QnVmZmVyKCk6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcbiAgICBpZiAodGhpcy5ncmFwaC51cmwpIHtcbiAgICAgIGNvbnN0IGZldGNoZWQgPVxuICAgICAgICAgIGF3YWl0IGZldGNoKHRoaXMubG9jYXRlRmlsZSh0aGlzLmdyYXBoLnVybCwgdGhpcy5wYWNrYWdlUGF0aCkpO1xuICAgICAgaWYgKGZldGNoZWQuYm9keSkge1xuICAgICAgICByZXR1cm4gZmV0Y2hlZC5hcnJheUJ1ZmZlcigpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO1xuICB9XG59XG5cbi8qKlxuICogSW5wdXRzIHRvIHRoZSBncmFwaC4gQ3VycmVudGx5IG9ubHkgb25lIGlucHV0LCBhIHZpZGVvIGZyYW1lLCBpc1xuICogcGVybWl0dGVkLCBidXQgdGhpcyBzaG91bGQgZW5jb21wYXNzIGFueSBpbnB1dCBkYXRhIHRvIGEgc29sdXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnJhbWVJbnB1dHMge1xuICB2aWRlbzogSFRNTFZpZGVvRWxlbWVudDtcbn1cblxuLyoqXG4gKiBUaGUgc29sdXRpb24ga2VlcHMgYWxsIG9mIHRoZSBjdXJyZW50IGxpc3RlbmVycy4gVGhlIHVzZXIgY2FuIHBhc3MgdXMgYVxuICogbGlzdGVuZXIgbWFwIGFuZCB0aGVuIGNoYW5nZSB0aGUgZWxlbWVudHMgYXQgYW55IHRpbWUuIFRoZXkgd2lsbCBiZSBwaWNrZWRcbiAqIHVwIG9uIHRoZSBuZXh0IHBhc3MgdGhyb3VnaCBgcHJvY2Vzc0ZyYW1lYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0ZW5lck1hcCB7XG4gIFtrZXk6IHN0cmluZ106IFJlc3VsdE1hcExpc3RlbmVyfHVuZGVmaW5lZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaXNTdXBwb3J0ZWRTaW1kKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICB0cnkge1xuICAgIGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKFdBU01fU0lNRF9DSEVDSyk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBNZWRpYVBpcGUgU29sdXRpb24gdXBvbiB3aGljaCBhbGwgc3BlY2lmaWMgc29sdXRpb25zIHdpbGwgYmUgYnVpbHQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTb2x1dGlvbiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgcGFja2FnZVBhdGg6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBsb2NhdGVGaWxlOiBGaWxlTG9jYXRvckZuO1xuICBwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyczogTGlzdGVuZXJNYXAgPSB7fTtcbiAgcHJpdmF0ZSByZWFkb25seSBpblN0cmVhbUhlbHBlcnM6IHN0cmVhbUhlbHBlcnMuU3RyZWFtSGVscGVyTWFwID0ge307XG4gIHByaXZhdGUgcmVhZG9ubHkgb3V0U3RyZWFtSGVscGVyczogc3RyZWFtSGVscGVycy5TdHJlYW1IZWxwZXJNYXAgPSB7fTtcblxuICAvLyBCRUdJTjogQXNzaWduZWQgZHVyaW5nIGluaXRpYWxpemVXYXNtLi4uXG4gIHByaXZhdGUgZ2xDYW52YXMhOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHJpdmF0ZSBnbCE6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XG4gIHByaXZhdGUgd2FzbSE6IHNvbHV0aW9uc1dhc20uTWVkaWFwaXBlV2FzbTtcbiAgcHJpdmF0ZSBzb2x1dGlvbldhc20hOiBzb2x1dGlvbnNXYXNtLlNvbHV0aW9uV2FzbTtcbiAgLy8gRU5EOiBBc3NpZ25lZCBkdXJpbmcgaW5pdGlhbGl6ZVdhc20uLi5cblxuICBwcml2YXRlIHBlbmRpbmdDaGFuZ2VzPzogc29sdXRpb25zV2FzbS5HcmFwaE9wdGlvbkNoYW5nZVJlcXVlc3RbXTtcblxuICBwcml2YXRlIG5lZWRUb0luaXRpYWxpemVXYXNtID0gdHJ1ZTtcbiAgcHJpdmF0ZSBuZWVkVG9Jbml0aWFsaXplR3JhcGggPSB0cnVlO1xuXG4gIHByaXZhdGUgcnVubmluZ1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogU29sdXRpb25Db25maWcpIHtcbiAgICB0aGlzLmxvY2F0ZUZpbGUgPSAoY29uZmlnICYmIGNvbmZpZy5sb2NhdGVGaWxlKSB8fCBkZWZhdWx0TG9jYXRlRmlsZTtcbiAgICB0aGlzLnBhY2thZ2VQYXRoID0gZ2V0UGFja2FnZVBhdGgoKTtcbiAgfVxuXG4gIGNsb3NlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnNvbHV0aW9uV2FzbSkge1xuICAgICAgdGhpcy5zb2x1dGlvbldhc20uZGVsZXRlKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhbGwgb2YgdGhlIGRlcGVuZGVudCBXQVNNIGZpbGVzLiBUaGlzIGlzIGhlYXZ5LCBzbyB3ZSBtYWtlIHN1cmUgdG9cbiAgICogb25seSBkbyB0aGlzIG9uY2UuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHRyeVRvSW5pdGlhbGl6ZVdhc20oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLm5lZWRUb0luaXRpYWxpemVXYXNtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFNldCB1cCB0aGUgZmlsZSBsb2FkZXIgZm9yIGJvdGggZXh0ZXJuYWwgbG9hZGVycy5cbiAgICBzZXRXaW5kb3coQVBJX0VYUE9SVF9OQU1FLCB7bG9jYXRlRmlsZTogdGhpcy5sb2NhdGVGaWxlfSk7XG4gICAgc2V0V2luZG93KFBBQ0tfRVhQT1JUX05BTUUsIHtsb2NhdGVGaWxlOiB0aGlzLmxvY2F0ZUZpbGV9KTtcblxuICAgIGNvbnN0IGZpbGVzID0gKHRoaXMuY29uZmlnLmZpbGVzKSB8fCBbXTtcbiAgICBjb25zdCBzdXBwb3J0c1NpbWQgPSBhd2FpdCBpc1N1cHBvcnRlZFNpbWQoKTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsKGZpbGVzLm1hcCh4ID0+IHtcbiAgICAgIGNvbnN0IGRvTG9hZCA9ICh4LnNpbWQgPT09IHVuZGVmaW5lZCkgfHwgKHguc2ltZCAmJiBzdXBwb3J0c1NpbWQpIHx8XG4gICAgICAgICAgKCF4LnNpbWQgJiYgIXN1cHBvcnRzU2ltZCk7XG4gICAgICBpZiAoZG9Mb2FkKSB7XG4gICAgICAgIHJldHVybiBsb2FkU2NyaXB0KHRoaXMubG9jYXRlRmlsZSh4LnVybCwgdGhpcy5wYWNrYWdlUGF0aCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0pKTtcblxuICAgIC8vIFRoZSB2YXJpYWJsZXMgd2Ugc2V0IGVhcmxpZXIgd2lsbCBub3QgYmUgbXV0YXRlZCwgZWFjaCBhY2NvcmRpbmcgdG8gaXRzXG4gICAgLy8gcmVsYXRlZCBsb2FkZXIuXG4gICAgY29uc3QgYXBpRm4gPSBnZXRXaW5kb3coQVBJX0VYUE9SVF9OQU1FKSBhcyBzb2x1dGlvbnNXYXNtLkFwaVByb21pc2VGbjtcbiAgICBjb25zdCBwYWNrRm4gPSBnZXRXaW5kb3coUEFDS19FWFBPUlRfTkFNRSkgYXMgc29sdXRpb25zV2FzbS5QYWNrTG9hZGVyO1xuXG4gICAgLy8gTm93IHRoYXQgZXZlcnl0aGluZyBpcyBsb2FkZWQgYW5kIG11dGF0ZWQsIHdlIGNhbiBmaW5hbGx5IGluaXRpYWxpemVcbiAgICAvLyB0aGUgV0FTTSBsb2FkZXIgd2l0aCB0aGUgcGFjayBsb2FkZXIuIFRoZSBXQVNNIGxvYWRlciB3aWxsIHdhaXQgdW50aWxcbiAgICAvLyBhbGwgb2YgdGhlIGZpbGVzIGluIHRoZSBwYWNrIGxvYWRlciBhcmUgY29tcGxldGUgYmVmb3JlIHJlc29sdmluZyBpdHNcbiAgICAvLyBQcm9taXNlLlxuICAgIHRoaXMud2FzbSA9IGF3YWl0IGFwaUZuKHBhY2tGbik7XG5cbiAgICAvLyBUT0RPKG1oYXlzKTogRGV2ZWxvcGVyIHNob3VsZCBiZSBhYmxlIHRvIGV4cGxpY2l0bHkgbG9hZC91bmxvYWQgYVxuICAgIC8vIHNvbHV0aW9uIHRvIHByZXZlbnQgc3RlYWxpbmcgYWxsIG9mIHRoZSBXZWJHTCByZXNvdXJjZXMgKGUuZy4sIENocm9tZVxuICAgIC8vIG1heSBsaW1pdCB0aGUgbnVtYmVyIG9mIFdlYkdMIGNvbnRleHRzIGJ5IGRvbWFpbikuXG5cbiAgICAvLyBUaGlzIGlzIHRoZSBzaW5nbGUgY2FudmFzIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBhbGwgdGV4dHVyZSB0cmFuc2ZlclxuICAgIC8vIHRvIGFuZCBmcm9tIHRoZSBiYWNrIGVuZC5cbiAgICB0aGlzLmdsQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy53YXNtLmNhbnZhcyA9IHRoaXMuZ2xDYW52YXM7XG5cbiAgICB0aGlzLndhc20uY3JlYXRlQ29udGV4dChcbiAgICAgICAgdGhpcy5nbENhbnZhcywgLyogdXNlV2ViR2w9ICovIHRydWUsXG4gICAgICAgIC8qIHNldEluTW9kdWxlPSAqLyB0cnVlLCB7fSk7XG5cbiAgICAvLyBUaGUgZ3JhcGggb25seSBuZWVkcyB0byBiZSBsb2FkZWQgb25jZSBpbnRvIHRoZSBzb2x1dGlvbiwgYnV0IHRoZSBXQVNNXG4gICAgLy8gbWlnaHQgcmUtaW5pdGlhbGl6ZSB0aGUgc29sdXRpb24sIGFuZCB0aGF0IHdpbGwgc3BlY2lmaWNhbGx5IGhhcHBlblxuICAgIC8vIGR1cmluZyB3YXNtLlByb2Nlc3NGcmFtZS5cbiAgICB0aGlzLnNvbHV0aW9uV2FzbSA9IG5ldyB0aGlzLndhc20uU29sdXRpb25XYXNtKCk7XG4gICAgY29uc3QgZ3JhcGhEYXRhID1cbiAgICAgICAgbmV3IEdyYXBoRGF0YUltcGwodGhpcy5jb25maWcuZ3JhcGgsIHRoaXMubG9jYXRlRmlsZSwgdGhpcy5wYWNrYWdlUGF0aCk7XG4gICAgYXdhaXQgdGhpcy5sb2FkR3JhcGgoZ3JhcGhEYXRhKTtcblxuICAgIC8vIExpc3RlbmVycyBtb2RpZnkgdGhlIGdyYXBoIGNvbmZpZyBpbnRlcm5hbGx5LCBzbyBncmFwaCBsaXN0ZW5lcnMgYXJlXG4gICAgLy8gYXR0YWNoZWQgb25seSBvbmNlLiBVc2VycyBhcmUgZnJlZSB0byBjb25uZWN0IGFuZCBkaXNjb25uZWN0IGNhbGxiYWNrc1xuICAgIC8vIHRvIHRoZXNlIGxpc3RlbmVycyBhcyBuZWVkZWQuXG4gICAgaWYgKHRoaXMuY29uZmlnLmxpc3RlbmVycykge1xuICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmNvbmZpZy5saXN0ZW5lcnMpIHtcbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lclBvcnQobGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubmVlZFRvSW5pdGlhbGl6ZVdhc20gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBvcHRpb25zIGZvciB0aGUgZ3JhcGgsIHBvdGVudGlhbGx5IHRyaWdnZXJpbmcgYSByZWluaXRpYWxpemUuXG4gICAqIFRoZSB0cmlnZ2VyaW5nIGlzIGNvbnRpbmdlbnQgdXBvbiB0aGUgb3B0aW9ucyBtYXRjaGluZyB0aG9zZSBzZXQgdXAgaW5cbiAgICogdGhlIHNvbHV0aW9uIGNvbmZpZ3VyYXRpb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIGluaXRpYWxpemUgaXMgc2V0IHRvIHJ1blxuICAgKiBvbiB0aGUgbmV4dCBwcm9jZXNzRnJhbWUuXG4gICAqXG4gICAqIFdlIGRvIG5vdCBjcmVhdGUgYSBXQVNNIG9iamVjdCBoZXJlLCBiZWNhdXNlIGl0J3MgcG9zc2libGUgKGxpa2VseSkgdGhhdFxuICAgKiBXQVNNIGhhcyBub3QgbG9hZGVkIHlldCAoaS5lLiwgdGhlIHVzZXIgY2FsbHMgc2V0T3B0aW9ucyBiZWZvcmUgY2FsbGluZ1xuICAgKiBwcm9jZXNzRnJhbWUgLyBpbml0aWFsaXplKS4gIFdlJ2xsIGRvIHRoYXQgZHVyaW5nIGluaXRpYWxpemUgd2hlbiB3ZSBrbm93XG4gICAqIGl0J3Mgc2FmZS5cbiAgICovXG4gIHNldE9wdGlvbnMob3B0aW9uczogT3B0aW9uTGlzdCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb25maWcub3B0aW9ucykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwZW5kaW5nQ2hhbmdlczogc29sdXRpb25zV2FzbS5HcmFwaE9wdGlvbkNoYW5nZVJlcXVlc3RbXSA9IFtdO1xuICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIE9iamVjdC5rZXlzKG9wdGlvbnMpKSB7XG4gICAgICAvLyBMb29rIGVhY2ggb3B0aW9uIGluIHRoZSBvcHRpb24gY29uZmlnLlxuICAgICAgY29uc3Qgb3B0aW9uQ29uZmlnID0gdGhpcy5jb25maWcub3B0aW9uc1tvcHRpb25dO1xuICAgICAgaWYgKG9wdGlvbkNvbmZpZykge1xuICAgICAgICBpZiAob3B0aW9uQ29uZmlnLmdyYXBoT3B0aW9uWHJlZikge1xuICAgICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0ge1xuICAgICAgICAgICAgdmFsdWVOdW1iZXI6IG9wdGlvbkNvbmZpZy50eXBlID09PSBPcHRpb25UeXBlLk5VTUJFUiA/XG4gICAgICAgICAgICAgICAgb3B0aW9uc1tvcHRpb25dIGFzIG51bWJlciA6XG4gICAgICAgICAgICAgICAgMC4wLFxuICAgICAgICAgICAgdmFsdWVCb29sZWFuOiBvcHRpb25Db25maWcudHlwZSA9PT0gT3B0aW9uVHlwZS5CT09MID9cbiAgICAgICAgICAgICAgICBvcHRpb25zW29wdGlvbl0gYXMgYm9vbGVhbiA6XG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRzID0ge2NhbGN1bGF0b3JOYW1lOiAnJywgY2FsY3VsYXRvckluZGV4OiAwfTtcbiAgICAgICAgICAvLyBDb21iaW5lIHRoZSB4cmVmIHdpdGggdGhlIHZhbHVlLiBUaGlzIGlzIHdoYXQgdGhlIFdBU00gd2lsbCBiZVxuICAgICAgICAgIC8vIGV4cGVjdGluZy5cbiAgICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgLi4uZGVmYXVsdHMsXG4gICAgICAgICAgICAuLi5vcHRpb25Db25maWcuZ3JhcGhPcHRpb25YcmVmLFxuICAgICAgICAgICAgLi4ub3B0aW9uVmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICAgIHBlbmRpbmdDaGFuZ2VzLnB1c2gocmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGVuZGluZ0NoYW5nZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aGlzLm5lZWRUb0luaXRpYWxpemVHcmFwaCA9IHRydWU7XG4gICAgICB0aGlzLnBlbmRpbmdDaGFuZ2VzID0gcGVuZGluZ0NoYW5nZXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBncmFwaCBpcyBpdCBoYXMgbm90IGJlZW4gbG9hZGVkLCBvciBoYXMgYmVlbiB0cmlnZ2VyZWQgdG9cbiAgICogcmVsb2FkIChzZXRPcHRpb25zIHdhcyBjYWxsZWQgd2hpbGUgdGhlIGdyYXBoIHdhcyBydW5uaW5nKS5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgdHJ5VG9Jbml0aWFsaXplR3JhcGgoKSB7XG4gICAgaWYgKCF0aGlzLm5lZWRUb0luaXRpYWxpemVHcmFwaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBNb3ZlIHRoZSB2aWRlbyBmcmFtZSBpbnRvIHRoZSB0ZXh0dXJlLlxuICAgIGNvbnN0IGdsID0gdGhpcy5nbENhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInKTtcbiAgICBpZiAoIWdsKSB7XG4gICAgICBhbGVydCgnRmFpbGVkIHRvIGNyZWF0ZSBXZWJHTCBjYW52YXMgY29udGV4dCB3aGVuIHBhc3NpbmcgdmlkZW8gZnJhbWUuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8vIENoYW5naW5nIG9wdGlvbnMgb24gdGhlIGdyYXBoIHdpbGwgbXV0YXRlIHRoZSBncmFwaCBjb25maWcuXG4gICAgaWYgKHRoaXMucGVuZGluZ0NoYW5nZXMpIHtcbiAgICAgIGNvbnN0IGNoYW5nZUxpc3QgPSBuZXcgdGhpcy53YXNtLkdyYXBoT3B0aW9uQ2hhbmdlUmVxdWVzdExpc3QoKTtcbiAgICAgIGZvciAoY29uc3QgY2hhbmdlIG9mIHRoaXMucGVuZGluZ0NoYW5nZXMpIHtcbiAgICAgICAgY2hhbmdlTGlzdC5wdXNoX2JhY2soY2hhbmdlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc29sdXRpb25XYXNtLmNoYW5nZU9wdGlvbnMoY2hhbmdlTGlzdCk7XG4gICAgICBjaGFuZ2VMaXN0LmRlbGV0ZSgpO1xuICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlcyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aGlzLm5lZWRUb0luaXRpYWxpemVHcmFwaCA9IGZhbHNlO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnRyeVRvSW5pdGlhbGl6ZVdhc20oKTtcbiAgICBhd2FpdCB0aGlzLnRyeVRvSW5pdGlhbGl6ZUdyYXBoKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRHcmFwaChncmFwaDogR3JhcGhEYXRhKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZ3JhcGhEYXRhID0gYXdhaXQgZ3JhcGgudG9BcnJheUJ1ZmZlcigpO1xuICAgIHRoaXMuc29sdXRpb25XYXNtLmxvYWRHcmFwaChncmFwaERhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZXMgdGhlICd0eXBlJyBmaWVsZCBvZiB0aGUgaW5wdXQgY29uZmlnIHRvIHR1cm4gdGhlIGB1bmtub3duYCBpbnB1dCBpbnRvXG4gICAqIHNvbWV0aGluZyB1c2FibGUgYnkgdGhlIGJhY2sgZW5kLiAgSW4gZ2VuZXJhbCwgd2UgYXJlIHVzaW5nIGVtc2NyaXB0ZW5cbiAgICogZW1iaW5kJ3MgdmFsdWVfb2JqZWN0IHRvIGVmZmVjdCB0aGUgdHJhbnNmZXIsIHNvIHRoZSBkYXRhIG11c3QgYmUgc2ltcGx5XG4gICAqIG1hcnNoYWxhYmxlLlxuICAgKi9cbiAgcHJpdmF0ZSBwcmVwYXJlSW5wdXQoY29uZmlnOiBJbnB1dENvbmZpZywgaW5wdXQ6IHVua25vd24pOiBvYmplY3Qge1xuICAgIHN3aXRjaCAoY29uZmlnLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgbGV0IGhlbHBlciA9IHRoaXMuaW5TdHJlYW1IZWxwZXJzW2NvbmZpZy5zdHJlYW1dIGFzXG4gICAgICAgICAgICBzdHJlYW1IZWxwZXJzLkltYWdlU3RyZWFtSGVscGVyO1xuICAgICAgICBpZiAoIWhlbHBlcikge1xuICAgICAgICAgIGhlbHBlciA9IG5ldyBzdHJlYW1IZWxwZXJzLkltYWdlU3RyZWFtSGVscGVyKHRoaXMud2FzbSwgdGhpcy5nbCk7XG4gICAgICAgICAgdGhpcy5pblN0cmVhbUhlbHBlcnNbY29uZmlnLnN0cmVhbV0gPSBoZWxwZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlbHBlci5lbmNvZGUoaW5wdXQgYXMgSW5wdXRJbWFnZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gc2VuZCBvbmUgb3IgbW9yZSBpbnB1dHMgdG8gdGhlIGdyYXBoLiBUaGUgZ3JhcGggd2lsbFxuICAgKiBydW4gYW5kIHBvdGVudGlhbGx5IHByb2R1Y2Ugb3V0cHV0cyBmb3IgYW55IGF0dGFjaGVkIGxpc3RlbmVycy4gVGhlIGRhdGFcbiAgICogdGhhdCBhIGphdmFzY3JpcHQgdXNlciBzdXBwbGllcyBuZWVkcyB0byBiZSBjb25kaXRpb25lZCBmb3IgdXNlIGJ5XG4gICAqIG1lZGlhcGlwZSwgYW5kIHRob3NlIGRldGFpbHMgYXJlIGhpZGRlbiBhd2F5IChzZWUgYHByZXBhcmVJbnB1dGApLlxuICAgKiBAcGFyYW0gYXQgVGltZXN0YW1wIGluIG1zLCBpZiB1bmRlZmluZWQsIHdlJ2xsIHVzZSBwZXJmb3JtYW5jZS5ub3coKS5cbiAgICovXG4gIGFzeW5jIHNlbmQoaW5wdXRzOiBJbnB1dE1hcCwgYXQ/OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmlucHV0cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0aW1lc3RhbXAgPSAxMDAwICogKGF0IHx8IHBlcmZvcm1hbmNlLm5vdygpKTtcblxuICAgIGF3YWl0IHRoaXMucnVubmluZ1Byb21pc2U7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgY29uc3QgZGF0YVZhbHVlTGlzdCA9IG5ldyB0aGlzLndhc20uUGFja2V0RGF0YUxpc3QoKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhpbnB1dHMpKSB7XG4gICAgICBjb25zdCBpbnB1dENvbmZpZyA9IHRoaXMuY29uZmlnLmlucHV0c1trZXldO1xuICAgICAgaWYgKGlucHV0Q29uZmlnKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgc3VwcG9ydCB0ZXh0dXJlMmQgYXQgdGhlIG1vbWVudCwgYnV0IG9uY2Ugd2Ugc3VwcG9ydCBtb3JlLFxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgYSBzd2l0Y2ggc3RhdGVtZW50IHNvIHRoYXQgd2UgY2FsbCB0aGUgY29ycmVjdCBwdXNoXG4gICAgICAgIC8vIG1ldGhvZC5cbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLnByZXBhcmVJbnB1dChpbnB1dENvbmZpZywgaW5wdXRzW2tleV0pO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBpbnB1dENvbmZpZy5zdHJlYW07XG4gICAgICAgIGRhdGFWYWx1ZUxpc3QucHVzaFRleHR1cmUyZChcbiAgICAgICAgICAgIHsuLi5pbnB1dCwgc3RyZWFtLCB0aW1lc3RhbXB9IGFzIHNvbHV0aW9uc1dhc20uVGV4dHVyZTJkRGF0YSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc29sdXRpb25XYXNtLnNlbmQoZGF0YVZhbHVlTGlzdCk7XG4gICAgZGF0YVZhbHVlTGlzdC5kZWxldGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgdHJhbnNmb3JtT3V0cHV0cyhyZXN1bHRzOiBXYXNtUmVzdWx0TWFwLCBjb25maWdNYXA/OiBPdXRwdXRDb25maWdNYXApOlxuICAgICAgUmVzdWx0TWFwIHtcbiAgICBpZiAoIWNvbmZpZ01hcCkge1xuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIGNvbnN0IG91dHB1dHM6IFJlc3VsdE1hcCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGNvbmZpZ01hcCkpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ01hcFtrZXldO1xuICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG91dHB1dHNba2V5XSA9IHRoaXMuZXh0cmFjdFdhc21SZXN1bHQoa2V5LCByZXN1bHRzW2NvbmZpZ10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzdWx0c1tjb25maWcuc3RyZWFtXTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy50eXBlID09PSAnZGV0ZWN0aW9uX2xpc3QnKSB7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gZGVjb2RlRGV0ZWN0aW9uTGlzdChyZXN1bHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy50eXBlID09PSAnbGFuZG1hcmtzJykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0LmdldExhbmRtYXJrcygpO1xuICAgICAgICAgIG91dHB1dHNba2V5XSA9IHZhbHVlID8gZGVjb2RlTGFuZG1hcmtzKHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2xhbmRtYXJrc19saXN0Jykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0LmdldExhbmRtYXJrc0xpc3QoKTtcbiAgICAgICAgICBvdXRwdXRzW2tleV0gPSB2YWx1ZSA/IGRlY29kZUxhbmRtYXJrc0xpc3QodmFsdWUpIDogdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy50eXBlID09PSAncmVjdF9saXN0Jykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0LmdldFJlY3RMaXN0KCk7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gdmFsdWUgPyBkZWNvZGVSZWN0TGlzdCh2YWx1ZSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnR5cGUgPT09ICdjbGFzc2lmaWNhdGlvbnNfbGlzdCcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3VsdC5nZXRDbGFzc2lmaWNhdGlvbnNMaXN0KCk7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gdmFsdWUgPyBkZWNvZGVDbGFzc2lmaWNhdGlvbnNMaXN0KHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ29iamVjdF9kZXRlY3Rpb25fbGlzdCcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3VsdC5nZXRPYmplY3REZXRlY3Rpb25MaXN0KCk7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gdmFsdWUgPyBkZWNvZGVPYmplY3REZXRlY3Rpb25MaXN0KHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ3RleHR1cmUnKSB7XG4gICAgICAgICAgbGV0IGhlbHBlciA9XG4gICAgICAgICAgICAgIHRoaXMub3V0U3RyZWFtSGVscGVyc1trZXldIGFzIHN0cmVhbUhlbHBlcnMuSW1hZ2VTdHJlYW1IZWxwZXI7XG4gICAgICAgICAgaWYgKCFoZWxwZXIpIHtcbiAgICAgICAgICAgIGhlbHBlciA9IG5ldyBzdHJlYW1IZWxwZXJzLkltYWdlU3RyZWFtSGVscGVyKHRoaXMud2FzbSwgdGhpcy5nbCk7XG4gICAgICAgICAgICB0aGlzLm91dFN0cmVhbUhlbHBlcnNba2V5XSA9IGhlbHBlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gaGVscGVyLmRlY29kZShyZXN1bHQuZ2V0VGV4dHVyZTJkKCkhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0IGNvbmZpZyB0eXBlOiAnJHtjb25maWcudHlwZX0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy50cmFuc2Zvcm0gJiYgb3V0cHV0c1trZXldKSB7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gY29uZmlnLnRyYW5zZm9ybShvdXRwdXRzW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIGNvbGxlY3Rpb24gb2YgcmVzdWx0cy4gVGhpcyB0cmllcyB0byBhdXRvZGV0ZWN0XG4gICAqIHRoZSB0eXBlIGFuZCBkb2VzIG5vIHRyYW5zZm9ybWF0aW9uLiBBcnJheXMgd2lsbCBoYXZlIHRoZSBzbGlnaHRseSBtb3JlXG4gICAqIGF3a3dhcmQgZW1zY3JpcHRlbiBhY2Nlc3NvcnMuXG4gICAqIEBUT0RPKG1oYXlzKSBEZXByZWNhdGUgdGhpcyBtZXRob2QgYW5kIGFsd2F5cyBzcGVjaWZ5IHRoZSB0eXBlLlxuICAgKi9cbiAgcHJpdmF0ZSBleHRyYWN0V2FzbVJlc3VsdChzdHJlYW06IHN0cmluZywgcmVzdWx0OiBzb2x1dGlvbnNXYXNtLlJlc3VsdFdhc20pOlxuICAgICAgdW5rbm93biB7XG4gICAgaWYgKHJlc3VsdC5pc051bWJlcigpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldE51bWJlcigpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmlzUmVjdCgpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldFJlY3QoKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5pc0xhbmRtYXJrcygpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldExhbmRtYXJrcygpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmlzTGFuZG1hcmtzTGlzdCgpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldExhbmRtYXJrc0xpc3QoKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5pc0NsYXNzaWZpY2F0aW9uc0xpc3QoKSkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5nZXRDbGFzc2lmaWNhdGlvbnNMaXN0KCk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQuaXNPYmplY3REZXRlY3Rpb25MaXN0KCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQuZ2V0T2JqZWN0RGV0ZWN0aW9uTGlzdCgpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmlzVGV4dHVyZTJkKCkpIHtcbiAgICAgIGxldCBoZWxwZXIgPVxuICAgICAgICAgIHRoaXMub3V0U3RyZWFtSGVscGVyc1tzdHJlYW1dIGFzIHN0cmVhbUhlbHBlcnMuSW1hZ2VTdHJlYW1IZWxwZXI7XG4gICAgICBpZiAoIWhlbHBlcikge1xuICAgICAgICBoZWxwZXIgPSBuZXcgc3RyZWFtSGVscGVycy5JbWFnZVN0cmVhbUhlbHBlcih0aGlzLndhc20sIHRoaXMuZ2wpO1xuICAgICAgICB0aGlzLm91dFN0cmVhbUhlbHBlcnNbc3RyZWFtXSA9IGhlbHBlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWxwZXIuZGVjb2RlKHJlc3VsdC5nZXRUZXh0dXJlMmQoKSEpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBncmFwaCBwcm9kdWNlc1xuICAgKiBjb21wYXRpYmxlIHBhY2tldHMgb24gdGhlIG5hbWVkIHN0cmVhbS5cbiAgICovXG4gIHByaXZhdGUgYWRkTGlzdGVuZXJQb3J0KHBvcnQ6IExpc3RlbmVyUG9ydCk6IHZvaWQge1xuICAgIGNvbnN0IHBvcnROYW1lID0gcG9ydC5uYW1lIHx8IERFRkFVTFRfUE9SVF9OQU1FO1xuICAgIGNvbnN0IHdhbnRzQ29weSA9IFsuLi5wb3J0LndhbnRzXTtcbiAgICBjb25zdCB3YW50c1ZlY3RvciA9IG5ldyB0aGlzLndhc20uU3RyaW5nTGlzdCgpO1xuICAgIGZvciAoY29uc3Qgd2FudCBvZiBwb3J0LndhbnRzKSB7XG4gICAgICB3YW50c1ZlY3Rvci5wdXNoX2JhY2sod2FudCk7XG4gICAgfVxuICAgIGNvbnN0IHdhc21MaXN0ZW5lciA9IHtcbiAgICAgIG9uUmVzdWx0czogYXN5bmModmFsdWVzOiBzb2x1dGlvbnNXYXNtLlJlc3VsdFdhc21MaXN0KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IHdhc21SZXN1bHRzOiBXYXNtUmVzdWx0TWFwID0ge307XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwb3J0LndhbnRzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgIHdhc21SZXN1bHRzW3dhbnRzQ29weVtpbmRleF1dID0gdmFsdWVzLmdldChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMudHJhbnNmb3JtT3V0cHV0cyh3YXNtUmVzdWx0cywgcG9ydC5vdXRzKTtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSB0aGlzLmxpc3RlbmVyc1twb3J0TmFtZV07XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgIGF3YWl0IHRoaXMucnVubmluZ1Byb21pc2U7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gbGlzdGVuZXIocmVzdWx0cyk7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nUHJvbWlzZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwYWNrZXRMaXN0ZW5lciA9IHRoaXMud2FzbS5QYWNrZXRMaXN0ZW5lci5pbXBsZW1lbnQod2FzbUxpc3RlbmVyKTtcbiAgICB0aGlzLnNvbHV0aW9uV2FzbS5hdHRhY2hNdWx0aUxpc3RlbmVyKHdhbnRzVmVjdG9yLCBwYWNrZXRMaXN0ZW5lcik7XG4gICAgd2FudHNWZWN0b3IuZGVsZXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogVXNlIHRoaXMgdG8gY29ubmVjdCB1cCB0byBvbmUgbGlzdGVuZXIgcGVyIHBvcnQgbmFtZS4gSWYgcG9ydCBpcyB1bmRlZmluZWQsXG4gICAqIHdoaWNoIHNob3VsZCBiZSB0aGUgY2FzZSBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgZGVmYXVsdCBwb3J0IGlzXG4gICAqIHVzZWQuXG4gICAqL1xuICBvblJlc3VsdHMobGlzdGVuZXI6IFJlc3VsdE1hcExpc3RlbmVyLCBwb3J0Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgcG9ydCA9IHBvcnQgfHwgREVGQVVMVF9QT1JUX05BTUU7XG4gICAgdGhpcy5saXN0ZW5lcnNbcG9ydF0gPSBsaXN0ZW5lcjtcbiAgfVxufVxuXG5nb29nLmV4cG9ydFN5bWJvbCgnU29sdXRpb24nLCBTb2x1dGlvbik7XG5nb29nLmV4cG9ydFN5bWJvbCgnT3B0aW9uVHlwZScsIE9wdGlvblR5cGUpO1xuIl19
+;return exports;});
+
+//third_party/mediapipe/web/solutions/test_harness/test_harness.closure.js
+goog.loadModule(function(exports) {'use strict';goog.module('google3.third_party.mediapipe.web.solutions.test_harness.test_harness');
+var module = module || { id: 'third_party/mediapipe/web/solutions/test_harness/test_harness.closure.js' };
+const tslib_1 = goog.require('google3.third_party.javascript.tslib.tslib');
+/**
+ *
+ * @fileoverview The test harness allows a user to describe a MediaPipe graph,
+ * along with the expectations of that graph, and then test those expectations
+ * through a test harness (WebDriver, e.g.).  We do this by building up the
+ * entire test in a web page based on the specs.
+ *
+ * Generated from: third_party/mediapipe/web/solutions/test_harness/test_harness.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+const tsickle_solutions_api_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.solutions_api");
+const solutionsApi = goog.require('google3.third_party.mediapipe.web.solutions.solutions_api');
+/**
+ * A DIV with class .test will have COMPLETE when the test completes.
+ * @type {string}
+ */
+exports.COMPLETE = 'COMPLETE';
+/**
+ * A DIV with class .test will have INCOMPLETE until the test completes.
+ * @type {string}
+ */
+exports.INCOMPLETE = 'INCOMPLETE';
+/**
+ * Describes one item (stream) of a graph.
+ * @record
+ */
+function TestItemEntry() { }
+exports.TestItemEntry = TestItemEntry;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    TestItemEntry.prototype.name;
+    /** @type {string} */
+    TestItemEntry.prototype.type;
+    /** @type {(undefined|number)} */
+    TestItemEntry.prototype.tolerance;
+    /** @type {(undefined|string)} */
+    TestItemEntry.prototype.src;
+    /** @type {(undefined|*)} */
+    TestItemEntry.prototype.data;
+    /** @type {(undefined|string)} */
+    TestItemEntry.prototype.dataFile;
+    /** @type {(undefined|string)} */
+    TestItemEntry.prototype.dataPattern;
+    /** @type {(undefined|!HTMLImageElement|!HTMLDivElement)} */
+    TestItemEntry.prototype.element;
+    /** @type {(undefined|function(): *)} */
+    TestItemEntry.prototype.getValue;
+    /** @type {(undefined|function(*): !Promise<void>)} */
+    TestItemEntry.prototype.render;
+    /** @type {(undefined|function(!TestItemEntry): !Promise<(undefined|string)>)} */
+    TestItemEntry.prototype.validate;
+}
+/**
+ * Supports extra options for each test case.
+ * @record
+ */
+function TestCaseOptions() { }
+exports.TestCaseOptions = TestCaseOptions;
+/* istanbul ignore if */
+if (false) {
+    /** @type {(undefined|number)} */
+    TestCaseOptions.prototype.warmup;
+}
+/**
+ * Describes a test.
+ * TODO(mhays): Collapse 'outputs' into 'expects'.
+ * @record
+ */
+function TestCase() { }
+exports.TestCase = TestCase;
+/* istanbul ignore if */
+if (false) {
+    /** @type {!Array<!TestItemEntry>} */
+    TestCase.prototype.inputs;
+    /** @type {!Array<!TestItemEntry>} */
+    TestCase.prototype.expects;
+    /** @type {!Array<!TestItemEntry>} */
+    TestCase.prototype.outputs;
+    /** @type {(undefined|!TestCaseOptions)} */
+    TestCase.prototype.options;
+}
+/**
+ * Desribes a complete test that will be run by a harness.
+ * @record
+ */
+function TestConfig() { }
+exports.TestConfig = TestConfig;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    TestConfig.prototype.name;
+    /** @type {(undefined|string)} */
+    TestConfig.prototype.binarypb;
+    /** @type {(undefined|!tsickle_solutions_api_1.SolutionConfig)} */
+    TestConfig.prototype.solution;
+    /** @type {(undefined|!TestCase)} */
+    TestConfig.prototype.test;
+    /** @type {(undefined|string)} */
+    TestConfig.prototype.solutionUrl;
+    /** @type {(undefined|string)} */
+    TestConfig.prototype.testUrl;
+}
+/**
+ * Gives the message queue a chance to empty. Run this if you are depenedent on
+ * changes propogating into the DOM.
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function flushDom() {
+    return new Promise((/**
+     * @param {function((void|!PromiseLike<void>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        setTimeout((/**
+         * @return {!Promise<void>}
+         */
+        () => tslib_1.__awaiter(this, void 0, void 0, function* () {
+            resolve();
+        })), 0);
+    }));
+}
+/**
+ * Defines the solution under test.
+ */
+class TestSolution {
+    /**
+     * @param {!tsickle_solutions_api_1.SolutionConfig} config
+     */
+    constructor(config) {
+        this.solution = new solutionsApi.Solution(config);
+    }
+    /**
+     * Shuts down the object. Call before creating a new instance.
+     * @return {!Promise<void>}
+     */
+    close() {
+        this.solution.close();
+        return Promise.resolve();
+    }
+    /**
+     * Initializes the solution. This includes loading ML models and mediapipe
+     * configurations, as well as setting up potential listeners for metadata. If
+     * `initialize` is not called manually, then it will be called the first time
+     * the developer calls `send`.
+     * @return {!Promise<!TestSolution>}
+     */
+    initialize() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            yield this.solution.initialize();
+            return this;
+        });
+    }
+    /**
+     * Sends inputs to the solution. The developer can await the results, which
+     * resolves when the graph and any listeners have completed.
+     * @param {!tsickle_solutions_api_1.InputMap} inputs
+     * @return {!Promise<void>}
+     */
+    send(inputs) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            yield this.solution.send(inputs);
+        });
+    }
+    /**
+     * Registers a single callback that will carry any results that occur
+     * after calling Send().
+     * @param {function(!tsickle_solutions_api_1.ResultMap): (void|!Promise<void>)} listener
+     * @return {void}
+     */
+    onResults(listener) {
+        this.solution.onResults(listener);
+    }
+}
+exports.TestSolution = TestSolution;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {!tsickle_solutions_api_1.Solution}
+     * @private
+     */
+    TestSolution.prototype.solution;
+}
+/**
+ * Used to store data into the textContent of a DIV tag via JSON.stringigy.
+ *
+ * Solves a disparity between primitives and objects.  JSON.stringify does not
+ * work on number | string | boolean, but if we assign it to the data field of
+ * an object, then we can use JSON.stringify normally..
+ * @record
+ */
+function DataHolder() { }
+/* istanbul ignore if */
+if (false) {
+    /** @type {*} */
+    DataHolder.prototype.data;
+}
+/**
+ * Create a string representation of a value. Primitives will be rendered
+ * through string interpolation, objects will be rendered via JSON.stringify.
+ * @param {*} value
+ * @return {string}
+ */
+function displayValue(value) {
+    if (value instanceof Object) {
+        return JSON.stringify(value);
+    }
+    return `${value}`;
+}
+/**
+ * Renders a graph's image buffer into an HTMLImageElement.
+ * @param {!HTMLImageElement} image
+ * @param {!HTMLCanvasElement} buffer
+ * @return {!Promise<void>}
+ */
+function renderImage(image, buffer) {
+    /** @type {!HTMLCanvasElement} */
+    const canvas = document.createElement('canvas');
+    /** @type {!CanvasRenderingContext2D} */
+    const canvasCtx = (/** @type {!CanvasRenderingContext2D} */ (canvas.getContext('2d')));
+    image.width = canvas.width = buffer.width;
+    image.height = canvas.height = buffer.height;
+    canvasCtx.clearRect(0, 0, buffer.width, buffer.height);
+    canvasCtx.drawImage(buffer, 0, 0, buffer.width, buffer.height);
+    /** @type {!HTMLImageElement} */
+    const imageLocal = image;
+    return new Promise((/**
+     * @param {function((void|!PromiseLike<void>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        imageLocal.onload = (/**
+         * @return {void}
+         */
+        () => {
+            resolve();
+        });
+        imageLocal.src = canvas.toDataURL();
+    }));
+}
+/**
+ * Returns the image data of an HTMLImageElement (which we will access as a
+ * data array).
+ * @param {!HTMLImageElement} image
+ * @return {!ImageData}
+ */
+function getImageData(image) {
+    /** @type {!HTMLCanvasElement} */
+    const canvasFrom = document.createElement('canvas');
+    canvasFrom.width = image.width;
+    canvasFrom.height = image.height;
+    /** @type {!CanvasRenderingContext2D} */
+    const ctx = (/** @type {!CanvasRenderingContext2D} */ (canvasFrom.getContext('2d')));
+    ctx.drawImage(image, 0, 0, image.width, image.height);
+    return ctx.getImageData(0, 0, canvasFrom.width, canvasFrom.height);
+}
+/**
+ * Returns undefined if two HTMLImageElements hold the same image within a
+ * %-tolerance. If they don't match, an error message will be returned.
+ * @param {string} stream
+ * @param {!HTMLImageElement} image1
+ * @param {!HTMLImageElement} image2
+ * @param {number} tolerance
+ * @return {!Promise<(undefined|string)>}
+ */
+function validateImage(stream, image1, image2, tolerance) {
+    return new Promise((/**
+     * @param {function((undefined|string|!PromiseLike<(undefined|string)>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        if (image1.width !== image2.width || image1.height !== image2.height) {
+            resolve(`Image on stream ${stream}: Dimensions don't match. FOUND: ${image1.width}x${image1.height}, EXPECTED: ${image2.width}x${image2.height}`);
+        }
+        /** @type {!Uint8ClampedArray} */
+        const data1 = getImageData(image1).data;
+        /** @type {!Uint8ClampedArray} */
+        const data2 = getImageData(image2).data;
+        /** @type {number} */
+        let diff = 0;
+        for (let i = 0; i < data1.length / 4; i++) {
+            diff += Math.abs(data1[4 * i + 0] - data2[4 * i + 0]) / 255;
+            diff += Math.abs(data1[4 * i + 1] - data2[4 * i + 1]) / 255;
+            diff += Math.abs(data1[4 * i + 2] - data2[4 * i + 2]) / 255;
+        }
+        /** @type {number} */
+        const normDiff = 100 * diff / (image1.width * image1.height * 3);
+        if (normDiff > tolerance) {
+            resolve(`Image on stream ${stream}: Failed within a tolerance of ${tolerance} (was ${normDiff}).`);
+        }
+        resolve(undefined);
+    }));
+}
+/**
+ * @param {!TestItemEntry} item
+ * @param {!HTMLDivElement} appendTo
+ * @return {void}
+ */
+function attachLabel(item, appendTo) {
+    /** @type {!HTMLDivElement} */
+    const label = document.createElement('div');
+    label.classList.add('stream');
+    label.textContent = `Stream: ${item.name}`;
+    appendTo.appendChild(label);
+}
+/**
+ * Given a test item that represents an image, creates a DOM element to hold
+ * everything. Also modifies TestItemEntry with methods to manipulate this
+ * element.
+ * @param {!TestItemEntry} item
+ * @param {!HTMLDivElement} appendTo
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function createImageItem(item, appendTo) {
+    attachLabel(item, appendTo);
+    /** @type {!HTMLImageElement} */
+    const image = item.element = document.createElement('img');
+    image.classList.add(item.name);
+    appendTo.appendChild(image);
+    item.getValue = (/**
+     * @return {(undefined|!HTMLImageElement|!HTMLDivElement)}
+     */
+    () => item.element);
+    item.render = (/**
+     * @param {*} result
+     * @return {!Promise<void>}
+     */
+    (result) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+        yield renderImage(image, (/** @type {!HTMLCanvasElement} */ (result)));
+    }));
+    item.validate = (/**
+     * @param {!TestItemEntry} against
+     * @return {!Promise<(undefined|string)>}
+     */
+    (against) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+        return validateImage(item.name, (/** @type {!HTMLImageElement} */ ((/** @type {(!HTMLImageElement|!HTMLDivElement)} */ (item.element)))), (/** @type {!HTMLImageElement} */ ((/** @type {(!HTMLImageElement|!HTMLDivElement)} */ (against.element)))), against['tolerance'] || 0);
+    }));
+    /** @type {(undefined|string)} */
+    const imageSrc = item.src;
+    if (imageSrc) {
+        return new Promise((/**
+         * @param {function((void|!PromiseLike<void>)): void} resolve
+         * @param {function(?=): void} reject
+         * @return {void}
+         */
+        (resolve, reject) => {
+            image.onload = (/**
+             * @return {!Promise<void>}
+             */
+            () => tslib_1.__awaiter(this, void 0, void 0, function* () {
+                resolve();
+            }));
+            image.onerror = (/**
+             * @return {?}
+             */
+            () => {
+                throw new Error(`Image ${imageSrc} did not load correctly.`);
+            });
+            image.src = imageSrc;
+        }));
+    }
+    return Promise.resolve();
+}
+/**
+ * Given a test item that represents an object or primitive, creates a DOM
+ * element to hold everything. Also modifies TestItemEntry with methods to
+ * manipulate this element.
+ * @param {!TestItemEntry} item
+ * @param {!HTMLDivElement} appendTo
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function createObjectItem(item, appendTo) {
+    return tslib_1.__awaiter(this, void 0, void 0, function* () {
+        attachLabel(item, appendTo);
+        /** @type {!HTMLDivElement} */
+        const element = item.element = document.createElement('div');
+        item.getValue = (/**
+         * @return {*}
+         */
+        () => {
+            if (element.textContent) {
+                return ((/** @type {!DataHolder} */ (JSON.parse(element.textContent)))).data;
+            }
+            else {
+                return undefined;
+            }
+        });
+        item.render = (/**
+         * @param {*} result
+         * @return {!Promise<void>}
+         */
+        (result) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+            /** @type {{data: !Object}} */
+            const buffer = { data: (/** @type {!Object} */ (result)) };
+            element.textContent = JSON.stringify(buffer);
+        }));
+        item.validate = (/**
+         * @param {!TestItemEntry} against
+         * @return {(!Promise<undefined>|!Promise<string>)}
+         */
+        (against) => {
+            /** @type {*} */
+            const itemValue = (/** @type {function(): *} */ (item.getValue))();
+            /** @type {*} */
+            const againstValue = (/** @type {function(): *} */ (against.getValue))();
+            if (against['dataPattern']) {
+                /** @type {!RegExp} */
+                const re = new RegExp(against['dataPattern']);
+                if (re.test(displayValue(itemValue))) {
+                    return Promise.resolve(undefined);
+                }
+                return Promise.resolve(`Object on stream ${item.name} failed pattern ${against['dataPattern']}. FOUND: ${displayValue(itemValue)}`);
+            }
+            else if (itemValue === againstValue) {
+                return Promise.resolve(undefined);
+            }
+            return Promise.resolve(`Object on stream ${item.name} failed. FOUND: ${displayValue(itemValue)}, EXPECTED: ${displayValue(againstValue)}`);
+        });
+        element.classList.add(item.name);
+        if (item.dataFile) {
+            element.textContent = yield (yield fetch(item.dataFile)).text();
+        }
+        else if (item.dataPattern) {
+            element.textContent = JSON.stringify({ data: item.data });
+        }
+        else if (item.data) {
+            element.textContent = JSON.stringify({ data: item.data });
+        }
+        appendTo.appendChild(element);
+        return Promise.resolve();
+    });
+}
+/**
+ * Creates all of the test item entries for each item entry provided.
+ * @param {!Array<!TestItemEntry>} items
+ * @param {!HTMLDivElement} appendTo
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function createWorkspaceItems(items, appendTo) {
+    return tslib_1.__awaiter(this, void 0, void 0, function* () {
+        for (const item of items) {
+            if (item.type === 'video') {
+                yield createImageItem(item, appendTo);
+            }
+            else {
+                yield createObjectItem(item, appendTo);
+            }
+        }
+    });
+}
+/**
+ * Connects a test harness up to a specified root node (usually document.body).
+ * Call `initialize` to set up the DOM.
+ *
+ * Usage:
+ * 1. Place the JSON.stringify of a test configuration into an input element
+ *    with the class 'test' and then click on a button with the class 'run-test'
+ *    and wait for the div tag with the class '.test-complete' to show the text
+ *    'COMPLETE'.
+ */
+class TestHarness {
+    /**
+     * @private
+     * @param {!tsickle_solutions_api_1.ResultMap} results
+     * @param {!TestConfig} config
+     * @return {!Promise<void>}
+     */
+    onResult(results, config) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            /** @type {!Array<string>} */
+            const errors = [];
+            for (const output of (/** @type {!TestCase} */ (config['test']))['outputs']) {
+                /** @type {string} */
+                const itemName = output['name'];
+                yield (/** @type {function(*): !Promise<void>} */ (output.render))(results[itemName]);
+                for (const expect of (/** @type {!TestCase} */ (config['test']))['expects']) {
+                    if (expect['name'] === itemName) {
+                        /** @type {(undefined|string)} */
+                        const errorMsg = yield (/** @type {function(!TestItemEntry): !Promise<(undefined|string)>} */ (output.validate))(expect);
+                        if (errorMsg) {
+                            errors.push(errorMsg);
+                        }
+                        break;
+                    }
+                }
+            }
+            this.errorsElement.textContent = errors.join('\n');
+            this.testCompleteElement.textContent = exports.COMPLETE;
+        });
+    }
+    /**
+     * Executes the test based on the json instructions sitting in testElement.
+     * See `onResult` for how we leave data for the test harness to read.
+     * @param {!TestConfig} config
+     * @return {!Promise<void>}
+     */
+    run(config) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (config['solutionUrl']) {
+                /** @type {?} */
+                const solutionJson = yield (yield fetch(config['solutionUrl'])).json();
+                config['solution'] = (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (solutionJson));
+            }
+            if (config['testUrl']) {
+                /** @type {?} */
+                const testJson = yield (yield fetch(config['testUrl'])).json();
+                config['test'] = (/** @type {!TestCase} */ (testJson));
+            }
+            if (config['binarypb']) {
+                (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['graph'] = { 'url': config['binarypb'] };
+            }
+            /** @type {string} */
+            const testName = config['name'];
+            (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'] = (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'] || [];
+            (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'] = [
+                ...(/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'],
+                { url: `${testName}_web_solution_packed_assets_loader.js` },
+                { simd: false, url: `${testName}_web_solution_wasm_bin.js` },
+                { simd: true, url: `${testName}_web_solution_simd_wasm_bin.js` }
+            ];
+            /** @type {!TestSolution} */
+            const solution = yield new TestSolution((/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))).initialize();
+            yield createWorkspaceItems((/** @type {!TestCase} */ (config['test']))['inputs'], this.inputs);
+            yield createWorkspaceItems((/** @type {!TestCase} */ (config['test']))['expects'], this.expects);
+            yield createWorkspaceItems((/** @type {!TestCase} */ (config['test']))['outputs'], this.outputs);
+            yield flushDom();
+            /** @type {!Object<string,*>} */
+            const inputs = {};
+            for (const input of (/** @type {!TestCase} */ (config['test']))['inputs']) {
+                inputs[input.name] = (/** @type {function(): *} */ (input.getValue))();
+            }
+            this.testReadyElement.textContent = exports.COMPLETE;
+            if ((/** @type {!TestCase} */ (config['test']))['options'] && (/** @type {!TestCase} */ (config['test']))['options']['warmup']) {
+                /** @type {number} */
+                const warmup = (/** @type {!TestCase} */ (config['test']))['options']['warmup'];
+                for (let loop = 0; loop < warmup; loop++) {
+                    yield solution.send(inputs);
+                }
+            }
+            solution.onResults((/**
+             * @param {!tsickle_solutions_api_1.ResultMap} data
+             * @return {void}
+             */
+            (data) => {
+                this.onResult(data, config);
+            }));
+            yield solution.send(inputs);
+        });
+    }
+    /**
+     * Sets up the test and should be called before run is called. By design,
+     * run will be called by simulating a click on a button with class `run-test`.
+     * @return {!Promise<void>}
+     */
+    initialize() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            this.testElement = (/** @type {!HTMLTextAreaElement} */ (document.querySelector('.test')));
+            this.runTestButton =
+                (/** @type {!HTMLButtonElement} */ (document.querySelector('.run-test')));
+            this.testCompleteElement =
+                (/** @type {!HTMLDivElement} */ (document.querySelector('.test-complete')));
+            this.errorsElement =
+                (/** @type {!HTMLTextAreaElement} */ (document.querySelector('.errors')));
+            this.testReadyElement =
+                (/** @type {!HTMLDivElement} */ (document.querySelector('.test-ready')));
+            this.outputs = (/** @type {!HTMLDivElement} */ (document.querySelector('.outputs')));
+            this.expects = (/** @type {!HTMLDivElement} */ (document.querySelector('.expects')));
+            this.inputs = (/** @type {!HTMLDivElement} */ (document.querySelector('.inputs')));
+            this.runTestButton.onclick = (/**
+             * @return {void}
+             */
+            () => {
+                this.run((/** @type {!TestConfig} */ (JSON.parse(this.testElement.value))));
+            });
+            yield flushDom();
+        });
+    }
+}
+exports.TestHarness = TestHarness;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {!HTMLTextAreaElement}
+     * @private
+     */
+    TestHarness.prototype.testElement;
+    /**
+     * @type {!HTMLTextAreaElement}
+     * @private
+     */
+    TestHarness.prototype.errorsElement;
+    /**
+     * @type {!HTMLButtonElement}
+     * @private
+     */
+    TestHarness.prototype.runTestButton;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.testCompleteElement;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.testReadyElement;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.inputs;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.expects;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.outputs;
+}
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdF9oYXJuZXNzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvbWVkaWFwaXBlL3dlYi9zb2x1dGlvbnMvdGVzdF9oYXJuZXNzL3Rlc3RfaGFybmVzcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQU9BLCtGQUEwRjs7Ozs7QUFHN0UsUUFBQSxRQUFRLEdBQUcsVUFBVTs7Ozs7QUFFckIsUUFBQSxVQUFVLEdBQUcsWUFBWTs7Ozs7QUFHdEMsNEJBWUM7Ozs7O0lBWEMsNkJBQWE7O0lBQ2IsNkJBQXVCOztJQUN2QixrQ0FBbUI7O0lBQ25CLDRCQUFhOztJQUNiLDZCQUFVOztJQUNWLGlDQUFrQjs7SUFDbEIsb0NBQXFCOztJQUNyQixnQ0FBMEM7O0lBQzFDLGlDQUF5Qjs7SUFDekIsK0JBQTBDOztJQUMxQyxpQ0FBaUU7Ozs7OztBQUluRSw4QkFFQzs7Ozs7SUFEQyxpQ0FBa0I7Ozs7Ozs7QUFPcEIsdUJBTUM7Ozs7O0lBSkMsMEJBQTBCOztJQUMxQiwyQkFBMkI7O0lBQzNCLDJCQUEyQjs7SUFDM0IsMkJBQTRCOzs7Ozs7QUFJOUIseUJBZ0JDOzs7OztJQWRDLDBCQUFhOztJQUdiLDhCQUFrQjs7SUFHbEIsOEJBQXVDOztJQUN2QywwQkFBZ0I7O0lBR2hCLGlDQUFxQjs7SUFHckIsNkJBQWlCOzs7Ozs7OztBQU9uQixTQUFTLFFBQVE7SUFDZixPQUFPLElBQUksT0FBTzs7OztJQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFDN0IsVUFBVTs7O1FBQUMsR0FBUyxFQUFFO1lBQ3BCLE9BQU8sRUFBRSxDQUFDO1FBQ1osQ0FBQyxDQUFBLEdBQUUsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDLEVBQUMsQ0FBQztBQUNMLENBQUM7Ozs7QUFLRCxNQUFhLFlBQVk7Ozs7SUFHdkIsWUFBWSxNQUFtQztRQUM3QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksWUFBWSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNwRCxDQUFDOzs7OztJQUtELEtBQUs7UUFDSCxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3RCLE9BQU8sT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLENBQUM7Ozs7Ozs7O0lBUUssVUFBVTs7WUFDZCxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDakMsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO0tBQUE7Ozs7Ozs7SUFNSyxJQUFJLENBQUMsTUFBNkI7O1lBQ3RDLE1BQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbkMsQ0FBQztLQUFBOzs7Ozs7O0lBTUQsU0FBUyxDQUFDLFFBQXdDO1FBQ2hELElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7Q0FDRjtBQXpDRCxvQ0F5Q0M7Ozs7Ozs7SUF4Q0MsZ0NBQWlEOzs7Ozs7Ozs7O0FBaURuRCx5QkFFQzs7OztJQURDLDBCQUFjOzs7Ozs7OztBQU9oQixTQUFTLFlBQVksQ0FBQyxLQUFjO0lBQ2xDLElBQUksS0FBSyxZQUFZLE1BQU0sRUFBRTtRQUMzQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDOUI7SUFDRCxPQUFPLEdBQUcsS0FBSyxFQUFFLENBQUM7QUFDcEIsQ0FBQzs7Ozs7OztBQUtELFNBQVMsV0FBVyxDQUNoQixLQUF1QixFQUFFLE1BQThCOztVQUNuRCxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7O1VBQ3pDLFNBQVMsR0FBRywyQ0FBQSxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFDO0lBQzFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQzFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQzdDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2RCxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDOztVQUV6RCxVQUFVLEdBQUcsS0FBSztJQUN4QixPQUFPLElBQUksT0FBTzs7OztJQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFDN0IsVUFBVSxDQUFDLE1BQU07OztRQUFHLEdBQUcsRUFBRTtZQUN2QixPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUMsQ0FBQSxDQUFDO1FBQ0YsVUFBVSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDdEMsQ0FBQyxFQUFDLENBQUM7QUFDTCxDQUFDOzs7Ozs7O0FBTUQsU0FBUyxZQUFZLENBQUMsS0FBdUI7O1VBQ3JDLFVBQVUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztJQUNuRCxVQUFVLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDL0IsVUFBVSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDOztVQUMzQixHQUFHLEdBQUcsMkNBQUEsVUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBQztJQUN4QyxHQUFHLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RELE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxLQUFLLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3JFLENBQUM7Ozs7Ozs7Ozs7QUFNRCxTQUFTLGFBQWEsQ0FDbEIsTUFBYyxFQUFFLE1BQXdCLEVBQUUsTUFBd0IsRUFDbEUsU0FBaUI7SUFDbkIsT0FBTyxJQUFJLE9BQU87Ozs7SUFBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQzdCLElBQUksTUFBTSxDQUFDLEtBQUssS0FBSyxNQUFNLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLE1BQU0sRUFBRTtZQUNwRSxPQUFPLENBQUMsbUJBQW1CLE1BQU0sb0NBQzdCLE1BQU0sQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLE1BQU0sZUFBZSxNQUFNLENBQUMsS0FBSyxJQUN4RCxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztTQUN0Qjs7Y0FDSyxLQUFLLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUk7O2NBQ2pDLEtBQUssR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSTs7WUFFbkMsSUFBSSxHQUFHLENBQUM7UUFDWixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDekMsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDNUQsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDNUQsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7U0FDN0Q7O2NBQ0ssUUFBUSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2hFLElBQUksUUFBUSxHQUFHLFNBQVMsRUFBRTtZQUN4QixPQUFPLENBQUMsbUJBQW1CLE1BQU0sa0NBQzdCLFNBQVMsU0FBUyxRQUFRLElBQUksQ0FBQyxDQUFDO1NBQ3JDO1FBQ0QsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JCLENBQUMsRUFBQyxDQUFDO0FBQ0wsQ0FBQzs7Ozs7O0FBRUQsU0FBUyxXQUFXLENBQUMsSUFBbUIsRUFBRSxRQUF3Qjs7VUFDMUQsS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO0lBQzNDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzlCLEtBQUssQ0FBQyxXQUFXLEdBQUcsV0FBVyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0MsUUFBUSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM5QixDQUFDOzs7Ozs7Ozs7O0FBT0QsU0FBUyxlQUFlLENBQ3BCLElBQW1CLEVBQUUsUUFBd0I7SUFDL0MsV0FBVyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzs7VUFDdEIsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7SUFDMUQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9CLFFBQVEsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFNUIsSUFBSSxDQUFDLFFBQVE7OztJQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUEsQ0FBQztJQUNuQyxJQUFJLENBQUMsTUFBTTs7OztJQUFHLENBQU8sTUFBTSxFQUFFLEVBQUU7UUFDN0IsTUFBTSxXQUFXLENBQUMsS0FBSyxFQUFFLG9DQUFBLE1BQU0sRUFBMEIsQ0FBQyxDQUFDO0lBQzdELENBQUMsQ0FBQSxDQUFBLENBQUM7SUFDRixJQUFJLENBQUMsUUFBUTs7OztJQUFHLENBQU8sT0FBTyxFQUFFLEVBQUU7UUFDaEMsT0FBTyxhQUFhLENBQ2hCLElBQUksQ0FBQyxJQUFJLEVBQUUsbUNBQUEscURBQUEsSUFBSSxDQUFDLE9BQU8sRUFBQyxFQUFvQixFQUM1QyxtQ0FBQSxxREFBQSxPQUFPLENBQUMsT0FBTyxFQUFDLEVBQW9CLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZFLENBQUMsQ0FBQSxDQUFBLENBQUM7O1VBRUksUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHO0lBQ3pCLElBQUksUUFBUSxFQUFFO1FBQ1osT0FBTyxJQUFJLE9BQU87Ozs7O1FBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDckMsS0FBSyxDQUFDLE1BQU07OztZQUFHLEdBQVMsRUFBRTtnQkFDeEIsT0FBTyxFQUFFLENBQUM7WUFDWixDQUFDLENBQUEsQ0FBQSxDQUFDO1lBQ0YsS0FBSyxDQUFDLE9BQU87OztZQUFHLEdBQUcsRUFBRTtnQkFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLFFBQVEsMEJBQTBCLENBQUMsQ0FBQztZQUMvRCxDQUFDLENBQUEsQ0FBQztZQUNGLEtBQUssQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDO1FBQ3ZCLENBQUMsRUFBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUMzQixDQUFDOzs7Ozs7Ozs7O0FBT0QsU0FBZSxnQkFBZ0IsQ0FDM0IsSUFBbUIsRUFBRSxRQUF3Qjs7UUFDL0MsV0FBVyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzs7Y0FDdEIsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7UUFDNUQsSUFBSSxDQUFDLFFBQVE7OztRQUFHLEdBQUcsRUFBRTtZQUNuQixJQUFJLE9BQU8sQ0FBQyxXQUFXLEVBQUU7Z0JBQ3ZCLE9BQU8sQ0FBQyw2QkFBQSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFBYyxDQUFDLENBQUMsSUFBSSxDQUFDO2FBQzdEO2lCQUFNO2dCQUNMLE9BQU8sU0FBUyxDQUFDO2FBQ2xCO1FBQ0gsQ0FBQyxDQUFBLENBQUM7UUFDRixJQUFJLENBQUMsTUFBTTs7OztRQUFHLENBQU8sTUFBZSxFQUFFLEVBQUU7O2tCQUNoQyxNQUFNLEdBQUcsRUFBQyxJQUFJLEVBQUUseUJBQUEsTUFBTSxFQUFVLEVBQUM7WUFDdkMsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLENBQUMsQ0FBQSxDQUFBLENBQUM7UUFDRixJQUFJLENBQUMsUUFBUTs7OztRQUFHLENBQUMsT0FBc0IsRUFBRSxFQUFFOztrQkFDbkMsU0FBUyxHQUFHLCtCQUFBLElBQUksQ0FBQyxRQUFRLEVBQUMsRUFBRTs7a0JBQzVCLFlBQVksR0FBRywrQkFBQSxPQUFPLENBQUMsUUFBUSxFQUFDLEVBQUU7WUFDeEMsSUFBSSxPQUFPLENBQUMsYUFBYSxDQUFDLEVBQUU7O3NCQUNwQixFQUFFLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUM3QyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUU7b0JBQ3BDLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztpQkFDbkM7Z0JBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLG9CQUFvQixJQUFJLENBQUMsSUFBSSxtQkFDaEQsT0FBTyxDQUFDLGFBQWEsQ0FBQyxZQUFZLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDbEU7aUJBQU0sSUFBSSxTQUFTLEtBQUssWUFBWSxFQUFFO2dCQUNyQyxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDbkM7WUFDRCxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsb0JBQW9CLElBQUksQ0FBQyxJQUFJLG1CQUNoRCxZQUFZLENBQUMsU0FBUyxDQUFDLGVBQWUsWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxRSxDQUFDLENBQUEsQ0FBQztRQUNGLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVqQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsT0FBTyxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDakU7YUFBTSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDM0IsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1NBQ3pEO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ3BCLE9BQU8sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztTQUN6RDtRQUVELFFBQVEsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDOUIsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDM0IsQ0FBQztDQUFBOzs7Ozs7OztBQUtELFNBQWUsb0JBQW9CLENBQy9CLEtBQXNCLEVBQUUsUUFBd0I7O1FBQ2xELEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO1lBQ3hCLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUU7Z0JBQ3pCLE1BQU0sZUFBZSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzthQUN2QztpQkFBTTtnQkFDTCxNQUFNLGdCQUFnQixDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzthQUN4QztTQUNGO0lBQ0gsQ0FBQztDQUFBOzs7Ozs7Ozs7OztBQVlELE1BQWEsV0FBVzs7Ozs7OztJQVVSLFFBQVEsQ0FBQyxPQUErQixFQUFFLE1BQWtCOzs7a0JBRWxFLE1BQU0sR0FBYSxFQUFFO1lBQzNCLEtBQUssTUFBTSxNQUFNLElBQUksMkJBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsU0FBUyxDQUFDLEVBQUU7O3NCQUN6QyxRQUFRLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDL0IsTUFBTSw2Q0FBQSxNQUFNLENBQUMsTUFBTSxFQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hDLEtBQUssTUFBTSxNQUFNLElBQUksMkJBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsU0FBUyxDQUFDLEVBQUU7b0JBQy9DLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLFFBQVEsRUFBRTs7OEJBQ3pCLFFBQVEsR0FBRyxNQUFNLHdFQUFBLE1BQU0sQ0FBQyxRQUFRLEVBQUMsQ0FBQyxNQUFNLENBQUM7d0JBQy9DLElBQUksUUFBUSxFQUFFOzRCQUNaLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7eUJBQ3ZCO3dCQUNELE1BQU07cUJBQ1A7aUJBQ0Y7YUFDRjtZQUNELElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsR0FBRyxnQkFBUSxDQUFDO1FBQ2xELENBQUM7S0FBQTs7Ozs7OztJQU1LLEdBQUcsQ0FBQyxNQUFrQjs7WUFDMUIsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7O3NCQUNuQixZQUFZLEdBQUcsTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFO2dCQUN0RSxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcseURBQUEsWUFBWSxFQUErQixDQUFDO2FBQ2xFO1lBQ0QsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7O3NCQUNmLFFBQVEsR0FBRyxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUU7Z0JBQzlELE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRywyQkFBQSxRQUFRLEVBQVksQ0FBQzthQUN2QztZQUNELElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO2dCQUN0Qix5REFBQSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUMsQ0FBQzthQUM1RDs7a0JBQ0ssUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDL0IseURBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcseURBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2xFLHlEQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHO2dCQUM3QixHQUFHLHlEQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBQyxDQUFDLE9BQU8sQ0FBQztnQkFDL0IsRUFBQyxHQUFHLEVBQUUsR0FBRyxRQUFRLHVDQUF1QyxFQUFDO2dCQUN6RCxFQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsUUFBUSwyQkFBMkIsRUFBQztnQkFDMUQsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLFFBQVEsZ0NBQWdDLEVBQUM7YUFDL0QsQ0FBQzs7a0JBRUksUUFBUSxHQUFHLE1BQU0sSUFBSSxZQUFZLENBQUMseURBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUU7WUFFekUsTUFBTSxvQkFBb0IsQ0FBQywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbkUsTUFBTSxvQkFBb0IsQ0FBQywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckUsTUFBTSxvQkFBb0IsQ0FBQywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckUsTUFBTSxRQUFRLEVBQUUsQ0FBQzs7a0JBRVgsTUFBTSxHQUE2QixFQUFFO1lBQzNDLEtBQUssTUFBTSxLQUFLLElBQUksMkJBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQzdDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsK0JBQUEsS0FBSyxDQUFDLFFBQVEsRUFBQyxFQUFFLENBQUM7YUFDeEM7WUFDRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxHQUFHLGdCQUFRLENBQUM7WUFDN0MsSUFBSSwyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSwyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRTs7c0JBQ2hFLE1BQU0sR0FBRywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUM7Z0JBQ25ELEtBQUssSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUU7b0JBQ3hDLE1BQU0sUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztpQkFDN0I7YUFDRjtZQUNELFFBQVEsQ0FBQyxTQUFTOzs7O1lBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDOUIsQ0FBQyxFQUFDLENBQUM7WUFDSCxNQUFNLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUIsQ0FBQztLQUFBOzs7Ozs7SUFNSyxVQUFVOztZQUNkLElBQUksQ0FBQyxXQUFXLEdBQUcsc0NBQUEsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsRUFBdUIsQ0FBQztZQUMxRSxJQUFJLENBQUMsYUFBYTtnQkFDZCxvQ0FBQSxRQUFRLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxFQUFxQixDQUFDO1lBQzdELElBQUksQ0FBQyxtQkFBbUI7Z0JBQ3BCLGlDQUFBLFFBQVEsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsRUFBa0IsQ0FBQztZQUMvRCxJQUFJLENBQUMsYUFBYTtnQkFDZCxzQ0FBQSxRQUFRLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxFQUF1QixDQUFDO1lBQzdELElBQUksQ0FBQyxnQkFBZ0I7Z0JBQ2pCLGlDQUFBLFFBQVEsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLEVBQWtCLENBQUM7WUFDNUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxpQ0FBQSxRQUFRLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxFQUFrQixDQUFDO1lBQ3BFLElBQUksQ0FBQyxPQUFPLEdBQUcsaUNBQUEsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsRUFBa0IsQ0FBQztZQUNwRSxJQUFJLENBQUMsTUFBTSxHQUFHLGlDQUFBLFFBQVEsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEVBQWtCLENBQUM7WUFDbEUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPOzs7WUFBRyxHQUFHLEVBQUU7Z0JBQ2hDLElBQUksQ0FBQyxHQUFHLENBQUMsNkJBQUEsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFjLENBQUMsQ0FBQztZQUM3RCxDQUFDLENBQUEsQ0FBQztZQUNGLE1BQU0sUUFBUSxFQUFFLENBQUM7UUFDbkIsQ0FBQztLQUFBO0NBQ0Y7QUFyR0Qsa0NBcUdDOzs7Ozs7O0lBcEdDLGtDQUEwQzs7Ozs7SUFDMUMsb0NBQTRDOzs7OztJQUM1QyxvQ0FBMEM7Ozs7O0lBQzFDLDBDQUE2Qzs7Ozs7SUFDN0MsdUNBQTBDOzs7OztJQUMxQyw2QkFBZ0M7Ozs7O0lBQ2hDLDhCQUFpQzs7Ozs7SUFDakMsOEJBQWlDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoZSB0ZXN0IGhhcm5lc3MgYWxsb3dzIGEgdXNlciB0byBkZXNjcmliZSBhIE1lZGlhUGlwZSBncmFwaCxcbiAqIGFsb25nIHdpdGggdGhlIGV4cGVjdGF0aW9ucyBvZiB0aGF0IGdyYXBoLCBhbmQgdGhlbiB0ZXN0IHRob3NlIGV4cGVjdGF0aW9uc1xuICogdGhyb3VnaCBhIHRlc3QgaGFybmVzcyAoV2ViRHJpdmVyLCBlLmcuKS4gIFdlIGRvIHRoaXMgYnkgYnVpbGRpbmcgdXAgdGhlXG4gKiBlbnRpcmUgdGVzdCBpbiBhIHdlYiBwYWdlIGJhc2VkIG9uIHRoZSBzcGVjcy5cbiAqL1xuXG5pbXBvcnQgKiBhcyBzb2x1dGlvbnNBcGkgZnJvbSAnZ29vZ2xlMy90aGlyZF9wYXJ0eS9tZWRpYXBpcGUvd2ViL3NvbHV0aW9ucy9zb2x1dGlvbnNfYXBpJztcblxuLyoqIEEgRElWIHdpdGggY2xhc3MgLnRlc3Qgd2lsbCBoYXZlIENPTVBMRVRFIHdoZW4gdGhlIHRlc3QgY29tcGxldGVzLiAqL1xuZXhwb3J0IGNvbnN0IENPTVBMRVRFID0gJ0NPTVBMRVRFJztcbi8qKiBBIERJViB3aXRoIGNsYXNzIC50ZXN0IHdpbGwgaGF2ZSBJTkNPTVBMRVRFIHVudGlsIHRoZSB0ZXN0IGNvbXBsZXRlcy4gKi9cbmV4cG9ydCBjb25zdCBJTkNPTVBMRVRFID0gJ0lOQ09NUExFVEUnO1xuXG4vKiogRGVzY3JpYmVzIG9uZSBpdGVtIChzdHJlYW0pIG9mIGEgZ3JhcGguICovXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RJdGVtRW50cnkge1xuICBuYW1lOiBzdHJpbmc7XG4gIHR5cGU6ICd2aWRlbyd8J29iamVjdCc7XG4gIHRvbGVyYW5jZT86IG51bWJlcjtcbiAgc3JjPzogc3RyaW5nO1xuICBkYXRhPzoge307XG4gIGRhdGFGaWxlPzogc3RyaW5nO1xuICBkYXRhUGF0dGVybj86IHN0cmluZztcbiAgZWxlbWVudD86IEhUTUxEaXZFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnQ7XG4gIGdldFZhbHVlPzogKCkgPT4gdW5rbm93bjtcbiAgcmVuZGVyPzogKGRhdGE6IHVua25vd24pID0+IFByb21pc2U8dm9pZD47XG4gIHZhbGlkYXRlPzogKGFnYWluc3Q6IFRlc3RJdGVtRW50cnkpID0+IFByb21pc2U8c3RyaW5nfHVuZGVmaW5lZD47XG59XG5cbi8qKiBTdXBwb3J0cyBleHRyYSBvcHRpb25zIGZvciBlYWNoIHRlc3QgY2FzZS4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdENhc2VPcHRpb25zIHtcbiAgJ3dhcm11cCc/OiBudW1iZXI7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgdGVzdC5cbiAqIFRPRE8obWhheXMpOiBDb2xsYXBzZSAnb3V0cHV0cycgaW50byAnZXhwZWN0cycuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdENhc2Uge1xuICAvLyBUaW1lIHRvIGFsbG93IHRoZSB0ZXN0IHRvIHJ1biBiZWZvcmUgZmFpbGluZy4gSW4gbWlsbGlzZWNvbmRzLlxuICAnaW5wdXRzJzogVGVzdEl0ZW1FbnRyeVtdO1xuICAnZXhwZWN0cyc6IFRlc3RJdGVtRW50cnlbXTtcbiAgJ291dHB1dHMnOiBUZXN0SXRlbUVudHJ5W107XG4gICdvcHRpb25zJz86IFRlc3RDYXNlT3B0aW9ucztcbn1cblxuLyoqIERlc3JpYmVzIGEgY29tcGxldGUgdGVzdCB0aGF0IHdpbGwgYmUgcnVuIGJ5IGEgaGFybmVzcy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdENvbmZpZyB7XG4gIC8vIE5hbWUgb2YgdGhlIHRlc3QsIHVzZWQgdG8gY3JlYXRlIGEgZmV3IGZpbGUgbmFtZXMgd2hlbiBsb2FkaW5nLlxuICBuYW1lOiBzdHJpbmc7XG4gIC8vIE5hbWUgb2YgdGhlIGJpbmFyeXBiIGZpbGUuIElmIHNwZWNpZmllZCwgaXQgb3ZlcndyaXRlcyB0aGUgb25lIGluIHRoZVxuICAvLyBncmFwaC5qc29uLlxuICBiaW5hcnlwYj86IHN0cmluZztcbiAgLy8gVGhlIFNvbHV0aW9uIGNvbmZpZyBtdXN0IHN1cnZpdmUgSlNPTi5zdHJpbmdpZnkgLT4gSlNPTi5wYXJzZSBhcyB3ZSBhcmVcbiAgLy8gc2VuZGluZyB0aGlzIG9iamVjdCBhcyBhIG1lc3NhZ2UgKG1vcmUgb3IgbGVzcykuXG4gIHNvbHV0aW9uPzogc29sdXRpb25zQXBpLlNvbHV0aW9uQ29uZmlnO1xuICB0ZXN0PzogVGVzdENhc2U7XG4gIC8vIElmIHN1cHBsaWVkLCB0aGUgaGFybmVzcyB3aWxsIHJlYWQgdGhlIEpTT04gZnJvbSB0aGUgdXJsIGFuZCBwdXQgaXQgaW50b1xuICAvLyBzb2x1dGlvbi5cbiAgc29sdXRpb25Vcmw/OiBzdHJpbmc7XG4gIC8vIElmIHN1cHBsaWVkLCB0aGUgaGFybmVzcyB3aWxsIHJlYWQgdGhlIEpTT04gZnJvbSB0aGUgdXJsIGFuZCBwdXQgaXQgaW50b1xuICAvLyB0ZXN0LlxuICB0ZXN0VXJsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEdpdmVzIHRoZSBtZXNzYWdlIHF1ZXVlIGEgY2hhbmNlIHRvIGVtcHR5LiBSdW4gdGhpcyBpZiB5b3UgYXJlIGRlcGVuZWRlbnQgb25cbiAqIGNoYW5nZXMgcHJvcG9nYXRpbmcgaW50byB0aGUgRE9NLlxuICovXG5mdW5jdGlvbiBmbHVzaERvbSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSwgMCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIERlZmluZXMgdGhlIHNvbHV0aW9uIHVuZGVyIHRlc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXN0U29sdXRpb24ge1xuICBwcml2YXRlIHJlYWRvbmx5IHNvbHV0aW9uOiBzb2x1dGlvbnNBcGkuU29sdXRpb247XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBzb2x1dGlvbnNBcGkuU29sdXRpb25Db25maWcpIHtcbiAgICB0aGlzLnNvbHV0aW9uID0gbmV3IHNvbHV0aW9uc0FwaS5Tb2x1dGlvbihjb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNodXRzIGRvd24gdGhlIG9iamVjdC4gQ2FsbCBiZWZvcmUgY3JlYXRpbmcgYSBuZXcgaW5zdGFuY2UuXG4gICAqL1xuICBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnNvbHV0aW9uLmNsb3NlKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBzb2x1dGlvbi4gVGhpcyBpbmNsdWRlcyBsb2FkaW5nIE1MIG1vZGVscyBhbmQgbWVkaWFwaXBlXG4gICAqIGNvbmZpZ3VyYXRpb25zLCBhcyB3ZWxsIGFzIHNldHRpbmcgdXAgcG90ZW50aWFsIGxpc3RlbmVycyBmb3IgbWV0YWRhdGEuIElmXG4gICAqIGBpbml0aWFsaXplYCBpcyBub3QgY2FsbGVkIG1hbnVhbGx5LCB0aGVuIGl0IHdpbGwgYmUgY2FsbGVkIHRoZSBmaXJzdCB0aW1lXG4gICAqIHRoZSBkZXZlbG9wZXIgY2FsbHMgYHNlbmRgLlxuICAgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPFRlc3RTb2x1dGlvbj4ge1xuICAgIGF3YWl0IHRoaXMuc29sdXRpb24uaW5pdGlhbGl6ZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGlucHV0cyB0byB0aGUgc29sdXRpb24uIFRoZSBkZXZlbG9wZXIgY2FuIGF3YWl0IHRoZSByZXN1bHRzLCB3aGljaFxuICAgKiByZXNvbHZlcyB3aGVuIHRoZSBncmFwaCBhbmQgYW55IGxpc3RlbmVycyBoYXZlIGNvbXBsZXRlZC5cbiAgICovXG4gIGFzeW5jIHNlbmQoaW5wdXRzOiBzb2x1dGlvbnNBcGkuSW5wdXRNYXApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnNvbHV0aW9uLnNlbmQoaW5wdXRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBzaW5nbGUgY2FsbGJhY2sgdGhhdCB3aWxsIGNhcnJ5IGFueSByZXN1bHRzIHRoYXQgb2NjdXJcbiAgICogYWZ0ZXIgY2FsbGluZyBTZW5kKCkuXG4gICAqL1xuICBvblJlc3VsdHMobGlzdGVuZXI6IHNvbHV0aW9uc0FwaS5SZXN1bHRNYXBMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuc29sdXRpb24ub25SZXN1bHRzKGxpc3RlbmVyKTtcbiAgfVxufVxuXG4vKipcbiAqIFVzZWQgdG8gc3RvcmUgZGF0YSBpbnRvIHRoZSB0ZXh0Q29udGVudCBvZiBhIERJViB0YWcgdmlhIEpTT04uc3RyaW5naWd5LlxuICpcbiAqIFNvbHZlcyBhIGRpc3Bhcml0eSBiZXR3ZWVuIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMuICBKU09OLnN0cmluZ2lmeSBkb2VzIG5vdFxuICogd29yayBvbiBudW1iZXIgfCBzdHJpbmcgfCBib29sZWFuLCBidXQgaWYgd2UgYXNzaWduIGl0IHRvIHRoZSBkYXRhIGZpZWxkIG9mXG4gKiBhbiBvYmplY3QsIHRoZW4gd2UgY2FuIHVzZSBKU09OLnN0cmluZ2lmeSBub3JtYWxseS4uXG4gKi9cbmludGVyZmFjZSBEYXRhSG9sZGVyIHtcbiAgZGF0YTogdW5rbm93bjtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2YWx1ZS4gUHJpbWl0aXZlcyB3aWxsIGJlIHJlbmRlcmVkXG4gKiB0aHJvdWdoIHN0cmluZyBpbnRlcnBvbGF0aW9uLCBvYmplY3RzIHdpbGwgYmUgcmVuZGVyZWQgdmlhIEpTT04uc3RyaW5naWZ5LlxuICovXG5mdW5jdGlvbiBkaXNwbGF5VmFsdWUodmFsdWU6IHVua25vd24pOiBzdHJpbmcge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICB9XG4gIHJldHVybiBgJHt2YWx1ZX1gO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgYSBncmFwaCdzIGltYWdlIGJ1ZmZlciBpbnRvIGFuIEhUTUxJbWFnZUVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckltYWdlKFxuICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCBidWZmZXI6IHNvbHV0aW9uc0FwaS5HcHVCdWZmZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIGNvbnN0IGNhbnZhc0N0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcbiAgaW1hZ2Uud2lkdGggPSBjYW52YXMud2lkdGggPSBidWZmZXIud2lkdGg7XG4gIGltYWdlLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQgPSBidWZmZXIuaGVpZ2h0O1xuICBjYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIGJ1ZmZlci53aWR0aCwgYnVmZmVyLmhlaWdodCk7XG4gIGNhbnZhc0N0eC5kcmF3SW1hZ2UoYnVmZmVyLCAwLCAwLCBidWZmZXIud2lkdGgsIGJ1ZmZlci5oZWlnaHQpO1xuXG4gIGNvbnN0IGltYWdlTG9jYWwgPSBpbWFnZTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgaW1hZ2VMb2NhbC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICBpbWFnZUxvY2FsLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW1hZ2UgZGF0YSBvZiBhbiBIVE1MSW1hZ2VFbGVtZW50ICh3aGljaCB3ZSB3aWxsIGFjY2VzcyBhcyBhXG4gKiBkYXRhIGFycmF5KS5cbiAqL1xuZnVuY3Rpb24gZ2V0SW1hZ2VEYXRhKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KTogSW1hZ2VEYXRhIHtcbiAgY29uc3QgY2FudmFzRnJvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBjYW52YXNGcm9tLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gIGNhbnZhc0Zyb20uaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICBjb25zdCBjdHggPSBjYW52YXNGcm9tLmdldENvbnRleHQoJzJkJykhO1xuICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcbiAgcmV0dXJuIGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzRnJvbS53aWR0aCwgY2FudmFzRnJvbS5oZWlnaHQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdW5kZWZpbmVkIGlmIHR3byBIVE1MSW1hZ2VFbGVtZW50cyBob2xkIHRoZSBzYW1lIGltYWdlIHdpdGhpbiBhXG4gKiAlLXRvbGVyYW5jZS4gSWYgdGhleSBkb24ndCBtYXRjaCwgYW4gZXJyb3IgbWVzc2FnZSB3aWxsIGJlIHJldHVybmVkLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUltYWdlKFxuICAgIHN0cmVhbTogc3RyaW5nLCBpbWFnZTE6IEhUTUxJbWFnZUVsZW1lbnQsIGltYWdlMjogSFRNTEltYWdlRWxlbWVudCxcbiAgICB0b2xlcmFuY2U6IG51bWJlcik6IFByb21pc2U8c3RyaW5nfHVuZGVmaW5lZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBpZiAoaW1hZ2UxLndpZHRoICE9PSBpbWFnZTIud2lkdGggfHwgaW1hZ2UxLmhlaWdodCAhPT0gaW1hZ2UyLmhlaWdodCkge1xuICAgICAgcmVzb2x2ZShgSW1hZ2Ugb24gc3RyZWFtICR7c3RyZWFtfTogRGltZW5zaW9ucyBkb24ndCBtYXRjaC4gRk9VTkQ6ICR7XG4gICAgICAgICAgaW1hZ2UxLndpZHRofXgke2ltYWdlMS5oZWlnaHR9LCBFWFBFQ1RFRDogJHtpbWFnZTIud2lkdGh9eCR7XG4gICAgICAgICAgaW1hZ2UyLmhlaWdodH1gKTtcbiAgICB9XG4gICAgY29uc3QgZGF0YTEgPSBnZXRJbWFnZURhdGEoaW1hZ2UxKS5kYXRhO1xuICAgIGNvbnN0IGRhdGEyID0gZ2V0SW1hZ2VEYXRhKGltYWdlMikuZGF0YTtcblxuICAgIGxldCBkaWZmID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGExLmxlbmd0aCAvIDQ7IGkrKykge1xuICAgICAgZGlmZiArPSBNYXRoLmFicyhkYXRhMVs0ICogaSArIDBdIC0gZGF0YTJbNCAqIGkgKyAwXSkgLyAyNTU7XG4gICAgICBkaWZmICs9IE1hdGguYWJzKGRhdGExWzQgKiBpICsgMV0gLSBkYXRhMls0ICogaSArIDFdKSAvIDI1NTtcbiAgICAgIGRpZmYgKz0gTWF0aC5hYnMoZGF0YTFbNCAqIGkgKyAyXSAtIGRhdGEyWzQgKiBpICsgMl0pIC8gMjU1O1xuICAgIH1cbiAgICBjb25zdCBub3JtRGlmZiA9IDEwMCAqIGRpZmYgLyAoaW1hZ2UxLndpZHRoICogaW1hZ2UxLmhlaWdodCAqIDMpO1xuICAgIGlmIChub3JtRGlmZiA+IHRvbGVyYW5jZSkge1xuICAgICAgcmVzb2x2ZShgSW1hZ2Ugb24gc3RyZWFtICR7c3RyZWFtfTogRmFpbGVkIHdpdGhpbiBhIHRvbGVyYW5jZSBvZiAke1xuICAgICAgICAgIHRvbGVyYW5jZX0gKHdhcyAke25vcm1EaWZmfSkuYCk7XG4gICAgfVxuICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGF0dGFjaExhYmVsKGl0ZW06IFRlc3RJdGVtRW50cnksIGFwcGVuZFRvOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdzdHJlYW0nKTtcbiAgbGFiZWwudGV4dENvbnRlbnQgPSBgU3RyZWFtOiAke2l0ZW0ubmFtZX1gO1xuICBhcHBlbmRUby5hcHBlbmRDaGlsZChsYWJlbCk7XG59XG5cbi8qKlxuICogR2l2ZW4gYSB0ZXN0IGl0ZW0gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLCBjcmVhdGVzIGEgRE9NIGVsZW1lbnQgdG8gaG9sZFxuICogZXZlcnl0aGluZy4gQWxzbyBtb2RpZmllcyBUZXN0SXRlbUVudHJ5IHdpdGggbWV0aG9kcyB0byBtYW5pcHVsYXRlIHRoaXNcbiAqIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUltYWdlSXRlbShcbiAgICBpdGVtOiBUZXN0SXRlbUVudHJ5LCBhcHBlbmRUbzogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXR0YWNoTGFiZWwoaXRlbSwgYXBwZW5kVG8pO1xuICBjb25zdCBpbWFnZSA9IGl0ZW0uZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBpbWFnZS5jbGFzc0xpc3QuYWRkKGl0ZW0ubmFtZSk7XG4gIGFwcGVuZFRvLmFwcGVuZENoaWxkKGltYWdlKTtcblxuICBpdGVtLmdldFZhbHVlID0gKCkgPT4gaXRlbS5lbGVtZW50O1xuICBpdGVtLnJlbmRlciA9IGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICBhd2FpdCByZW5kZXJJbWFnZShpbWFnZSwgcmVzdWx0IGFzIHNvbHV0aW9uc0FwaS5HcHVCdWZmZXIpO1xuICB9O1xuICBpdGVtLnZhbGlkYXRlID0gYXN5bmMgKGFnYWluc3QpID0+IHtcbiAgICByZXR1cm4gdmFsaWRhdGVJbWFnZShcbiAgICAgICAgaXRlbS5uYW1lLCBpdGVtLmVsZW1lbnQhIGFzIEhUTUxJbWFnZUVsZW1lbnQsXG4gICAgICAgIGFnYWluc3QuZWxlbWVudCEgYXMgSFRNTEltYWdlRWxlbWVudCwgYWdhaW5zdFsndG9sZXJhbmNlJ10gfHwgMCk7XG4gIH07XG5cbiAgY29uc3QgaW1hZ2VTcmMgPSBpdGVtLnNyYztcbiAgaWYgKGltYWdlU3JjKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGltYWdlLm9ubG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcbiAgICAgIGltYWdlLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW1hZ2UgJHtpbWFnZVNyY30gZGlkIG5vdCBsb2FkIGNvcnJlY3RseS5gKTtcbiAgICAgIH07XG4gICAgICBpbWFnZS5zcmMgPSBpbWFnZVNyYztcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59XG5cbi8qKlxuICogR2l2ZW4gYSB0ZXN0IGl0ZW0gdGhhdCByZXByZXNlbnRzIGFuIG9iamVjdCBvciBwcmltaXRpdmUsIGNyZWF0ZXMgYSBET01cbiAqIGVsZW1lbnQgdG8gaG9sZCBldmVyeXRoaW5nLiBBbHNvIG1vZGlmaWVzIFRlc3RJdGVtRW50cnkgd2l0aCBtZXRob2RzIHRvXG4gKiBtYW5pcHVsYXRlIHRoaXMgZWxlbWVudC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlT2JqZWN0SXRlbShcbiAgICBpdGVtOiBUZXN0SXRlbUVudHJ5LCBhcHBlbmRUbzogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXR0YWNoTGFiZWwoaXRlbSwgYXBwZW5kVG8pO1xuICBjb25zdCBlbGVtZW50ID0gaXRlbS5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGl0ZW0uZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgaWYgKGVsZW1lbnQudGV4dENvbnRlbnQpIHtcbiAgICAgIHJldHVybiAoSlNPTi5wYXJzZShlbGVtZW50LnRleHRDb250ZW50KSBhcyBEYXRhSG9sZGVyKS5kYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbiAgaXRlbS5yZW5kZXIgPSBhc3luYyAocmVzdWx0OiB1bmtub3duKSA9PiB7XG4gICAgY29uc3QgYnVmZmVyID0ge2RhdGE6IHJlc3VsdCBhcyBvYmplY3R9O1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShidWZmZXIpO1xuICB9O1xuICBpdGVtLnZhbGlkYXRlID0gKGFnYWluc3Q6IFRlc3RJdGVtRW50cnkpID0+IHtcbiAgICBjb25zdCBpdGVtVmFsdWUgPSBpdGVtLmdldFZhbHVlISgpO1xuICAgIGNvbnN0IGFnYWluc3RWYWx1ZSA9IGFnYWluc3QuZ2V0VmFsdWUhKCk7XG4gICAgaWYgKGFnYWluc3RbJ2RhdGFQYXR0ZXJuJ10pIHtcbiAgICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChhZ2FpbnN0WydkYXRhUGF0dGVybiddKTtcbiAgICAgIGlmIChyZS50ZXN0KGRpc3BsYXlWYWx1ZShpdGVtVmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGBPYmplY3Qgb24gc3RyZWFtICR7aXRlbS5uYW1lfSBmYWlsZWQgcGF0dGVybiAke1xuICAgICAgICAgIGFnYWluc3RbJ2RhdGFQYXR0ZXJuJ119LiBGT1VORDogJHtkaXNwbGF5VmFsdWUoaXRlbVZhbHVlKX1gKTtcbiAgICB9IGVsc2UgaWYgKGl0ZW1WYWx1ZSA9PT0gYWdhaW5zdFZhbHVlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYE9iamVjdCBvbiBzdHJlYW0gJHtpdGVtLm5hbWV9IGZhaWxlZC4gRk9VTkQ6ICR7XG4gICAgICAgIGRpc3BsYXlWYWx1ZShpdGVtVmFsdWUpfSwgRVhQRUNURUQ6ICR7ZGlzcGxheVZhbHVlKGFnYWluc3RWYWx1ZSl9YCk7XG4gIH07XG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChpdGVtLm5hbWUpO1xuXG4gIGlmIChpdGVtLmRhdGFGaWxlKSB7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGF3YWl0IChhd2FpdCBmZXRjaChpdGVtLmRhdGFGaWxlKSkudGV4dCgpO1xuICB9IGVsc2UgaWYgKGl0ZW0uZGF0YVBhdHRlcm4pIHtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoe2RhdGE6IGl0ZW0uZGF0YX0pO1xuICB9IGVsc2UgaWYgKGl0ZW0uZGF0YSkge1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeSh7ZGF0YTogaXRlbS5kYXRhfSk7XG4gIH1cblxuICBhcHBlbmRUby5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYWxsIG9mIHRoZSB0ZXN0IGl0ZW0gZW50cmllcyBmb3IgZWFjaCBpdGVtIGVudHJ5IHByb3ZpZGVkLlxuICovXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVXb3Jrc3BhY2VJdGVtcyhcbiAgICBpdGVtczogVGVzdEl0ZW1FbnRyeVtdLCBhcHBlbmRUbzogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgYXdhaXQgY3JlYXRlSW1hZ2VJdGVtKGl0ZW0sIGFwcGVuZFRvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgY3JlYXRlT2JqZWN0SXRlbShpdGVtLCBhcHBlbmRUbyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29ubmVjdHMgYSB0ZXN0IGhhcm5lc3MgdXAgdG8gYSBzcGVjaWZpZWQgcm9vdCBub2RlICh1c3VhbGx5IGRvY3VtZW50LmJvZHkpLlxuICogQ2FsbCBgaW5pdGlhbGl6ZWAgdG8gc2V0IHVwIHRoZSBET00uXG4gKlxuICogVXNhZ2U6XG4gKiAxLiBQbGFjZSB0aGUgSlNPTi5zdHJpbmdpZnkgb2YgYSB0ZXN0IGNvbmZpZ3VyYXRpb24gaW50byBhbiBpbnB1dCBlbGVtZW50XG4gKiAgICB3aXRoIHRoZSBjbGFzcyAndGVzdCcgYW5kIHRoZW4gY2xpY2sgb24gYSBidXR0b24gd2l0aCB0aGUgY2xhc3MgJ3J1bi10ZXN0J1xuICogICAgYW5kIHdhaXQgZm9yIHRoZSBkaXYgdGFnIHdpdGggdGhlIGNsYXNzICcudGVzdC1jb21wbGV0ZScgdG8gc2hvdyB0aGUgdGV4dFxuICogICAgJ0NPTVBMRVRFJy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlc3RIYXJuZXNzIHtcbiAgcHJpdmF0ZSB0ZXN0RWxlbWVudCE6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIHByaXZhdGUgZXJyb3JzRWxlbWVudCE6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIHByaXZhdGUgcnVuVGVzdEJ1dHRvbiE6IEhUTUxCdXR0b25FbGVtZW50O1xuICBwcml2YXRlIHRlc3RDb21wbGV0ZUVsZW1lbnQhOiBIVE1MRGl2RWxlbWVudDtcbiAgcHJpdmF0ZSB0ZXN0UmVhZHlFbGVtZW50ITogSFRNTERpdkVsZW1lbnQ7XG4gIHByaXZhdGUgaW5wdXRzITogSFRNTERpdkVsZW1lbnQ7XG4gIHByaXZhdGUgZXhwZWN0cyE6IEhUTUxEaXZFbGVtZW50O1xuICBwcml2YXRlIG91dHB1dHMhOiBIVE1MRGl2RWxlbWVudDtcblxuICBwcml2YXRlIGFzeW5jIG9uUmVzdWx0KHJlc3VsdHM6IHNvbHV0aW9uc0FwaS5SZXN1bHRNYXAsIGNvbmZpZzogVGVzdENvbmZpZyk6XG4gICAgICBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChjb25zdCBvdXRwdXQgb2YgY29uZmlnWyd0ZXN0J10hWydvdXRwdXRzJ10pIHtcbiAgICAgIGNvbnN0IGl0ZW1OYW1lID0gb3V0cHV0WyduYW1lJ107XG4gICAgICBhd2FpdCBvdXRwdXQucmVuZGVyIShyZXN1bHRzW2l0ZW1OYW1lXSk7XG4gICAgICBmb3IgKGNvbnN0IGV4cGVjdCBvZiBjb25maWdbJ3Rlc3QnXSFbJ2V4cGVjdHMnXSkge1xuICAgICAgICBpZiAoZXhwZWN0WyduYW1lJ10gPT09IGl0ZW1OYW1lKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBhd2FpdCBvdXRwdXQudmFsaWRhdGUhKGV4cGVjdCk7XG4gICAgICAgICAgaWYgKGVycm9yTXNnKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChlcnJvck1zZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXJyb3JzRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9ycy5qb2luKCdcXG4nKTtcbiAgICB0aGlzLnRlc3RDb21wbGV0ZUVsZW1lbnQudGV4dENvbnRlbnQgPSBDT01QTEVURTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgdGVzdCBiYXNlZCBvbiB0aGUganNvbiBpbnN0cnVjdGlvbnMgc2l0dGluZyBpbiB0ZXN0RWxlbWVudC5cbiAgICogU2VlIGBvblJlc3VsdGAgZm9yIGhvdyB3ZSBsZWF2ZSBkYXRhIGZvciB0aGUgdGVzdCBoYXJuZXNzIHRvIHJlYWQuXG4gICAqL1xuICBhc3luYyBydW4oY29uZmlnOiBUZXN0Q29uZmlnKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGNvbmZpZ1snc29sdXRpb25VcmwnXSkge1xuICAgICAgY29uc3Qgc29sdXRpb25Kc29uID0gYXdhaXQgKGF3YWl0IGZldGNoKGNvbmZpZ1snc29sdXRpb25VcmwnXSkpLmpzb24oKTtcbiAgICAgIGNvbmZpZ1snc29sdXRpb24nXSA9IHNvbHV0aW9uSnNvbiBhcyBzb2x1dGlvbnNBcGkuU29sdXRpb25Db25maWc7XG4gICAgfVxuICAgIGlmIChjb25maWdbJ3Rlc3RVcmwnXSkge1xuICAgICAgY29uc3QgdGVzdEpzb24gPSBhd2FpdCAoYXdhaXQgZmV0Y2goY29uZmlnWyd0ZXN0VXJsJ10pKS5qc29uKCk7XG4gICAgICBjb25maWdbJ3Rlc3QnXSA9IHRlc3RKc29uIGFzIFRlc3RDYXNlO1xuICAgIH1cbiAgICBpZiAoY29uZmlnWydiaW5hcnlwYiddKSB7XG4gICAgICBjb25maWdbJ3NvbHV0aW9uJ10hWydncmFwaCddID0geyd1cmwnOiBjb25maWdbJ2JpbmFyeXBiJ119O1xuICAgIH1cbiAgICBjb25zdCB0ZXN0TmFtZSA9IGNvbmZpZ1snbmFtZSddO1xuICAgIGNvbmZpZ1snc29sdXRpb24nXSFbJ2ZpbGVzJ10gPSBjb25maWdbJ3NvbHV0aW9uJ10hWydmaWxlcyddIHx8IFtdO1xuICAgIGNvbmZpZ1snc29sdXRpb24nXSFbJ2ZpbGVzJ10gPSBbXG4gICAgICAuLi5jb25maWdbJ3NvbHV0aW9uJ10hWydmaWxlcyddLFxuICAgICAge3VybDogYCR7dGVzdE5hbWV9X3dlYl9zb2x1dGlvbl9wYWNrZWRfYXNzZXRzX2xvYWRlci5qc2B9LFxuICAgICAge3NpbWQ6IGZhbHNlLCB1cmw6IGAke3Rlc3ROYW1lfV93ZWJfc29sdXRpb25fd2FzbV9iaW4uanNgfSxcbiAgICAgIHtzaW1kOiB0cnVlLCB1cmw6IGAke3Rlc3ROYW1lfV93ZWJfc29sdXRpb25fc2ltZF93YXNtX2Jpbi5qc2B9XG4gICAgXTtcblxuICAgIGNvbnN0IHNvbHV0aW9uID0gYXdhaXQgbmV3IFRlc3RTb2x1dGlvbihjb25maWdbJ3NvbHV0aW9uJ10hKS5pbml0aWFsaXplKCk7XG5cbiAgICBhd2FpdCBjcmVhdGVXb3Jrc3BhY2VJdGVtcyhjb25maWdbJ3Rlc3QnXSFbJ2lucHV0cyddLCB0aGlzLmlucHV0cyk7XG4gICAgYXdhaXQgY3JlYXRlV29ya3NwYWNlSXRlbXMoY29uZmlnWyd0ZXN0J10hWydleHBlY3RzJ10sIHRoaXMuZXhwZWN0cyk7XG4gICAgYXdhaXQgY3JlYXRlV29ya3NwYWNlSXRlbXMoY29uZmlnWyd0ZXN0J10hWydvdXRwdXRzJ10sIHRoaXMub3V0cHV0cyk7XG4gICAgYXdhaXQgZmx1c2hEb20oKTtcblxuICAgIGNvbnN0IGlucHV0czoge1trZXk6IHN0cmluZ106IHVua25vd259ID0ge307XG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiBjb25maWdbJ3Rlc3QnXSFbJ2lucHV0cyddKSB7XG4gICAgICBpbnB1dHNbaW5wdXQubmFtZV0gPSBpbnB1dC5nZXRWYWx1ZSEoKTtcbiAgICB9XG4gICAgdGhpcy50ZXN0UmVhZHlFbGVtZW50LnRleHRDb250ZW50ID0gQ09NUExFVEU7XG4gICAgaWYgKGNvbmZpZ1sndGVzdCddIVsnb3B0aW9ucyddICYmIGNvbmZpZ1sndGVzdCddIVsnb3B0aW9ucyddWyd3YXJtdXAnXSkge1xuICAgICAgY29uc3Qgd2FybXVwID0gY29uZmlnWyd0ZXN0J10hWydvcHRpb25zJ11bJ3dhcm11cCddO1xuICAgICAgZm9yIChsZXQgbG9vcCA9IDA7IGxvb3AgPCB3YXJtdXA7IGxvb3ArKykge1xuICAgICAgICBhd2FpdCBzb2x1dGlvbi5zZW5kKGlucHV0cyk7XG4gICAgICB9XG4gICAgfVxuICAgIHNvbHV0aW9uLm9uUmVzdWx0cygoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5vblJlc3VsdChkYXRhLCBjb25maWcpO1xuICAgIH0pO1xuICAgIGF3YWl0IHNvbHV0aW9uLnNlbmQoaW5wdXRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoZSB0ZXN0IGFuZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBydW4gaXMgY2FsbGVkLiBCeSBkZXNpZ24sXG4gICAqIHJ1biB3aWxsIGJlIGNhbGxlZCBieSBzaW11bGF0aW5nIGEgY2xpY2sgb24gYSBidXR0b24gd2l0aCBjbGFzcyBgcnVuLXRlc3RgLlxuICAgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnRlc3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3QnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgIHRoaXMucnVuVGVzdEJ1dHRvbiA9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ydW4tdGVzdCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIHRoaXMudGVzdENvbXBsZXRlRWxlbWVudCA9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXN0LWNvbXBsZXRlJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgdGhpcy5lcnJvcnNFbGVtZW50ID1cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9ycycpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgdGhpcy50ZXN0UmVhZHlFbGVtZW50ID1cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3QtcmVhZHknKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICB0aGlzLm91dHB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3V0cHV0cycpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIHRoaXMuZXhwZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5leHBlY3RzJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgdGhpcy5pbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXRzJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgdGhpcy5ydW5UZXN0QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLnJ1bihKU09OLnBhcnNlKHRoaXMudGVzdEVsZW1lbnQudmFsdWUpIGFzIFRlc3RDb25maWcpO1xuICAgIH07XG4gICAgYXdhaXQgZmx1c2hEb20oKTtcbiAgfVxufVxuIl19
+;return exports;});
+
+//third_party/mediapipe/web/solutions/test_harness/test_harness_driver.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ *
+ * @fileoverview Load and initialize the test_harness. Interact with the page
+ * to run the test.
+ *
+ * Generated from: third_party/mediapipe/web/solutions/test_harness/test_harness_driver.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.test_harness.test_harness_driver');
+var module = module || { id: 'third_party/mediapipe/web/solutions/test_harness/test_harness_driver.closure.js' };
+goog.require('google3.third_party.javascript.tslib.tslib');
+const tsickle_test_harness_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.test_harness.test_harness");
+const test_harness_1 = goog.require('google3.third_party.mediapipe.web.solutions.test_harness.test_harness');
+/** @type {!tsickle_test_harness_1.TestHarness} */
+const harness = new test_harness_1.TestHarness();
+harness.initialize();
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdF9oYXJuZXNzX2RyaXZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L21lZGlhcGlwZS93ZWIvc29sdXRpb25zL3Rlc3RfaGFybmVzcy90ZXN0X2hhcm5lc3NfZHJpdmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUtBLDZHQUFrRzs7TUFFNUYsT0FBTyxHQUFHLElBQUksMEJBQVcsRUFBRTtBQUNqQyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgTG9hZCBhbmQgaW5pdGlhbGl6ZSB0aGUgdGVzdF9oYXJuZXNzLiBJbnRlcmFjdCB3aXRoIHRoZSBwYWdlXG4gKiB0byBydW4gdGhlIHRlc3QuXG4gKi9cblxuaW1wb3J0IHtUZXN0SGFybmVzc30gZnJvbSAnZ29vZ2xlMy90aGlyZF9wYXJ0eS9tZWRpYXBpcGUvd2ViL3NvbHV0aW9ucy90ZXN0X2hhcm5lc3MvdGVzdF9oYXJuZXNzJztcblxuY29uc3QgaGFybmVzcyA9IG5ldyBUZXN0SGFybmVzcygpO1xuaGFybmVzcy5pbml0aWFsaXplKCk7XG4iXX0=
+;return exports;});
+
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness_driver_bin.MF b/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness_driver_bin.MF
new file mode 100644
index 0000000000000..771f10c54ac28
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness_driver_bin.MF
@@ -0,0 +1,7 @@
+javascript/closure/base.js
+third_party/javascript/tslib/tslib_closure.js
+third_party/mediapipe/web/solutions/shader_utils.closure.js
+third_party/mediapipe/web/solutions/stream_helpers.closure.js
+third_party/mediapipe/web/solutions/solutions_api.closure.js
+third_party/mediapipe/web/solutions/test_harness/test_harness.closure.js
+third_party/mediapipe/web/solutions/test_harness/test_harness_driver.closure.js
diff --git a/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness_driver_bin.js b/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness_driver_bin.js
new file mode 100644
index 0000000000000..8e8a774e4678d
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/scoob_part2_test/test_harness_driver_bin.js
@@ -0,0 +1,58 @@
+(function(){/*
+
+ Copyright The Closure Library Authors.
+ SPDX-License-Identifier: Apache-2.0
+*/
+'use strict';function ba(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}}var u="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){if(b==Array.prototype||b==Object.prototype)return b;b[a]=c.value;return b};
+function ca(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<b.length;++a){var c=b[a];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var x=ca(this);function y(b,a){if(a)a:{var c=x;b=b.split(".");for(var d=0;d<b.length-1;d++){var e=b[d];if(!(e in c))break a;c=c[e]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&u(c,b,{configurable:!0,writable:!0,value:a})}}
+y("Symbol",function(b){function a(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(e||"")+"_"+d++,e)}function c(e,k){this.g=e;u(this,"description",{configurable:!0,writable:!0,value:k})}if(b)return b;c.prototype.toString=function(){return this.g};var d=0;return a});
+y("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<a.length;c++){var d=x[a[c]];"function"===typeof d&&"function"!=typeof d.prototype[b]&&u(d.prototype,b,{configurable:!0,writable:!0,value:function(){return da(ba(this))}})}return b});function da(b){b={next:b};b[Symbol.iterator]=function(){return this};return b}
+function G(b){var a="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return a?a.call(b):{next:ba(b)}}function ea(b){if(!(b instanceof Array)){b=G(b);for(var a,c=[];!(a=b.next()).done;)c.push(a.value);b=c}return b}var I;if("function"==typeof Object.setPrototypeOf)I=Object.setPrototypeOf;else{var K;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;K=ha.a;break a}catch(b){}K=!1}I=K?function(b,a){b.__proto__=a;if(b.__proto__!==a)throw new TypeError(b+" is not extensible");return b}:null}
+var ia=I;function L(){this.l=!1;this.i=null;this.h=void 0;this.g=1;this.s=this.m=0;this.j=null}function M(b){if(b.l)throw new TypeError("Generator is already running");b.l=!0}L.prototype.o=function(b){this.h=b};function N(b,a){b.j={M:a,N:!0};b.g=b.m||b.s}L.prototype.return=function(b){this.j={return:b};this.g=this.s};function O(b,a,c){b.g=c;return{value:a}}function ja(b){this.g=new L;this.h=b}
+function ka(b,a){M(b.g);var c=b.g.i;if(c)return P(b,"return"in c?c["return"]:function(d){return{value:d,done:!0}},a,b.g.return);b.g.return(a);return Q(b)}function P(b,a,c,d){try{var e=a.call(b.g.i,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return b.g.l=!1,e;var k=e.value}catch(f){return b.g.i=null,N(b.g,f),Q(b)}b.g.i=null;d.call(b.g,k);return Q(b)}
+function Q(b){for(;b.g.g;)try{var a=b.h(b.g);if(a)return b.g.l=!1,{value:a.value,done:!1}}catch(c){b.g.h=void 0,N(b.g,c)}b.g.l=!1;if(b.g.j){a=b.g.j;b.g.j=null;if(a.N)throw a.M;return{value:a.return,done:!0}}return{value:void 0,done:!0}}
+function la(b){this.next=function(a){M(b.g);b.g.i?a=P(b,b.g.i.next,a,b.g.o):(b.g.o(a),a=Q(b));return a};this.throw=function(a){M(b.g);b.g.i?a=P(b,b.g.i["throw"],a,b.g.o):(N(b.g,a),a=Q(b));return a};this.return=function(a){return ka(b,a)};this[Symbol.iterator]=function(){return this}}function R(b,a){a=new la(new ja(a));ia&&b.prototype&&ia(a,b.prototype);return a}
+var ma="function"==typeof Object.assign?Object.assign:function(b,a){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b};y("Object.assign",function(b){return b||ma});
+y("Promise",function(b){function a(f){this.h=0;this.i=void 0;this.g=[];this.o=!1;var g=this.j();try{f(g.resolve,g.reject)}catch(h){g.reject(h)}}function c(){this.g=null}function d(f){return f instanceof a?f:new a(function(g){g(f)})}if(b)return b;c.prototype.h=function(f){if(null==this.g){this.g=[];var g=this;this.i(function(){g.l()})}this.g.push(f)};var e=x.setTimeout;c.prototype.i=function(f){e(f,0)};c.prototype.l=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var g=0;g<f.length;++g){var h=
+f[g];f[g]=null;try{h()}catch(l){this.j(l)}}}this.g=null};c.prototype.j=function(f){this.i(function(){throw f;})};a.prototype.j=function(){function f(l){return function(n){h||(h=!0,l.call(g,n))}}var g=this,h=!1;return{resolve:f(this.C),reject:f(this.l)}};a.prototype.C=function(f){if(f===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof a)this.J(f);else{a:switch(typeof f){case "object":var g=null!=f;break a;case "function":g=!0;break a;default:g=!1}g?this.B(f):this.m(f)}};
+a.prototype.B=function(f){var g=void 0;try{g=f.then}catch(h){this.l(h);return}"function"==typeof g?this.K(g,f):this.m(f)};a.prototype.l=function(f){this.s(2,f)};a.prototype.m=function(f){this.s(1,f)};a.prototype.s=function(f,g){if(0!=this.h)throw Error("Cannot settle("+f+", "+g+"): Promise already settled in state"+this.h);this.h=f;this.i=g;2===this.h&&this.I();this.G()};a.prototype.I=function(){var f=this;e(function(){if(f.H()){var g=x.console;"undefined"!==typeof g&&g.error(f.i)}},1)};a.prototype.H=
+function(){if(this.o)return!1;var f=x.CustomEvent,g=x.Event,h=x.dispatchEvent;if("undefined"===typeof h)return!0;"function"===typeof f?f=new f("unhandledrejection",{cancelable:!0}):"function"===typeof g?f=new g("unhandledrejection",{cancelable:!0}):(f=x.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.i;return h(f)};a.prototype.G=function(){if(null!=this.g){for(var f=0;f<this.g.length;++f)k.h(this.g[f]);this.g=null}};var k=new c;a.prototype.J=
+function(f){var g=this.j();f.D(g.resolve,g.reject)};a.prototype.K=function(f,g){var h=this.j();try{f.call(g,h.resolve,h.reject)}catch(l){h.reject(l)}};a.prototype.then=function(f,g){function h(q,r){return"function"==typeof q?function(w){try{l(q(w))}catch(p){n(p)}}:r}var l,n,v=new a(function(q,r){l=q;n=r});this.D(h(f,l),h(g,n));return v};a.prototype.catch=function(f){return this.then(void 0,f)};a.prototype.D=function(f,g){function h(){switch(l.h){case 1:f(l.i);break;case 2:g(l.i);break;default:throw Error("Unexpected state: "+
+l.h);}}var l=this;null==this.g?k.h(h):this.g.push(h);this.o=!0};a.resolve=d;a.reject=function(f){return new a(function(g,h){h(f)})};a.race=function(f){return new a(function(g,h){for(var l=G(f),n=l.next();!n.done;n=l.next())d(n.value).D(g,h)})};a.all=function(f){var g=G(f),h=g.next();return h.done?d([]):new a(function(l,n){function v(w){return function(p){q[w]=p;r--;0==r&&l(q)}}var q=[],r=0;do q.push(void 0),r++,d(h.value).D(v(q.length-1),n),h=g.next();while(!h.done)})};return a});
+function qa(b,a){b instanceof String&&(b+="");var c=0,d=!1,e={next:function(){if(!d&&c<b.length){var k=c++;return{value:a(k,b[k]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}y("Array.prototype.keys",function(b){return b?b:function(){return qa(this,function(a){return a})}});var ra=this||self;
+function sa(b,a){b=b.split(".");var c=ra;b[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+b[0]);for(var d;b.length&&(d=b.shift());)b.length||void 0===a?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=a};function S(b,a){var c=void 0;return new (c||(c=Promise))(function(d,e){function k(h){try{g(a.next(h))}catch(l){e(l)}}function f(h){try{g(a["throw"](h))}catch(l){e(l)}}function g(h){h.done?d(h.value):(new c(function(l){l(h.value)})).then(k,f)}g((a=a.apply(b,void 0)).next())})};function ta(b,a,c){c=b.createShader(0===c?b.VERTEX_SHADER:b.FRAGMENT_SHADER);b.shaderSource(c,a);b.compileShader(c);if(!b.getShaderParameter(c,b.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+b.getShaderInfoLog(c));return c};function T(b,a){this.g=b;this.i=a;this.j=0}
+T.prototype.A=function(b){var a=this.i;if(void 0===this.l){var c=ta(a,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),d=ta(a,"\n  precision highp float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),e=a.createProgram();a.attachShader(e,c);a.attachShader(e,d);a.linkProgram(e);if(!a.getProgramParameter(e,
+a.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+a.getProgramInfoLog(e));c=this.l=e;a.useProgram(c);d=a.getUniformLocation(c,"sampler0");this.h={v:a.getAttribLocation(c,"aVertex"),u:a.getAttribLocation(c,"aTex"),T:d};this.o=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.o);a.enableVertexAttribArray(this.h.v);a.vertexAttribPointer(this.h.v,2,a.FLOAT,!1,0,0);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,null);this.m=
+a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.m);a.enableVertexAttribArray(this.h.u);a.vertexAttribPointer(this.h.u,2,a.FLOAT,!1,0,0);a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,null);a.uniform1i(d,0)}c=this.h;a.useProgram(this.l);a.canvas.width=b.width;a.canvas.height=b.height;a.viewport(0,0,b.width,b.height);a.activeTexture(a.TEXTURE0);this.g.bindTexture2d(b.glName);a.enableVertexAttribArray(c.v);a.bindBuffer(a.ARRAY_BUFFER,this.o);
+a.vertexAttribPointer(c.v,2,a.FLOAT,!1,0,0);a.enableVertexAttribArray(c.u);a.bindBuffer(a.ARRAY_BUFFER,this.m);a.vertexAttribPointer(c.u,2,a.FLOAT,!1,0,0);a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null);a.drawArrays(a.TRIANGLE_FAN,0,4);a.disableVertexAttribArray(c.v);a.disableVertexAttribArray(c.u);a.bindBuffer(a.ARRAY_BUFFER,null);this.g.bindTexture2d(0)};var ua=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function va(b,a){return a+b}function wa(b,a){window[b]=a}function xa(b){var a=document.createElement("script");a.setAttribute("src",b);a.setAttribute("crossorigin","anonymous");document.body.appendChild(a);return new Promise(function(c){a.addEventListener("load",function(){c()},!1)})}
+function U(b){for(var a=[],c=b.size(),d=0;d<c;++d){var e=b.get(d);a.push({x:e.x,y:e.y,z:e.z,visibility:e.hasVisibility?e.visibility:void 0})}return a}function ya(b){for(var a=[],c=b.size(),d=0;d<c;++d){var e=b.get(d);a.push({index:e.index,score:e.score,label:e.hasLabel?e.label:void 0,displayName:e.hasDisplayName?e.displayName:void 0})}return a}function za(b,a,c){this.graph=b;this.locateFile=a;this.g=c}
+za.prototype.toArrayBuffer=function(){return S(this,function a(){var c=this,d;return R(a,function(e){return 1==e.g?(c.graph.url?e=O(e,fetch(c.locateFile(c.graph.url,c.g)),3):(e.g=2,e=void 0),e):2!=e.g&&(d=e.h,d.body)?e.return(d.arrayBuffer()):e.return(new ArrayBuffer(0))})})};
+function Aa(){return S(this,function a(){return R(a,function(c){switch(c.g){case 1:return c.m=2,O(c,WebAssembly.instantiate(ua),4);case 4:c.g=3;c.m=0;break;case 2:return c.m=0,c.j=null,c.return(!1);case 3:return c.return(!0)}})})}
+function V(b){this.h=b;this.listeners={};this.G={};this.j={};this.H=this.B=!0;this.o=Promise.resolve();this.locateFile=b&&b.locateFile||va;if("object"===typeof window)b=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if("undefined"!==typeof location)b=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");this.s=b}
+V.prototype.close=function(){this.i&&this.i.delete();return Promise.resolve()};
+function Ba(b){return S(b,function c(){var d=this,e,k,f,g,h,l,n,v,q;return R(c,function(r){switch(r.g){case 1:e=d;if(!d.B)return r.return();wa("createMediapipeSolutionsWasm",{locateFile:d.locateFile});wa("createMediapipeSolutionsPackedAssets",{locateFile:d.locateFile});k=d.h.files||[];return O(r,Aa(),2);case 2:return f=r.h,O(r,Promise.all(k.map(function(w){return void 0===w.simd||w.simd&&f||!w.simd&&!f?xa(e.locateFile(w.url,e.s)):Promise.resolve()})),3);case 3:return g=window.createMediapipeSolutionsWasm,
+h=window.createMediapipeSolutionsPackedAssets,O(r,g(h),4);case 4:return d.g=r.h,d.m=document.createElement("canvas"),d.g.canvas=d.m,d.g.createContext(d.m,!0,!0,{}),d.i=new d.g.SolutionWasm,l=new za(d.h.graph,d.locateFile,d.s),O(r,d.loadGraph(l),5);case 5:if(d.h.listeners)for(n=G(d.h.listeners),v=n.next();!v.done;v=n.next())q=v.value,Ca(d,q);d.B=!1;r.g=0}})})}
+function Da(b){return S(b,function c(){var d=this,e,k,f,g,h;return R(c,function(l){if(!d.H)return l.return();e=d.m.getContext("webgl2");if(!e)return alert("Failed to create WebGL canvas context when passing video frame."),l.return();d.l=e;if(d.C){k=new d.g.GraphOptionChangeRequestList;f=G(d.C);for(g=f.next();!g.done;g=f.next())h=g.value,k.push_back(h);d.i.changeOptions(k);k.delete();d.C=void 0}d.H=!1;l.g=0})})}
+function Ea(b){return S(b,function c(){var d=this;return R(c,function(e){return 1==e.g?O(e,Ba(d),2):O(e,Da(d),0)})})}V.prototype.loadGraph=function(b){return S(this,function c(){var d,e=this;return R(c,function(k){if(1==k.g)return O(k,b.toArrayBuffer(),2);d=k.h;e.i.loadGraph(d);k.g=0})})};
+V.prototype.send=function(b,a){return S(this,function d(){var e=this,k,f,g,h,l,n,v,q;return R(d,function(r){if(1==r.g){if(!e.h.inputs)return r.return();k=1E3*(a||performance.now());return O(r,e.o,2)}if(3!=r.g)return O(r,Ea(e),3);f=new e.g.PacketDataList;g=G(Object.keys(b));for(h=g.next();!h.done;h=g.next())if(l=h.value,n=e.h.inputs[l]){a:{var w=b[l];switch(n.type){case "video":var p=e.G[n.stream];p||(p=new T(e.g,e.l),e.G[n.stream]=p);0===p.j&&(p.j=p.g.createTexture());if(w instanceof HTMLVideoElement){var m=
+w.videoWidth;var C=w.videoHeight}else w instanceof HTMLImageElement?(m=w.naturalWidth,C=w.naturalHeight):(m=w.width,C=w.height);C={glName:p.j,width:m,height:C};m=p.i;m.canvas.width=C.width;m.canvas.height=C.height;m.activeTexture(m.TEXTURE0);p.g.bindTexture2d(p.j);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,w);p.g.bindTexture2d(0);p=C;break a;default:p={}}}v=p;q=n.stream;f.pushTexture2d(Object.assign(Object.assign({},v),{stream:q,timestamp:k}))}e.i.send(f);f.delete();r.g=0})})};
+function Fa(b,a,c){if(c.isNumber())return c.getNumber();if(c.isRect())return c.getRect();if(c.isLandmarks())return c.getLandmarks();if(c.isLandmarksList())return c.getLandmarksList();if(c.isClassificationsList())return c.getClassificationsList();if(c.isObjectDetectionList())return c.getObjectDetectionList();if(c.isTexture2d()){var d=b.j[a];d||(d=new T(b.g,b.l),b.j[a]=d);b=d;c=c.getTexture2d();b.A(c);return b.i.canvas}}
+function Ca(b,a){for(var c=a.name||"$",d=[].concat(ea(a.wants)),e=new b.g.StringList,k=G(a.wants),f=k.next();!f.done;f=k.next())e.push_back(f.value);k=b.g.PacketListener.implement({onResults:function(g){return S(b,function l(){var n,v,q=this,r,w,p;return R(l,function(m){if(1==m.g){n={};for(v=0;v<a.wants.length;++v)n[d[v]]=g.get(v);var C;if(C=a.outs){for(var H={},na=G(Object.keys(C)),A=na.next();!A.done;A=na.next()){A=A.value;var F=C[A];if("string"===typeof F)H[A]=Fa(q,A,n[F]);else{var z=n[F.stream];
+if(void 0!==z){if("detection_list"===F.type){var t=z.getRectList(),D=z.getLandmarksList();z=z.getClassificationsList();var B=[];if(t)for(var E=0;E<t.size();++E){var Y={O:t.get(E),S:U(D.get(E)),P:ya(z.get(E))};B.push(Y)}H[A]=B}else if("landmarks"===F.type)t=z.getLandmarks(),H[A]=t?U(t):void 0;else if("landmarks_list"===F.type){if(t=z.getLandmarksList()){D=[];z=t.size();for(B=0;B<z;++B)E=t.get(B),D.push(U(E));t=D}else t=void 0;H[A]=t}else if("rect_list"===F.type){if(t=z.getRectList()){D=[];z=t.size();
+for(B=0;B<z;++B)E=t.get(B),D.push(E);t=D}else t=void 0;H[A]=t}else if("classifications_list"===F.type){if(t=z.getClassificationsList()){D=[];z=t.size();for(B=0;B<z;++B)E=t.get(B),D.push(ya(E));t=D}else t=void 0;H[A]=t}else if("object_detection_list"===F.type){if(t=z.getObjectDetectionList()){D=[];z=t.size();for(B=0;B<z;++B){var Z=t.get(B);E=D;Y=E.push;for(var Ka=Z.id,oa=Z.keypoints,pa=[],La=oa.size(),aa=0;aa<La;++aa){var J=oa.get(aa);pa.push({id:J.id,point3d:{x:J.point3d.x,y:J.point3d.y,z:J.point3d.z},
+point2d:{x:J.point2d.x,y:J.point2d.y,depth:J.point2d.depth}})}Y.call(E,{id:Ka,keypoints:pa,visibility:Z.visibility})}t=D}else t=void 0;H[A]=t}else if("texture"===F.type)t=q.j[A],t||(t=new T(q.g,q.l),q.j[A]=t),D=z.getTexture2d(),t.A(D),H[A]=t.i.canvas;else throw Error("Unknown output config type: '"+F.type+"'");F.transform&&H[A]&&(H[A]=F.transform(H[A]))}}}C=H}else C=n;r=C;(w=q.listeners[c])?m=O(m,q.o,3):(m.g=0,m=void 0);return m}if(p=w(r))return q.o=p,m.return(p);m.g=0})})}});b.i.attachMultiListener(e,
+k);e.delete()}V.prototype.onResults=function(b,a){this.listeners[a||"$"]=b};sa("Solution",V);sa("OptionType",{NUMBER:0,BOOL:1,0:"NUMBER",1:"BOOL"});function Ga(){var b=this;return new Promise(function(a){setTimeout(function(){return S(b,function d(){return R(d,function(e){a();e.g=0})})},0)})}function W(b){this.g=new V(b)}W.prototype.close=function(){this.g.close();return Promise.resolve()};function Ha(b){return S(b,function c(){var d=this;return R(c,function(e){return 1==e.g?O(e,Ea(d.g),2):e.return(d)})})}W.prototype.send=function(b){return S(this,function c(){var d=this;return R(c,function(e){return O(e,d.g.send(b),0)})})};
+W.prototype.onResults=function(b){this.g.onResults(b)};function X(b){return b instanceof Object?JSON.stringify(b):""+b}function Ia(b,a){var c=document.createElement("canvas"),d=c.getContext("2d");b.width=c.width=a.width;b.height=c.height=a.height;d.clearRect(0,0,a.width,a.height);d.drawImage(a,0,0,a.width,a.height);return new Promise(function(e){b.onload=function(){e()};b.src=c.toDataURL()})}
+function Ja(b){var a=document.createElement("canvas");a.width=b.width;a.height=b.height;var c=a.getContext("2d");c.drawImage(b,0,0,b.width,b.height);return c.getImageData(0,0,a.width,a.height)}
+function Ma(b,a,c,d){return new Promise(function(e){a.width===c.width&&a.height===c.height||e("Image on stream "+b+": Dimensions don't match. FOUND: "+a.width+"x"+a.height+", EXPECTED: "+c.width+"x"+c.height);for(var k=Ja(a).data,f=Ja(c).data,g=0,h=0;h<k.length/4;h++)g+=Math.abs(k[4*h]-f[4*h])/255,g+=Math.abs(k[4*h+1]-f[4*h+1])/255,g+=Math.abs(k[4*h+2]-f[4*h+2])/255;k=100*g/(a.width*a.height*3);k>d&&e("Image on stream "+b+": Failed within a tolerance of "+d+" (was "+k+").");e(void 0)})}
+function Na(b,a){var c=document.createElement("div");c.classList.add("stream");c.textContent="Stream: "+b.name;a.appendChild(c)}
+function Oa(b,a){var c=this;Na(b,a);var d=b.element=document.createElement("img");d.classList.add(b.name);a.appendChild(d);b.F=function(){return b.element};b.A=function(k){return S(c,function g(){return R(g,function(h){return O(h,Ia(d,k),0)})})};b.validate=function(k){return S(c,function g(){return R(g,function(h){return h.return(Ma(b.name,b.element,k.element,k.tolerance||0))})})};var e=b.src;return e?new Promise(function(k){d.onload=function(){return S(c,function g(){return R(g,function(h){k();h.g=
+0})})};d.onerror=function(){throw Error("Image "+e+" did not load correctly.");};d.src=e}):Promise.resolve()}
+function Pa(b,a){return S(this,function d(){var e=this,k,f,g;return R(d,function(h){switch(h.g){case 1:k=e;Na(b,a);f=b.element=document.createElement("div");b.F=function(){if(f.textContent)return JSON.parse(f.textContent).data};b.A=function(l){return S(k,function v(){var q;return R(v,function(r){q={data:l};f.textContent=JSON.stringify(q);r.g=0})})};b.validate=function(l){var n=b.F(),v=l.F();return l.dataPattern?(new RegExp(l.dataPattern)).test(X(n))?Promise.resolve(void 0):Promise.resolve("Object on stream "+
+b.name+" failed pattern "+l.dataPattern+". FOUND: "+X(n)):n===v?Promise.resolve(void 0):Promise.resolve("Object on stream "+b.name+" failed. FOUND: "+X(n)+", EXPECTED: "+X(v))};f.classList.add(b.name);if(!b.L){b.R?f.textContent=JSON.stringify({data:b.data}):b.data&&(f.textContent=JSON.stringify({data:b.data}));h.g=2;break}g=f;return O(h,fetch(b.L),4);case 4:return O(h,h.h.text(),3);case 3:g.textContent=h.h;case 2:return a.appendChild(f),h.return(Promise.resolve())}})})}
+function Qa(b,a){return S(this,function d(){var e,k,f;return R(d,function(g){1==g.g&&(e=G(b),k=e.next());if(3!=g.g){if(k.done){g.g=0;return}f=k.value;return"video"===f.type?O(g,Oa(f,a),3):O(g,Pa(f,a),3)}k=e.next();g.g=2})})}
+function Ra(b,a,c){S(b,function e(){var k,f,g,h,l,n,v,q,r,w=this;return R(e,function(p){switch(p.g){case 1:k=[],f=G(c.test.outputs),g=f.next();case 2:if(g.done){p.g=4;break}h=g.value;l=h.name;return O(p,h.A(a[l]),5);case 5:n=G(c.test.expects),v=n.next();case 6:if(v.done){p.g=3;break}q=v.value;if(q.name!==l){p.g=7;break}return O(p,h.validate(q),10);case 10:(r=p.h)&&k.push(r);p.g=3;break;case 7:v=n.next();p.g=6;break;case 3:g=f.next();p.g=2;break;case 4:w.h.textContent=k.join("\n"),w.l.textContent=
+"COMPLETE",p.g=0}})})}
+function Sa(b,a){S(b,function d(){var e=this,k,f,g,h,l,n,v,q,r,w,p;return R(d,function(m){switch(m.g){case 1:k=e;if(!a.solutionUrl){m.g=2;break}return O(m,fetch(a.solutionUrl),4);case 4:return O(m,m.h.json(),3);case 3:f=m.h,a.solution=f;case 2:if(!a.testUrl){m.g=5;break}return O(m,fetch(a.testUrl),7);case 7:return O(m,m.h.json(),6);case 6:g=m.h,a.test=g;case 5:return a.binarypb&&(a.solution.graph={url:a.binarypb}),h=a.name,a.solution.files=a.solution.files||[],a.solution.files=[].concat(ea(a.solution.files),
+[{url:h+"_web_solution_packed_assets_loader.js"},{simd:!1,url:h+"_web_solution_wasm_bin.js"},{simd:!0,url:h+"_web_solution_simd_wasm_bin.js"}]),O(m,Ha(new W(a.solution)),8);case 8:return l=m.h,O(m,Qa(a.test.inputs,e.inputs),9);case 9:return O(m,Qa(a.test.expects,e.i),10);case 10:return O(m,Qa(a.test.outputs,e.g),11);case 11:return O(m,Ga(),12);case 12:n={};v=G(a.test.inputs);for(q=v.next();!q.done;q=v.next())r=q.value,n[r.name]=r.F();e.o.textContent="COMPLETE";if(!a.test.options||!a.test.options.warmup){m.g=
+13;break}w=a.test.options.warmup;p=0;case 14:if(!(p<w)){m.g=13;break}return O(m,l.send(n),15);case 15:p++;m.g=14;break;case 13:return l.onResults(function(C){Ra(k,C,a)}),O(m,l.send(n),0)}})})};S(new function(){},function Ta(){var a=this,c;return R(Ta,function(d){c=a;a.m=document.querySelector(".test");a.j=document.querySelector(".run-test");a.l=document.querySelector(".test-complete");a.h=document.querySelector(".errors");a.o=document.querySelector(".test-ready");a.g=document.querySelector(".outputs");a.i=document.querySelector(".expects");a.inputs=document.querySelector(".inputs");a.j.onclick=function(){Sa(c,JSON.parse(c.m.value))};return O(d,Ga(),0)})});}).call(this);
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/_CLICK_ME_TO_RUN_style_black_and_white_test_LOCALLY.html b/content/test/data/gpu/mediapipe/style_black_and_white_test/_CLICK_ME_TO_RUN_style_black_and_white_test_LOCALLY.html
new file mode 100644
index 0000000000000..0b0d5aa65af71
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/_CLICK_ME_TO_RUN_style_black_and_white_test_LOCALLY.html
@@ -0,0 +1,96 @@
+<!DOCTYPE html>
+<html>
+  <head>
+    <style>
+      textarea { width: 500px; height: 100px; }
+      body {
+        font-family: Arial, Helvetica, sans-serif;
+      }
+      .group {
+        background-color: #e0eef3;
+        padding: 5px;
+        margin: 5px;
+      }
+      .instructions {
+        padding-bottom: 5px;
+      }
+      .run-test { width: 500px; }
+      .status { font-weight: 600; }
+      .title { font-size: 18pt; font-weight: 600; padding-bottom: 20px; }
+      .outputs, .inputs, .expects {
+        display: inline-block;
+        min-width: 20px;
+        min-height: 20px;
+        padding: 10px;
+        margin: 5px;
+      }
+      .inputs { background-color: red; }
+      .expects { background-color: orange; }
+      .outputs { background-color: green; }
+    </style>
+    <title>MediaPipe Graph Test for Web</title>
+  </head>
+<body>
+
+  <div class="title">Mediapipe for Web: style_black_and_white_test</div>
+
+  <div class="group">
+    <div class="instructions">
+      Test is loaded into the following input element:
+    </div>
+    <div class="input">
+      <textarea class="test"></textarea>
+    </div>
+    <button class="run-test">
+      Run Test
+    </button>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      When the graph loads, loaded status will turn COMPLETE.
+      When the test finishes, test status will turn COMPLETE.
+    </div>
+
+    <div class="status">
+      <span class="instructions">Loaded Status:</span>
+      <span class="test-ready">INCOMPLETE</span>
+    </div>
+
+    <div class="status">
+      <span class="instructions">Test Status:</span>
+      <span class="test-complete">INCOMPLETE</span>
+    </div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">Errors (if any) will show up here:</div>
+    <div class="errors"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Inputs:
+    </div>
+    <div class="inputs"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Expectations:
+    </div>
+    <div class="expects"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Outputs:
+    </div>
+    <div class="outputs"></div>
+  </div>
+
+</body>
+</html>
+<script src="test_harness_driver_bin.js"></script>
+<!-- The following line is replaced for the ":<name>_serve" target. Do not hand edit. -->
+<script src="style_black_and_white_test_localdriver_bin.js"></script>
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/effects_graph_config.json b/content/test/data/gpu/mediapipe/style_black_and_white_test/effects_graph_config.json
new file mode 100644
index 0000000000000..17657cb283c2e
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/effects_graph_config.json
@@ -0,0 +1,10 @@
+{
+  "files": [ ],
+  "inputs": {
+    "image": {"type": "video", "stream": "input_video"}
+  },
+  "listeners": [{
+    "wants": ["output_video"],
+    "outs": { "image": "output_video" }
+  }]
+}
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_localdriver_bin.js b/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_localdriver_bin.js
new file mode 100644
index 0000000000000..ed9636a0afe58
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_localdriver_bin.js
@@ -0,0 +1,6 @@
+(function(){/*
+
+ Copyright The Closure Library Authors.
+ SPDX-License-Identifier: Apache-2.0
+*/
+'use strict';var d=this||self;function f(b,e){b=b.split(".");var a=d;b[0]in a||"undefined"==typeof a.execScript||a.execScript("var "+b[0]);for(var c;b.length&&(c=b.shift());)b.length||void 0===e?a[c]&&a[c]!==Object.prototype[c]?a=a[c]:a=a[c]={}:a[c]=e};document.querySelector(".test").value=JSON.stringify({binarypb:"stylization_style_black_and_white_effects_graph_test_binarypb.binarypb",solutionUrl:"effects_graph_config.json",testUrl:"stylization_style_black_and_white_effects_graph_test.json",name:"style_black_and_white_test"});f("runTest",function(){document.querySelector(".run-test").click()});f("isTestComplete",function(){return"COMPLETE"===document.querySelector(".test-complete").textContent});f("getErrors",function(){return document.querySelector(".errors").textContent});}).call(this);
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_packed_assets_loader.js b/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_packed_assets_loader.js
new file mode 100644
index 0000000000000..e536ce4f55086
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_packed_assets_loader.js
@@ -0,0 +1,182 @@
+
+  var Module = typeof createMediapipeSolutionsPackedAssets !== 'undefined' ? createMediapipeSolutionsPackedAssets : {};
+  
+  if (!Module.expectedDataFileDownloads) {
+    Module.expectedDataFileDownloads = 0;
+  }
+  Module.expectedDataFileDownloads++;
+  (function() {
+   var loadPackage = function(metadata) {
+  
+      var PACKAGE_PATH;
+      if (typeof window === 'object') {
+        PACKAGE_PATH = window['encodeURIComponent'](window.location.pathname.toString().substring(0, window.location.pathname.toString().lastIndexOf('/')) + '/');
+      } else if (typeof location !== 'undefined') {
+        // worker
+        PACKAGE_PATH = encodeURIComponent(location.pathname.toString().substring(0, location.pathname.toString().lastIndexOf('/')) + '/');
+      } else {
+        throw 'using preloaded data can only be done on a web page or in a web worker';
+      }
+      var PACKAGE_NAME = 'blaze-out/k8-opt/genfiles/media/effectspipe/effects/effect/stylization/style_black_and_white_test_web_solution_packed_assets.data';
+      var REMOTE_PACKAGE_BASE = 'style_black_and_white_test_web_solution_packed_assets.data';
+      if (typeof Module['locateFilePackage'] === 'function' && !Module['locateFile']) {
+        Module['locateFile'] = Module['locateFilePackage'];
+        err('warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)');
+      }
+      var REMOTE_PACKAGE_NAME = Module['locateFile'] ? Module['locateFile'](REMOTE_PACKAGE_BASE, '') : REMOTE_PACKAGE_BASE;
+    
+      var REMOTE_PACKAGE_SIZE = metadata['remote_package_size'];
+      var PACKAGE_UUID = metadata['package_uuid'];
+    
+      function fetchRemotePackage(packageName, packageSize, callback, errback) {
+        var xhr = new XMLHttpRequest();
+        xhr.open('GET', packageName, true);
+        xhr.responseType = 'arraybuffer';
+        xhr.onprogress = function(event) {
+          var url = packageName;
+          var size = packageSize;
+          if (event.total) size = event.total;
+          if (event.loaded) {
+            if (!xhr.addedTotal) {
+              xhr.addedTotal = true;
+              if (!Module.dataFileDownloads) Module.dataFileDownloads = {};
+              Module.dataFileDownloads[url] = {
+                loaded: event.loaded,
+                total: size
+              };
+            } else {
+              Module.dataFileDownloads[url].loaded = event.loaded;
+            }
+            var total = 0;
+            var loaded = 0;
+            var num = 0;
+            for (var download in Module.dataFileDownloads) {
+            var data = Module.dataFileDownloads[download];
+              total += data.total;
+              loaded += data.loaded;
+              num++;
+            }
+            total = Math.ceil(total * Module.expectedDataFileDownloads/num);
+            if (Module['setStatus']) Module['setStatus']('Downloading data... (' + loaded + '/' + total + ')');
+          } else if (!Module.dataFileDownloads) {
+            if (Module['setStatus']) Module['setStatus']('Downloading data...');
+          }
+        };
+        xhr.onerror = function(event) {
+          throw new Error("NetworkError for: " + packageName);
+        }
+        xhr.onload = function(event) {
+          if (xhr.status == 200 || xhr.status == 304 || xhr.status == 206 || (xhr.status == 0 && xhr.response)) { // file URLs can return 0
+            var packageData = xhr.response;
+            callback(packageData);
+          } else {
+            throw new Error(xhr.statusText + " : " + xhr.responseURL);
+          }
+        };
+        xhr.send(null);
+      };
+
+      function handleError(error) {
+        console.error('package error:', error);
+      };
+    
+        var fetchedCallback = null;
+        var fetched = Module['getPreloadedPackage'] ? Module['getPreloadedPackage'](REMOTE_PACKAGE_NAME, REMOTE_PACKAGE_SIZE) : null;
+
+        if (!fetched) fetchRemotePackage(REMOTE_PACKAGE_NAME, REMOTE_PACKAGE_SIZE, function(data) {
+          if (fetchedCallback) {
+            fetchedCallback(data);
+            fetchedCallback = null;
+          } else {
+            fetched = data;
+          }
+        }, handleError);
+      
+    function runWithFS() {
+  
+      function assert(check, msg) {
+        if (!check) throw msg + new Error().stack;
+      }
+  
+          /** @constructor */
+          function DataRequest(start, end, audio) {
+            this.start = start;
+            this.end = end;
+            this.audio = audio;
+          }
+          DataRequest.prototype = {
+            requests: {},
+            open: function(mode, name) {
+              this.name = name;
+              this.requests[name] = this;
+              Module['addRunDependency']('fp ' + this.name);
+            },
+            send: function() {},
+            onload: function() {
+              var byteArray = this.byteArray.subarray(this.start, this.end);
+              this.finish(byteArray);
+            },
+            finish: function(byteArray) {
+              var that = this;
+      
+          Module['FS_createPreloadedFile'](this.name, null, byteArray, true, true, function() {
+            Module['removeRunDependency']('fp ' + that.name);
+          }, function() {
+            if (that.audio) {
+              Module['removeRunDependency']('fp ' + that.name); // workaround for chromium bug 124926 (still no audio with this, but at least we don't hang)
+            } else {
+              err('Preloading file ' + that.name + ' failed');
+            }
+          }, false, true); // canOwn this data in the filesystem, it is a slide into the heap that will never change
+  
+              this.requests[this.name] = null;
+            }
+          };
+      
+              var files = metadata['files'];
+              for (var i = 0; i < files.length; ++i) {
+                new DataRequest(files[i]['start'], files[i]['end'], files[i]['audio']).open('GET', files[i]['filename']);
+              }
+      
+        
+      function processPackageData(arrayBuffer) {
+        assert(arrayBuffer, 'Loading data file failed.');
+        assert(arrayBuffer instanceof ArrayBuffer, 'bad input to processPackageData');
+        var byteArray = new Uint8Array(arrayBuffer);
+        var curr;
+        
+          // Reuse the bytearray from the XHR as the source for file reads.
+          DataRequest.prototype.byteArray = byteArray;
+    
+            var files = metadata['files'];
+            for (var i = 0; i < files.length; ++i) {
+              DataRequest.prototype.requests[files[i].filename].onload();
+            }
+                Module['removeRunDependency']('datafile_blaze-out/k8-opt/genfiles/media/effectspipe/effects/effect/stylization/style_black_and_white_test_web_solution_packed_assets.data');
+
+      };
+      Module['addRunDependency']('datafile_blaze-out/k8-opt/genfiles/media/effectspipe/effects/effect/stylization/style_black_and_white_test_web_solution_packed_assets.data');
+    
+      if (!Module.preloadResults) Module.preloadResults = {};
+    
+        Module.preloadResults[PACKAGE_NAME] = {fromCache: false};
+        if (fetched) {
+          processPackageData(fetched);
+          fetched = null;
+        } else {
+          fetchedCallback = processPackageData;
+        }
+      
+    }
+    if (Module['calledRun']) {
+      runWithFS();
+    } else {
+      if (!Module['preRun']) Module['preRun'] = [];
+      Module["preRun"].push(runWithFS); // FS is not initialized yet, wait for it
+    }
+  
+   }
+   loadPackage({"files": [{"filename": "/triggers_xref_2019_05_13_v0.xnxr", "start": 0, "end": 592, "audio": 0}, {"filename": "/segmentation-lite.f16.tflite", "start": 592, "end": 457152, "audio": 0}, {"filename": "/segmentation-full.f16.tflite", "start": 457152, "end": 765824, "audio": 0}, {"filename": "/overlay_STUDIO_TINT.png", "start": 765824, "end": 1075380, "audio": 0}, {"filename": "/overlay_LIGHT_LEAK.png", "start": 1075380, "end": 1221020, "audio": 0}, {"filename": "/overlay_GOOD_MORNING.png", "start": 1221020, "end": 1522963, "audio": 0}, {"filename": "/lut_VIVID.png", "start": 1522963, "end": 1524328, "audio": 0}, {"filename": "/lut_STUDIO_TINT.png", "start": 1524328, "end": 1527371, "audio": 0}, {"filename": "/lut_NOIR.png", "start": 1527371, "end": 1529012, "audio": 0}, {"filename": "/lut_LIGHT_LEAK.png", "start": 1529012, "end": 1533284, "audio": 0}, {"filename": "/lut_GOOD_MORNING.png", "start": 1533284, "end": 1539493, "audio": 0}, {"filename": "/lut_GOLD_2.png", "start": 1539493, "end": 1544436, "audio": 0}, {"filename": "/lut_GLOW_3.png", "start": 1544436, "end": 1548465, "audio": 0}, {"filename": "/lut_CHROMA_2.png", "start": 1548465, "end": 1552186, "audio": 0}, {"filename": "/lut_BLOCKBUSTER_fg.png", "start": 1552186, "end": 1552373, "audio": 0}, {"filename": "/lut_BLOCKBUSTER_bg.png", "start": 1552373, "end": 1555481, "audio": 0}, {"filename": "/lut_AUTO.png", "start": 1555481, "end": 1557720, "audio": 0}, {"filename": "/facerigs-full_roi_as_sub_head-2020_01_05-v0.f16.tflite", "start": 1557720, "end": 2789744, "audio": 0}, {"filename": "/facemesh_iris_faceflag-full_as_sub_head-2020_01_31-v0.f16.tflite", "start": 2789744, "end": 8489616, "audio": 0}, {"filename": "/facemesh-ultralite.f16.tflite", "start": 8489616, "end": 9228440, "audio": 0}, {"filename": "/facedetector-front.f16.tflite", "start": 9228440, "end": 9431712, "audio": 0}, {"filename": "/face_model_468_legacy.xnft", "start": 9431712, "end": 9460404, "audio": 0}, {"filename": "/face_model_468.xnft", "start": 9460404, "end": 9487408, "audio": 0}, {"filename": "/blend_shape_xref_duomoji.xnxr", "start": 9487408, "end": 9489744, "audio": 0}, {"filename": "/bg_STUDIO_TINT.png", "start": 9489744, "end": 9681496, "audio": 0}], "remote_package_size": 9681496, "package_uuid": "352ecf09-8003-450a-b4bc-4da6f405db75"});
+  
+  })();
+  
\ No newline at end of file
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_simd_wasm_bin.data b/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_simd_wasm_bin.data
new file mode 100644
index 0000000000000..e69de29bb2d1d
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_simd_wasm_bin.js b/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_simd_wasm_bin.js
new file mode 100644
index 0000000000000..bea813257dc47
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_simd_wasm_bin.js
@@ -0,0 +1,21 @@
+
+var createMediapipeSolutionsWasm = (function() {
+  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
+  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
+  return (
+function(createMediapipeSolutionsWasm) {
+  createMediapipeSolutionsWasm = createMediapipeSolutionsWasm || {};
+
+var Module=typeof createMediapipeSolutionsWasm!=="undefined"?createMediapipeSolutionsWasm:{};var readyPromiseResolve,readyPromiseReject;Module["ready"]=new Promise(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject});if(!Object.getOwnPropertyDescriptor(Module["ready"],"_main")){Object.defineProperty(Module["ready"],"_main",{configurable:true,get:function(){abort("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_main",{configurable:true,set:function(){abort("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_end")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_free")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_init")){Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,get:function(){abort("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,set:function(){abort("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackSave")){Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,get:function(){abort("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,set:function(){abort("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackRestore")){Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,get:function(){abort("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,set:function(){abort("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackAlloc")){Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,get:function(){abort("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,set:function(){abort("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___wasm_call_ctors")){Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,get:function(){abort("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,set:function(){abort("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_fflush")){Object.defineProperty(Module["ready"],"_fflush",{configurable:true,get:function(){abort("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_fflush",{configurable:true,set:function(){abort("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___errno_location")){Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,get:function(){abort("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,set:function(){abort("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_malloc")){Object.defineProperty(Module["ready"],"_malloc",{configurable:true,get:function(){abort("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_malloc",{configurable:true,set:function(){abort("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_free")){Object.defineProperty(Module["ready"],"_free",{configurable:true,get:function(){abort("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_free",{configurable:true,set:function(){abort("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_tzname")){Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,get:function(){abort("You are getting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,set:function(){abort("You are setting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_daylight")){Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,get:function(){abort("You are getting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,set:function(){abort("You are setting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_timezone")){Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,get:function(){abort("You are getting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,set:function(){abort("You are setting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memalign")){Object.defineProperty(Module["ready"],"_memalign",{configurable:true,get:function(){abort("You are getting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memalign",{configurable:true,set:function(){abort("You are setting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memset")){Object.defineProperty(Module["ready"],"_memset",{configurable:true,get:function(){abort("You are getting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memset",{configurable:true,set:function(){abort("You are setting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_setThrew")){Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,get:function(){abort("You are getting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,set:function(){abort("You are setting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_main_thread_process_queued_calls")){Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,get:function(){abort("You are getting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,set:function(){abort("You are setting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___cxa_is_pointer_type")){Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,get:function(){abort("You are getting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,set:function(){abort("You are setting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_make_context_current")){Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_get_current_context")){Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"onRuntimeInitialized")){Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,get:function(){abort("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,set:function(){abort("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram="./this.program";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)")}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require("path").dirname(scriptDirectory)+"/"}else{scriptDirectory=__dirname+"/"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);return nodeFS["readFileSync"](filename,binary?null:"utf8")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process["argv"].length>1){thisProgram=process["argv"][1].replace(/\\/g,"/")}arguments_=process["argv"].slice(2);process["on"]("uncaughtException",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process["on"]("unhandledRejection",abort);quit_=function(status){process["exit"](status)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){arguments_=scriptArgs}else if(typeof arguments!="undefined"){arguments_=arguments}if(typeof quit==="function"){quit_=function(status){quit(status)}}if(typeof print!=="undefined"){if(typeof console==="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!=="undefined"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!=="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1)}else{scriptDirectory=""}{read_=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{throw new Error("environment detection error")}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(!Object.getOwnPropertyDescriptor(Module,"arguments")){Object.defineProperty(Module,"arguments",{configurable:true,get:function(){abort("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(!Object.getOwnPropertyDescriptor(Module,"thisProgram")){Object.defineProperty(Module,"thisProgram",{configurable:true,get:function(){abort("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["quit"])quit_=Module["quit"];if(!Object.getOwnPropertyDescriptor(Module,"quit")){Object.defineProperty(Module,"quit",{configurable:true,get:function(){abort("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(typeof Module["memoryInitializerPrefixURL"]==="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]==="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]==="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]==="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]==="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]==="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]==="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]==="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]==="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");if(!Object.getOwnPropertyDescriptor(Module,"read")){Object.defineProperty(Module,"read",{configurable:true,get:function(){abort("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readAsync")){Object.defineProperty(Module,"readAsync",{configurable:true,get:function(){abort("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readBinary")){Object.defineProperty(Module,"readBinary",{configurable:true,get:function(){abort("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"setWindowTitle")){Object.defineProperty(Module,"setWindowTitle",{configurable:true,get:function(){abort("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var STACK_ALIGN=16;function alignMemory(size,factor){if(!factor)factor=STACK_ALIGN;return Math.ceil(size/factor)*factor}function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text)}}function convertJsFunctionToWasm(func,sig){if(typeof WebAssembly.Function==="function"){var typeNames={"i":"i32","j":"i64","f":"f32","d":"f64"};var type={parameters:[],results:sig[0]=="v"?[]:[typeNames[sig[0]]]};for(var i=1;i<sig.length;++i){type.parameters.push(typeNames[sig[i]])}return new WebAssembly.Function(type,func)}var typeSection=[1,0,1,96];var sigRet=sig.slice(0,1);var sigParam=sig.slice(1);var typeCodes={"i":127,"j":126,"f":125,"d":124};typeSection.push(sigParam.length);for(var i=0;i<sigParam.length;++i){typeSection.push(typeCodes[sigParam[i]])}if(sigRet=="v"){typeSection.push(0)}else{typeSection=typeSection.concat([1,typeCodes[sigRet]])}typeSection[1]=typeSection.length-2;var bytes=new Uint8Array([0,97,115,109,1,0,0,0].concat(typeSection,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0]));var module=new WebAssembly.Module(bytes);var instance=new WebAssembly.Instance(module,{"e":{"f":func}});var wrappedFunc=instance.exports["f"];return wrappedFunc}var freeTableIndexes=[];var functionsInTableMap;function getEmptyTableSlot(){if(freeTableIndexes.length){return freeTableIndexes.pop()}try{wasmTable.grow(1)}catch(err){if(!(err instanceof RangeError)){throw err}throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return wasmTable.length-1}function addFunctionWasm(func,sig){if(!functionsInTableMap){functionsInTableMap=new WeakMap;for(var i=0;i<wasmTable.length;i++){var item=wasmTable.get(i);if(item){functionsInTableMap.set(item,i)}}}if(functionsInTableMap.has(func)){return functionsInTableMap.get(func)}var ret=getEmptyTableSlot();try{wasmTable.set(ret,func)}catch(err){if(!(err instanceof TypeError)){throw err}assert(typeof sig!=="undefined","Missing signature argument to addFunction: "+func);var wrapped=convertJsFunctionToWasm(func,sig);wasmTable.set(ret,wrapped)}functionsInTableMap.set(func,ret);return ret}var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var getTempRet0=function(){return tempRet0};var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];if(!Object.getOwnPropertyDescriptor(Module,"wasmBinary")){Object.defineProperty(Module,"wasmBinary",{configurable:true,get:function(){abort("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var noExitRuntime=Module["noExitRuntime"]||true;if(!Object.getOwnPropertyDescriptor(Module,"noExitRuntime")){Object.defineProperty(Module,"noExitRuntime",{configurable:true,get:function(){abort("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(typeof WebAssembly!=="object"){abort("no native wasm support detected")}var wasmMemory;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}function getCFunc(ident){var func=Module["_"+ident];assert(func,"Cannot call unknown function "+ident+", make sure it is exported");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={"string":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},"array":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string")return UTF8ToString(ret);if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;assert(returnType!=="array",'Return type should not be "array".');if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}var ALLOC_STACK=1;var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte 0x"+u0.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;if(u>=2097152)warnOnce("Invalid Unicode code point 0x"+u.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder){return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr))}else{var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit)}return str}}function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr}function lengthBytesUTF16(str){return str.length*2}function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}return str}function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr}function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len}function allocateUTF8(str){var size=lengthBytesUTF8(str)+1;var ret=_malloc(size);if(ret)stringToUTF8Array(str,HEAP8,ret,size);return ret}function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer)}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){assert(str.charCodeAt(i)===str.charCodeAt(i)&255);HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module["HEAP8"]=HEAP8=new Int8Array(buf);Module["HEAP16"]=HEAP16=new Int16Array(buf);Module["HEAP32"]=HEAP32=new Int32Array(buf);Module["HEAPU8"]=HEAPU8=new Uint8Array(buf);Module["HEAPU16"]=HEAPU16=new Uint16Array(buf);Module["HEAPU32"]=HEAPU32=new Uint32Array(buf);Module["HEAPF32"]=HEAPF32=new Float32Array(buf);Module["HEAPF64"]=HEAPF64=new Float64Array(buf)}var TOTAL_STACK=5242880;if(Module["TOTAL_STACK"])assert(TOTAL_STACK===Module["TOTAL_STACK"],"the stack size can no longer be determined at runtime");var INITIAL_MEMORY=Module["INITIAL_MEMORY"]||16777216;if(!Object.getOwnPropertyDescriptor(Module,"INITIAL_MEMORY")){Object.defineProperty(Module,"INITIAL_MEMORY",{configurable:true,get:function(){abort("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(INITIAL_MEMORY>=TOTAL_STACK,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+INITIAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");assert(typeof Int32Array!=="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!==undefined&&Int32Array.prototype.set!==undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally");assert(INITIAL_MEMORY==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end();assert((max&3)==0);HEAPU32[(max>>2)+1]=34821223;HEAPU32[(max>>2)+2]=2310721022;HEAP32[0]=1668509029}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end();var cookie1=HEAPU32[(max>>2)+1];var cookie2=HEAPU32[(max>>2)+2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+cookie2.toString(16)+" "+cookie1.toString(16))}if(HEAP32[0]!==1668509029)abort("Runtime error: The application has corrupted its heap memory area (address zero)!")}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){checkStackCookie();assert(!runtimeInitialized);runtimeInitialized=true;if(!Module["noFSInit"]&&!FS.init.initialized)FS.init();TTY.init();callRuntimeCallbacks(__ATINIT__)}function preMain(){checkStackCookie();FS.ignorePermissions=false;callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){checkStackCookie();runtimeExited=true}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function getUniqueRunDependency(id){var orig=id;while(1){if(!runDependencyTracking[id])return id;id=orig+Math.random()}}function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!=="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:")}err("dependency: "+dep)}if(shown){err("(end of list)")}},1e4)}}else{err("warning: run dependency added without ID")}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id]}else{err("warning: run dependency removed without ID")}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}what+="";err(what);ABORT=true;EXITSTATUS=1;var output="abort("+what+") at "+stackTrace();what=output;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix="file://";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}function createExportWrapper(name,fixedasm){return function(){var displayName=name;var asm=fixedasm;if(!fixedasm){asm=Module["asm"]}assert(runtimeInitialized,"native function `"+displayName+"` called before runtime initialization");assert(!runtimeExited,"native function `"+displayName+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)");if(!asm[name]){assert(asm[name],"exported native function `"+displayName+"` not found")}return asm[name].apply(null,arguments)}}var wasmBinaryFile="style_black_and_white_test_web_solution_simd_wasm_bin.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(file){try{if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}else{throw"both async and sync fetching of the wasm failed"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch==="function"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()}).catch(function(){return getBinary(wasmBinaryFile)})}else{if(readAsync){return new Promise(function(resolve,reject){readAsync(wasmBinaryFile,function(response){resolve(new Uint8Array(response))},reject)})}}}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var info={"env":asmLibraryArg,"wasi_snapshot_preview1":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module["asm"]=exports;wasmMemory=Module["asm"]["memory"];assert(wasmMemory,"memory not found in wasm exports");updateGlobalBufferAndViews(wasmMemory.buffer);wasmTable=Module["asm"]["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(Module["asm"]["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiatedSource(output){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(output["instance"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){var result=WebAssembly.instantiate(binary,info);return result}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")}abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch==="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module["instantiateWasm"]){try{var exports=Module["instantiateWasm"](info,receiveInstance);return exports}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}instantiateAsync().catch(readyPromiseReject);return{}}var tempDouble;var tempI64;var ASM_CONSTS={2421480:function(){let init_once=true;if(init_once){const cachedFindCanvasEventTarget=findCanvasEventTarget;if(typeof cachedFindCanvasEventTarget!=="function"){if(typeof console!=="undefined"){console.error("Expected Emscripten global function "+'"findCanvasEventTarget" not found. WebGL context creation '+"may fail.")}return}findCanvasEventTarget=function(target){if(Module&&Module.canvas){return Module.canvas}else if(Module&&Module.canvasCssSelector){return cachedFindCanvasEventTarget(Module.canvasCssSelector)}else{if(typeof console!=="undefined"){console.warn("Module properties canvas and canvasCssSelector not "+"found during WebGL context creation.")}return cachedFindCanvasEventTarget(target)}};init_once=false}}};function _emscripten_set_main_loop_timing(mode,value){Browser.mainLoop.timingMode=mode;Browser.mainLoop.timingValue=value;if(!Browser.mainLoop.func){console.error("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up.");return 1}if(!Browser.mainLoop.running){Browser.mainLoop.running=true}if(mode==0){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setTimeout(){var timeUntilNextTick=Math.max(0,Browser.mainLoop.tickStartTime+value-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,timeUntilNextTick)};Browser.mainLoop.method="timeout"}else if(mode==1){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_rAF(){Browser.requestAnimationFrame(Browser.mainLoop.runner)};Browser.mainLoop.method="rAF"}else if(mode==2){if(typeof setImmediate==="undefined"){var setImmediates=[];var emscriptenMainLoopMessageId="setimmediate";var Browser_setImmediate_messageHandler=function(event){if(event.data===emscriptenMainLoopMessageId||event.data.target===emscriptenMainLoopMessageId){event.stopPropagation();setImmediates.shift()()}};addEventListener("message",Browser_setImmediate_messageHandler,true);setImmediate=function Browser_emulated_setImmediate(func){setImmediates.push(func);if(ENVIRONMENT_IS_WORKER){if(Module["setImmediates"]===undefined)Module["setImmediates"]=[];Module["setImmediates"].push(func);postMessage({target:emscriptenMainLoopMessageId})}else postMessage(emscriptenMainLoopMessageId,"*")}}Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setImmediate(){setImmediate(Browser.mainLoop.runner)};Browser.mainLoop.method="immediate"}return 0}var _emscripten_get_now;if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function(){var t=process["hrtime"]();return t[0]*1e3+t[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else _emscripten_get_now=function(){return performance.now()};var runtimeKeepaliveCounter=0;function _exit(status){exit(status)}function maybeExit(){if(!keepRuntimeAlive()){try{_exit(EXITSTATUS)}catch(e){if(e instanceof ExitStatus){return}throw e}}}function setMainLoop(browserIterationFunc,fps,simulateInfiniteLoop,arg,noSetTiming){assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");Browser.mainLoop.func=browserIterationFunc;Browser.mainLoop.arg=arg;var thisMainLoopId=Browser.mainLoop.currentlyRunningMainloop;function checkIsRunning(){if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop){maybeExit();return false}return true}Browser.mainLoop.running=false;Browser.mainLoop.runner=function Browser_mainLoop_runner(){if(ABORT)return;if(Browser.mainLoop.queue.length>0){var start=Date.now();var blocker=Browser.mainLoop.queue.shift();blocker.func(blocker.arg);if(Browser.mainLoop.remainingBlockers){var remaining=Browser.mainLoop.remainingBlockers;var next=remaining%1==0?remaining-1:Math.floor(remaining);if(blocker.counted){Browser.mainLoop.remainingBlockers=next}else{next=next+.5;Browser.mainLoop.remainingBlockers=(8*remaining+next)/9}}console.log('main loop blocker "'+blocker.name+'" took '+(Date.now()-start)+" ms");Browser.mainLoop.updateStatus();if(!checkIsRunning())return;setTimeout(Browser.mainLoop.runner,0);return}if(!checkIsRunning())return;Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0;if(Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else if(Browser.mainLoop.timingMode==0){Browser.mainLoop.tickStartTime=_emscripten_get_now()}GL.newRenderingFrameStarted();if(Browser.mainLoop.method==="timeout"&&Module.ctx){warnOnce("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!");Browser.mainLoop.method=""}Browser.mainLoop.runIter(browserIterationFunc);checkStackCookie();if(!checkIsRunning())return;if(typeof SDL==="object"&&SDL.audio&&SDL.audio.queueNewAudioData)SDL.audio.queueNewAudioData();Browser.mainLoop.scheduler()};if(!noSetTiming){if(fps&&fps>0)_emscripten_set_main_loop_timing(0,1e3/fps);else _emscripten_set_main_loop_timing(1,1);Browser.mainLoop.scheduler()}if(simulateInfiniteLoop){throw"unwind"}}function callUserCallback(func){if(ABORT){err("user callback triggered after application aborted.  Ignoring.");return}try{func()}catch(e){if(e instanceof ExitStatus){return}else if(e!=="unwind"){if(e&&typeof e==="object"&&e.stack)err("exception thrown: "+[e,e.stack]);throw e}}}var Browser={mainLoop:{running:false,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null;Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var timingMode=Browser.mainLoop.timingMode;var timingValue=Browser.mainLoop.timingValue;var func=Browser.mainLoop.func;Browser.mainLoop.func=null;setMainLoop(func,0,false,Browser.mainLoop.arg,true);_emscripten_set_main_loop_timing(timingMode,timingValue);Browser.mainLoop.scheduler()},updateStatus:function(){if(Module["setStatus"]){var message=Module["statusMessage"]||"Please wait...";var remaining=Browser.mainLoop.remainingBlockers;var expected=Browser.mainLoop.expectedBlockers;if(remaining){if(remaining<expected){Module["setStatus"](message+" ("+(expected-remaining)+"/"+expected+")")}else{Module["setStatus"](message)}}else{Module["setStatus"]("")}}},runIter:function(func){if(ABORT)return;if(Module["preMainLoop"]){var preRet=Module["preMainLoop"]();if(preRet===false){return}}callUserCallback(func);if(Module["postMainLoop"])Module["postMainLoop"]()}},isFullscreen:false,pointerLock:false,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(!Module["preloadPlugins"])Module["preloadPlugins"]=[];if(Browser.initted)return;Browser.initted=true;try{new Blob;Browser.hasBlobConstructor=true}catch(e){Browser.hasBlobConstructor=false;console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder!="undefined"?MozBlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:!Browser.hasBlobConstructor?console.log("warning: no BlobBuilder"):null;Browser.URLObject=typeof window!="undefined"?window.URL?window.URL:window.webkitURL:undefined;if(!Module.noImageDecoding&&typeof Browser.URLObject==="undefined"){console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.");Module.noImageDecoding=true}var imagePlugin={};imagePlugin["canHandle"]=function imagePlugin_canHandle(name){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(name)};imagePlugin["handle"]=function imagePlugin_handle(byteArray,name,onload,onerror){var b=null;if(Browser.hasBlobConstructor){try{b=new Blob([byteArray],{type:Browser.getMimetype(name)});if(b.size!==byteArray.length){b=new Blob([new Uint8Array(byteArray).buffer],{type:Browser.getMimetype(name)})}}catch(e){warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}}if(!b){var bb=new Browser.BlobBuilder;bb.append(new Uint8Array(byteArray).buffer);b=bb.getBlob()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var img=new Image;img.onload=function img_onload(){assert(img.complete,"Image "+name+" could not be decoded");var canvas=document.createElement("canvas");canvas.width=img.width;canvas.height=img.height;var ctx=canvas.getContext("2d");ctx.drawImage(img,0,0);Module["preloadedImages"][name]=canvas;Browser.URLObject.revokeObjectURL(url);if(onload)onload(byteArray)};img.onerror=function img_onerror(event){console.log("Image "+url+" could not be decoded");if(onerror)onerror()};img.src=url};Module["preloadPlugins"].push(imagePlugin);var audioPlugin={};audioPlugin["canHandle"]=function audioPlugin_canHandle(name){return!Module.noAudioDecoding&&name.substr(-4)in{".ogg":1,".wav":1,".mp3":1}};audioPlugin["handle"]=function audioPlugin_handle(byteArray,name,onload,onerror){var done=false;function finish(audio){if(done)return;done=true;Module["preloadedAudios"][name]=audio;if(onload)onload(byteArray)}function fail(){if(done)return;done=true;Module["preloadedAudios"][name]=new Audio;if(onerror)onerror()}if(Browser.hasBlobConstructor){try{var b=new Blob([byteArray],{type:Browser.getMimetype(name)})}catch(e){return fail()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var audio=new Audio;audio.addEventListener("canplaythrough",function(){finish(audio)},false);audio.onerror=function audio_onerror(event){if(done)return;console.log("warning: browser could not fully decode audio "+name+", trying slower base64 approach");function encode64(data){var BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var PAD="=";var ret="";var leftchar=0;var leftbits=0;for(var i=0;i<data.length;i++){leftchar=leftchar<<8|data[i];leftbits+=8;while(leftbits>=6){var curr=leftchar>>leftbits-6&63;leftbits-=6;ret+=BASE[curr]}}if(leftbits==2){ret+=BASE[(leftchar&3)<<4];ret+=PAD+PAD}else if(leftbits==4){ret+=BASE[(leftchar&15)<<2];ret+=PAD}return ret}audio.src="data:audio/x-"+name.substr(-3)+";base64,"+encode64(byteArray);finish(audio)};audio.src=url;Browser.safeSetTimeout(function(){finish(audio)},1e4)}else{return fail()}};Module["preloadPlugins"].push(audioPlugin);function pointerLockChange(){Browser.pointerLock=document["pointerLockElement"]===Module["canvas"]||document["mozPointerLockElement"]===Module["canvas"]||document["webkitPointerLockElement"]===Module["canvas"]||document["msPointerLockElement"]===Module["canvas"]}var canvas=Module["canvas"];if(canvas){canvas.requestPointerLock=canvas["requestPointerLock"]||canvas["mozRequestPointerLock"]||canvas["webkitRequestPointerLock"]||canvas["msRequestPointerLock"]||function(){};canvas.exitPointerLock=document["exitPointerLock"]||document["mozExitPointerLock"]||document["webkitExitPointerLock"]||document["msExitPointerLock"]||function(){};canvas.exitPointerLock=canvas.exitPointerLock.bind(document);document.addEventListener("pointerlockchange",pointerLockChange,false);document.addEventListener("mozpointerlockchange",pointerLockChange,false);document.addEventListener("webkitpointerlockchange",pointerLockChange,false);document.addEventListener("mspointerlockchange",pointerLockChange,false);if(Module["elementPointerLock"]){canvas.addEventListener("click",function(ev){if(!Browser.pointerLock&&Module["canvas"].requestPointerLock){Module["canvas"].requestPointerLock();ev.preventDefault()}},false)}}},createContext:function(canvas,useWebGL,setInModule,webGLContextAttributes){if(useWebGL&&Module.ctx&&canvas==Module.canvas)return Module.ctx;var ctx;var contextHandle;if(useWebGL){var contextAttributes={antialias:false,alpha:false,majorVersion:typeof WebGL2RenderingContext!=="undefined"?2:1};if(webGLContextAttributes){for(var attribute in webGLContextAttributes){contextAttributes[attribute]=webGLContextAttributes[attribute]}}if(typeof GL!=="undefined"){contextHandle=GL.createContext(canvas,contextAttributes);if(contextHandle){ctx=GL.getContext(contextHandle).GLctx}}}else{ctx=canvas.getContext("2d")}if(!ctx)return null;if(setInModule){if(!useWebGL)assert(typeof GLctx==="undefined","cannot set in module if GLctx is used, but we are a non-GL context that would replace it");Module.ctx=ctx;if(useWebGL)GL.makeContextCurrent(contextHandle);Module.useWebGL=useWebGL;Browser.moduleContextCreatedCallbacks.forEach(function(callback){callback()});Browser.init()}return ctx},destroyContext:function(canvas,useWebGL,setInModule){},fullscreenHandlersInstalled:false,lockPointer:undefined,resizeCanvas:undefined,requestFullscreen:function(lockPointer,resizeCanvas){Browser.lockPointer=lockPointer;Browser.resizeCanvas=resizeCanvas;if(typeof Browser.lockPointer==="undefined")Browser.lockPointer=true;if(typeof Browser.resizeCanvas==="undefined")Browser.resizeCanvas=false;var canvas=Module["canvas"];function fullscreenChange(){Browser.isFullscreen=false;var canvasContainer=canvas.parentNode;if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvasContainer){canvas.exitFullscreen=Browser.exitFullscreen;if(Browser.lockPointer)canvas.requestPointerLock();Browser.isFullscreen=true;if(Browser.resizeCanvas){Browser.setFullscreenCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}else{canvasContainer.parentNode.insertBefore(canvas,canvasContainer);canvasContainer.parentNode.removeChild(canvasContainer);if(Browser.resizeCanvas){Browser.setWindowedCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}if(Module["onFullScreen"])Module["onFullScreen"](Browser.isFullscreen);if(Module["onFullscreen"])Module["onFullscreen"](Browser.isFullscreen)}if(!Browser.fullscreenHandlersInstalled){Browser.fullscreenHandlersInstalled=true;document.addEventListener("fullscreenchange",fullscreenChange,false);document.addEventListener("mozfullscreenchange",fullscreenChange,false);document.addEventListener("webkitfullscreenchange",fullscreenChange,false);document.addEventListener("MSFullscreenChange",fullscreenChange,false)}var canvasContainer=document.createElement("div");canvas.parentNode.insertBefore(canvasContainer,canvas);canvasContainer.appendChild(canvas);canvasContainer.requestFullscreen=canvasContainer["requestFullscreen"]||canvasContainer["mozRequestFullScreen"]||canvasContainer["msRequestFullscreen"]||(canvasContainer["webkitRequestFullscreen"]?function(){canvasContainer["webkitRequestFullscreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null)||(canvasContainer["webkitRequestFullScreen"]?function(){canvasContainer["webkitRequestFullScreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null);canvasContainer.requestFullscreen()},requestFullScreen:function(){abort("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen:function(){if(!Browser.isFullscreen){return false}var CFS=document["exitFullscreen"]||document["cancelFullScreen"]||document["mozCancelFullScreen"]||document["msExitFullscreen"]||document["webkitCancelFullScreen"]||function(){};CFS.apply(document,[]);return true},nextRAF:0,fakeRequestAnimationFrame:function(func){var now=Date.now();if(Browser.nextRAF===0){Browser.nextRAF=now+1e3/60}else{while(now+2>=Browser.nextRAF){Browser.nextRAF+=1e3/60}}var delay=Math.max(Browser.nextRAF-now,0);setTimeout(func,delay)},requestAnimationFrame:function(func){if(typeof requestAnimationFrame==="function"){requestAnimationFrame(func);return}var RAF=Browser.fakeRequestAnimationFrame;RAF(func)},safeRequestAnimationFrame:function(func){return Browser.requestAnimationFrame(function(){callUserCallback(func)})},safeSetTimeout:function(func,timeout){return setTimeout(function(){callUserCallback(func)},timeout)},getMimetype:function(name){return{"jpg":"image/jpeg","jpeg":"image/jpeg","png":"image/png","bmp":"image/bmp","ogg":"audio/ogg","wav":"audio/wav","mp3":"audio/mpeg"}[name.substr(name.lastIndexOf(".")+1)]},getUserMedia:function(func){if(!window.getUserMedia){window.getUserMedia=navigator["getUserMedia"]||navigator["mozGetUserMedia"]}window.getUserMedia(func)},getMovementX:function(event){return event["movementX"]||event["mozMovementX"]||event["webkitMovementX"]||0},getMovementY:function(event){return event["movementY"]||event["mozMovementY"]||event["webkitMovementY"]||0},getMouseWheelDelta:function(event){var delta=0;switch(event.type){case"DOMMouseScroll":delta=event.detail/3;break;case"mousewheel":delta=event.wheelDelta/120;break;case"wheel":delta=event.deltaY;switch(event.deltaMode){case 0:delta/=100;break;case 1:delta/=3;break;case 2:delta*=80;break;default:throw"unrecognized mouse wheel delta mode: "+event.deltaMode}break;default:throw"unrecognized mouse wheel event: "+event.type}return delta},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(event){if(Browser.pointerLock){if(event.type!="mousemove"&&"mozMovementX"in event){Browser.mouseMovementX=Browser.mouseMovementY=0}else{Browser.mouseMovementX=Browser.getMovementX(event);Browser.mouseMovementY=Browser.getMovementY(event)}if(typeof SDL!="undefined"){Browser.mouseX=SDL.mouseX+Browser.mouseMovementX;Browser.mouseY=SDL.mouseY+Browser.mouseMovementY}else{Browser.mouseX+=Browser.mouseMovementX;Browser.mouseY+=Browser.mouseMovementY}}else{var rect=Module["canvas"].getBoundingClientRect();var cw=Module["canvas"].width;var ch=Module["canvas"].height;var scrollX=typeof window.scrollX!=="undefined"?window.scrollX:window.pageXOffset;var scrollY=typeof window.scrollY!=="undefined"?window.scrollY:window.pageYOffset;assert(typeof scrollX!=="undefined"&&typeof scrollY!=="undefined","Unable to retrieve scroll position, mouse positions likely broken.");if(event.type==="touchstart"||event.type==="touchend"||event.type==="touchmove"){var touch=event.touch;if(touch===undefined){return}var adjustedX=touch.pageX-(scrollX+rect.left);var adjustedY=touch.pageY-(scrollY+rect.top);adjustedX=adjustedX*(cw/rect.width);adjustedY=adjustedY*(ch/rect.height);var coords={x:adjustedX,y:adjustedY};if(event.type==="touchstart"){Browser.lastTouches[touch.identifier]=coords;Browser.touches[touch.identifier]=coords}else if(event.type==="touchend"||event.type==="touchmove"){var last=Browser.touches[touch.identifier];if(!last)last=coords;Browser.lastTouches[touch.identifier]=last;Browser.touches[touch.identifier]=coords}return}var x=event.pageX-(scrollX+rect.left);var y=event.pageY-(scrollY+rect.top);x=x*(cw/rect.width);y=y*(ch/rect.height);Browser.mouseMovementX=x-Browser.mouseX;Browser.mouseMovementY=y-Browser.mouseY;Browser.mouseX=x;Browser.mouseY=y}},asyncLoad:function(url,onload,onerror,noRunDep){var dep=!noRunDep?getUniqueRunDependency("al "+url):"";readAsync(url,function(arrayBuffer){assert(arrayBuffer,'Loading data file "'+url+'" failed (no arrayBuffer).');onload(new Uint8Array(arrayBuffer));if(dep)removeRunDependency(dep)},function(event){if(onerror){onerror()}else{throw'Loading data file "'+url+'" failed.'}});if(dep)addRunDependency(dep)},resizeListeners:[],updateResizeListeners:function(){var canvas=Module["canvas"];Browser.resizeListeners.forEach(function(listener){listener(canvas.width,canvas.height)})},setCanvasSize:function(width,height,noUpdates){var canvas=Module["canvas"];Browser.updateCanvasDimensions(canvas,width,height);if(!noUpdates)Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags|8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags&~8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},updateCanvasDimensions:function(canvas,wNative,hNative){if(wNative&&hNative){canvas.widthNative=wNative;canvas.heightNative=hNative}else{wNative=canvas.widthNative;hNative=canvas.heightNative}var w=wNative;var h=hNative;if(Module["forcedAspectRatio"]&&Module["forcedAspectRatio"]>0){if(w/h<Module["forcedAspectRatio"]){w=Math.round(h*Module["forcedAspectRatio"])}else{h=Math.round(w/Module["forcedAspectRatio"])}}if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvas.parentNode&&typeof screen!="undefined"){var factor=Math.min(screen.width/w,screen.height/h);w=Math.round(w*factor);h=Math.round(h*factor)}if(Browser.resizeCanvas){if(canvas.width!=w)canvas.width=w;if(canvas.height!=h)canvas.height=h;if(typeof canvas.style!="undefined"){canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}else{if(canvas.width!=wNative)canvas.width=wNative;if(canvas.height!=hNative)canvas.height=hNative;if(typeof canvas.style!="undefined"){if(w!=wNative||h!=hNative){canvas.style.setProperty("width",w+"px","important");canvas.style.setProperty("height",h+"px","important")}else{canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}}},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var handle=Browser.nextWgetRequestHandle;Browser.nextWgetRequestHandle++;return handle}};function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback(Module);continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){wasmTable.get(func)()}else{wasmTable.get(func)(callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}function demangle(func){warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling");return func}function demangleAll(text){var regex=/\b_Z[\w\d_]+/g;return text.replace(regex,function(x){var y=demangle(x);return x===y?x:y+" ["+x+"]"})}function jsStackTrace(){var error=new Error;if(!error.stack){try{throw new Error}catch(e){error=e}if(!error.stack){return"(no stack trace available)"}}return error.stack.toString()}function keepRuntimeAlive(){return noExitRuntime||runtimeKeepaliveCounter>0}function stackTrace(){var js=jsStackTrace();if(Module["extraStackTrace"])js+="\n"+Module["extraStackTrace"]();return demangleAll(js)}var ExceptionInfoAttrs={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function ___cxa_allocate_exception(size){return _malloc(size+ExceptionInfoAttrs.SIZE)+ExceptionInfoAttrs.SIZE}function _atexit(func,arg){}function ___cxa_atexit(a0,a1){return _atexit(a0,a1)}function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-ExceptionInfoAttrs.SIZE;this.set_type=function(type){HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]=type};this.get_type=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]};this.set_destructor=function(destructor){HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]=destructor};this.get_destructor=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]};this.set_refcount=function(refcount){HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=refcount};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]=caught};this.get_caught=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]!=0};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]=rethrown};this.get_rethrown=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]!=0};this.init=function(type,destructor){this.set_type(type);this.set_destructor(destructor);this.set_refcount(0);this.set_caught(false);this.set_rethrown(false)};this.add_ref=function(){var value=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=value+1};this.release_ref=function(){var prev=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=prev-1;assert(prev>0);return prev===1}}function CatchInfo(ptr){this.free=function(){_free(this.ptr);this.ptr=0};this.set_base_ptr=function(basePtr){HEAP32[this.ptr>>2]=basePtr};this.get_base_ptr=function(){return HEAP32[this.ptr>>2]};this.set_adjusted_ptr=function(adjustedPtr){var ptrSize=4;HEAP32[this.ptr+ptrSize>>2]=adjustedPtr};this.get_adjusted_ptr=function(){var ptrSize=4;return HEAP32[this.ptr+ptrSize>>2]};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_exception_info().get_type());if(isPointer){return HEAP32[this.get_base_ptr()>>2]}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.get_base_ptr()};this.get_exception_info=function(){return new ExceptionInfo(this.get_base_ptr())};if(ptr===undefined){this.ptr=_malloc(8);this.set_adjusted_ptr(0)}else{this.ptr=ptr}}var exceptionCaught=[];function exception_addRef(info){info.add_ref()}var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var catchInfo=new CatchInfo(ptr);var info=catchInfo.get_exception_info();if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--}info.set_rethrown(false);exceptionCaught.push(catchInfo);exception_addRef(info);return catchInfo.get_exception_ptr()}var exceptionLast=0;function ___cxa_free_exception(ptr){try{return _free(new ExceptionInfo(ptr).ptr)}catch(e){err("exception during cxa_free_exception: "+e)}}function exception_decRef(info){if(info.release_ref()&&!info.get_rethrown()){var destructor=info.get_destructor();if(destructor){wasmTable.get(destructor)(info.excPtr)}___cxa_free_exception(info.excPtr)}}function ___cxa_end_catch(){_setThrew(0);assert(exceptionCaught.length>0);var catchInfo=exceptionCaught.pop();exception_decRef(catchInfo.get_exception_info());catchInfo.free();exceptionLast=0}function ___resumeException(catchInfoPtr){var catchInfo=new CatchInfo(catchInfoPtr);var ptr=catchInfo.get_base_ptr();if(!exceptionLast){exceptionLast=ptr}catchInfo.free();throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_find_matching_catch_2(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_find_matching_catch_3(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_rethrow(){var catchInfo=exceptionCaught.pop();if(!catchInfo){abort("no exception to throw")}var info=catchInfo.get_exception_info();var ptr=catchInfo.get_base_ptr();if(!info.get_rethrown()){exceptionCaught.push(catchInfo);info.set_rethrown(true);info.set_caught(false);uncaughtExceptionCount++}else{catchInfo.free()}exceptionLast=ptr;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_thread_atexit(a0,a1){return _atexit(a0,a1)}function ___cxa_throw(ptr,type,destructor){var info=new ExceptionInfo(ptr);info.init(type,destructor);exceptionLast=ptr;uncaughtExceptionCount++;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function setErrNo(value){HEAP32[___errno_location()>>2]=value;return value}var PATH={splitPath:function(filename){var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)==="/",trailingSlash=path.substr(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path==="/")return"/";path=PATH.normalize(path);path=path.replace(/\/$/,"");var lastSlash=path.lastIndexOf("/");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join("/"))},join2:function(l,r){return PATH.normalize(l+"/"+r)}};function getRandomDevice(){if(typeof crypto==="object"&&typeof crypto["getRandomValues"]==="function"){var randomBuffer=new Uint8Array(1);return function(){crypto.getRandomValues(randomBuffer);return randomBuffer[0]}}else if(ENVIRONMENT_IS_NODE){try{var crypto_module=require("crypto");return function(){return crypto_module["randomBytes"](1)[0]}}catch(e){}}return function(){abort("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var PATH_FS={resolve:function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:FS.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:function(from,to){from=PATH_FS.resolve(from).substr(1);to=PATH_FS.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(dev,ops){TTY.ttys[dev]={input:[],output:[],ops:ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open:function(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close:function(stream){stream.tty.ops.flush(stream.tty)},flush:function(stream){stream.tty.ops.flush(stream.tty)},read:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length){stream.node.timestamp=Date.now()}return i}},default_tty_ops:{get_char:function(tty){if(!tty.input.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc?Buffer.alloc(BUFSIZE):new Buffer(BUFSIZE);var bytesRead=0;try{bytesRead=nodeFS.readSync(process.stdin.fd,buf,0,BUFSIZE,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}else{result=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\n"}}else if(typeof readline=="function"){result=readline();if(result!==null){result+="\n"}}if(!result){return null}tty.input=intArrayFromString(result,true)}return tty.input.shift()},put_char:function(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){out(UTF8ArrayToString(tty.output,0));tty.output=[]}}},default_tty1_ops:{put_char:function(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){err(UTF8ArrayToString(tty.output,0));tty.output=[]}}}};function mmapAlloc(size){var alignedSize=alignMemory(size,16384);var ptr=_malloc(alignedSize);while(size<alignedSize)HEAP8[ptr+size++]=0;return ptr}var MEMFS={ops_table:null,mount:function(mount){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.timestamp=Date.now();if(parent){parent.contents[name]=node;parent.timestamp=node.timestamp}return node},getFileDataAsTypedArray:function(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage:function(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage:function(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr:function(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.timestamp);attr.mtime=new Date(node.timestamp);attr.ctime=new Date(node.timestamp);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr:function(node,attr){if(attr.mode!==undefined){node.mode=attr.mode}if(attr.timestamp!==undefined){node.timestamp=attr.timestamp}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup:function(parent,name){throw FS.genericErrors[44]},mknod:function(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename:function(old_node,new_dir,new_name){if(FS.isDir(old_node.mode)){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}}delete old_node.parent.contents[old_node.name];old_node.parent.timestamp=Date.now();old_node.name=new_name;new_dir.contents[new_name]=old_node;new_dir.timestamp=old_node.parent.timestamp;old_node.parent=new_dir},unlink:function(parent,name){delete parent.contents[name];parent.timestamp=Date.now()},rmdir:function(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.timestamp=Date.now()},readdir:function(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries},symlink:function(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink:function(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read:function(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);assert(size>=0);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write:function(stream,buffer,offset,length,position,canOwn){assert(!(buffer instanceof ArrayBuffer));if(buffer.buffer===HEAP8.buffer){canOwn=false}if(!length)return 0;var node=stream.node;node.timestamp=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){assert(position===0,"canOwn must imply no weird position inside the file");node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length);node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length),position)}else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek:function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},allocate:function(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)},mmap:function(stream,address,length,position,prot,flags){if(address!==0){throw new FS.ErrnoError(28)}if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents.buffer===buffer){allocated=false;ptr=contents.byteOffset}else{if(position>0||position+length<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}allocated=true;ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}HEAP8.set(contents,ptr)}return{ptr:ptr,allocated:allocated}},msync:function(stream,buffer,offset,length,mmapFlags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(mmapFlags&2){return 0}var bytesWritten=MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};var ERRNO_MESSAGES={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"};var ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(path,opts){path=PATH_FS.resolve(FS.cwd(),path);opts=opts||{};if(!path)return{path:"",node:null};var defaults={follow_mount:true,recurse_count:0};for(var key in defaults){if(opts[key]===undefined){opts[key]=defaults[key]}}if(opts.recurse_count>8){throw new FS.ErrnoError(32)}var parts=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),false);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}current=FS.lookupNode(current,parts[i]);current_path=PATH.join2(current_path,parts[i]);if(FS.isMountpoint(current)){if(!islast||islast&&opts.follow_mount){current=current.mounted.root}}if(!islast||opts.follow){var count=0;while(FS.isLink(current.mode)){var link=FS.readlink(current_path);current_path=PATH_FS.resolve(PATH.dirname(current_path),link);var lookup=FS.lookupPath(current_path,{recurse_count:opts.recurse_count});current=lookup.node;if(count++>40){throw new FS.ErrnoError(32)}}}}return{path:current_path,node:current}},getPath:function(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?mount+"/"+path:mount+path}path=path?node.name+"/"+path:node.name;node=node.parent}},hashName:function(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode:function(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode:function(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode:function(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode,parent)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode:function(parent,name,mode,rdev){assert(typeof parent==="object");var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode:function(node){FS.hashRemoveNode(node)},isRoot:function(node){return node===node.parent},isMountpoint:function(node){return!!node.mounted},isFile:function(mode){return(mode&61440)===32768},isDir:function(mode){return(mode&61440)===16384},isLink:function(mode){return(mode&61440)===40960},isChrdev:function(mode){return(mode&61440)===8192},isBlkdev:function(mode){return(mode&61440)===24576},isFIFO:function(mode){return(mode&61440)===4096},isSocket:function(mode){return(mode&49152)===49152},flagModes:{"r":0,"r+":2,"w":577,"w+":578,"a":1089,"a+":1090},modeStringToFlags:function(str){var flags=FS.flagModes[str];if(typeof flags==="undefined"){throw new Error("Unknown file open mode: "+str)}return flags},flagsToPermissionString:function(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions:function(node,perms){if(FS.ignorePermissions){return 0}if(perms.indexOf("r")!==-1&&!(node.mode&292)){return 2}else if(perms.indexOf("w")!==-1&&!(node.mode&146)){return 2}else if(perms.indexOf("x")!==-1&&!(node.mode&73)){return 2}return 0},mayLookup:function(dir){var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate:function(dir,name){try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete:function(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen:function(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&512){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},MAX_OPEN_FDS:4096,nextfd:function(fd_start,fd_end){fd_start=fd_start||0;fd_end=fd_end||FS.MAX_OPEN_FDS;for(var fd=fd_start;fd<=fd_end;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStream:function(fd){return FS.streams[fd]},createStream:function(stream,fd_start,fd_end){if(!FS.FSStream){FS.FSStream=function(){};FS.FSStream.prototype={object:{get:function(){return this.node},set:function(val){this.node=val}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}}}var newStream=new FS.FSStream;for(var p in stream){newStream[p]=stream[p]}stream=newStream;var fd=FS.nextfd(fd_start,fd_end);stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream:function(fd){FS.streams[fd]=null},chrdev_stream_ops:{open:function(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;if(stream.stream_ops.open){stream.stream_ops.open(stream)}},llseek:function(){throw new FS.ErrnoError(70)}},major:function(dev){return dev>>8},minor:function(dev){return dev&255},makedev:function(ma,mi){return ma<<8|mi},registerDevice:function(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:function(dev){return FS.devices[dev]},getMounts:function(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push.apply(check,m.mounts)}return mounts},syncfs:function(populate,callback){if(typeof populate==="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach(function(mount){if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)})},mount:function(type,opts,mountpoint){if(typeof type==="string"){throw type}var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type:type,opts:opts,mountpoint:mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount:function(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach(function(hash){var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.indexOf(current.mount)!==-1){FS.destroyNode(current)}current=next}});node.mounted=null;var idx=node.mount.mounts.indexOf(mount);assert(idx!==-1);node.mount.mounts.splice(idx,1)},lookup:function(parent,name){return parent.node_ops.lookup(parent,name)},mknod:function(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name||name==="."||name===".."){throw new FS.ErrnoError(28)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},create:function(path,mode){mode=mode!==undefined?mode:438;mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir:function(path,mode){mode=mode!==undefined?mode:511;mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree:function(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev:function(path,mode,dev){if(typeof dev==="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink:function(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename:function(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](old_path,new_path)}}catch(e){err("FS.trackingDelegate['willMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name)}catch(e){throw e}finally{FS.hashAddNode(old_node)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](old_path,new_path)}catch(e){err("FS.trackingDelegate['onMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}},rmdir:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readdir:function(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;if(!node.node_ops.readdir){throw new FS.ErrnoError(54)}return node.node_ops.readdir(node)},unlink:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.unlink(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readlink:function(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return PATH_FS.resolve(FS.getPath(link.parent),link.node_ops.readlink(link))},stat:function(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;if(!node){throw new FS.ErrnoError(44)}if(!node.node_ops.getattr){throw new FS.ErrnoError(63)}return node.node_ops.getattr(node)},lstat:function(path){return FS.stat(path,true)},chmod:function(path,mode,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{mode:mode&4095|node.mode&~4095,timestamp:Date.now()})},lchmod:function(path,mode){FS.chmod(path,mode,true)},fchmod:function(fd,mode){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chmod(stream.node,mode)},chown:function(path,uid,gid,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{timestamp:Date.now()})},lchown:function(path,uid,gid){FS.chown(path,uid,gid,true)},fchown:function(fd,uid,gid){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chown(stream.node,uid,gid)},truncate:function(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}node.node_ops.setattr(node,{size:len,timestamp:Date.now()})},ftruncate:function(fd,len){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.truncate(stream.node,len)},utime:function(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;node.node_ops.setattr(node,{timestamp:Math.max(atime,mtime)})},open:function(path,flags,mode,fd_start,fd_end){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags==="string"?FS.modeStringToFlags(flags):flags;mode=typeof mode==="undefined"?438:mode;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;if(typeof path==="object"){node=path}else{path=PATH.normalize(path);try{var lookup=FS.lookupPath(path,{follow:!(flags&131072)});node=lookup.node}catch(e){}}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else{node=FS.mknod(path,mode,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512){FS.truncate(node,0)}flags&=~(128|512|131072);var stream=FS.createStream({node:node,path:FS.getPath(node),flags:flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false},fd_start,fd_end);if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(Module["logReadFiles"]&&!(flags&1)){if(!FS.readFiles)FS.readFiles={};if(!(path in FS.readFiles)){FS.readFiles[path]=1;err("FS.trackingDelegate error on read file: "+path)}}try{if(FS.trackingDelegate["onOpenFile"]){var trackingFlags=0;if((flags&2097155)!==1){trackingFlags|=FS.tracking.openFlags.READ}if((flags&2097155)!==0){trackingFlags|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](path,trackingFlags)}}catch(e){err("FS.trackingDelegate['onOpenFile']('"+path+"', flags) threw an exception: "+e.message)}return stream},close:function(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed:function(stream){return stream.fd===null},llseek:function(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read:function(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write:function(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;try{if(stream.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](stream.path)}catch(e){err("FS.trackingDelegate['onWriteToFile']('"+stream.path+"') threw an exception: "+e.message)}return bytesWritten},allocate:function(stream,offset,length){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(offset<0||length<=0){throw new FS.ErrnoError(28)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(43)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(138)}stream.stream_ops.allocate(stream,offset,length)},mmap:function(stream,address,length,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}return stream.stream_ops.mmap(stream,address,length,position,prot,flags)},msync:function(stream,buffer,offset,length,mmapFlags){if(!stream||!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},munmap:function(stream){return 0},ioctl:function(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile:function(path,opts){opts=opts||{};opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error('Invalid encoding type "'+opts.encoding+'"')}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf,0)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret},writeFile:function(path,data,opts){opts=opts||{};opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data==="string"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,undefined,opts.canOwn)}else if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{throw new Error("Unsupported data type")}FS.close(stream)},cwd:function(){return FS.currentPath},chdir:function(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories:function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(stream,buffer,offset,length,pos){return length}});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var random_device=getRandomDevice();FS.createDevice("/dev","random",random_device);FS.createDevice("/dev","urandom",random_device);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:function(){var node=FS.createNode(proc_self,"fd",16384|511,73);node.node_ops={lookup:function(parent,name){var fd=+name;var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return stream.path}}};ret.parent=ret;return ret}};return node}},{},"/proc/self/fd")},createStandardStreams:function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1);assert(stdin.fd===0,"invalid handle for stdin ("+stdin.fd+")");assert(stdout.fd===1,"invalid handle for stdout ("+stdout.fd+")");assert(stderr.fd===2,"invalid handle for stderr ("+stderr.fd+")")},ensureErrnoError:function(){if(FS.ErrnoError)return;FS.ErrnoError=function ErrnoError(errno,node){this.node=node;this.setErrno=function(errno){this.errno=errno;for(var key in ERRNO_CODES){if(ERRNO_CODES[key]===errno){this.code=key;break}}};this.setErrno(errno);this.message=ERRNO_MESSAGES[errno];if(this.stack){Object.defineProperty(this,"stack",{value:(new Error).stack,writable:true});this.stack=demangleAll(this.stack)}};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[44].forEach(function(code){FS.genericErrors[code]=new FS.ErrnoError(code);FS.genericErrors[code].stack="<generic error, no stack>"})},staticInit:function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={"MEMFS":MEMFS}},init:function(input,output,error){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=input||Module["stdin"];Module["stdout"]=output||Module["stdout"];Module["stderr"]=error||Module["stderr"];FS.createStandardStreams()},quit:function(){FS.init.initialized=false;var fflush=Module["_fflush"];if(fflush)fflush(0);for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}},getMode:function(canRead,canWrite){var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode},findObject:function(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(ret.exists){return ret.object}else{return null}},analyzePath:function(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath:function(parent,path,canRead,canWrite){parent=typeof parent==="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current},createFile:function(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile:function(parent,name,data,canRead,canWrite,canOwn){var path=name?PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name):parent;var mode=FS.getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data==="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}return node},createDevice:function(parent,name,input,output){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(!!input,!!output);if(!FS.createDevice.major)FS.createDevice.major=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open:function(stream){stream.seekable=false},close:function(stream){if(output&&output.buffer&&output.buffer.length){output(10)}},read:function(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length){stream.node.timestamp=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile:function(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(read_){try{obj.contents=intArrayFromString(read_(obj.url),true);obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}},createLazyFile:function(parent,name,url,canRead,canWrite){function LazyUint8Array(){this.lengthKnown=false;this.chunks=[]}LazyUint8Array.prototype.get=function LazyUint8Array_get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]};LazyUint8Array.prototype.setDataGetter=function LazyUint8Array_setDataGetter(getter){this.getter=getter};LazyUint8Array.prototype.cacheLength=function LazyUint8Array_cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=function(from,to){if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);if(typeof Uint8Array!="undefined")xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}else{return intArrayFromString(xhr.responseText||"",true)}};var lazyArray=this;lazyArray.setDataGetter(function(chunkNum){var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]==="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]==="undefined")throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;Object.defineProperties(lazyArray,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url:url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach(function(key){var fn=node.stream_ops[key];stream_ops[key]=function forceLoadLazyFile(){FS.forceLoadFile(node);return fn.apply(null,arguments)}});stream_ops.read=function stream_ops_read(stream,buffer,offset,length,position){FS.forceLoadFile(node);var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);assert(size>=0);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size};node.stream_ops=stream_ops;return node},createPreloadedFile:function(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish){Browser.init();var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency("cp "+fullname);function processData(byteArray){function finish(byteArray){if(preFinish)preFinish();if(!dontCreateFile){FS.createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}if(onload)onload();removeRunDependency(dep)}var handled=false;Module["preloadPlugins"].forEach(function(plugin){if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,function(){if(onerror)onerror();removeRunDependency(dep)});handled=true}});if(!handled)finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){Browser.asyncLoad(url,function(byteArray){processData(byteArray)},onerror)}else{processData(url)}},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=function openRequest_onupgradeneeded(){out("creating db");var db=openRequest.result;db.createObjectStore(FS.DB_STORE_NAME)};openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;var transaction=db.transaction([FS.DB_STORE_NAME],"readwrite");var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var putRequest=files.put(FS.analyzePath(path).object.contents,path);putRequest.onsuccess=function putRequest_onsuccess(){ok++;if(ok+fail==total)finish()};putRequest.onerror=function putRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},loadFilesFromDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=onerror;openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;try{var transaction=db.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){onerror(e);return}var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var getRequest=files.get(path);getRequest.onsuccess=function getRequest_onsuccess(){if(FS.analyzePath(path).exists){FS.unlink(path)}FS.createDataFile(PATH.dirname(path),PATH.basename(path),getRequest.result,true,true,true);ok++;if(ok+fail==total)finish()};getRequest.onerror=function getRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},absolutePath:function(){abort("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){abort("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){abort("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){abort("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){abort("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){abort("FS.standardizePath has been removed; use PATH.normalize instead")}};var SYSCALLS={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(dirfd,path,allowEmpty){if(path[0]==="/"){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=FS.getStream(dirfd);if(!dirstream)throw new FS.ErrnoError(8);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return PATH.join2(dir,path)},doStat:function(func,path,buf){try{var stat=func(path)}catch(e){if(e&&e.node&&PATH.normalize(path)!==PATH.normalize(FS.getPath(e.node))){return-54}throw e}HEAP32[buf>>2]=stat.dev;HEAP32[buf+4>>2]=0;HEAP32[buf+8>>2]=stat.ino;HEAP32[buf+12>>2]=stat.mode;HEAP32[buf+16>>2]=stat.nlink;HEAP32[buf+20>>2]=stat.uid;HEAP32[buf+24>>2]=stat.gid;HEAP32[buf+28>>2]=stat.rdev;HEAP32[buf+32>>2]=0;tempI64=[stat.size>>>0,(tempDouble=stat.size,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+40>>2]=tempI64[0],HEAP32[buf+44>>2]=tempI64[1];HEAP32[buf+48>>2]=4096;HEAP32[buf+52>>2]=stat.blocks;HEAP32[buf+56>>2]=stat.atime.getTime()/1e3|0;HEAP32[buf+60>>2]=0;HEAP32[buf+64>>2]=stat.mtime.getTime()/1e3|0;HEAP32[buf+68>>2]=0;HEAP32[buf+72>>2]=stat.ctime.getTime()/1e3|0;HEAP32[buf+76>>2]=0;tempI64=[stat.ino>>>0,(tempDouble=stat.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+80>>2]=tempI64[0],HEAP32[buf+84>>2]=tempI64[1];return 0},doMsync:function(addr,stream,len,flags,offset){var buffer=HEAPU8.slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},doMkdir:function(path,mode){path=PATH.normalize(path);if(path[path.length-1]==="/")path=path.substr(0,path.length-1);FS.mkdir(path,mode,0);return 0},doMknod:function(path,mode,dev){switch(mode&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}FS.mknod(path,mode,dev);return 0},doReadlink:function(path,buf,bufsize){if(bufsize<=0)return-28;var ret=FS.readlink(path);var len=Math.min(bufsize,lengthBytesUTF8(ret));var endChar=HEAP8[buf+len];stringToUTF8(ret,buf,bufsize+1);HEAP8[buf+len]=endChar;return len},doAccess:function(path,amode){if(amode&~7){return-28}var node;var lookup=FS.lookupPath(path,{follow:true});node=lookup.node;if(!node){return-44}var perms="";if(amode&4)perms+="r";if(amode&2)perms+="w";if(amode&1)perms+="x";if(perms&&FS.nodePermissions(node,perms)){return-2}return 0},doDup:function(path,flags,suggestFD){var suggest=FS.getStream(suggestFD);if(suggest)FS.close(suggest);return FS.open(path,flags,0,suggestFD,suggestFD).fd},doReadv:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break}return ret},doWritev:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr}return ret},varargs:undefined,get:function(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},getStreamFromFD:function(fd){var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);return stream},get64:function(low,high){if(low>=0)assert(high===0);else assert(high===-1);return low}};function ___sys_fcntl64(fd,cmd,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=SYSCALLS.get();if(arg<0){return-28}var newStream;newStream=FS.open(stream.path,stream.flags,0,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=SYSCALLS.get();stream.flags|=arg;return 0}case 12:{var arg=SYSCALLS.get();var offset=0;HEAP16[arg+offset>>1]=2;return 0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:setErrNo(28);return-1;default:{return-28}}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_fstat64(fd,buf){try{var stream=SYSCALLS.getStreamFromFD(fd);return SYSCALLS.doStat(FS.stat,stream.path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_ioctl(fd,op,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:case 21505:{if(!stream.tty)return-59;return 0}case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!stream.tty)return-59;return 0}case 21519:{if(!stream.tty)return-59;var argp=SYSCALLS.get();HEAP32[argp>>2]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21531:{var argp=SYSCALLS.get();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;return 0}case 21524:{if(!stream.tty)return-59;return 0}default:abort("bad ioctl syscall "+op)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function syscallMmap2(addr,len,prot,flags,fd,off){off<<=12;var ptr;var allocated=false;if((flags&16)!==0&&addr%16384!==0){return-28}if((flags&32)!==0){ptr=_memalign(16384,len);if(!ptr)return-48;_memset(ptr,0,len);allocated=true}else{var info=FS.getStream(fd);if(!info)return-8;var res=FS.mmap(info,addr,len,off,prot,flags);ptr=res.ptr;allocated=res.allocated}SYSCALLS.mappings[ptr]={malloc:ptr,len:len,allocated:allocated,fd:fd,prot:prot,flags:flags,offset:off};return ptr}function ___sys_mmap2(addr,len,prot,flags,fd,off){try{return syscallMmap2(addr,len,prot,flags,fd,off)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_mprotect(addr,len,size){return 0}function syscallMunmap(addr,len){if((addr|0)===-1||len===0){return-28}var info=SYSCALLS.mappings[addr];if(!info)return 0;if(len===info.len){var stream=FS.getStream(info.fd);if(stream){if(info.prot&2){SYSCALLS.doMsync(addr,stream,len,info.flags,info.offset)}FS.munmap(stream)}SYSCALLS.mappings[addr]=null;if(info.allocated){_free(info.malloc)}}return 0}function ___sys_munmap(addr,len){try{return syscallMunmap(addr,len)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_open(path,flags,varargs){SYSCALLS.varargs=varargs;try{var pathname=SYSCALLS.getStr(path);var mode=varargs?SYSCALLS.get():0;var stream=FS.open(pathname,flags,mode);return stream.fd}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_stat64(path,buf){try{path=SYSCALLS.getStr(path);return SYSCALLS.doStat(FS.stat,path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var char_0=48;var char_9=57;function makeLegalFunctionName(name){if(undefined===name){return"_unknown"}name=name.replace(/[^a-zA-Z0-9_]/g,"$");var f=name.charCodeAt(0);if(f>=char_0&&f<=char_9){return"_"+name}else{return name}}function createNamedFunction(name,body){name=makeLegalFunctionName(name);return new Function("body","return function "+name+"() {\n"+'    "use strict";'+"    return body.apply(this, arguments);\n"+"};\n")(body)}var emval_free_list=[];var emval_handle_array=[{},{value:undefined},{value:null},{value:true},{value:false}];function count_emval_handles(){var count=0;for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){++count}}return count}function get_first_emval(){for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){return emval_handle_array[i]}}return null}function init_emval(){Module["count_emval_handles"]=count_emval_handles;Module["get_first_emval"]=get_first_emval}function __emval_register(value){switch(value){case undefined:{return 1}case null:{return 2}case true:{return 3}case false:{return 4}default:{var handle=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;emval_handle_array[handle]={refcount:1,value:value};return handle}}}function extendError(baseErrorType,errorName){var errorClass=createNamedFunction(errorName,function(message){this.name=errorName;this.message=message;var stack=new Error(message).stack;if(stack!==undefined){this.stack=this.toString()+"\n"+stack.replace(/^Error(:[^\n]*)?\n/,"")}});errorClass.prototype=Object.create(baseErrorType.prototype);errorClass.prototype.constructor=errorClass;errorClass.prototype.toString=function(){if(this.message===undefined){return this.name}else{return this.name+": "+this.message}};return errorClass}var PureVirtualError=undefined;function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i)}embind_charCodes=codes}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]]}return ret}function getInheritedInstanceCount(){return Object.keys(registeredInstances).length}function getLiveInheritedInstances(){var rv=[];for(var k in registeredInstances){if(registeredInstances.hasOwnProperty(k)){rv.push(registeredInstances[k])}}return rv}var deletionQueue=[];function flushPendingDeletes(){while(deletionQueue.length){var obj=deletionQueue.pop();obj.$$.deleteScheduled=false;obj["delete"]()}}var delayFunction=undefined;function setDelayFunction(fn){delayFunction=fn;if(deletionQueue.length&&delayFunction){delayFunction(flushPendingDeletes)}}function init_embind(){Module["getInheritedInstanceCount"]=getInheritedInstanceCount;Module["getLiveInheritedInstances"]=getLiveInheritedInstances;Module["flushPendingDeletes"]=flushPendingDeletes;Module["setDelayFunction"]=setDelayFunction}var registeredInstances={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message)}function getBasestPointer(class_,ptr){if(ptr===undefined){throwBindingError("ptr should not be undefined")}while(class_.baseClass){ptr=class_.upcast(ptr);class_=class_.baseClass}return ptr}function registerInheritedInstance(class_,ptr,instance){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){throwBindingError("Tried to register registered instance: "+ptr)}else{registeredInstances[ptr]=instance}}function requireHandle(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle)}return emval_handle_array[handle].value}var registeredTypes={};function getTypeName(type){var ptr=___getTypeName(type);var rv=readLatin1String(ptr);_free(ptr);return rv}function requireRegisteredType(rawType,humanName){var impl=registeredTypes[rawType];if(undefined===impl){throwBindingError(humanName+" has unknown type "+getTypeName(rawType))}return impl}function unregisterInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){delete registeredInstances[ptr]}else{throwBindingError("Tried to unregister unregistered instance: "+ptr)}}function detachFinalizer(handle){}var finalizationGroup=false;function runDestructor($$){if($$.smartPtr){$$.smartPtrType.rawDestructor($$.smartPtr)}else{$$.ptrType.registeredClass.rawDestructor($$.ptr)}}function releaseClassHandle($$){$$.count.value-=1;var toDelete=0===$$.count.value;if(toDelete){runDestructor($$)}}function attachFinalizer(handle){if("undefined"===typeof FinalizationGroup){attachFinalizer=function(handle){return handle};return handle}finalizationGroup=new FinalizationGroup(function(iter){for(var result=iter.next();!result.done;result=iter.next()){var $$=result.value;if(!$$.ptr){console.warn("object already deleted: "+$$.ptr)}else{releaseClassHandle($$)}}});attachFinalizer=function(handle){finalizationGroup.register(handle,handle.$$,handle.$$);return handle};detachFinalizer=function(handle){finalizationGroup.unregister(handle.$$)};return attachFinalizer(handle)}function __embind_create_inheriting_constructor(constructorName,wrapperType,properties){constructorName=readLatin1String(constructorName);wrapperType=requireRegisteredType(wrapperType,"wrapper");properties=requireHandle(properties);var arraySlice=[].slice;var registeredClass=wrapperType.registeredClass;var wrapperPrototype=registeredClass.instancePrototype;var baseClass=registeredClass.baseClass;var baseClassPrototype=baseClass.instancePrototype;var baseConstructor=registeredClass.baseClass.constructor;var ctor=createNamedFunction(constructorName,function(){registeredClass.baseClass.pureVirtualFunctions.forEach(function(name){if(this[name]===baseClassPrototype[name]){throw new PureVirtualError("Pure virtual function "+name+" must be implemented in JavaScript")}}.bind(this));Object.defineProperty(this,"__parent",{value:wrapperPrototype});this["__construct"].apply(this,arraySlice.call(arguments))});wrapperPrototype["__construct"]=function __construct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __construct")}var inner=baseConstructor["implement"].apply(undefined,[this].concat(arraySlice.call(arguments)));detachFinalizer(inner);var $$=inner.$$;inner["notifyOnDestruction"]();$$.preservePointerOnDelete=true;Object.defineProperties(this,{$$:{value:$$}});attachFinalizer(this);registerInheritedInstance(registeredClass,$$.ptr,this)};wrapperPrototype["__destruct"]=function __destruct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __destruct")}detachFinalizer(this);unregisterInheritedInstance(registeredClass,this.$$.ptr)};ctor.prototype=Object.create(wrapperPrototype);for(var p in properties){ctor.prototype[p]=properties[p]}return __emval_register(ctor)}var structRegistrations={};function runDestructors(destructors){while(destructors.length){var ptr=destructors.pop();var del=destructors.pop();del(ptr)}}function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAPU32[pointer>>2])}var awaitingDependencies={};var typeDependencies={};var InternalError=undefined;function throwInternalError(message){throw new InternalError(message)}function whenDependentTypesAreResolved(myTypes,dependentTypes,getTypeConverters){myTypes.forEach(function(type){typeDependencies[type]=dependentTypes});function onComplete(typeConverters){var myTypeConverters=getTypeConverters(typeConverters);if(myTypeConverters.length!==myTypes.length){throwInternalError("Mismatched type converter count")}for(var i=0;i<myTypes.length;++i){registerType(myTypes[i],myTypeConverters[i])}}var typeConverters=new Array(dependentTypes.length);var unregisteredTypes=[];var registered=0;dependentTypes.forEach(function(dt,i){if(registeredTypes.hasOwnProperty(dt)){typeConverters[i]=registeredTypes[dt]}else{unregisteredTypes.push(dt);if(!awaitingDependencies.hasOwnProperty(dt)){awaitingDependencies[dt]=[]}awaitingDependencies[dt].push(function(){typeConverters[i]=registeredTypes[dt];++registered;if(registered===unregisteredTypes.length){onComplete(typeConverters)}})}});if(0===unregisteredTypes.length){onComplete(typeConverters)}}function __embind_finalize_value_object(structType){var reg=structRegistrations[structType];delete structRegistrations[structType];var rawConstructor=reg.rawConstructor;var rawDestructor=reg.rawDestructor;var fieldRecords=reg.fields;var fieldTypes=fieldRecords.map(function(field){return field.getterReturnType}).concat(fieldRecords.map(function(field){return field.setterArgumentType}));whenDependentTypesAreResolved([structType],fieldTypes,function(fieldTypes){var fields={};fieldRecords.forEach(function(field,i){var fieldName=field.fieldName;var getterReturnType=fieldTypes[i];var getter=field.getter;var getterContext=field.getterContext;var setterArgumentType=fieldTypes[i+fieldRecords.length];var setter=field.setter;var setterContext=field.setterContext;fields[fieldName]={read:function(ptr){return getterReturnType["fromWireType"](getter(getterContext,ptr))},write:function(ptr,o){var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,o));runDestructors(destructors)}}});return[{name:reg.name,"fromWireType":function(ptr){var rv={};for(var i in fields){rv[i]=fields[i].read(ptr)}rawDestructor(ptr);return rv},"toWireType":function(destructors,o){for(var fieldName in fields){if(!(fieldName in o)){throw new TypeError('Missing field:  "'+fieldName+'"')}}var ptr=rawConstructor();for(fieldName in fields){fields[fieldName].write(ptr,o[fieldName])}if(destructors!==null){destructors.push(rawDestructor,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:rawDestructor}]})}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size)}}function registerType(rawType,registeredInstance,options){options=options||{};if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance")}var name=registeredInstance.name;if(!rawType){throwBindingError('type "'+name+'" must have a positive integer typeid pointer')}if(registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations){return}else{throwBindingError("Cannot register type '"+name+"' twice")}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){cb()})}}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(wt){return!!wt},"toWireType":function(destructors,o){return o?trueValue:falseValue},"argPackAdvance":8,"readValueFromPointer":function(pointer){var heap;if(size===1){heap=HEAP8}else if(size===2){heap=HEAP16}else if(size===4){heap=HEAP32}else{throw new TypeError("Unknown boolean type size: "+name)}return this["fromWireType"](heap[pointer>>shift])},destructorFunction:null})}function ClassHandle_isAliasOf(other){if(!(this instanceof ClassHandle)){return false}if(!(other instanceof ClassHandle)){return false}var leftClass=this.$$.ptrType.registeredClass;var left=this.$$.ptr;var rightClass=other.$$.ptrType.registeredClass;var right=other.$$.ptr;while(leftClass.baseClass){left=leftClass.upcast(left);leftClass=leftClass.baseClass}while(rightClass.baseClass){right=rightClass.upcast(right);rightClass=rightClass.baseClass}return leftClass===rightClass&&left===right}function shallowCopyInternalPointer(o){return{count:o.count,deleteScheduled:o.deleteScheduled,preservePointerOnDelete:o.preservePointerOnDelete,ptr:o.ptr,ptrType:o.ptrType,smartPtr:o.smartPtr,smartPtrType:o.smartPtrType}}function throwInstanceAlreadyDeleted(obj){function getInstanceTypeName(handle){return handle.$$.ptrType.registeredClass.name}throwBindingError(getInstanceTypeName(obj)+" instance already deleted")}function ClassHandle_clone(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.preservePointerOnDelete){this.$$.count.value+=1;return this}else{var clone=attachFinalizer(Object.create(Object.getPrototypeOf(this),{$$:{value:shallowCopyInternalPointer(this.$$)}}));clone.$$.count.value+=1;clone.$$.deleteScheduled=false;return clone}}function ClassHandle_delete(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}detachFinalizer(this);releaseClassHandle(this.$$);if(!this.$$.preservePointerOnDelete){this.$$.smartPtr=undefined;this.$$.ptr=undefined}}function ClassHandle_isDeleted(){return!this.$$.ptr}function ClassHandle_deleteLater(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}deletionQueue.push(this);if(deletionQueue.length===1&&delayFunction){delayFunction(flushPendingDeletes)}this.$$.deleteScheduled=true;return this}function init_ClassHandle(){ClassHandle.prototype["isAliasOf"]=ClassHandle_isAliasOf;ClassHandle.prototype["clone"]=ClassHandle_clone;ClassHandle.prototype["delete"]=ClassHandle_delete;ClassHandle.prototype["isDeleted"]=ClassHandle_isDeleted;ClassHandle.prototype["deleteLater"]=ClassHandle_deleteLater}function ClassHandle(){}var registeredPointers={};function ensureOverloadTable(proto,methodName,humanName){if(undefined===proto[methodName].overloadTable){var prevFunc=proto[methodName];proto[methodName]=function(){if(!proto[methodName].overloadTable.hasOwnProperty(arguments.length)){throwBindingError("Function '"+humanName+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+proto[methodName].overloadTable+")!")}return proto[methodName].overloadTable[arguments.length].apply(this,arguments)};proto[methodName].overloadTable=[];proto[methodName].overloadTable[prevFunc.argCount]=prevFunc}}function exposePublicSymbol(name,value,numArguments){if(Module.hasOwnProperty(name)){if(undefined===numArguments||undefined!==Module[name].overloadTable&&undefined!==Module[name].overloadTable[numArguments]){throwBindingError("Cannot register public name '"+name+"' twice")}ensureOverloadTable(Module,name,name);if(Module.hasOwnProperty(numArguments)){throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+numArguments+")!")}Module[name].overloadTable[numArguments]=value}else{Module[name]=value;if(undefined!==numArguments){Module[name].numArguments=numArguments}}}function RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast){this.name=name;this.constructor=constructor;this.instancePrototype=instancePrototype;this.rawDestructor=rawDestructor;this.baseClass=baseClass;this.getActualType=getActualType;this.upcast=upcast;this.downcast=downcast;this.pureVirtualFunctions=[]}function upcastPointer(ptr,ptrClass,desiredClass){while(ptrClass!==desiredClass){if(!ptrClass.upcast){throwBindingError("Expected null or instance of "+desiredClass.name+", got an instance of "+ptrClass.name)}ptr=ptrClass.upcast(ptr);ptrClass=ptrClass.baseClass}return ptr}function constNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function genericPointerToWireType(destructors,handle){var ptr;if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}if(this.isSmartPointer){ptr=this.rawConstructor();if(destructors!==null){destructors.push(this.rawDestructor,ptr)}return ptr}else{return 0}}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(!this.isConst&&handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);if(this.isSmartPointer){if(undefined===handle.$$.smartPtr){throwBindingError("Passing raw pointer to smart pointer is illegal")}switch(this.sharingPolicy){case 0:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}break;case 1:ptr=handle.$$.smartPtr;break;case 2:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{var clonedHandle=handle["clone"]();ptr=this.rawShare(ptr,__emval_register(function(){clonedHandle["delete"]()}));if(destructors!==null){destructors.push(this.rawDestructor,ptr)}}break;default:throwBindingError("Unsupporting sharing policy")}}return ptr}function nonConstNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+handle.$$.ptrType.name+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function RegisteredPointer_getPointee(ptr){if(this.rawGetPointee){ptr=this.rawGetPointee(ptr)}return ptr}function RegisteredPointer_destructor(ptr){if(this.rawDestructor){this.rawDestructor(ptr)}}function RegisteredPointer_deleteObject(handle){if(handle!==null){handle["delete"]()}}function downcastPointer(ptr,ptrClass,desiredClass){if(ptrClass===desiredClass){return ptr}if(undefined===desiredClass.baseClass){return null}var rv=downcastPointer(ptr,ptrClass,desiredClass.baseClass);if(rv===null){return null}return desiredClass.downcast(rv)}function getInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);return registeredInstances[ptr]}function makeClassHandle(prototype,record){if(!record.ptrType||!record.ptr){throwInternalError("makeClassHandle requires ptr and ptrType")}var hasSmartPtrType=!!record.smartPtrType;var hasSmartPtr=!!record.smartPtr;if(hasSmartPtrType!==hasSmartPtr){throwInternalError("Both smartPtrType and smartPtr must be specified")}record.count={value:1};return attachFinalizer(Object.create(prototype,{$$:{value:record}}))}function RegisteredPointer_fromWireType(ptr){var rawPointer=this.getPointee(ptr);if(!rawPointer){this.destructor(ptr);return null}var registeredInstance=getInheritedInstance(this.registeredClass,rawPointer);if(undefined!==registeredInstance){if(0===registeredInstance.$$.count.value){registeredInstance.$$.ptr=rawPointer;registeredInstance.$$.smartPtr=ptr;return registeredInstance["clone"]()}else{var rv=registeredInstance["clone"]();this.destructor(ptr);return rv}}function makeDefaultHandle(){if(this.isSmartPointer){return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:rawPointer,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this,ptr:ptr})}}var actualType=this.registeredClass.getActualType(rawPointer);var registeredPointerRecord=registeredPointers[actualType];if(!registeredPointerRecord){return makeDefaultHandle.call(this)}var toType;if(this.isConst){toType=registeredPointerRecord.constPointerType}else{toType=registeredPointerRecord.pointerType}var dp=downcastPointer(rawPointer,this.registeredClass,toType.registeredClass);if(dp===null){return makeDefaultHandle.call(this)}if(this.isSmartPointer){return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp})}}function init_RegisteredPointer(){RegisteredPointer.prototype.getPointee=RegisteredPointer_getPointee;RegisteredPointer.prototype.destructor=RegisteredPointer_destructor;RegisteredPointer.prototype["argPackAdvance"]=8;RegisteredPointer.prototype["readValueFromPointer"]=simpleReadValueFromPointer;RegisteredPointer.prototype["deleteObject"]=RegisteredPointer_deleteObject;RegisteredPointer.prototype["fromWireType"]=RegisteredPointer_fromWireType}function RegisteredPointer(name,registeredClass,isReference,isConst,isSmartPointer,pointeeType,sharingPolicy,rawGetPointee,rawConstructor,rawShare,rawDestructor){this.name=name;this.registeredClass=registeredClass;this.isReference=isReference;this.isConst=isConst;this.isSmartPointer=isSmartPointer;this.pointeeType=pointeeType;this.sharingPolicy=sharingPolicy;this.rawGetPointee=rawGetPointee;this.rawConstructor=rawConstructor;this.rawShare=rawShare;this.rawDestructor=rawDestructor;if(!isSmartPointer&&registeredClass.baseClass===undefined){if(isConst){this["toWireType"]=constNoSmartPtrRawPointerToWireType;this.destructorFunction=null}else{this["toWireType"]=nonConstNoSmartPtrRawPointerToWireType;this.destructorFunction=null}}else{this["toWireType"]=genericPointerToWireType}}function replacePublicSymbol(name,value,numArguments){if(!Module.hasOwnProperty(name)){throwInternalError("Replacing nonexistant public symbol")}if(undefined!==Module[name].overloadTable&&undefined!==numArguments){Module[name].overloadTable[numArguments]=value}else{Module[name]=value;Module[name].argCount=numArguments}}function dynCallLegacy(sig,ptr,args){assert("dynCall_"+sig in Module,"bad function pointer type - no table for sig '"+sig+"'");if(args&&args.length){assert(args.length===sig.substring(1).replace(/j/g,"--").length)}else{assert(sig.length==1)}var f=Module["dynCall_"+sig];return args&&args.length?f.apply(null,[ptr].concat(args)):f.call(null,ptr)}function dynCall(sig,ptr,args){if(sig.indexOf("j")!=-1){return dynCallLegacy(sig,ptr,args)}assert(wasmTable.get(ptr),"missing table entry in dynCall: "+ptr);return wasmTable.get(ptr).apply(null,args)}function getDynCaller(sig,ptr){assert(sig.indexOf("j")>=0,"getDynCaller should only be called with i64 sigs");var argCache=[];return function(){argCache.length=arguments.length;for(var i=0;i<arguments.length;i++){argCache[i]=arguments[i]}return dynCall(sig,ptr,argCache)}}function embind__requireFunction(signature,rawFunction){signature=readLatin1String(signature);function makeDynCaller(){if(signature.indexOf("j")!=-1){return getDynCaller(signature,rawFunction)}return wasmTable.get(rawFunction)}var fp=makeDynCaller();if(typeof fp!=="function"){throwBindingError("unknown function pointer with signature "+signature+": "+rawFunction)}return fp}var UnboundTypeError=undefined;function throwUnboundTypeError(message,types){var unboundTypes=[];var seen={};function visit(type){if(seen[type]){return}if(registeredTypes[type]){return}if(typeDependencies[type]){typeDependencies[type].forEach(visit);return}unboundTypes.push(type);seen[type]=true}types.forEach(visit);throw new UnboundTypeError(message+": "+unboundTypes.map(getTypeName).join([", "]))}function __embind_register_class(rawType,rawPointerType,rawConstPointerType,baseClassRawType,getActualTypeSignature,getActualType,upcastSignature,upcast,downcastSignature,downcast,name,destructorSignature,rawDestructor){name=readLatin1String(name);getActualType=embind__requireFunction(getActualTypeSignature,getActualType);if(upcast){upcast=embind__requireFunction(upcastSignature,upcast)}if(downcast){downcast=embind__requireFunction(downcastSignature,downcast)}rawDestructor=embind__requireFunction(destructorSignature,rawDestructor);var legalFunctionName=makeLegalFunctionName(name);exposePublicSymbol(legalFunctionName,function(){throwUnboundTypeError("Cannot construct "+name+" due to unbound types",[baseClassRawType])});whenDependentTypesAreResolved([rawType,rawPointerType,rawConstPointerType],baseClassRawType?[baseClassRawType]:[],function(base){base=base[0];var baseClass;var basePrototype;if(baseClassRawType){baseClass=base.registeredClass;basePrototype=baseClass.instancePrototype}else{basePrototype=ClassHandle.prototype}var constructor=createNamedFunction(legalFunctionName,function(){if(Object.getPrototypeOf(this)!==instancePrototype){throw new BindingError("Use 'new' to construct "+name)}if(undefined===registeredClass.constructor_body){throw new BindingError(name+" has no accessible constructor")}var body=registeredClass.constructor_body[arguments.length];if(undefined===body){throw new BindingError("Tried to invoke ctor of "+name+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(registeredClass.constructor_body).toString()+") parameters instead!")}return body.apply(this,arguments)});var instancePrototype=Object.create(basePrototype,{constructor:{value:constructor}});constructor.prototype=instancePrototype;var registeredClass=new RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast);var referenceConverter=new RegisteredPointer(name,registeredClass,true,false,false);var pointerConverter=new RegisteredPointer(name+"*",registeredClass,false,false,false);var constPointerConverter=new RegisteredPointer(name+" const*",registeredClass,false,true,false);registeredPointers[rawType]={pointerType:pointerConverter,constPointerType:constPointerConverter};replacePublicSymbol(legalFunctionName,constructor);return[referenceConverter,pointerConverter,constPointerConverter]})}function new_(constructor,argumentList){if(!(constructor instanceof Function)){throw new TypeError("new_ called with constructor type "+typeof constructor+" which is not a function")}var dummy=createNamedFunction(constructor.name||"unknownFunctionName",function(){});dummy.prototype=constructor.prototype;var obj=new dummy;var r=constructor.apply(obj,argumentList);return r instanceof Object?r:obj}function craftInvokerFunction(humanName,argTypes,classType,cppInvokerFunc,cppTargetFunc){var argCount=argTypes.length;if(argCount<2){throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!")}var isClassMethodFunc=argTypes[1]!==null&&classType!==null;var needsDestructorStack=false;for(var i=1;i<argTypes.length;++i){if(argTypes[i]!==null&&argTypes[i].destructorFunction===undefined){needsDestructorStack=true;break}}var returns=argTypes[0].name!=="void";var argsList="";var argsListWired="";for(var i=0;i<argCount-2;++i){argsList+=(i!==0?", ":"")+"arg"+i;argsListWired+=(i!==0?", ":"")+"arg"+i+"Wired"}var invokerFnBody="return function "+makeLegalFunctionName(humanName)+"("+argsList+") {\n"+"if (arguments.length !== "+(argCount-2)+") {\n"+"throwBindingError('function "+humanName+" called with ' + arguments.length + ' arguments, expected "+(argCount-2)+" args!');\n"+"}\n";if(needsDestructorStack){invokerFnBody+="var destructors = [];\n"}var dtorStack=needsDestructorStack?"destructors":"null";var args1=["throwBindingError","invoker","fn","runDestructors","retType","classParam"];var args2=[throwBindingError,cppInvokerFunc,cppTargetFunc,runDestructors,argTypes[0],argTypes[1]];if(isClassMethodFunc){invokerFnBody+="var thisWired = classParam.toWireType("+dtorStack+", this);\n"}for(var i=0;i<argCount-2;++i){invokerFnBody+="var arg"+i+"Wired = argType"+i+".toWireType("+dtorStack+", arg"+i+"); // "+argTypes[i+2].name+"\n";args1.push("argType"+i);args2.push(argTypes[i+2])}if(isClassMethodFunc){argsListWired="thisWired"+(argsListWired.length>0?", ":"")+argsListWired}invokerFnBody+=(returns?"var rv = ":"")+"invoker(fn"+(argsListWired.length>0?", ":"")+argsListWired+");\n";if(needsDestructorStack){invokerFnBody+="runDestructors(destructors);\n"}else{for(var i=isClassMethodFunc?1:2;i<argTypes.length;++i){var paramName=i===1?"thisWired":"arg"+(i-2)+"Wired";if(argTypes[i].destructorFunction!==null){invokerFnBody+=paramName+"_dtor("+paramName+"); // "+argTypes[i].name+"\n";args1.push(paramName+"_dtor");args2.push(argTypes[i].destructorFunction)}}}if(returns){invokerFnBody+="var ret = retType.fromWireType(rv);\n"+"return ret;\n"}else{}invokerFnBody+="}\n";args1.push(invokerFnBody);var invokerFunction=new_(Function,args1).apply(null,args2);return invokerFunction}function heap32VectorToArray(count,firstElement){var array=[];for(var i=0;i<count;i++){array.push(HEAP32[(firstElement>>2)+i])}return array}function __embind_register_class_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,fn){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.constructor;if(undefined===proto[methodName]){unboundTypesHandler.argCount=argCount-1;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-1]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));var func=craftInvokerFunction(humanName,invokerArgsArray,null,rawInvoker,fn);if(undefined===proto[methodName].overloadTable){func.argCount=argCount-1;proto[methodName]=func}else{proto[methodName].overloadTable[argCount-1]=func}return[]});return[]})}function __embind_register_class_constructor(rawClassType,argCount,rawArgTypesAddr,invokerSignature,invoker,rawConstructor){assert(argCount>0);var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);invoker=embind__requireFunction(invokerSignature,invoker);var args=[rawConstructor];var destructors=[];whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName="constructor "+classType.name;if(undefined===classType.registeredClass.constructor_body){classType.registeredClass.constructor_body=[]}if(undefined!==classType.registeredClass.constructor_body[argCount-1]){throw new BindingError("Cannot register multiple constructors with identical number of parameters ("+(argCount-1)+") for class '"+classType.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!")}classType.registeredClass.constructor_body[argCount-1]=function unboundTypeHandler(){throwUnboundTypeError("Cannot construct "+classType.name+" due to unbound types",rawArgTypes)};whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){classType.registeredClass.constructor_body[argCount-1]=function constructor_body(){if(arguments.length!==argCount-1){throwBindingError(humanName+" called with "+arguments.length+" arguments, expected "+(argCount-1))}destructors.length=0;args.length=argCount;for(var i=1;i<argCount;++i){args[i]=argTypes[i]["toWireType"](destructors,arguments[i-1])}var ptr=invoker.apply(null,args);runDestructors(destructors);return argTypes[0]["fromWireType"](ptr)};return[]});return[]})}function __embind_register_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,context,isPureVirtual){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;if(isPureVirtual){classType.registeredClass.pureVirtualFunctions.push(methodName)}function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.instancePrototype;var method=proto[methodName];if(undefined===method||undefined===method.overloadTable&&method.className!==classType.name&&method.argCount===argCount-2){unboundTypesHandler.argCount=argCount-2;unboundTypesHandler.className=classType.name;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-2]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var memberFunction=craftInvokerFunction(humanName,argTypes,classType,rawInvoker,context);if(undefined===proto[methodName].overloadTable){memberFunction.argCount=argCount-2;proto[methodName]=memberFunction}else{proto[methodName].overloadTable[argCount-2]=memberFunction}return[]});return[]})}function validateThis(this_,classType,humanName){if(!(this_ instanceof Object)){throwBindingError(humanName+' with invalid "this": '+this_)}if(!(this_ instanceof classType.registeredClass.constructor)){throwBindingError(humanName+' incompatible with "this" of type '+this_.constructor.name)}if(!this_.$$.ptr){throwBindingError("cannot call emscripten binding method "+humanName+" on deleted object")}return upcastPointer(this_.$$.ptr,this_.$$.ptrType.registeredClass,classType.registeredClass)}function __embind_register_class_property(classType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){fieldName=readLatin1String(fieldName);getter=embind__requireFunction(getterSignature,getter);whenDependentTypesAreResolved([],[classType],function(classType){classType=classType[0];var humanName=classType.name+"."+fieldName;var desc={get:function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])},enumerable:true,configurable:true};if(setter){desc.set=function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])}}else{desc.set=function(v){throwBindingError(humanName+" is a read-only property")}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);whenDependentTypesAreResolved([],setter?[getterReturnType,setterArgumentType]:[getterReturnType],function(types){var getterReturnType=types[0];var desc={get:function(){var ptr=validateThis(this,classType,humanName+" getter");return getterReturnType["fromWireType"](getter(getterContext,ptr))},enumerable:true};if(setter){setter=embind__requireFunction(setterSignature,setter);var setterArgumentType=types[1];desc.set=function(v){var ptr=validateThis(this,classType,humanName+" setter");var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,v));runDestructors(destructors)}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);return[]});return[]})}function __emval_decref(handle){if(handle>4&&0===--emval_handle_array[handle].refcount){emval_handle_array[handle]=undefined;emval_free_list.push(handle)}}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(handle){var rv=emval_handle_array[handle].value;__emval_decref(handle);return rv},"toWireType":function(destructors,value){return __emval_register(value)},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null})}function _embind_repr(v){if(v===null){return"null"}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString()}else{return""+v}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2])};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3])};default:throw new TypeError("Unknown float type: "+name)}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(value){return value},"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}return value},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null})}function __embind_register_function(name,argCount,rawArgTypesAddr,signature,rawInvoker,fn){var argTypes=heap32VectorToArray(argCount,rawArgTypesAddr);name=readLatin1String(name);rawInvoker=embind__requireFunction(signature,rawInvoker);exposePublicSymbol(name,function(){throwUnboundTypeError("Cannot call "+name+" due to unbound types",argTypes)},argCount-1);whenDependentTypesAreResolved([],argTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));replacePublicSymbol(name,craftInvokerFunction(name,invokerArgsArray,null,rawInvoker,fn),argCount-1);return[]})}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer]}:function readU8FromPointer(pointer){return HEAPU8[pointer]};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1]}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1]};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2]}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2]};default:throw new TypeError("Unknown integer type: "+name)}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295}var shift=getShiftFromSize(size);var fromWireType=function(value){return value};if(minRange===0){var bitshift=32-8*size;fromWireType=function(value){return value<<bitshift>>>bitshift}}var isUnsignedType=name.indexOf("unsigned")!=-1;registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}if(value<minRange||value>maxRange){throw new TypeError('Passing a number "'+_embind_repr(value)+'" from JS side to C/C++ side to an argument of type "'+name+'", which is outside the valid range ['+minRange+", "+maxRange+"]!")}return isUnsignedType?value>>>0:value|0},"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null})}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(buffer,data,size)}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true})}function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var str;if(stdStringIsUTF8){var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+1}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[value+4+i])}str=a.join("")}_free(value);return str},"toWireType":function(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value)}var getLength;var valueIsOfTypeString=typeof value==="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string")}if(stdStringIsUTF8&&valueIsOfTypeString){getLength=function(){return lengthBytesUTF8(value)}}else{getLength=function(){return value.length}}var length=getLength();var ptr=_malloc(4+length+1);HEAPU32[ptr>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr+4,length+1)}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits")}HEAPU8[ptr+4+i]=charCode}}else{for(var i=0;i<length;++i){HEAPU8[ptr+4+i]=value[i]}}}if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function(){return HEAPU16};shift=1}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function(){return HEAPU32};shift=2}registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+charSize}}_free(value);return str},"toWireType":function(destructors,value){if(!(typeof value==="string")){throwBindingError("Cannot pass non-string to C++ string type "+name)}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_value_object(rawType,name,constructorSignature,rawConstructor,destructorSignature,rawDestructor){structRegistrations[rawType]={name:readLatin1String(name),rawConstructor:embind__requireFunction(constructorSignature,rawConstructor),rawDestructor:embind__requireFunction(destructorSignature,rawDestructor),fields:[]}}function __embind_register_value_object_field(structType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){structRegistrations[structType].fields.push({fieldName:readLatin1String(fieldName),getterReturnType:getterReturnType,getter:embind__requireFunction(getterSignature,getter),getterContext:getterContext,setterArgumentType:setterArgumentType,setter:embind__requireFunction(setterSignature,setter),setterContext:setterContext})}function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function(){return undefined},"toWireType":function(destructors,o){return undefined}})}var emval_symbols={};function getStringOrSymbol(address){var symbol=emval_symbols[address];if(symbol===undefined){return readLatin1String(address)}else{return symbol}}var emval_methodCallers=[];function __emval_call_void_method(caller,handle,methodName,args){caller=emval_methodCallers[caller];handle=requireHandle(handle);methodName=getStringOrSymbol(methodName);caller(handle,methodName,null,args)}function __emval_addMethodCaller(caller){var id=emval_methodCallers.length;emval_methodCallers.push(caller);return id}function __emval_lookupTypes(argCount,argTypes){var a=new Array(argCount);for(var i=0;i<argCount;++i){a[i]=requireRegisteredType(HEAP32[(argTypes>>2)+i],"parameter "+i)}return a}function __emval_get_method_caller(argCount,argTypes){var types=__emval_lookupTypes(argCount,argTypes);var retType=types[0];var signatureName=retType.name+"_$"+types.slice(1).map(function(t){return t.name}).join("_")+"$";var params=["retType"];var args=[retType];var argsList="";for(var i=0;i<argCount-1;++i){argsList+=(i!==0?", ":"")+"arg"+i;params.push("argType"+i);args.push(types[1+i])}var functionName=makeLegalFunctionName("methodCaller_"+signatureName);var functionBody="return function "+functionName+"(handle, name, destructors, args) {\n";var offset=0;for(var i=0;i<argCount-1;++i){functionBody+="    var arg"+i+" = argType"+i+".readValueFromPointer(args"+(offset?"+"+offset:"")+");\n";offset+=types[i+1]["argPackAdvance"]}functionBody+="    var rv = handle[name]("+argsList+");\n";for(var i=0;i<argCount-1;++i){if(types[i+1]["deleteObject"]){functionBody+="    argType"+i+".deleteObject(arg"+i+");\n"}}if(!retType.isVoid){functionBody+="    return retType.toWireType(destructors, rv);\n"}functionBody+="};\n";params.push(functionBody);var invokerFunction=new_(Function,params).apply(null,args);return __emval_addMethodCaller(invokerFunction)}function __emval_incref(handle){if(handle>4){emval_handle_array[handle].refcount+=1}}function __emval_take_value(type,argv){type=requireRegisteredType(type,"_emval_take_value");var v=type["readValueFromPointer"](argv);return __emval_register(v)}function __exit(a0){return _exit(a0)}function _abort(){abort()}var _emscripten_get_now_is_monotonic=true;function _clock_gettime(clk_id,tp){var now;if(clk_id===0){now=Date.now()}else if((clk_id===1||clk_id===4)&&_emscripten_get_now_is_monotonic){now=_emscripten_get_now()}else{setErrNo(28);return-1}HEAP32[tp>>2]=now/1e3|0;HEAP32[tp+4>>2]=now%1e3*1e3*1e3|0;return 0}function _dlopen(filename,flag){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function _dlsym(handle,symbol){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}var EGL={errorCode:12288,defaultDisplayInitialized:false,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:false,depth:false,stencil:false,antialias:false},stringCache:{},setErrorCode:function(code){EGL.errorCode=code},chooseConfig:function(display,attribList,config,config_size,numConfigs){if(display!=62e3){EGL.setErrorCode(12296);return 0}if(attribList){for(;;){var param=HEAP32[attribList>>2];if(param==12321){var alphaSize=HEAP32[attribList+4>>2];EGL.contextAttributes.alpha=alphaSize>0}else if(param==12325){var depthSize=HEAP32[attribList+4>>2];EGL.contextAttributes.depth=depthSize>0}else if(param==12326){var stencilSize=HEAP32[attribList+4>>2];EGL.contextAttributes.stencil=stencilSize>0}else if(param==12337){var samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=samples>0}else if(param==12338){var samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=samples==1}else if(param==12544){var requestedPriority=HEAP32[attribList+4>>2];EGL.contextAttributes.lowLatency=requestedPriority!=12547}else if(param==12344){break}attribList+=8}}if((!config||!config_size)&&!numConfigs){EGL.setErrorCode(12300);return 0}if(numConfigs){HEAP32[numConfigs>>2]=1}if(config&&config_size>0){HEAP32[config>>2]=62002}EGL.setErrorCode(12288);return 1}};function _eglGetCurrentContext(){return EGL.currentContext}function _eglGetDisplay(nativeDisplayType){EGL.setErrorCode(12288);return 62e3}function _eglQueryContext(display,context,attribute,value){if(display!=62e3){EGL.setErrorCode(12296);return 0}if(context!=62004){EGL.setErrorCode(12294);return 0}if(!value){EGL.setErrorCode(12300);return 0}EGL.setErrorCode(12288);switch(attribute){case 12328:HEAP32[value>>2]=62002;return 1;case 12439:HEAP32[value>>2]=12448;return 1;case 12440:HEAP32[value>>2]=EGL.contextAttributes.majorVersion+1;return 1;case 12422:HEAP32[value>>2]=12420;return 1;default:EGL.setErrorCode(12292);return 0}}function _emscripten_asm_const_int(code,sigPtr,argbuf){var args=readAsmConstArgs(sigPtr,argbuf);if(!ASM_CONSTS.hasOwnProperty(code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args)}function _emscripten_async_call(func,arg,millis){function wrapper(){wasmTable.get(func)(arg)}if(millis>=0){Browser.safeSetTimeout(wrapper,millis)}else{Browser.safeRequestAnimationFrame(wrapper)}}function _emscripten_get_heap_max(){return 2147483648}function _longjmp(env,value){_setThrew(env,value||1);throw"longjmp"}function _emscripten_longjmp(a0,a1){return _longjmp(a0,a1)}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+buffer.byteLength+" bytes to "+size+" bytes, but got error: "+e)}}function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;assert(requestedSize>oldSize);var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false}function _emscripten_thread_sleep(msecs){var start=_emscripten_get_now();while(_emscripten_get_now()-start<msecs){}}function __webgl_enable_ANGLE_instanced_arrays(ctx){var ext=ctx.getExtension("ANGLE_instanced_arrays");if(ext){ctx["vertexAttribDivisor"]=function(index,divisor){ext["vertexAttribDivisorANGLE"](index,divisor)};ctx["drawArraysInstanced"]=function(mode,first,count,primcount){ext["drawArraysInstancedANGLE"](mode,first,count,primcount)};ctx["drawElementsInstanced"]=function(mode,count,type,indices,primcount){ext["drawElementsInstancedANGLE"](mode,count,type,indices,primcount)};return 1}}function __webgl_enable_OES_vertex_array_object(ctx){var ext=ctx.getExtension("OES_vertex_array_object");if(ext){ctx["createVertexArray"]=function(){return ext["createVertexArrayOES"]()};ctx["deleteVertexArray"]=function(vao){ext["deleteVertexArrayOES"](vao)};ctx["bindVertexArray"]=function(vao){ext["bindVertexArrayOES"](vao)};ctx["isVertexArray"]=function(vao){return ext["isVertexArrayOES"](vao)};return 1}}function __webgl_enable_WEBGL_draw_buffers(ctx){var ext=ctx.getExtension("WEBGL_draw_buffers");if(ext){ctx["drawBuffers"]=function(n,bufs){ext["drawBuffersWEBGL"](n,bufs)};return 1}}function __webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.dibvbi=ctx.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.mdibvbi=ctx.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw(ctx){return!!(ctx.multiDrawWebgl=ctx.getExtension("WEBGL_multi_draw"))}var GL={counter:1,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function recordError(errorCode){if(!GL.lastError){GL.lastError=errorCode}},getNewId:function(table){var ret=GL.counter++;for(var i=table.length;i<ret;i++){table[i]=null}return ret},MAX_TEMP_BUFFER_SIZE:2097152,numTempVertexBuffersPerSize:64,log2ceilLookup:function(i){return 32-Math.clz32(i===0?0:i-1)},generateTempBuffers:function(quads,context){var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);context.tempVertexBufferCounters1=[];context.tempVertexBufferCounters2=[];context.tempVertexBufferCounters1.length=context.tempVertexBufferCounters2.length=largestIndex+1;context.tempVertexBuffers1=[];context.tempVertexBuffers2=[];context.tempVertexBuffers1.length=context.tempVertexBuffers2.length=largestIndex+1;context.tempIndexBuffers=[];context.tempIndexBuffers.length=largestIndex+1;for(var i=0;i<=largestIndex;++i){context.tempIndexBuffers[i]=null;context.tempVertexBufferCounters1[i]=context.tempVertexBufferCounters2[i]=0;var ringbufferLength=GL.numTempVertexBuffersPerSize;context.tempVertexBuffers1[i]=[];context.tempVertexBuffers2[i]=[];var ringbuffer1=context.tempVertexBuffers1[i];var ringbuffer2=context.tempVertexBuffers2[i];ringbuffer1.length=ringbuffer2.length=ringbufferLength;for(var j=0;j<ringbufferLength;++j){ringbuffer1[j]=ringbuffer2[j]=null}}if(quads){context.tempQuadIndexBuffer=GLctx.createBuffer();context.GLctx.bindBuffer(34963,context.tempQuadIndexBuffer);var numIndexes=GL.MAX_TEMP_BUFFER_SIZE>>1;var quadIndexes=new Uint16Array(numIndexes);var i=0,v=0;while(1){quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+1;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v+3;if(i>=numIndexes)break;v+=4}context.GLctx.bufferData(34963,quadIndexes,35044);context.GLctx.bindBuffer(34963,null)}},getTempVertexBuffer:function getTempVertexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ringbuffer=GL.currentContext.tempVertexBuffers1[idx];var nextFreeBufferIndex=GL.currentContext.tempVertexBufferCounters1[idx];GL.currentContext.tempVertexBufferCounters1[idx]=GL.currentContext.tempVertexBufferCounters1[idx]+1&GL.numTempVertexBuffersPerSize-1;var vbo=ringbuffer[nextFreeBufferIndex];if(vbo){return vbo}var prevVBO=GLctx.getParameter(34964);ringbuffer[nextFreeBufferIndex]=GLctx.createBuffer();GLctx.bindBuffer(34962,ringbuffer[nextFreeBufferIndex]);GLctx.bufferData(34962,1<<idx,35048);GLctx.bindBuffer(34962,prevVBO);return ringbuffer[nextFreeBufferIndex]},getTempIndexBuffer:function getTempIndexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ibo=GL.currentContext.tempIndexBuffers[idx];if(ibo){return ibo}var prevIBO=GLctx.getParameter(34965);GL.currentContext.tempIndexBuffers[idx]=GLctx.createBuffer();GLctx.bindBuffer(34963,GL.currentContext.tempIndexBuffers[idx]);GLctx.bufferData(34963,1<<idx,35048);GLctx.bindBuffer(34963,prevIBO);return GL.currentContext.tempIndexBuffers[idx]},newRenderingFrameStarted:function newRenderingFrameStarted(){if(!GL.currentContext){return}var vb=GL.currentContext.tempVertexBuffers1;GL.currentContext.tempVertexBuffers1=GL.currentContext.tempVertexBuffers2;GL.currentContext.tempVertexBuffers2=vb;vb=GL.currentContext.tempVertexBufferCounters1;GL.currentContext.tempVertexBufferCounters1=GL.currentContext.tempVertexBufferCounters2;GL.currentContext.tempVertexBufferCounters2=vb;var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);for(var i=0;i<=largestIndex;++i){GL.currentContext.tempVertexBufferCounters1[i]=0}},getSource:function(shader,count,string,length){var source="";for(var i=0;i<count;++i){var len=length?HEAP32[length+i*4>>2]:-1;source+=UTF8ToString(HEAP32[string+i*4>>2],len<0?undefined:len)}return source},calcBufLength:function calcBufLength(size,type,stride,count){if(stride>0){return count*stride}var typeSize=GL.byteSizeByType[type-GL.byteSizeByTypeRoot];return size*typeSize*count},usedTempBuffers:[],preDrawHandleClientVertexAttribBindings:function preDrawHandleClientVertexAttribBindings(count){GL.resetBufferBinding=false;for(var i=0;i<GL.currentContext.maxVertexAttribs;++i){var cb=GL.currentContext.clientBuffers[i];if(!cb.clientside||!cb.enabled)continue;GL.resetBufferBinding=true;var size=GL.calcBufLength(cb.size,cb.type,cb.stride,count);var buf=GL.getTempVertexBuffer(size);GLctx.bindBuffer(34962,buf);GLctx.bufferSubData(34962,0,HEAPU8.subarray(cb.ptr,cb.ptr+size));cb.vertexAttribPointerAdaptor.call(GLctx,i,cb.size,cb.type,cb.normalized,cb.stride,0)}},postDrawHandleClientVertexAttribBindings:function postDrawHandleClientVertexAttribBindings(){if(GL.resetBufferBinding){GLctx.bindBuffer(34962,GL.buffers[GLctx.currentArrayBufferBinding])}},createContext:function(canvas,webGLContextAttributes){if(!canvas.getContextSafariWebGL2Fixed){canvas.getContextSafariWebGL2Fixed=canvas.getContext;canvas.getContext=function(ver,attrs){var gl=canvas.getContextSafariWebGL2Fixed(ver,attrs);return ver=="webgl"==gl instanceof WebGLRenderingContext?gl:null}}var ctx=webGLContextAttributes.majorVersion>1?canvas.getContext("webgl2",webGLContextAttributes):canvas.getContext("webgl",webGLContextAttributes);if(!ctx)return 0;var handle=GL.registerContext(ctx,webGLContextAttributes);return handle},registerContext:function(ctx,webGLContextAttributes){var handle=GL.getNewId(GL.contexts);var context={handle:handle,attributes:webGLContextAttributes,version:webGLContextAttributes.majorVersion,GLctx:ctx};if(ctx.canvas)ctx.canvas.GLctxObject=context;GL.contexts[handle]=context;if(typeof webGLContextAttributes.enableExtensionsByDefault==="undefined"||webGLContextAttributes.enableExtensionsByDefault){GL.initExtensions(context)}context.maxVertexAttribs=context.GLctx.getParameter(34921);context.clientBuffers=[];for(var i=0;i<context.maxVertexAttribs;i++){context.clientBuffers[i]={enabled:false,clientside:false,size:0,type:0,normalized:0,stride:0,ptr:0,vertexAttribPointerAdaptor:null}}GL.generateTempBuffers(false,context);return handle},makeContextCurrent:function(contextHandle){GL.currentContext=GL.contexts[contextHandle];Module.ctx=GLctx=GL.currentContext&&GL.currentContext.GLctx;return!(contextHandle&&!GLctx)},getContext:function(contextHandle){return GL.contexts[contextHandle]},deleteContext:function(contextHandle){if(GL.currentContext===GL.contexts[contextHandle])GL.currentContext=null;if(typeof JSEvents==="object")JSEvents.removeAllHandlersOnTarget(GL.contexts[contextHandle].GLctx.canvas);if(GL.contexts[contextHandle]&&GL.contexts[contextHandle].GLctx.canvas)GL.contexts[contextHandle].GLctx.canvas.GLctxObject=undefined;GL.contexts[contextHandle]=null},initExtensions:function(context){if(!context)context=GL.currentContext;if(context.initExtensionsDone)return;context.initExtensionsDone=true;var GLctx=context.GLctx;__webgl_enable_ANGLE_instanced_arrays(GLctx);__webgl_enable_OES_vertex_array_object(GLctx);__webgl_enable_WEBGL_draw_buffers(GLctx);__webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(GLctx);__webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(GLctx);GLctx.disjointTimerQueryExt=GLctx.getExtension("EXT_disjoint_timer_query");__webgl_enable_WEBGL_multi_draw(GLctx);var exts=GLctx.getSupportedExtensions()||[];exts.forEach(function(ext){if(ext.indexOf("lose_context")<0&&ext.indexOf("debug")<0){GLctx.getExtension(ext)}})},populateUniformTable:function(program){var p=GL.programs[program];var ptable=GL.programInfos[program]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var utable=ptable.uniforms;var numUniforms=GLctx.getProgramParameter(p,35718);for(var i=0;i<numUniforms;++i){var u=GLctx.getActiveUniform(p,i);var name=u.name;ptable.maxUniformLength=Math.max(ptable.maxUniformLength,name.length+1);if(name.slice(-1)=="]"){name=name.slice(0,name.lastIndexOf("["))}var loc=GLctx.getUniformLocation(p,name);if(loc){var id=GL.getNewId(GL.uniforms);utable[name]=[u.size,id];GL.uniforms[id]=loc;for(var j=1;j<u.size;++j){var n=name+"["+j+"]";loc=GLctx.getUniformLocation(p,n);id=GL.getNewId(GL.uniforms);GL.uniforms[id]=loc}}}}};var JSEvents={inEventHandler:0,removeAllEventListeners:function(){for(var i=JSEvents.eventHandlers.length-1;i>=0;--i){JSEvents._removeHandler(i)}JSEvents.eventHandlers=[];JSEvents.deferredCalls=[]},registerRemoveEventListeners:function(){if(!JSEvents.removeEventListenersRegistered){__ATEXIT__.push(JSEvents.removeAllEventListeners);JSEvents.removeEventListenersRegistered=true}},deferredCalls:[],deferCall:function(targetFunction,precedence,argsList){function arraysHaveEqualContent(arrA,arrB){if(arrA.length!=arrB.length)return false;for(var i in arrA){if(arrA[i]!=arrB[i])return false}return true}for(var i in JSEvents.deferredCalls){var call=JSEvents.deferredCalls[i];if(call.targetFunction==targetFunction&&arraysHaveEqualContent(call.argsList,argsList)){return}}JSEvents.deferredCalls.push({targetFunction:targetFunction,precedence:precedence,argsList:argsList});JSEvents.deferredCalls.sort(function(x,y){return x.precedence<y.precedence})},removeDeferredCalls:function(targetFunction){for(var i=0;i<JSEvents.deferredCalls.length;++i){if(JSEvents.deferredCalls[i].targetFunction==targetFunction){JSEvents.deferredCalls.splice(i,1);--i}}},canPerformEventHandlerRequests:function(){return JSEvents.inEventHandler&&JSEvents.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!JSEvents.canPerformEventHandlerRequests()){return}for(var i=0;i<JSEvents.deferredCalls.length;++i){var call=JSEvents.deferredCalls[i];JSEvents.deferredCalls.splice(i,1);--i;call.targetFunction.apply(null,call.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(target,eventTypeString){for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==target&&(!eventTypeString||eventTypeString==JSEvents.eventHandlers[i].eventTypeString)){JSEvents._removeHandler(i--)}}},_removeHandler:function(i){var h=JSEvents.eventHandlers[i];h.target.removeEventListener(h.eventTypeString,h.eventListenerFunc,h.useCapture);JSEvents.eventHandlers.splice(i,1)},registerOrRemoveHandler:function(eventHandler){var jsEventHandler=function jsEventHandler(event){++JSEvents.inEventHandler;JSEvents.currentEventHandler=eventHandler;JSEvents.runDeferredCalls();eventHandler.handlerFunc(event);JSEvents.runDeferredCalls();--JSEvents.inEventHandler};if(eventHandler.callbackfunc){eventHandler.eventListenerFunc=jsEventHandler;eventHandler.target.addEventListener(eventHandler.eventTypeString,jsEventHandler,eventHandler.useCapture);JSEvents.eventHandlers.push(eventHandler);JSEvents.registerRemoveEventListeners()}else{for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==eventHandler.target&&JSEvents.eventHandlers[i].eventTypeString==eventHandler.eventTypeString){JSEvents._removeHandler(i--)}}}},getNodeNameForTarget:function(target){if(!target)return"";if(target==window)return"#window";if(target==screen)return"#screen";return target&&target.nodeName?target.nodeName:""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var __emscripten_webgl_power_preferences=["default","low-power","high-performance"];var specialHTMLTargets=[0,typeof document!=="undefined"?document:0,typeof window!=="undefined"?window:0];function findEventTarget(target){warnOnce("Rules for selecting event targets in HTML5 API are changing: instead of using document.getElementById() that only can refer to elements by their DOM ID, new event target selection mechanism uses the more flexible function document.querySelector() that can look up element names, classes, and complex CSS selectors. Build with -s DISABLE_DEPRECATED_FIND_EVENT_TARGET_BEHAVIOR=1 to change to the new lookup rules. See https://github.com/emscripten-core/emscripten/pull/7977 for more details.");try{if(!target)return window;if(typeof target==="number")target=specialHTMLTargets[target]||UTF8ToString(target);if(target==="#window")return window;else if(target==="#document")return document;else if(target==="#screen")return screen;else if(target==="#canvas")return Module["canvas"];return typeof target==="string"?document.getElementById(target):target}catch(e){return null}}function findCanvasEventTarget(target){if(typeof target==="number")target=UTF8ToString(target);if(!target||target==="#canvas"){if(typeof GL!=="undefined"&&GL.offscreenCanvases["canvas"])return GL.offscreenCanvases["canvas"];return Module["canvas"]}if(typeof GL!=="undefined"&&GL.offscreenCanvases[target])return GL.offscreenCanvases[target];return findEventTarget(target)}function _emscripten_webgl_do_create_context(target,attributes){assert(attributes);var a=attributes>>2;var powerPreference=HEAP32[a+(24>>2)];var contextAttributes={"alpha":!!HEAP32[a+(0>>2)],"depth":!!HEAP32[a+(4>>2)],"stencil":!!HEAP32[a+(8>>2)],"antialias":!!HEAP32[a+(12>>2)],"premultipliedAlpha":!!HEAP32[a+(16>>2)],"preserveDrawingBuffer":!!HEAP32[a+(20>>2)],"powerPreference":__emscripten_webgl_power_preferences[powerPreference],"failIfMajorPerformanceCaveat":!!HEAP32[a+(28>>2)],majorVersion:HEAP32[a+(32>>2)],minorVersion:HEAP32[a+(36>>2)],enableExtensionsByDefault:HEAP32[a+(40>>2)],explicitSwapControl:HEAP32[a+(44>>2)],proxyContextToMainThread:HEAP32[a+(48>>2)],renderViaOffscreenBackBuffer:HEAP32[a+(52>>2)]};var canvas=findCanvasEventTarget(target);if(!canvas){return 0}if(contextAttributes.explicitSwapControl){return 0}var contextHandle=GL.createContext(canvas,contextAttributes);return contextHandle}function _emscripten_webgl_create_context(a0,a1){return _emscripten_webgl_do_create_context(a0,a1)}function _emscripten_webgl_do_get_current_context(){return GL.currentContext?GL.currentContext.handle:0}function _emscripten_webgl_get_current_context(){return _emscripten_webgl_do_get_current_context()}Module["_emscripten_webgl_get_current_context"]=_emscripten_webgl_get_current_context;function _emscripten_webgl_make_context_current(contextHandle){var success=GL.makeContextCurrent(contextHandle);return success?0:-5}Module["_emscripten_webgl_make_context_current"]=_emscripten_webgl_make_context_current;function _emscripten_webgl_destroy_context(contextHandle){if(GL.currentContext==contextHandle)GL.currentContext=0;GL.deleteContext(contextHandle)}function _emscripten_webgl_get_context_attributes(c,a){if(!a)return-5;c=GL.contexts[c];if(!c)return-3;var t=c.GLctx;if(!t)return-3;t=t.getContextAttributes();HEAP32[a>>2]=t.alpha;HEAP32[a+4>>2]=t.depth;HEAP32[a+8>>2]=t.stencil;HEAP32[a+12>>2]=t.antialias;HEAP32[a+16>>2]=t.premultipliedAlpha;HEAP32[a+20>>2]=t.preserveDrawingBuffer;var power=t["powerPreference"]&&__emscripten_webgl_power_preferences.indexOf(t["powerPreference"]);HEAP32[a+24>>2]=power;HEAP32[a+28>>2]=t.failIfMajorPerformanceCaveat;HEAP32[a+32>>2]=c.version;HEAP32[a+36>>2]=0;HEAP32[a+40>>2]=c.attributes.enableExtensionsByDefault;return 0}function _emscripten_webgl_init_context_attributes(attributes){assert(attributes);var a=attributes>>2;for(var i=0;i<56>>2;++i){HEAP32[a+i]=0}HEAP32[a+(0>>2)]=HEAP32[a+(4>>2)]=HEAP32[a+(12>>2)]=HEAP32[a+(16>>2)]=HEAP32[a+(32>>2)]=HEAP32[a+(40>>2)]=1}var ENV={};function getExecutableName(){return thisProgram||"./this.program"}function getEnvStrings(){if(!getEnvStrings.strings){var lang=(typeof navigator==="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var env={"USER":"web_user","LOGNAME":"web_user","PATH":"/","PWD":"/","HOME":"/home/web_user","LANG":lang,"_":getExecutableName()};for(var x in ENV){env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(x+"="+env[x])}getEnvStrings.strings=strings}return getEnvStrings.strings}function _environ_get(__environ,environ_buf){try{var bufSize=0;getEnvStrings().forEach(function(string,i){var ptr=environ_buf+bufSize;HEAP32[__environ+i*4>>2]=ptr;writeAsciiToMemory(string,ptr);bufSize+=string.length+1});return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _environ_sizes_get(penviron_count,penviron_buf_size){try{var strings=getEnvStrings();HEAP32[penviron_count>>2]=strings.length;var bufSize=0;strings.forEach(function(string){bufSize+=string.length+1});HEAP32[penviron_buf_size>>2]=bufSize;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_fdstat_get(fd,pbuf){try{var stream=SYSCALLS.getStreamFromFD(fd);var type=stream.tty?2:FS.isDir(stream.mode)?3:FS.isLink(stream.mode)?7:4;HEAP8[pbuf>>0]=type;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_read(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doReadv(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){try{var stream=SYSCALLS.getStreamFromFD(fd);var HIGH_OFFSET=4294967296;var offset=offset_high*HIGH_OFFSET+(offset_low>>>0);var DOUBLE_LIMIT=9007199254740992;if(offset<=-DOUBLE_LIMIT||offset>=DOUBLE_LIMIT){return-61}FS.llseek(stream,offset,whence);tempI64=[stream.position>>>0,(tempDouble=stream.position,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[newOffset>>2]=tempI64[0],HEAP32[newOffset+4>>2]=tempI64[1];if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_write(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doWritev(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _getTempRet0(){return getTempRet0()|0}function _gettimeofday(ptr){var now=Date.now();HEAP32[ptr>>2]=now/1e3|0;HEAP32[ptr+4>>2]=now%1e3*1e3|0;return 0}function _glActiveTexture(x0){GLctx["activeTexture"](x0)}function _glAttachShader(program,shader){GLctx.attachShader(GL.programs[program],GL.shaders[shader])}function _glBindAttribLocation(program,index,name){GLctx.bindAttribLocation(GL.programs[program],index,UTF8ToString(name))}function _glBindBuffer(target,buffer){if(target==34962){GLctx.currentArrayBufferBinding=buffer}else if(target==34963){GLctx.currentElementArrayBufferBinding=buffer}if(target==35051){GLctx.currentPixelPackBufferBinding=buffer}else if(target==35052){GLctx.currentPixelUnpackBufferBinding=buffer}GLctx.bindBuffer(target,GL.buffers[buffer])}function _glBindBufferBase(target,index,buffer){GLctx["bindBufferBase"](target,index,GL.buffers[buffer])}function _glBindFramebuffer(target,framebuffer){GLctx.bindFramebuffer(target,GL.framebuffers[framebuffer])}function _glBindRenderbuffer(target,renderbuffer){GLctx.bindRenderbuffer(target,GL.renderbuffers[renderbuffer])}function _glBindSampler(unit,sampler){GLctx["bindSampler"](unit,GL.samplers[sampler])}function _glBindTexture(target,texture){GLctx.bindTexture(target,GL.textures[texture])}function _glBindVertexArray(vao){GLctx["bindVertexArray"](GL.vaos[vao]);var ibo=GLctx.getParameter(34965);GLctx.currentElementArrayBufferBinding=ibo?ibo.name|0:0}function _glBlendFunc(x0,x1){GLctx["blendFunc"](x0,x1)}function _glBlendFuncSeparate(x0,x1,x2,x3){GLctx["blendFuncSeparate"](x0,x1,x2,x3)}function _glBlitFramebuffer(x0,x1,x2,x3,x4,x5,x6,x7,x8,x9){GLctx["blitFramebuffer"](x0,x1,x2,x3,x4,x5,x6,x7,x8,x9)}function _glBufferData(target,size,data,usage){if(GL.currentContext.version>=2){if(data){GLctx.bufferData(target,HEAPU8,usage,data,size)}else{GLctx.bufferData(target,size,usage)}}else{GLctx.bufferData(target,data?HEAPU8.subarray(data,data+size):size,usage)}}function _glBufferSubData(target,offset,size,data){if(GL.currentContext.version>=2){GLctx.bufferSubData(target,offset,HEAPU8,data,size);return}GLctx.bufferSubData(target,offset,HEAPU8.subarray(data,data+size))}function _glCheckFramebufferStatus(x0){return GLctx["checkFramebufferStatus"](x0)}function _glClear(x0){GLctx["clear"](x0)}function _glClearColor(x0,x1,x2,x3){GLctx["clearColor"](x0,x1,x2,x3)}function _glClearDepthf(x0){GLctx["clearDepth"](x0)}function _glClearStencil(x0){GLctx["clearStencil"](x0)}function convertI32PairToI53(lo,hi){assert(hi===(hi|0));return(lo>>>0)+hi*4294967296}function _glClientWaitSync(sync,flags,timeoutLo,timeoutHi){return GLctx.clientWaitSync(GL.syncs[sync],flags,convertI32PairToI53(timeoutLo,timeoutHi))}function _glColorMask(red,green,blue,alpha){GLctx.colorMask(!!red,!!green,!!blue,!!alpha)}function _glCompileShader(shader){GLctx.compileShader(GL.shaders[shader])}function _glCompressedTexImage2D(target,level,internalFormat,width,height,border,imageSize,data){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,imageSize,data)}else{GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,HEAPU8,data,imageSize)}return}GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,data?HEAPU8.subarray(data,data+imageSize):null)}function _glCreateProgram(){var id=GL.getNewId(GL.programs);var program=GLctx.createProgram();program.name=id;GL.programs[id]=program;return id}function _glCreateShader(shaderType){var id=GL.getNewId(GL.shaders);GL.shaders[id]=GLctx.createShader(shaderType);return id}function _glCullFace(x0){GLctx["cullFace"](x0)}function _glDeleteBuffers(n,buffers){for(var i=0;i<n;i++){var id=HEAP32[buffers+i*4>>2];var buffer=GL.buffers[id];if(!buffer)continue;GLctx.deleteBuffer(buffer);buffer.name=0;GL.buffers[id]=null;if(id==GLctx.currentArrayBufferBinding)GLctx.currentArrayBufferBinding=0;if(id==GLctx.currentElementArrayBufferBinding)GLctx.currentElementArrayBufferBinding=0;if(id==GLctx.currentPixelPackBufferBinding)GLctx.currentPixelPackBufferBinding=0;if(id==GLctx.currentPixelUnpackBufferBinding)GLctx.currentPixelUnpackBufferBinding=0}}function _glDeleteFramebuffers(n,framebuffers){for(var i=0;i<n;++i){var id=HEAP32[framebuffers+i*4>>2];var framebuffer=GL.framebuffers[id];if(!framebuffer)continue;GLctx.deleteFramebuffer(framebuffer);framebuffer.name=0;GL.framebuffers[id]=null}}function _glDeleteProgram(id){if(!id)return;var program=GL.programs[id];if(!program){GL.recordError(1281);return}GLctx.deleteProgram(program);program.name=0;GL.programs[id]=null;GL.programInfos[id]=null}function _glDeleteRenderbuffers(n,renderbuffers){for(var i=0;i<n;i++){var id=HEAP32[renderbuffers+i*4>>2];var renderbuffer=GL.renderbuffers[id];if(!renderbuffer)continue;GLctx.deleteRenderbuffer(renderbuffer);renderbuffer.name=0;GL.renderbuffers[id]=null}}function _glDeleteShader(id){if(!id)return;var shader=GL.shaders[id];if(!shader){GL.recordError(1281);return}GLctx.deleteShader(shader);GL.shaders[id]=null}function _glDeleteSync(id){if(!id)return;var sync=GL.syncs[id];if(!sync){GL.recordError(1281);return}GLctx.deleteSync(sync);sync.name=0;GL.syncs[id]=null}function _glDeleteTextures(n,textures){for(var i=0;i<n;i++){var id=HEAP32[textures+i*4>>2];var texture=GL.textures[id];if(!texture)continue;GLctx.deleteTexture(texture);texture.name=0;GL.textures[id]=null}}function _glDeleteVertexArrays(n,vaos){for(var i=0;i<n;i++){var id=HEAP32[vaos+i*4>>2];GLctx["deleteVertexArray"](GL.vaos[id]);GL.vaos[id]=null}}function _glDepthFunc(x0){GLctx["depthFunc"](x0)}function _glDepthMask(flag){GLctx.depthMask(!!flag)}function _glDisable(x0){GLctx["disable"](x0)}function _glDisableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=false;GLctx.disableVertexAttribArray(index)}function _glDrawArrays(mode,first,count){GL.preDrawHandleClientVertexAttribBindings(first+count);GLctx.drawArrays(mode,first,count);GL.postDrawHandleClientVertexAttribBindings()}var tempFixedLengthArray=[];function _glDrawBuffers(n,bufs){var bufArray=tempFixedLengthArray[n];for(var i=0;i<n;i++){bufArray[i]=HEAP32[bufs+i*4>>2]}GLctx["drawBuffers"](bufArray)}function _glDrawElements(mode,count,type,indices){var buf;if(!GLctx.currentElementArrayBufferBinding){var size=GL.calcBufLength(1,type,0,count);buf=GL.getTempIndexBuffer(size);GLctx.bindBuffer(34963,buf);GLctx.bufferSubData(34963,0,HEAPU8.subarray(indices,indices+size));indices=0}GL.preDrawHandleClientVertexAttribBindings(count);GLctx.drawElements(mode,count,type,indices);GL.postDrawHandleClientVertexAttribBindings(count);if(!GLctx.currentElementArrayBufferBinding){GLctx.bindBuffer(34963,null)}}function _glEnable(x0){GLctx["enable"](x0)}function _glEnableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=true;GLctx.enableVertexAttribArray(index)}function _glFenceSync(condition,flags){var sync=GLctx.fenceSync(condition,flags);if(sync){var id=GL.getNewId(GL.syncs);sync.name=id;GL.syncs[id]=sync;return id}else{return 0}}function _glFinish(){GLctx["finish"]()}function _glFlush(){GLctx["flush"]()}function _glFramebufferRenderbuffer(target,attachment,renderbuffertarget,renderbuffer){GLctx.framebufferRenderbuffer(target,attachment,renderbuffertarget,GL.renderbuffers[renderbuffer])}function _glFramebufferTexture2D(target,attachment,textarget,texture,level){GLctx.framebufferTexture2D(target,attachment,textarget,GL.textures[texture],level)}function _glFramebufferTextureLayer(target,attachment,texture,level,layer){GLctx.framebufferTextureLayer(target,attachment,GL.textures[texture],level,layer)}function _glFrontFace(x0){GLctx["frontFace"](x0)}function __glGenObject(n,buffers,createFunction,objectTable){for(var i=0;i<n;i++){var buffer=GLctx[createFunction]();var id=buffer&&GL.getNewId(objectTable);if(buffer){buffer.name=id;objectTable[id]=buffer}else{GL.recordError(1282)}HEAP32[buffers+i*4>>2]=id}}function _glGenBuffers(n,buffers){__glGenObject(n,buffers,"createBuffer",GL.buffers)}function _glGenFramebuffers(n,ids){__glGenObject(n,ids,"createFramebuffer",GL.framebuffers)}function _glGenRenderbuffers(n,renderbuffers){__glGenObject(n,renderbuffers,"createRenderbuffer",GL.renderbuffers)}function _glGenTextures(n,textures){__glGenObject(n,textures,"createTexture",GL.textures)}function _glGenVertexArrays(n,arrays){__glGenObject(n,arrays,"createVertexArray",GL.vaos)}function _glGenerateMipmap(x0){GLctx["generateMipmap"](x0)}function __glGetActiveAttribOrUniform(funcName,program,index,bufSize,length,size,type,name){program=GL.programs[program];var info=GLctx[funcName](program,index);if(info){var numBytesWrittenExclNull=name&&stringToUTF8(info.name,name,bufSize);if(length)HEAP32[length>>2]=numBytesWrittenExclNull;if(size)HEAP32[size>>2]=info.size;if(type)HEAP32[type>>2]=info.type}}function _glGetActiveUniform(program,index,bufSize,length,size,type,name){__glGetActiveAttribOrUniform("getActiveUniform",program,index,bufSize,length,size,type,name)}function _glGetActiveUniformBlockName(program,uniformBlockIndex,bufSize,length,uniformBlockName){program=GL.programs[program];var result=GLctx["getActiveUniformBlockName"](program,uniformBlockIndex);if(!result)return;if(uniformBlockName&&bufSize>0){var numBytesWrittenExclNull=stringToUTF8(result,uniformBlockName,bufSize);if(length)HEAP32[length>>2]=numBytesWrittenExclNull}else{if(length)HEAP32[length>>2]=0}}function _glGetActiveUniformBlockiv(program,uniformBlockIndex,pname,params){if(!params){GL.recordError(1281);return}program=GL.programs[program];if(pname==35393){var name=GLctx["getActiveUniformBlockName"](program,uniformBlockIndex);HEAP32[params>>2]=name.length+1;return}var result=GLctx["getActiveUniformBlockParameter"](program,uniformBlockIndex,pname);if(result===null)return;if(pname==35395){for(var i=0;i<result.length;i++){HEAP32[params+i*4>>2]=result[i]}}else{HEAP32[params>>2]=result}}function _glGetAttribLocation(program,name){return GLctx.getAttribLocation(GL.programs[program],UTF8ToString(name))}function readI53FromI64(ptr){return HEAPU32[ptr>>2]+HEAP32[ptr+4>>2]*4294967296}function readI53FromU64(ptr){return HEAPU32[ptr>>2]+HEAPU32[ptr+4>>2]*4294967296}function writeI53ToI64(ptr,num){HEAPU32[ptr>>2]=num;HEAPU32[ptr+4>>2]=(num-HEAPU32[ptr>>2])/4294967296;var deserialized=num>=0?readI53FromU64(ptr):readI53FromI64(ptr);if(deserialized!=num)warnOnce("writeI53ToI64() out of range: serialized JS Number "+num+" to Wasm heap as bytes lo=0x"+HEAPU32[ptr>>2].toString(16)+", hi=0x"+HEAPU32[ptr+4>>2].toString(16)+", which deserializes back to "+deserialized+" instead!")}function emscriptenWebGLGet(name_,p,type){if(!p){GL.recordError(1281);return}var ret=undefined;switch(name_){case 36346:ret=1;break;case 36344:if(type!=0&&type!=1){GL.recordError(1280)}return;case 34814:case 36345:ret=0;break;case 34466:var formats=GLctx.getParameter(34467);ret=formats?formats.length:0;break;case 33309:if(GL.currentContext.version<2){GL.recordError(1282);return}var exts=GLctx.getSupportedExtensions()||[];ret=2*exts.length;break;case 33307:case 33308:if(GL.currentContext.version<2){GL.recordError(1280);return}ret=name_==33307?3:0;break}if(ret===undefined){var result=GLctx.getParameter(name_);switch(typeof result){case"number":ret=result;break;case"boolean":ret=result?1:0;break;case"string":GL.recordError(1280);return;case"object":if(result===null){switch(name_){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:{ret=0;break}default:{GL.recordError(1280);return}}}else if(result instanceof Float32Array||result instanceof Uint32Array||result instanceof Int32Array||result instanceof Array){for(var i=0;i<result.length;++i){switch(type){case 0:HEAP32[p+i*4>>2]=result[i];break;case 2:HEAPF32[p+i*4>>2]=result[i];break;case 4:HEAP8[p+i>>0]=result[i]?1:0;break}}return}else{try{ret=result.name|0}catch(e){GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Unknown object returned from WebGL getParameter("+name_+")! (error: "+e+")");return}}break;default:GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Native code calling glGet"+type+"v("+name_+") and it returns "+result+" of type "+typeof result+"!");return}}switch(type){case 1:writeI53ToI64(p,ret);break;case 0:HEAP32[p>>2]=ret;break;case 2:HEAPF32[p>>2]=ret;break;case 4:HEAP8[p>>0]=ret?1:0;break}}function _glGetBooleanv(name_,p){emscriptenWebGLGet(name_,p,4)}function _glGetError(){var error=GLctx.getError()||GL.lastError;GL.lastError=0;return error}function _glGetIntegerv(name_,p){emscriptenWebGLGet(name_,p,0)}function _glGetProgramInfoLog(program,maxLength,length,infoLog){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetProgramiv(program,pname,p){if(!p){GL.recordError(1281);return}if(program>=GL.counter){GL.recordError(1281);return}var ptable=GL.programInfos[program];if(!ptable){GL.recordError(1282);return}if(pname==35716){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";HEAP32[p>>2]=log.length+1}else if(pname==35719){HEAP32[p>>2]=ptable.maxUniformLength}else if(pname==35722){if(ptable.maxAttributeLength==-1){program=GL.programs[program];var numAttribs=GLctx.getProgramParameter(program,35721);ptable.maxAttributeLength=0;for(var i=0;i<numAttribs;++i){var activeAttrib=GLctx.getActiveAttrib(program,i);ptable.maxAttributeLength=Math.max(ptable.maxAttributeLength,activeAttrib.name.length+1)}}HEAP32[p>>2]=ptable.maxAttributeLength}else if(pname==35381){if(ptable.maxUniformBlockNameLength==-1){program=GL.programs[program];var numBlocks=GLctx.getProgramParameter(program,35382);ptable.maxUniformBlockNameLength=0;for(var i=0;i<numBlocks;++i){var activeBlockName=GLctx.getActiveUniformBlockName(program,i);ptable.maxUniformBlockNameLength=Math.max(ptable.maxUniformBlockNameLength,activeBlockName.length+1)}}HEAP32[p>>2]=ptable.maxUniformBlockNameLength}else{HEAP32[p>>2]=GLctx.getProgramParameter(GL.programs[program],pname)}}function _glGetShaderInfoLog(shader,maxLength,length,infoLog){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetShaderiv(shader,pname,p){if(!p){GL.recordError(1281);return}if(pname==35716){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var logLength=log?log.length+1:0;HEAP32[p>>2]=logLength}else if(pname==35720){var source=GLctx.getShaderSource(GL.shaders[shader]);var sourceLength=source?source.length+1:0;HEAP32[p>>2]=sourceLength}else{HEAP32[p>>2]=GLctx.getShaderParameter(GL.shaders[shader],pname)}}function stringToNewUTF8(jsString){var length=lengthBytesUTF8(jsString)+1;var cString=_malloc(length);stringToUTF8(jsString,cString,length);return cString}function _glGetString(name_){if(GL.stringCache[name_])return GL.stringCache[name_];var ret;switch(name_){case 7939:var exts=GLctx.getSupportedExtensions()||[];exts=exts.concat(exts.map(function(e){return"GL_"+e}));ret=stringToNewUTF8(exts.join(" "));break;case 7936:case 7937:case 37445:case 37446:var s=GLctx.getParameter(name_);if(!s){GL.recordError(1280)}ret=stringToNewUTF8(s);break;case 7938:var glVersion=GLctx.getParameter(7938);if(GL.currentContext.version>=2)glVersion="OpenGL ES 3.0 ("+glVersion+")";else{glVersion="OpenGL ES 2.0 ("+glVersion+")"}ret=stringToNewUTF8(glVersion);break;case 35724:var glslVersion=GLctx.getParameter(35724);var ver_re=/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/;var ver_num=glslVersion.match(ver_re);if(ver_num!==null){if(ver_num[1].length==3)ver_num[1]=ver_num[1]+"0";glslVersion="OpenGL ES GLSL ES "+ver_num[1]+" ("+glslVersion+")"}ret=stringToNewUTF8(glslVersion);break;default:GL.recordError(1280);return 0}GL.stringCache[name_]=ret;return ret}function _glGetStringi(name,index){if(GL.currentContext.version<2){GL.recordError(1282);return 0}var stringiCache=GL.stringiCache[name];if(stringiCache){if(index<0||index>=stringiCache.length){GL.recordError(1281);return 0}return stringiCache[index]}switch(name){case 7939:var exts=GLctx.getSupportedExtensions()||[];exts=exts.concat(exts.map(function(e){return"GL_"+e}));exts=exts.map(function(e){return stringToNewUTF8(e)});stringiCache=GL.stringiCache[name]=exts;if(index<0||index>=stringiCache.length){GL.recordError(1281);return 0}return stringiCache[index];default:GL.recordError(1280);return 0}}function _glGetUniformBlockIndex(program,uniformBlockName){return GLctx["getUniformBlockIndex"](GL.programs[program],UTF8ToString(uniformBlockName))}function jstoi_q(str){return parseInt(str)}function _glGetUniformLocation(program,name){name=UTF8ToString(name);var arrayIndex=0;if(name[name.length-1]=="]"){var leftBrace=name.lastIndexOf("[");arrayIndex=name[leftBrace+1]!="]"?jstoi_q(name.slice(leftBrace+1)):0;name=name.slice(0,leftBrace)}var uniformInfo=GL.programInfos[program]&&GL.programInfos[program].uniforms[name];if(uniformInfo&&arrayIndex>=0&&arrayIndex<uniformInfo[0]){return uniformInfo[1]+arrayIndex}else{return-1}}function _glLinkProgram(program){GLctx.linkProgram(GL.programs[program]);GL.populateUniformTable(program)}function _glPixelStorei(pname,param){if(pname==3317){GL.unpackAlignment=param}GLctx.pixelStorei(pname,param)}function _glReadBuffer(x0){GLctx["readBuffer"](x0)}function computeUnpackAlignedImageSize(width,height,sizePerPixel,alignment){function roundedToNextMultipleOf(x,y){return x+y-1&-y}var plainRowSize=width*sizePerPixel;var alignedRowSize=roundedToNextMultipleOf(plainRowSize,alignment);return height*alignedRowSize}function __colorChannelsInGlTextureFormat(format){var colorChannels={5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4};return colorChannels[format-6402]||1}function heapObjectForWebGLType(type){type-=5120;if(type==0)return HEAP8;if(type==1)return HEAPU8;if(type==2)return HEAP16;if(type==4)return HEAP32;if(type==6)return HEAPF32;if(type==5||type==28922||type==28520||type==30779||type==30782)return HEAPU32;return HEAPU16}function heapAccessShiftForWebGLHeap(heap){return 31-Math.clz32(heap.BYTES_PER_ELEMENT)}function emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat){var heap=heapObjectForWebGLType(type);var shift=heapAccessShiftForWebGLHeap(heap);var byteSize=1<<shift;var sizePerPixel=__colorChannelsInGlTextureFormat(format)*byteSize;var bytes=computeUnpackAlignedImageSize(width,height,sizePerPixel,GL.unpackAlignment);return heap.subarray(pixels>>shift,pixels+bytes>>shift)}function _glReadPixels(x,y,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelPackBufferBinding){GLctx.readPixels(x,y,width,height,format,type,pixels)}else{var heap=heapObjectForWebGLType(type);GLctx.readPixels(x,y,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}return}var pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,format);if(!pixelData){GL.recordError(1280);return}GLctx.readPixels(x,y,width,height,format,type,pixelData)}function _glRenderbufferStorage(x0,x1,x2,x3){GLctx["renderbufferStorage"](x0,x1,x2,x3)}function _glRenderbufferStorageMultisample(x0,x1,x2,x3,x4){GLctx["renderbufferStorageMultisample"](x0,x1,x2,x3,x4)}function _glScissor(x0,x1,x2,x3){GLctx["scissor"](x0,x1,x2,x3)}function _glShaderSource(shader,count,string,length){var source=GL.getSource(shader,count,string,length);GLctx.shaderSource(GL.shaders[shader],source)}function _glStencilFuncSeparate(x0,x1,x2,x3){GLctx["stencilFuncSeparate"](x0,x1,x2,x3)}function _glStencilOpSeparate(x0,x1,x2,x3){GLctx["stencilOpSeparate"](x0,x1,x2,x3)}function _glTexImage2D(target,level,internalFormat,width,height,border,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,null)}return}GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat):null)}function _glTexParameterf(x0,x1,x2){GLctx["texParameterf"](x0,x1,x2)}function _glTexParameterfv(target,pname,params){var param=HEAPF32[params>>2];GLctx.texParameterf(target,pname,param)}function _glTexParameteri(x0,x1,x2){GLctx["texParameteri"](x0,x1,x2)}function _glTexStorage2D(x0,x1,x2,x3,x4){GLctx["texStorage2D"](x0,x1,x2,x3,x4)}function _glTexStorage3D(x0,x1,x2,x3,x4,x5){GLctx["texStorage3D"](x0,x1,x2,x3,x4,x5)}function _glTexSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,null)}return}var pixelData=null;if(pixels)pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,0);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixelData)}function _glTexSubImage3D(target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels){if(GLctx.currentPixelUnpackBufferBinding){GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,null)}}function _glUniform1f(location,v0){GLctx.uniform1f(GL.uniforms[location],v0)}var miniTempWebGLFloatBuffers=[];function _glUniform1fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform1fv(GL.uniforms[location],HEAPF32,value>>2,count);return}if(count<=288){var view=miniTempWebGLFloatBuffers[count-1];for(var i=0;i<count;++i){view[i]=HEAPF32[value+4*i>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*4>>2)}GLctx.uniform1fv(GL.uniforms[location],view)}function _glUniform1i(location,v0){GLctx.uniform1i(GL.uniforms[location],v0)}var __miniTempWebGLIntBuffers=[];function _glUniform1iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform1iv(GL.uniforms[location],HEAP32,value>>2,count);return}if(count<=288){var view=__miniTempWebGLIntBuffers[count-1];for(var i=0;i<count;++i){view[i]=HEAP32[value+4*i>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*4>>2)}GLctx.uniform1iv(GL.uniforms[location],view)}function _glUniform2f(location,v0,v1){GLctx.uniform2f(GL.uniforms[location],v0,v1)}function _glUniform2fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2fv(GL.uniforms[location],HEAPF32,value>>2,count*2);return}if(count<=144){var view=miniTempWebGLFloatBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2fv(GL.uniforms[location],view)}function _glUniform2iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2iv(GL.uniforms[location],HEAP32,value>>2,count*2);return}if(count<=144){var view=__miniTempWebGLIntBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2iv(GL.uniforms[location],view)}function _glUniform3f(location,v0,v1,v2){GLctx.uniform3f(GL.uniforms[location],v0,v1,v2)}function _glUniform3fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform3fv(GL.uniforms[location],HEAPF32,value>>2,count*3);return}if(count<=96){var view=miniTempWebGLFloatBuffers[3*count-1];for(var i=0;i<3*count;i+=3){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*12>>2)}GLctx.uniform3fv(GL.uniforms[location],view)}function _glUniform3iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform3iv(GL.uniforms[location],HEAP32,value>>2,count*3);return}if(count<=96){var view=__miniTempWebGLIntBuffers[3*count-1];for(var i=0;i<3*count;i+=3){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2];view[i+2]=HEAP32[value+(4*i+8)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*12>>2)}GLctx.uniform3iv(GL.uniforms[location],view)}function _glUniform4f(location,v0,v1,v2,v3){GLctx.uniform4f(GL.uniforms[location],v0,v1,v2,v3)}function _glUniform4fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4fv(GL.uniforms[location],HEAPF32,value>>2,count*4);return}if(count<=72){var view=miniTempWebGLFloatBuffers[4*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<4*count;i+=4){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4fv(GL.uniforms[location],view)}function _glUniform4iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4iv(GL.uniforms[location],HEAP32,value>>2,count*4);return}if(count<=72){var view=__miniTempWebGLIntBuffers[4*count-1];for(var i=0;i<4*count;i+=4){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2];view[i+2]=HEAP32[value+(4*i+8)>>2];view[i+3]=HEAP32[value+(4*i+12)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4iv(GL.uniforms[location],view)}function _glUniformBlockBinding(program,uniformBlockIndex,uniformBlockBinding){program=GL.programs[program];GLctx["uniformBlockBinding"](program,uniformBlockIndex,uniformBlockBinding)}function _glUniformMatrix2fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix2fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*4);return}if(count<=72){var view=miniTempWebGLFloatBuffers[4*count-1];for(var i=0;i<4*count;i+=4){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2];view[i+3]=HEAPF32[value+(4*i+12)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniformMatrix2fv(GL.uniforms[location],!!transpose,view)}function _glUniformMatrix3fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix3fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*9);return}if(count<=32){var view=miniTempWebGLFloatBuffers[9*count-1];for(var i=0;i<9*count;i+=9){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2];view[i+3]=HEAPF32[value+(4*i+12)>>2];view[i+4]=HEAPF32[value+(4*i+16)>>2];view[i+5]=HEAPF32[value+(4*i+20)>>2];view[i+6]=HEAPF32[value+(4*i+24)>>2];view[i+7]=HEAPF32[value+(4*i+28)>>2];view[i+8]=HEAPF32[value+(4*i+32)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*36>>2)}GLctx.uniformMatrix3fv(GL.uniforms[location],!!transpose,view)}function _glUniformMatrix4fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*16);return}if(count<=18){var view=miniTempWebGLFloatBuffers[16*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<16*count;i+=16){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3];view[i+4]=heap[dst+4];view[i+5]=heap[dst+5];view[i+6]=heap[dst+6];view[i+7]=heap[dst+7];view[i+8]=heap[dst+8];view[i+9]=heap[dst+9];view[i+10]=heap[dst+10];view[i+11]=heap[dst+11];view[i+12]=heap[dst+12];view[i+13]=heap[dst+13];view[i+14]=heap[dst+14];view[i+15]=heap[dst+15]}}else{var view=HEAPF32.subarray(value>>2,value+count*64>>2)}GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,view)}function _glUseProgram(program){GLctx.useProgram(GL.programs[program])}function _glVertexAttribPointer(index,size,type,normalized,stride,ptr){var cb=GL.currentContext.clientBuffers[index];if(!GLctx.currentArrayBufferBinding){cb.size=size;cb.type=type;cb.normalized=normalized;cb.stride=stride;cb.ptr=ptr;cb.clientside=true;cb.vertexAttribPointerAdaptor=function(index,size,type,normalized,stride,ptr){this.vertexAttribPointer(index,size,type,normalized,stride,ptr)};return}cb.clientside=false;GLctx.vertexAttribPointer(index,size,type,!!normalized,stride,ptr)}function _glViewport(x0,x1,x2,x3){GLctx["viewport"](x0,x1,x2,x3)}function _gmtime_r(time,tmPtr){var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getUTCSeconds();HEAP32[tmPtr+4>>2]=date.getUTCMinutes();HEAP32[tmPtr+8>>2]=date.getUTCHours();HEAP32[tmPtr+12>>2]=date.getUTCDate();HEAP32[tmPtr+16>>2]=date.getUTCMonth();HEAP32[tmPtr+20>>2]=date.getUTCFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getUTCDay();HEAP32[tmPtr+36>>2]=0;HEAP32[tmPtr+32>>2]=0;var start=Date.UTC(date.getUTCFullYear(),0,1,0,0,0,0);var yday=(date.getTime()-start)/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;if(!_gmtime_r.GMTString)_gmtime_r.GMTString=allocateUTF8("GMT");HEAP32[tmPtr+40>>2]=_gmtime_r.GMTString;return tmPtr}function _llvm_eh_typeid_for(type){return type}function _tzset(){if(_tzset.called)return;_tzset.called=true;var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);HEAP32[__get_timezone()>>2]=stdTimezoneOffset*60;HEAP32[__get_daylight()>>2]=Number(winterOffset!=summerOffset);function extractZone(date){var match=date.toTimeString().match(/\(([A-Za-z ]+)\)$/);return match?match[1]:"GMT"}var winterName=extractZone(winter);var summerName=extractZone(summer);var winterNamePtr=allocateUTF8(winterName);var summerNamePtr=allocateUTF8(summerName);if(summerOffset<winterOffset){HEAP32[__get_tzname()>>2]=winterNamePtr;HEAP32[__get_tzname()+4>>2]=summerNamePtr}else{HEAP32[__get_tzname()>>2]=summerNamePtr;HEAP32[__get_tzname()+4>>2]=winterNamePtr}}function _localtime_r(time,tmPtr){_tzset();var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();HEAP32[tmPtr+20>>2]=date.getFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getDay();var start=new Date(date.getFullYear(),0,1);var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr+36>>2]=-(date.getTimezoneOffset()*60);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dst=(summerOffset!=winterOffset&&date.getTimezoneOffset()==Math.min(winterOffset,summerOffset))|0;HEAP32[tmPtr+32>>2]=dst;var zonePtr=HEAP32[__get_tzname()+(dst?4:0)>>2];HEAP32[tmPtr+40>>2]=zonePtr;return tmPtr}function _mktime(tmPtr){_tzset();var date=new Date(HEAP32[tmPtr+20>>2]+1900,HEAP32[tmPtr+16>>2],HEAP32[tmPtr+12>>2],HEAP32[tmPtr+8>>2],HEAP32[tmPtr+4>>2],HEAP32[tmPtr>>2],0);var dst=HEAP32[tmPtr+32>>2];var guessedOffset=date.getTimezoneOffset();var start=new Date(date.getFullYear(),0,1);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dstOffset=Math.min(winterOffset,summerOffset);if(dst<0){HEAP32[tmPtr+32>>2]=Number(summerOffset!=winterOffset&&dstOffset==guessedOffset)}else if(dst>0!=(dstOffset==guessedOffset)){var nonDstOffset=Math.max(winterOffset,summerOffset);var trueOffset=dst>0?dstOffset:nonDstOffset;date.setTime(date.getTime()+(trueOffset-guessedOffset)*6e4)}HEAP32[tmPtr+24>>2]=date.getDay();var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();return date.getTime()/1e3|0}function _pthread_create(){return 6}function _pthread_join(){return 28}function _setTempRet0($i){setTempRet0($i|0)}function __isLeapYear(year){return year%4===0&&(year%100!==0||year%400===0)}function __arraySum(array,index){var sum=0;for(var i=0;i<=index;sum+=array[i++]){}return sum}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31];var __MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(date,days){var newDate=new Date(date.getTime());while(days>0){var leap=__isLeapYear(newDate.getFullYear());var currentMonth=newDate.getMonth();var daysInCurrentMonth=(leap?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[currentMonth];if(days>daysInCurrentMonth-newDate.getDate()){days-=daysInCurrentMonth-newDate.getDate()+1;newDate.setDate(1);if(currentMonth<11){newDate.setMonth(currentMonth+1)}else{newDate.setMonth(0);newDate.setFullYear(newDate.getFullYear()+1)}}else{newDate.setDate(newDate.getDate()+days);return newDate}}return newDate}function _strftime(s,maxsize,format,tm){var tm_zone=HEAP32[tm+40>>2];var date={tm_sec:HEAP32[tm>>2],tm_min:HEAP32[tm+4>>2],tm_hour:HEAP32[tm+8>>2],tm_mday:HEAP32[tm+12>>2],tm_mon:HEAP32[tm+16>>2],tm_year:HEAP32[tm+20>>2],tm_wday:HEAP32[tm+24>>2],tm_yday:HEAP32[tm+28>>2],tm_isdst:HEAP32[tm+32>>2],tm_gmtoff:HEAP32[tm+36>>2],tm_zone:tm_zone?UTF8ToString(tm_zone):""};var pattern=UTF8ToString(format);var EXPANSION_RULES_1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var rule in EXPANSION_RULES_1){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_1[rule])}var WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];function leadingSomething(value,digits,character){var str=typeof value==="number"?value.toString():value||"";while(str.length<digits){str=character[0]+str}return str}function leadingNulls(value,digits){return leadingSomething(value,digits,"0")}function compareByDay(date1,date2){function sgn(value){return value<0?-1:value>0?1:0}var compare;if((compare=sgn(date1.getFullYear()-date2.getFullYear()))===0){if((compare=sgn(date1.getMonth()-date2.getMonth()))===0){compare=sgn(date1.getDate()-date2.getDate())}}return compare}function getFirstWeekStartDate(janFourth){switch(janFourth.getDay()){case 0:return new Date(janFourth.getFullYear()-1,11,29);case 1:return janFourth;case 2:return new Date(janFourth.getFullYear(),0,3);case 3:return new Date(janFourth.getFullYear(),0,2);case 4:return new Date(janFourth.getFullYear(),0,1);case 5:return new Date(janFourth.getFullYear()-1,11,31);case 6:return new Date(janFourth.getFullYear()-1,11,30)}}function getWeekBasedYear(date){var thisDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);var janFourthThisYear=new Date(thisDate.getFullYear(),0,4);var janFourthNextYear=new Date(thisDate.getFullYear()+1,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);if(compareByDay(firstWeekStartThisYear,thisDate)<=0){if(compareByDay(firstWeekStartNextYear,thisDate)<=0){return thisDate.getFullYear()+1}else{return thisDate.getFullYear()}}else{return thisDate.getFullYear()-1}}var EXPANSION_RULES_2={"%a":function(date){return WEEKDAYS[date.tm_wday].substring(0,3)},"%A":function(date){return WEEKDAYS[date.tm_wday]},"%b":function(date){return MONTHS[date.tm_mon].substring(0,3)},"%B":function(date){return MONTHS[date.tm_mon]},"%C":function(date){var year=date.tm_year+1900;return leadingNulls(year/100|0,2)},"%d":function(date){return leadingNulls(date.tm_mday,2)},"%e":function(date){return leadingSomething(date.tm_mday,2," ")},"%g":function(date){return getWeekBasedYear(date).toString().substring(2)},"%G":function(date){return getWeekBasedYear(date)},"%H":function(date){return leadingNulls(date.tm_hour,2)},"%I":function(date){var twelveHour=date.tm_hour;if(twelveHour==0)twelveHour=12;else if(twelveHour>12)twelveHour-=12;return leadingNulls(twelveHour,2)},"%j":function(date){return leadingNulls(date.tm_mday+__arraySum(__isLeapYear(date.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,date.tm_mon-1),3)},"%m":function(date){return leadingNulls(date.tm_mon+1,2)},"%M":function(date){return leadingNulls(date.tm_min,2)},"%n":function(){return"\n"},"%p":function(date){if(date.tm_hour>=0&&date.tm_hour<12){return"AM"}else{return"PM"}},"%S":function(date){return leadingNulls(date.tm_sec,2)},"%t":function(){return"\t"},"%u":function(date){return date.tm_wday||7},"%U":function(date){var janFirst=new Date(date.tm_year+1900,0,1);var firstSunday=janFirst.getDay()===0?janFirst:__addDays(janFirst,7-janFirst.getDay());var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstSunday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstSundayUntilEndJanuary=31-firstSunday.getDate();var days=firstSundayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstSunday,janFirst)===0?"01":"00"},"%V":function(date){var janFourthThisYear=new Date(date.tm_year+1900,0,4);var janFourthNextYear=new Date(date.tm_year+1901,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);var endDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);if(compareByDay(endDate,firstWeekStartThisYear)<0){return"53"}if(compareByDay(firstWeekStartNextYear,endDate)<=0){return"01"}var daysDifference;if(firstWeekStartThisYear.getFullYear()<date.tm_year+1900){daysDifference=date.tm_yday+32-firstWeekStartThisYear.getDate()}else{daysDifference=date.tm_yday+1-firstWeekStartThisYear.getDate()}return leadingNulls(Math.ceil(daysDifference/7),2)},"%w":function(date){return date.tm_wday},"%W":function(date){var janFirst=new Date(date.tm_year,0,1);var firstMonday=janFirst.getDay()===1?janFirst:__addDays(janFirst,janFirst.getDay()===0?1:7-janFirst.getDay()+1);var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstMonday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstMondayUntilEndJanuary=31-firstMonday.getDate();var days=firstMondayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstMonday,janFirst)===0?"01":"00"},"%y":function(date){return(date.tm_year+1900).toString().substring(2)},"%Y":function(date){return date.tm_year+1900},"%z":function(date){var off=date.tm_gmtoff;var ahead=off>=0;off=Math.abs(off)/60;off=off/60*100+off%60;return(ahead?"+":"-")+String("0000"+off).slice(-4)},"%Z":function(date){return date.tm_zone},"%%":function(){return"%"}};for(var rule in EXPANSION_RULES_2){if(pattern.indexOf(rule)>=0){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_2[rule](date))}}var bytes=intArrayFromString(pattern,false);if(bytes.length>maxsize){return 0}writeArrayToMemory(bytes,s);return bytes.length-1}function _strftime_l(s,maxsize,format,tm){return _strftime(s,maxsize,format,tm)}var readAsmConstArgsArray=[];function readAsmConstArgs(sigPtr,buf){assert(Array.isArray(readAsmConstArgsArray));assert(buf%16==0);readAsmConstArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){assert(ch===100||ch===102||ch===105);var double=ch<105;if(double&&buf&1)buf++;readAsmConstArgsArray.push(double?HEAPF64[buf++>>1]:HEAP32[buf]);++buf}return readAsmConstArgsArray}Module["requestFullscreen"]=function Module_requestFullscreen(lockPointer,resizeCanvas){Browser.requestFullscreen(lockPointer,resizeCanvas)};Module["requestFullScreen"]=function Module_requestFullScreen(){Browser.requestFullScreen()};Module["requestAnimationFrame"]=function Module_requestAnimationFrame(func){Browser.requestAnimationFrame(func)};Module["setCanvasSize"]=function Module_setCanvasSize(width,height,noUpdates){Browser.setCanvasSize(width,height,noUpdates)};Module["pauseMainLoop"]=function Module_pauseMainLoop(){Browser.mainLoop.pause()};Module["resumeMainLoop"]=function Module_resumeMainLoop(){Browser.mainLoop.resume()};Module["getUserMedia"]=function Module_getUserMedia(){Browser.getUserMedia()};Module["createContext"]=function Module_createContext(canvas,useWebGL,setInModule,webGLContextAttributes){return Browser.createContext(canvas,useWebGL,setInModule,webGLContextAttributes)};var FSNode=function(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.mounted=null;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.node_ops={};this.stream_ops={};this.rdev=rdev};var readMode=292|73;var writeMode=146;Object.defineProperties(FSNode.prototype,{read:{get:function(){return(this.mode&readMode)===readMode},set:function(val){val?this.mode|=readMode:this.mode&=~readMode}},write:{get:function(){return(this.mode&writeMode)===writeMode},set:function(val){val?this.mode|=writeMode:this.mode&=~writeMode}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}});FS.FSNode=FSNode;FS.staticInit();Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;init_emval();PureVirtualError=Module["PureVirtualError"]=extendError(Error,"PureVirtualError");embind_init_charCodes();init_embind();BindingError=Module["BindingError"]=extendError(Error,"BindingError");InternalError=Module["InternalError"]=extendError(Error,"InternalError");init_ClassHandle();init_RegisteredPointer();UnboundTypeError=Module["UnboundTypeError"]=extendError(Error,"UnboundTypeError");var GLctx;for(var i=0;i<32;++i)tempFixedLengthArray.push(new Array(i));var miniTempWebGLFloatBuffersStorage=new Float32Array(288);for(var i=0;i<288;++i){miniTempWebGLFloatBuffers[i]=miniTempWebGLFloatBuffersStorage.subarray(0,i+1)}var __miniTempWebGLIntBuffersStorage=new Int32Array(288);for(var i=0;i<288;++i){__miniTempWebGLIntBuffers[i]=__miniTempWebGLIntBuffersStorage.subarray(0,i+1)}var ASSERTIONS=true;function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}var asmLibraryArg={"__cxa_allocate_exception":___cxa_allocate_exception,"__cxa_atexit":___cxa_atexit,"__cxa_begin_catch":___cxa_begin_catch,"__cxa_end_catch":___cxa_end_catch,"__cxa_find_matching_catch_2":___cxa_find_matching_catch_2,"__cxa_find_matching_catch_3":___cxa_find_matching_catch_3,"__cxa_free_exception":___cxa_free_exception,"__cxa_rethrow":___cxa_rethrow,"__cxa_thread_atexit":___cxa_thread_atexit,"__cxa_throw":___cxa_throw,"__resumeException":___resumeException,"__sys_fcntl64":___sys_fcntl64,"__sys_fstat64":___sys_fstat64,"__sys_ioctl":___sys_ioctl,"__sys_mmap2":___sys_mmap2,"__sys_mprotect":___sys_mprotect,"__sys_munmap":___sys_munmap,"__sys_open":___sys_open,"__sys_stat64":___sys_stat64,"_embind_create_inheriting_constructor":__embind_create_inheriting_constructor,"_embind_finalize_value_object":__embind_finalize_value_object,"_embind_register_bool":__embind_register_bool,"_embind_register_class":__embind_register_class,"_embind_register_class_class_function":__embind_register_class_class_function,"_embind_register_class_constructor":__embind_register_class_constructor,"_embind_register_class_function":__embind_register_class_function,"_embind_register_class_property":__embind_register_class_property,"_embind_register_emval":__embind_register_emval,"_embind_register_float":__embind_register_float,"_embind_register_function":__embind_register_function,"_embind_register_integer":__embind_register_integer,"_embind_register_memory_view":__embind_register_memory_view,"_embind_register_std_string":__embind_register_std_string,"_embind_register_std_wstring":__embind_register_std_wstring,"_embind_register_value_object":__embind_register_value_object,"_embind_register_value_object_field":__embind_register_value_object_field,"_embind_register_void":__embind_register_void,"_emval_call_void_method":__emval_call_void_method,"_emval_decref":__emval_decref,"_emval_get_method_caller":__emval_get_method_caller,"_emval_incref":__emval_incref,"_emval_take_value":__emval_take_value,"_exit":__exit,"abort":_abort,"clock_gettime":_clock_gettime,"dlopen":_dlopen,"dlsym":_dlsym,"eglGetCurrentContext":_eglGetCurrentContext,"eglGetDisplay":_eglGetDisplay,"eglQueryContext":_eglQueryContext,"emscripten_asm_const_int":_emscripten_asm_const_int,"emscripten_async_call":_emscripten_async_call,"emscripten_get_heap_max":_emscripten_get_heap_max,"emscripten_longjmp":_emscripten_longjmp,"emscripten_memcpy_big":_emscripten_memcpy_big,"emscripten_resize_heap":_emscripten_resize_heap,"emscripten_thread_sleep":_emscripten_thread_sleep,"emscripten_webgl_create_context":_emscripten_webgl_create_context,"emscripten_webgl_destroy_context":_emscripten_webgl_destroy_context,"emscripten_webgl_get_context_attributes":_emscripten_webgl_get_context_attributes,"emscripten_webgl_get_current_context":_emscripten_webgl_get_current_context,"emscripten_webgl_init_context_attributes":_emscripten_webgl_init_context_attributes,"emscripten_webgl_make_context_current":_emscripten_webgl_make_context_current,"environ_get":_environ_get,"environ_sizes_get":_environ_sizes_get,"exit":_exit,"fd_close":_fd_close,"fd_fdstat_get":_fd_fdstat_get,"fd_read":_fd_read,"fd_seek":_fd_seek,"fd_write":_fd_write,"getTempRet0":_getTempRet0,"gettimeofday":_gettimeofday,"glActiveTexture":_glActiveTexture,"glAttachShader":_glAttachShader,"glBindAttribLocation":_glBindAttribLocation,"glBindBuffer":_glBindBuffer,"glBindBufferBase":_glBindBufferBase,"glBindFramebuffer":_glBindFramebuffer,"glBindRenderbuffer":_glBindRenderbuffer,"glBindSampler":_glBindSampler,"glBindTexture":_glBindTexture,"glBindVertexArray":_glBindVertexArray,"glBlendFunc":_glBlendFunc,"glBlendFuncSeparate":_glBlendFuncSeparate,"glBlitFramebuffer":_glBlitFramebuffer,"glBufferData":_glBufferData,"glBufferSubData":_glBufferSubData,"glCheckFramebufferStatus":_glCheckFramebufferStatus,"glClear":_glClear,"glClearColor":_glClearColor,"glClearDepthf":_glClearDepthf,"glClearStencil":_glClearStencil,"glClientWaitSync":_glClientWaitSync,"glColorMask":_glColorMask,"glCompileShader":_glCompileShader,"glCompressedTexImage2D":_glCompressedTexImage2D,"glCreateProgram":_glCreateProgram,"glCreateShader":_glCreateShader,"glCullFace":_glCullFace,"glDeleteBuffers":_glDeleteBuffers,"glDeleteFramebuffers":_glDeleteFramebuffers,"glDeleteProgram":_glDeleteProgram,"glDeleteRenderbuffers":_glDeleteRenderbuffers,"glDeleteShader":_glDeleteShader,"glDeleteSync":_glDeleteSync,"glDeleteTextures":_glDeleteTextures,"glDeleteVertexArrays":_glDeleteVertexArrays,"glDepthFunc":_glDepthFunc,"glDepthMask":_glDepthMask,"glDisable":_glDisable,"glDisableVertexAttribArray":_glDisableVertexAttribArray,"glDrawArrays":_glDrawArrays,"glDrawBuffers":_glDrawBuffers,"glDrawElements":_glDrawElements,"glEnable":_glEnable,"glEnableVertexAttribArray":_glEnableVertexAttribArray,"glFenceSync":_glFenceSync,"glFinish":_glFinish,"glFlush":_glFlush,"glFramebufferRenderbuffer":_glFramebufferRenderbuffer,"glFramebufferTexture2D":_glFramebufferTexture2D,"glFramebufferTextureLayer":_glFramebufferTextureLayer,"glFrontFace":_glFrontFace,"glGenBuffers":_glGenBuffers,"glGenFramebuffers":_glGenFramebuffers,"glGenRenderbuffers":_glGenRenderbuffers,"glGenTextures":_glGenTextures,"glGenVertexArrays":_glGenVertexArrays,"glGenerateMipmap":_glGenerateMipmap,"glGetActiveUniform":_glGetActiveUniform,"glGetActiveUniformBlockName":_glGetActiveUniformBlockName,"glGetActiveUniformBlockiv":_glGetActiveUniformBlockiv,"glGetAttribLocation":_glGetAttribLocation,"glGetBooleanv":_glGetBooleanv,"glGetError":_glGetError,"glGetIntegerv":_glGetIntegerv,"glGetProgramInfoLog":_glGetProgramInfoLog,"glGetProgramiv":_glGetProgramiv,"glGetShaderInfoLog":_glGetShaderInfoLog,"glGetShaderiv":_glGetShaderiv,"glGetString":_glGetString,"glGetStringi":_glGetStringi,"glGetUniformBlockIndex":_glGetUniformBlockIndex,"glGetUniformLocation":_glGetUniformLocation,"glLinkProgram":_glLinkProgram,"glPixelStorei":_glPixelStorei,"glReadBuffer":_glReadBuffer,"glReadPixels":_glReadPixels,"glRenderbufferStorage":_glRenderbufferStorage,"glRenderbufferStorageMultisample":_glRenderbufferStorageMultisample,"glScissor":_glScissor,"glShaderSource":_glShaderSource,"glStencilFuncSeparate":_glStencilFuncSeparate,"glStencilOpSeparate":_glStencilOpSeparate,"glTexImage2D":_glTexImage2D,"glTexParameterf":_glTexParameterf,"glTexParameterfv":_glTexParameterfv,"glTexParameteri":_glTexParameteri,"glTexStorage2D":_glTexStorage2D,"glTexStorage3D":_glTexStorage3D,"glTexSubImage2D":_glTexSubImage2D,"glTexSubImage3D":_glTexSubImage3D,"glUniform1f":_glUniform1f,"glUniform1fv":_glUniform1fv,"glUniform1i":_glUniform1i,"glUniform1iv":_glUniform1iv,"glUniform2f":_glUniform2f,"glUniform2fv":_glUniform2fv,"glUniform2iv":_glUniform2iv,"glUniform3f":_glUniform3f,"glUniform3fv":_glUniform3fv,"glUniform3iv":_glUniform3iv,"glUniform4f":_glUniform4f,"glUniform4fv":_glUniform4fv,"glUniform4iv":_glUniform4iv,"glUniformBlockBinding":_glUniformBlockBinding,"glUniformMatrix2fv":_glUniformMatrix2fv,"glUniformMatrix3fv":_glUniformMatrix3fv,"glUniformMatrix4fv":_glUniformMatrix4fv,"glUseProgram":_glUseProgram,"glVertexAttribPointer":_glVertexAttribPointer,"glViewport":_glViewport,"gmtime_r":_gmtime_r,"invoke_diii":invoke_diii,"invoke_i":invoke_i,"invoke_ii":invoke_ii,"invoke_iii":invoke_iii,"invoke_iiii":invoke_iiii,"invoke_iiiii":invoke_iiiii,"invoke_iiiiii":invoke_iiiiii,"invoke_iiiiiii":invoke_iiiiiii,"invoke_iiiiiiiddi":invoke_iiiiiiiddi,"invoke_iiiiiiii":invoke_iiiiiiii,"invoke_iiiiiiiii":invoke_iiiiiiiii,"invoke_iiiiiiiiii":invoke_iiiiiiiiii,"invoke_v":invoke_v,"invoke_vdiii":invoke_vdiii,"invoke_vi":invoke_vi,"invoke_vididdii":invoke_vididdii,"invoke_vidii":invoke_vidii,"invoke_vii":invoke_vii,"invoke_viid":invoke_viid,"invoke_viidd":invoke_viidd,"invoke_viidi":invoke_viidi,"invoke_viididii":invoke_viididii,"invoke_viii":invoke_viii,"invoke_viiid":invoke_viiid,"invoke_viiidd":invoke_viiidd,"invoke_viiiddi":invoke_viiiddi,"invoke_viiidi":invoke_viiidi,"invoke_viiii":invoke_viiii,"invoke_viiiid":invoke_viiiid,"invoke_viiiidi":invoke_viiiidi,"invoke_viiiidid":invoke_viiiidid,"invoke_viiiidiidiiiiiii":invoke_viiiidiidiiiiiii,"invoke_viiiifiifiiiiiii":invoke_viiiifiifiiiiiii,"invoke_viiiii":invoke_viiiii,"invoke_viiiiid":invoke_viiiiid,"invoke_viiiiif":invoke_viiiiif,"invoke_viiiiii":invoke_viiiiii,"invoke_viiiiiid":invoke_viiiiiid,"invoke_viiiiiif":invoke_viiiiiif,"invoke_viiiiiii":invoke_viiiiiii,"invoke_viiiiiiiddi":invoke_viiiiiiiddi,"invoke_viiiiiiidiiii":invoke_viiiiiiidiiii,"invoke_viiiiiiifiiii":invoke_viiiiiiifiiii,"invoke_viiiiiiii":invoke_viiiiiiii,"invoke_viiiiiiiidd":invoke_viiiiiiiidd,"invoke_viiiiiiiidf":invoke_viiiiiiiidf,"invoke_viiiiiiiii":invoke_viiiiiiiii,"invoke_viiiiiiiiidd":invoke_viiiiiiiiidd,"invoke_viiiiiiiiiddi":invoke_viiiiiiiiiddi,"invoke_viiiiiiiiii":invoke_viiiiiiiiii,"invoke_viiiiiiiiiiddi":invoke_viiiiiiiiiiddi,"invoke_viiiiiiiiiii":invoke_viiiiiiiiiii,"invoke_viiiiiiiiiiii":invoke_viiiiiiiiiiii,"invoke_viiiiiiiiiiiii":invoke_viiiiiiiiiiiii,"llvm_eh_typeid_for":_llvm_eh_typeid_for,"localtime_r":_localtime_r,"mktime":_mktime,"pthread_create":_pthread_create,"pthread_join":_pthread_join,"setTempRet0":_setTempRet0,"strftime":_strftime,"strftime_l":_strftime_l};var asm=createWasm();var ___wasm_call_ctors=Module["___wasm_call_ctors"]=createExportWrapper("__wasm_call_ctors");var _memset=Module["_memset"]=createExportWrapper("memset");var _free=Module["_free"]=createExportWrapper("free");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var ___errno_location=Module["___errno_location"]=createExportWrapper("__errno_location");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var ___getTypeName=Module["___getTypeName"]=createExportWrapper("__getTypeName");var ___embind_register_native_and_builtin_types=Module["___embind_register_native_and_builtin_types"]=createExportWrapper("__embind_register_native_and_builtin_types");var __get_tzname=Module["__get_tzname"]=createExportWrapper("_get_tzname");var __get_daylight=Module["__get_daylight"]=createExportWrapper("_get_daylight");var __get_timezone=Module["__get_timezone"]=createExportWrapper("_get_timezone");var _emscripten_main_thread_process_queued_calls=Module["_emscripten_main_thread_process_queued_calls"]=createExportWrapper("emscripten_main_thread_process_queued_calls");var _emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=function(){return(_emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=Module["asm"]["emscripten_stack_get_end"]).apply(null,arguments)};var stackSave=Module["stackSave"]=createExportWrapper("stackSave");var stackRestore=Module["stackRestore"]=createExportWrapper("stackRestore");var stackAlloc=Module["stackAlloc"]=createExportWrapper("stackAlloc");var _emscripten_stack_init=Module["_emscripten_stack_init"]=function(){return(_emscripten_stack_init=Module["_emscripten_stack_init"]=Module["asm"]["emscripten_stack_init"]).apply(null,arguments)};var _emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=function(){return(_emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=Module["asm"]["emscripten_stack_get_free"]).apply(null,arguments)};var _setThrew=Module["_setThrew"]=createExportWrapper("setThrew");var _memalign=Module["_memalign"]=createExportWrapper("memalign");var dynCall_viijii=Module["dynCall_viijii"]=createExportWrapper("dynCall_viijii");var dynCall_ji=Module["dynCall_ji"]=createExportWrapper("dynCall_ji");var dynCall_jii=Module["dynCall_jii"]=createExportWrapper("dynCall_jii");var dynCall_jf=Module["dynCall_jf"]=createExportWrapper("dynCall_jf");var dynCall_jiii=Module["dynCall_jiii"]=createExportWrapper("dynCall_jiii");var dynCall_viji=Module["dynCall_viji"]=createExportWrapper("dynCall_viji");var dynCall_vij=Module["dynCall_vij"]=createExportWrapper("dynCall_vij");var dynCall_vijii=Module["dynCall_vijii"]=createExportWrapper("dynCall_vijii");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_jjj=Module["dynCall_jjj"]=createExportWrapper("dynCall_jjj");var dynCall_iiiijj=Module["dynCall_iiiijj"]=createExportWrapper("dynCall_iiiijj");var dynCall_viijj=Module["dynCall_viijj"]=createExportWrapper("dynCall_viijj");var dynCall_viiijjjj=Module["dynCall_viiijjjj"]=createExportWrapper("dynCall_viiijjjj");var dynCall_jiiii=Module["dynCall_jiiii"]=createExportWrapper("dynCall_jiiii");var dynCall_vji=Module["dynCall_vji"]=createExportWrapper("dynCall_vji");var dynCall_vj=Module["dynCall_vj"]=createExportWrapper("dynCall_vj");var dynCall_viij=Module["dynCall_viij"]=createExportWrapper("dynCall_viij");var dynCall_viiiiij=Module["dynCall_viiiiij"]=createExportWrapper("dynCall_viiiiij");var dynCall_iijjiiii=Module["dynCall_iijjiiii"]=createExportWrapper("dynCall_iijjiiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");var dynCall_iiiiij=Module["dynCall_iiiiij"]=createExportWrapper("dynCall_iiiiij");var dynCall_iiiiijj=Module["dynCall_iiiiijj"]=createExportWrapper("dynCall_iiiiijj");var dynCall_iiiiiijj=Module["dynCall_iiiiiijj"]=createExportWrapper("dynCall_iiiiiijj");function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiii(index,a1,a2,a3,a4){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_ii(index,a1){var sp=stackSave();try{return wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vii(index,a1,a2){var sp=stackSave();try{wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vi(index,a1){var sp=stackSave();try{wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_v(index){var sp=stackSave();try{wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viid(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidd(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_diii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidd(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiidd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiddi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_i(index){var sp=stackSave();try{return wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidi(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vdiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vididdii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viididii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidf(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiid(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiidiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiif(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiif(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiifiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiifiifiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidiidiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiid(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vidii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiid(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidi(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}if(!Object.getOwnPropertyDescriptor(Module,"intArrayFromString"))Module["intArrayFromString"]=function(){abort("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"intArrayToString"))Module["intArrayToString"]=function(){abort("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ccall"))Module["ccall"]=function(){abort("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"cwrap"))Module["cwrap"]=function(){abort("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setValue"))Module["setValue"]=function(){abort("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getValue"))Module["getValue"]=function(){abort("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocate"))Module["allocate"]=function(){abort("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ArrayToString"))Module["UTF8ArrayToString"]=function(){abort("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ToString"))Module["UTF8ToString"]=function(){abort("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8Array"))Module["stringToUTF8Array"]=function(){abort("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8"))Module["stringToUTF8"]=function(){abort("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF8"))Module["lengthBytesUTF8"]=function(){abort("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreRun"))Module["addOnPreRun"]=function(){abort("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnInit"))Module["addOnInit"]=function(){abort("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreMain"))Module["addOnPreMain"]=function(){abort("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnExit"))Module["addOnExit"]=function(){abort("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPostRun"))Module["addOnPostRun"]=function(){abort("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeStringToMemory"))Module["writeStringToMemory"]=function(){abort("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeArrayToMemory"))Module["writeArrayToMemory"]=function(){abort("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeAsciiToMemory"))Module["writeAsciiToMemory"]=function(){abort("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;if(!Object.getOwnPropertyDescriptor(Module,"FS_createFolder"))Module["FS_createFolder"]=function(){abort("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;if(!Object.getOwnPropertyDescriptor(Module,"FS_createLink"))Module["FS_createLink"]=function(){abort("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;if(!Object.getOwnPropertyDescriptor(Module,"getLEB"))Module["getLEB"]=function(){abort("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFunctionTables"))Module["getFunctionTables"]=function(){abort("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"alignFunctionTables"))Module["alignFunctionTables"]=function(){abort("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFunctions"))Module["registerFunctions"]=function(){abort("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addFunction"))Module["addFunction"]=function(){abort("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"removeFunction"))Module["removeFunction"]=function(){abort("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"prettyPrint"))Module["prettyPrint"]=function(){abort("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeBigInt"))Module["makeBigInt"]=function(){abort("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCompilerSetting"))Module["getCompilerSetting"]=function(){abort("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"print"))Module["print"]=function(){abort("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"printErr"))Module["printErr"]=function(){abort("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTempRet0"))Module["getTempRet0"]=function(){abort("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setTempRet0"))Module["setTempRet0"]=function(){abort("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callMain"))Module["callMain"]=function(){abort("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"abort"))Module["abort"]=function(){abort("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToNewUTF8"))Module["stringToNewUTF8"]=function(){abort("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setFileTime"))Module["setFileTime"]=function(){abort("'setFileTime' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscripten_realloc_buffer"))Module["emscripten_realloc_buffer"]=function(){abort("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ENV"))Module["ENV"]=function(){abort("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_CODES"))Module["ERRNO_CODES"]=function(){abort("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_MESSAGES"))Module["ERRNO_MESSAGES"]=function(){abort("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setErrNo"))Module["setErrNo"]=function(){abort("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton4"))Module["inetPton4"]=function(){abort("'inetPton4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop4"))Module["inetNtop4"]=function(){abort("'inetNtop4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton6"))Module["inetPton6"]=function(){abort("'inetPton6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop6"))Module["inetNtop6"]=function(){abort("'inetNtop6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readSockaddr"))Module["readSockaddr"]=function(){abort("'readSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeSockaddr"))Module["writeSockaddr"]=function(){abort("'writeSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"DNS"))Module["DNS"]=function(){abort("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getHostByName"))Module["getHostByName"]=function(){abort("'getHostByName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GAI_ERRNO_MESSAGES"))Module["GAI_ERRNO_MESSAGES"]=function(){abort("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Protocols"))Module["Protocols"]=function(){abort("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Sockets"))Module["Sockets"]=function(){abort("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getRandomDevice"))Module["getRandomDevice"]=function(){abort("'getRandomDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"traverseStack"))Module["traverseStack"]=function(){abort("'traverseStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UNWIND_CACHE"))Module["UNWIND_CACHE"]=function(){abort("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"withBuiltinMalloc"))Module["withBuiltinMalloc"]=function(){abort("'withBuiltinMalloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgsArray"))Module["readAsmConstArgsArray"]=function(){abort("'readAsmConstArgsArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgs"))Module["readAsmConstArgs"]=function(){abort("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mainThreadEM_ASM"))Module["mainThreadEM_ASM"]=function(){abort("'mainThreadEM_ASM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_q"))Module["jstoi_q"]=function(){abort("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_s"))Module["jstoi_s"]=function(){abort("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getExecutableName"))Module["getExecutableName"]=function(){abort("'getExecutableName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"listenOnce"))Module["listenOnce"]=function(){abort("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"autoResumeAudioContext"))Module["autoResumeAudioContext"]=function(){abort("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCallLegacy"))Module["dynCallLegacy"]=function(){abort("'dynCallLegacy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getDynCaller"))Module["getDynCaller"]=function(){abort("'getDynCaller' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callRuntimeCallbacks"))Module["callRuntimeCallbacks"]=function(){abort("'callRuntimeCallbacks' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepaliveCounter"))Module["runtimeKeepaliveCounter"]=function(){abort("'runtimeKeepaliveCounter' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"keepRuntimeAlive"))Module["keepRuntimeAlive"]=function(){abort("'keepRuntimeAlive' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePush"))Module["runtimeKeepalivePush"]=function(){abort("'runtimeKeepalivePush' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePop"))Module["runtimeKeepalivePop"]=function(){abort("'runtimeKeepalivePop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callUserCallback"))Module["callUserCallback"]=function(){abort("'callUserCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"maybeExit"))Module["maybeExit"]=function(){abort("'maybeExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reallyNegative"))Module["reallyNegative"]=function(){abort("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unSign"))Module["unSign"]=function(){abort("'unSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reSign"))Module["reSign"]=function(){abort("'reSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"formatString"))Module["formatString"]=function(){abort("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH"))Module["PATH"]=function(){abort("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH_FS"))Module["PATH_FS"]=function(){abort("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SYSCALLS"))Module["SYSCALLS"]=function(){abort("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMmap2"))Module["syscallMmap2"]=function(){abort("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMunmap"))Module["syscallMunmap"]=function(){abort("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketFromFD"))Module["getSocketFromFD"]=function(){abort("'getSocketFromFD' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketAddress"))Module["getSocketAddress"]=function(){abort("'getSocketAddress' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"JSEvents"))Module["JSEvents"]=function(){abort("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerKeyEventCallback"))Module["registerKeyEventCallback"]=function(){abort("'registerKeyEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"specialHTMLTargets"))Module["specialHTMLTargets"]=function(){abort("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findEventTarget"))Module["findEventTarget"]=function(){abort("'findEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findCanvasEventTarget"))Module["findCanvasEventTarget"]=function(){abort("'findCanvasEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBoundingClientRect"))Module["getBoundingClientRect"]=function(){abort("'getBoundingClientRect' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillMouseEventData"))Module["fillMouseEventData"]=function(){abort("'fillMouseEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerMouseEventCallback"))Module["registerMouseEventCallback"]=function(){abort("'registerMouseEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerWheelEventCallback"))Module["registerWheelEventCallback"]=function(){abort("'registerWheelEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerUiEventCallback"))Module["registerUiEventCallback"]=function(){abort("'registerUiEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFocusEventCallback"))Module["registerFocusEventCallback"]=function(){abort("'registerFocusEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceOrientationEventData"))Module["fillDeviceOrientationEventData"]=function(){abort("'fillDeviceOrientationEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceOrientationEventCallback"))Module["registerDeviceOrientationEventCallback"]=function(){abort("'registerDeviceOrientationEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceMotionEventData"))Module["fillDeviceMotionEventData"]=function(){abort("'fillDeviceMotionEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceMotionEventCallback"))Module["registerDeviceMotionEventCallback"]=function(){abort("'registerDeviceMotionEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"screenOrientation"))Module["screenOrientation"]=function(){abort("'screenOrientation' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillOrientationChangeEventData"))Module["fillOrientationChangeEventData"]=function(){abort("'fillOrientationChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerOrientationChangeEventCallback"))Module["registerOrientationChangeEventCallback"]=function(){abort("'registerOrientationChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillFullscreenChangeEventData"))Module["fillFullscreenChangeEventData"]=function(){abort("'fillFullscreenChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFullscreenChangeEventCallback"))Module["registerFullscreenChangeEventCallback"]=function(){abort("'registerFullscreenChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerRestoreOldStyle"))Module["registerRestoreOldStyle"]=function(){abort("'registerRestoreOldStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"hideEverythingExceptGivenElement"))Module["hideEverythingExceptGivenElement"]=function(){abort("'hideEverythingExceptGivenElement' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreHiddenElements"))Module["restoreHiddenElements"]=function(){abort("'restoreHiddenElements' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setLetterbox"))Module["setLetterbox"]=function(){abort("'setLetterbox' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"currentFullscreenStrategy"))Module["currentFullscreenStrategy"]=function(){abort("'currentFullscreenStrategy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreOldWindowedStyle"))Module["restoreOldWindowedStyle"]=function(){abort("'restoreOldWindowedStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"softFullscreenResizeWebGLRenderTarget"))Module["softFullscreenResizeWebGLRenderTarget"]=function(){abort("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"doRequestFullscreen"))Module["doRequestFullscreen"]=function(){abort("'doRequestFullscreen' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillPointerlockChangeEventData"))Module["fillPointerlockChangeEventData"]=function(){abort("'fillPointerlockChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockChangeEventCallback"))Module["registerPointerlockChangeEventCallback"]=function(){abort("'registerPointerlockChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockErrorEventCallback"))Module["registerPointerlockErrorEventCallback"]=function(){abort("'registerPointerlockErrorEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requestPointerLock"))Module["requestPointerLock"]=function(){abort("'requestPointerLock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillVisibilityChangeEventData"))Module["fillVisibilityChangeEventData"]=function(){abort("'fillVisibilityChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerVisibilityChangeEventCallback"))Module["registerVisibilityChangeEventCallback"]=function(){abort("'registerVisibilityChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerTouchEventCallback"))Module["registerTouchEventCallback"]=function(){abort("'registerTouchEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillGamepadEventData"))Module["fillGamepadEventData"]=function(){abort("'fillGamepadEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerGamepadEventCallback"))Module["registerGamepadEventCallback"]=function(){abort("'registerGamepadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBeforeUnloadEventCallback"))Module["registerBeforeUnloadEventCallback"]=function(){abort("'registerBeforeUnloadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillBatteryEventData"))Module["fillBatteryEventData"]=function(){abort("'fillBatteryEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"battery"))Module["battery"]=function(){abort("'battery' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBatteryEventCallback"))Module["registerBatteryEventCallback"]=function(){abort("'registerBatteryEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setCanvasElementSize"))Module["setCanvasElementSize"]=function(){abort("'setCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCanvasElementSize"))Module["getCanvasElementSize"]=function(){abort("'getCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"polyfillSetImmediate"))Module["polyfillSetImmediate"]=function(){abort("'polyfillSetImmediate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangle"))Module["demangle"]=function(){abort("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangleAll"))Module["demangleAll"]=function(){abort("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jsStackTrace"))Module["jsStackTrace"]=function(){abort("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getEnvStrings"))Module["getEnvStrings"]=function(){abort("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"checkWasiClock"))Module["checkWasiClock"]=function(){abort("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64"))Module["writeI53ToI64"]=function(){abort("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Clamped"))Module["writeI53ToI64Clamped"]=function(){abort("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Signaling"))Module["writeI53ToI64Signaling"]=function(){abort("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Clamped"))Module["writeI53ToU64Clamped"]=function(){abort("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Signaling"))Module["writeI53ToU64Signaling"]=function(){abort("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromI64"))Module["readI53FromI64"]=function(){abort("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromU64"))Module["readI53FromU64"]=function(){abort("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertI32PairToI53"))Module["convertI32PairToI53"]=function(){abort("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertU32PairToI53"))Module["convertU32PairToI53"]=function(){abort("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"uncaughtExceptionCount"))Module["uncaughtExceptionCount"]=function(){abort("'uncaughtExceptionCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionLast"))Module["exceptionLast"]=function(){abort("'exceptionLast' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionCaught"))Module["exceptionCaught"]=function(){abort("'exceptionCaught' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfoAttrs"))Module["ExceptionInfoAttrs"]=function(){abort("'ExceptionInfoAttrs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfo"))Module["ExceptionInfo"]=function(){abort("'ExceptionInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"CatchInfo"))Module["CatchInfo"]=function(){abort("'CatchInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_addRef"))Module["exception_addRef"]=function(){abort("'exception_addRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_decRef"))Module["exception_decRef"]=function(){abort("'exception_decRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Browser"))Module["Browser"]=function(){abort("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"funcWrappers"))Module["funcWrappers"]=function(){abort("'funcWrappers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setMainLoop"))Module["setMainLoop"]=function(){abort("'setMainLoop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"FS"))Module["FS"]=function(){abort("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mmapAlloc"))Module["mmapAlloc"]=function(){abort("'mmapAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"MEMFS"))Module["MEMFS"]=function(){abort("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"TTY"))Module["TTY"]=function(){abort("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PIPEFS"))Module["PIPEFS"]=function(){abort("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SOCKFS"))Module["SOCKFS"]=function(){abort("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"_setNetworkCallback"))Module["_setNetworkCallback"]=function(){abort("'_setNetworkCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tempFixedLengthArray"))Module["tempFixedLengthArray"]=function(){abort("'tempFixedLengthArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"miniTempWebGLFloatBuffers"))Module["miniTempWebGLFloatBuffers"]=function(){abort("'miniTempWebGLFloatBuffers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapObjectForWebGLType"))Module["heapObjectForWebGLType"]=function(){abort("'heapObjectForWebGLType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapAccessShiftForWebGLHeap"))Module["heapAccessShiftForWebGLHeap"]=function(){abort("'heapAccessShiftForWebGLHeap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GL"))Module["GL"]=function(){abort("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGet"))Module["emscriptenWebGLGet"]=function(){abort("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"computeUnpackAlignedImageSize"))Module["computeUnpackAlignedImageSize"]=function(){abort("'computeUnpackAlignedImageSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetTexPixelData"))Module["emscriptenWebGLGetTexPixelData"]=function(){abort("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetUniform"))Module["emscriptenWebGLGetUniform"]=function(){abort("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetVertexAttrib"))Module["emscriptenWebGLGetVertexAttrib"]=function(){abort("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetBufferBinding"))Module["emscriptenWebGLGetBufferBinding"]=function(){abort("'emscriptenWebGLGetBufferBinding' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLValidateMapBufferTarget"))Module["emscriptenWebGLValidateMapBufferTarget"]=function(){abort("'emscriptenWebGLValidateMapBufferTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeGLArray"))Module["writeGLArray"]=function(){abort("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AL"))Module["AL"]=function(){abort("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_unicode"))Module["SDL_unicode"]=function(){abort("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_ttfContext"))Module["SDL_ttfContext"]=function(){abort("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_audio"))Module["SDL_audio"]=function(){abort("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL"))Module["SDL"]=function(){abort("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_gfx"))Module["SDL_gfx"]=function(){abort("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLUT"))Module["GLUT"]=function(){abort("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"EGL"))Module["EGL"]=function(){abort("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW_Window"))Module["GLFW_Window"]=function(){abort("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW"))Module["GLFW"]=function(){abort("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLEW"))Module["GLEW"]=function(){abort("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"IDBStore"))Module["IDBStore"]=function(){abort("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runAndAbortIfError"))Module["runAndAbortIfError"]=function(){abort("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_handle_array"))Module["emval_handle_array"]=function(){abort("'emval_handle_array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_free_list"))Module["emval_free_list"]=function(){abort("'emval_free_list' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_symbols"))Module["emval_symbols"]=function(){abort("'emval_symbols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_emval"))Module["init_emval"]=function(){abort("'init_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"count_emval_handles"))Module["count_emval_handles"]=function(){abort("'count_emval_handles' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"get_first_emval"))Module["get_first_emval"]=function(){abort("'get_first_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getStringOrSymbol"))Module["getStringOrSymbol"]=function(){abort("'getStringOrSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireHandle"))Module["requireHandle"]=function(){abort("'requireHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_newers"))Module["emval_newers"]=function(){abort("'emval_newers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftEmvalAllocator"))Module["craftEmvalAllocator"]=function(){abort("'craftEmvalAllocator' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_get_global"))Module["emval_get_global"]=function(){abort("'emval_get_global' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_methodCallers"))Module["emval_methodCallers"]=function(){abort("'emval_methodCallers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"InternalError"))Module["InternalError"]=function(){abort("'InternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"BindingError"))Module["BindingError"]=function(){abort("'BindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UnboundTypeError"))Module["UnboundTypeError"]=function(){abort("'UnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PureVirtualError"))Module["PureVirtualError"]=function(){abort("'PureVirtualError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_embind"))Module["init_embind"]=function(){abort("'init_embind' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInternalError"))Module["throwInternalError"]=function(){abort("'throwInternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwBindingError"))Module["throwBindingError"]=function(){abort("'throwBindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwUnboundTypeError"))Module["throwUnboundTypeError"]=function(){abort("'throwUnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ensureOverloadTable"))Module["ensureOverloadTable"]=function(){abort("'ensureOverloadTable' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exposePublicSymbol"))Module["exposePublicSymbol"]=function(){abort("'exposePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"replacePublicSymbol"))Module["replacePublicSymbol"]=function(){abort("'replacePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"extendError"))Module["extendError"]=function(){abort("'extendError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"createNamedFunction"))Module["createNamedFunction"]=function(){abort("'createNamedFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredInstances"))Module["registeredInstances"]=function(){abort("'registeredInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBasestPointer"))Module["getBasestPointer"]=function(){abort("'getBasestPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerInheritedInstance"))Module["registerInheritedInstance"]=function(){abort("'registerInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unregisterInheritedInstance"))Module["unregisterInheritedInstance"]=function(){abort("'unregisterInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstance"))Module["getInheritedInstance"]=function(){abort("'getInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstanceCount"))Module["getInheritedInstanceCount"]=function(){abort("'getInheritedInstanceCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getLiveInheritedInstances"))Module["getLiveInheritedInstances"]=function(){abort("'getLiveInheritedInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredTypes"))Module["registeredTypes"]=function(){abort("'registeredTypes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"awaitingDependencies"))Module["awaitingDependencies"]=function(){abort("'awaitingDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"typeDependencies"))Module["typeDependencies"]=function(){abort("'typeDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredPointers"))Module["registeredPointers"]=function(){abort("'registeredPointers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerType"))Module["registerType"]=function(){abort("'registerType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"whenDependentTypesAreResolved"))Module["whenDependentTypesAreResolved"]=function(){abort("'whenDependentTypesAreResolved' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_charCodes"))Module["embind_charCodes"]=function(){abort("'embind_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_init_charCodes"))Module["embind_init_charCodes"]=function(){abort("'embind_init_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readLatin1String"))Module["readLatin1String"]=function(){abort("'readLatin1String' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTypeName"))Module["getTypeName"]=function(){abort("'getTypeName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heap32VectorToArray"))Module["heap32VectorToArray"]=function(){abort("'heap32VectorToArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireRegisteredType"))Module["requireRegisteredType"]=function(){abort("'requireRegisteredType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getShiftFromSize"))Module["getShiftFromSize"]=function(){abort("'getShiftFromSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"integerReadValueFromPointer"))Module["integerReadValueFromPointer"]=function(){abort("'integerReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"enumReadValueFromPointer"))Module["enumReadValueFromPointer"]=function(){abort("'enumReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"floatReadValueFromPointer"))Module["floatReadValueFromPointer"]=function(){abort("'floatReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"simpleReadValueFromPointer"))Module["simpleReadValueFromPointer"]=function(){abort("'simpleReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructors"))Module["runDestructors"]=function(){abort("'runDestructors' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"new_"))Module["new_"]=function(){abort("'new_' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftInvokerFunction"))Module["craftInvokerFunction"]=function(){abort("'craftInvokerFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind__requireFunction"))Module["embind__requireFunction"]=function(){abort("'embind__requireFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tupleRegistrations"))Module["tupleRegistrations"]=function(){abort("'tupleRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"structRegistrations"))Module["structRegistrations"]=function(){abort("'structRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"genericPointerToWireType"))Module["genericPointerToWireType"]=function(){abort("'genericPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"constNoSmartPtrRawPointerToWireType"))Module["constNoSmartPtrRawPointerToWireType"]=function(){abort("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"nonConstNoSmartPtrRawPointerToWireType"))Module["nonConstNoSmartPtrRawPointerToWireType"]=function(){abort("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_RegisteredPointer"))Module["init_RegisteredPointer"]=function(){abort("'init_RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer"))Module["RegisteredPointer"]=function(){abort("'RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_getPointee"))Module["RegisteredPointer_getPointee"]=function(){abort("'RegisteredPointer_getPointee' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_destructor"))Module["RegisteredPointer_destructor"]=function(){abort("'RegisteredPointer_destructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_deleteObject"))Module["RegisteredPointer_deleteObject"]=function(){abort("'RegisteredPointer_deleteObject' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_fromWireType"))Module["RegisteredPointer_fromWireType"]=function(){abort("'RegisteredPointer_fromWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructor"))Module["runDestructor"]=function(){abort("'runDestructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"releaseClassHandle"))Module["releaseClassHandle"]=function(){abort("'releaseClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"finalizationGroup"))Module["finalizationGroup"]=function(){abort("'finalizationGroup' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer_deps"))Module["detachFinalizer_deps"]=function(){abort("'detachFinalizer_deps' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer"))Module["detachFinalizer"]=function(){abort("'detachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"attachFinalizer"))Module["attachFinalizer"]=function(){abort("'attachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeClassHandle"))Module["makeClassHandle"]=function(){abort("'makeClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_ClassHandle"))Module["init_ClassHandle"]=function(){abort("'init_ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle"))Module["ClassHandle"]=function(){abort("'ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isAliasOf"))Module["ClassHandle_isAliasOf"]=function(){abort("'ClassHandle_isAliasOf' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInstanceAlreadyDeleted"))Module["throwInstanceAlreadyDeleted"]=function(){abort("'throwInstanceAlreadyDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_clone"))Module["ClassHandle_clone"]=function(){abort("'ClassHandle_clone' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_delete"))Module["ClassHandle_delete"]=function(){abort("'ClassHandle_delete' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"deletionQueue"))Module["deletionQueue"]=function(){abort("'deletionQueue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isDeleted"))Module["ClassHandle_isDeleted"]=function(){abort("'ClassHandle_isDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_deleteLater"))Module["ClassHandle_deleteLater"]=function(){abort("'ClassHandle_deleteLater' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"flushPendingDeletes"))Module["flushPendingDeletes"]=function(){abort("'flushPendingDeletes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"delayFunction"))Module["delayFunction"]=function(){abort("'delayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setDelayFunction"))Module["setDelayFunction"]=function(){abort("'setDelayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredClass"))Module["RegisteredClass"]=function(){abort("'RegisteredClass' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"shallowCopyInternalPointer"))Module["shallowCopyInternalPointer"]=function(){abort("'shallowCopyInternalPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"downcastPointer"))Module["downcastPointer"]=function(){abort("'downcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"upcastPointer"))Module["upcastPointer"]=function(){abort("'upcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"validateThis"))Module["validateThis"]=function(){abort("'validateThis' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_0"))Module["char_0"]=function(){abort("'char_0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_9"))Module["char_9"]=function(){abort("'char_9' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeLegalFunctionName"))Module["makeLegalFunctionName"]=function(){abort("'makeLegalFunctionName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetIndexed"))Module["emscriptenWebGLGetIndexed"]=function(){abort("'emscriptenWebGLGetIndexed' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"warnOnce"))Module["warnOnce"]=function(){abort("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackSave"))Module["stackSave"]=function(){abort("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackRestore"))Module["stackRestore"]=function(){abort("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackAlloc"))Module["stackAlloc"]=function(){abort("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AsciiToString"))Module["AsciiToString"]=function(){abort("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToAscii"))Module["stringToAscii"]=function(){abort("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF16ToString"))Module["UTF16ToString"]=function(){abort("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF16"))Module["stringToUTF16"]=function(){abort("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF16"))Module["lengthBytesUTF16"]=function(){abort("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF32ToString"))Module["UTF32ToString"]=function(){abort("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF32"))Module["stringToUTF32"]=function(){abort("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF32"))Module["lengthBytesUTF32"]=function(){abort("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8"))Module["allocateUTF8"]=function(){abort("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8OnStack"))Module["allocateUTF8OnStack"]=function(){abort("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["writeStackCookie"]=writeStackCookie;Module["checkStackCookie"]=checkStackCookie;if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_NORMAL"))Object.defineProperty(Module,"ALLOC_NORMAL",{configurable:true,get:function(){abort("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_STACK"))Object.defineProperty(Module,"ALLOC_STACK",{configurable:true,get:function(){abort("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var calledRun;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function stackCheckInit(){_emscripten_stack_init();writeStackCookie()}function run(args){args=args||arguments_;if(runDependencies>0){return}stackCheckInit();preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}checkStackCookie()}Module["run"]=run;function checkUnflushedContent(){var oldOut=out;var oldErr=err;var has=false;out=err=function(x){has=true};try{var flush=Module["_fflush"];if(flush)flush(0);["stdout","stderr"].forEach(function(name){var info=FS.analyzePath("/dev/"+name);if(!info)return;var stream=info.object;var rdev=stream.rdev;var tty=TTY.ttys[rdev];if(tty&&tty.output&&tty.output.length){has=true}})}catch(e){}out=oldOut;err=oldErr;if(has){warnOnce("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}}function exit(status,implicit){EXITSTATUS=status;checkUnflushedContent();if(implicit&&keepRuntimeAlive()&&status===0){return}if(keepRuntimeAlive()){if(!implicit){var msg="program exited (with status: "+status+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";readyPromiseReject(msg);err(msg)}}else{exitRuntime();if(Module["onExit"])Module["onExit"](status);ABORT=true}quit_(status,new ExitStatus(status))}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();
+
+
+  return createMediapipeSolutionsWasm.ready
+}
+);
+})();
+if (typeof exports === 'object' && typeof module === 'object')
+  module.exports = createMediapipeSolutionsWasm;
+else if (typeof define === 'function' && define['amd'])
+  define([], function() { return createMediapipeSolutionsWasm; });
+else if (typeof exports === 'object')
+  exports["createMediapipeSolutionsWasm"] = createMediapipeSolutionsWasm;
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_wasm_bin.js b/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_wasm_bin.js
new file mode 100644
index 0000000000000..5f914da7162d7
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/style_black_and_white_test_web_solution_wasm_bin.js
@@ -0,0 +1,21 @@
+
+var createMediapipeSolutionsWasm = (function() {
+  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
+  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
+  return (
+function(createMediapipeSolutionsWasm) {
+  createMediapipeSolutionsWasm = createMediapipeSolutionsWasm || {};
+
+var Module=typeof createMediapipeSolutionsWasm!=="undefined"?createMediapipeSolutionsWasm:{};var readyPromiseResolve,readyPromiseReject;Module["ready"]=new Promise(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject});if(!Object.getOwnPropertyDescriptor(Module["ready"],"_main")){Object.defineProperty(Module["ready"],"_main",{configurable:true,get:function(){abort("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_main",{configurable:true,set:function(){abort("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_end")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_end",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_get_free")){Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,get:function(){abort("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_get_free",{configurable:true,set:function(){abort("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_stack_init")){Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,get:function(){abort("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_stack_init",{configurable:true,set:function(){abort("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackSave")){Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,get:function(){abort("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackSave",{configurable:true,set:function(){abort("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackRestore")){Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,get:function(){abort("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackRestore",{configurable:true,set:function(){abort("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_stackAlloc")){Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,get:function(){abort("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_stackAlloc",{configurable:true,set:function(){abort("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___wasm_call_ctors")){Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,get:function(){abort("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___wasm_call_ctors",{configurable:true,set:function(){abort("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_fflush")){Object.defineProperty(Module["ready"],"_fflush",{configurable:true,get:function(){abort("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_fflush",{configurable:true,set:function(){abort("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___errno_location")){Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,get:function(){abort("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___errno_location",{configurable:true,set:function(){abort("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_malloc")){Object.defineProperty(Module["ready"],"_malloc",{configurable:true,get:function(){abort("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_malloc",{configurable:true,set:function(){abort("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_free")){Object.defineProperty(Module["ready"],"_free",{configurable:true,get:function(){abort("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_free",{configurable:true,set:function(){abort("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_tzname")){Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,get:function(){abort("You are getting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_tzname",{configurable:true,set:function(){abort("You are setting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_daylight")){Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,get:function(){abort("You are getting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_daylight",{configurable:true,set:function(){abort("You are setting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"__get_timezone")){Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,get:function(){abort("You are getting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"__get_timezone",{configurable:true,set:function(){abort("You are setting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memalign")){Object.defineProperty(Module["ready"],"_memalign",{configurable:true,get:function(){abort("You are getting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memalign",{configurable:true,set:function(){abort("You are setting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_memset")){Object.defineProperty(Module["ready"],"_memset",{configurable:true,get:function(){abort("You are getting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_memset",{configurable:true,set:function(){abort("You are setting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_setThrew")){Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,get:function(){abort("You are getting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_setThrew",{configurable:true,set:function(){abort("You are setting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_main_thread_process_queued_calls")){Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,get:function(){abort("You are getting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_main_thread_process_queued_calls",{configurable:true,set:function(){abort("You are setting _emscripten_main_thread_process_queued_calls on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"___cxa_is_pointer_type")){Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,get:function(){abort("You are getting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"___cxa_is_pointer_type",{configurable:true,set:function(){abort("You are setting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_make_context_current")){Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_make_context_current",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"_emscripten_webgl_get_current_context")){Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,get:function(){abort("You are getting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"_emscripten_webgl_get_current_context",{configurable:true,set:function(){abort("You are setting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}if(!Object.getOwnPropertyDescriptor(Module["ready"],"onRuntimeInitialized")){Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,get:function(){abort("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}});Object.defineProperty(Module["ready"],"onRuntimeInitialized",{configurable:true,set:function(){abort("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram="./this.program";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)")}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require("path").dirname(scriptDirectory)+"/"}else{scriptDirectory=__dirname+"/"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);return nodeFS["readFileSync"](filename,binary?null:"utf8")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process["argv"].length>1){thisProgram=process["argv"][1].replace(/\\/g,"/")}arguments_=process["argv"].slice(2);process["on"]("uncaughtException",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process["on"]("unhandledRejection",abort);quit_=function(status){process["exit"](status)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){arguments_=scriptArgs}else if(typeof arguments!="undefined"){arguments_=arguments}if(typeof quit==="function"){quit_=function(status){quit(status)}}if(typeof print!=="undefined"){if(typeof console==="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!=="undefined"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!=="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1)}else{scriptDirectory=""}{read_=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{throw new Error("environment detection error")}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(!Object.getOwnPropertyDescriptor(Module,"arguments")){Object.defineProperty(Module,"arguments",{configurable:true,get:function(){abort("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(!Object.getOwnPropertyDescriptor(Module,"thisProgram")){Object.defineProperty(Module,"thisProgram",{configurable:true,get:function(){abort("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(Module["quit"])quit_=Module["quit"];if(!Object.getOwnPropertyDescriptor(Module,"quit")){Object.defineProperty(Module,"quit",{configurable:true,get:function(){abort("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(typeof Module["memoryInitializerPrefixURL"]==="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]==="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]==="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]==="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]==="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]==="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]==="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]==="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]==="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");if(!Object.getOwnPropertyDescriptor(Module,"read")){Object.defineProperty(Module,"read",{configurable:true,get:function(){abort("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readAsync")){Object.defineProperty(Module,"readAsync",{configurable:true,get:function(){abort("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"readBinary")){Object.defineProperty(Module,"readBinary",{configurable:true,get:function(){abort("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(!Object.getOwnPropertyDescriptor(Module,"setWindowTitle")){Object.defineProperty(Module,"setWindowTitle",{configurable:true,get:function(){abort("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var STACK_ALIGN=16;function alignMemory(size,factor){if(!factor)factor=STACK_ALIGN;return Math.ceil(size/factor)*factor}function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text)}}function convertJsFunctionToWasm(func,sig){if(typeof WebAssembly.Function==="function"){var typeNames={"i":"i32","j":"i64","f":"f32","d":"f64"};var type={parameters:[],results:sig[0]=="v"?[]:[typeNames[sig[0]]]};for(var i=1;i<sig.length;++i){type.parameters.push(typeNames[sig[i]])}return new WebAssembly.Function(type,func)}var typeSection=[1,0,1,96];var sigRet=sig.slice(0,1);var sigParam=sig.slice(1);var typeCodes={"i":127,"j":126,"f":125,"d":124};typeSection.push(sigParam.length);for(var i=0;i<sigParam.length;++i){typeSection.push(typeCodes[sigParam[i]])}if(sigRet=="v"){typeSection.push(0)}else{typeSection=typeSection.concat([1,typeCodes[sigRet]])}typeSection[1]=typeSection.length-2;var bytes=new Uint8Array([0,97,115,109,1,0,0,0].concat(typeSection,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0]));var module=new WebAssembly.Module(bytes);var instance=new WebAssembly.Instance(module,{"e":{"f":func}});var wrappedFunc=instance.exports["f"];return wrappedFunc}var freeTableIndexes=[];var functionsInTableMap;function getEmptyTableSlot(){if(freeTableIndexes.length){return freeTableIndexes.pop()}try{wasmTable.grow(1)}catch(err){if(!(err instanceof RangeError)){throw err}throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return wasmTable.length-1}function addFunctionWasm(func,sig){if(!functionsInTableMap){functionsInTableMap=new WeakMap;for(var i=0;i<wasmTable.length;i++){var item=wasmTable.get(i);if(item){functionsInTableMap.set(item,i)}}}if(functionsInTableMap.has(func)){return functionsInTableMap.get(func)}var ret=getEmptyTableSlot();try{wasmTable.set(ret,func)}catch(err){if(!(err instanceof TypeError)){throw err}assert(typeof sig!=="undefined","Missing signature argument to addFunction: "+func);var wrapped=convertJsFunctionToWasm(func,sig);wasmTable.set(ret,wrapped)}functionsInTableMap.set(func,ret);return ret}var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var getTempRet0=function(){return tempRet0};var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];if(!Object.getOwnPropertyDescriptor(Module,"wasmBinary")){Object.defineProperty(Module,"wasmBinary",{configurable:true,get:function(){abort("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}var noExitRuntime=Module["noExitRuntime"]||true;if(!Object.getOwnPropertyDescriptor(Module,"noExitRuntime")){Object.defineProperty(Module,"noExitRuntime",{configurable:true,get:function(){abort("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}if(typeof WebAssembly!=="object"){abort("no native wasm support detected")}var wasmMemory;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}function getCFunc(ident){var func=Module["_"+ident];assert(func,"Cannot call unknown function "+ident+", make sure it is exported");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={"string":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},"array":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string")return UTF8ToString(ret);if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;assert(returnType!=="array",'Return type should not be "array".');if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}var ALLOC_STACK=1;var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte 0x"+u0.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;if(u>=2097152)warnOnce("Invalid Unicode code point 0x"+u.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder){return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr))}else{var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit)}return str}}function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr}function lengthBytesUTF16(str){return str.length*2}function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}return str}function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr}function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len}function allocateUTF8(str){var size=lengthBytesUTF8(str)+1;var ret=_malloc(size);if(ret)stringToUTF8Array(str,HEAP8,ret,size);return ret}function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer)}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){assert(str.charCodeAt(i)===str.charCodeAt(i)&255);HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module["HEAP8"]=HEAP8=new Int8Array(buf);Module["HEAP16"]=HEAP16=new Int16Array(buf);Module["HEAP32"]=HEAP32=new Int32Array(buf);Module["HEAPU8"]=HEAPU8=new Uint8Array(buf);Module["HEAPU16"]=HEAPU16=new Uint16Array(buf);Module["HEAPU32"]=HEAPU32=new Uint32Array(buf);Module["HEAPF32"]=HEAPF32=new Float32Array(buf);Module["HEAPF64"]=HEAPF64=new Float64Array(buf)}var TOTAL_STACK=5242880;if(Module["TOTAL_STACK"])assert(TOTAL_STACK===Module["TOTAL_STACK"],"the stack size can no longer be determined at runtime");var INITIAL_MEMORY=Module["INITIAL_MEMORY"]||16777216;if(!Object.getOwnPropertyDescriptor(Module,"INITIAL_MEMORY")){Object.defineProperty(Module,"INITIAL_MEMORY",{configurable:true,get:function(){abort("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}assert(INITIAL_MEMORY>=TOTAL_STACK,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+INITIAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");assert(typeof Int32Array!=="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!==undefined&&Int32Array.prototype.set!==undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally");assert(INITIAL_MEMORY==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end();assert((max&3)==0);HEAPU32[(max>>2)+1]=34821223;HEAPU32[(max>>2)+2]=2310721022;HEAP32[0]=1668509029}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end();var cookie1=HEAPU32[(max>>2)+1];var cookie2=HEAPU32[(max>>2)+2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+cookie2.toString(16)+" "+cookie1.toString(16))}if(HEAP32[0]!==1668509029)abort("Runtime error: The application has corrupted its heap memory area (address zero)!")}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){checkStackCookie();assert(!runtimeInitialized);runtimeInitialized=true;if(!Module["noFSInit"]&&!FS.init.initialized)FS.init();TTY.init();callRuntimeCallbacks(__ATINIT__)}function preMain(){checkStackCookie();FS.ignorePermissions=false;callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){checkStackCookie();runtimeExited=true}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function getUniqueRunDependency(id){var orig=id;while(1){if(!runDependencyTracking[id])return id;id=orig+Math.random()}}function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!=="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:")}err("dependency: "+dep)}if(shown){err("(end of list)")}},1e4)}}else{err("warning: run dependency added without ID")}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id]}else{err("warning: run dependency removed without ID")}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}what+="";err(what);ABORT=true;EXITSTATUS=1;var output="abort("+what+") at "+stackTrace();what=output;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix="file://";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}function createExportWrapper(name,fixedasm){return function(){var displayName=name;var asm=fixedasm;if(!fixedasm){asm=Module["asm"]}assert(runtimeInitialized,"native function `"+displayName+"` called before runtime initialization");assert(!runtimeExited,"native function `"+displayName+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)");if(!asm[name]){assert(asm[name],"exported native function `"+displayName+"` not found")}return asm[name].apply(null,arguments)}}var wasmBinaryFile="style_black_and_white_test_web_solution_wasm_bin.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(file){try{if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}else{throw"both async and sync fetching of the wasm failed"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch==="function"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()}).catch(function(){return getBinary(wasmBinaryFile)})}else{if(readAsync){return new Promise(function(resolve,reject){readAsync(wasmBinaryFile,function(response){resolve(new Uint8Array(response))},reject)})}}}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var info={"env":asmLibraryArg,"wasi_snapshot_preview1":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module["asm"]=exports;wasmMemory=Module["asm"]["memory"];assert(wasmMemory,"memory not found in wasm exports");updateGlobalBufferAndViews(wasmMemory.buffer);wasmTable=Module["asm"]["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(Module["asm"]["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiatedSource(output){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(output["instance"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){var result=WebAssembly.instantiate(binary,info);return result}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")}abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch==="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module["instantiateWasm"]){try{var exports=Module["instantiateWasm"](info,receiveInstance);return exports}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}instantiateAsync().catch(readyPromiseReject);return{}}var tempDouble;var tempI64;var ASM_CONSTS={2421864:function(){let init_once=true;if(init_once){const cachedFindCanvasEventTarget=findCanvasEventTarget;if(typeof cachedFindCanvasEventTarget!=="function"){if(typeof console!=="undefined"){console.error("Expected Emscripten global function "+'"findCanvasEventTarget" not found. WebGL context creation '+"may fail.")}return}findCanvasEventTarget=function(target){if(Module&&Module.canvas){return Module.canvas}else if(Module&&Module.canvasCssSelector){return cachedFindCanvasEventTarget(Module.canvasCssSelector)}else{if(typeof console!=="undefined"){console.warn("Module properties canvas and canvasCssSelector not "+"found during WebGL context creation.")}return cachedFindCanvasEventTarget(target)}};init_once=false}}};function _emscripten_set_main_loop_timing(mode,value){Browser.mainLoop.timingMode=mode;Browser.mainLoop.timingValue=value;if(!Browser.mainLoop.func){console.error("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up.");return 1}if(!Browser.mainLoop.running){Browser.mainLoop.running=true}if(mode==0){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setTimeout(){var timeUntilNextTick=Math.max(0,Browser.mainLoop.tickStartTime+value-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,timeUntilNextTick)};Browser.mainLoop.method="timeout"}else if(mode==1){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_rAF(){Browser.requestAnimationFrame(Browser.mainLoop.runner)};Browser.mainLoop.method="rAF"}else if(mode==2){if(typeof setImmediate==="undefined"){var setImmediates=[];var emscriptenMainLoopMessageId="setimmediate";var Browser_setImmediate_messageHandler=function(event){if(event.data===emscriptenMainLoopMessageId||event.data.target===emscriptenMainLoopMessageId){event.stopPropagation();setImmediates.shift()()}};addEventListener("message",Browser_setImmediate_messageHandler,true);setImmediate=function Browser_emulated_setImmediate(func){setImmediates.push(func);if(ENVIRONMENT_IS_WORKER){if(Module["setImmediates"]===undefined)Module["setImmediates"]=[];Module["setImmediates"].push(func);postMessage({target:emscriptenMainLoopMessageId})}else postMessage(emscriptenMainLoopMessageId,"*")}}Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setImmediate(){setImmediate(Browser.mainLoop.runner)};Browser.mainLoop.method="immediate"}return 0}var _emscripten_get_now;if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function(){var t=process["hrtime"]();return t[0]*1e3+t[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else _emscripten_get_now=function(){return performance.now()};var runtimeKeepaliveCounter=0;function _exit(status){exit(status)}function maybeExit(){if(!keepRuntimeAlive()){try{_exit(EXITSTATUS)}catch(e){if(e instanceof ExitStatus){return}throw e}}}function setMainLoop(browserIterationFunc,fps,simulateInfiniteLoop,arg,noSetTiming){assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");Browser.mainLoop.func=browserIterationFunc;Browser.mainLoop.arg=arg;var thisMainLoopId=Browser.mainLoop.currentlyRunningMainloop;function checkIsRunning(){if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop){maybeExit();return false}return true}Browser.mainLoop.running=false;Browser.mainLoop.runner=function Browser_mainLoop_runner(){if(ABORT)return;if(Browser.mainLoop.queue.length>0){var start=Date.now();var blocker=Browser.mainLoop.queue.shift();blocker.func(blocker.arg);if(Browser.mainLoop.remainingBlockers){var remaining=Browser.mainLoop.remainingBlockers;var next=remaining%1==0?remaining-1:Math.floor(remaining);if(blocker.counted){Browser.mainLoop.remainingBlockers=next}else{next=next+.5;Browser.mainLoop.remainingBlockers=(8*remaining+next)/9}}console.log('main loop blocker "'+blocker.name+'" took '+(Date.now()-start)+" ms");Browser.mainLoop.updateStatus();if(!checkIsRunning())return;setTimeout(Browser.mainLoop.runner,0);return}if(!checkIsRunning())return;Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0;if(Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else if(Browser.mainLoop.timingMode==0){Browser.mainLoop.tickStartTime=_emscripten_get_now()}GL.newRenderingFrameStarted();if(Browser.mainLoop.method==="timeout"&&Module.ctx){warnOnce("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!");Browser.mainLoop.method=""}Browser.mainLoop.runIter(browserIterationFunc);checkStackCookie();if(!checkIsRunning())return;if(typeof SDL==="object"&&SDL.audio&&SDL.audio.queueNewAudioData)SDL.audio.queueNewAudioData();Browser.mainLoop.scheduler()};if(!noSetTiming){if(fps&&fps>0)_emscripten_set_main_loop_timing(0,1e3/fps);else _emscripten_set_main_loop_timing(1,1);Browser.mainLoop.scheduler()}if(simulateInfiniteLoop){throw"unwind"}}function callUserCallback(func){if(ABORT){err("user callback triggered after application aborted.  Ignoring.");return}try{func()}catch(e){if(e instanceof ExitStatus){return}else if(e!=="unwind"){if(e&&typeof e==="object"&&e.stack)err("exception thrown: "+[e,e.stack]);throw e}}}var Browser={mainLoop:{running:false,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null;Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var timingMode=Browser.mainLoop.timingMode;var timingValue=Browser.mainLoop.timingValue;var func=Browser.mainLoop.func;Browser.mainLoop.func=null;setMainLoop(func,0,false,Browser.mainLoop.arg,true);_emscripten_set_main_loop_timing(timingMode,timingValue);Browser.mainLoop.scheduler()},updateStatus:function(){if(Module["setStatus"]){var message=Module["statusMessage"]||"Please wait...";var remaining=Browser.mainLoop.remainingBlockers;var expected=Browser.mainLoop.expectedBlockers;if(remaining){if(remaining<expected){Module["setStatus"](message+" ("+(expected-remaining)+"/"+expected+")")}else{Module["setStatus"](message)}}else{Module["setStatus"]("")}}},runIter:function(func){if(ABORT)return;if(Module["preMainLoop"]){var preRet=Module["preMainLoop"]();if(preRet===false){return}}callUserCallback(func);if(Module["postMainLoop"])Module["postMainLoop"]()}},isFullscreen:false,pointerLock:false,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(!Module["preloadPlugins"])Module["preloadPlugins"]=[];if(Browser.initted)return;Browser.initted=true;try{new Blob;Browser.hasBlobConstructor=true}catch(e){Browser.hasBlobConstructor=false;console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder!="undefined"?MozBlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:!Browser.hasBlobConstructor?console.log("warning: no BlobBuilder"):null;Browser.URLObject=typeof window!="undefined"?window.URL?window.URL:window.webkitURL:undefined;if(!Module.noImageDecoding&&typeof Browser.URLObject==="undefined"){console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.");Module.noImageDecoding=true}var imagePlugin={};imagePlugin["canHandle"]=function imagePlugin_canHandle(name){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(name)};imagePlugin["handle"]=function imagePlugin_handle(byteArray,name,onload,onerror){var b=null;if(Browser.hasBlobConstructor){try{b=new Blob([byteArray],{type:Browser.getMimetype(name)});if(b.size!==byteArray.length){b=new Blob([new Uint8Array(byteArray).buffer],{type:Browser.getMimetype(name)})}}catch(e){warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}}if(!b){var bb=new Browser.BlobBuilder;bb.append(new Uint8Array(byteArray).buffer);b=bb.getBlob()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var img=new Image;img.onload=function img_onload(){assert(img.complete,"Image "+name+" could not be decoded");var canvas=document.createElement("canvas");canvas.width=img.width;canvas.height=img.height;var ctx=canvas.getContext("2d");ctx.drawImage(img,0,0);Module["preloadedImages"][name]=canvas;Browser.URLObject.revokeObjectURL(url);if(onload)onload(byteArray)};img.onerror=function img_onerror(event){console.log("Image "+url+" could not be decoded");if(onerror)onerror()};img.src=url};Module["preloadPlugins"].push(imagePlugin);var audioPlugin={};audioPlugin["canHandle"]=function audioPlugin_canHandle(name){return!Module.noAudioDecoding&&name.substr(-4)in{".ogg":1,".wav":1,".mp3":1}};audioPlugin["handle"]=function audioPlugin_handle(byteArray,name,onload,onerror){var done=false;function finish(audio){if(done)return;done=true;Module["preloadedAudios"][name]=audio;if(onload)onload(byteArray)}function fail(){if(done)return;done=true;Module["preloadedAudios"][name]=new Audio;if(onerror)onerror()}if(Browser.hasBlobConstructor){try{var b=new Blob([byteArray],{type:Browser.getMimetype(name)})}catch(e){return fail()}var url=Browser.URLObject.createObjectURL(b);assert(typeof url=="string","createObjectURL must return a url as a string");var audio=new Audio;audio.addEventListener("canplaythrough",function(){finish(audio)},false);audio.onerror=function audio_onerror(event){if(done)return;console.log("warning: browser could not fully decode audio "+name+", trying slower base64 approach");function encode64(data){var BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var PAD="=";var ret="";var leftchar=0;var leftbits=0;for(var i=0;i<data.length;i++){leftchar=leftchar<<8|data[i];leftbits+=8;while(leftbits>=6){var curr=leftchar>>leftbits-6&63;leftbits-=6;ret+=BASE[curr]}}if(leftbits==2){ret+=BASE[(leftchar&3)<<4];ret+=PAD+PAD}else if(leftbits==4){ret+=BASE[(leftchar&15)<<2];ret+=PAD}return ret}audio.src="data:audio/x-"+name.substr(-3)+";base64,"+encode64(byteArray);finish(audio)};audio.src=url;Browser.safeSetTimeout(function(){finish(audio)},1e4)}else{return fail()}};Module["preloadPlugins"].push(audioPlugin);function pointerLockChange(){Browser.pointerLock=document["pointerLockElement"]===Module["canvas"]||document["mozPointerLockElement"]===Module["canvas"]||document["webkitPointerLockElement"]===Module["canvas"]||document["msPointerLockElement"]===Module["canvas"]}var canvas=Module["canvas"];if(canvas){canvas.requestPointerLock=canvas["requestPointerLock"]||canvas["mozRequestPointerLock"]||canvas["webkitRequestPointerLock"]||canvas["msRequestPointerLock"]||function(){};canvas.exitPointerLock=document["exitPointerLock"]||document["mozExitPointerLock"]||document["webkitExitPointerLock"]||document["msExitPointerLock"]||function(){};canvas.exitPointerLock=canvas.exitPointerLock.bind(document);document.addEventListener("pointerlockchange",pointerLockChange,false);document.addEventListener("mozpointerlockchange",pointerLockChange,false);document.addEventListener("webkitpointerlockchange",pointerLockChange,false);document.addEventListener("mspointerlockchange",pointerLockChange,false);if(Module["elementPointerLock"]){canvas.addEventListener("click",function(ev){if(!Browser.pointerLock&&Module["canvas"].requestPointerLock){Module["canvas"].requestPointerLock();ev.preventDefault()}},false)}}},createContext:function(canvas,useWebGL,setInModule,webGLContextAttributes){if(useWebGL&&Module.ctx&&canvas==Module.canvas)return Module.ctx;var ctx;var contextHandle;if(useWebGL){var contextAttributes={antialias:false,alpha:false,majorVersion:typeof WebGL2RenderingContext!=="undefined"?2:1};if(webGLContextAttributes){for(var attribute in webGLContextAttributes){contextAttributes[attribute]=webGLContextAttributes[attribute]}}if(typeof GL!=="undefined"){contextHandle=GL.createContext(canvas,contextAttributes);if(contextHandle){ctx=GL.getContext(contextHandle).GLctx}}}else{ctx=canvas.getContext("2d")}if(!ctx)return null;if(setInModule){if(!useWebGL)assert(typeof GLctx==="undefined","cannot set in module if GLctx is used, but we are a non-GL context that would replace it");Module.ctx=ctx;if(useWebGL)GL.makeContextCurrent(contextHandle);Module.useWebGL=useWebGL;Browser.moduleContextCreatedCallbacks.forEach(function(callback){callback()});Browser.init()}return ctx},destroyContext:function(canvas,useWebGL,setInModule){},fullscreenHandlersInstalled:false,lockPointer:undefined,resizeCanvas:undefined,requestFullscreen:function(lockPointer,resizeCanvas){Browser.lockPointer=lockPointer;Browser.resizeCanvas=resizeCanvas;if(typeof Browser.lockPointer==="undefined")Browser.lockPointer=true;if(typeof Browser.resizeCanvas==="undefined")Browser.resizeCanvas=false;var canvas=Module["canvas"];function fullscreenChange(){Browser.isFullscreen=false;var canvasContainer=canvas.parentNode;if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvasContainer){canvas.exitFullscreen=Browser.exitFullscreen;if(Browser.lockPointer)canvas.requestPointerLock();Browser.isFullscreen=true;if(Browser.resizeCanvas){Browser.setFullscreenCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}else{canvasContainer.parentNode.insertBefore(canvas,canvasContainer);canvasContainer.parentNode.removeChild(canvasContainer);if(Browser.resizeCanvas){Browser.setWindowedCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}if(Module["onFullScreen"])Module["onFullScreen"](Browser.isFullscreen);if(Module["onFullscreen"])Module["onFullscreen"](Browser.isFullscreen)}if(!Browser.fullscreenHandlersInstalled){Browser.fullscreenHandlersInstalled=true;document.addEventListener("fullscreenchange",fullscreenChange,false);document.addEventListener("mozfullscreenchange",fullscreenChange,false);document.addEventListener("webkitfullscreenchange",fullscreenChange,false);document.addEventListener("MSFullscreenChange",fullscreenChange,false)}var canvasContainer=document.createElement("div");canvas.parentNode.insertBefore(canvasContainer,canvas);canvasContainer.appendChild(canvas);canvasContainer.requestFullscreen=canvasContainer["requestFullscreen"]||canvasContainer["mozRequestFullScreen"]||canvasContainer["msRequestFullscreen"]||(canvasContainer["webkitRequestFullscreen"]?function(){canvasContainer["webkitRequestFullscreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null)||(canvasContainer["webkitRequestFullScreen"]?function(){canvasContainer["webkitRequestFullScreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null);canvasContainer.requestFullscreen()},requestFullScreen:function(){abort("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen:function(){if(!Browser.isFullscreen){return false}var CFS=document["exitFullscreen"]||document["cancelFullScreen"]||document["mozCancelFullScreen"]||document["msExitFullscreen"]||document["webkitCancelFullScreen"]||function(){};CFS.apply(document,[]);return true},nextRAF:0,fakeRequestAnimationFrame:function(func){var now=Date.now();if(Browser.nextRAF===0){Browser.nextRAF=now+1e3/60}else{while(now+2>=Browser.nextRAF){Browser.nextRAF+=1e3/60}}var delay=Math.max(Browser.nextRAF-now,0);setTimeout(func,delay)},requestAnimationFrame:function(func){if(typeof requestAnimationFrame==="function"){requestAnimationFrame(func);return}var RAF=Browser.fakeRequestAnimationFrame;RAF(func)},safeRequestAnimationFrame:function(func){return Browser.requestAnimationFrame(function(){callUserCallback(func)})},safeSetTimeout:function(func,timeout){return setTimeout(function(){callUserCallback(func)},timeout)},getMimetype:function(name){return{"jpg":"image/jpeg","jpeg":"image/jpeg","png":"image/png","bmp":"image/bmp","ogg":"audio/ogg","wav":"audio/wav","mp3":"audio/mpeg"}[name.substr(name.lastIndexOf(".")+1)]},getUserMedia:function(func){if(!window.getUserMedia){window.getUserMedia=navigator["getUserMedia"]||navigator["mozGetUserMedia"]}window.getUserMedia(func)},getMovementX:function(event){return event["movementX"]||event["mozMovementX"]||event["webkitMovementX"]||0},getMovementY:function(event){return event["movementY"]||event["mozMovementY"]||event["webkitMovementY"]||0},getMouseWheelDelta:function(event){var delta=0;switch(event.type){case"DOMMouseScroll":delta=event.detail/3;break;case"mousewheel":delta=event.wheelDelta/120;break;case"wheel":delta=event.deltaY;switch(event.deltaMode){case 0:delta/=100;break;case 1:delta/=3;break;case 2:delta*=80;break;default:throw"unrecognized mouse wheel delta mode: "+event.deltaMode}break;default:throw"unrecognized mouse wheel event: "+event.type}return delta},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(event){if(Browser.pointerLock){if(event.type!="mousemove"&&"mozMovementX"in event){Browser.mouseMovementX=Browser.mouseMovementY=0}else{Browser.mouseMovementX=Browser.getMovementX(event);Browser.mouseMovementY=Browser.getMovementY(event)}if(typeof SDL!="undefined"){Browser.mouseX=SDL.mouseX+Browser.mouseMovementX;Browser.mouseY=SDL.mouseY+Browser.mouseMovementY}else{Browser.mouseX+=Browser.mouseMovementX;Browser.mouseY+=Browser.mouseMovementY}}else{var rect=Module["canvas"].getBoundingClientRect();var cw=Module["canvas"].width;var ch=Module["canvas"].height;var scrollX=typeof window.scrollX!=="undefined"?window.scrollX:window.pageXOffset;var scrollY=typeof window.scrollY!=="undefined"?window.scrollY:window.pageYOffset;assert(typeof scrollX!=="undefined"&&typeof scrollY!=="undefined","Unable to retrieve scroll position, mouse positions likely broken.");if(event.type==="touchstart"||event.type==="touchend"||event.type==="touchmove"){var touch=event.touch;if(touch===undefined){return}var adjustedX=touch.pageX-(scrollX+rect.left);var adjustedY=touch.pageY-(scrollY+rect.top);adjustedX=adjustedX*(cw/rect.width);adjustedY=adjustedY*(ch/rect.height);var coords={x:adjustedX,y:adjustedY};if(event.type==="touchstart"){Browser.lastTouches[touch.identifier]=coords;Browser.touches[touch.identifier]=coords}else if(event.type==="touchend"||event.type==="touchmove"){var last=Browser.touches[touch.identifier];if(!last)last=coords;Browser.lastTouches[touch.identifier]=last;Browser.touches[touch.identifier]=coords}return}var x=event.pageX-(scrollX+rect.left);var y=event.pageY-(scrollY+rect.top);x=x*(cw/rect.width);y=y*(ch/rect.height);Browser.mouseMovementX=x-Browser.mouseX;Browser.mouseMovementY=y-Browser.mouseY;Browser.mouseX=x;Browser.mouseY=y}},asyncLoad:function(url,onload,onerror,noRunDep){var dep=!noRunDep?getUniqueRunDependency("al "+url):"";readAsync(url,function(arrayBuffer){assert(arrayBuffer,'Loading data file "'+url+'" failed (no arrayBuffer).');onload(new Uint8Array(arrayBuffer));if(dep)removeRunDependency(dep)},function(event){if(onerror){onerror()}else{throw'Loading data file "'+url+'" failed.'}});if(dep)addRunDependency(dep)},resizeListeners:[],updateResizeListeners:function(){var canvas=Module["canvas"];Browser.resizeListeners.forEach(function(listener){listener(canvas.width,canvas.height)})},setCanvasSize:function(width,height,noUpdates){var canvas=Module["canvas"];Browser.updateCanvasDimensions(canvas,width,height);if(!noUpdates)Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags|8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL!="undefined"){var flags=HEAPU32[SDL.screen>>2];flags=flags&~8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module["canvas"]);Browser.updateResizeListeners()},updateCanvasDimensions:function(canvas,wNative,hNative){if(wNative&&hNative){canvas.widthNative=wNative;canvas.heightNative=hNative}else{wNative=canvas.widthNative;hNative=canvas.heightNative}var w=wNative;var h=hNative;if(Module["forcedAspectRatio"]&&Module["forcedAspectRatio"]>0){if(w/h<Module["forcedAspectRatio"]){w=Math.round(h*Module["forcedAspectRatio"])}else{h=Math.round(w/Module["forcedAspectRatio"])}}if((document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===canvas.parentNode&&typeof screen!="undefined"){var factor=Math.min(screen.width/w,screen.height/h);w=Math.round(w*factor);h=Math.round(h*factor)}if(Browser.resizeCanvas){if(canvas.width!=w)canvas.width=w;if(canvas.height!=h)canvas.height=h;if(typeof canvas.style!="undefined"){canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}else{if(canvas.width!=wNative)canvas.width=wNative;if(canvas.height!=hNative)canvas.height=hNative;if(typeof canvas.style!="undefined"){if(w!=wNative||h!=hNative){canvas.style.setProperty("width",w+"px","important");canvas.style.setProperty("height",h+"px","important")}else{canvas.style.removeProperty("width");canvas.style.removeProperty("height")}}}},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var handle=Browser.nextWgetRequestHandle;Browser.nextWgetRequestHandle++;return handle}};function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback(Module);continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){wasmTable.get(func)()}else{wasmTable.get(func)(callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}function demangle(func){warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling");return func}function demangleAll(text){var regex=/\b_Z[\w\d_]+/g;return text.replace(regex,function(x){var y=demangle(x);return x===y?x:y+" ["+x+"]"})}function jsStackTrace(){var error=new Error;if(!error.stack){try{throw new Error}catch(e){error=e}if(!error.stack){return"(no stack trace available)"}}return error.stack.toString()}function keepRuntimeAlive(){return noExitRuntime||runtimeKeepaliveCounter>0}function stackTrace(){var js=jsStackTrace();if(Module["extraStackTrace"])js+="\n"+Module["extraStackTrace"]();return demangleAll(js)}var ExceptionInfoAttrs={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function ___cxa_allocate_exception(size){return _malloc(size+ExceptionInfoAttrs.SIZE)+ExceptionInfoAttrs.SIZE}function _atexit(func,arg){}function ___cxa_atexit(a0,a1){return _atexit(a0,a1)}function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-ExceptionInfoAttrs.SIZE;this.set_type=function(type){HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]=type};this.get_type=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.TYPE_OFFSET>>2]};this.set_destructor=function(destructor){HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]=destructor};this.get_destructor=function(){return HEAP32[this.ptr+ExceptionInfoAttrs.DESTRUCTOR_OFFSET>>2]};this.set_refcount=function(refcount){HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=refcount};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]=caught};this.get_caught=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.CAUGHT_OFFSET>>0]!=0};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]=rethrown};this.get_rethrown=function(){return HEAP8[this.ptr+ExceptionInfoAttrs.RETHROWN_OFFSET>>0]!=0};this.init=function(type,destructor){this.set_type(type);this.set_destructor(destructor);this.set_refcount(0);this.set_caught(false);this.set_rethrown(false)};this.add_ref=function(){var value=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=value+1};this.release_ref=function(){var prev=HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2];HEAP32[this.ptr+ExceptionInfoAttrs.REFCOUNT_OFFSET>>2]=prev-1;assert(prev>0);return prev===1}}function CatchInfo(ptr){this.free=function(){_free(this.ptr);this.ptr=0};this.set_base_ptr=function(basePtr){HEAP32[this.ptr>>2]=basePtr};this.get_base_ptr=function(){return HEAP32[this.ptr>>2]};this.set_adjusted_ptr=function(adjustedPtr){var ptrSize=4;HEAP32[this.ptr+ptrSize>>2]=adjustedPtr};this.get_adjusted_ptr=function(){var ptrSize=4;return HEAP32[this.ptr+ptrSize>>2]};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_exception_info().get_type());if(isPointer){return HEAP32[this.get_base_ptr()>>2]}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.get_base_ptr()};this.get_exception_info=function(){return new ExceptionInfo(this.get_base_ptr())};if(ptr===undefined){this.ptr=_malloc(8);this.set_adjusted_ptr(0)}else{this.ptr=ptr}}var exceptionCaught=[];function exception_addRef(info){info.add_ref()}var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var catchInfo=new CatchInfo(ptr);var info=catchInfo.get_exception_info();if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--}info.set_rethrown(false);exceptionCaught.push(catchInfo);exception_addRef(info);return catchInfo.get_exception_ptr()}var exceptionLast=0;function ___cxa_free_exception(ptr){try{return _free(new ExceptionInfo(ptr).ptr)}catch(e){err("exception during cxa_free_exception: "+e)}}function exception_decRef(info){if(info.release_ref()&&!info.get_rethrown()){var destructor=info.get_destructor();if(destructor){wasmTable.get(destructor)(info.excPtr)}___cxa_free_exception(info.excPtr)}}function ___cxa_end_catch(){_setThrew(0);assert(exceptionCaught.length>0);var catchInfo=exceptionCaught.pop();exception_decRef(catchInfo.get_exception_info());catchInfo.free();exceptionLast=0}function ___resumeException(catchInfoPtr){var catchInfo=new CatchInfo(catchInfoPtr);var ptr=catchInfo.get_base_ptr();if(!exceptionLast){exceptionLast=ptr}catchInfo.free();throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_find_matching_catch_2(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_find_matching_catch_3(){var thrown=exceptionLast;if(!thrown){setTempRet0(0|0);return 0|0}var info=new ExceptionInfo(thrown);var thrownType=info.get_type();var catchInfo=new CatchInfo;catchInfo.set_base_ptr(thrown);if(!thrownType){setTempRet0(0|0);return catchInfo.ptr|0}var typeArray=Array.prototype.slice.call(arguments);var stackTop=stackSave();var exceptionThrowBuf=stackAlloc(4);HEAP32[exceptionThrowBuf>>2]=thrown;for(var i=0;i<typeArray.length;i++){var caughtType=typeArray[i];if(caughtType===0||caughtType===thrownType){break}if(___cxa_can_catch(caughtType,thrownType,exceptionThrowBuf)){var adjusted=HEAP32[exceptionThrowBuf>>2];if(thrown!==adjusted){catchInfo.set_adjusted_ptr(adjusted)}setTempRet0(caughtType|0);return catchInfo.ptr|0}}stackRestore(stackTop);setTempRet0(thrownType|0);return catchInfo.ptr|0}function ___cxa_rethrow(){var catchInfo=exceptionCaught.pop();if(!catchInfo){abort("no exception to throw")}var info=catchInfo.get_exception_info();var ptr=catchInfo.get_base_ptr();if(!info.get_rethrown()){exceptionCaught.push(catchInfo);info.set_rethrown(true);info.set_caught(false);uncaughtExceptionCount++}else{catchInfo.free()}exceptionLast=ptr;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ___cxa_thread_atexit(a0,a1){return _atexit(a0,a1)}function ___cxa_throw(ptr,type,destructor){var info=new ExceptionInfo(ptr);info.init(type,destructor);exceptionLast=ptr;uncaughtExceptionCount++;throw ptr+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function setErrNo(value){HEAP32[___errno_location()>>2]=value;return value}var PATH={splitPath:function(filename){var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)==="/",trailingSlash=path.substr(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path==="/")return"/";path=PATH.normalize(path);path=path.replace(/\/$/,"");var lastSlash=path.lastIndexOf("/");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join("/"))},join2:function(l,r){return PATH.normalize(l+"/"+r)}};function getRandomDevice(){if(typeof crypto==="object"&&typeof crypto["getRandomValues"]==="function"){var randomBuffer=new Uint8Array(1);return function(){crypto.getRandomValues(randomBuffer);return randomBuffer[0]}}else if(ENVIRONMENT_IS_NODE){try{var crypto_module=require("crypto");return function(){return crypto_module["randomBytes"](1)[0]}}catch(e){}}return function(){abort("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var PATH_FS={resolve:function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:FS.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:function(from,to){from=PATH_FS.resolve(from).substr(1);to=PATH_FS.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(dev,ops){TTY.ttys[dev]={input:[],output:[],ops:ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open:function(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close:function(stream){stream.tty.ops.flush(stream.tty)},flush:function(stream){stream.tty.ops.flush(stream.tty)},read:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length){stream.node.timestamp=Date.now()}return i}},default_tty_ops:{get_char:function(tty){if(!tty.input.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc?Buffer.alloc(BUFSIZE):new Buffer(BUFSIZE);var bytesRead=0;try{bytesRead=nodeFS.readSync(process.stdin.fd,buf,0,BUFSIZE,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}else{result=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\n"}}else if(typeof readline=="function"){result=readline();if(result!==null){result+="\n"}}if(!result){return null}tty.input=intArrayFromString(result,true)}return tty.input.shift()},put_char:function(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){out(UTF8ArrayToString(tty.output,0));tty.output=[]}}},default_tty1_ops:{put_char:function(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){err(UTF8ArrayToString(tty.output,0));tty.output=[]}}}};function mmapAlloc(size){var alignedSize=alignMemory(size,16384);var ptr=_malloc(alignedSize);while(size<alignedSize)HEAP8[ptr+size++]=0;return ptr}var MEMFS={ops_table:null,mount:function(mount){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.timestamp=Date.now();if(parent){parent.contents[name]=node;parent.timestamp=node.timestamp}return node},getFileDataAsTypedArray:function(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage:function(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage:function(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr:function(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.timestamp);attr.mtime=new Date(node.timestamp);attr.ctime=new Date(node.timestamp);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr:function(node,attr){if(attr.mode!==undefined){node.mode=attr.mode}if(attr.timestamp!==undefined){node.timestamp=attr.timestamp}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup:function(parent,name){throw FS.genericErrors[44]},mknod:function(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename:function(old_node,new_dir,new_name){if(FS.isDir(old_node.mode)){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}}delete old_node.parent.contents[old_node.name];old_node.parent.timestamp=Date.now();old_node.name=new_name;new_dir.contents[new_name]=old_node;new_dir.timestamp=old_node.parent.timestamp;old_node.parent=new_dir},unlink:function(parent,name){delete parent.contents[name];parent.timestamp=Date.now()},rmdir:function(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.timestamp=Date.now()},readdir:function(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries},symlink:function(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink:function(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read:function(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);assert(size>=0);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write:function(stream,buffer,offset,length,position,canOwn){assert(!(buffer instanceof ArrayBuffer));if(buffer.buffer===HEAP8.buffer){canOwn=false}if(!length)return 0;var node=stream.node;node.timestamp=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){assert(position===0,"canOwn must imply no weird position inside the file");node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length);node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length),position)}else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek:function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},allocate:function(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)},mmap:function(stream,address,length,position,prot,flags){if(address!==0){throw new FS.ErrnoError(28)}if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents.buffer===buffer){allocated=false;ptr=contents.byteOffset}else{if(position>0||position+length<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}allocated=true;ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}HEAP8.set(contents,ptr)}return{ptr:ptr,allocated:allocated}},msync:function(stream,buffer,offset,length,mmapFlags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(mmapFlags&2){return 0}var bytesWritten=MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};var ERRNO_MESSAGES={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"};var ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(path,opts){path=PATH_FS.resolve(FS.cwd(),path);opts=opts||{};if(!path)return{path:"",node:null};var defaults={follow_mount:true,recurse_count:0};for(var key in defaults){if(opts[key]===undefined){opts[key]=defaults[key]}}if(opts.recurse_count>8){throw new FS.ErrnoError(32)}var parts=PATH.normalizeArray(path.split("/").filter(function(p){return!!p}),false);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}current=FS.lookupNode(current,parts[i]);current_path=PATH.join2(current_path,parts[i]);if(FS.isMountpoint(current)){if(!islast||islast&&opts.follow_mount){current=current.mounted.root}}if(!islast||opts.follow){var count=0;while(FS.isLink(current.mode)){var link=FS.readlink(current_path);current_path=PATH_FS.resolve(PATH.dirname(current_path),link);var lookup=FS.lookupPath(current_path,{recurse_count:opts.recurse_count});current=lookup.node;if(count++>40){throw new FS.ErrnoError(32)}}}}return{path:current_path,node:current}},getPath:function(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?mount+"/"+path:mount+path}path=path?node.name+"/"+path:node.name;node=node.parent}},hashName:function(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode:function(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode:function(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode:function(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode,parent)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode:function(parent,name,mode,rdev){assert(typeof parent==="object");var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode:function(node){FS.hashRemoveNode(node)},isRoot:function(node){return node===node.parent},isMountpoint:function(node){return!!node.mounted},isFile:function(mode){return(mode&61440)===32768},isDir:function(mode){return(mode&61440)===16384},isLink:function(mode){return(mode&61440)===40960},isChrdev:function(mode){return(mode&61440)===8192},isBlkdev:function(mode){return(mode&61440)===24576},isFIFO:function(mode){return(mode&61440)===4096},isSocket:function(mode){return(mode&49152)===49152},flagModes:{"r":0,"r+":2,"w":577,"w+":578,"a":1089,"a+":1090},modeStringToFlags:function(str){var flags=FS.flagModes[str];if(typeof flags==="undefined"){throw new Error("Unknown file open mode: "+str)}return flags},flagsToPermissionString:function(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions:function(node,perms){if(FS.ignorePermissions){return 0}if(perms.indexOf("r")!==-1&&!(node.mode&292)){return 2}else if(perms.indexOf("w")!==-1&&!(node.mode&146)){return 2}else if(perms.indexOf("x")!==-1&&!(node.mode&73)){return 2}return 0},mayLookup:function(dir){var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate:function(dir,name){try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete:function(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen:function(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&512){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},MAX_OPEN_FDS:4096,nextfd:function(fd_start,fd_end){fd_start=fd_start||0;fd_end=fd_end||FS.MAX_OPEN_FDS;for(var fd=fd_start;fd<=fd_end;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStream:function(fd){return FS.streams[fd]},createStream:function(stream,fd_start,fd_end){if(!FS.FSStream){FS.FSStream=function(){};FS.FSStream.prototype={object:{get:function(){return this.node},set:function(val){this.node=val}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}}}var newStream=new FS.FSStream;for(var p in stream){newStream[p]=stream[p]}stream=newStream;var fd=FS.nextfd(fd_start,fd_end);stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream:function(fd){FS.streams[fd]=null},chrdev_stream_ops:{open:function(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;if(stream.stream_ops.open){stream.stream_ops.open(stream)}},llseek:function(){throw new FS.ErrnoError(70)}},major:function(dev){return dev>>8},minor:function(dev){return dev&255},makedev:function(ma,mi){return ma<<8|mi},registerDevice:function(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:function(dev){return FS.devices[dev]},getMounts:function(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push.apply(check,m.mounts)}return mounts},syncfs:function(populate,callback){if(typeof populate==="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach(function(mount){if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)})},mount:function(type,opts,mountpoint){if(typeof type==="string"){throw type}var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type:type,opts:opts,mountpoint:mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount:function(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach(function(hash){var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.indexOf(current.mount)!==-1){FS.destroyNode(current)}current=next}});node.mounted=null;var idx=node.mount.mounts.indexOf(mount);assert(idx!==-1);node.mount.mounts.splice(idx,1)},lookup:function(parent,name){return parent.node_ops.lookup(parent,name)},mknod:function(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name||name==="."||name===".."){throw new FS.ErrnoError(28)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},create:function(path,mode){mode=mode!==undefined?mode:438;mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir:function(path,mode){mode=mode!==undefined?mode:511;mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree:function(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev:function(path,mode,dev){if(typeof dev==="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink:function(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename:function(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](old_path,new_path)}}catch(e){err("FS.trackingDelegate['willMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name)}catch(e){throw e}finally{FS.hashAddNode(old_node)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](old_path,new_path)}catch(e){err("FS.trackingDelegate['onMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}},rmdir:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readdir:function(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;if(!node.node_ops.readdir){throw new FS.ErrnoError(54)}return node.node_ops.readdir(node)},unlink:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){err("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.unlink(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){err("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readlink:function(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return PATH_FS.resolve(FS.getPath(link.parent),link.node_ops.readlink(link))},stat:function(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;if(!node){throw new FS.ErrnoError(44)}if(!node.node_ops.getattr){throw new FS.ErrnoError(63)}return node.node_ops.getattr(node)},lstat:function(path){return FS.stat(path,true)},chmod:function(path,mode,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{mode:mode&4095|node.mode&~4095,timestamp:Date.now()})},lchmod:function(path,mode){FS.chmod(path,mode,true)},fchmod:function(fd,mode){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chmod(stream.node,mode)},chown:function(path,uid,gid,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{timestamp:Date.now()})},lchown:function(path,uid,gid){FS.chown(path,uid,gid,true)},fchown:function(fd,uid,gid){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}FS.chown(stream.node,uid,gid)},truncate:function(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}node.node_ops.setattr(node,{size:len,timestamp:Date.now()})},ftruncate:function(fd,len){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.truncate(stream.node,len)},utime:function(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;node.node_ops.setattr(node,{timestamp:Math.max(atime,mtime)})},open:function(path,flags,mode,fd_start,fd_end){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags==="string"?FS.modeStringToFlags(flags):flags;mode=typeof mode==="undefined"?438:mode;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;if(typeof path==="object"){node=path}else{path=PATH.normalize(path);try{var lookup=FS.lookupPath(path,{follow:!(flags&131072)});node=lookup.node}catch(e){}}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else{node=FS.mknod(path,mode,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512){FS.truncate(node,0)}flags&=~(128|512|131072);var stream=FS.createStream({node:node,path:FS.getPath(node),flags:flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false},fd_start,fd_end);if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(Module["logReadFiles"]&&!(flags&1)){if(!FS.readFiles)FS.readFiles={};if(!(path in FS.readFiles)){FS.readFiles[path]=1;err("FS.trackingDelegate error on read file: "+path)}}try{if(FS.trackingDelegate["onOpenFile"]){var trackingFlags=0;if((flags&2097155)!==1){trackingFlags|=FS.tracking.openFlags.READ}if((flags&2097155)!==0){trackingFlags|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](path,trackingFlags)}}catch(e){err("FS.trackingDelegate['onOpenFile']('"+path+"', flags) threw an exception: "+e.message)}return stream},close:function(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed:function(stream){return stream.fd===null},llseek:function(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read:function(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write:function(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;try{if(stream.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](stream.path)}catch(e){err("FS.trackingDelegate['onWriteToFile']('"+stream.path+"') threw an exception: "+e.message)}return bytesWritten},allocate:function(stream,offset,length){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(offset<0||length<=0){throw new FS.ErrnoError(28)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(43)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(138)}stream.stream_ops.allocate(stream,offset,length)},mmap:function(stream,address,length,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}return stream.stream_ops.mmap(stream,address,length,position,prot,flags)},msync:function(stream,buffer,offset,length,mmapFlags){if(!stream||!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},munmap:function(stream){return 0},ioctl:function(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile:function(path,opts){opts=opts||{};opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error('Invalid encoding type "'+opts.encoding+'"')}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf,0)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret},writeFile:function(path,data,opts){opts=opts||{};opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data==="string"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,undefined,opts.canOwn)}else if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{throw new Error("Unsupported data type")}FS.close(stream)},cwd:function(){return FS.currentPath},chdir:function(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories:function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(stream,buffer,offset,length,pos){return length}});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var random_device=getRandomDevice();FS.createDevice("/dev","random",random_device);FS.createDevice("/dev","urandom",random_device);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:function(){var node=FS.createNode(proc_self,"fd",16384|511,73);node.node_ops={lookup:function(parent,name){var fd=+name;var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return stream.path}}};ret.parent=ret;return ret}};return node}},{},"/proc/self/fd")},createStandardStreams:function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1);assert(stdin.fd===0,"invalid handle for stdin ("+stdin.fd+")");assert(stdout.fd===1,"invalid handle for stdout ("+stdout.fd+")");assert(stderr.fd===2,"invalid handle for stderr ("+stderr.fd+")")},ensureErrnoError:function(){if(FS.ErrnoError)return;FS.ErrnoError=function ErrnoError(errno,node){this.node=node;this.setErrno=function(errno){this.errno=errno;for(var key in ERRNO_CODES){if(ERRNO_CODES[key]===errno){this.code=key;break}}};this.setErrno(errno);this.message=ERRNO_MESSAGES[errno];if(this.stack){Object.defineProperty(this,"stack",{value:(new Error).stack,writable:true});this.stack=demangleAll(this.stack)}};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[44].forEach(function(code){FS.genericErrors[code]=new FS.ErrnoError(code);FS.genericErrors[code].stack="<generic error, no stack>"})},staticInit:function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={"MEMFS":MEMFS}},init:function(input,output,error){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=input||Module["stdin"];Module["stdout"]=output||Module["stdout"];Module["stderr"]=error||Module["stderr"];FS.createStandardStreams()},quit:function(){FS.init.initialized=false;var fflush=Module["_fflush"];if(fflush)fflush(0);for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}},getMode:function(canRead,canWrite){var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode},findObject:function(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(ret.exists){return ret.object}else{return null}},analyzePath:function(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath:function(parent,path,canRead,canWrite){parent=typeof parent==="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current},createFile:function(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile:function(parent,name,data,canRead,canWrite,canOwn){var path=name?PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name):parent;var mode=FS.getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data==="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}return node},createDevice:function(parent,name,input,output){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(!!input,!!output);if(!FS.createDevice.major)FS.createDevice.major=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open:function(stream){stream.seekable=false},close:function(stream){if(output&&output.buffer&&output.buffer.length){output(10)}},read:function(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length){stream.node.timestamp=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile:function(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(read_){try{obj.contents=intArrayFromString(read_(obj.url),true);obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}},createLazyFile:function(parent,name,url,canRead,canWrite){function LazyUint8Array(){this.lengthKnown=false;this.chunks=[]}LazyUint8Array.prototype.get=function LazyUint8Array_get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]};LazyUint8Array.prototype.setDataGetter=function LazyUint8Array_setDataGetter(getter){this.getter=getter};LazyUint8Array.prototype.cacheLength=function LazyUint8Array_cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=function(from,to){if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);if(typeof Uint8Array!="undefined")xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}else{return intArrayFromString(xhr.responseText||"",true)}};var lazyArray=this;lazyArray.setDataGetter(function(chunkNum){var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]==="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]==="undefined")throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;Object.defineProperties(lazyArray,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url:url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach(function(key){var fn=node.stream_ops[key];stream_ops[key]=function forceLoadLazyFile(){FS.forceLoadFile(node);return fn.apply(null,arguments)}});stream_ops.read=function stream_ops_read(stream,buffer,offset,length,position){FS.forceLoadFile(node);var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);assert(size>=0);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size};node.stream_ops=stream_ops;return node},createPreloadedFile:function(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish){Browser.init();var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency("cp "+fullname);function processData(byteArray){function finish(byteArray){if(preFinish)preFinish();if(!dontCreateFile){FS.createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}if(onload)onload();removeRunDependency(dep)}var handled=false;Module["preloadPlugins"].forEach(function(plugin){if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,function(){if(onerror)onerror();removeRunDependency(dep)});handled=true}});if(!handled)finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){Browser.asyncLoad(url,function(byteArray){processData(byteArray)},onerror)}else{processData(url)}},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=function openRequest_onupgradeneeded(){out("creating db");var db=openRequest.result;db.createObjectStore(FS.DB_STORE_NAME)};openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;var transaction=db.transaction([FS.DB_STORE_NAME],"readwrite");var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var putRequest=files.put(FS.analyzePath(path).object.contents,path);putRequest.onsuccess=function putRequest_onsuccess(){ok++;if(ok+fail==total)finish()};putRequest.onerror=function putRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},loadFilesFromDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=onerror;openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;try{var transaction=db.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){onerror(e);return}var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach(function(path){var getRequest=files.get(path);getRequest.onsuccess=function getRequest_onsuccess(){if(FS.analyzePath(path).exists){FS.unlink(path)}FS.createDataFile(PATH.dirname(path),PATH.basename(path),getRequest.result,true,true,true);ok++;if(ok+fail==total)finish()};getRequest.onerror=function getRequest_onerror(){fail++;if(ok+fail==total)finish()}});transaction.onerror=onerror};openRequest.onerror=onerror},absolutePath:function(){abort("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){abort("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){abort("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){abort("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){abort("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){abort("FS.standardizePath has been removed; use PATH.normalize instead")}};var SYSCALLS={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(dirfd,path,allowEmpty){if(path[0]==="/"){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=FS.getStream(dirfd);if(!dirstream)throw new FS.ErrnoError(8);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return PATH.join2(dir,path)},doStat:function(func,path,buf){try{var stat=func(path)}catch(e){if(e&&e.node&&PATH.normalize(path)!==PATH.normalize(FS.getPath(e.node))){return-54}throw e}HEAP32[buf>>2]=stat.dev;HEAP32[buf+4>>2]=0;HEAP32[buf+8>>2]=stat.ino;HEAP32[buf+12>>2]=stat.mode;HEAP32[buf+16>>2]=stat.nlink;HEAP32[buf+20>>2]=stat.uid;HEAP32[buf+24>>2]=stat.gid;HEAP32[buf+28>>2]=stat.rdev;HEAP32[buf+32>>2]=0;tempI64=[stat.size>>>0,(tempDouble=stat.size,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+40>>2]=tempI64[0],HEAP32[buf+44>>2]=tempI64[1];HEAP32[buf+48>>2]=4096;HEAP32[buf+52>>2]=stat.blocks;HEAP32[buf+56>>2]=stat.atime.getTime()/1e3|0;HEAP32[buf+60>>2]=0;HEAP32[buf+64>>2]=stat.mtime.getTime()/1e3|0;HEAP32[buf+68>>2]=0;HEAP32[buf+72>>2]=stat.ctime.getTime()/1e3|0;HEAP32[buf+76>>2]=0;tempI64=[stat.ino>>>0,(tempDouble=stat.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+80>>2]=tempI64[0],HEAP32[buf+84>>2]=tempI64[1];return 0},doMsync:function(addr,stream,len,flags,offset){var buffer=HEAPU8.slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},doMkdir:function(path,mode){path=PATH.normalize(path);if(path[path.length-1]==="/")path=path.substr(0,path.length-1);FS.mkdir(path,mode,0);return 0},doMknod:function(path,mode,dev){switch(mode&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}FS.mknod(path,mode,dev);return 0},doReadlink:function(path,buf,bufsize){if(bufsize<=0)return-28;var ret=FS.readlink(path);var len=Math.min(bufsize,lengthBytesUTF8(ret));var endChar=HEAP8[buf+len];stringToUTF8(ret,buf,bufsize+1);HEAP8[buf+len]=endChar;return len},doAccess:function(path,amode){if(amode&~7){return-28}var node;var lookup=FS.lookupPath(path,{follow:true});node=lookup.node;if(!node){return-44}var perms="";if(amode&4)perms+="r";if(amode&2)perms+="w";if(amode&1)perms+="x";if(perms&&FS.nodePermissions(node,perms)){return-2}return 0},doDup:function(path,flags,suggestFD){var suggest=FS.getStream(suggestFD);if(suggest)FS.close(suggest);return FS.open(path,flags,0,suggestFD,suggestFD).fd},doReadv:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break}return ret},doWritev:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr}return ret},varargs:undefined,get:function(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},getStreamFromFD:function(fd){var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(8);return stream},get64:function(low,high){if(low>=0)assert(high===0);else assert(high===-1);return low}};function ___sys_fcntl64(fd,cmd,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=SYSCALLS.get();if(arg<0){return-28}var newStream;newStream=FS.open(stream.path,stream.flags,0,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=SYSCALLS.get();stream.flags|=arg;return 0}case 12:{var arg=SYSCALLS.get();var offset=0;HEAP16[arg+offset>>1]=2;return 0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:setErrNo(28);return-1;default:{return-28}}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_fstat64(fd,buf){try{var stream=SYSCALLS.getStreamFromFD(fd);return SYSCALLS.doStat(FS.stat,stream.path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_ioctl(fd,op,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:case 21505:{if(!stream.tty)return-59;return 0}case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!stream.tty)return-59;return 0}case 21519:{if(!stream.tty)return-59;var argp=SYSCALLS.get();HEAP32[argp>>2]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21531:{var argp=SYSCALLS.get();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;return 0}case 21524:{if(!stream.tty)return-59;return 0}default:abort("bad ioctl syscall "+op)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function syscallMmap2(addr,len,prot,flags,fd,off){off<<=12;var ptr;var allocated=false;if((flags&16)!==0&&addr%16384!==0){return-28}if((flags&32)!==0){ptr=_memalign(16384,len);if(!ptr)return-48;_memset(ptr,0,len);allocated=true}else{var info=FS.getStream(fd);if(!info)return-8;var res=FS.mmap(info,addr,len,off,prot,flags);ptr=res.ptr;allocated=res.allocated}SYSCALLS.mappings[ptr]={malloc:ptr,len:len,allocated:allocated,fd:fd,prot:prot,flags:flags,offset:off};return ptr}function ___sys_mmap2(addr,len,prot,flags,fd,off){try{return syscallMmap2(addr,len,prot,flags,fd,off)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_mprotect(addr,len,size){return 0}function syscallMunmap(addr,len){if((addr|0)===-1||len===0){return-28}var info=SYSCALLS.mappings[addr];if(!info)return 0;if(len===info.len){var stream=FS.getStream(info.fd);if(stream){if(info.prot&2){SYSCALLS.doMsync(addr,stream,len,info.flags,info.offset)}FS.munmap(stream)}SYSCALLS.mappings[addr]=null;if(info.allocated){_free(info.malloc)}}return 0}function ___sys_munmap(addr,len){try{return syscallMunmap(addr,len)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_open(path,flags,varargs){SYSCALLS.varargs=varargs;try{var pathname=SYSCALLS.getStr(path);var mode=varargs?SYSCALLS.get():0;var stream=FS.open(pathname,flags,mode);return stream.fd}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___sys_stat64(path,buf){try{path=SYSCALLS.getStr(path);return SYSCALLS.doStat(FS.stat,path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var char_0=48;var char_9=57;function makeLegalFunctionName(name){if(undefined===name){return"_unknown"}name=name.replace(/[^a-zA-Z0-9_]/g,"$");var f=name.charCodeAt(0);if(f>=char_0&&f<=char_9){return"_"+name}else{return name}}function createNamedFunction(name,body){name=makeLegalFunctionName(name);return new Function("body","return function "+name+"() {\n"+'    "use strict";'+"    return body.apply(this, arguments);\n"+"};\n")(body)}var emval_free_list=[];var emval_handle_array=[{},{value:undefined},{value:null},{value:true},{value:false}];function count_emval_handles(){var count=0;for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){++count}}return count}function get_first_emval(){for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){return emval_handle_array[i]}}return null}function init_emval(){Module["count_emval_handles"]=count_emval_handles;Module["get_first_emval"]=get_first_emval}function __emval_register(value){switch(value){case undefined:{return 1}case null:{return 2}case true:{return 3}case false:{return 4}default:{var handle=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;emval_handle_array[handle]={refcount:1,value:value};return handle}}}function extendError(baseErrorType,errorName){var errorClass=createNamedFunction(errorName,function(message){this.name=errorName;this.message=message;var stack=new Error(message).stack;if(stack!==undefined){this.stack=this.toString()+"\n"+stack.replace(/^Error(:[^\n]*)?\n/,"")}});errorClass.prototype=Object.create(baseErrorType.prototype);errorClass.prototype.constructor=errorClass;errorClass.prototype.toString=function(){if(this.message===undefined){return this.name}else{return this.name+": "+this.message}};return errorClass}var PureVirtualError=undefined;function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i)}embind_charCodes=codes}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]]}return ret}function getInheritedInstanceCount(){return Object.keys(registeredInstances).length}function getLiveInheritedInstances(){var rv=[];for(var k in registeredInstances){if(registeredInstances.hasOwnProperty(k)){rv.push(registeredInstances[k])}}return rv}var deletionQueue=[];function flushPendingDeletes(){while(deletionQueue.length){var obj=deletionQueue.pop();obj.$$.deleteScheduled=false;obj["delete"]()}}var delayFunction=undefined;function setDelayFunction(fn){delayFunction=fn;if(deletionQueue.length&&delayFunction){delayFunction(flushPendingDeletes)}}function init_embind(){Module["getInheritedInstanceCount"]=getInheritedInstanceCount;Module["getLiveInheritedInstances"]=getLiveInheritedInstances;Module["flushPendingDeletes"]=flushPendingDeletes;Module["setDelayFunction"]=setDelayFunction}var registeredInstances={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message)}function getBasestPointer(class_,ptr){if(ptr===undefined){throwBindingError("ptr should not be undefined")}while(class_.baseClass){ptr=class_.upcast(ptr);class_=class_.baseClass}return ptr}function registerInheritedInstance(class_,ptr,instance){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){throwBindingError("Tried to register registered instance: "+ptr)}else{registeredInstances[ptr]=instance}}function requireHandle(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle)}return emval_handle_array[handle].value}var registeredTypes={};function getTypeName(type){var ptr=___getTypeName(type);var rv=readLatin1String(ptr);_free(ptr);return rv}function requireRegisteredType(rawType,humanName){var impl=registeredTypes[rawType];if(undefined===impl){throwBindingError(humanName+" has unknown type "+getTypeName(rawType))}return impl}function unregisterInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);if(registeredInstances.hasOwnProperty(ptr)){delete registeredInstances[ptr]}else{throwBindingError("Tried to unregister unregistered instance: "+ptr)}}function detachFinalizer(handle){}var finalizationGroup=false;function runDestructor($$){if($$.smartPtr){$$.smartPtrType.rawDestructor($$.smartPtr)}else{$$.ptrType.registeredClass.rawDestructor($$.ptr)}}function releaseClassHandle($$){$$.count.value-=1;var toDelete=0===$$.count.value;if(toDelete){runDestructor($$)}}function attachFinalizer(handle){if("undefined"===typeof FinalizationGroup){attachFinalizer=function(handle){return handle};return handle}finalizationGroup=new FinalizationGroup(function(iter){for(var result=iter.next();!result.done;result=iter.next()){var $$=result.value;if(!$$.ptr){console.warn("object already deleted: "+$$.ptr)}else{releaseClassHandle($$)}}});attachFinalizer=function(handle){finalizationGroup.register(handle,handle.$$,handle.$$);return handle};detachFinalizer=function(handle){finalizationGroup.unregister(handle.$$)};return attachFinalizer(handle)}function __embind_create_inheriting_constructor(constructorName,wrapperType,properties){constructorName=readLatin1String(constructorName);wrapperType=requireRegisteredType(wrapperType,"wrapper");properties=requireHandle(properties);var arraySlice=[].slice;var registeredClass=wrapperType.registeredClass;var wrapperPrototype=registeredClass.instancePrototype;var baseClass=registeredClass.baseClass;var baseClassPrototype=baseClass.instancePrototype;var baseConstructor=registeredClass.baseClass.constructor;var ctor=createNamedFunction(constructorName,function(){registeredClass.baseClass.pureVirtualFunctions.forEach(function(name){if(this[name]===baseClassPrototype[name]){throw new PureVirtualError("Pure virtual function "+name+" must be implemented in JavaScript")}}.bind(this));Object.defineProperty(this,"__parent",{value:wrapperPrototype});this["__construct"].apply(this,arraySlice.call(arguments))});wrapperPrototype["__construct"]=function __construct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __construct")}var inner=baseConstructor["implement"].apply(undefined,[this].concat(arraySlice.call(arguments)));detachFinalizer(inner);var $$=inner.$$;inner["notifyOnDestruction"]();$$.preservePointerOnDelete=true;Object.defineProperties(this,{$$:{value:$$}});attachFinalizer(this);registerInheritedInstance(registeredClass,$$.ptr,this)};wrapperPrototype["__destruct"]=function __destruct(){if(this===wrapperPrototype){throwBindingError("Pass correct 'this' to __destruct")}detachFinalizer(this);unregisterInheritedInstance(registeredClass,this.$$.ptr)};ctor.prototype=Object.create(wrapperPrototype);for(var p in properties){ctor.prototype[p]=properties[p]}return __emval_register(ctor)}var structRegistrations={};function runDestructors(destructors){while(destructors.length){var ptr=destructors.pop();var del=destructors.pop();del(ptr)}}function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAPU32[pointer>>2])}var awaitingDependencies={};var typeDependencies={};var InternalError=undefined;function throwInternalError(message){throw new InternalError(message)}function whenDependentTypesAreResolved(myTypes,dependentTypes,getTypeConverters){myTypes.forEach(function(type){typeDependencies[type]=dependentTypes});function onComplete(typeConverters){var myTypeConverters=getTypeConverters(typeConverters);if(myTypeConverters.length!==myTypes.length){throwInternalError("Mismatched type converter count")}for(var i=0;i<myTypes.length;++i){registerType(myTypes[i],myTypeConverters[i])}}var typeConverters=new Array(dependentTypes.length);var unregisteredTypes=[];var registered=0;dependentTypes.forEach(function(dt,i){if(registeredTypes.hasOwnProperty(dt)){typeConverters[i]=registeredTypes[dt]}else{unregisteredTypes.push(dt);if(!awaitingDependencies.hasOwnProperty(dt)){awaitingDependencies[dt]=[]}awaitingDependencies[dt].push(function(){typeConverters[i]=registeredTypes[dt];++registered;if(registered===unregisteredTypes.length){onComplete(typeConverters)}})}});if(0===unregisteredTypes.length){onComplete(typeConverters)}}function __embind_finalize_value_object(structType){var reg=structRegistrations[structType];delete structRegistrations[structType];var rawConstructor=reg.rawConstructor;var rawDestructor=reg.rawDestructor;var fieldRecords=reg.fields;var fieldTypes=fieldRecords.map(function(field){return field.getterReturnType}).concat(fieldRecords.map(function(field){return field.setterArgumentType}));whenDependentTypesAreResolved([structType],fieldTypes,function(fieldTypes){var fields={};fieldRecords.forEach(function(field,i){var fieldName=field.fieldName;var getterReturnType=fieldTypes[i];var getter=field.getter;var getterContext=field.getterContext;var setterArgumentType=fieldTypes[i+fieldRecords.length];var setter=field.setter;var setterContext=field.setterContext;fields[fieldName]={read:function(ptr){return getterReturnType["fromWireType"](getter(getterContext,ptr))},write:function(ptr,o){var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,o));runDestructors(destructors)}}});return[{name:reg.name,"fromWireType":function(ptr){var rv={};for(var i in fields){rv[i]=fields[i].read(ptr)}rawDestructor(ptr);return rv},"toWireType":function(destructors,o){for(var fieldName in fields){if(!(fieldName in o)){throw new TypeError('Missing field:  "'+fieldName+'"')}}var ptr=rawConstructor();for(fieldName in fields){fields[fieldName].write(ptr,o[fieldName])}if(destructors!==null){destructors.push(rawDestructor,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:rawDestructor}]})}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size)}}function registerType(rawType,registeredInstance,options){options=options||{};if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance")}var name=registeredInstance.name;if(!rawType){throwBindingError('type "'+name+'" must have a positive integer typeid pointer')}if(registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations){return}else{throwBindingError("Cannot register type '"+name+"' twice")}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){cb()})}}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(wt){return!!wt},"toWireType":function(destructors,o){return o?trueValue:falseValue},"argPackAdvance":8,"readValueFromPointer":function(pointer){var heap;if(size===1){heap=HEAP8}else if(size===2){heap=HEAP16}else if(size===4){heap=HEAP32}else{throw new TypeError("Unknown boolean type size: "+name)}return this["fromWireType"](heap[pointer>>shift])},destructorFunction:null})}function ClassHandle_isAliasOf(other){if(!(this instanceof ClassHandle)){return false}if(!(other instanceof ClassHandle)){return false}var leftClass=this.$$.ptrType.registeredClass;var left=this.$$.ptr;var rightClass=other.$$.ptrType.registeredClass;var right=other.$$.ptr;while(leftClass.baseClass){left=leftClass.upcast(left);leftClass=leftClass.baseClass}while(rightClass.baseClass){right=rightClass.upcast(right);rightClass=rightClass.baseClass}return leftClass===rightClass&&left===right}function shallowCopyInternalPointer(o){return{count:o.count,deleteScheduled:o.deleteScheduled,preservePointerOnDelete:o.preservePointerOnDelete,ptr:o.ptr,ptrType:o.ptrType,smartPtr:o.smartPtr,smartPtrType:o.smartPtrType}}function throwInstanceAlreadyDeleted(obj){function getInstanceTypeName(handle){return handle.$$.ptrType.registeredClass.name}throwBindingError(getInstanceTypeName(obj)+" instance already deleted")}function ClassHandle_clone(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.preservePointerOnDelete){this.$$.count.value+=1;return this}else{var clone=attachFinalizer(Object.create(Object.getPrototypeOf(this),{$$:{value:shallowCopyInternalPointer(this.$$)}}));clone.$$.count.value+=1;clone.$$.deleteScheduled=false;return clone}}function ClassHandle_delete(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}detachFinalizer(this);releaseClassHandle(this.$$);if(!this.$$.preservePointerOnDelete){this.$$.smartPtr=undefined;this.$$.ptr=undefined}}function ClassHandle_isDeleted(){return!this.$$.ptr}function ClassHandle_deleteLater(){if(!this.$$.ptr){throwInstanceAlreadyDeleted(this)}if(this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete){throwBindingError("Object already scheduled for deletion")}deletionQueue.push(this);if(deletionQueue.length===1&&delayFunction){delayFunction(flushPendingDeletes)}this.$$.deleteScheduled=true;return this}function init_ClassHandle(){ClassHandle.prototype["isAliasOf"]=ClassHandle_isAliasOf;ClassHandle.prototype["clone"]=ClassHandle_clone;ClassHandle.prototype["delete"]=ClassHandle_delete;ClassHandle.prototype["isDeleted"]=ClassHandle_isDeleted;ClassHandle.prototype["deleteLater"]=ClassHandle_deleteLater}function ClassHandle(){}var registeredPointers={};function ensureOverloadTable(proto,methodName,humanName){if(undefined===proto[methodName].overloadTable){var prevFunc=proto[methodName];proto[methodName]=function(){if(!proto[methodName].overloadTable.hasOwnProperty(arguments.length)){throwBindingError("Function '"+humanName+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+proto[methodName].overloadTable+")!")}return proto[methodName].overloadTable[arguments.length].apply(this,arguments)};proto[methodName].overloadTable=[];proto[methodName].overloadTable[prevFunc.argCount]=prevFunc}}function exposePublicSymbol(name,value,numArguments){if(Module.hasOwnProperty(name)){if(undefined===numArguments||undefined!==Module[name].overloadTable&&undefined!==Module[name].overloadTable[numArguments]){throwBindingError("Cannot register public name '"+name+"' twice")}ensureOverloadTable(Module,name,name);if(Module.hasOwnProperty(numArguments)){throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+numArguments+")!")}Module[name].overloadTable[numArguments]=value}else{Module[name]=value;if(undefined!==numArguments){Module[name].numArguments=numArguments}}}function RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast){this.name=name;this.constructor=constructor;this.instancePrototype=instancePrototype;this.rawDestructor=rawDestructor;this.baseClass=baseClass;this.getActualType=getActualType;this.upcast=upcast;this.downcast=downcast;this.pureVirtualFunctions=[]}function upcastPointer(ptr,ptrClass,desiredClass){while(ptrClass!==desiredClass){if(!ptrClass.upcast){throwBindingError("Expected null or instance of "+desiredClass.name+", got an instance of "+ptrClass.name)}ptr=ptrClass.upcast(ptr);ptrClass=ptrClass.baseClass}return ptr}function constNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function genericPointerToWireType(destructors,handle){var ptr;if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}if(this.isSmartPointer){ptr=this.rawConstructor();if(destructors!==null){destructors.push(this.rawDestructor,ptr)}return ptr}else{return 0}}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(!this.isConst&&handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);if(this.isSmartPointer){if(undefined===handle.$$.smartPtr){throwBindingError("Passing raw pointer to smart pointer is illegal")}switch(this.sharingPolicy){case 0:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{throwBindingError("Cannot convert argument of type "+(handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name)+" to parameter type "+this.name)}break;case 1:ptr=handle.$$.smartPtr;break;case 2:if(handle.$$.smartPtrType===this){ptr=handle.$$.smartPtr}else{var clonedHandle=handle["clone"]();ptr=this.rawShare(ptr,__emval_register(function(){clonedHandle["delete"]()}));if(destructors!==null){destructors.push(this.rawDestructor,ptr)}}break;default:throwBindingError("Unsupporting sharing policy")}}return ptr}function nonConstNoSmartPtrRawPointerToWireType(destructors,handle){if(handle===null){if(this.isReference){throwBindingError("null is not a valid "+this.name)}return 0}if(!handle.$$){throwBindingError('Cannot pass "'+_embind_repr(handle)+'" as a '+this.name)}if(!handle.$$.ptr){throwBindingError("Cannot pass deleted object as a pointer of type "+this.name)}if(handle.$$.ptrType.isConst){throwBindingError("Cannot convert argument of type "+handle.$$.ptrType.name+" to parameter type "+this.name)}var handleClass=handle.$$.ptrType.registeredClass;var ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass);return ptr}function RegisteredPointer_getPointee(ptr){if(this.rawGetPointee){ptr=this.rawGetPointee(ptr)}return ptr}function RegisteredPointer_destructor(ptr){if(this.rawDestructor){this.rawDestructor(ptr)}}function RegisteredPointer_deleteObject(handle){if(handle!==null){handle["delete"]()}}function downcastPointer(ptr,ptrClass,desiredClass){if(ptrClass===desiredClass){return ptr}if(undefined===desiredClass.baseClass){return null}var rv=downcastPointer(ptr,ptrClass,desiredClass.baseClass);if(rv===null){return null}return desiredClass.downcast(rv)}function getInheritedInstance(class_,ptr){ptr=getBasestPointer(class_,ptr);return registeredInstances[ptr]}function makeClassHandle(prototype,record){if(!record.ptrType||!record.ptr){throwInternalError("makeClassHandle requires ptr and ptrType")}var hasSmartPtrType=!!record.smartPtrType;var hasSmartPtr=!!record.smartPtr;if(hasSmartPtrType!==hasSmartPtr){throwInternalError("Both smartPtrType and smartPtr must be specified")}record.count={value:1};return attachFinalizer(Object.create(prototype,{$$:{value:record}}))}function RegisteredPointer_fromWireType(ptr){var rawPointer=this.getPointee(ptr);if(!rawPointer){this.destructor(ptr);return null}var registeredInstance=getInheritedInstance(this.registeredClass,rawPointer);if(undefined!==registeredInstance){if(0===registeredInstance.$$.count.value){registeredInstance.$$.ptr=rawPointer;registeredInstance.$$.smartPtr=ptr;return registeredInstance["clone"]()}else{var rv=registeredInstance["clone"]();this.destructor(ptr);return rv}}function makeDefaultHandle(){if(this.isSmartPointer){return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:rawPointer,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this,ptr:ptr})}}var actualType=this.registeredClass.getActualType(rawPointer);var registeredPointerRecord=registeredPointers[actualType];if(!registeredPointerRecord){return makeDefaultHandle.call(this)}var toType;if(this.isConst){toType=registeredPointerRecord.constPointerType}else{toType=registeredPointerRecord.pointerType}var dp=downcastPointer(rawPointer,this.registeredClass,toType.registeredClass);if(dp===null){return makeDefaultHandle.call(this)}if(this.isSmartPointer){return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp,smartPtrType:this,smartPtr:ptr})}else{return makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp})}}function init_RegisteredPointer(){RegisteredPointer.prototype.getPointee=RegisteredPointer_getPointee;RegisteredPointer.prototype.destructor=RegisteredPointer_destructor;RegisteredPointer.prototype["argPackAdvance"]=8;RegisteredPointer.prototype["readValueFromPointer"]=simpleReadValueFromPointer;RegisteredPointer.prototype["deleteObject"]=RegisteredPointer_deleteObject;RegisteredPointer.prototype["fromWireType"]=RegisteredPointer_fromWireType}function RegisteredPointer(name,registeredClass,isReference,isConst,isSmartPointer,pointeeType,sharingPolicy,rawGetPointee,rawConstructor,rawShare,rawDestructor){this.name=name;this.registeredClass=registeredClass;this.isReference=isReference;this.isConst=isConst;this.isSmartPointer=isSmartPointer;this.pointeeType=pointeeType;this.sharingPolicy=sharingPolicy;this.rawGetPointee=rawGetPointee;this.rawConstructor=rawConstructor;this.rawShare=rawShare;this.rawDestructor=rawDestructor;if(!isSmartPointer&&registeredClass.baseClass===undefined){if(isConst){this["toWireType"]=constNoSmartPtrRawPointerToWireType;this.destructorFunction=null}else{this["toWireType"]=nonConstNoSmartPtrRawPointerToWireType;this.destructorFunction=null}}else{this["toWireType"]=genericPointerToWireType}}function replacePublicSymbol(name,value,numArguments){if(!Module.hasOwnProperty(name)){throwInternalError("Replacing nonexistant public symbol")}if(undefined!==Module[name].overloadTable&&undefined!==numArguments){Module[name].overloadTable[numArguments]=value}else{Module[name]=value;Module[name].argCount=numArguments}}function dynCallLegacy(sig,ptr,args){assert("dynCall_"+sig in Module,"bad function pointer type - no table for sig '"+sig+"'");if(args&&args.length){assert(args.length===sig.substring(1).replace(/j/g,"--").length)}else{assert(sig.length==1)}var f=Module["dynCall_"+sig];return args&&args.length?f.apply(null,[ptr].concat(args)):f.call(null,ptr)}function dynCall(sig,ptr,args){if(sig.indexOf("j")!=-1){return dynCallLegacy(sig,ptr,args)}assert(wasmTable.get(ptr),"missing table entry in dynCall: "+ptr);return wasmTable.get(ptr).apply(null,args)}function getDynCaller(sig,ptr){assert(sig.indexOf("j")>=0,"getDynCaller should only be called with i64 sigs");var argCache=[];return function(){argCache.length=arguments.length;for(var i=0;i<arguments.length;i++){argCache[i]=arguments[i]}return dynCall(sig,ptr,argCache)}}function embind__requireFunction(signature,rawFunction){signature=readLatin1String(signature);function makeDynCaller(){if(signature.indexOf("j")!=-1){return getDynCaller(signature,rawFunction)}return wasmTable.get(rawFunction)}var fp=makeDynCaller();if(typeof fp!=="function"){throwBindingError("unknown function pointer with signature "+signature+": "+rawFunction)}return fp}var UnboundTypeError=undefined;function throwUnboundTypeError(message,types){var unboundTypes=[];var seen={};function visit(type){if(seen[type]){return}if(registeredTypes[type]){return}if(typeDependencies[type]){typeDependencies[type].forEach(visit);return}unboundTypes.push(type);seen[type]=true}types.forEach(visit);throw new UnboundTypeError(message+": "+unboundTypes.map(getTypeName).join([", "]))}function __embind_register_class(rawType,rawPointerType,rawConstPointerType,baseClassRawType,getActualTypeSignature,getActualType,upcastSignature,upcast,downcastSignature,downcast,name,destructorSignature,rawDestructor){name=readLatin1String(name);getActualType=embind__requireFunction(getActualTypeSignature,getActualType);if(upcast){upcast=embind__requireFunction(upcastSignature,upcast)}if(downcast){downcast=embind__requireFunction(downcastSignature,downcast)}rawDestructor=embind__requireFunction(destructorSignature,rawDestructor);var legalFunctionName=makeLegalFunctionName(name);exposePublicSymbol(legalFunctionName,function(){throwUnboundTypeError("Cannot construct "+name+" due to unbound types",[baseClassRawType])});whenDependentTypesAreResolved([rawType,rawPointerType,rawConstPointerType],baseClassRawType?[baseClassRawType]:[],function(base){base=base[0];var baseClass;var basePrototype;if(baseClassRawType){baseClass=base.registeredClass;basePrototype=baseClass.instancePrototype}else{basePrototype=ClassHandle.prototype}var constructor=createNamedFunction(legalFunctionName,function(){if(Object.getPrototypeOf(this)!==instancePrototype){throw new BindingError("Use 'new' to construct "+name)}if(undefined===registeredClass.constructor_body){throw new BindingError(name+" has no accessible constructor")}var body=registeredClass.constructor_body[arguments.length];if(undefined===body){throw new BindingError("Tried to invoke ctor of "+name+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(registeredClass.constructor_body).toString()+") parameters instead!")}return body.apply(this,arguments)});var instancePrototype=Object.create(basePrototype,{constructor:{value:constructor}});constructor.prototype=instancePrototype;var registeredClass=new RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast);var referenceConverter=new RegisteredPointer(name,registeredClass,true,false,false);var pointerConverter=new RegisteredPointer(name+"*",registeredClass,false,false,false);var constPointerConverter=new RegisteredPointer(name+" const*",registeredClass,false,true,false);registeredPointers[rawType]={pointerType:pointerConverter,constPointerType:constPointerConverter};replacePublicSymbol(legalFunctionName,constructor);return[referenceConverter,pointerConverter,constPointerConverter]})}function new_(constructor,argumentList){if(!(constructor instanceof Function)){throw new TypeError("new_ called with constructor type "+typeof constructor+" which is not a function")}var dummy=createNamedFunction(constructor.name||"unknownFunctionName",function(){});dummy.prototype=constructor.prototype;var obj=new dummy;var r=constructor.apply(obj,argumentList);return r instanceof Object?r:obj}function craftInvokerFunction(humanName,argTypes,classType,cppInvokerFunc,cppTargetFunc){var argCount=argTypes.length;if(argCount<2){throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!")}var isClassMethodFunc=argTypes[1]!==null&&classType!==null;var needsDestructorStack=false;for(var i=1;i<argTypes.length;++i){if(argTypes[i]!==null&&argTypes[i].destructorFunction===undefined){needsDestructorStack=true;break}}var returns=argTypes[0].name!=="void";var argsList="";var argsListWired="";for(var i=0;i<argCount-2;++i){argsList+=(i!==0?", ":"")+"arg"+i;argsListWired+=(i!==0?", ":"")+"arg"+i+"Wired"}var invokerFnBody="return function "+makeLegalFunctionName(humanName)+"("+argsList+") {\n"+"if (arguments.length !== "+(argCount-2)+") {\n"+"throwBindingError('function "+humanName+" called with ' + arguments.length + ' arguments, expected "+(argCount-2)+" args!');\n"+"}\n";if(needsDestructorStack){invokerFnBody+="var destructors = [];\n"}var dtorStack=needsDestructorStack?"destructors":"null";var args1=["throwBindingError","invoker","fn","runDestructors","retType","classParam"];var args2=[throwBindingError,cppInvokerFunc,cppTargetFunc,runDestructors,argTypes[0],argTypes[1]];if(isClassMethodFunc){invokerFnBody+="var thisWired = classParam.toWireType("+dtorStack+", this);\n"}for(var i=0;i<argCount-2;++i){invokerFnBody+="var arg"+i+"Wired = argType"+i+".toWireType("+dtorStack+", arg"+i+"); // "+argTypes[i+2].name+"\n";args1.push("argType"+i);args2.push(argTypes[i+2])}if(isClassMethodFunc){argsListWired="thisWired"+(argsListWired.length>0?", ":"")+argsListWired}invokerFnBody+=(returns?"var rv = ":"")+"invoker(fn"+(argsListWired.length>0?", ":"")+argsListWired+");\n";if(needsDestructorStack){invokerFnBody+="runDestructors(destructors);\n"}else{for(var i=isClassMethodFunc?1:2;i<argTypes.length;++i){var paramName=i===1?"thisWired":"arg"+(i-2)+"Wired";if(argTypes[i].destructorFunction!==null){invokerFnBody+=paramName+"_dtor("+paramName+"); // "+argTypes[i].name+"\n";args1.push(paramName+"_dtor");args2.push(argTypes[i].destructorFunction)}}}if(returns){invokerFnBody+="var ret = retType.fromWireType(rv);\n"+"return ret;\n"}else{}invokerFnBody+="}\n";args1.push(invokerFnBody);var invokerFunction=new_(Function,args1).apply(null,args2);return invokerFunction}function heap32VectorToArray(count,firstElement){var array=[];for(var i=0;i<count;i++){array.push(HEAP32[(firstElement>>2)+i])}return array}function __embind_register_class_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,fn){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.constructor;if(undefined===proto[methodName]){unboundTypesHandler.argCount=argCount-1;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-1]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));var func=craftInvokerFunction(humanName,invokerArgsArray,null,rawInvoker,fn);if(undefined===proto[methodName].overloadTable){func.argCount=argCount-1;proto[methodName]=func}else{proto[methodName].overloadTable[argCount-1]=func}return[]});return[]})}function __embind_register_class_constructor(rawClassType,argCount,rawArgTypesAddr,invokerSignature,invoker,rawConstructor){assert(argCount>0);var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);invoker=embind__requireFunction(invokerSignature,invoker);var args=[rawConstructor];var destructors=[];whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName="constructor "+classType.name;if(undefined===classType.registeredClass.constructor_body){classType.registeredClass.constructor_body=[]}if(undefined!==classType.registeredClass.constructor_body[argCount-1]){throw new BindingError("Cannot register multiple constructors with identical number of parameters ("+(argCount-1)+") for class '"+classType.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!")}classType.registeredClass.constructor_body[argCount-1]=function unboundTypeHandler(){throwUnboundTypeError("Cannot construct "+classType.name+" due to unbound types",rawArgTypes)};whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){classType.registeredClass.constructor_body[argCount-1]=function constructor_body(){if(arguments.length!==argCount-1){throwBindingError(humanName+" called with "+arguments.length+" arguments, expected "+(argCount-1))}destructors.length=0;args.length=argCount;for(var i=1;i<argCount;++i){args[i]=argTypes[i]["toWireType"](destructors,arguments[i-1])}var ptr=invoker.apply(null,args);runDestructors(destructors);return argTypes[0]["fromWireType"](ptr)};return[]});return[]})}function __embind_register_class_function(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,context,isPureVirtual){var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName);rawInvoker=embind__requireFunction(invokerSignature,rawInvoker);whenDependentTypesAreResolved([],[rawClassType],function(classType){classType=classType[0];var humanName=classType.name+"."+methodName;if(isPureVirtual){classType.registeredClass.pureVirtualFunctions.push(methodName)}function unboundTypesHandler(){throwUnboundTypeError("Cannot call "+humanName+" due to unbound types",rawArgTypes)}var proto=classType.registeredClass.instancePrototype;var method=proto[methodName];if(undefined===method||undefined===method.overloadTable&&method.className!==classType.name&&method.argCount===argCount-2){unboundTypesHandler.argCount=argCount-2;unboundTypesHandler.className=classType.name;proto[methodName]=unboundTypesHandler}else{ensureOverloadTable(proto,methodName,humanName);proto[methodName].overloadTable[argCount-2]=unboundTypesHandler}whenDependentTypesAreResolved([],rawArgTypes,function(argTypes){var memberFunction=craftInvokerFunction(humanName,argTypes,classType,rawInvoker,context);if(undefined===proto[methodName].overloadTable){memberFunction.argCount=argCount-2;proto[methodName]=memberFunction}else{proto[methodName].overloadTable[argCount-2]=memberFunction}return[]});return[]})}function validateThis(this_,classType,humanName){if(!(this_ instanceof Object)){throwBindingError(humanName+' with invalid "this": '+this_)}if(!(this_ instanceof classType.registeredClass.constructor)){throwBindingError(humanName+' incompatible with "this" of type '+this_.constructor.name)}if(!this_.$$.ptr){throwBindingError("cannot call emscripten binding method "+humanName+" on deleted object")}return upcastPointer(this_.$$.ptr,this_.$$.ptrType.registeredClass,classType.registeredClass)}function __embind_register_class_property(classType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){fieldName=readLatin1String(fieldName);getter=embind__requireFunction(getterSignature,getter);whenDependentTypesAreResolved([],[classType],function(classType){classType=classType[0];var humanName=classType.name+"."+fieldName;var desc={get:function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])},enumerable:true,configurable:true};if(setter){desc.set=function(){throwUnboundTypeError("Cannot access "+humanName+" due to unbound types",[getterReturnType,setterArgumentType])}}else{desc.set=function(v){throwBindingError(humanName+" is a read-only property")}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);whenDependentTypesAreResolved([],setter?[getterReturnType,setterArgumentType]:[getterReturnType],function(types){var getterReturnType=types[0];var desc={get:function(){var ptr=validateThis(this,classType,humanName+" getter");return getterReturnType["fromWireType"](getter(getterContext,ptr))},enumerable:true};if(setter){setter=embind__requireFunction(setterSignature,setter);var setterArgumentType=types[1];desc.set=function(v){var ptr=validateThis(this,classType,humanName+" setter");var destructors=[];setter(setterContext,ptr,setterArgumentType["toWireType"](destructors,v));runDestructors(destructors)}}Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc);return[]});return[]})}function __emval_decref(handle){if(handle>4&&0===--emval_handle_array[handle].refcount){emval_handle_array[handle]=undefined;emval_free_list.push(handle)}}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(handle){var rv=emval_handle_array[handle].value;__emval_decref(handle);return rv},"toWireType":function(destructors,value){return __emval_register(value)},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null})}function _embind_repr(v){if(v===null){return"null"}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString()}else{return""+v}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2])};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3])};default:throw new TypeError("Unknown float type: "+name)}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(value){return value},"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}return value},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null})}function __embind_register_function(name,argCount,rawArgTypesAddr,signature,rawInvoker,fn){var argTypes=heap32VectorToArray(argCount,rawArgTypesAddr);name=readLatin1String(name);rawInvoker=embind__requireFunction(signature,rawInvoker);exposePublicSymbol(name,function(){throwUnboundTypeError("Cannot call "+name+" due to unbound types",argTypes)},argCount-1);whenDependentTypesAreResolved([],argTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));replacePublicSymbol(name,craftInvokerFunction(name,invokerArgsArray,null,rawInvoker,fn),argCount-1);return[]})}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer]}:function readU8FromPointer(pointer){return HEAPU8[pointer]};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1]}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1]};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2]}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2]};default:throw new TypeError("Unknown integer type: "+name)}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295}var shift=getShiftFromSize(size);var fromWireType=function(value){return value};if(minRange===0){var bitshift=32-8*size;fromWireType=function(value){return value<<bitshift>>>bitshift}}var isUnsignedType=name.indexOf("unsigned")!=-1;registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":function(destructors,value){if(typeof value!=="number"&&typeof value!=="boolean"){throw new TypeError('Cannot convert "'+_embind_repr(value)+'" to '+this.name)}if(value<minRange||value>maxRange){throw new TypeError('Passing a number "'+_embind_repr(value)+'" from JS side to C/C++ side to an argument of type "'+name+'", which is outside the valid range ['+minRange+", "+maxRange+"]!")}return isUnsignedType?value>>>0:value|0},"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null})}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(buffer,data,size)}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true})}function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var str;if(stdStringIsUTF8){var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+1}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[value+4+i])}str=a.join("")}_free(value);return str},"toWireType":function(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value)}var getLength;var valueIsOfTypeString=typeof value==="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string")}if(stdStringIsUTF8&&valueIsOfTypeString){getLength=function(){return lengthBytesUTF8(value)}}else{getLength=function(){return value.length}}var length=getLength();var ptr=_malloc(4+length+1);HEAPU32[ptr>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr+4,length+1)}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits")}HEAPU8[ptr+4+i]=charCode}}else{for(var i=0;i<length;++i){HEAPU8[ptr+4+i]=value[i]}}}if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function(){return HEAPU16};shift=1}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function(){return HEAPU32};shift=2}registerType(rawType,{name:name,"fromWireType":function(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+charSize}}_free(value);return str},"toWireType":function(destructors,value){if(!(typeof value==="string")){throwBindingError("Cannot pass non-string to C++ string type "+name)}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_value_object(rawType,name,constructorSignature,rawConstructor,destructorSignature,rawDestructor){structRegistrations[rawType]={name:readLatin1String(name),rawConstructor:embind__requireFunction(constructorSignature,rawConstructor),rawDestructor:embind__requireFunction(destructorSignature,rawDestructor),fields:[]}}function __embind_register_value_object_field(structType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext){structRegistrations[structType].fields.push({fieldName:readLatin1String(fieldName),getterReturnType:getterReturnType,getter:embind__requireFunction(getterSignature,getter),getterContext:getterContext,setterArgumentType:setterArgumentType,setter:embind__requireFunction(setterSignature,setter),setterContext:setterContext})}function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function(){return undefined},"toWireType":function(destructors,o){return undefined}})}var emval_symbols={};function getStringOrSymbol(address){var symbol=emval_symbols[address];if(symbol===undefined){return readLatin1String(address)}else{return symbol}}var emval_methodCallers=[];function __emval_call_void_method(caller,handle,methodName,args){caller=emval_methodCallers[caller];handle=requireHandle(handle);methodName=getStringOrSymbol(methodName);caller(handle,methodName,null,args)}function __emval_addMethodCaller(caller){var id=emval_methodCallers.length;emval_methodCallers.push(caller);return id}function __emval_lookupTypes(argCount,argTypes){var a=new Array(argCount);for(var i=0;i<argCount;++i){a[i]=requireRegisteredType(HEAP32[(argTypes>>2)+i],"parameter "+i)}return a}function __emval_get_method_caller(argCount,argTypes){var types=__emval_lookupTypes(argCount,argTypes);var retType=types[0];var signatureName=retType.name+"_$"+types.slice(1).map(function(t){return t.name}).join("_")+"$";var params=["retType"];var args=[retType];var argsList="";for(var i=0;i<argCount-1;++i){argsList+=(i!==0?", ":"")+"arg"+i;params.push("argType"+i);args.push(types[1+i])}var functionName=makeLegalFunctionName("methodCaller_"+signatureName);var functionBody="return function "+functionName+"(handle, name, destructors, args) {\n";var offset=0;for(var i=0;i<argCount-1;++i){functionBody+="    var arg"+i+" = argType"+i+".readValueFromPointer(args"+(offset?"+"+offset:"")+");\n";offset+=types[i+1]["argPackAdvance"]}functionBody+="    var rv = handle[name]("+argsList+");\n";for(var i=0;i<argCount-1;++i){if(types[i+1]["deleteObject"]){functionBody+="    argType"+i+".deleteObject(arg"+i+");\n"}}if(!retType.isVoid){functionBody+="    return retType.toWireType(destructors, rv);\n"}functionBody+="};\n";params.push(functionBody);var invokerFunction=new_(Function,params).apply(null,args);return __emval_addMethodCaller(invokerFunction)}function __emval_incref(handle){if(handle>4){emval_handle_array[handle].refcount+=1}}function __emval_take_value(type,argv){type=requireRegisteredType(type,"_emval_take_value");var v=type["readValueFromPointer"](argv);return __emval_register(v)}function __exit(a0){return _exit(a0)}function _abort(){abort()}var _emscripten_get_now_is_monotonic=true;function _clock_gettime(clk_id,tp){var now;if(clk_id===0){now=Date.now()}else if((clk_id===1||clk_id===4)&&_emscripten_get_now_is_monotonic){now=_emscripten_get_now()}else{setErrNo(28);return-1}HEAP32[tp>>2]=now/1e3|0;HEAP32[tp+4>>2]=now%1e3*1e3*1e3|0;return 0}function _dlopen(filename,flag){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function _dlsym(handle,symbol){abort("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}var EGL={errorCode:12288,defaultDisplayInitialized:false,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:false,depth:false,stencil:false,antialias:false},stringCache:{},setErrorCode:function(code){EGL.errorCode=code},chooseConfig:function(display,attribList,config,config_size,numConfigs){if(display!=62e3){EGL.setErrorCode(12296);return 0}if(attribList){for(;;){var param=HEAP32[attribList>>2];if(param==12321){var alphaSize=HEAP32[attribList+4>>2];EGL.contextAttributes.alpha=alphaSize>0}else if(param==12325){var depthSize=HEAP32[attribList+4>>2];EGL.contextAttributes.depth=depthSize>0}else if(param==12326){var stencilSize=HEAP32[attribList+4>>2];EGL.contextAttributes.stencil=stencilSize>0}else if(param==12337){var samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=samples>0}else if(param==12338){var samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=samples==1}else if(param==12544){var requestedPriority=HEAP32[attribList+4>>2];EGL.contextAttributes.lowLatency=requestedPriority!=12547}else if(param==12344){break}attribList+=8}}if((!config||!config_size)&&!numConfigs){EGL.setErrorCode(12300);return 0}if(numConfigs){HEAP32[numConfigs>>2]=1}if(config&&config_size>0){HEAP32[config>>2]=62002}EGL.setErrorCode(12288);return 1}};function _eglGetCurrentContext(){return EGL.currentContext}function _eglGetDisplay(nativeDisplayType){EGL.setErrorCode(12288);return 62e3}function _eglQueryContext(display,context,attribute,value){if(display!=62e3){EGL.setErrorCode(12296);return 0}if(context!=62004){EGL.setErrorCode(12294);return 0}if(!value){EGL.setErrorCode(12300);return 0}EGL.setErrorCode(12288);switch(attribute){case 12328:HEAP32[value>>2]=62002;return 1;case 12439:HEAP32[value>>2]=12448;return 1;case 12440:HEAP32[value>>2]=EGL.contextAttributes.majorVersion+1;return 1;case 12422:HEAP32[value>>2]=12420;return 1;default:EGL.setErrorCode(12292);return 0}}function _emscripten_asm_const_int(code,sigPtr,argbuf){var args=readAsmConstArgs(sigPtr,argbuf);if(!ASM_CONSTS.hasOwnProperty(code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args)}function _emscripten_async_call(func,arg,millis){function wrapper(){wasmTable.get(func)(arg)}if(millis>=0){Browser.safeSetTimeout(wrapper,millis)}else{Browser.safeRequestAnimationFrame(wrapper)}}function _emscripten_get_heap_max(){return 2147483648}function _longjmp(env,value){_setThrew(env,value||1);throw"longjmp"}function _emscripten_longjmp(a0,a1){return _longjmp(a0,a1)}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+buffer.byteLength+" bytes to "+size+" bytes, but got error: "+e)}}function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;assert(requestedSize>oldSize);var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false}function _emscripten_thread_sleep(msecs){var start=_emscripten_get_now();while(_emscripten_get_now()-start<msecs){}}function __webgl_enable_ANGLE_instanced_arrays(ctx){var ext=ctx.getExtension("ANGLE_instanced_arrays");if(ext){ctx["vertexAttribDivisor"]=function(index,divisor){ext["vertexAttribDivisorANGLE"](index,divisor)};ctx["drawArraysInstanced"]=function(mode,first,count,primcount){ext["drawArraysInstancedANGLE"](mode,first,count,primcount)};ctx["drawElementsInstanced"]=function(mode,count,type,indices,primcount){ext["drawElementsInstancedANGLE"](mode,count,type,indices,primcount)};return 1}}function __webgl_enable_OES_vertex_array_object(ctx){var ext=ctx.getExtension("OES_vertex_array_object");if(ext){ctx["createVertexArray"]=function(){return ext["createVertexArrayOES"]()};ctx["deleteVertexArray"]=function(vao){ext["deleteVertexArrayOES"](vao)};ctx["bindVertexArray"]=function(vao){ext["bindVertexArrayOES"](vao)};ctx["isVertexArray"]=function(vao){return ext["isVertexArrayOES"](vao)};return 1}}function __webgl_enable_WEBGL_draw_buffers(ctx){var ext=ctx.getExtension("WEBGL_draw_buffers");if(ext){ctx["drawBuffers"]=function(n,bufs){ext["drawBuffersWEBGL"](n,bufs)};return 1}}function __webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.dibvbi=ctx.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.mdibvbi=ctx.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"))}function __webgl_enable_WEBGL_multi_draw(ctx){return!!(ctx.multiDrawWebgl=ctx.getExtension("WEBGL_multi_draw"))}var GL={counter:1,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function recordError(errorCode){if(!GL.lastError){GL.lastError=errorCode}},getNewId:function(table){var ret=GL.counter++;for(var i=table.length;i<ret;i++){table[i]=null}return ret},MAX_TEMP_BUFFER_SIZE:2097152,numTempVertexBuffersPerSize:64,log2ceilLookup:function(i){return 32-Math.clz32(i===0?0:i-1)},generateTempBuffers:function(quads,context){var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);context.tempVertexBufferCounters1=[];context.tempVertexBufferCounters2=[];context.tempVertexBufferCounters1.length=context.tempVertexBufferCounters2.length=largestIndex+1;context.tempVertexBuffers1=[];context.tempVertexBuffers2=[];context.tempVertexBuffers1.length=context.tempVertexBuffers2.length=largestIndex+1;context.tempIndexBuffers=[];context.tempIndexBuffers.length=largestIndex+1;for(var i=0;i<=largestIndex;++i){context.tempIndexBuffers[i]=null;context.tempVertexBufferCounters1[i]=context.tempVertexBufferCounters2[i]=0;var ringbufferLength=GL.numTempVertexBuffersPerSize;context.tempVertexBuffers1[i]=[];context.tempVertexBuffers2[i]=[];var ringbuffer1=context.tempVertexBuffers1[i];var ringbuffer2=context.tempVertexBuffers2[i];ringbuffer1.length=ringbuffer2.length=ringbufferLength;for(var j=0;j<ringbufferLength;++j){ringbuffer1[j]=ringbuffer2[j]=null}}if(quads){context.tempQuadIndexBuffer=GLctx.createBuffer();context.GLctx.bindBuffer(34963,context.tempQuadIndexBuffer);var numIndexes=GL.MAX_TEMP_BUFFER_SIZE>>1;var quadIndexes=new Uint16Array(numIndexes);var i=0,v=0;while(1){quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+1;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v;if(i>=numIndexes)break;quadIndexes[i++]=v+2;if(i>=numIndexes)break;quadIndexes[i++]=v+3;if(i>=numIndexes)break;v+=4}context.GLctx.bufferData(34963,quadIndexes,35044);context.GLctx.bindBuffer(34963,null)}},getTempVertexBuffer:function getTempVertexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ringbuffer=GL.currentContext.tempVertexBuffers1[idx];var nextFreeBufferIndex=GL.currentContext.tempVertexBufferCounters1[idx];GL.currentContext.tempVertexBufferCounters1[idx]=GL.currentContext.tempVertexBufferCounters1[idx]+1&GL.numTempVertexBuffersPerSize-1;var vbo=ringbuffer[nextFreeBufferIndex];if(vbo){return vbo}var prevVBO=GLctx.getParameter(34964);ringbuffer[nextFreeBufferIndex]=GLctx.createBuffer();GLctx.bindBuffer(34962,ringbuffer[nextFreeBufferIndex]);GLctx.bufferData(34962,1<<idx,35048);GLctx.bindBuffer(34962,prevVBO);return ringbuffer[nextFreeBufferIndex]},getTempIndexBuffer:function getTempIndexBuffer(sizeBytes){var idx=GL.log2ceilLookup(sizeBytes);var ibo=GL.currentContext.tempIndexBuffers[idx];if(ibo){return ibo}var prevIBO=GLctx.getParameter(34965);GL.currentContext.tempIndexBuffers[idx]=GLctx.createBuffer();GLctx.bindBuffer(34963,GL.currentContext.tempIndexBuffers[idx]);GLctx.bufferData(34963,1<<idx,35048);GLctx.bindBuffer(34963,prevIBO);return GL.currentContext.tempIndexBuffers[idx]},newRenderingFrameStarted:function newRenderingFrameStarted(){if(!GL.currentContext){return}var vb=GL.currentContext.tempVertexBuffers1;GL.currentContext.tempVertexBuffers1=GL.currentContext.tempVertexBuffers2;GL.currentContext.tempVertexBuffers2=vb;vb=GL.currentContext.tempVertexBufferCounters1;GL.currentContext.tempVertexBufferCounters1=GL.currentContext.tempVertexBufferCounters2;GL.currentContext.tempVertexBufferCounters2=vb;var largestIndex=GL.log2ceilLookup(GL.MAX_TEMP_BUFFER_SIZE);for(var i=0;i<=largestIndex;++i){GL.currentContext.tempVertexBufferCounters1[i]=0}},getSource:function(shader,count,string,length){var source="";for(var i=0;i<count;++i){var len=length?HEAP32[length+i*4>>2]:-1;source+=UTF8ToString(HEAP32[string+i*4>>2],len<0?undefined:len)}return source},calcBufLength:function calcBufLength(size,type,stride,count){if(stride>0){return count*stride}var typeSize=GL.byteSizeByType[type-GL.byteSizeByTypeRoot];return size*typeSize*count},usedTempBuffers:[],preDrawHandleClientVertexAttribBindings:function preDrawHandleClientVertexAttribBindings(count){GL.resetBufferBinding=false;for(var i=0;i<GL.currentContext.maxVertexAttribs;++i){var cb=GL.currentContext.clientBuffers[i];if(!cb.clientside||!cb.enabled)continue;GL.resetBufferBinding=true;var size=GL.calcBufLength(cb.size,cb.type,cb.stride,count);var buf=GL.getTempVertexBuffer(size);GLctx.bindBuffer(34962,buf);GLctx.bufferSubData(34962,0,HEAPU8.subarray(cb.ptr,cb.ptr+size));cb.vertexAttribPointerAdaptor.call(GLctx,i,cb.size,cb.type,cb.normalized,cb.stride,0)}},postDrawHandleClientVertexAttribBindings:function postDrawHandleClientVertexAttribBindings(){if(GL.resetBufferBinding){GLctx.bindBuffer(34962,GL.buffers[GLctx.currentArrayBufferBinding])}},createContext:function(canvas,webGLContextAttributes){if(!canvas.getContextSafariWebGL2Fixed){canvas.getContextSafariWebGL2Fixed=canvas.getContext;canvas.getContext=function(ver,attrs){var gl=canvas.getContextSafariWebGL2Fixed(ver,attrs);return ver=="webgl"==gl instanceof WebGLRenderingContext?gl:null}}var ctx=webGLContextAttributes.majorVersion>1?canvas.getContext("webgl2",webGLContextAttributes):canvas.getContext("webgl",webGLContextAttributes);if(!ctx)return 0;var handle=GL.registerContext(ctx,webGLContextAttributes);return handle},registerContext:function(ctx,webGLContextAttributes){var handle=GL.getNewId(GL.contexts);var context={handle:handle,attributes:webGLContextAttributes,version:webGLContextAttributes.majorVersion,GLctx:ctx};if(ctx.canvas)ctx.canvas.GLctxObject=context;GL.contexts[handle]=context;if(typeof webGLContextAttributes.enableExtensionsByDefault==="undefined"||webGLContextAttributes.enableExtensionsByDefault){GL.initExtensions(context)}context.maxVertexAttribs=context.GLctx.getParameter(34921);context.clientBuffers=[];for(var i=0;i<context.maxVertexAttribs;i++){context.clientBuffers[i]={enabled:false,clientside:false,size:0,type:0,normalized:0,stride:0,ptr:0,vertexAttribPointerAdaptor:null}}GL.generateTempBuffers(false,context);return handle},makeContextCurrent:function(contextHandle){GL.currentContext=GL.contexts[contextHandle];Module.ctx=GLctx=GL.currentContext&&GL.currentContext.GLctx;return!(contextHandle&&!GLctx)},getContext:function(contextHandle){return GL.contexts[contextHandle]},deleteContext:function(contextHandle){if(GL.currentContext===GL.contexts[contextHandle])GL.currentContext=null;if(typeof JSEvents==="object")JSEvents.removeAllHandlersOnTarget(GL.contexts[contextHandle].GLctx.canvas);if(GL.contexts[contextHandle]&&GL.contexts[contextHandle].GLctx.canvas)GL.contexts[contextHandle].GLctx.canvas.GLctxObject=undefined;GL.contexts[contextHandle]=null},initExtensions:function(context){if(!context)context=GL.currentContext;if(context.initExtensionsDone)return;context.initExtensionsDone=true;var GLctx=context.GLctx;__webgl_enable_ANGLE_instanced_arrays(GLctx);__webgl_enable_OES_vertex_array_object(GLctx);__webgl_enable_WEBGL_draw_buffers(GLctx);__webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(GLctx);__webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance(GLctx);GLctx.disjointTimerQueryExt=GLctx.getExtension("EXT_disjoint_timer_query");__webgl_enable_WEBGL_multi_draw(GLctx);var exts=GLctx.getSupportedExtensions()||[];exts.forEach(function(ext){if(ext.indexOf("lose_context")<0&&ext.indexOf("debug")<0){GLctx.getExtension(ext)}})},populateUniformTable:function(program){var p=GL.programs[program];var ptable=GL.programInfos[program]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var utable=ptable.uniforms;var numUniforms=GLctx.getProgramParameter(p,35718);for(var i=0;i<numUniforms;++i){var u=GLctx.getActiveUniform(p,i);var name=u.name;ptable.maxUniformLength=Math.max(ptable.maxUniformLength,name.length+1);if(name.slice(-1)=="]"){name=name.slice(0,name.lastIndexOf("["))}var loc=GLctx.getUniformLocation(p,name);if(loc){var id=GL.getNewId(GL.uniforms);utable[name]=[u.size,id];GL.uniforms[id]=loc;for(var j=1;j<u.size;++j){var n=name+"["+j+"]";loc=GLctx.getUniformLocation(p,n);id=GL.getNewId(GL.uniforms);GL.uniforms[id]=loc}}}}};var JSEvents={inEventHandler:0,removeAllEventListeners:function(){for(var i=JSEvents.eventHandlers.length-1;i>=0;--i){JSEvents._removeHandler(i)}JSEvents.eventHandlers=[];JSEvents.deferredCalls=[]},registerRemoveEventListeners:function(){if(!JSEvents.removeEventListenersRegistered){__ATEXIT__.push(JSEvents.removeAllEventListeners);JSEvents.removeEventListenersRegistered=true}},deferredCalls:[],deferCall:function(targetFunction,precedence,argsList){function arraysHaveEqualContent(arrA,arrB){if(arrA.length!=arrB.length)return false;for(var i in arrA){if(arrA[i]!=arrB[i])return false}return true}for(var i in JSEvents.deferredCalls){var call=JSEvents.deferredCalls[i];if(call.targetFunction==targetFunction&&arraysHaveEqualContent(call.argsList,argsList)){return}}JSEvents.deferredCalls.push({targetFunction:targetFunction,precedence:precedence,argsList:argsList});JSEvents.deferredCalls.sort(function(x,y){return x.precedence<y.precedence})},removeDeferredCalls:function(targetFunction){for(var i=0;i<JSEvents.deferredCalls.length;++i){if(JSEvents.deferredCalls[i].targetFunction==targetFunction){JSEvents.deferredCalls.splice(i,1);--i}}},canPerformEventHandlerRequests:function(){return JSEvents.inEventHandler&&JSEvents.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!JSEvents.canPerformEventHandlerRequests()){return}for(var i=0;i<JSEvents.deferredCalls.length;++i){var call=JSEvents.deferredCalls[i];JSEvents.deferredCalls.splice(i,1);--i;call.targetFunction.apply(null,call.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(target,eventTypeString){for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==target&&(!eventTypeString||eventTypeString==JSEvents.eventHandlers[i].eventTypeString)){JSEvents._removeHandler(i--)}}},_removeHandler:function(i){var h=JSEvents.eventHandlers[i];h.target.removeEventListener(h.eventTypeString,h.eventListenerFunc,h.useCapture);JSEvents.eventHandlers.splice(i,1)},registerOrRemoveHandler:function(eventHandler){var jsEventHandler=function jsEventHandler(event){++JSEvents.inEventHandler;JSEvents.currentEventHandler=eventHandler;JSEvents.runDeferredCalls();eventHandler.handlerFunc(event);JSEvents.runDeferredCalls();--JSEvents.inEventHandler};if(eventHandler.callbackfunc){eventHandler.eventListenerFunc=jsEventHandler;eventHandler.target.addEventListener(eventHandler.eventTypeString,jsEventHandler,eventHandler.useCapture);JSEvents.eventHandlers.push(eventHandler);JSEvents.registerRemoveEventListeners()}else{for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==eventHandler.target&&JSEvents.eventHandlers[i].eventTypeString==eventHandler.eventTypeString){JSEvents._removeHandler(i--)}}}},getNodeNameForTarget:function(target){if(!target)return"";if(target==window)return"#window";if(target==screen)return"#screen";return target&&target.nodeName?target.nodeName:""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var __emscripten_webgl_power_preferences=["default","low-power","high-performance"];var specialHTMLTargets=[0,typeof document!=="undefined"?document:0,typeof window!=="undefined"?window:0];function findEventTarget(target){warnOnce("Rules for selecting event targets in HTML5 API are changing: instead of using document.getElementById() that only can refer to elements by their DOM ID, new event target selection mechanism uses the more flexible function document.querySelector() that can look up element names, classes, and complex CSS selectors. Build with -s DISABLE_DEPRECATED_FIND_EVENT_TARGET_BEHAVIOR=1 to change to the new lookup rules. See https://github.com/emscripten-core/emscripten/pull/7977 for more details.");try{if(!target)return window;if(typeof target==="number")target=specialHTMLTargets[target]||UTF8ToString(target);if(target==="#window")return window;else if(target==="#document")return document;else if(target==="#screen")return screen;else if(target==="#canvas")return Module["canvas"];return typeof target==="string"?document.getElementById(target):target}catch(e){return null}}function findCanvasEventTarget(target){if(typeof target==="number")target=UTF8ToString(target);if(!target||target==="#canvas"){if(typeof GL!=="undefined"&&GL.offscreenCanvases["canvas"])return GL.offscreenCanvases["canvas"];return Module["canvas"]}if(typeof GL!=="undefined"&&GL.offscreenCanvases[target])return GL.offscreenCanvases[target];return findEventTarget(target)}function _emscripten_webgl_do_create_context(target,attributes){assert(attributes);var a=attributes>>2;var powerPreference=HEAP32[a+(24>>2)];var contextAttributes={"alpha":!!HEAP32[a+(0>>2)],"depth":!!HEAP32[a+(4>>2)],"stencil":!!HEAP32[a+(8>>2)],"antialias":!!HEAP32[a+(12>>2)],"premultipliedAlpha":!!HEAP32[a+(16>>2)],"preserveDrawingBuffer":!!HEAP32[a+(20>>2)],"powerPreference":__emscripten_webgl_power_preferences[powerPreference],"failIfMajorPerformanceCaveat":!!HEAP32[a+(28>>2)],majorVersion:HEAP32[a+(32>>2)],minorVersion:HEAP32[a+(36>>2)],enableExtensionsByDefault:HEAP32[a+(40>>2)],explicitSwapControl:HEAP32[a+(44>>2)],proxyContextToMainThread:HEAP32[a+(48>>2)],renderViaOffscreenBackBuffer:HEAP32[a+(52>>2)]};var canvas=findCanvasEventTarget(target);if(!canvas){return 0}if(contextAttributes.explicitSwapControl){return 0}var contextHandle=GL.createContext(canvas,contextAttributes);return contextHandle}function _emscripten_webgl_create_context(a0,a1){return _emscripten_webgl_do_create_context(a0,a1)}function _emscripten_webgl_do_get_current_context(){return GL.currentContext?GL.currentContext.handle:0}function _emscripten_webgl_get_current_context(){return _emscripten_webgl_do_get_current_context()}Module["_emscripten_webgl_get_current_context"]=_emscripten_webgl_get_current_context;function _emscripten_webgl_make_context_current(contextHandle){var success=GL.makeContextCurrent(contextHandle);return success?0:-5}Module["_emscripten_webgl_make_context_current"]=_emscripten_webgl_make_context_current;function _emscripten_webgl_destroy_context(contextHandle){if(GL.currentContext==contextHandle)GL.currentContext=0;GL.deleteContext(contextHandle)}function _emscripten_webgl_get_context_attributes(c,a){if(!a)return-5;c=GL.contexts[c];if(!c)return-3;var t=c.GLctx;if(!t)return-3;t=t.getContextAttributes();HEAP32[a>>2]=t.alpha;HEAP32[a+4>>2]=t.depth;HEAP32[a+8>>2]=t.stencil;HEAP32[a+12>>2]=t.antialias;HEAP32[a+16>>2]=t.premultipliedAlpha;HEAP32[a+20>>2]=t.preserveDrawingBuffer;var power=t["powerPreference"]&&__emscripten_webgl_power_preferences.indexOf(t["powerPreference"]);HEAP32[a+24>>2]=power;HEAP32[a+28>>2]=t.failIfMajorPerformanceCaveat;HEAP32[a+32>>2]=c.version;HEAP32[a+36>>2]=0;HEAP32[a+40>>2]=c.attributes.enableExtensionsByDefault;return 0}function _emscripten_webgl_init_context_attributes(attributes){assert(attributes);var a=attributes>>2;for(var i=0;i<56>>2;++i){HEAP32[a+i]=0}HEAP32[a+(0>>2)]=HEAP32[a+(4>>2)]=HEAP32[a+(12>>2)]=HEAP32[a+(16>>2)]=HEAP32[a+(32>>2)]=HEAP32[a+(40>>2)]=1}var ENV={};function getExecutableName(){return thisProgram||"./this.program"}function getEnvStrings(){if(!getEnvStrings.strings){var lang=(typeof navigator==="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var env={"USER":"web_user","LOGNAME":"web_user","PATH":"/","PWD":"/","HOME":"/home/web_user","LANG":lang,"_":getExecutableName()};for(var x in ENV){env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(x+"="+env[x])}getEnvStrings.strings=strings}return getEnvStrings.strings}function _environ_get(__environ,environ_buf){try{var bufSize=0;getEnvStrings().forEach(function(string,i){var ptr=environ_buf+bufSize;HEAP32[__environ+i*4>>2]=ptr;writeAsciiToMemory(string,ptr);bufSize+=string.length+1});return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _environ_sizes_get(penviron_count,penviron_buf_size){try{var strings=getEnvStrings();HEAP32[penviron_count>>2]=strings.length;var bufSize=0;strings.forEach(function(string){bufSize+=string.length+1});HEAP32[penviron_buf_size>>2]=bufSize;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_fdstat_get(fd,pbuf){try{var stream=SYSCALLS.getStreamFromFD(fd);var type=stream.tty?2:FS.isDir(stream.mode)?3:FS.isLink(stream.mode)?7:4;HEAP8[pbuf>>0]=type;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_read(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doReadv(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){try{var stream=SYSCALLS.getStreamFromFD(fd);var HIGH_OFFSET=4294967296;var offset=offset_high*HIGH_OFFSET+(offset_low>>>0);var DOUBLE_LIMIT=9007199254740992;if(offset<=-DOUBLE_LIMIT||offset>=DOUBLE_LIMIT){return-61}FS.llseek(stream,offset,whence);tempI64=[stream.position>>>0,(tempDouble=stream.position,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[newOffset>>2]=tempI64[0],HEAP32[newOffset+4>>2]=tempI64[1];if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _fd_write(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doWritev(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return e.errno}}function _getTempRet0(){return getTempRet0()|0}function _gettimeofday(ptr){var now=Date.now();HEAP32[ptr>>2]=now/1e3|0;HEAP32[ptr+4>>2]=now%1e3*1e3|0;return 0}function _glActiveTexture(x0){GLctx["activeTexture"](x0)}function _glAttachShader(program,shader){GLctx.attachShader(GL.programs[program],GL.shaders[shader])}function _glBindAttribLocation(program,index,name){GLctx.bindAttribLocation(GL.programs[program],index,UTF8ToString(name))}function _glBindBuffer(target,buffer){if(target==34962){GLctx.currentArrayBufferBinding=buffer}else if(target==34963){GLctx.currentElementArrayBufferBinding=buffer}if(target==35051){GLctx.currentPixelPackBufferBinding=buffer}else if(target==35052){GLctx.currentPixelUnpackBufferBinding=buffer}GLctx.bindBuffer(target,GL.buffers[buffer])}function _glBindBufferBase(target,index,buffer){GLctx["bindBufferBase"](target,index,GL.buffers[buffer])}function _glBindFramebuffer(target,framebuffer){GLctx.bindFramebuffer(target,GL.framebuffers[framebuffer])}function _glBindRenderbuffer(target,renderbuffer){GLctx.bindRenderbuffer(target,GL.renderbuffers[renderbuffer])}function _glBindSampler(unit,sampler){GLctx["bindSampler"](unit,GL.samplers[sampler])}function _glBindTexture(target,texture){GLctx.bindTexture(target,GL.textures[texture])}function _glBindVertexArray(vao){GLctx["bindVertexArray"](GL.vaos[vao]);var ibo=GLctx.getParameter(34965);GLctx.currentElementArrayBufferBinding=ibo?ibo.name|0:0}function _glBlendFunc(x0,x1){GLctx["blendFunc"](x0,x1)}function _glBlendFuncSeparate(x0,x1,x2,x3){GLctx["blendFuncSeparate"](x0,x1,x2,x3)}function _glBlitFramebuffer(x0,x1,x2,x3,x4,x5,x6,x7,x8,x9){GLctx["blitFramebuffer"](x0,x1,x2,x3,x4,x5,x6,x7,x8,x9)}function _glBufferData(target,size,data,usage){if(GL.currentContext.version>=2){if(data){GLctx.bufferData(target,HEAPU8,usage,data,size)}else{GLctx.bufferData(target,size,usage)}}else{GLctx.bufferData(target,data?HEAPU8.subarray(data,data+size):size,usage)}}function _glBufferSubData(target,offset,size,data){if(GL.currentContext.version>=2){GLctx.bufferSubData(target,offset,HEAPU8,data,size);return}GLctx.bufferSubData(target,offset,HEAPU8.subarray(data,data+size))}function _glCheckFramebufferStatus(x0){return GLctx["checkFramebufferStatus"](x0)}function _glClear(x0){GLctx["clear"](x0)}function _glClearColor(x0,x1,x2,x3){GLctx["clearColor"](x0,x1,x2,x3)}function _glClearDepthf(x0){GLctx["clearDepth"](x0)}function _glClearStencil(x0){GLctx["clearStencil"](x0)}function convertI32PairToI53(lo,hi){assert(hi===(hi|0));return(lo>>>0)+hi*4294967296}function _glClientWaitSync(sync,flags,timeoutLo,timeoutHi){return GLctx.clientWaitSync(GL.syncs[sync],flags,convertI32PairToI53(timeoutLo,timeoutHi))}function _glColorMask(red,green,blue,alpha){GLctx.colorMask(!!red,!!green,!!blue,!!alpha)}function _glCompileShader(shader){GLctx.compileShader(GL.shaders[shader])}function _glCompressedTexImage2D(target,level,internalFormat,width,height,border,imageSize,data){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,imageSize,data)}else{GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,HEAPU8,data,imageSize)}return}GLctx["compressedTexImage2D"](target,level,internalFormat,width,height,border,data?HEAPU8.subarray(data,data+imageSize):null)}function _glCreateProgram(){var id=GL.getNewId(GL.programs);var program=GLctx.createProgram();program.name=id;GL.programs[id]=program;return id}function _glCreateShader(shaderType){var id=GL.getNewId(GL.shaders);GL.shaders[id]=GLctx.createShader(shaderType);return id}function _glCullFace(x0){GLctx["cullFace"](x0)}function _glDeleteBuffers(n,buffers){for(var i=0;i<n;i++){var id=HEAP32[buffers+i*4>>2];var buffer=GL.buffers[id];if(!buffer)continue;GLctx.deleteBuffer(buffer);buffer.name=0;GL.buffers[id]=null;if(id==GLctx.currentArrayBufferBinding)GLctx.currentArrayBufferBinding=0;if(id==GLctx.currentElementArrayBufferBinding)GLctx.currentElementArrayBufferBinding=0;if(id==GLctx.currentPixelPackBufferBinding)GLctx.currentPixelPackBufferBinding=0;if(id==GLctx.currentPixelUnpackBufferBinding)GLctx.currentPixelUnpackBufferBinding=0}}function _glDeleteFramebuffers(n,framebuffers){for(var i=0;i<n;++i){var id=HEAP32[framebuffers+i*4>>2];var framebuffer=GL.framebuffers[id];if(!framebuffer)continue;GLctx.deleteFramebuffer(framebuffer);framebuffer.name=0;GL.framebuffers[id]=null}}function _glDeleteProgram(id){if(!id)return;var program=GL.programs[id];if(!program){GL.recordError(1281);return}GLctx.deleteProgram(program);program.name=0;GL.programs[id]=null;GL.programInfos[id]=null}function _glDeleteRenderbuffers(n,renderbuffers){for(var i=0;i<n;i++){var id=HEAP32[renderbuffers+i*4>>2];var renderbuffer=GL.renderbuffers[id];if(!renderbuffer)continue;GLctx.deleteRenderbuffer(renderbuffer);renderbuffer.name=0;GL.renderbuffers[id]=null}}function _glDeleteShader(id){if(!id)return;var shader=GL.shaders[id];if(!shader){GL.recordError(1281);return}GLctx.deleteShader(shader);GL.shaders[id]=null}function _glDeleteSync(id){if(!id)return;var sync=GL.syncs[id];if(!sync){GL.recordError(1281);return}GLctx.deleteSync(sync);sync.name=0;GL.syncs[id]=null}function _glDeleteTextures(n,textures){for(var i=0;i<n;i++){var id=HEAP32[textures+i*4>>2];var texture=GL.textures[id];if(!texture)continue;GLctx.deleteTexture(texture);texture.name=0;GL.textures[id]=null}}function _glDeleteVertexArrays(n,vaos){for(var i=0;i<n;i++){var id=HEAP32[vaos+i*4>>2];GLctx["deleteVertexArray"](GL.vaos[id]);GL.vaos[id]=null}}function _glDepthFunc(x0){GLctx["depthFunc"](x0)}function _glDepthMask(flag){GLctx.depthMask(!!flag)}function _glDisable(x0){GLctx["disable"](x0)}function _glDisableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=false;GLctx.disableVertexAttribArray(index)}function _glDrawArrays(mode,first,count){GL.preDrawHandleClientVertexAttribBindings(first+count);GLctx.drawArrays(mode,first,count);GL.postDrawHandleClientVertexAttribBindings()}var tempFixedLengthArray=[];function _glDrawBuffers(n,bufs){var bufArray=tempFixedLengthArray[n];for(var i=0;i<n;i++){bufArray[i]=HEAP32[bufs+i*4>>2]}GLctx["drawBuffers"](bufArray)}function _glDrawElements(mode,count,type,indices){var buf;if(!GLctx.currentElementArrayBufferBinding){var size=GL.calcBufLength(1,type,0,count);buf=GL.getTempIndexBuffer(size);GLctx.bindBuffer(34963,buf);GLctx.bufferSubData(34963,0,HEAPU8.subarray(indices,indices+size));indices=0}GL.preDrawHandleClientVertexAttribBindings(count);GLctx.drawElements(mode,count,type,indices);GL.postDrawHandleClientVertexAttribBindings(count);if(!GLctx.currentElementArrayBufferBinding){GLctx.bindBuffer(34963,null)}}function _glEnable(x0){GLctx["enable"](x0)}function _glEnableVertexAttribArray(index){var cb=GL.currentContext.clientBuffers[index];cb.enabled=true;GLctx.enableVertexAttribArray(index)}function _glFenceSync(condition,flags){var sync=GLctx.fenceSync(condition,flags);if(sync){var id=GL.getNewId(GL.syncs);sync.name=id;GL.syncs[id]=sync;return id}else{return 0}}function _glFinish(){GLctx["finish"]()}function _glFlush(){GLctx["flush"]()}function _glFramebufferRenderbuffer(target,attachment,renderbuffertarget,renderbuffer){GLctx.framebufferRenderbuffer(target,attachment,renderbuffertarget,GL.renderbuffers[renderbuffer])}function _glFramebufferTexture2D(target,attachment,textarget,texture,level){GLctx.framebufferTexture2D(target,attachment,textarget,GL.textures[texture],level)}function _glFramebufferTextureLayer(target,attachment,texture,level,layer){GLctx.framebufferTextureLayer(target,attachment,GL.textures[texture],level,layer)}function _glFrontFace(x0){GLctx["frontFace"](x0)}function __glGenObject(n,buffers,createFunction,objectTable){for(var i=0;i<n;i++){var buffer=GLctx[createFunction]();var id=buffer&&GL.getNewId(objectTable);if(buffer){buffer.name=id;objectTable[id]=buffer}else{GL.recordError(1282)}HEAP32[buffers+i*4>>2]=id}}function _glGenBuffers(n,buffers){__glGenObject(n,buffers,"createBuffer",GL.buffers)}function _glGenFramebuffers(n,ids){__glGenObject(n,ids,"createFramebuffer",GL.framebuffers)}function _glGenRenderbuffers(n,renderbuffers){__glGenObject(n,renderbuffers,"createRenderbuffer",GL.renderbuffers)}function _glGenTextures(n,textures){__glGenObject(n,textures,"createTexture",GL.textures)}function _glGenVertexArrays(n,arrays){__glGenObject(n,arrays,"createVertexArray",GL.vaos)}function _glGenerateMipmap(x0){GLctx["generateMipmap"](x0)}function __glGetActiveAttribOrUniform(funcName,program,index,bufSize,length,size,type,name){program=GL.programs[program];var info=GLctx[funcName](program,index);if(info){var numBytesWrittenExclNull=name&&stringToUTF8(info.name,name,bufSize);if(length)HEAP32[length>>2]=numBytesWrittenExclNull;if(size)HEAP32[size>>2]=info.size;if(type)HEAP32[type>>2]=info.type}}function _glGetActiveUniform(program,index,bufSize,length,size,type,name){__glGetActiveAttribOrUniform("getActiveUniform",program,index,bufSize,length,size,type,name)}function _glGetActiveUniformBlockName(program,uniformBlockIndex,bufSize,length,uniformBlockName){program=GL.programs[program];var result=GLctx["getActiveUniformBlockName"](program,uniformBlockIndex);if(!result)return;if(uniformBlockName&&bufSize>0){var numBytesWrittenExclNull=stringToUTF8(result,uniformBlockName,bufSize);if(length)HEAP32[length>>2]=numBytesWrittenExclNull}else{if(length)HEAP32[length>>2]=0}}function _glGetActiveUniformBlockiv(program,uniformBlockIndex,pname,params){if(!params){GL.recordError(1281);return}program=GL.programs[program];if(pname==35393){var name=GLctx["getActiveUniformBlockName"](program,uniformBlockIndex);HEAP32[params>>2]=name.length+1;return}var result=GLctx["getActiveUniformBlockParameter"](program,uniformBlockIndex,pname);if(result===null)return;if(pname==35395){for(var i=0;i<result.length;i++){HEAP32[params+i*4>>2]=result[i]}}else{HEAP32[params>>2]=result}}function _glGetAttribLocation(program,name){return GLctx.getAttribLocation(GL.programs[program],UTF8ToString(name))}function readI53FromI64(ptr){return HEAPU32[ptr>>2]+HEAP32[ptr+4>>2]*4294967296}function readI53FromU64(ptr){return HEAPU32[ptr>>2]+HEAPU32[ptr+4>>2]*4294967296}function writeI53ToI64(ptr,num){HEAPU32[ptr>>2]=num;HEAPU32[ptr+4>>2]=(num-HEAPU32[ptr>>2])/4294967296;var deserialized=num>=0?readI53FromU64(ptr):readI53FromI64(ptr);if(deserialized!=num)warnOnce("writeI53ToI64() out of range: serialized JS Number "+num+" to Wasm heap as bytes lo=0x"+HEAPU32[ptr>>2].toString(16)+", hi=0x"+HEAPU32[ptr+4>>2].toString(16)+", which deserializes back to "+deserialized+" instead!")}function emscriptenWebGLGet(name_,p,type){if(!p){GL.recordError(1281);return}var ret=undefined;switch(name_){case 36346:ret=1;break;case 36344:if(type!=0&&type!=1){GL.recordError(1280)}return;case 34814:case 36345:ret=0;break;case 34466:var formats=GLctx.getParameter(34467);ret=formats?formats.length:0;break;case 33309:if(GL.currentContext.version<2){GL.recordError(1282);return}var exts=GLctx.getSupportedExtensions()||[];ret=2*exts.length;break;case 33307:case 33308:if(GL.currentContext.version<2){GL.recordError(1280);return}ret=name_==33307?3:0;break}if(ret===undefined){var result=GLctx.getParameter(name_);switch(typeof result){case"number":ret=result;break;case"boolean":ret=result?1:0;break;case"string":GL.recordError(1280);return;case"object":if(result===null){switch(name_){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:{ret=0;break}default:{GL.recordError(1280);return}}}else if(result instanceof Float32Array||result instanceof Uint32Array||result instanceof Int32Array||result instanceof Array){for(var i=0;i<result.length;++i){switch(type){case 0:HEAP32[p+i*4>>2]=result[i];break;case 2:HEAPF32[p+i*4>>2]=result[i];break;case 4:HEAP8[p+i>>0]=result[i]?1:0;break}}return}else{try{ret=result.name|0}catch(e){GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Unknown object returned from WebGL getParameter("+name_+")! (error: "+e+")");return}}break;default:GL.recordError(1280);err("GL_INVALID_ENUM in glGet"+type+"v: Native code calling glGet"+type+"v("+name_+") and it returns "+result+" of type "+typeof result+"!");return}}switch(type){case 1:writeI53ToI64(p,ret);break;case 0:HEAP32[p>>2]=ret;break;case 2:HEAPF32[p>>2]=ret;break;case 4:HEAP8[p>>0]=ret?1:0;break}}function _glGetBooleanv(name_,p){emscriptenWebGLGet(name_,p,4)}function _glGetError(){var error=GLctx.getError()||GL.lastError;GL.lastError=0;return error}function _glGetIntegerv(name_,p){emscriptenWebGLGet(name_,p,0)}function _glGetProgramInfoLog(program,maxLength,length,infoLog){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetProgramiv(program,pname,p){if(!p){GL.recordError(1281);return}if(program>=GL.counter){GL.recordError(1281);return}var ptable=GL.programInfos[program];if(!ptable){GL.recordError(1282);return}if(pname==35716){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log="(unknown error)";HEAP32[p>>2]=log.length+1}else if(pname==35719){HEAP32[p>>2]=ptable.maxUniformLength}else if(pname==35722){if(ptable.maxAttributeLength==-1){program=GL.programs[program];var numAttribs=GLctx.getProgramParameter(program,35721);ptable.maxAttributeLength=0;for(var i=0;i<numAttribs;++i){var activeAttrib=GLctx.getActiveAttrib(program,i);ptable.maxAttributeLength=Math.max(ptable.maxAttributeLength,activeAttrib.name.length+1)}}HEAP32[p>>2]=ptable.maxAttributeLength}else if(pname==35381){if(ptable.maxUniformBlockNameLength==-1){program=GL.programs[program];var numBlocks=GLctx.getProgramParameter(program,35382);ptable.maxUniformBlockNameLength=0;for(var i=0;i<numBlocks;++i){var activeBlockName=GLctx.getActiveUniformBlockName(program,i);ptable.maxUniformBlockNameLength=Math.max(ptable.maxUniformBlockNameLength,activeBlockName.length+1)}}HEAP32[p>>2]=ptable.maxUniformBlockNameLength}else{HEAP32[p>>2]=GLctx.getProgramParameter(GL.programs[program],pname)}}function _glGetShaderInfoLog(shader,maxLength,length,infoLog){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetShaderiv(shader,pname,p){if(!p){GL.recordError(1281);return}if(pname==35716){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log="(unknown error)";var logLength=log?log.length+1:0;HEAP32[p>>2]=logLength}else if(pname==35720){var source=GLctx.getShaderSource(GL.shaders[shader]);var sourceLength=source?source.length+1:0;HEAP32[p>>2]=sourceLength}else{HEAP32[p>>2]=GLctx.getShaderParameter(GL.shaders[shader],pname)}}function stringToNewUTF8(jsString){var length=lengthBytesUTF8(jsString)+1;var cString=_malloc(length);stringToUTF8(jsString,cString,length);return cString}function _glGetString(name_){if(GL.stringCache[name_])return GL.stringCache[name_];var ret;switch(name_){case 7939:var exts=GLctx.getSupportedExtensions()||[];exts=exts.concat(exts.map(function(e){return"GL_"+e}));ret=stringToNewUTF8(exts.join(" "));break;case 7936:case 7937:case 37445:case 37446:var s=GLctx.getParameter(name_);if(!s){GL.recordError(1280)}ret=stringToNewUTF8(s);break;case 7938:var glVersion=GLctx.getParameter(7938);if(GL.currentContext.version>=2)glVersion="OpenGL ES 3.0 ("+glVersion+")";else{glVersion="OpenGL ES 2.0 ("+glVersion+")"}ret=stringToNewUTF8(glVersion);break;case 35724:var glslVersion=GLctx.getParameter(35724);var ver_re=/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/;var ver_num=glslVersion.match(ver_re);if(ver_num!==null){if(ver_num[1].length==3)ver_num[1]=ver_num[1]+"0";glslVersion="OpenGL ES GLSL ES "+ver_num[1]+" ("+glslVersion+")"}ret=stringToNewUTF8(glslVersion);break;default:GL.recordError(1280);return 0}GL.stringCache[name_]=ret;return ret}function _glGetStringi(name,index){if(GL.currentContext.version<2){GL.recordError(1282);return 0}var stringiCache=GL.stringiCache[name];if(stringiCache){if(index<0||index>=stringiCache.length){GL.recordError(1281);return 0}return stringiCache[index]}switch(name){case 7939:var exts=GLctx.getSupportedExtensions()||[];exts=exts.concat(exts.map(function(e){return"GL_"+e}));exts=exts.map(function(e){return stringToNewUTF8(e)});stringiCache=GL.stringiCache[name]=exts;if(index<0||index>=stringiCache.length){GL.recordError(1281);return 0}return stringiCache[index];default:GL.recordError(1280);return 0}}function _glGetUniformBlockIndex(program,uniformBlockName){return GLctx["getUniformBlockIndex"](GL.programs[program],UTF8ToString(uniformBlockName))}function jstoi_q(str){return parseInt(str)}function _glGetUniformLocation(program,name){name=UTF8ToString(name);var arrayIndex=0;if(name[name.length-1]=="]"){var leftBrace=name.lastIndexOf("[");arrayIndex=name[leftBrace+1]!="]"?jstoi_q(name.slice(leftBrace+1)):0;name=name.slice(0,leftBrace)}var uniformInfo=GL.programInfos[program]&&GL.programInfos[program].uniforms[name];if(uniformInfo&&arrayIndex>=0&&arrayIndex<uniformInfo[0]){return uniformInfo[1]+arrayIndex}else{return-1}}function _glLinkProgram(program){GLctx.linkProgram(GL.programs[program]);GL.populateUniformTable(program)}function _glPixelStorei(pname,param){if(pname==3317){GL.unpackAlignment=param}GLctx.pixelStorei(pname,param)}function _glReadBuffer(x0){GLctx["readBuffer"](x0)}function computeUnpackAlignedImageSize(width,height,sizePerPixel,alignment){function roundedToNextMultipleOf(x,y){return x+y-1&-y}var plainRowSize=width*sizePerPixel;var alignedRowSize=roundedToNextMultipleOf(plainRowSize,alignment);return height*alignedRowSize}function __colorChannelsInGlTextureFormat(format){var colorChannels={5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4};return colorChannels[format-6402]||1}function heapObjectForWebGLType(type){type-=5120;if(type==0)return HEAP8;if(type==1)return HEAPU8;if(type==2)return HEAP16;if(type==4)return HEAP32;if(type==6)return HEAPF32;if(type==5||type==28922||type==28520||type==30779||type==30782)return HEAPU32;return HEAPU16}function heapAccessShiftForWebGLHeap(heap){return 31-Math.clz32(heap.BYTES_PER_ELEMENT)}function emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat){var heap=heapObjectForWebGLType(type);var shift=heapAccessShiftForWebGLHeap(heap);var byteSize=1<<shift;var sizePerPixel=__colorChannelsInGlTextureFormat(format)*byteSize;var bytes=computeUnpackAlignedImageSize(width,height,sizePerPixel,GL.unpackAlignment);return heap.subarray(pixels>>shift,pixels+bytes>>shift)}function _glReadPixels(x,y,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelPackBufferBinding){GLctx.readPixels(x,y,width,height,format,type,pixels)}else{var heap=heapObjectForWebGLType(type);GLctx.readPixels(x,y,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}return}var pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,format);if(!pixelData){GL.recordError(1280);return}GLctx.readPixels(x,y,width,height,format,type,pixelData)}function _glRenderbufferStorage(x0,x1,x2,x3){GLctx["renderbufferStorage"](x0,x1,x2,x3)}function _glRenderbufferStorageMultisample(x0,x1,x2,x3,x4){GLctx["renderbufferStorageMultisample"](x0,x1,x2,x3,x4)}function _glScissor(x0,x1,x2,x3){GLctx["scissor"](x0,x1,x2,x3)}function _glShaderSource(shader,count,string,length){var source=GL.getSource(shader,count,string,length);GLctx.shaderSource(GL.shaders[shader],source)}function _glStencilFuncSeparate(x0,x1,x2,x3){GLctx["stencilFuncSeparate"](x0,x1,x2,x3)}function _glStencilOpSeparate(x0,x1,x2,x3){GLctx["stencilOpSeparate"](x0,x1,x2,x3)}function _glTexImage2D(target,level,internalFormat,width,height,border,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,null)}return}GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat):null)}function _glTexParameterf(x0,x1,x2){GLctx["texParameterf"](x0,x1,x2)}function _glTexParameterfv(target,pname,params){var param=HEAPF32[params>>2];GLctx.texParameterf(target,pname,param)}function _glTexParameteri(x0,x1,x2){GLctx["texParameteri"](x0,x1,x2)}function _glTexStorage2D(x0,x1,x2,x3,x4){GLctx["texStorage2D"](x0,x1,x2,x3,x4)}function _glTexStorage3D(x0,x1,x2,x3,x4,x5){GLctx["texStorage3D"](x0,x1,x2,x3,x4,x5)}function _glTexSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,null)}return}var pixelData=null;if(pixels)pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,0);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixelData)}function _glTexSubImage3D(target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels){if(GLctx.currentPixelUnpackBufferBinding){GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,pixels)}else if(pixels){var heap=heapObjectForWebGLType(type);GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,heap,pixels>>heapAccessShiftForWebGLHeap(heap))}else{GLctx["texSubImage3D"](target,level,xoffset,yoffset,zoffset,width,height,depth,format,type,null)}}function _glUniform1f(location,v0){GLctx.uniform1f(GL.uniforms[location],v0)}var miniTempWebGLFloatBuffers=[];function _glUniform1fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform1fv(GL.uniforms[location],HEAPF32,value>>2,count);return}if(count<=288){var view=miniTempWebGLFloatBuffers[count-1];for(var i=0;i<count;++i){view[i]=HEAPF32[value+4*i>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*4>>2)}GLctx.uniform1fv(GL.uniforms[location],view)}function _glUniform1i(location,v0){GLctx.uniform1i(GL.uniforms[location],v0)}var __miniTempWebGLIntBuffers=[];function _glUniform1iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform1iv(GL.uniforms[location],HEAP32,value>>2,count);return}if(count<=288){var view=__miniTempWebGLIntBuffers[count-1];for(var i=0;i<count;++i){view[i]=HEAP32[value+4*i>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*4>>2)}GLctx.uniform1iv(GL.uniforms[location],view)}function _glUniform2f(location,v0,v1){GLctx.uniform2f(GL.uniforms[location],v0,v1)}function _glUniform2fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2fv(GL.uniforms[location],HEAPF32,value>>2,count*2);return}if(count<=144){var view=miniTempWebGLFloatBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2fv(GL.uniforms[location],view)}function _glUniform2iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2iv(GL.uniforms[location],HEAP32,value>>2,count*2);return}if(count<=144){var view=__miniTempWebGLIntBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2iv(GL.uniforms[location],view)}function _glUniform3f(location,v0,v1,v2){GLctx.uniform3f(GL.uniforms[location],v0,v1,v2)}function _glUniform3fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform3fv(GL.uniforms[location],HEAPF32,value>>2,count*3);return}if(count<=96){var view=miniTempWebGLFloatBuffers[3*count-1];for(var i=0;i<3*count;i+=3){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*12>>2)}GLctx.uniform3fv(GL.uniforms[location],view)}function _glUniform3iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform3iv(GL.uniforms[location],HEAP32,value>>2,count*3);return}if(count<=96){var view=__miniTempWebGLIntBuffers[3*count-1];for(var i=0;i<3*count;i+=3){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2];view[i+2]=HEAP32[value+(4*i+8)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*12>>2)}GLctx.uniform3iv(GL.uniforms[location],view)}function _glUniform4f(location,v0,v1,v2,v3){GLctx.uniform4f(GL.uniforms[location],v0,v1,v2,v3)}function _glUniform4fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4fv(GL.uniforms[location],HEAPF32,value>>2,count*4);return}if(count<=72){var view=miniTempWebGLFloatBuffers[4*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<4*count;i+=4){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4fv(GL.uniforms[location],view)}function _glUniform4iv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4iv(GL.uniforms[location],HEAP32,value>>2,count*4);return}if(count<=72){var view=__miniTempWebGLIntBuffers[4*count-1];for(var i=0;i<4*count;i+=4){view[i]=HEAP32[value+4*i>>2];view[i+1]=HEAP32[value+(4*i+4)>>2];view[i+2]=HEAP32[value+(4*i+8)>>2];view[i+3]=HEAP32[value+(4*i+12)>>2]}}else{var view=HEAP32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4iv(GL.uniforms[location],view)}function _glUniformBlockBinding(program,uniformBlockIndex,uniformBlockBinding){program=GL.programs[program];GLctx["uniformBlockBinding"](program,uniformBlockIndex,uniformBlockBinding)}function _glUniformMatrix2fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix2fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*4);return}if(count<=72){var view=miniTempWebGLFloatBuffers[4*count-1];for(var i=0;i<4*count;i+=4){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2];view[i+3]=HEAPF32[value+(4*i+12)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniformMatrix2fv(GL.uniforms[location],!!transpose,view)}function _glUniformMatrix3fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix3fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*9);return}if(count<=32){var view=miniTempWebGLFloatBuffers[9*count-1];for(var i=0;i<9*count;i+=9){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2];view[i+3]=HEAPF32[value+(4*i+12)>>2];view[i+4]=HEAPF32[value+(4*i+16)>>2];view[i+5]=HEAPF32[value+(4*i+20)>>2];view[i+6]=HEAPF32[value+(4*i+24)>>2];view[i+7]=HEAPF32[value+(4*i+28)>>2];view[i+8]=HEAPF32[value+(4*i+32)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*36>>2)}GLctx.uniformMatrix3fv(GL.uniforms[location],!!transpose,view)}function _glUniformMatrix4fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*16);return}if(count<=18){var view=miniTempWebGLFloatBuffers[16*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<16*count;i+=16){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3];view[i+4]=heap[dst+4];view[i+5]=heap[dst+5];view[i+6]=heap[dst+6];view[i+7]=heap[dst+7];view[i+8]=heap[dst+8];view[i+9]=heap[dst+9];view[i+10]=heap[dst+10];view[i+11]=heap[dst+11];view[i+12]=heap[dst+12];view[i+13]=heap[dst+13];view[i+14]=heap[dst+14];view[i+15]=heap[dst+15]}}else{var view=HEAPF32.subarray(value>>2,value+count*64>>2)}GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,view)}function _glUseProgram(program){GLctx.useProgram(GL.programs[program])}function _glVertexAttribPointer(index,size,type,normalized,stride,ptr){var cb=GL.currentContext.clientBuffers[index];if(!GLctx.currentArrayBufferBinding){cb.size=size;cb.type=type;cb.normalized=normalized;cb.stride=stride;cb.ptr=ptr;cb.clientside=true;cb.vertexAttribPointerAdaptor=function(index,size,type,normalized,stride,ptr){this.vertexAttribPointer(index,size,type,normalized,stride,ptr)};return}cb.clientside=false;GLctx.vertexAttribPointer(index,size,type,!!normalized,stride,ptr)}function _glViewport(x0,x1,x2,x3){GLctx["viewport"](x0,x1,x2,x3)}function _gmtime_r(time,tmPtr){var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getUTCSeconds();HEAP32[tmPtr+4>>2]=date.getUTCMinutes();HEAP32[tmPtr+8>>2]=date.getUTCHours();HEAP32[tmPtr+12>>2]=date.getUTCDate();HEAP32[tmPtr+16>>2]=date.getUTCMonth();HEAP32[tmPtr+20>>2]=date.getUTCFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getUTCDay();HEAP32[tmPtr+36>>2]=0;HEAP32[tmPtr+32>>2]=0;var start=Date.UTC(date.getUTCFullYear(),0,1,0,0,0,0);var yday=(date.getTime()-start)/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;if(!_gmtime_r.GMTString)_gmtime_r.GMTString=allocateUTF8("GMT");HEAP32[tmPtr+40>>2]=_gmtime_r.GMTString;return tmPtr}function _llvm_eh_typeid_for(type){return type}function _tzset(){if(_tzset.called)return;_tzset.called=true;var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);HEAP32[__get_timezone()>>2]=stdTimezoneOffset*60;HEAP32[__get_daylight()>>2]=Number(winterOffset!=summerOffset);function extractZone(date){var match=date.toTimeString().match(/\(([A-Za-z ]+)\)$/);return match?match[1]:"GMT"}var winterName=extractZone(winter);var summerName=extractZone(summer);var winterNamePtr=allocateUTF8(winterName);var summerNamePtr=allocateUTF8(summerName);if(summerOffset<winterOffset){HEAP32[__get_tzname()>>2]=winterNamePtr;HEAP32[__get_tzname()+4>>2]=summerNamePtr}else{HEAP32[__get_tzname()>>2]=summerNamePtr;HEAP32[__get_tzname()+4>>2]=winterNamePtr}}function _localtime_r(time,tmPtr){_tzset();var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();HEAP32[tmPtr+20>>2]=date.getFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getDay();var start=new Date(date.getFullYear(),0,1);var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr+36>>2]=-(date.getTimezoneOffset()*60);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dst=(summerOffset!=winterOffset&&date.getTimezoneOffset()==Math.min(winterOffset,summerOffset))|0;HEAP32[tmPtr+32>>2]=dst;var zonePtr=HEAP32[__get_tzname()+(dst?4:0)>>2];HEAP32[tmPtr+40>>2]=zonePtr;return tmPtr}function _mktime(tmPtr){_tzset();var date=new Date(HEAP32[tmPtr+20>>2]+1900,HEAP32[tmPtr+16>>2],HEAP32[tmPtr+12>>2],HEAP32[tmPtr+8>>2],HEAP32[tmPtr+4>>2],HEAP32[tmPtr>>2],0);var dst=HEAP32[tmPtr+32>>2];var guessedOffset=date.getTimezoneOffset();var start=new Date(date.getFullYear(),0,1);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dstOffset=Math.min(winterOffset,summerOffset);if(dst<0){HEAP32[tmPtr+32>>2]=Number(summerOffset!=winterOffset&&dstOffset==guessedOffset)}else if(dst>0!=(dstOffset==guessedOffset)){var nonDstOffset=Math.max(winterOffset,summerOffset);var trueOffset=dst>0?dstOffset:nonDstOffset;date.setTime(date.getTime()+(trueOffset-guessedOffset)*6e4)}HEAP32[tmPtr+24>>2]=date.getDay();var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();return date.getTime()/1e3|0}function _pthread_create(){return 6}function _pthread_join(){return 28}function _setTempRet0($i){setTempRet0($i|0)}function __isLeapYear(year){return year%4===0&&(year%100!==0||year%400===0)}function __arraySum(array,index){var sum=0;for(var i=0;i<=index;sum+=array[i++]){}return sum}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31];var __MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(date,days){var newDate=new Date(date.getTime());while(days>0){var leap=__isLeapYear(newDate.getFullYear());var currentMonth=newDate.getMonth();var daysInCurrentMonth=(leap?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[currentMonth];if(days>daysInCurrentMonth-newDate.getDate()){days-=daysInCurrentMonth-newDate.getDate()+1;newDate.setDate(1);if(currentMonth<11){newDate.setMonth(currentMonth+1)}else{newDate.setMonth(0);newDate.setFullYear(newDate.getFullYear()+1)}}else{newDate.setDate(newDate.getDate()+days);return newDate}}return newDate}function _strftime(s,maxsize,format,tm){var tm_zone=HEAP32[tm+40>>2];var date={tm_sec:HEAP32[tm>>2],tm_min:HEAP32[tm+4>>2],tm_hour:HEAP32[tm+8>>2],tm_mday:HEAP32[tm+12>>2],tm_mon:HEAP32[tm+16>>2],tm_year:HEAP32[tm+20>>2],tm_wday:HEAP32[tm+24>>2],tm_yday:HEAP32[tm+28>>2],tm_isdst:HEAP32[tm+32>>2],tm_gmtoff:HEAP32[tm+36>>2],tm_zone:tm_zone?UTF8ToString(tm_zone):""};var pattern=UTF8ToString(format);var EXPANSION_RULES_1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var rule in EXPANSION_RULES_1){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_1[rule])}var WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];function leadingSomething(value,digits,character){var str=typeof value==="number"?value.toString():value||"";while(str.length<digits){str=character[0]+str}return str}function leadingNulls(value,digits){return leadingSomething(value,digits,"0")}function compareByDay(date1,date2){function sgn(value){return value<0?-1:value>0?1:0}var compare;if((compare=sgn(date1.getFullYear()-date2.getFullYear()))===0){if((compare=sgn(date1.getMonth()-date2.getMonth()))===0){compare=sgn(date1.getDate()-date2.getDate())}}return compare}function getFirstWeekStartDate(janFourth){switch(janFourth.getDay()){case 0:return new Date(janFourth.getFullYear()-1,11,29);case 1:return janFourth;case 2:return new Date(janFourth.getFullYear(),0,3);case 3:return new Date(janFourth.getFullYear(),0,2);case 4:return new Date(janFourth.getFullYear(),0,1);case 5:return new Date(janFourth.getFullYear()-1,11,31);case 6:return new Date(janFourth.getFullYear()-1,11,30)}}function getWeekBasedYear(date){var thisDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);var janFourthThisYear=new Date(thisDate.getFullYear(),0,4);var janFourthNextYear=new Date(thisDate.getFullYear()+1,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);if(compareByDay(firstWeekStartThisYear,thisDate)<=0){if(compareByDay(firstWeekStartNextYear,thisDate)<=0){return thisDate.getFullYear()+1}else{return thisDate.getFullYear()}}else{return thisDate.getFullYear()-1}}var EXPANSION_RULES_2={"%a":function(date){return WEEKDAYS[date.tm_wday].substring(0,3)},"%A":function(date){return WEEKDAYS[date.tm_wday]},"%b":function(date){return MONTHS[date.tm_mon].substring(0,3)},"%B":function(date){return MONTHS[date.tm_mon]},"%C":function(date){var year=date.tm_year+1900;return leadingNulls(year/100|0,2)},"%d":function(date){return leadingNulls(date.tm_mday,2)},"%e":function(date){return leadingSomething(date.tm_mday,2," ")},"%g":function(date){return getWeekBasedYear(date).toString().substring(2)},"%G":function(date){return getWeekBasedYear(date)},"%H":function(date){return leadingNulls(date.tm_hour,2)},"%I":function(date){var twelveHour=date.tm_hour;if(twelveHour==0)twelveHour=12;else if(twelveHour>12)twelveHour-=12;return leadingNulls(twelveHour,2)},"%j":function(date){return leadingNulls(date.tm_mday+__arraySum(__isLeapYear(date.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,date.tm_mon-1),3)},"%m":function(date){return leadingNulls(date.tm_mon+1,2)},"%M":function(date){return leadingNulls(date.tm_min,2)},"%n":function(){return"\n"},"%p":function(date){if(date.tm_hour>=0&&date.tm_hour<12){return"AM"}else{return"PM"}},"%S":function(date){return leadingNulls(date.tm_sec,2)},"%t":function(){return"\t"},"%u":function(date){return date.tm_wday||7},"%U":function(date){var janFirst=new Date(date.tm_year+1900,0,1);var firstSunday=janFirst.getDay()===0?janFirst:__addDays(janFirst,7-janFirst.getDay());var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstSunday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstSundayUntilEndJanuary=31-firstSunday.getDate();var days=firstSundayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstSunday,janFirst)===0?"01":"00"},"%V":function(date){var janFourthThisYear=new Date(date.tm_year+1900,0,4);var janFourthNextYear=new Date(date.tm_year+1901,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);var endDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);if(compareByDay(endDate,firstWeekStartThisYear)<0){return"53"}if(compareByDay(firstWeekStartNextYear,endDate)<=0){return"01"}var daysDifference;if(firstWeekStartThisYear.getFullYear()<date.tm_year+1900){daysDifference=date.tm_yday+32-firstWeekStartThisYear.getDate()}else{daysDifference=date.tm_yday+1-firstWeekStartThisYear.getDate()}return leadingNulls(Math.ceil(daysDifference/7),2)},"%w":function(date){return date.tm_wday},"%W":function(date){var janFirst=new Date(date.tm_year,0,1);var firstMonday=janFirst.getDay()===1?janFirst:__addDays(janFirst,janFirst.getDay()===0?1:7-janFirst.getDay()+1);var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstMonday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstMondayUntilEndJanuary=31-firstMonday.getDate();var days=firstMondayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstMonday,janFirst)===0?"01":"00"},"%y":function(date){return(date.tm_year+1900).toString().substring(2)},"%Y":function(date){return date.tm_year+1900},"%z":function(date){var off=date.tm_gmtoff;var ahead=off>=0;off=Math.abs(off)/60;off=off/60*100+off%60;return(ahead?"+":"-")+String("0000"+off).slice(-4)},"%Z":function(date){return date.tm_zone},"%%":function(){return"%"}};for(var rule in EXPANSION_RULES_2){if(pattern.indexOf(rule)>=0){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_2[rule](date))}}var bytes=intArrayFromString(pattern,false);if(bytes.length>maxsize){return 0}writeArrayToMemory(bytes,s);return bytes.length-1}function _strftime_l(s,maxsize,format,tm){return _strftime(s,maxsize,format,tm)}var readAsmConstArgsArray=[];function readAsmConstArgs(sigPtr,buf){assert(Array.isArray(readAsmConstArgsArray));assert(buf%16==0);readAsmConstArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){assert(ch===100||ch===102||ch===105);var double=ch<105;if(double&&buf&1)buf++;readAsmConstArgsArray.push(double?HEAPF64[buf++>>1]:HEAP32[buf]);++buf}return readAsmConstArgsArray}Module["requestFullscreen"]=function Module_requestFullscreen(lockPointer,resizeCanvas){Browser.requestFullscreen(lockPointer,resizeCanvas)};Module["requestFullScreen"]=function Module_requestFullScreen(){Browser.requestFullScreen()};Module["requestAnimationFrame"]=function Module_requestAnimationFrame(func){Browser.requestAnimationFrame(func)};Module["setCanvasSize"]=function Module_setCanvasSize(width,height,noUpdates){Browser.setCanvasSize(width,height,noUpdates)};Module["pauseMainLoop"]=function Module_pauseMainLoop(){Browser.mainLoop.pause()};Module["resumeMainLoop"]=function Module_resumeMainLoop(){Browser.mainLoop.resume()};Module["getUserMedia"]=function Module_getUserMedia(){Browser.getUserMedia()};Module["createContext"]=function Module_createContext(canvas,useWebGL,setInModule,webGLContextAttributes){return Browser.createContext(canvas,useWebGL,setInModule,webGLContextAttributes)};var FSNode=function(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.mounted=null;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.node_ops={};this.stream_ops={};this.rdev=rdev};var readMode=292|73;var writeMode=146;Object.defineProperties(FSNode.prototype,{read:{get:function(){return(this.mode&readMode)===readMode},set:function(val){val?this.mode|=readMode:this.mode&=~readMode}},write:{get:function(){return(this.mode&writeMode)===writeMode},set:function(val){val?this.mode|=writeMode:this.mode&=~writeMode}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}});FS.FSNode=FSNode;FS.staticInit();Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;init_emval();PureVirtualError=Module["PureVirtualError"]=extendError(Error,"PureVirtualError");embind_init_charCodes();init_embind();BindingError=Module["BindingError"]=extendError(Error,"BindingError");InternalError=Module["InternalError"]=extendError(Error,"InternalError");init_ClassHandle();init_RegisteredPointer();UnboundTypeError=Module["UnboundTypeError"]=extendError(Error,"UnboundTypeError");var GLctx;for(var i=0;i<32;++i)tempFixedLengthArray.push(new Array(i));var miniTempWebGLFloatBuffersStorage=new Float32Array(288);for(var i=0;i<288;++i){miniTempWebGLFloatBuffers[i]=miniTempWebGLFloatBuffersStorage.subarray(0,i+1)}var __miniTempWebGLIntBuffersStorage=new Int32Array(288);for(var i=0;i<288;++i){__miniTempWebGLIntBuffers[i]=__miniTempWebGLIntBuffersStorage.subarray(0,i+1)}var ASSERTIONS=true;function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}var asmLibraryArg={"__cxa_allocate_exception":___cxa_allocate_exception,"__cxa_atexit":___cxa_atexit,"__cxa_begin_catch":___cxa_begin_catch,"__cxa_end_catch":___cxa_end_catch,"__cxa_find_matching_catch_2":___cxa_find_matching_catch_2,"__cxa_find_matching_catch_3":___cxa_find_matching_catch_3,"__cxa_free_exception":___cxa_free_exception,"__cxa_rethrow":___cxa_rethrow,"__cxa_thread_atexit":___cxa_thread_atexit,"__cxa_throw":___cxa_throw,"__resumeException":___resumeException,"__sys_fcntl64":___sys_fcntl64,"__sys_fstat64":___sys_fstat64,"__sys_ioctl":___sys_ioctl,"__sys_mmap2":___sys_mmap2,"__sys_mprotect":___sys_mprotect,"__sys_munmap":___sys_munmap,"__sys_open":___sys_open,"__sys_stat64":___sys_stat64,"_embind_create_inheriting_constructor":__embind_create_inheriting_constructor,"_embind_finalize_value_object":__embind_finalize_value_object,"_embind_register_bool":__embind_register_bool,"_embind_register_class":__embind_register_class,"_embind_register_class_class_function":__embind_register_class_class_function,"_embind_register_class_constructor":__embind_register_class_constructor,"_embind_register_class_function":__embind_register_class_function,"_embind_register_class_property":__embind_register_class_property,"_embind_register_emval":__embind_register_emval,"_embind_register_float":__embind_register_float,"_embind_register_function":__embind_register_function,"_embind_register_integer":__embind_register_integer,"_embind_register_memory_view":__embind_register_memory_view,"_embind_register_std_string":__embind_register_std_string,"_embind_register_std_wstring":__embind_register_std_wstring,"_embind_register_value_object":__embind_register_value_object,"_embind_register_value_object_field":__embind_register_value_object_field,"_embind_register_void":__embind_register_void,"_emval_call_void_method":__emval_call_void_method,"_emval_decref":__emval_decref,"_emval_get_method_caller":__emval_get_method_caller,"_emval_incref":__emval_incref,"_emval_take_value":__emval_take_value,"_exit":__exit,"abort":_abort,"clock_gettime":_clock_gettime,"dlopen":_dlopen,"dlsym":_dlsym,"eglGetCurrentContext":_eglGetCurrentContext,"eglGetDisplay":_eglGetDisplay,"eglQueryContext":_eglQueryContext,"emscripten_asm_const_int":_emscripten_asm_const_int,"emscripten_async_call":_emscripten_async_call,"emscripten_get_heap_max":_emscripten_get_heap_max,"emscripten_longjmp":_emscripten_longjmp,"emscripten_memcpy_big":_emscripten_memcpy_big,"emscripten_resize_heap":_emscripten_resize_heap,"emscripten_thread_sleep":_emscripten_thread_sleep,"emscripten_webgl_create_context":_emscripten_webgl_create_context,"emscripten_webgl_destroy_context":_emscripten_webgl_destroy_context,"emscripten_webgl_get_context_attributes":_emscripten_webgl_get_context_attributes,"emscripten_webgl_get_current_context":_emscripten_webgl_get_current_context,"emscripten_webgl_init_context_attributes":_emscripten_webgl_init_context_attributes,"emscripten_webgl_make_context_current":_emscripten_webgl_make_context_current,"environ_get":_environ_get,"environ_sizes_get":_environ_sizes_get,"exit":_exit,"fd_close":_fd_close,"fd_fdstat_get":_fd_fdstat_get,"fd_read":_fd_read,"fd_seek":_fd_seek,"fd_write":_fd_write,"getTempRet0":_getTempRet0,"gettimeofday":_gettimeofday,"glActiveTexture":_glActiveTexture,"glAttachShader":_glAttachShader,"glBindAttribLocation":_glBindAttribLocation,"glBindBuffer":_glBindBuffer,"glBindBufferBase":_glBindBufferBase,"glBindFramebuffer":_glBindFramebuffer,"glBindRenderbuffer":_glBindRenderbuffer,"glBindSampler":_glBindSampler,"glBindTexture":_glBindTexture,"glBindVertexArray":_glBindVertexArray,"glBlendFunc":_glBlendFunc,"glBlendFuncSeparate":_glBlendFuncSeparate,"glBlitFramebuffer":_glBlitFramebuffer,"glBufferData":_glBufferData,"glBufferSubData":_glBufferSubData,"glCheckFramebufferStatus":_glCheckFramebufferStatus,"glClear":_glClear,"glClearColor":_glClearColor,"glClearDepthf":_glClearDepthf,"glClearStencil":_glClearStencil,"glClientWaitSync":_glClientWaitSync,"glColorMask":_glColorMask,"glCompileShader":_glCompileShader,"glCompressedTexImage2D":_glCompressedTexImage2D,"glCreateProgram":_glCreateProgram,"glCreateShader":_glCreateShader,"glCullFace":_glCullFace,"glDeleteBuffers":_glDeleteBuffers,"glDeleteFramebuffers":_glDeleteFramebuffers,"glDeleteProgram":_glDeleteProgram,"glDeleteRenderbuffers":_glDeleteRenderbuffers,"glDeleteShader":_glDeleteShader,"glDeleteSync":_glDeleteSync,"glDeleteTextures":_glDeleteTextures,"glDeleteVertexArrays":_glDeleteVertexArrays,"glDepthFunc":_glDepthFunc,"glDepthMask":_glDepthMask,"glDisable":_glDisable,"glDisableVertexAttribArray":_glDisableVertexAttribArray,"glDrawArrays":_glDrawArrays,"glDrawBuffers":_glDrawBuffers,"glDrawElements":_glDrawElements,"glEnable":_glEnable,"glEnableVertexAttribArray":_glEnableVertexAttribArray,"glFenceSync":_glFenceSync,"glFinish":_glFinish,"glFlush":_glFlush,"glFramebufferRenderbuffer":_glFramebufferRenderbuffer,"glFramebufferTexture2D":_glFramebufferTexture2D,"glFramebufferTextureLayer":_glFramebufferTextureLayer,"glFrontFace":_glFrontFace,"glGenBuffers":_glGenBuffers,"glGenFramebuffers":_glGenFramebuffers,"glGenRenderbuffers":_glGenRenderbuffers,"glGenTextures":_glGenTextures,"glGenVertexArrays":_glGenVertexArrays,"glGenerateMipmap":_glGenerateMipmap,"glGetActiveUniform":_glGetActiveUniform,"glGetActiveUniformBlockName":_glGetActiveUniformBlockName,"glGetActiveUniformBlockiv":_glGetActiveUniformBlockiv,"glGetAttribLocation":_glGetAttribLocation,"glGetBooleanv":_glGetBooleanv,"glGetError":_glGetError,"glGetIntegerv":_glGetIntegerv,"glGetProgramInfoLog":_glGetProgramInfoLog,"glGetProgramiv":_glGetProgramiv,"glGetShaderInfoLog":_glGetShaderInfoLog,"glGetShaderiv":_glGetShaderiv,"glGetString":_glGetString,"glGetStringi":_glGetStringi,"glGetUniformBlockIndex":_glGetUniformBlockIndex,"glGetUniformLocation":_glGetUniformLocation,"glLinkProgram":_glLinkProgram,"glPixelStorei":_glPixelStorei,"glReadBuffer":_glReadBuffer,"glReadPixels":_glReadPixels,"glRenderbufferStorage":_glRenderbufferStorage,"glRenderbufferStorageMultisample":_glRenderbufferStorageMultisample,"glScissor":_glScissor,"glShaderSource":_glShaderSource,"glStencilFuncSeparate":_glStencilFuncSeparate,"glStencilOpSeparate":_glStencilOpSeparate,"glTexImage2D":_glTexImage2D,"glTexParameterf":_glTexParameterf,"glTexParameterfv":_glTexParameterfv,"glTexParameteri":_glTexParameteri,"glTexStorage2D":_glTexStorage2D,"glTexStorage3D":_glTexStorage3D,"glTexSubImage2D":_glTexSubImage2D,"glTexSubImage3D":_glTexSubImage3D,"glUniform1f":_glUniform1f,"glUniform1fv":_glUniform1fv,"glUniform1i":_glUniform1i,"glUniform1iv":_glUniform1iv,"glUniform2f":_glUniform2f,"glUniform2fv":_glUniform2fv,"glUniform2iv":_glUniform2iv,"glUniform3f":_glUniform3f,"glUniform3fv":_glUniform3fv,"glUniform3iv":_glUniform3iv,"glUniform4f":_glUniform4f,"glUniform4fv":_glUniform4fv,"glUniform4iv":_glUniform4iv,"glUniformBlockBinding":_glUniformBlockBinding,"glUniformMatrix2fv":_glUniformMatrix2fv,"glUniformMatrix3fv":_glUniformMatrix3fv,"glUniformMatrix4fv":_glUniformMatrix4fv,"glUseProgram":_glUseProgram,"glVertexAttribPointer":_glVertexAttribPointer,"glViewport":_glViewport,"gmtime_r":_gmtime_r,"invoke_diii":invoke_diii,"invoke_i":invoke_i,"invoke_ii":invoke_ii,"invoke_iii":invoke_iii,"invoke_iiii":invoke_iiii,"invoke_iiiii":invoke_iiiii,"invoke_iiiiii":invoke_iiiiii,"invoke_iiiiiii":invoke_iiiiiii,"invoke_iiiiiiiddi":invoke_iiiiiiiddi,"invoke_iiiiiiii":invoke_iiiiiiii,"invoke_iiiiiiiii":invoke_iiiiiiiii,"invoke_iiiiiiiiii":invoke_iiiiiiiiii,"invoke_v":invoke_v,"invoke_vdiii":invoke_vdiii,"invoke_vi":invoke_vi,"invoke_vididdii":invoke_vididdii,"invoke_vidii":invoke_vidii,"invoke_vii":invoke_vii,"invoke_viid":invoke_viid,"invoke_viidd":invoke_viidd,"invoke_viidi":invoke_viidi,"invoke_viididii":invoke_viididii,"invoke_viii":invoke_viii,"invoke_viiid":invoke_viiid,"invoke_viiidd":invoke_viiidd,"invoke_viiiddi":invoke_viiiddi,"invoke_viiidi":invoke_viiidi,"invoke_viiii":invoke_viiii,"invoke_viiiid":invoke_viiiid,"invoke_viiiidi":invoke_viiiidi,"invoke_viiiidid":invoke_viiiidid,"invoke_viiiidiidiiiiiii":invoke_viiiidiidiiiiiii,"invoke_viiiifiifiiiiiii":invoke_viiiifiifiiiiiii,"invoke_viiiii":invoke_viiiii,"invoke_viiiiid":invoke_viiiiid,"invoke_viiiiif":invoke_viiiiif,"invoke_viiiiii":invoke_viiiiii,"invoke_viiiiiid":invoke_viiiiiid,"invoke_viiiiiif":invoke_viiiiiif,"invoke_viiiiiii":invoke_viiiiiii,"invoke_viiiiiiiddi":invoke_viiiiiiiddi,"invoke_viiiiiiidiiii":invoke_viiiiiiidiiii,"invoke_viiiiiiifiiii":invoke_viiiiiiifiiii,"invoke_viiiiiiii":invoke_viiiiiiii,"invoke_viiiiiiiidd":invoke_viiiiiiiidd,"invoke_viiiiiiiidf":invoke_viiiiiiiidf,"invoke_viiiiiiiii":invoke_viiiiiiiii,"invoke_viiiiiiiiidd":invoke_viiiiiiiiidd,"invoke_viiiiiiiiiddi":invoke_viiiiiiiiiddi,"invoke_viiiiiiiiii":invoke_viiiiiiiiii,"invoke_viiiiiiiiiiddi":invoke_viiiiiiiiiiddi,"invoke_viiiiiiiiiii":invoke_viiiiiiiiiii,"invoke_viiiiiiiiiiii":invoke_viiiiiiiiiiii,"invoke_viiiiiiiiiiiii":invoke_viiiiiiiiiiiii,"llvm_eh_typeid_for":_llvm_eh_typeid_for,"localtime_r":_localtime_r,"mktime":_mktime,"pthread_create":_pthread_create,"pthread_join":_pthread_join,"setTempRet0":_setTempRet0,"strftime":_strftime,"strftime_l":_strftime_l};var asm=createWasm();var ___wasm_call_ctors=Module["___wasm_call_ctors"]=createExportWrapper("__wasm_call_ctors");var _memset=Module["_memset"]=createExportWrapper("memset");var _free=Module["_free"]=createExportWrapper("free");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var ___errno_location=Module["___errno_location"]=createExportWrapper("__errno_location");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var ___getTypeName=Module["___getTypeName"]=createExportWrapper("__getTypeName");var ___embind_register_native_and_builtin_types=Module["___embind_register_native_and_builtin_types"]=createExportWrapper("__embind_register_native_and_builtin_types");var __get_tzname=Module["__get_tzname"]=createExportWrapper("_get_tzname");var __get_daylight=Module["__get_daylight"]=createExportWrapper("_get_daylight");var __get_timezone=Module["__get_timezone"]=createExportWrapper("_get_timezone");var _emscripten_main_thread_process_queued_calls=Module["_emscripten_main_thread_process_queued_calls"]=createExportWrapper("emscripten_main_thread_process_queued_calls");var _emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=function(){return(_emscripten_stack_get_end=Module["_emscripten_stack_get_end"]=Module["asm"]["emscripten_stack_get_end"]).apply(null,arguments)};var stackSave=Module["stackSave"]=createExportWrapper("stackSave");var stackRestore=Module["stackRestore"]=createExportWrapper("stackRestore");var stackAlloc=Module["stackAlloc"]=createExportWrapper("stackAlloc");var _emscripten_stack_init=Module["_emscripten_stack_init"]=function(){return(_emscripten_stack_init=Module["_emscripten_stack_init"]=Module["asm"]["emscripten_stack_init"]).apply(null,arguments)};var _emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=function(){return(_emscripten_stack_get_free=Module["_emscripten_stack_get_free"]=Module["asm"]["emscripten_stack_get_free"]).apply(null,arguments)};var _setThrew=Module["_setThrew"]=createExportWrapper("setThrew");var _memalign=Module["_memalign"]=createExportWrapper("memalign");var dynCall_viijii=Module["dynCall_viijii"]=createExportWrapper("dynCall_viijii");var dynCall_ji=Module["dynCall_ji"]=createExportWrapper("dynCall_ji");var dynCall_jii=Module["dynCall_jii"]=createExportWrapper("dynCall_jii");var dynCall_jf=Module["dynCall_jf"]=createExportWrapper("dynCall_jf");var dynCall_jiii=Module["dynCall_jiii"]=createExportWrapper("dynCall_jiii");var dynCall_viji=Module["dynCall_viji"]=createExportWrapper("dynCall_viji");var dynCall_vij=Module["dynCall_vij"]=createExportWrapper("dynCall_vij");var dynCall_vijii=Module["dynCall_vijii"]=createExportWrapper("dynCall_vijii");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_jjj=Module["dynCall_jjj"]=createExportWrapper("dynCall_jjj");var dynCall_iiiijj=Module["dynCall_iiiijj"]=createExportWrapper("dynCall_iiiijj");var dynCall_viijj=Module["dynCall_viijj"]=createExportWrapper("dynCall_viijj");var dynCall_viiijjjj=Module["dynCall_viiijjjj"]=createExportWrapper("dynCall_viiijjjj");var dynCall_jiiii=Module["dynCall_jiiii"]=createExportWrapper("dynCall_jiiii");var dynCall_vji=Module["dynCall_vji"]=createExportWrapper("dynCall_vji");var dynCall_vj=Module["dynCall_vj"]=createExportWrapper("dynCall_vj");var dynCall_viij=Module["dynCall_viij"]=createExportWrapper("dynCall_viij");var dynCall_viiiiij=Module["dynCall_viiiiij"]=createExportWrapper("dynCall_viiiiij");var dynCall_iijjiiii=Module["dynCall_iijjiiii"]=createExportWrapper("dynCall_iijjiiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");var dynCall_iiiiij=Module["dynCall_iiiiij"]=createExportWrapper("dynCall_iiiiij");var dynCall_iiiiijj=Module["dynCall_iiiiijj"]=createExportWrapper("dynCall_iiiiijj");var dynCall_iiiiiijj=Module["dynCall_iiiiiijj"]=createExportWrapper("dynCall_iiiiiijj");function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiii(index,a1,a2,a3,a4){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_ii(index,a1){var sp=stackSave();try{return wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vii(index,a1,a2){var sp=stackSave();try{wasmTable.get(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vi(index,a1){var sp=stackSave();try{wasmTable.get(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_v(index){var sp=stackSave();try{wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viid(index,a1,a2,a3){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidd(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_diii(index,a1,a2,a3){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidd(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiidd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiddi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_i(index){var sp=stackSave();try{return wasmTable.get(index)()}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiidi(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vdiii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vididdii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidi(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viididii(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidf(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiidd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiid(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiidiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiif(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiif(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiifiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiifiifiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidiidiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiid(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vidii(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiiiddi(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{return wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiid(index,a1,a2,a3,a4,a5){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiidid(index,a1,a2,a3,a4,a5,a6,a7){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4,a5,a6,a7)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidi(index,a1,a2,a3,a4){var sp=stackSave();try{wasmTable.get(index)(a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}if(!Object.getOwnPropertyDescriptor(Module,"intArrayFromString"))Module["intArrayFromString"]=function(){abort("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"intArrayToString"))Module["intArrayToString"]=function(){abort("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ccall"))Module["ccall"]=function(){abort("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"cwrap"))Module["cwrap"]=function(){abort("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setValue"))Module["setValue"]=function(){abort("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getValue"))Module["getValue"]=function(){abort("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocate"))Module["allocate"]=function(){abort("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ArrayToString"))Module["UTF8ArrayToString"]=function(){abort("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF8ToString"))Module["UTF8ToString"]=function(){abort("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8Array"))Module["stringToUTF8Array"]=function(){abort("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF8"))Module["stringToUTF8"]=function(){abort("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF8"))Module["lengthBytesUTF8"]=function(){abort("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreRun"))Module["addOnPreRun"]=function(){abort("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnInit"))Module["addOnInit"]=function(){abort("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPreMain"))Module["addOnPreMain"]=function(){abort("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnExit"))Module["addOnExit"]=function(){abort("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addOnPostRun"))Module["addOnPostRun"]=function(){abort("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeStringToMemory"))Module["writeStringToMemory"]=function(){abort("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeArrayToMemory"))Module["writeArrayToMemory"]=function(){abort("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeAsciiToMemory"))Module["writeAsciiToMemory"]=function(){abort("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;if(!Object.getOwnPropertyDescriptor(Module,"FS_createFolder"))Module["FS_createFolder"]=function(){abort("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;if(!Object.getOwnPropertyDescriptor(Module,"FS_createLink"))Module["FS_createLink"]=function(){abort("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;if(!Object.getOwnPropertyDescriptor(Module,"getLEB"))Module["getLEB"]=function(){abort("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFunctionTables"))Module["getFunctionTables"]=function(){abort("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"alignFunctionTables"))Module["alignFunctionTables"]=function(){abort("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFunctions"))Module["registerFunctions"]=function(){abort("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"addFunction"))Module["addFunction"]=function(){abort("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"removeFunction"))Module["removeFunction"]=function(){abort("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"prettyPrint"))Module["prettyPrint"]=function(){abort("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeBigInt"))Module["makeBigInt"]=function(){abort("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCompilerSetting"))Module["getCompilerSetting"]=function(){abort("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"print"))Module["print"]=function(){abort("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"printErr"))Module["printErr"]=function(){abort("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTempRet0"))Module["getTempRet0"]=function(){abort("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setTempRet0"))Module["setTempRet0"]=function(){abort("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callMain"))Module["callMain"]=function(){abort("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"abort"))Module["abort"]=function(){abort("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToNewUTF8"))Module["stringToNewUTF8"]=function(){abort("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setFileTime"))Module["setFileTime"]=function(){abort("'setFileTime' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscripten_realloc_buffer"))Module["emscripten_realloc_buffer"]=function(){abort("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ENV"))Module["ENV"]=function(){abort("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_CODES"))Module["ERRNO_CODES"]=function(){abort("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ERRNO_MESSAGES"))Module["ERRNO_MESSAGES"]=function(){abort("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setErrNo"))Module["setErrNo"]=function(){abort("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton4"))Module["inetPton4"]=function(){abort("'inetPton4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop4"))Module["inetNtop4"]=function(){abort("'inetNtop4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetPton6"))Module["inetPton6"]=function(){abort("'inetPton6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"inetNtop6"))Module["inetNtop6"]=function(){abort("'inetNtop6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readSockaddr"))Module["readSockaddr"]=function(){abort("'readSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeSockaddr"))Module["writeSockaddr"]=function(){abort("'writeSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"DNS"))Module["DNS"]=function(){abort("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getHostByName"))Module["getHostByName"]=function(){abort("'getHostByName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GAI_ERRNO_MESSAGES"))Module["GAI_ERRNO_MESSAGES"]=function(){abort("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Protocols"))Module["Protocols"]=function(){abort("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Sockets"))Module["Sockets"]=function(){abort("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getRandomDevice"))Module["getRandomDevice"]=function(){abort("'getRandomDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"traverseStack"))Module["traverseStack"]=function(){abort("'traverseStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UNWIND_CACHE"))Module["UNWIND_CACHE"]=function(){abort("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"withBuiltinMalloc"))Module["withBuiltinMalloc"]=function(){abort("'withBuiltinMalloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgsArray"))Module["readAsmConstArgsArray"]=function(){abort("'readAsmConstArgsArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readAsmConstArgs"))Module["readAsmConstArgs"]=function(){abort("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mainThreadEM_ASM"))Module["mainThreadEM_ASM"]=function(){abort("'mainThreadEM_ASM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_q"))Module["jstoi_q"]=function(){abort("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jstoi_s"))Module["jstoi_s"]=function(){abort("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getExecutableName"))Module["getExecutableName"]=function(){abort("'getExecutableName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"listenOnce"))Module["listenOnce"]=function(){abort("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"autoResumeAudioContext"))Module["autoResumeAudioContext"]=function(){abort("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCallLegacy"))Module["dynCallLegacy"]=function(){abort("'dynCallLegacy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getDynCaller"))Module["getDynCaller"]=function(){abort("'getDynCaller' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"dynCall"))Module["dynCall"]=function(){abort("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callRuntimeCallbacks"))Module["callRuntimeCallbacks"]=function(){abort("'callRuntimeCallbacks' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepaliveCounter"))Module["runtimeKeepaliveCounter"]=function(){abort("'runtimeKeepaliveCounter' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"keepRuntimeAlive"))Module["keepRuntimeAlive"]=function(){abort("'keepRuntimeAlive' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePush"))Module["runtimeKeepalivePush"]=function(){abort("'runtimeKeepalivePush' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runtimeKeepalivePop"))Module["runtimeKeepalivePop"]=function(){abort("'runtimeKeepalivePop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"callUserCallback"))Module["callUserCallback"]=function(){abort("'callUserCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"maybeExit"))Module["maybeExit"]=function(){abort("'maybeExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reallyNegative"))Module["reallyNegative"]=function(){abort("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unSign"))Module["unSign"]=function(){abort("'unSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"reSign"))Module["reSign"]=function(){abort("'reSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"formatString"))Module["formatString"]=function(){abort("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH"))Module["PATH"]=function(){abort("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PATH_FS"))Module["PATH_FS"]=function(){abort("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SYSCALLS"))Module["SYSCALLS"]=function(){abort("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMmap2"))Module["syscallMmap2"]=function(){abort("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"syscallMunmap"))Module["syscallMunmap"]=function(){abort("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketFromFD"))Module["getSocketFromFD"]=function(){abort("'getSocketFromFD' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getSocketAddress"))Module["getSocketAddress"]=function(){abort("'getSocketAddress' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"JSEvents"))Module["JSEvents"]=function(){abort("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerKeyEventCallback"))Module["registerKeyEventCallback"]=function(){abort("'registerKeyEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"specialHTMLTargets"))Module["specialHTMLTargets"]=function(){abort("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findEventTarget"))Module["findEventTarget"]=function(){abort("'findEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"findCanvasEventTarget"))Module["findCanvasEventTarget"]=function(){abort("'findCanvasEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBoundingClientRect"))Module["getBoundingClientRect"]=function(){abort("'getBoundingClientRect' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillMouseEventData"))Module["fillMouseEventData"]=function(){abort("'fillMouseEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerMouseEventCallback"))Module["registerMouseEventCallback"]=function(){abort("'registerMouseEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerWheelEventCallback"))Module["registerWheelEventCallback"]=function(){abort("'registerWheelEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerUiEventCallback"))Module["registerUiEventCallback"]=function(){abort("'registerUiEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFocusEventCallback"))Module["registerFocusEventCallback"]=function(){abort("'registerFocusEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceOrientationEventData"))Module["fillDeviceOrientationEventData"]=function(){abort("'fillDeviceOrientationEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceOrientationEventCallback"))Module["registerDeviceOrientationEventCallback"]=function(){abort("'registerDeviceOrientationEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillDeviceMotionEventData"))Module["fillDeviceMotionEventData"]=function(){abort("'fillDeviceMotionEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerDeviceMotionEventCallback"))Module["registerDeviceMotionEventCallback"]=function(){abort("'registerDeviceMotionEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"screenOrientation"))Module["screenOrientation"]=function(){abort("'screenOrientation' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillOrientationChangeEventData"))Module["fillOrientationChangeEventData"]=function(){abort("'fillOrientationChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerOrientationChangeEventCallback"))Module["registerOrientationChangeEventCallback"]=function(){abort("'registerOrientationChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillFullscreenChangeEventData"))Module["fillFullscreenChangeEventData"]=function(){abort("'fillFullscreenChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerFullscreenChangeEventCallback"))Module["registerFullscreenChangeEventCallback"]=function(){abort("'registerFullscreenChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerRestoreOldStyle"))Module["registerRestoreOldStyle"]=function(){abort("'registerRestoreOldStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"hideEverythingExceptGivenElement"))Module["hideEverythingExceptGivenElement"]=function(){abort("'hideEverythingExceptGivenElement' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreHiddenElements"))Module["restoreHiddenElements"]=function(){abort("'restoreHiddenElements' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setLetterbox"))Module["setLetterbox"]=function(){abort("'setLetterbox' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"currentFullscreenStrategy"))Module["currentFullscreenStrategy"]=function(){abort("'currentFullscreenStrategy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"restoreOldWindowedStyle"))Module["restoreOldWindowedStyle"]=function(){abort("'restoreOldWindowedStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"softFullscreenResizeWebGLRenderTarget"))Module["softFullscreenResizeWebGLRenderTarget"]=function(){abort("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"doRequestFullscreen"))Module["doRequestFullscreen"]=function(){abort("'doRequestFullscreen' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillPointerlockChangeEventData"))Module["fillPointerlockChangeEventData"]=function(){abort("'fillPointerlockChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockChangeEventCallback"))Module["registerPointerlockChangeEventCallback"]=function(){abort("'registerPointerlockChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerPointerlockErrorEventCallback"))Module["registerPointerlockErrorEventCallback"]=function(){abort("'registerPointerlockErrorEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requestPointerLock"))Module["requestPointerLock"]=function(){abort("'requestPointerLock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillVisibilityChangeEventData"))Module["fillVisibilityChangeEventData"]=function(){abort("'fillVisibilityChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerVisibilityChangeEventCallback"))Module["registerVisibilityChangeEventCallback"]=function(){abort("'registerVisibilityChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerTouchEventCallback"))Module["registerTouchEventCallback"]=function(){abort("'registerTouchEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillGamepadEventData"))Module["fillGamepadEventData"]=function(){abort("'fillGamepadEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerGamepadEventCallback"))Module["registerGamepadEventCallback"]=function(){abort("'registerGamepadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBeforeUnloadEventCallback"))Module["registerBeforeUnloadEventCallback"]=function(){abort("'registerBeforeUnloadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"fillBatteryEventData"))Module["fillBatteryEventData"]=function(){abort("'fillBatteryEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"battery"))Module["battery"]=function(){abort("'battery' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerBatteryEventCallback"))Module["registerBatteryEventCallback"]=function(){abort("'registerBatteryEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setCanvasElementSize"))Module["setCanvasElementSize"]=function(){abort("'setCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getCanvasElementSize"))Module["getCanvasElementSize"]=function(){abort("'getCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"polyfillSetImmediate"))Module["polyfillSetImmediate"]=function(){abort("'polyfillSetImmediate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangle"))Module["demangle"]=function(){abort("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"demangleAll"))Module["demangleAll"]=function(){abort("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"jsStackTrace"))Module["jsStackTrace"]=function(){abort("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackTrace"))Module["stackTrace"]=function(){abort("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getEnvStrings"))Module["getEnvStrings"]=function(){abort("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"checkWasiClock"))Module["checkWasiClock"]=function(){abort("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64"))Module["writeI53ToI64"]=function(){abort("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Clamped"))Module["writeI53ToI64Clamped"]=function(){abort("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToI64Signaling"))Module["writeI53ToI64Signaling"]=function(){abort("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Clamped"))Module["writeI53ToU64Clamped"]=function(){abort("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeI53ToU64Signaling"))Module["writeI53ToU64Signaling"]=function(){abort("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromI64"))Module["readI53FromI64"]=function(){abort("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readI53FromU64"))Module["readI53FromU64"]=function(){abort("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertI32PairToI53"))Module["convertI32PairToI53"]=function(){abort("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"convertU32PairToI53"))Module["convertU32PairToI53"]=function(){abort("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"uncaughtExceptionCount"))Module["uncaughtExceptionCount"]=function(){abort("'uncaughtExceptionCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionLast"))Module["exceptionLast"]=function(){abort("'exceptionLast' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exceptionCaught"))Module["exceptionCaught"]=function(){abort("'exceptionCaught' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfoAttrs"))Module["ExceptionInfoAttrs"]=function(){abort("'ExceptionInfoAttrs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ExceptionInfo"))Module["ExceptionInfo"]=function(){abort("'ExceptionInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"CatchInfo"))Module["CatchInfo"]=function(){abort("'CatchInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_addRef"))Module["exception_addRef"]=function(){abort("'exception_addRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exception_decRef"))Module["exception_decRef"]=function(){abort("'exception_decRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"Browser"))Module["Browser"]=function(){abort("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"funcWrappers"))Module["funcWrappers"]=function(){abort("'funcWrappers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getFuncWrapper"))Module["getFuncWrapper"]=function(){abort("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setMainLoop"))Module["setMainLoop"]=function(){abort("'setMainLoop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"FS"))Module["FS"]=function(){abort("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"mmapAlloc"))Module["mmapAlloc"]=function(){abort("'mmapAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"MEMFS"))Module["MEMFS"]=function(){abort("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"TTY"))Module["TTY"]=function(){abort("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PIPEFS"))Module["PIPEFS"]=function(){abort("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SOCKFS"))Module["SOCKFS"]=function(){abort("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"_setNetworkCallback"))Module["_setNetworkCallback"]=function(){abort("'_setNetworkCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tempFixedLengthArray"))Module["tempFixedLengthArray"]=function(){abort("'tempFixedLengthArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"miniTempWebGLFloatBuffers"))Module["miniTempWebGLFloatBuffers"]=function(){abort("'miniTempWebGLFloatBuffers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapObjectForWebGLType"))Module["heapObjectForWebGLType"]=function(){abort("'heapObjectForWebGLType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heapAccessShiftForWebGLHeap"))Module["heapAccessShiftForWebGLHeap"]=function(){abort("'heapAccessShiftForWebGLHeap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GL"))Module["GL"]=function(){abort("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGet"))Module["emscriptenWebGLGet"]=function(){abort("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"computeUnpackAlignedImageSize"))Module["computeUnpackAlignedImageSize"]=function(){abort("'computeUnpackAlignedImageSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetTexPixelData"))Module["emscriptenWebGLGetTexPixelData"]=function(){abort("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetUniform"))Module["emscriptenWebGLGetUniform"]=function(){abort("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetVertexAttrib"))Module["emscriptenWebGLGetVertexAttrib"]=function(){abort("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetBufferBinding"))Module["emscriptenWebGLGetBufferBinding"]=function(){abort("'emscriptenWebGLGetBufferBinding' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLValidateMapBufferTarget"))Module["emscriptenWebGLValidateMapBufferTarget"]=function(){abort("'emscriptenWebGLValidateMapBufferTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"writeGLArray"))Module["writeGLArray"]=function(){abort("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AL"))Module["AL"]=function(){abort("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_unicode"))Module["SDL_unicode"]=function(){abort("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_ttfContext"))Module["SDL_ttfContext"]=function(){abort("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_audio"))Module["SDL_audio"]=function(){abort("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL"))Module["SDL"]=function(){abort("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"SDL_gfx"))Module["SDL_gfx"]=function(){abort("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLUT"))Module["GLUT"]=function(){abort("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"EGL"))Module["EGL"]=function(){abort("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW_Window"))Module["GLFW_Window"]=function(){abort("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLFW"))Module["GLFW"]=function(){abort("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"GLEW"))Module["GLEW"]=function(){abort("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"IDBStore"))Module["IDBStore"]=function(){abort("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runAndAbortIfError"))Module["runAndAbortIfError"]=function(){abort("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_handle_array"))Module["emval_handle_array"]=function(){abort("'emval_handle_array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_free_list"))Module["emval_free_list"]=function(){abort("'emval_free_list' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_symbols"))Module["emval_symbols"]=function(){abort("'emval_symbols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_emval"))Module["init_emval"]=function(){abort("'init_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"count_emval_handles"))Module["count_emval_handles"]=function(){abort("'count_emval_handles' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"get_first_emval"))Module["get_first_emval"]=function(){abort("'get_first_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getStringOrSymbol"))Module["getStringOrSymbol"]=function(){abort("'getStringOrSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireHandle"))Module["requireHandle"]=function(){abort("'requireHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_newers"))Module["emval_newers"]=function(){abort("'emval_newers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftEmvalAllocator"))Module["craftEmvalAllocator"]=function(){abort("'craftEmvalAllocator' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_get_global"))Module["emval_get_global"]=function(){abort("'emval_get_global' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emval_methodCallers"))Module["emval_methodCallers"]=function(){abort("'emval_methodCallers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"InternalError"))Module["InternalError"]=function(){abort("'InternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"BindingError"))Module["BindingError"]=function(){abort("'BindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UnboundTypeError"))Module["UnboundTypeError"]=function(){abort("'UnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"PureVirtualError"))Module["PureVirtualError"]=function(){abort("'PureVirtualError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_embind"))Module["init_embind"]=function(){abort("'init_embind' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInternalError"))Module["throwInternalError"]=function(){abort("'throwInternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwBindingError"))Module["throwBindingError"]=function(){abort("'throwBindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwUnboundTypeError"))Module["throwUnboundTypeError"]=function(){abort("'throwUnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ensureOverloadTable"))Module["ensureOverloadTable"]=function(){abort("'ensureOverloadTable' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"exposePublicSymbol"))Module["exposePublicSymbol"]=function(){abort("'exposePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"replacePublicSymbol"))Module["replacePublicSymbol"]=function(){abort("'replacePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"extendError"))Module["extendError"]=function(){abort("'extendError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"createNamedFunction"))Module["createNamedFunction"]=function(){abort("'createNamedFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredInstances"))Module["registeredInstances"]=function(){abort("'registeredInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getBasestPointer"))Module["getBasestPointer"]=function(){abort("'getBasestPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerInheritedInstance"))Module["registerInheritedInstance"]=function(){abort("'registerInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"unregisterInheritedInstance"))Module["unregisterInheritedInstance"]=function(){abort("'unregisterInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstance"))Module["getInheritedInstance"]=function(){abort("'getInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getInheritedInstanceCount"))Module["getInheritedInstanceCount"]=function(){abort("'getInheritedInstanceCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getLiveInheritedInstances"))Module["getLiveInheritedInstances"]=function(){abort("'getLiveInheritedInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredTypes"))Module["registeredTypes"]=function(){abort("'registeredTypes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"awaitingDependencies"))Module["awaitingDependencies"]=function(){abort("'awaitingDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"typeDependencies"))Module["typeDependencies"]=function(){abort("'typeDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registeredPointers"))Module["registeredPointers"]=function(){abort("'registeredPointers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"registerType"))Module["registerType"]=function(){abort("'registerType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"whenDependentTypesAreResolved"))Module["whenDependentTypesAreResolved"]=function(){abort("'whenDependentTypesAreResolved' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_charCodes"))Module["embind_charCodes"]=function(){abort("'embind_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind_init_charCodes"))Module["embind_init_charCodes"]=function(){abort("'embind_init_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"readLatin1String"))Module["readLatin1String"]=function(){abort("'readLatin1String' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getTypeName"))Module["getTypeName"]=function(){abort("'getTypeName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"heap32VectorToArray"))Module["heap32VectorToArray"]=function(){abort("'heap32VectorToArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"requireRegisteredType"))Module["requireRegisteredType"]=function(){abort("'requireRegisteredType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"getShiftFromSize"))Module["getShiftFromSize"]=function(){abort("'getShiftFromSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"integerReadValueFromPointer"))Module["integerReadValueFromPointer"]=function(){abort("'integerReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"enumReadValueFromPointer"))Module["enumReadValueFromPointer"]=function(){abort("'enumReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"floatReadValueFromPointer"))Module["floatReadValueFromPointer"]=function(){abort("'floatReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"simpleReadValueFromPointer"))Module["simpleReadValueFromPointer"]=function(){abort("'simpleReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructors"))Module["runDestructors"]=function(){abort("'runDestructors' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"new_"))Module["new_"]=function(){abort("'new_' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"craftInvokerFunction"))Module["craftInvokerFunction"]=function(){abort("'craftInvokerFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"embind__requireFunction"))Module["embind__requireFunction"]=function(){abort("'embind__requireFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"tupleRegistrations"))Module["tupleRegistrations"]=function(){abort("'tupleRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"structRegistrations"))Module["structRegistrations"]=function(){abort("'structRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"genericPointerToWireType"))Module["genericPointerToWireType"]=function(){abort("'genericPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"constNoSmartPtrRawPointerToWireType"))Module["constNoSmartPtrRawPointerToWireType"]=function(){abort("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"nonConstNoSmartPtrRawPointerToWireType"))Module["nonConstNoSmartPtrRawPointerToWireType"]=function(){abort("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_RegisteredPointer"))Module["init_RegisteredPointer"]=function(){abort("'init_RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer"))Module["RegisteredPointer"]=function(){abort("'RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_getPointee"))Module["RegisteredPointer_getPointee"]=function(){abort("'RegisteredPointer_getPointee' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_destructor"))Module["RegisteredPointer_destructor"]=function(){abort("'RegisteredPointer_destructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_deleteObject"))Module["RegisteredPointer_deleteObject"]=function(){abort("'RegisteredPointer_deleteObject' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredPointer_fromWireType"))Module["RegisteredPointer_fromWireType"]=function(){abort("'RegisteredPointer_fromWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"runDestructor"))Module["runDestructor"]=function(){abort("'runDestructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"releaseClassHandle"))Module["releaseClassHandle"]=function(){abort("'releaseClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"finalizationGroup"))Module["finalizationGroup"]=function(){abort("'finalizationGroup' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer_deps"))Module["detachFinalizer_deps"]=function(){abort("'detachFinalizer_deps' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"detachFinalizer"))Module["detachFinalizer"]=function(){abort("'detachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"attachFinalizer"))Module["attachFinalizer"]=function(){abort("'attachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeClassHandle"))Module["makeClassHandle"]=function(){abort("'makeClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"init_ClassHandle"))Module["init_ClassHandle"]=function(){abort("'init_ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle"))Module["ClassHandle"]=function(){abort("'ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isAliasOf"))Module["ClassHandle_isAliasOf"]=function(){abort("'ClassHandle_isAliasOf' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"throwInstanceAlreadyDeleted"))Module["throwInstanceAlreadyDeleted"]=function(){abort("'throwInstanceAlreadyDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_clone"))Module["ClassHandle_clone"]=function(){abort("'ClassHandle_clone' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_delete"))Module["ClassHandle_delete"]=function(){abort("'ClassHandle_delete' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"deletionQueue"))Module["deletionQueue"]=function(){abort("'deletionQueue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_isDeleted"))Module["ClassHandle_isDeleted"]=function(){abort("'ClassHandle_isDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"ClassHandle_deleteLater"))Module["ClassHandle_deleteLater"]=function(){abort("'ClassHandle_deleteLater' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"flushPendingDeletes"))Module["flushPendingDeletes"]=function(){abort("'flushPendingDeletes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"delayFunction"))Module["delayFunction"]=function(){abort("'delayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"setDelayFunction"))Module["setDelayFunction"]=function(){abort("'setDelayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"RegisteredClass"))Module["RegisteredClass"]=function(){abort("'RegisteredClass' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"shallowCopyInternalPointer"))Module["shallowCopyInternalPointer"]=function(){abort("'shallowCopyInternalPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"downcastPointer"))Module["downcastPointer"]=function(){abort("'downcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"upcastPointer"))Module["upcastPointer"]=function(){abort("'upcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"validateThis"))Module["validateThis"]=function(){abort("'validateThis' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_0"))Module["char_0"]=function(){abort("'char_0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"char_9"))Module["char_9"]=function(){abort("'char_9' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"makeLegalFunctionName"))Module["makeLegalFunctionName"]=function(){abort("'makeLegalFunctionName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"emscriptenWebGLGetIndexed"))Module["emscriptenWebGLGetIndexed"]=function(){abort("'emscriptenWebGLGetIndexed' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"warnOnce"))Module["warnOnce"]=function(){abort("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackSave"))Module["stackSave"]=function(){abort("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackRestore"))Module["stackRestore"]=function(){abort("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stackAlloc"))Module["stackAlloc"]=function(){abort("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"AsciiToString"))Module["AsciiToString"]=function(){abort("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToAscii"))Module["stringToAscii"]=function(){abort("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF16ToString"))Module["UTF16ToString"]=function(){abort("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF16"))Module["stringToUTF16"]=function(){abort("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF16"))Module["lengthBytesUTF16"]=function(){abort("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"UTF32ToString"))Module["UTF32ToString"]=function(){abort("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"stringToUTF32"))Module["stringToUTF32"]=function(){abort("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"lengthBytesUTF32"))Module["lengthBytesUTF32"]=function(){abort("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8"))Module["allocateUTF8"]=function(){abort("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};if(!Object.getOwnPropertyDescriptor(Module,"allocateUTF8OnStack"))Module["allocateUTF8OnStack"]=function(){abort("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")};Module["writeStackCookie"]=writeStackCookie;Module["checkStackCookie"]=checkStackCookie;if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_NORMAL"))Object.defineProperty(Module,"ALLOC_NORMAL",{configurable:true,get:function(){abort("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});if(!Object.getOwnPropertyDescriptor(Module,"ALLOC_STACK"))Object.defineProperty(Module,"ALLOC_STACK",{configurable:true,get:function(){abort("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var calledRun;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function stackCheckInit(){_emscripten_stack_init();writeStackCookie()}function run(args){args=args||arguments_;if(runDependencies>0){return}stackCheckInit();preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}checkStackCookie()}Module["run"]=run;function checkUnflushedContent(){var oldOut=out;var oldErr=err;var has=false;out=err=function(x){has=true};try{var flush=Module["_fflush"];if(flush)flush(0);["stdout","stderr"].forEach(function(name){var info=FS.analyzePath("/dev/"+name);if(!info)return;var stream=info.object;var rdev=stream.rdev;var tty=TTY.ttys[rdev];if(tty&&tty.output&&tty.output.length){has=true}})}catch(e){}out=oldOut;err=oldErr;if(has){warnOnce("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}}function exit(status,implicit){EXITSTATUS=status;checkUnflushedContent();if(implicit&&keepRuntimeAlive()&&status===0){return}if(keepRuntimeAlive()){if(!implicit){var msg="program exited (with status: "+status+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";readyPromiseReject(msg);err(msg)}}else{exitRuntime();if(Module["onExit"])Module["onExit"](status);ABORT=true}quit_(status,new ExitStatus(status))}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();
+
+
+  return createMediapipeSolutionsWasm.ready
+}
+);
+})();
+if (typeof exports === 'object' && typeof module === 'object')
+  module.exports = createMediapipeSolutionsWasm;
+else if (typeof define === 'function' && define['amd'])
+  define([], function() { return createMediapipeSolutionsWasm; });
+else if (typeof exports === 'object')
+  exports["createMediapipeSolutionsWasm"] = createMediapipeSolutionsWasm;
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/stylization_style_black_and_white_effects_graph_test.json b/content/test/data/gpu/mediapipe/style_black_and_white_test/stylization_style_black_and_white_effects_graph_test.json
new file mode 100644
index 0000000000000..f4066ef9bb2be
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/stylization_style_black_and_white_effects_graph_test.json
@@ -0,0 +1,15 @@
+{
+  "options" : {
+    "warmup" : 10
+  },
+  "inputs": [
+    {"name": "image", "type": "video", "src": "effects_test_image.jpg"}
+  ],
+  "expects": [
+    {"name": "image", "type": "video",
+     "src": "scuba_goldens/style_black_and_white_expected.png", "tolerance": 2}
+  ],
+  "outputs": [
+    {"name": "image", "type": "video"}
+  ]
+}
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/stylization_style_black_and_white_effects_graph_test_binarypb.binarypb b/content/test/data/gpu/mediapipe/style_black_and_white_test/stylization_style_black_and_white_effects_graph_test_binarypb.binarypb
new file mode 100644
index 0000000000000..d5ff75d971630
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/stylization_style_black_and_white_effects_graph_test_binarypb.binarypb
@@ -0,0 +1,2 @@
+
+2style_black_and_whiteinput_video"output_videoRinput_videozoutput_video
\ No newline at end of file
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness.html b/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness.html
new file mode 100644
index 0000000000000..04ab290c60fc7
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness.html
@@ -0,0 +1,96 @@
+<!DOCTYPE html>
+<html>
+  <head>
+    <style>
+      textarea { width: 500px; height: 100px; }
+      body {
+        font-family: Arial, Helvetica, sans-serif;
+      }
+      .group {
+        background-color: #e0eef3;
+        padding: 5px;
+        margin: 5px;
+      }
+      .instructions {
+        padding-bottom: 5px;
+      }
+      .run-test { width: 500px; }
+      .status { font-weight: 600; }
+      .title { font-size: 18pt; font-weight: 600; padding-bottom: 20px; }
+      .outputs, .inputs, .expects {
+        display: inline-block;
+        min-width: 20px;
+        min-height: 20px;
+        padding: 10px;
+        margin: 5px;
+      }
+      .inputs { background-color: red; }
+      .expects { background-color: orange; }
+      .outputs { background-color: green; }
+    </style>
+    <title>MediaPipe Graph Test for Web</title>
+  </head>
+<body>
+
+  <div class="title">Mediapipe for Web: %NAME%</div>
+
+  <div class="group">
+    <div class="instructions">
+      Test is loaded into the following input element:
+    </div>
+    <div class="input">
+      <textarea class="test"></textarea>
+    </div>
+    <button class="run-test">
+      Run Test
+    </button>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      When the graph loads, loaded status will turn COMPLETE.
+      When the test finishes, test status will turn COMPLETE.
+    </div>
+
+    <div class="status">
+      <span class="instructions">Loaded Status:</span>
+      <span class="test-ready">INCOMPLETE</span>
+    </div>
+
+    <div class="status">
+      <span class="instructions">Test Status:</span>
+      <span class="test-complete">INCOMPLETE</span>
+    </div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">Errors (if any) will show up here:</div>
+    <div class="errors"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Inputs:
+    </div>
+    <div class="inputs"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Expectations:
+    </div>
+    <div class="expects"></div>
+  </div>
+
+  <div class="group">
+    <div class="instructions">
+      Outputs:
+    </div>
+    <div class="outputs"></div>
+  </div>
+
+</body>
+</html>
+<script src="test_harness_driver_bin.js"></script>
+<!-- The following line is replaced for the ":<name>_serve" target. Do not hand edit. -->
+<!--LOCALDRIVER-->
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness_driver_bin-bundle.js b/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness_driver_bin-bundle.js
new file mode 100644
index 0000000000000..2cb3d1c098271
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness_driver_bin-bundle.js
@@ -0,0 +1,6947 @@
+//javascript/closure/base.js
+/**
+ * @license
+ * Copyright The Closure Library Authors.
+ * SPDX-License-Identifier: Apache-2.0
+ */
+
+/**
+ * @fileoverview Bootstrap for the Google JS Library (Closure).
+ *
+ * In uncompiled mode base.js will attempt to load Closure's deps file, unless
+ * the global <code>CLOSURE_NO_DEPS</code> is set to true.  This allows projects
+ * to include their own deps file(s) from different locations.
+ *
+ * Avoid including base.js more than once. This is strictly discouraged and not
+ * supported. goog.require(...) won't work properly in that case.
+ *
+ * @provideGoog
+ */
+
+
+/**
+ * @define {boolean} Overridden to true by the compiler.
+ */
+var COMPILED = false;
+
+
+/**
+ * Base namespace for the Closure library.  Checks to see goog is already
+ * defined in the current scope before assigning to prevent clobbering if
+ * base.js is loaded more than once.
+ *
+ * @const
+ */
+var goog = goog || {};
+
+/**
+ * Reference to the global object.
+ * https://www.ecma-international.org/ecma-262/9.0/index.html#sec-global-object
+ *
+ * More info on this implementation here:
+ * https://docs.google.com/document/d/1NAeW4Wk7I7FV0Y2tcUFvQdGMc89k2vdgSXInw8_nvCI/edit
+ *
+ * @const
+ * @suppress {undefinedVars} self won't be referenced unless `this` is falsy.
+ * @type {!Global}
+ */
+goog.global =
+    // Check `this` first for backwards compatibility.
+    // Valid unless running as an ES module or in a function wrapper called
+    //   without setting `this` properly.
+    // Note that base.js can't usefully be imported as an ES module, but it may
+    // be compiled into bundles that are loadable as ES modules.
+    this ||
+    // https://developer.mozilla.org/en-US/docs/Web/API/Window/self
+    // For in-page browser environments and workers.
+    self;
+
+
+/**
+ * A hook for overriding the define values in uncompiled mode.
+ *
+ * In uncompiled mode, `CLOSURE_UNCOMPILED_DEFINES` may be defined before
+ * loading base.js.  If a key is defined in `CLOSURE_UNCOMPILED_DEFINES`,
+ * `goog.define` will use the value instead of the default value.  This
+ * allows flags to be overwritten without compilation (this is normally
+ * accomplished with the compiler's "define" flag).
+ *
+ * Example:
+ * <pre>
+ *   var CLOSURE_UNCOMPILED_DEFINES = {'goog.DEBUG': false};
+ * </pre>
+ *
+ * @type {Object<string, (string|number|boolean)>|undefined}
+ */
+goog.global.CLOSURE_UNCOMPILED_DEFINES;
+
+
+/**
+ * A hook for overriding the define values in uncompiled or compiled mode,
+ * like CLOSURE_UNCOMPILED_DEFINES but effective in compiled code.  In
+ * uncompiled code CLOSURE_UNCOMPILED_DEFINES takes precedence.
+ *
+ * Also unlike CLOSURE_UNCOMPILED_DEFINES the values must be number, boolean or
+ * string literals or the compiler will emit an error.
+ *
+ * While any @define value may be set, only those set with goog.define will be
+ * effective for uncompiled code.
+ *
+ * Example:
+ * <pre>
+ *   var CLOSURE_DEFINES = {'goog.DEBUG': false} ;
+ * </pre>
+ *
+ * @type {Object<string, (string|number|boolean)>|undefined}
+ */
+goog.global.CLOSURE_DEFINES;
+
+
+/**
+ * Builds an object structure for the provided namespace path, ensuring that
+ * names that already exist are not overwritten. For example:
+ * "a.b.c" -> a = {};a.b={};a.b.c={};
+ * Used by goog.provide and goog.exportSymbol.
+ * @param {string} name The name of the object that this file defines.
+ * @param {*=} object The object to expose at the end of the path.
+ * @param {boolean=} overwriteImplicit If object is set and a previous call
+ *     implicitly constructed the namespace given by name, this parameter
+ *     controls whether object should overwrite the implicitly constructed
+ *     namespace or be merged into it. Defaults to false.
+ * @param {?Object=} objectToExportTo The object to add the path to; if this
+ *     field is not specified, its value defaults to `goog.global`.
+ * @private
+ */
+goog.exportPath_ = function(name, object, overwriteImplicit, objectToExportTo) {
+  var parts = name.split('.');
+  var cur = objectToExportTo || goog.global;
+
+  // Internet Explorer exhibits strange behavior when throwing errors from
+  // methods externed in this manner.  See the testExportSymbolExceptions in
+  // base_test.html for an example.
+  if (!(parts[0] in cur) && typeof cur.execScript != 'undefined') {
+    cur.execScript('var ' + parts[0]);
+  }
+
+  for (var part; parts.length && (part = parts.shift());) {
+    if (!parts.length && object !== undefined) {
+      if (!overwriteImplicit && goog.isObject(object) &&
+          goog.isObject(cur[part])) {
+        // Merge properties on object (the input parameter) with the existing
+        // implicitly defined namespace, so as to not clobber previously
+        // defined child namespaces.
+        for (var prop in object) {
+          if (object.hasOwnProperty(prop)) {
+            cur[part][prop] = object[prop];
+          }
+        }
+      } else {
+        // Either there is no existing implicit namespace, or overwriteImplicit
+        // is set to true, so directly assign object (the input parameter) to
+        // the namespace.
+        cur[part] = object;
+      }
+    } else if (cur[part] && cur[part] !== Object.prototype[part]) {
+      cur = cur[part];
+    } else {
+      cur = cur[part] = {};
+    }
+  }
+};
+
+
+/**
+ * Defines a named value. In uncompiled mode, the value is retrieved from
+ * CLOSURE_DEFINES or CLOSURE_UNCOMPILED_DEFINES if the object is defined and
+ * has the property specified, and otherwise used the defined defaultValue.
+ * When compiled the default can be overridden using the compiler options or the
+ * value set in the CLOSURE_DEFINES object. Returns the defined value so that it
+ * can be used safely in modules. Note that the value type MUST be either
+ * boolean, number, or string.
+ *
+ * @param {string} name The distinguished name to provide.
+ * @param {T} defaultValue
+ * @return {T} The defined value.
+ * @template T
+ */
+goog.define = function(name, defaultValue) {
+  var value = defaultValue;
+  if (!COMPILED) {
+    var uncompiledDefines = goog.global.CLOSURE_UNCOMPILED_DEFINES;
+    var defines = goog.global.CLOSURE_DEFINES;
+    if (uncompiledDefines &&
+        // Anti DOM-clobbering runtime check (b/37736576).
+        /** @type {?} */ (uncompiledDefines).nodeType === undefined &&
+        Object.prototype.hasOwnProperty.call(uncompiledDefines, name)) {
+      value = uncompiledDefines[name];
+    } else if (
+        defines &&
+        // Anti DOM-clobbering runtime check (b/37736576).
+        /** @type {?} */ (defines).nodeType === undefined &&
+        Object.prototype.hasOwnProperty.call(defines, name)) {
+      value = defines[name];
+    }
+  }
+  return value;
+};
+
+
+/**
+ * @define {number} Integer year indicating the set of browser features that are
+ * guaranteed to be present.  This is defined to include exactly features that
+ * work correctly on all "modern" browsers that are stable on January 1 of the
+ * specified year.  For example,
+ * ```js
+ * if (goog.FEATURESET_YEAR >= 2019) {
+ *   // use APIs known to be available on all major stable browsers Jan 1, 2019
+ * } else {
+ *   // polyfill for older browsers
+ * }
+ * ```
+ * This is intended to be the primary define for removing
+ * unnecessary browser compatibility code (such as ponyfills and workarounds),
+ * and should inform the default value for most other defines:
+ * ```js
+ * const ASSUME_NATIVE_PROMISE =
+ *     goog.define('ASSUME_NATIVE_PROMISE', goog.FEATURESET_YEAR >= 2016);
+ * ```
+ *
+ * The default assumption is that IE9 is the lowest supported browser, which was
+ * first available Jan 1, 2012.
+ *
+ * TODO(mathiasb): Reference more thorough documentation when it's available.
+ */
+goog.FEATURESET_YEAR = goog.define('goog.FEATURESET_YEAR', 2012);
+
+
+/**
+ * @define {boolean} DEBUG is provided as a convenience so that debugging code
+ * that should not be included in a production. It can be easily stripped
+ * by specifying --define goog.DEBUG=false to the Closure Compiler aka
+ * JSCompiler. For example, most toString() methods should be declared inside an
+ * "if (goog.DEBUG)" conditional because they are generally used for debugging
+ * purposes and it is difficult for the JSCompiler to statically determine
+ * whether they are used.
+ */
+goog.DEBUG = goog.define('goog.DEBUG', true);
+
+
+/**
+ * @define {string} LOCALE defines the locale being used for compilation. It is
+ * used to select locale specific data to be compiled in js binary. BUILD rule
+ * can specify this value by "--define goog.LOCALE=<locale_name>" as a compiler
+ * option.
+ *
+ * Take into account that the locale code format is important. You should use
+ * the canonical Unicode format with hyphen as a delimiter. Language must be
+ * lowercase, Language Script - Capitalized, Region - UPPERCASE.
+ * There are few examples: pt-BR, en, en-US, sr-Latin-BO, zh-Hans-CN.
+ *
+ * See more info about locale codes here:
+ * http://www.unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers
+ *
+ * For language codes you should use values defined by ISO 693-1. See it here
+ * http://www.w3.org/WAI/ER/IG/ert/iso639.htm. There is only one exception from
+ * this rule: the Hebrew language. For legacy reasons the old code (iw) should
+ * be used instead of the new code (he).
+ *
+ * MOE:begin_intracomment_strip
+ * See http://g3doc/i18n/identifiers/g3doc/synonyms.
+ * MOE:end_intracomment_strip
+ */
+goog.LOCALE = goog.define('goog.LOCALE', 'en');  // default to en
+
+
+/**
+ * @define {boolean} Whether this code is running on trusted sites.
+ *
+ * On untrusted sites, several native functions can be defined or overridden by
+ * external libraries like Prototype, Datejs, and JQuery and setting this flag
+ * to false forces closure to use its own implementations when possible.
+ *
+ * If your JavaScript can be loaded by a third party site and you are wary about
+ * relying on non-standard implementations, specify
+ * "--define goog.TRUSTED_SITE=false" to the compiler.
+ */
+goog.TRUSTED_SITE = goog.define('goog.TRUSTED_SITE', true);
+
+
+/**
+ * @define {boolean} Whether code that calls {@link goog.setTestOnly} should
+ *     be disallowed in the compilation unit.
+ */
+goog.DISALLOW_TEST_ONLY_CODE =
+    goog.define('goog.DISALLOW_TEST_ONLY_CODE', COMPILED && !goog.DEBUG);
+
+
+/**
+ * @define {boolean} Whether to use a Chrome app CSP-compliant method for
+ *     loading scripts via goog.require. @see appendScriptSrcNode_.
+ */
+goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING =
+    goog.define('goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING', false);
+
+
+/**
+ * Defines a namespace in Closure.
+ *
+ * A namespace may only be defined once in a codebase. It may be defined using
+ * goog.provide() or goog.module().
+ *
+ * The presence of one or more goog.provide() calls in a file indicates
+ * that the file defines the given objects/namespaces.
+ * Provided symbols must not be null or undefined.
+ *
+ * In addition, goog.provide() creates the object stubs for a namespace
+ * (for example, goog.provide("goog.foo.bar") will create the object
+ * goog.foo.bar if it does not already exist).
+ *
+ * Build tools also scan for provide/require/module statements
+ * to discern dependencies, build dependency files (see deps.js), etc.
+ *
+ * @see goog.require
+ * @see goog.module
+ * @param {string} name Namespace provided by this file in the form
+ *     "goog.package.part".
+ * deprecated Use goog.module (see b/159289405)
+ */
+goog.provide = function(name) {
+  if (goog.isInModuleLoader_()) {
+    throw new Error('goog.provide cannot be used within a module.');
+  }
+  if (!COMPILED) {
+    // Ensure that the same namespace isn't provided twice.
+    // A goog.module/goog.provide maps a goog.require to a specific file
+    if (goog.isProvided_(name)) {
+      throw new Error('Namespace "' + name + '" already declared.');
+    }
+  }
+
+  goog.constructNamespace_(name);
+};
+
+
+/**
+ * @param {string} name Namespace provided by this file in the form
+ *     "goog.package.part".
+ * @param {?Object=} object The object to embed in the namespace.
+ * @param {boolean=} overwriteImplicit If object is set and a previous call
+ *     implicitly constructed the namespace given by name, this parameter
+ *     controls whether opt_obj should overwrite the implicitly constructed
+ *     namespace or be merged into it. Defaults to false.
+ * @private
+ */
+goog.constructNamespace_ = function(name, object, overwriteImplicit) {
+  if (!COMPILED) {
+    delete goog.implicitNamespaces_[name];
+
+    var namespace = name;
+    while ((namespace = namespace.substring(0, namespace.lastIndexOf('.')))) {
+      if (goog.getObjectByName(namespace)) {
+        break;
+      }
+      goog.implicitNamespaces_[namespace] = true;
+    }
+  }
+
+  goog.exportPath_(name, object, overwriteImplicit);
+};
+
+
+/**
+ * Returns CSP nonce, if set for any script tag.
+ * @param {?Window=} opt_window The window context used to retrieve the nonce.
+ *     Defaults to global context.
+ * @return {string} CSP nonce or empty string if no nonce is present.
+ * @deprecated Use goog.dom.safe.getScriptNonce.
+ */
+goog.getScriptNonce = function(opt_window) {
+  if (opt_window && opt_window != goog.global) {
+    return goog.getScriptNonce_(opt_window.document);
+  }
+  if (goog.cspNonce_ === null) {
+    goog.cspNonce_ = goog.getScriptNonce_(goog.global.document);
+  }
+  return goog.cspNonce_;
+};
+
+
+/**
+ * According to the CSP3 spec a nonce must be a valid base64 string.
+ * @see https://www.w3.org/TR/CSP3/#grammardef-base64-value
+ * @private @const
+ */
+goog.NONCE_PATTERN_ = /^[\w+/_-]+[=]{0,2}$/;
+
+
+/**
+ * @private {?string}
+ */
+goog.cspNonce_ = null;
+
+
+/**
+ * Returns CSP nonce, if set for any script tag.
+ * @param {!Document} doc
+ * @return {string} CSP nonce or empty string if no nonce is present.
+ * @private
+ */
+goog.getScriptNonce_ = function(doc) {
+  var script = doc.querySelector && doc.querySelector('script[nonce]');
+  if (script) {
+    // Try to get the nonce from the IDL property first, because browsers that
+    // implement additional nonce protection features (currently only Chrome) to
+    // prevent nonce stealing via CSS do not expose the nonce via attributes.
+    // See https://github.com/whatwg/html/issues/2369
+    var nonce = script['nonce'] || script.getAttribute('nonce');
+    if (nonce && goog.NONCE_PATTERN_.test(nonce)) {
+      return nonce;
+    }
+  }
+  return '';
+};
+
+
+/**
+ * Module identifier validation regexp.
+ * Note: This is a conservative check, it is very possible to be more lenient,
+ *   the primary exclusion here is "/" and "\" and a leading ".", these
+ *   restrictions are intended to leave the door open for using goog.require
+ *   with relative file paths rather than module identifiers.
+ * @private
+ */
+goog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
+
+
+/**
+ * Defines a module in Closure.
+ *
+ * Marks that this file must be loaded as a module and claims the namespace.
+ *
+ * A namespace may only be defined once in a codebase. It may be defined using
+ * goog.provide() or goog.module().
+ *
+ * goog.module() has three requirements:
+ * - goog.module may not be used in the same file as goog.provide.
+ * - goog.module must be the first statement in the file.
+ * - only one goog.module is allowed per file.
+ *
+ * When a goog.module annotated file is loaded, it is enclosed in
+ * a strict function closure. This means that:
+ * - any variables declared in a goog.module file are private to the file
+ * (not global), though the compiler is expected to inline the module.
+ * - The code must obey all the rules of "strict" JavaScript.
+ * - the file will be marked as "use strict"
+ *
+ * NOTE: unlike goog.provide, goog.module does not declare any symbols by
+ * itself. If declared symbols are desired, use
+ * goog.module.declareLegacyNamespace().
+ *
+ * MOE:begin_intracomment_strip
+ * See the goog.module announcement at http://go/goog.module-announce
+ * MOE:end_intracomment_strip
+ *
+ * See the public goog.module proposal: http://goo.gl/Va1hin
+ *
+ * @param {string} name Namespace provided by this file in the form
+ *     "goog.package.part", is expected but not required.
+ * @return {void}
+ */
+goog.module = function(name) {
+  if (typeof name !== 'string' || !name ||
+      name.search(goog.VALID_MODULE_RE_) == -1) {
+    throw new Error('Invalid module identifier');
+  }
+  if (!goog.isInGoogModuleLoader_()) {
+    throw new Error(
+        'Module ' + name + ' has been loaded incorrectly. Note, ' +
+        'modules cannot be loaded as normal scripts. They require some kind of ' +
+        'pre-processing step. You\'re likely trying to load a module via a ' +
+        'script tag or as a part of a concatenated bundle without rewriting the ' +
+        'module. For more info see: ' +
+        'https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.');
+  }
+  if (goog.moduleLoaderState_.moduleName) {
+    throw new Error('goog.module may only be called once per module.');
+  }
+
+  // Store the module name for the loader.
+  goog.moduleLoaderState_.moduleName = name;
+  if (!COMPILED) {
+    // Ensure that the same namespace isn't provided twice.
+    // A goog.module/goog.provide maps a goog.require to a specific file
+    if (goog.isProvided_(name)) {
+      throw new Error('Namespace "' + name + '" already declared.');
+    }
+    delete goog.implicitNamespaces_[name];
+  }
+};
+
+
+/**
+ * @param {string} name The module identifier.
+ * @return {?} The module exports for an already loaded module or null.
+ *
+ * Note: This is not an alternative to goog.require, it does not
+ * indicate a hard dependency, instead it is used to indicate
+ * an optional dependency or to access the exports of a module
+ * that has already been loaded.
+ * @suppress {missingProvide}
+ */
+goog.module.get = function(name) {
+  return goog.module.getInternal_(name);
+};
+
+
+/**
+ * @param {string} name The module identifier.
+ * @return {?} The module exports for an already loaded module or null.
+ * @private
+ */
+goog.module.getInternal_ = function(name) {
+  if (!COMPILED) {
+    if (name in goog.loadedModules_) {
+      return goog.loadedModules_[name].exports;
+    } else if (!goog.implicitNamespaces_[name]) {
+      var ns = goog.getObjectByName(name);
+      return ns != null ? ns : null;
+    }
+  }
+  return null;
+};
+
+
+/**
+ * Types of modules the debug loader can load.
+ * @enum {string}
+ */
+goog.ModuleType = {
+  ES6: 'es6',
+  GOOG: 'goog'
+};
+
+
+/**
+ * @private {?{
+ *   moduleName: (string|undefined),
+ *   declareLegacyNamespace:boolean,
+ *   type: ?goog.ModuleType
+ * }}
+ */
+goog.moduleLoaderState_ = null;
+
+
+/**
+ * @private
+ * @return {boolean} Whether a goog.module or an es6 module is currently being
+ *     initialized.
+ */
+goog.isInModuleLoader_ = function() {
+  return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();
+};
+
+
+/**
+ * @private
+ * @return {boolean} Whether a goog.module is currently being initialized.
+ */
+goog.isInGoogModuleLoader_ = function() {
+  return !!goog.moduleLoaderState_ &&
+      goog.moduleLoaderState_.type == goog.ModuleType.GOOG;
+};
+
+
+/**
+ * @private
+ * @return {boolean} Whether an es6 module is currently being initialized.
+ */
+goog.isInEs6ModuleLoader_ = function() {
+  var inLoader = !!goog.moduleLoaderState_ &&
+      goog.moduleLoaderState_.type == goog.ModuleType.ES6;
+
+  if (inLoader) {
+    return true;
+  }
+
+  var jscomp = goog.global['$jscomp'];
+
+  if (jscomp) {
+    // jscomp may not have getCurrentModulePath if this is a compiled bundle
+    // that has some of the runtime, but not all of it. This can happen if
+    // optimizations are turned on so the unused runtime is removed but renaming
+    // and Closure pass are off (so $jscomp is still named $jscomp and the
+    // goog.provide/require calls still exist).
+    if (typeof jscomp.getCurrentModulePath != 'function') {
+      return false;
+    }
+
+    // Bundled ES6 module.
+    return !!jscomp.getCurrentModulePath();
+  }
+
+  return false;
+};
+
+
+/**
+ * Provide the module's exports as a globally accessible object under the
+ * module's declared name.  This is intended to ease migration to goog.module
+ * for files that have existing usages.
+ * @suppress {missingProvide}
+ */
+goog.module.declareLegacyNamespace = function() {
+  if (!COMPILED && !goog.isInGoogModuleLoader_()) {
+    throw new Error(
+        'goog.module.declareLegacyNamespace must be called from ' +
+        'within a goog.module');
+  }
+  if (!COMPILED && !goog.moduleLoaderState_.moduleName) {
+    throw new Error(
+        'goog.module must be called prior to ' +
+        'goog.module.declareLegacyNamespace.');
+  }
+  goog.moduleLoaderState_.declareLegacyNamespace = true;
+};
+
+
+/**
+ * Associates an ES6 module with a Closure module ID so that is available via
+ * goog.require. The associated ID  acts like a goog.module ID - it does not
+ * create any global names, it is merely available via goog.require /
+ * goog.module.get / goog.forwardDeclare / goog.requireType. goog.require and
+ * goog.module.get will return the entire module as if it was import *'d. This
+ * allows Closure files to reference ES6 modules for the sake of migration.
+ *
+ * @param {string} namespace
+ * @suppress {missingProvide}
+ */
+goog.declareModuleId = function(namespace) {
+  if (!COMPILED) {
+    if (!goog.isInEs6ModuleLoader_()) {
+      throw new Error(
+          'goog.declareModuleId may only be called from ' +
+          'within an ES6 module');
+    }
+    if (goog.moduleLoaderState_ && goog.moduleLoaderState_.moduleName) {
+      throw new Error(
+          'goog.declareModuleId may only be called once per module.');
+    }
+    if (namespace in goog.loadedModules_) {
+      throw new Error(
+          'Module with namespace "' + namespace + '" already exists.');
+    }
+  }
+  if (goog.moduleLoaderState_) {
+    // Not bundled - debug loading.
+    goog.moduleLoaderState_.moduleName = namespace;
+  } else {
+    // Bundled - not debug loading, no module loader state.
+    var jscomp = goog.global['$jscomp'];
+    if (!jscomp || typeof jscomp.getCurrentModulePath != 'function') {
+      throw new Error(
+          'Module with namespace "' + namespace +
+          '" has been loaded incorrectly.');
+    }
+    var exports = jscomp.require(jscomp.getCurrentModulePath());
+    goog.loadedModules_[namespace] = {
+      exports: exports,
+      type: goog.ModuleType.ES6,
+      moduleId: namespace
+    };
+  }
+};
+
+
+/**
+ * Marks that the current file should only be used for testing, and never for
+ * live code in production.
+ *
+ * In the case of unit tests, the message may optionally be an exact namespace
+ * for the test (e.g. 'goog.stringTest'). The linter will then ignore the extra
+ * provide (if not explicitly defined in the code).
+ *
+ * @param {string=} opt_message Optional message to add to the error that's
+ *     raised when used in production code.
+ */
+goog.setTestOnly = function(opt_message) {
+  if (goog.DISALLOW_TEST_ONLY_CODE) {
+    opt_message = opt_message || '';
+    throw new Error(
+        'Importing test-only code into non-debug environment' +
+        (opt_message ? ': ' + opt_message : '.'));
+  }
+};
+
+
+/**
+ * Forward declares a symbol. This is an indication to the compiler that the
+ * symbol may be used in the source yet is not required and may not be provided
+ * in compilation.
+ *
+ * The most common usage of forward declaration is code that takes a type as a
+ * function parameter but does not need to require it. By forward declaring
+ * instead of requiring, no hard dependency is made, and (if not required
+ * elsewhere) the namespace may never be required and thus, not be pulled
+ * into the JavaScript binary. If it is required elsewhere, it will be type
+ * checked as normal.
+ *
+ * Before using goog.forwardDeclare, please read the documentation at
+ * https://github.com/google/closure-compiler/wiki/Bad-Type-Annotation to
+ * understand the options and tradeoffs when working with forward declarations.
+ *
+ * @param {string} name The namespace to forward declare in the form of
+ *     "goog.package.part".
+ * @deprecated See go/noforwarddeclaration, Use `goog.requireType` instead.
+ */
+goog.forwardDeclare = function(name) {};
+
+
+/**
+ * Forward declare type information. Used to assign types to goog.global
+ * referenced object that would otherwise result in unknown type references
+ * and thus block property disambiguation.
+ */
+goog.forwardDeclare('Document');
+goog.forwardDeclare('HTMLScriptElement');
+goog.forwardDeclare('XMLHttpRequest');
+
+
+if (!COMPILED) {
+  /**
+   * Check if the given name has been goog.provided. This will return false for
+   * names that are available only as implicit namespaces.
+   * @param {string} name name of the object to look for.
+   * @return {boolean} Whether the name has been provided.
+   * @private
+   */
+  goog.isProvided_ = function(name) {
+    return (name in goog.loadedModules_) ||
+        (!goog.implicitNamespaces_[name] && goog.getObjectByName(name) != null);
+  };
+
+  /**
+   * Namespaces implicitly defined by goog.provide. For example,
+   * goog.provide('goog.events.Event') implicitly declares that 'goog' and
+   * 'goog.events' must be namespaces.
+   *
+   * @type {!Object<string, (boolean|undefined)>}
+   * @private
+   */
+  goog.implicitNamespaces_ = {'goog.module': true};
+
+  // NOTE: We add goog.module as an implicit namespace as goog.module is defined
+  // here and because the existing module package has not been moved yet out of
+  // the goog.module namespace. This satisifies both the debug loader and
+  // ahead-of-time dependency management.
+}
+
+
+/**
+ * Returns an object based on its fully qualified external name.  The object
+ * is not found if null or undefined.  If you are using a compilation pass that
+ * renames property names beware that using this function will not find renamed
+ * properties.
+ *
+ * @param {string} name The fully qualified name.
+ * @param {Object=} opt_obj The object within which to look; default is
+ *     |goog.global|.
+ * @return {?} The value (object or primitive) or, if not found, null.
+ */
+goog.getObjectByName = function(name, opt_obj) {
+  var parts = name.split('.');
+  var cur = opt_obj || goog.global;
+  for (var i = 0; i < parts.length; i++) {
+    cur = cur[parts[i]];
+    if (cur == null) {
+      return null;
+    }
+  }
+  return cur;
+};
+
+
+/**
+ * Adds a dependency from a file to the files it requires.
+ * @param {string} relPath The path to the js file.
+ * @param {!Array<string>} provides An array of strings with
+ *     the names of the objects this file provides.
+ * @param {!Array<string>} requires An array of strings with
+ *     the names of the objects this file requires.
+ * @param {boolean|!Object<string>=} opt_loadFlags Parameters indicating
+ *     how the file must be loaded.  The boolean 'true' is equivalent
+ *     to {'module': 'goog'} for backwards-compatibility.  Valid properties
+ *     and values include {'module': 'goog'} and {'lang': 'es6'}.
+ */
+goog.addDependency = function(relPath, provides, requires, opt_loadFlags) {
+  if (!COMPILED && goog.DEPENDENCIES_ENABLED) {
+    goog.debugLoader_.addDependency(relPath, provides, requires, opt_loadFlags);
+  }
+};
+
+
+// MOE:begin_strip
+/**
+ * Whether goog.require should throw an exception if it fails.
+ * @type {boolean}
+ */
+goog.useStrictRequires = false;
+
+
+// MOE:end_strip
+
+
+// NOTE(nnaze): The debug DOM loader was included in base.js as an original way
+// to do "debug-mode" development.  The dependency system can sometimes be
+// confusing, as can the debug DOM loader's asynchronous nature.
+//
+// With the DOM loader, a call to goog.require() is not blocking -- the script
+// will not load until some point after the current script.  If a namespace is
+// needed at runtime, it needs to be defined in a previous script, or loaded via
+// require() with its registered dependencies.
+//
+// User-defined namespaces may need their own deps file. For a reference on
+// creating a deps file, see:
+// MOE:begin_strip
+// Internally: http://go/deps-files and http://go/be#js_deps
+// MOE:end_strip
+// Externally: https://developers.google.com/closure/library/docs/depswriter
+//
+// Because of legacy clients, the DOM loader can't be easily removed from
+// base.js.  Work was done to make it disableable or replaceable for
+// different environments (DOM-less JavaScript interpreters like Rhino or V8,
+// for example). See bootstrap/ for more information.
+
+
+/**
+ * @define {boolean} Whether to enable the debug loader.
+ *
+ * If enabled, a call to goog.require() will attempt to load the namespace by
+ * appending a script tag to the DOM (if the namespace has been registered).
+ *
+ * If disabled, goog.require() will simply assert that the namespace has been
+ * provided (and depend on the fact that some outside tool correctly ordered
+ * the script).
+ */
+goog.ENABLE_DEBUG_LOADER = goog.define('goog.ENABLE_DEBUG_LOADER', true);
+
+
+/**
+ * @param {string} msg
+ * @private
+ */
+goog.logToConsole_ = function(msg) {
+  if (goog.global.console) {
+    goog.global.console['error'](msg);
+  }
+};
+
+
+/**
+ * Implements a system for the dynamic resolution of dependencies that works in
+ * parallel with the BUILD system.
+ *
+ * Note that all calls to goog.require will be stripped by the compiler.
+ *
+ * @see goog.provide
+ * @param {string} namespace Namespace (as was given in goog.provide,
+ *     goog.module, or goog.declareModuleId) in the form
+ *     "goog.package.part".
+ * @return {?} If called within a goog.module or ES6 module file, the associated
+ *     namespace or module otherwise null.
+ */
+goog.require = function(namespace) {
+  if (!COMPILED) {
+    // Might need to lazy load on old IE.
+    if (goog.ENABLE_DEBUG_LOADER) {
+      goog.debugLoader_.requested(namespace);
+    }
+
+    // If the object already exists we do not need to do anything.
+    if (goog.isProvided_(namespace)) {
+      if (goog.isInModuleLoader_()) {
+        return goog.module.getInternal_(namespace);
+      }
+    } else if (goog.ENABLE_DEBUG_LOADER) {
+      var moduleLoaderState = goog.moduleLoaderState_;
+      goog.moduleLoaderState_ = null;
+      try {
+        goog.debugLoader_.load_(namespace);
+      } finally {
+        goog.moduleLoaderState_ = moduleLoaderState;
+      }
+    }
+
+    return null;
+  }
+};
+
+
+/**
+ * Requires a symbol for its type information. This is an indication to the
+ * compiler that the symbol may appear in type annotations, yet it is not
+ * referenced at runtime.
+ *
+ * When called within a goog.module or ES6 module file, the return value may be
+ * assigned to or destructured into a variable, but it may not be otherwise used
+ * in code outside of a type annotation.
+ *
+ * Note that all calls to goog.requireType will be stripped by the compiler.
+ *
+ * @param {string} namespace Namespace (as was given in goog.provide,
+ *     goog.module, or goog.declareModuleId) in the form
+ *     "goog.package.part".
+ * @return {?}
+ */
+goog.requireType = function(namespace) {
+  // Return an empty object so that single-level destructuring of the return
+  // value doesn't crash at runtime when using the debug loader. Multi-level
+  // destructuring isn't supported.
+  return {};
+};
+
+
+/**
+ * Path for included scripts.
+ * @type {string}
+ */
+goog.basePath = '';
+
+
+/**
+ * A hook for overriding the base path.
+ * @type {string|undefined}
+ */
+goog.global.CLOSURE_BASE_PATH;
+
+
+/**
+ * Whether to attempt to load Closure's deps file. By default, when uncompiled,
+ * deps files will attempt to be loaded.
+ * @type {boolean|undefined}
+ */
+goog.global.CLOSURE_NO_DEPS;
+
+
+/**
+ * A function to import a single script. This is meant to be overridden when
+ * Closure is being run in non-HTML contexts, such as web workers. It's defined
+ * in the global scope so that it can be set before base.js is loaded, which
+ * allows deps.js to be imported properly.
+ *
+ * The first parameter the script source, which is a relative URI. The second,
+ * optional parameter is the script contents, in the event the script needed
+ * transformation. It should return true if the script was imported, false
+ * otherwise.
+ * @type {(function(string, string=): boolean)|undefined}
+ */
+goog.global.CLOSURE_IMPORT_SCRIPT;
+
+
+/**
+ * Null function used for default values of callbacks, etc.
+ * @return {void} Nothing.
+ * @deprecated use '()=>{}' or 'function(){}' instead.
+ */
+goog.nullFunction = function() {};
+
+
+/**
+ * When defining a class Foo with an abstract method bar(), you can do:
+ * Foo.prototype.bar = goog.abstractMethod
+ *
+ * Now if a subclass of Foo fails to override bar(), an error will be thrown
+ * when bar() is invoked.
+ *
+ * @type {!Function}
+ * @throws {Error} when invoked to indicate the method should be overridden.
+ * @deprecated Use "@abstract" annotation instead of goog.abstractMethod in new
+ *     code. See
+ *     https://github.com/google/closure-compiler/wiki/@abstract-classes-and-methods
+ */
+goog.abstractMethod = function() {
+  throw new Error('unimplemented abstract method');
+};
+
+
+/**
+ * Adds a `getInstance` static method that always returns the same
+ * instance object.
+ * @param {!Function} ctor The constructor for the class to add the static
+ *     method to.
+ * @suppress {missingProperties} 'instance_' isn't a property on 'Function'
+ *     but we don't have a better type to use here.
+ */
+goog.addSingletonGetter = function(ctor) {
+  // instance_ is immediately set to prevent issues with sealed constructors
+  // such as are encountered when a constructor is returned as the export object
+  // of a goog.module in unoptimized code.
+  // Delcare type to avoid conformance violations that ctor.instance_ is unknown
+  /** @type {undefined|!Object} @suppress {underscore} */
+  ctor.instance_ = undefined;
+  ctor.getInstance = function() {
+    if (ctor.instance_) {
+      return ctor.instance_;
+    }
+    if (goog.DEBUG) {
+      // NOTE: JSCompiler can't optimize away Array#push.
+      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;
+    }
+    // Cast to avoid conformance violations that ctor.instance_ is unknown
+    return /** @type {!Object|undefined} */ (ctor.instance_) = new ctor;
+  };
+};
+
+
+/**
+ * All singleton classes that have been instantiated, for testing. Don't read
+ * it directly, use the `goog.testing.singleton` module. The compiler
+ * removes this variable if unused.
+ * @type {!Array<!Function>}
+ * @private
+ */
+goog.instantiatedSingletons_ = [];
+
+
+/**
+ * @define {boolean} Whether to load goog.modules using `eval` when using
+ * the debug loader.  This provides a better debugging experience as the
+ * source is unmodified and can be edited using Chrome Workspaces or similar.
+ * However in some environments the use of `eval` is banned
+ * so we provide an alternative.
+ */
+goog.LOAD_MODULE_USING_EVAL = goog.define('goog.LOAD_MODULE_USING_EVAL', true);
+
+
+/**
+ * @define {boolean} Whether the exports of goog.modules should be sealed when
+ * possible.
+ */
+goog.SEAL_MODULE_EXPORTS = goog.define('goog.SEAL_MODULE_EXPORTS', goog.DEBUG);
+
+
+/**
+ * The registry of initialized modules:
+ * The module identifier or path to module exports map.
+ * @private @const {!Object<string, {exports:?,type:string,moduleId:string}>}
+ */
+goog.loadedModules_ = {};
+
+
+/**
+ * True if the debug loader enabled and used.
+ * @const {boolean}
+ */
+goog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;
+
+
+/**
+ * @define {string} How to decide whether to transpile.  Valid values
+ * are 'always', 'never', and 'detect'.  The default ('detect') is to
+ * use feature detection to determine which language levels need
+ * transpilation.
+ */
+// NOTE(sdh): we could expand this to accept a language level to bypass
+// detection: e.g. goog.TRANSPILE == 'es5' would transpile ES6 files but
+// would leave ES3 and ES5 files alone.
+goog.TRANSPILE = goog.define('goog.TRANSPILE', 'detect');
+
+/**
+ * @define {boolean} If true assume that ES modules have already been
+ * transpiled by the jscompiler (in the same way that transpile.js would
+ * transpile them - to jscomp modules). Useful only for servers that wish to use
+ * the debug loader and transpile server side. Thus this is only respected if
+ * goog.TRANSPILE is "never".
+ */
+goog.ASSUME_ES_MODULES_TRANSPILED =
+    goog.define('goog.ASSUME_ES_MODULES_TRANSPILED', false);
+
+
+/**
+ * @define {string} If a file needs to be transpiled what the output language
+ * should be. By default this is the highest language level this file detects
+ * the current environment supports. Generally this flag should not be set, but
+ * it could be useful to override. Example: If the current environment supports
+ * ES6 then by default ES7+ files will be transpiled to ES6, unless this is
+ * overridden.
+ *
+ * Valid values include: es3, es5, es6, es7, and es8. Anything not recognized
+ * is treated as es3.
+ *
+ * Note that setting this value does not force transpilation. Just if
+ * transpilation occurs this will be the output. So this is most useful when
+ * goog.TRANSPILE is set to 'always' and then forcing the language level to be
+ * something lower than what the environment detects.
+ */
+goog.TRANSPILE_TO_LANGUAGE = goog.define('goog.TRANSPILE_TO_LANGUAGE', '');
+
+
+/**
+ * @define {string} Path to the transpiler.  Executing the script at this
+ * path (relative to base.js) should define a function $jscomp.transpile.
+ */
+goog.TRANSPILER = goog.define('goog.TRANSPILER', 'transpile.js');
+
+
+/**
+ * @define {string} Trusted Types policy name. If non-empty then Closure will
+ * use Trusted Types.
+ */
+goog.TRUSTED_TYPES_POLICY_NAME =
+    goog.define('goog.TRUSTED_TYPES_POLICY_NAME', 'goog');
+
+
+/**
+ * @package {?boolean}
+ * Visible for testing.
+ */
+goog.hasBadLetScoping = null;
+
+
+/**
+ * @param {function(?):?|string} moduleDef The module definition.
+ */
+goog.loadModule = function(moduleDef) {
+  // NOTE: we allow function definitions to be either in the from
+  // of a string to eval (which keeps the original source intact) or
+  // in a eval forbidden environment (CSP) we allow a function definition
+  // which in its body must call `goog.module`, and return the exports
+  // of the module.
+  var previousState = goog.moduleLoaderState_;
+  try {
+    goog.moduleLoaderState_ = {
+      moduleName: '',
+      declareLegacyNamespace: false,
+      type: goog.ModuleType.GOOG
+    };
+    var origExports = {};
+    var exports = origExports;
+    if (typeof moduleDef === 'function') {
+      exports = moduleDef.call(undefined, exports);
+    } else if (typeof moduleDef === 'string') {
+      exports = goog.loadModuleFromSource_.call(undefined, exports, moduleDef);
+    } else {
+      throw new Error('Invalid module definition');
+    }
+
+    var moduleName = goog.moduleLoaderState_.moduleName;
+    if (typeof moduleName === 'string' && moduleName) {
+      // Don't seal legacy namespaces as they may be used as a parent of
+      // another namespace
+      if (goog.moduleLoaderState_.declareLegacyNamespace) {
+        // Whether exports was overwritten via default export assignment.
+        // This is important for legacy namespaces as it dictates whether
+        // previously a previously loaded implicit namespace should be clobbered
+        // or not.
+        var isDefaultExport = origExports !== exports;
+        goog.constructNamespace_(moduleName, exports, isDefaultExport);
+      } else if (
+          goog.SEAL_MODULE_EXPORTS && Object.seal &&
+          typeof exports == 'object' && exports != null) {
+        Object.seal(exports);
+      }
+
+      var data = {
+        exports: exports,
+        type: goog.ModuleType.GOOG,
+        moduleId: goog.moduleLoaderState_.moduleName
+      };
+      goog.loadedModules_[moduleName] = data;
+    } else {
+      throw new Error('Invalid module name \"' + moduleName + '\"');
+    }
+  } finally {
+    goog.moduleLoaderState_ = previousState;
+  }
+};
+
+
+/**
+ * @private @const
+ */
+goog.loadModuleFromSource_ =
+    /** @type {function(!Object, string):?} */ (function(exports) {
+      // NOTE: we avoid declaring parameters or local variables here to avoid
+      // masking globals or leaking values into the module definition.
+      'use strict';
+      eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(arguments[1]));
+      return exports;
+    });
+
+
+/**
+ * Normalize a file path by removing redundant ".." and extraneous "." file
+ * path components.
+ * @param {string} path
+ * @return {string}
+ * @private
+ */
+goog.normalizePath_ = function(path) {
+  var components = path.split('/');
+  var i = 0;
+  while (i < components.length) {
+    if (components[i] == '.') {
+      components.splice(i, 1);
+    } else if (
+        i && components[i] == '..' && components[i - 1] &&
+        components[i - 1] != '..') {
+      components.splice(--i, 2);
+    } else {
+      i++;
+    }
+  }
+  return components.join('/');
+};
+
+
+/**
+ * Provides a hook for loading a file when using Closure's goog.require() API
+ * with goog.modules.  In particular this hook is provided to support Node.js.
+ *
+ * @type {(function(string):string)|undefined}
+ */
+goog.global.CLOSURE_LOAD_FILE_SYNC;
+
+
+/**
+ * Loads file by synchronous XHR. Should not be used in production environments.
+ * @param {string} src Source URL.
+ * @return {?string} File contents, or null if load failed.
+ * @private
+ */
+goog.loadFileSync_ = function(src) {
+  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {
+    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);
+  } else {
+    try {
+      /** @type {XMLHttpRequest} */
+      var xhr = new goog.global['XMLHttpRequest']();
+      xhr.open('get', src, false);
+      xhr.send();
+      // NOTE: Successful http: requests have a status of 200, but successful
+      // file: requests may have a status of zero.  Any other status, or a
+      // thrown exception (particularly in case of file: requests) indicates
+      // some sort of error, which we treat as a missing or unavailable file.
+      return xhr.status == 0 || xhr.status == 200 ? xhr.responseText : null;
+    } catch (err) {
+      // No need to rethrow or log, since errors should show up on their own.
+      return null;
+    }
+  }
+};
+
+
+/**
+ * Lazily retrieves the transpiler and applies it to the source.
+ * @param {string} code JS code.
+ * @param {string} path Path to the code.
+ * @param {string} target Language level output.
+ * @return {string} The transpiled code.
+ * @private
+ */
+goog.transpile_ = function(code, path, target) {
+  var jscomp = goog.global['$jscomp'];
+  if (!jscomp) {
+    goog.global['$jscomp'] = jscomp = {};
+  }
+  var transpile = jscomp.transpile;
+  if (!transpile) {
+    var transpilerPath = goog.basePath + goog.TRANSPILER;
+    var transpilerCode = goog.loadFileSync_(transpilerPath);
+    if (transpilerCode) {
+      // This must be executed synchronously, since by the time we know we
+      // need it, we're about to load and write the ES6 code synchronously,
+      // so a normal script-tag load will be too slow. Wrapped in a function
+      // so that code is eval'd in the global scope.
+      (function() {
+        (0, eval)(transpilerCode + '\n//# sourceURL=' + transpilerPath);
+      }).call(goog.global);
+      // Even though the transpiler is optional, if $gwtExport is found, it's
+      // a sign the transpiler was loaded and the $jscomp.transpile *should*
+      // be there.
+      if (goog.global['$gwtExport'] && goog.global['$gwtExport']['$jscomp'] &&
+          !goog.global['$gwtExport']['$jscomp']['transpile']) {
+        throw new Error(
+            'The transpiler did not properly export the "transpile" ' +
+            'method. $gwtExport: ' + JSON.stringify(goog.global['$gwtExport']));
+      }
+      // transpile.js only exports a single $jscomp function, transpile. We
+      // grab just that and add it to the existing definition of $jscomp which
+      // contains the polyfills.
+      goog.global['$jscomp'].transpile =
+          goog.global['$gwtExport']['$jscomp']['transpile'];
+      jscomp = goog.global['$jscomp'];
+      transpile = jscomp.transpile;
+    }
+  }
+  if (!transpile) {
+    // The transpiler is an optional component.  If it's not available then
+    // replace it with a pass-through function that simply logs.
+    var suffix = ' requires transpilation but no transpiler was found.';
+    // MOE:begin_strip
+    suffix +=  // Provide a more appropriate message internally.
+        ' Please add "//javascript/closure:transpiler" as a data ' +
+        'dependency to ensure it is included.';
+    // MOE:end_strip
+    transpile = jscomp.transpile = function(code, path) {
+      // TODO(sdh): figure out some way to get this error to show up
+      // in test results, noting that the failure may occur in many
+      // different ways, including in loadModule() before the test
+      // runner even comes up.
+      goog.logToConsole_(path + suffix);
+      return code;
+    };
+  }
+  // Note: any transpilation errors/warnings will be logged to the console.
+  return transpile(code, path, target);
+};
+
+//==============================================================================
+// Language Enhancements
+//==============================================================================
+
+
+/**
+ * This is a "fixed" version of the typeof operator.  It differs from the typeof
+ * operator in such a way that null returns 'null' and arrays return 'array'.
+ * @param {?} value The value to get the type of.
+ * @return {string} The name of the type.
+ */
+goog.typeOf = function(value) {
+  var s = typeof value;
+
+  if (s != 'object') {
+    return s;
+  }
+
+  if (!value) {
+    return 'null';
+  }
+
+  if (Array.isArray(value)) {
+    return 'array';
+  }
+  return s;
+};
+
+
+/**
+ * Returns true if the object looks like an array. To qualify as array like
+ * the value needs to be either a NodeList or an object with a Number length
+ * property. Note that for this function neither strings nor functions are
+ * considered "array-like".
+ *
+ * @param {?} val Variable to test.
+ * @return {boolean} Whether variable is an array.
+ */
+goog.isArrayLike = function(val) {
+  var type = goog.typeOf(val);
+  // We do not use goog.isObject here in order to exclude function values.
+  return type == 'array' || type == 'object' && typeof val.length == 'number';
+};
+
+
+/**
+ * Returns true if the object looks like a Date. To qualify as Date-like the
+ * value needs to be an object and have a getFullYear() function.
+ * @param {?} val Variable to test.
+ * @return {boolean} Whether variable is a like a Date.
+ */
+goog.isDateLike = function(val) {
+  return goog.isObject(val) && typeof val.getFullYear == 'function';
+};
+
+
+/**
+ * Returns true if the specified value is an object.  This includes arrays and
+ * functions.
+ * @param {?} val Variable to test.
+ * @return {boolean} Whether variable is an object.
+ */
+goog.isObject = function(val) {
+  var type = typeof val;
+  return type == 'object' && val != null || type == 'function';
+  // return Object(val) === val also works, but is slower, especially if val is
+  // not an object.
+};
+
+
+/**
+ * Gets a unique ID for an object. This mutates the object so that further calls
+ * with the same object as a parameter returns the same value. The unique ID is
+ * guaranteed to be unique across the current session amongst objects that are
+ * passed into `getUid`. There is no guarantee that the ID is unique or
+ * consistent across sessions. It is unsafe to generate unique ID for function
+ * prototypes.
+ *
+ * @param {Object} obj The object to get the unique ID for.
+ * @return {number} The unique ID for the object.
+ */
+goog.getUid = function(obj) {
+  // TODO(arv): Make the type stricter, do not accept null.
+  return Object.prototype.hasOwnProperty.call(obj, goog.UID_PROPERTY_) &&
+      obj[goog.UID_PROPERTY_] ||
+      (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);
+};
+
+
+/**
+ * Whether the given object is already assigned a unique ID.
+ *
+ * This does not modify the object.
+ *
+ * @param {!Object} obj The object to check.
+ * @return {boolean} Whether there is an assigned unique id for the object.
+ */
+goog.hasUid = function(obj) {
+  return !!obj[goog.UID_PROPERTY_];
+};
+
+
+/**
+ * Removes the unique ID from an object. This is useful if the object was
+ * previously mutated using `goog.getUid` in which case the mutation is
+ * undone.
+ * @param {Object} obj The object to remove the unique ID field from.
+ */
+goog.removeUid = function(obj) {
+  // TODO(arv): Make the type stricter, do not accept null.
+
+  // In IE, DOM nodes are not instances of Object and throw an exception if we
+  // try to delete.  Instead we try to use removeAttribute.
+  if (obj !== null && 'removeAttribute' in obj) {
+    obj.removeAttribute(goog.UID_PROPERTY_);
+  }
+
+  try {
+    delete obj[goog.UID_PROPERTY_];
+  } catch (ex) {
+  }
+};
+
+
+/**
+ * Name for unique ID property. Initialized in a way to help avoid collisions
+ * with other closure JavaScript on the same page.
+ * @type {string}
+ * @private
+ */
+goog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);
+
+
+/**
+ * Counter for UID.
+ * @type {number}
+ * @private
+ */
+goog.uidCounter_ = 0;
+
+
+/**
+ * Clones a value. The input may be an Object, Array, or basic type. Objects and
+ * arrays will be cloned recursively.
+ *
+ * WARNINGS:
+ * <code>goog.cloneObject</code> does not detect reference loops. Objects that
+ * refer to themselves will cause infinite recursion.
+ *
+ * <code>goog.cloneObject</code> is unaware of unique identifiers, and copies
+ * UIDs created by <code>getUid</code> into cloned results.
+ *
+ * @param {*} obj The value to clone.
+ * @return {*} A clone of the input value.
+ * @deprecated goog.cloneObject is unsafe. Prefer the goog.object methods.
+ */
+goog.cloneObject = function(obj) {
+  var type = goog.typeOf(obj);
+  if (type == 'object' || type == 'array') {
+    if (typeof obj.clone === 'function') {
+      return obj.clone();
+    }
+    var clone = type == 'array' ? [] : {};
+    for (var key in obj) {
+      clone[key] = goog.cloneObject(obj[key]);
+    }
+    return clone;
+  }
+
+  return obj;
+};
+
+
+/**
+ * A native implementation of goog.bind.
+ * @param {?function(this:T, ...)} fn A function to partially apply.
+ * @param {T} selfObj Specifies the object which this should point to when the
+ *     function is run.
+ * @param {...*} var_args Additional arguments that are partially applied to the
+ *     function.
+ * @return {!Function} A partially-applied form of the function goog.bind() was
+ *     invoked as a method of.
+ * @template T
+ * @private
+ */
+goog.bindNative_ = function(fn, selfObj, var_args) {
+  return /** @type {!Function} */ (fn.call.apply(fn.bind, arguments));
+};
+
+
+/**
+ * A pure-JS implementation of goog.bind.
+ * @param {?function(this:T, ...)} fn A function to partially apply.
+ * @param {T} selfObj Specifies the object which this should point to when the
+ *     function is run.
+ * @param {...*} var_args Additional arguments that are partially applied to the
+ *     function.
+ * @return {!Function} A partially-applied form of the function goog.bind() was
+ *     invoked as a method of.
+ * @template T
+ * @private
+ */
+goog.bindJs_ = function(fn, selfObj, var_args) {
+  if (!fn) {
+    throw new Error();
+  }
+
+  if (arguments.length > 2) {
+    var boundArgs = Array.prototype.slice.call(arguments, 2);
+    return function() {
+      // Prepend the bound arguments to the current arguments.
+      var newArgs = Array.prototype.slice.call(arguments);
+      Array.prototype.unshift.apply(newArgs, boundArgs);
+      return fn.apply(selfObj, newArgs);
+    };
+
+  } else {
+    return function() {
+      return fn.apply(selfObj, arguments);
+    };
+  }
+};
+
+
+/**
+ * Partially applies this function to a particular 'this object' and zero or
+ * more arguments. The result is a new function with some arguments of the first
+ * function pre-filled and the value of this 'pre-specified'.
+ *
+ * Remaining arguments specified at call-time are appended to the pre-specified
+ * ones.
+ *
+ * Also see: {@link #partial}.
+ *
+ * Usage:
+ * <pre>var barMethBound = goog.bind(myFunction, myObj, 'arg1', 'arg2');
+ * barMethBound('arg3', 'arg4');</pre>
+ *
+ * @param {?function(this:T, ...)} fn A function to partially apply.
+ * @param {T} selfObj Specifies the object which this should point to when the
+ *     function is run.
+ * @param {...*} var_args Additional arguments that are partially applied to the
+ *     function.
+ * @return {!Function} A partially-applied form of the function goog.bind() was
+ *     invoked as a method of.
+ * @template T
+ * @suppress {deprecated} See above.
+ * @deprecated use `=> {}` or Function.prototype.bind instead.
+ */
+goog.bind = function(fn, selfObj, var_args) {
+  // TODO(nicksantos): narrow the type signature.
+  if (Function.prototype.bind &&
+      // NOTE(nicksantos): Somebody pulled base.js into the default Chrome
+      // extension environment. This means that for Chrome extensions, they get
+      // the implementation of Function.prototype.bind that calls goog.bind
+      // instead of the native one. Even worse, we don't want to introduce a
+      // circular dependency between goog.bind and Function.prototype.bind, so
+      // we have to hack this to make sure it works correctly.
+      Function.prototype.bind.toString().indexOf('native code') != -1) {
+    goog.bind = goog.bindNative_;
+  } else {
+    goog.bind = goog.bindJs_;
+  }
+  return goog.bind.apply(null, arguments);
+};
+
+
+/**
+ * Like goog.bind(), except that a 'this object' is not required. Useful when
+ * the target function is already bound.
+ *
+ * Usage:
+ * var g = goog.partial(f, arg1, arg2);
+ * g(arg3, arg4);
+ *
+ * @param {Function} fn A function to partially apply.
+ * @param {...*} var_args Additional arguments that are partially applied to fn.
+ * @return {!Function} A partially-applied form of the function goog.partial()
+ *     was invoked as a method of.
+ */
+goog.partial = function(fn, var_args) {
+  var args = Array.prototype.slice.call(arguments, 1);
+  return function() {
+    // Clone the array (with slice()) and append additional arguments
+    // to the existing arguments.
+    var newArgs = args.slice();
+    newArgs.push.apply(newArgs, arguments);
+    return fn.apply(/** @type {?} */ (this), newArgs);
+  };
+};
+
+
+/**
+ * Copies all the members of a source object to a target object. This method
+ * does not work on all browsers for all objects that contain keys such as
+ * toString or hasOwnProperty. Use goog.object.extend for this purpose.
+ *
+ * NOTE: Some have advocated for the use of goog.mixin to setup classes
+ * with multiple inheritence (traits, mixins, etc).  However, as it simply
+ * uses "for in", this is not compatible with ES6 classes whose methods are
+ * non-enumerable.  Changing this, would break cases where non-enumerable
+ * properties are not expected.
+ *
+ * @param {Object} target Target.
+ * @param {Object} source Source.
+ * @deprecated Prefer Object.assign
+ */
+goog.mixin = function(target, source) {
+  for (var x in source) {
+    target[x] = source[x];
+  }
+
+  // For IE7 or lower, the for-in-loop does not contain any properties that are
+  // not enumerable on the prototype object (for example, isPrototypeOf from
+  // Object.prototype) but also it will not include 'replace' on objects that
+  // extend String and change 'replace' (not that it is common for anyone to
+  // extend anything except Object).
+};
+
+
+/**
+ * @return {number} An integer value representing the number of milliseconds
+ *     between midnight, January 1, 1970 and the current time.
+ * @deprecated Use Date.now
+ */
+goog.now = function() {
+  return Date.now();
+};
+
+
+/**
+ * Evals JavaScript in the global scope.
+ *
+ * Throws an exception if neither execScript or eval is defined.
+ * @param {string|!TrustedScript} script JavaScript string.
+ */
+goog.globalEval = function(script) {
+  (0, eval)(script);
+};
+
+
+/**
+ * Optional map of CSS class names to obfuscated names used with
+ * goog.getCssName().
+ * @private {!Object<string, string>|undefined}
+ * @see goog.setCssNameMapping
+ */
+goog.cssNameMapping_;
+
+
+/**
+ * Optional obfuscation style for CSS class names. Should be set to either
+ * 'BY_WHOLE' or 'BY_PART' if defined.
+ * @type {string|undefined}
+ * @private
+ * @see goog.setCssNameMapping
+ */
+goog.cssNameMappingStyle_;
+
+
+
+/**
+ * A hook for modifying the default behavior goog.getCssName. The function
+ * if present, will receive the standard output of the goog.getCssName as
+ * its input.
+ *
+ * @type {(function(string):string)|undefined}
+ */
+goog.global.CLOSURE_CSS_NAME_MAP_FN;
+
+
+/**
+ * Handles strings that are intended to be used as CSS class names.
+ *
+ * This function works in tandem with @see goog.setCssNameMapping.
+ *
+ * Without any mapping set, the arguments are simple joined with a hyphen and
+ * passed through unaltered.
+ *
+ * When there is a mapping, there are two possible styles in which these
+ * mappings are used. In the BY_PART style, each part (i.e. in between hyphens)
+ * of the passed in css name is rewritten according to the map. In the BY_WHOLE
+ * style, the full css name is looked up in the map directly. If a rewrite is
+ * not specified by the map, the compiler will output a warning.
+ *
+ * When the mapping is passed to the compiler, it will replace calls to
+ * goog.getCssName with the strings from the mapping, e.g.
+ *     var x = goog.getCssName('foo');
+ *     var y = goog.getCssName(this.baseClass, 'active');
+ *  becomes:
+ *     var x = 'foo';
+ *     var y = this.baseClass + '-active';
+ *
+ * If one argument is passed it will be processed, if two are passed only the
+ * modifier will be processed, as it is assumed the first argument was generated
+ * as a result of calling goog.getCssName.
+ *
+ * @param {string} className The class name.
+ * @param {string=} opt_modifier A modifier to be appended to the class name.
+ * @return {string} The class name or the concatenation of the class name and
+ *     the modifier.
+ */
+goog.getCssName = function(className, opt_modifier) {
+  // String() is used for compatibility with compiled soy where the passed
+  // className can be non-string objects.
+  if (String(className).charAt(0) == '.') {
+    throw new Error(
+        'className passed in goog.getCssName must not start with ".".' +
+        ' You passed: ' + className);
+  }
+
+  var getMapping = function(cssName) {
+    return goog.cssNameMapping_[cssName] || cssName;
+  };
+
+  var renameByParts = function(cssName) {
+    // Remap all the parts individually.
+    var parts = cssName.split('-');
+    var mapped = [];
+    for (var i = 0; i < parts.length; i++) {
+      mapped.push(getMapping(parts[i]));
+    }
+    return mapped.join('-');
+  };
+
+  var rename;
+  if (goog.cssNameMapping_) {
+    rename =
+        goog.cssNameMappingStyle_ == 'BY_WHOLE' ? getMapping : renameByParts;
+  } else {
+    rename = function(a) {
+      return a;
+    };
+  }
+
+  var result =
+      opt_modifier ? className + '-' + rename(opt_modifier) : rename(className);
+
+  // The special CLOSURE_CSS_NAME_MAP_FN allows users to specify further
+  // processing of the class name.
+  if (goog.global.CLOSURE_CSS_NAME_MAP_FN) {
+    return goog.global.CLOSURE_CSS_NAME_MAP_FN(result);
+  }
+
+  return result;
+};
+
+
+/**
+ * Sets the map to check when returning a value from goog.getCssName(). Example:
+ * <pre>
+ * goog.setCssNameMapping({
+ *   "goog": "a",
+ *   "disabled": "b",
+ * });
+ *
+ * var x = goog.getCssName('goog');
+ * // The following evaluates to: "a a-b".
+ * goog.getCssName('goog') + ' ' + goog.getCssName(x, 'disabled')
+ * </pre>
+ * When declared as a map of string literals to string literals, the JSCompiler
+ * will replace all calls to goog.getCssName() using the supplied map if the
+ * --process_closure_primitives flag is set.
+ *
+ * @param {!Object} mapping A map of strings to strings where keys are possible
+ *     arguments to goog.getCssName() and values are the corresponding values
+ *     that should be returned.
+ * @param {string=} opt_style The style of css name mapping. There are two valid
+ *     options: 'BY_PART', and 'BY_WHOLE'.
+ * @see goog.getCssName for a description.
+ */
+goog.setCssNameMapping = function(mapping, opt_style) {
+  goog.cssNameMapping_ = mapping;
+  goog.cssNameMappingStyle_ = opt_style;
+};
+
+
+/**
+ * To use CSS renaming in compiled mode, one of the input files should have a
+ * call to goog.setCssNameMapping() with an object literal that the JSCompiler
+ * can extract and use to replace all calls to goog.getCssName(). In uncompiled
+ * mode, JavaScript code should be loaded before this base.js file that declares
+ * a global variable, CLOSURE_CSS_NAME_MAPPING, which is used below. This is
+ * to ensure that the mapping is loaded before any calls to goog.getCssName()
+ * are made in uncompiled mode.
+ *
+ * A hook for overriding the CSS name mapping.
+ * @type {!Object<string, string>|undefined}
+ */
+goog.global.CLOSURE_CSS_NAME_MAPPING;
+
+
+if (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {
+  // This does not call goog.setCssNameMapping() because the JSCompiler
+  // requires that goog.setCssNameMapping() be called with an object literal.
+  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;
+}
+
+
+/**
+ * Gets a localized message.
+ *
+ * This function is a compiler primitive. If you give the compiler a localized
+ * message bundle, it will replace the string at compile-time with a localized
+ * version, and expand goog.getMsg call to a concatenated string.
+ *
+ * Messages must be initialized in the form:
+ * <code>
+ * var MSG_NAME = goog.getMsg('Hello {$placeholder}', {'placeholder': 'world'});
+ * </code>
+ *
+ * This function produces a string which should be treated as plain text. Use
+ * {@link goog.html.SafeHtmlFormatter} in conjunction with goog.getMsg to
+ * produce SafeHtml.
+ *
+ * @param {string} str Translatable string, places holders in the form {$foo}.
+ * @param {Object<string, string>=} opt_values Maps place holder name to value.
+ * @param {{html: (boolean|undefined),
+ *         unescapeHtmlEntities: (boolean|undefined)}=} opt_options Options:
+ *     html: Escape '<' in str to '&lt;'. Used by Closure Templates where the
+ *     generated code size and performance is critical which is why {@link
+ *     goog.html.SafeHtmlFormatter} is not used. The value must be literal true
+ *     or false.
+ *     unescapeHtmlEntities: Unescape common html entities: &gt;, &lt;, &apos;,
+ *     &quot; and &amp;. Used for messages not in HTML context, such as with
+ *     `textContent` property.
+ * @return {string} message with placeholders filled.
+ */
+goog.getMsg = function(str, opt_values, opt_options) {
+  if (opt_options && opt_options.html) {
+    // Note that '&' is not replaced because the translation can contain HTML
+    // entities.
+    str = str.replace(/</g, '&lt;');
+  }
+  if (opt_options && opt_options.unescapeHtmlEntities) {
+    // Note that "&amp;" must be the last to avoid "creating" new entities.
+    str = str.replace(/&lt;/g, '<')
+              .replace(/&gt;/g, '>')
+              .replace(/&apos;/g, '\'')
+              .replace(/&quot;/g, '"')
+              .replace(/&amp;/g, '&');
+  }
+  if (opt_values) {
+    str = str.replace(/\{\$([^}]+)}/g, function(match, key) {
+      return (opt_values != null && key in opt_values) ? opt_values[key] :
+                                                         match;
+    });
+  }
+  return str;
+};
+
+
+/**
+ * Gets a localized message. If the message does not have a translation, gives a
+ * fallback message.
+ *
+ * This is useful when introducing a new message that has not yet been
+ * translated into all languages.
+ *
+ * This function is a compiler primitive. Must be used in the form:
+ * <code>var x = goog.getMsgWithFallback(MSG_A, MSG_B);</code>
+ * where MSG_A and MSG_B were initialized with goog.getMsg.
+ *
+ * @param {string} a The preferred message.
+ * @param {string} b The fallback message.
+ * @return {string} The best translated message.
+ */
+goog.getMsgWithFallback = function(a, b) {
+  return a;
+};
+
+
+/**
+ * Exposes an unobfuscated global namespace path for the given object.
+ * Note that fields of the exported object *will* be obfuscated, unless they are
+ * exported in turn via this function or goog.exportProperty.
+ *
+ * Also handy for making public items that are defined in anonymous closures.
+ *
+ * ex. goog.exportSymbol('public.path.Foo', Foo);
+ *
+ * ex. goog.exportSymbol('public.path.Foo.staticFunction', Foo.staticFunction);
+ *     public.path.Foo.staticFunction();
+ *
+ * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',
+ *                       Foo.prototype.myMethod);
+ *     new public.path.Foo().myMethod();
+ *
+ * @param {string} publicPath Unobfuscated name to export.
+ * @param {*} object Object the name should point to.
+ * @param {?Object=} objectToExportTo The object to add the path to; default
+ *     is goog.global.
+ */
+goog.exportSymbol = function(publicPath, object, objectToExportTo) {
+  goog.exportPath_(
+      publicPath, object, /* overwriteImplicit= */ true, objectToExportTo);
+};
+
+
+/**
+ * Exports a property unobfuscated into the object's namespace.
+ * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);
+ * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);
+ * @param {Object} object Object whose static property is being exported.
+ * @param {string} publicName Unobfuscated name to export.
+ * @param {*} symbol Object the name should point to.
+ */
+goog.exportProperty = function(object, publicName, symbol) {
+  object[publicName] = symbol;
+};
+
+
+/**
+ * Inherit the prototype methods from one constructor into another.
+ *
+ * Usage:
+ * <pre>
+ * function ParentClass(a, b) { }
+ * ParentClass.prototype.foo = function(a) { };
+ *
+ * function ChildClass(a, b, c) {
+ *   ChildClass.base(this, 'constructor', a, b);
+ * }
+ * goog.inherits(ChildClass, ParentClass);
+ *
+ * var child = new ChildClass('a', 'b', 'see');
+ * child.foo(); // This works.
+ * </pre>
+ *
+ * @param {!Function} childCtor Child class.
+ * @param {!Function} parentCtor Parent class.
+ * @suppress {strictMissingProperties} superClass_ and base is not defined on
+ *    Function.
+ * @deprecated Use ECMAScript class syntax instead.
+ */
+goog.inherits = function(childCtor, parentCtor) {
+  /** @constructor */
+  function tempCtor() {}
+  tempCtor.prototype = parentCtor.prototype;
+  childCtor.superClass_ = parentCtor.prototype;
+  childCtor.prototype = new tempCtor();
+  /** @override */
+  childCtor.prototype.constructor = childCtor;
+
+  /**
+   * Calls superclass constructor/method.
+   *
+   * This function is only available if you use goog.inherits to
+   * express inheritance relationships between classes.
+   *
+   * NOTE: This is a replacement for goog.base and for superClass_
+   * property defined in childCtor.
+   *
+   * @param {!Object} me Should always be "this".
+   * @param {string} methodName The method name to call. Calling
+   *     superclass constructor can be done with the special string
+   *     'constructor'.
+   * @param {...*} var_args The arguments to pass to superclass
+   *     method/constructor.
+   * @return {*} The return value of the superclass method/constructor.
+   */
+  childCtor.base = function(me, methodName, var_args) {
+    // Copying using loop to avoid deop due to passing arguments object to
+    // function. This is faster in many JS engines as of late 2014.
+    var args = new Array(arguments.length - 2);
+    for (var i = 2; i < arguments.length; i++) {
+      args[i - 2] = arguments[i];
+    }
+    return parentCtor.prototype[methodName].apply(me, args);
+  };
+};
+
+
+/**
+ * Allow for aliasing within scope functions.  This function exists for
+ * uncompiled code - in compiled code the calls will be inlined and the aliases
+ * applied.  In uncompiled code the function is simply run since the aliases as
+ * written are valid JavaScript.
+ *
+ * MOE:begin_intracomment_strip
+ * See the goog.scope document at http://go/goog.scope
+ *
+ * For more on goog.scope deprecation, see the style guide entry:
+ * http://go/jsstyle#appendices-legacy-exceptions-goog-scope
+ * MOE:end_intracomment_strip
+ *
+ * @param {function()} fn Function to call.  This function can contain aliases
+ *     to namespaces (e.g. "var dom = goog.dom") or classes
+ *     (e.g. "var Timer = goog.Timer").
+ * @deprecated Use goog.module instead.
+ */
+goog.scope = function(fn) {
+  if (goog.isInModuleLoader_()) {
+    throw new Error('goog.scope is not supported within a module.');
+  }
+  fn.call(goog.global);
+};
+
+
+/*
+ * To support uncompiled, strict mode bundles that use eval to divide source
+ * like so:
+ *    eval('someSource;//# sourceUrl sourcefile.js');
+ * We need to export the globally defined symbols "goog" and "COMPILED".
+ * Exporting "goog" breaks the compiler optimizations, so we required that
+ * be defined externally.
+ * NOTE: We don't use goog.exportSymbol here because we don't want to trigger
+ * extern generation when that compiler option is enabled.
+ */
+if (!COMPILED) {
+  goog.global['COMPILED'] = COMPILED;
+}
+
+
+//==============================================================================
+// goog.defineClass implementation
+//==============================================================================
+
+
+/**
+ * Creates a restricted form of a Closure "class":
+ *   - from the compiler's perspective, the instance returned from the
+ *     constructor is sealed (no new properties may be added).  This enables
+ *     better checks.
+ *   - the compiler will rewrite this definition to a form that is optimal
+ *     for type checking and optimization (initially this will be a more
+ *     traditional form).
+ *
+ * @param {Function} superClass The superclass, Object or null.
+ * @param {goog.defineClass.ClassDescriptor} def
+ *     An object literal describing
+ *     the class.  It may have the following properties:
+ *     "constructor": the constructor function
+ *     "statics": an object literal containing methods to add to the constructor
+ *        as "static" methods or a function that will receive the constructor
+ *        function as its only parameter to which static properties can
+ *        be added.
+ *     all other properties are added to the prototype.
+ * @return {!Function} The class constructor.
+ * @deprecated Use ECMAScript class syntax instead.
+ */
+goog.defineClass = function(superClass, def) {
+  // TODO(johnlenz): consider making the superClass an optional parameter.
+  var constructor = def.constructor;
+  var statics = def.statics;
+  // Wrap the constructor prior to setting up the prototype and static methods.
+  if (!constructor || constructor == Object.prototype.constructor) {
+    constructor = function() {
+      throw new Error(
+          'cannot instantiate an interface (no constructor defined).');
+    };
+  }
+
+  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);
+  if (superClass) {
+    goog.inherits(cls, superClass);
+  }
+
+  // Remove all the properties that should not be copied to the prototype.
+  delete def.constructor;
+  delete def.statics;
+
+  goog.defineClass.applyProperties_(cls.prototype, def);
+  if (statics != null) {
+    if (statics instanceof Function) {
+      statics(cls);
+    } else {
+      goog.defineClass.applyProperties_(cls, statics);
+    }
+  }
+
+  return cls;
+};
+
+
+/**
+ * @typedef {{
+ *   constructor: (!Function|undefined),
+ *   statics: (Object|undefined|function(Function):void)
+ * }}
+ */
+goog.defineClass.ClassDescriptor;
+
+
+/**
+ * @define {boolean} Whether the instances returned by goog.defineClass should
+ *     be sealed when possible.
+ *
+ * When sealing is disabled the constructor function will not be wrapped by
+ * goog.defineClass, making it incompatible with ES6 class methods.
+ */
+goog.defineClass.SEAL_CLASS_INSTANCES =
+    goog.define('goog.defineClass.SEAL_CLASS_INSTANCES', goog.DEBUG);
+
+
+/**
+ * If goog.defineClass.SEAL_CLASS_INSTANCES is enabled and Object.seal is
+ * defined, this function will wrap the constructor in a function that seals the
+ * results of the provided constructor function.
+ *
+ * @param {!Function} ctr The constructor whose results maybe be sealed.
+ * @param {Function} superClass The superclass constructor.
+ * @return {!Function} The replacement constructor.
+ * @private
+ */
+goog.defineClass.createSealingConstructor_ = function(ctr, superClass) {
+  if (!goog.defineClass.SEAL_CLASS_INSTANCES) {
+    // Do now wrap the constructor when sealing is disabled. Angular code
+    // depends on this for injection to work properly.
+    return ctr;
+  }
+
+  // NOTE: The sealing behavior has been removed
+
+  /**
+   * @this {Object}
+   * @return {?}
+   */
+  var wrappedCtr = function() {
+    // Don't seal an instance of a subclass when it calls the constructor of
+    // its super class as there is most likely still setup to do.
+    var instance = ctr.apply(this, arguments) || this;
+    instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];
+
+    return instance;
+  };
+
+  return wrappedCtr;
+};
+
+
+
+// TODO(johnlenz): share these values with the goog.object
+/**
+ * The names of the fields that are defined on Object.prototype.
+ * @type {!Array<string>}
+ * @private
+ * @const
+ */
+goog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = [
+  'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',
+  'toLocaleString', 'toString', 'valueOf'
+];
+
+
+// TODO(johnlenz): share this function with the goog.object
+/**
+ * @param {!Object} target The object to add properties to.
+ * @param {!Object} source The object to copy properties from.
+ * @private
+ */
+goog.defineClass.applyProperties_ = function(target, source) {
+  // TODO(johnlenz): update this to support ES5 getters/setters
+
+  var key;
+  for (key in source) {
+    if (Object.prototype.hasOwnProperty.call(source, key)) {
+      target[key] = source[key];
+    }
+  }
+
+  // For IE the for-in-loop does not contain any properties that are not
+  // enumerable on the prototype object (for example isPrototypeOf from
+  // Object.prototype) and it will also not include 'replace' on objects that
+  // extend String and change 'replace' (not that it is common for anyone to
+  // extend anything except Object).
+  for (var i = 0; i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; i++) {
+    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i];
+    if (Object.prototype.hasOwnProperty.call(source, key)) {
+      target[key] = source[key];
+    }
+  }
+};
+
+/**
+ * Returns the parameter.
+ * @param {string} s
+ * @return {string}
+ * @private
+ */
+goog.identity_ = function(s) {
+  return s;
+};
+
+
+/**
+ * Creates Trusted Types policy if Trusted Types are supported by the browser.
+ * The policy just blesses any string as a Trusted Type. It is not visibility
+ * restricted because anyone can also call trustedTypes.createPolicy directly.
+ * However, the allowed names should be restricted by a HTTP header and the
+ * reference to the created policy should be visibility restricted.
+ * @param {string} name
+ * @return {?TrustedTypePolicy}
+ */
+goog.createTrustedTypesPolicy = function(name) {
+  var policy = null;
+  var policyFactory = goog.global.trustedTypes;
+  if (!policyFactory || !policyFactory.createPolicy) {
+    return policy;
+  }
+  // trustedTypes.createPolicy throws if called with a name that is already
+  // registered, even in report-only mode. Until the API changes, catch the
+  // error not to break the applications functionally. In such case, the code
+  // will fall back to using regular Safe Types.
+  // TODO(koto): Remove catching once createPolicy API stops throwing.
+  try {
+    policy = policyFactory.createPolicy(name, {
+      createHTML: goog.identity_,
+      createScript: goog.identity_,
+      createScriptURL: goog.identity_
+    });
+  } catch (e) {
+    goog.logToConsole_(e.message);
+  }
+  return policy;
+};
+
+// There's a bug in the compiler where without collapse properties the
+// Closure namespace defines do not guard code correctly. To help reduce code
+// size also check for !COMPILED even though it redundant until this is fixed.
+if (!COMPILED && goog.DEPENDENCIES_ENABLED) {
+  // MOE:begin_strip
+  // TODO(b/67050526) This object is obsolete but some people are relying on
+  // it internally. Keep it around until we migrate them.
+  /**
+   * @private
+   * @type {{
+   *   loadFlags: !Object<string, !Object<string, string>>,
+   *   nameToPath: !Object<string, string>,
+   *   requires: !Object<string, !Object<string, boolean>>,
+   *   visited: !Object<string, boolean>,
+   *   written: !Object<string, boolean>,
+   *   deferred: !Object<string, string>
+   * }}
+   */
+  goog.dependencies_ = {
+    loadFlags: {},  // 1 to 1
+
+    nameToPath: {},  // 1 to 1
+
+    requires: {},  // 1 to many
+
+    // Used when resolving dependencies to prevent us from visiting file
+    // twice.
+    visited: {},
+
+    written: {},  // Used to keep track of script files we have written.
+
+    deferred: {}  // Used to track deferred module evaluations in old IEs
+  };
+
+  /**
+   * @return {!Object}
+   * @private
+   */
+  goog.getLoader_ = function() {
+    return {
+      dependencies_: goog.dependencies_,
+      writeScriptTag_: goog.writeScriptTag_
+    };
+  };
+
+
+  /**
+   * @param {string} src The script url.
+   * @param {string=} opt_sourceText The optionally source text to evaluate
+   * @return {boolean} True if the script was imported, false otherwise.
+   * @private
+   */
+  goog.writeScriptTag_ = function(src, opt_sourceText) {
+    if (goog.inHtmlDocument_()) {
+      /** @type {!HTMLDocument} */
+      var doc = goog.global.document;
+
+      // If the user tries to require a new symbol after document load,
+      // something has gone terribly wrong. Doing a document.write would
+      // wipe out the page. This does not apply to the CSP-compliant method
+      // of writing script tags.
+      if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&
+          doc.readyState == 'complete') {
+        // Certain test frameworks load base.js multiple times, which tries
+        // to write deps.js each time. If that happens, just fail silently.
+        // These frameworks wipe the page between each load of base.js, so this
+        // is OK.
+        var isDeps = /\bdeps.js$/.test(src);
+        if (isDeps) {
+          return false;
+        } else {
+          throw Error('Cannot write "' + src + '" after document load');
+        }
+      }
+
+      var nonceAttr = '';
+      var nonce = goog.getScriptNonce();
+      if (nonce) {
+        nonceAttr = ' nonce="' + nonce + '"';
+      }
+
+      if (opt_sourceText === undefined) {
+        var script = '<script src="' + src + '"' + nonceAttr + '></' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      } else {
+        var script = '<script' + nonceAttr + '>' +
+            goog.protectScriptTag_(opt_sourceText) + '</' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      }
+      return true;
+    } else {
+      return false;
+    }
+  };
+  // MOE:end_strip
+
+
+  /**
+   * Tries to detect whether the current browser is Edge, based on the user
+   * agent. This matches only pre-Chromium Edge.
+   * @see https://docs.microsoft.com/en-us/microsoft-edge/web-platform/user-agent-string
+   * @return {boolean} True if the current browser is Edge.
+   * @private
+   */
+  goog.isEdge_ = function() {
+    var userAgent = goog.global.navigator && goog.global.navigator.userAgent ?
+        goog.global.navigator.userAgent :
+        '';
+    var edgeRe = /Edge\/(\d+)(\.\d)*/i;
+    return !!userAgent.match(edgeRe);
+  };
+
+
+  /**
+   * Tries to detect whether is in the context of an HTML document.
+   * @return {boolean} True if it looks like HTML document.
+   * @private
+   */
+  goog.inHtmlDocument_ = function() {
+    /** @type {!Document} */
+    var doc = goog.global.document;
+    return doc != null && 'write' in doc;  // XULDocument misses write.
+  };
+
+
+  /**
+   * We'd like to check for if the document readyState is 'loading'; however
+   * there are bugs on IE 10 and below where the readyState being anything other
+   * than 'complete' is not reliable.
+   * @return {boolean}
+   * @private
+   */
+  goog.isDocumentLoading_ = function() {
+    // attachEvent is available on IE 6 thru 10 only, and thus can be used to
+    // detect those browsers.
+    /** @type {!HTMLDocument} */
+    var doc = goog.global.document;
+    return doc.attachEvent ? doc.readyState != 'complete' :
+                             doc.readyState == 'loading';
+  };
+
+
+  /**
+   * Tries to detect the base path of base.js script that bootstraps Closure.
+   * @private
+   */
+  goog.findBasePath_ = function() {
+    if (goog.global.CLOSURE_BASE_PATH != undefined &&
+        // Anti DOM-clobbering runtime check (b/37736576).
+        typeof goog.global.CLOSURE_BASE_PATH === 'string') {
+      goog.basePath = goog.global.CLOSURE_BASE_PATH;
+      return;
+    } else if (!goog.inHtmlDocument_()) {
+      return;
+    }
+    /** @type {!Document} */
+    var doc = goog.global.document;
+    // If we have a currentScript available, use it exclusively.
+    var currentScript = doc.currentScript;
+    if (currentScript) {
+      var scripts = [currentScript];
+    } else {
+      var scripts = doc.getElementsByTagName('SCRIPT');
+    }
+    // Search backwards since the current script is in almost all cases the one
+    // that has base.js.
+    for (var i = scripts.length - 1; i >= 0; --i) {
+      var script = /** @type {!HTMLScriptElement} */ (scripts[i]);
+      var src = script.src;
+      var qmark = src.lastIndexOf('?');
+      var l = qmark == -1 ? src.length : qmark;
+      if (src.substr(l - 7, 7) == 'base.js') {
+        goog.basePath = src.substr(0, l - 7);
+        return;
+      }
+    }
+  };
+
+  goog.findBasePath_();
+
+  /** @struct @constructor @final */
+  goog.Transpiler = function() {
+    /** @private {?Object<string, boolean>} */
+    this.requiresTranspilation_ = null;
+    /** @private {string} */
+    this.transpilationTarget_ = goog.TRANSPILE_TO_LANGUAGE;
+  };
+
+
+  // MOE:begin_strip
+  // LINT.IfChange
+  // MOE:end_strip
+  /**
+   * Returns a newly created map from language mode string to a boolean
+   * indicating whether transpilation should be done for that mode as well as
+   * the highest level language that this environment supports.
+   *
+   * Guaranteed invariant:
+   * For any two modes, l1 and l2 where l2 is a newer mode than l1,
+   * `map[l1] == true` implies that `map[l2] == true`.
+   *
+   * Note this method is extracted and used elsewhere, so it cannot rely on
+   * anything external (it should easily be able to be transformed into a
+   * standalone, top level function).
+   *
+   * @private
+   * @return {{
+   *   target: string,
+   *   map: !Object<string, boolean>
+   * }}
+   */
+  goog.Transpiler.prototype.createRequiresTranspilation_ = function() {
+    var transpilationTarget = 'es3';
+    var /** !Object<string, boolean> */ requiresTranspilation = {'es3': false};
+    var transpilationRequiredForAllLaterModes = false;
+
+    /**
+     * Adds an entry to requiresTranspliation for the given language mode.
+     *
+     * IMPORTANT: Calls must be made in order from oldest to newest language
+     * mode.
+     * @param {string} modeName
+     * @param {function(): boolean} isSupported Returns true if the JS engine
+     *     supports the given mode.
+     */
+    function addNewerLanguageTranspilationCheck(modeName, isSupported) {
+      if (transpilationRequiredForAllLaterModes) {
+        requiresTranspilation[modeName] = true;
+      } else if (isSupported()) {
+        transpilationTarget = modeName;
+        requiresTranspilation[modeName] = false;
+      } else {
+        requiresTranspilation[modeName] = true;
+        transpilationRequiredForAllLaterModes = true;
+      }
+    }
+
+    /**
+     * Does the given code evaluate without syntax errors and return a truthy
+     * result?
+     */
+    function /** boolean */ evalCheck(/** string */ code) {
+      try {
+        return !!eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(code));
+      } catch (ignored) {
+        return false;
+      }
+    }
+
+    // Identify ES3-only browsers by their incorrect treatment of commas.
+    addNewerLanguageTranspilationCheck('es5', function() {
+      return evalCheck('[1,].length==1');
+    });
+    addNewerLanguageTranspilationCheck('es6', function() {
+      // Edge has a non-deterministic (i.e., not reproducible) bug with ES6:
+      // https://github.com/Microsoft/ChakraCore/issues/1496.
+      // MOE:begin_strip
+      // TODO(joeltine): Our internal web-testing version of Edge will need to
+      // be updated before we can remove this check. See http://b/34945376.
+      // MOE:end_strip
+      if (goog.isEdge_()) {
+        // The Reflect.construct test below is flaky on Edge. It can sometimes
+        // pass or fail on 40 15.15063, so just exit early for Edge and treat
+        // it as ES5. Until we're on a more up to date version just always use
+        // ES5. See https://github.com/Microsoft/ChakraCore/issues/3217.
+        return false;
+      }
+      // Test es6: [FF50 (?), Edge 14 (?), Chrome 50]
+      //   (a) default params (specifically shadowing locals),
+      //   (b) destructuring, (c) block-scoped functions,
+      //   (d) for-of (const), (e) new.target/Reflect.construct
+      var es6fullTest =
+          'class X{constructor(){if(new.target!=String)throw 1;this.x=42}}' +
+          'let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof ' +
+          'String))throw 1;for(const a of[2,3]){if(a==2)continue;function ' +
+          'f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()' +
+          '==3}';
+
+      return evalCheck('(()=>{"use strict";' + es6fullTest + '})()');
+    });
+    // ** and **= are the only new features in 'es7'
+    addNewerLanguageTranspilationCheck('es7', function() {
+      return evalCheck('2**3==8');
+    });
+    // async functions are the only new features in 'es8'
+    addNewerLanguageTranspilationCheck('es8', function() {
+      return evalCheck('async()=>1,1');
+    });
+    addNewerLanguageTranspilationCheck('es9', function() {
+      return evalCheck('({...rest}={}),1');
+    });
+    // optional catch binding, unescaped unicode paragraph separator in strings
+    addNewerLanguageTranspilationCheck('es_2019', function() {
+      return evalCheck('let r;try{throw 0}catch{r="\u2029"};r');
+    });
+    // optional chaining, nullish coalescing
+    // untested/unsupported: bigint, import meta
+    addNewerLanguageTranspilationCheck('es_2020', function() {
+      return evalCheck('null?.x??1');
+    });
+    addNewerLanguageTranspilationCheck('es_next', function() {
+      return false;  // assume it always need to transpile
+    });
+    return {target: transpilationTarget, map: requiresTranspilation};
+  };
+  // MOE:begin_strip
+  // LINT.ThenChange(//depot/google3/java/com/google/testing/web/devtools/updatebrowserinfo/requires_transpilation.js)
+  // MOE:end_strip
+
+
+  /**
+   * Determines whether the given language needs to be transpiled.
+   * @param {string} lang
+   * @param {string|undefined} module
+   * @return {boolean}
+   */
+  goog.Transpiler.prototype.needsTranspile = function(lang, module) {
+    if (goog.TRANSPILE == 'always') {
+      return true;
+    } else if (goog.TRANSPILE == 'never') {
+      return false;
+    } else if (!this.requiresTranspilation_) {
+      var obj = this.createRequiresTranspilation_();
+      this.requiresTranspilation_ = obj.map;
+      this.transpilationTarget_ = this.transpilationTarget_ || obj.target;
+    }
+    if (lang in this.requiresTranspilation_) {
+      if (this.requiresTranspilation_[lang]) {
+        return true;
+      } else if (
+          goog.inHtmlDocument_() && module == 'es6' &&
+          !('noModule' in goog.global.document.createElement('script'))) {
+        return true;
+      } else {
+        return false;
+      }
+    } else {
+      throw new Error('Unknown language mode: ' + lang);
+    }
+  };
+
+
+  /**
+   * Lazily retrieves the transpiler and applies it to the source.
+   * @param {string} code JS code.
+   * @param {string} path Path to the code.
+   * @return {string} The transpiled code.
+   */
+  goog.Transpiler.prototype.transpile = function(code, path) {
+    // TODO(johnplaisted): We should delete goog.transpile_ and just have this
+    // function. But there's some compile error atm where goog.global is being
+    // stripped incorrectly without this.
+    return goog.transpile_(code, path, this.transpilationTarget_);
+  };
+
+
+  /** @private @final {!goog.Transpiler} */
+  goog.transpiler_ = new goog.Transpiler();
+
+  /**
+   * Rewrites closing script tags in input to avoid ending an enclosing script
+   * tag.
+   *
+   * @param {string} str
+   * @return {string}
+   * @private
+   */
+  goog.protectScriptTag_ = function(str) {
+    return str.replace(/<\/(SCRIPT)/ig, '\\x3c/$1');
+  };
+
+
+  /**
+   * A debug loader is responsible for downloading and executing javascript
+   * files in an unbundled, uncompiled environment.
+   *
+   * This can be custimized via the setDependencyFactory method, or by
+   * CLOSURE_IMPORT_SCRIPT/CLOSURE_LOAD_FILE_SYNC.
+   *
+   * @struct @constructor @final @private
+   */
+  goog.DebugLoader_ = function() {
+    /** @private @const {!Object<string, !goog.Dependency>} */
+    this.dependencies_ = {};
+    /** @private @const {!Object<string, string>} */
+    this.idToPath_ = {};
+    /** @private @const {!Object<string, boolean>} */
+    this.written_ = {};
+    /** @private @const {!Array<!goog.Dependency>} */
+    this.loadingDeps_ = [];
+    /** @private {!Array<!goog.Dependency>} */
+    this.depsToLoad_ = [];
+    /** @private {boolean} */
+    this.paused_ = false;
+    /** @private {!goog.DependencyFactory} */
+    this.factory_ = new goog.DependencyFactory(goog.transpiler_);
+    /** @private @const {!Object<string, !Function>} */
+    this.deferredCallbacks_ = {};
+    /** @private @const {!Array<string>} */
+    this.deferredQueue_ = [];
+  };
+
+  /**
+   * @param {!Array<string>} namespaces
+   * @param {function(): undefined} callback Function to call once all the
+   *     namespaces have loaded.
+   */
+  goog.DebugLoader_.prototype.bootstrap = function(namespaces, callback) {
+    var cb = callback;
+    function resolve() {
+      if (cb) {
+        goog.global.setTimeout(cb, 0);
+        cb = null;
+      }
+    }
+
+    if (!namespaces.length) {
+      resolve();
+      return;
+    }
+
+    var deps = [];
+    for (var i = 0; i < namespaces.length; i++) {
+      var path = this.getPathFromDeps_(namespaces[i]);
+      if (!path) {
+        throw new Error('Unregonized namespace: ' + namespaces[i]);
+      }
+      deps.push(this.dependencies_[path]);
+    }
+
+    var require = goog.require;
+    var loaded = 0;
+    for (var i = 0; i < namespaces.length; i++) {
+      require(namespaces[i]);
+      deps[i].onLoad(function() {
+        if (++loaded == namespaces.length) {
+          resolve();
+        }
+      });
+    }
+  };
+
+
+  /**
+   * Loads the Closure Dependency file.
+   *
+   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base
+   * loaded, setDependencyFactory called, and then this called. i.e. allows
+   * custom loading of the deps file.
+   */
+  goog.DebugLoader_.prototype.loadClosureDeps = function() {
+    // Circumvent addDependency, which would try to transpile deps.js if
+    // transpile is set to always.
+    var relPath = 'deps.js';
+    this.depsToLoad_.push(this.factory_.createDependency(
+        goog.normalizePath_(goog.basePath + relPath), relPath, [], [], {},
+        false));
+    this.loadDeps_();
+  };
+
+
+  /**
+   * Notifies the debug loader when a dependency has been requested.
+   *
+   * @param {string} absPathOrId Path of the dependency or goog id.
+   * @param {boolean=} opt_force
+   */
+  goog.DebugLoader_.prototype.requested = function(absPathOrId, opt_force) {
+    var path = this.getPathFromDeps_(absPathOrId);
+    if (path &&
+        (opt_force || this.areDepsLoaded_(this.dependencies_[path].requires))) {
+      var callback = this.deferredCallbacks_[path];
+      if (callback) {
+        delete this.deferredCallbacks_[path];
+        callback();
+      }
+    }
+  };
+
+
+  /**
+   * Sets the dependency factory, which can be used to create custom
+   * goog.Dependency implementations to control how dependencies are loaded.
+   *
+   * @param {!goog.DependencyFactory} factory
+   */
+  goog.DebugLoader_.prototype.setDependencyFactory = function(factory) {
+    this.factory_ = factory;
+  };
+
+
+  /**
+   * Travserses the dependency graph and queues the given dependency, and all of
+   * its transitive dependencies, for loading and then starts loading if not
+   * paused.
+   *
+   * @param {string} namespace
+   * @private
+   */
+  goog.DebugLoader_.prototype.load_ = function(namespace) {
+    if (!this.getPathFromDeps_(namespace)) {
+      var errorMessage = 'goog.require could not find: ' + namespace;
+      goog.logToConsole_(errorMessage);
+    } else {
+      var loader = this;
+
+      var deps = [];
+
+      /** @param {string} namespace */
+      var visit = function(namespace) {
+        var path = loader.getPathFromDeps_(namespace);
+
+        if (!path) {
+          throw new Error('Bad dependency path or symbol: ' + namespace);
+        }
+
+        if (loader.written_[path]) {
+          return;
+        }
+
+        loader.written_[path] = true;
+
+        var dep = loader.dependencies_[path];
+        // MOE:begin_strip
+        if (goog.dependencies_.written[dep.relativePath]) {
+          return;
+        }
+        // MOE:end_strip
+        for (var i = 0; i < dep.requires.length; i++) {
+          if (!goog.isProvided_(dep.requires[i])) {
+            visit(dep.requires[i]);
+          }
+        }
+
+        deps.push(dep);
+      };
+
+      visit(namespace);
+
+      var wasLoading = !!this.depsToLoad_.length;
+      this.depsToLoad_ = this.depsToLoad_.concat(deps);
+
+      if (!this.paused_ && !wasLoading) {
+        this.loadDeps_();
+      }
+    }
+  };
+
+
+  /**
+   * Loads any queued dependencies until they are all loaded or paused.
+   *
+   * @private
+   */
+  goog.DebugLoader_.prototype.loadDeps_ = function() {
+    var loader = this;
+    var paused = this.paused_;
+
+    while (this.depsToLoad_.length && !paused) {
+      (function() {
+        var loadCallDone = false;
+        var dep = loader.depsToLoad_.shift();
+
+        var loaded = false;
+        loader.loading_(dep);
+
+        var controller = {
+          pause: function() {
+            if (loadCallDone) {
+              throw new Error('Cannot call pause after the call to load.');
+            } else {
+              paused = true;
+            }
+          },
+          resume: function() {
+            if (loadCallDone) {
+              loader.resume_();
+            } else {
+              // Some dep called pause and then resume in the same load call.
+              // Just keep running this same loop.
+              paused = false;
+            }
+          },
+          loaded: function() {
+            if (loaded) {
+              throw new Error('Double call to loaded.');
+            }
+
+            loaded = true;
+            loader.loaded_(dep);
+          },
+          pending: function() {
+            // Defensive copy.
+            var pending = [];
+            for (var i = 0; i < loader.loadingDeps_.length; i++) {
+              pending.push(loader.loadingDeps_[i]);
+            }
+            return pending;
+          },
+          /**
+           * @param {goog.ModuleType} type
+           */
+          setModuleState: function(type) {
+            goog.moduleLoaderState_ = {
+              type: type,
+              moduleName: '',
+              declareLegacyNamespace: false
+            };
+          },
+          /** @type {function(string, string, string=)} */
+          registerEs6ModuleExports: function(
+              path, exports, opt_closureNamespace) {
+            if (opt_closureNamespace) {
+              goog.loadedModules_[opt_closureNamespace] = {
+                exports: exports,
+                type: goog.ModuleType.ES6,
+                moduleId: opt_closureNamespace || ''
+              };
+            }
+          },
+          /** @type {function(string, ?)} */
+          registerGoogModuleExports: function(moduleId, exports) {
+            goog.loadedModules_[moduleId] = {
+              exports: exports,
+              type: goog.ModuleType.GOOG,
+              moduleId: moduleId
+            };
+          },
+          clearModuleState: function() {
+            goog.moduleLoaderState_ = null;
+          },
+          defer: function(callback) {
+            if (loadCallDone) {
+              throw new Error(
+                  'Cannot register with defer after the call to load.');
+            }
+            loader.defer_(dep, callback);
+          },
+          areDepsLoaded: function() {
+            return loader.areDepsLoaded_(dep.requires);
+          }
+        };
+
+        try {
+          dep.load(controller);
+        } finally {
+          loadCallDone = true;
+        }
+      })();
+    }
+
+    if (paused) {
+      this.pause_();
+    }
+  };
+
+
+  /** @private */
+  goog.DebugLoader_.prototype.pause_ = function() {
+    this.paused_ = true;
+  };
+
+
+  /** @private */
+  goog.DebugLoader_.prototype.resume_ = function() {
+    if (this.paused_) {
+      this.paused_ = false;
+      this.loadDeps_();
+    }
+  };
+
+
+  /**
+   * Marks the given dependency as loading (load has been called but it has not
+   * yet marked itself as finished). Useful for dependencies that want to know
+   * what else is loading. Example: goog.modules cannot eval if there are
+   * loading dependencies.
+   *
+   * @param {!goog.Dependency} dep
+   * @private
+   */
+  goog.DebugLoader_.prototype.loading_ = function(dep) {
+    this.loadingDeps_.push(dep);
+  };
+
+
+  /**
+   * Marks the given dependency as having finished loading and being available
+   * for require.
+   *
+   * @param {!goog.Dependency} dep
+   * @private
+   */
+  goog.DebugLoader_.prototype.loaded_ = function(dep) {
+    for (var i = 0; i < this.loadingDeps_.length; i++) {
+      if (this.loadingDeps_[i] == dep) {
+        this.loadingDeps_.splice(i, 1);
+        break;
+      }
+    }
+
+    for (var i = 0; i < this.deferredQueue_.length; i++) {
+      if (this.deferredQueue_[i] == dep.path) {
+        this.deferredQueue_.splice(i, 1);
+        break;
+      }
+    }
+
+    if (this.loadingDeps_.length == this.deferredQueue_.length &&
+        !this.depsToLoad_.length) {
+      // Something has asked to load these, but they may not be directly
+      // required again later, so load them now that we know we're done loading
+      // everything else. e.g. a goog module entry point.
+      while (this.deferredQueue_.length) {
+        this.requested(this.deferredQueue_.shift(), true);
+      }
+    }
+
+    dep.loaded();
+  };
+
+
+  /**
+   * @param {!Array<string>} pathsOrIds
+   * @return {boolean}
+   * @private
+   */
+  goog.DebugLoader_.prototype.areDepsLoaded_ = function(pathsOrIds) {
+    for (var i = 0; i < pathsOrIds.length; i++) {
+      var path = this.getPathFromDeps_(pathsOrIds[i]);
+      if (!path ||
+          (!(path in this.deferredCallbacks_) &&
+           !goog.isProvided_(pathsOrIds[i]))) {
+        return false;
+      }
+    }
+
+    return true;
+  };
+
+
+  /**
+   * @param {string} absPathOrId
+   * @return {?string}
+   * @private
+   */
+  goog.DebugLoader_.prototype.getPathFromDeps_ = function(absPathOrId) {
+    if (absPathOrId in this.idToPath_) {
+      return this.idToPath_[absPathOrId];
+    } else if (absPathOrId in this.dependencies_) {
+      return absPathOrId;
+    } else {
+      return null;
+    }
+  };
+
+
+  /**
+   * @param {!goog.Dependency} dependency
+   * @param {!Function} callback
+   * @private
+   */
+  goog.DebugLoader_.prototype.defer_ = function(dependency, callback) {
+    this.deferredCallbacks_[dependency.path] = callback;
+    this.deferredQueue_.push(dependency.path);
+  };
+
+
+  /**
+   * Interface for goog.Dependency implementations to have some control over
+   * loading of dependencies.
+   *
+   * @record
+   */
+  goog.LoadController = function() {};
+
+
+  /**
+   * Tells the controller to halt loading of more dependencies.
+   */
+  goog.LoadController.prototype.pause = function() {};
+
+
+  /**
+   * Tells the controller to resume loading of more dependencies if paused.
+   */
+  goog.LoadController.prototype.resume = function() {};
+
+
+  /**
+   * Tells the controller that this dependency has finished loading.
+   *
+   * This causes this to be removed from pending() and any load callbacks to
+   * fire.
+   */
+  goog.LoadController.prototype.loaded = function() {};
+
+
+  /**
+   * List of dependencies on which load has been called but which have not
+   * called loaded on their controller. This includes the current dependency.
+   *
+   * @return {!Array<!goog.Dependency>}
+   */
+  goog.LoadController.prototype.pending = function() {};
+
+
+  /**
+   * Registers an object as an ES6 module's exports so that goog.modules may
+   * require it by path.
+   *
+   * @param {string} path Full path of the module.
+   * @param {?} exports
+   * @param {string=} opt_closureNamespace Closure namespace to associate with
+   *     this module.
+   */
+  goog.LoadController.prototype.registerEs6ModuleExports = function(
+      path, exports, opt_closureNamespace) {};
+
+
+  /**
+   * Sets the current module state.
+   *
+   * @param {goog.ModuleType} type Type of module.
+   */
+  goog.LoadController.prototype.setModuleState = function(type) {};
+
+
+  /**
+   * Clears the current module state.
+   */
+  goog.LoadController.prototype.clearModuleState = function() {};
+
+
+  /**
+   * Registers a callback to call once the dependency is actually requested
+   * via goog.require + all of the immediate dependencies have been loaded or
+   * all other files have been loaded. Allows for lazy loading until
+   * require'd without pausing dependency loading, which is needed on old IE.
+   *
+   * @param {!Function} callback
+   */
+  goog.LoadController.prototype.defer = function(callback) {};
+
+
+  /**
+   * @return {boolean}
+   */
+  goog.LoadController.prototype.areDepsLoaded = function() {};
+
+
+  /**
+   * Basic super class for all dependencies Closure Library can load.
+   *
+   * This default implementation is designed to load untranspiled, non-module
+   * scripts in a web broswer.
+   *
+   * For transpiled non-goog.module files {@see goog.TranspiledDependency}.
+   * For goog.modules see {@see goog.GoogModuleDependency}.
+   * For untranspiled ES6 modules {@see goog.Es6ModuleDependency}.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor
+   */
+  goog.Dependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    /** @const */
+    this.path = path;
+    /** @const */
+    this.relativePath = relativePath;
+    /** @const */
+    this.provides = provides;
+    /** @const */
+    this.requires = requires;
+    /** @const */
+    this.loadFlags = loadFlags;
+    /** @private {boolean} */
+    this.loaded_ = false;
+    /** @private {!Array<function()>} */
+    this.loadCallbacks_ = [];
+  };
+
+
+  /**
+   * @return {string} The pathname part of this dependency's path if it is a
+   *     URI.
+   */
+  goog.Dependency.prototype.getPathName = function() {
+    var pathName = this.path;
+    var protocolIndex = pathName.indexOf('://');
+    if (protocolIndex >= 0) {
+      pathName = pathName.substring(protocolIndex + 3);
+      var slashIndex = pathName.indexOf('/');
+      if (slashIndex >= 0) {
+        pathName = pathName.substring(slashIndex + 1);
+      }
+    }
+    return pathName;
+  };
+
+
+  /**
+   * @param {function()} callback Callback to fire as soon as this has loaded.
+   * @final
+   */
+  goog.Dependency.prototype.onLoad = function(callback) {
+    if (this.loaded_) {
+      callback();
+    } else {
+      this.loadCallbacks_.push(callback);
+    }
+  };
+
+
+  /**
+   * Marks this dependency as loaded and fires any callbacks registered with
+   * onLoad.
+   * @final
+   */
+  goog.Dependency.prototype.loaded = function() {
+    this.loaded_ = true;
+    var callbacks = this.loadCallbacks_;
+    this.loadCallbacks_ = [];
+    for (var i = 0; i < callbacks.length; i++) {
+      callbacks[i]();
+    }
+  };
+
+
+  /**
+   * Whether or not document.written / appended script tags should be deferred.
+   *
+   * @private {boolean}
+   */
+  goog.Dependency.defer_ = false;
+
+
+  /**
+   * Map of script ready / state change callbacks. Old IE cannot handle putting
+   * these properties on goog.global.
+   *
+   * @private @const {!Object<string, function(?):undefined>}
+   */
+  goog.Dependency.callbackMap_ = {};
+
+
+  /**
+   * @param {function(...?):?} callback
+   * @return {string}
+   * @private
+   */
+  goog.Dependency.registerCallback_ = function(callback) {
+    var key = Math.random().toString(32);
+    goog.Dependency.callbackMap_[key] = callback;
+    return key;
+  };
+
+
+  /**
+   * @param {string} key
+   * @private
+   */
+  goog.Dependency.unregisterCallback_ = function(key) {
+    delete goog.Dependency.callbackMap_[key];
+  };
+
+
+  /**
+   * @param {string} key
+   * @param {...?} var_args
+   * @private
+   * @suppress {unusedPrivateMembers}
+   */
+  goog.Dependency.callback_ = function(key, var_args) {
+    if (key in goog.Dependency.callbackMap_) {
+      var callback = goog.Dependency.callbackMap_[key];
+      var args = [];
+      for (var i = 1; i < arguments.length; i++) {
+        args.push(arguments[i]);
+      }
+      callback.apply(undefined, args);
+    } else {
+      var errorMessage = 'Callback key ' + key +
+          ' does not exist (was base.js loaded more than once?).';
+      // MOE:begin_strip
+      // TODO(johnplaisted): Some people internally are mistakenly loading
+      // base.js twice, and this can happen while a dependency is loading,
+      // wiping out state.
+      goog.logToConsole_(errorMessage);
+      // MOE:end_strip
+      // MOE:insert throw Error(errorMessage);
+    }
+  };
+
+
+  /**
+   * Starts loading this dependency. This dependency can pause loading if it
+   * needs to and resume it later via the controller interface.
+   *
+   * When this is loaded it should call controller.loaded(). Note that this will
+   * end up calling the loaded method of this dependency; there is no need to
+   * call it explicitly.
+   *
+   * @param {!goog.LoadController} controller
+   */
+  goog.Dependency.prototype.load = function(controller) {
+    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
+      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+    if (!goog.inHtmlDocument_()) {
+      goog.logToConsole_(
+          'Cannot use default debug loader outside of HTML documents.');
+      if (this.relativePath == 'deps.js') {
+        // Some old code is relying on base.js auto loading deps.js failing with
+        // no error before later setting CLOSURE_IMPORT_SCRIPT.
+        // CLOSURE_IMPORT_SCRIPT should be set *before* base.js is loaded, or
+        // CLOSURE_NO_DEPS set to true.
+        goog.logToConsole_(
+            'Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, ' +
+            'or setting CLOSURE_NO_DEPS to true.');
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+    /** @type {!HTMLDocument} */
+    var doc = goog.global.document;
+
+    // If the user tries to require a new symbol after document load,
+    // something has gone terribly wrong. Doing a document.write would
+    // wipe out the page. This does not apply to the CSP-compliant method
+    // of writing script tags.
+    if (doc.readyState == 'complete' &&
+        !goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {
+      // Certain test frameworks load base.js multiple times, which tries
+      // to write deps.js each time. If that happens, just fail silently.
+      // These frameworks wipe the page between each load of base.js, so this
+      // is OK.
+      var isDeps = /\bdeps.js$/.test(this.path);
+      if (isDeps) {
+        controller.loaded();
+        return;
+      } else {
+        throw Error('Cannot write "' + this.path + '" after document load');
+      }
+    }
+
+    var nonce = goog.getScriptNonce();
+    if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&
+        goog.isDocumentLoading_()) {
+      var key;
+      var callback = function(script) {
+        if (script.readyState && script.readyState != 'complete') {
+          script.onload = callback;
+          return;
+        }
+        goog.Dependency.unregisterCallback_(key);
+        controller.loaded();
+      };
+      key = goog.Dependency.registerCallback_(callback);
+
+      var defer = goog.Dependency.defer_ ? ' defer' : '';
+      var nonceAttr = nonce ? ' nonce="' + nonce + '"' : '';
+      var script = '<script src="' + this.path + '"' + nonceAttr + defer +
+          ' id="script-' + key + '"><\/script>';
+
+      script += '<script' + nonceAttr + '>';
+
+      if (goog.Dependency.defer_) {
+        script += 'document.getElementById(\'script-' + key +
+            '\').onload = function() {\n' +
+            '  goog.Dependency.callback_(\'' + key + '\', this);\n' +
+            '};\n';
+      } else {
+        script += 'goog.Dependency.callback_(\'' + key +
+            '\', document.getElementById(\'script-' + key + '\'));';
+      }
+
+      script += '<\/script>';
+
+      doc.write(
+          goog.TRUSTED_TYPES_POLICY_ ?
+              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+              script);
+    } else {
+      var scriptEl =
+          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));
+      scriptEl.defer = goog.Dependency.defer_;
+      scriptEl.async = false;
+
+      // If CSP nonces are used, propagate them to dynamically created scripts.
+      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.
+      if (nonce) {
+        scriptEl.nonce = nonce;
+      }
+
+      if (goog.DebugLoader_.IS_OLD_IE_) {
+        // Execution order is not guaranteed on old IE, halt loading and write
+        // these scripts one at a time, after each loads.
+        controller.pause();
+        scriptEl.onreadystatechange = function() {
+          if (scriptEl.readyState == 'loaded' ||
+              scriptEl.readyState == 'complete') {
+            controller.loaded();
+            controller.resume();
+          }
+        };
+      } else {
+        scriptEl.onload = function() {
+          scriptEl.onload = null;
+          controller.loaded();
+        };
+      }
+
+      scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?
+          goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path) :
+          this.path;
+      doc.head.appendChild(scriptEl);
+    }
+  };
+
+
+  /**
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides Should be an empty array.
+   *     TODO(johnplaisted) add support for adding closure namespaces to ES6
+   *     modules for interop purposes.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor
+   * @extends {goog.Dependency}
+   */
+  goog.Es6ModuleDependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    goog.Es6ModuleDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+  };
+  goog.inherits(goog.Es6ModuleDependency, goog.Dependency);
+
+
+  /**
+   * @override
+   * @param {!goog.LoadController} controller
+   */
+  goog.Es6ModuleDependency.prototype.load = function(controller) {
+    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
+      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+    if (!goog.inHtmlDocument_()) {
+      goog.logToConsole_(
+          'Cannot use default debug loader outside of HTML documents.');
+      controller.pause();
+      return;
+    }
+
+    /** @type {!HTMLDocument} */
+    var doc = goog.global.document;
+
+    var dep = this;
+
+    // TODO(johnplaisted): Does document.writing really speed up anything? Any
+    // difference between this and just waiting for interactive mode and then
+    // appending?
+    function write(src, contents) {
+      var nonceAttr = '';
+      var nonce = goog.getScriptNonce();
+      if (nonce) {
+        nonceAttr = ' nonce="' + nonce + '"';
+      }
+
+      if (contents) {
+        var script = '<script type="module" crossorigin' + nonceAttr + '>' +
+            contents + '</' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      } else {
+        var script = '<script type="module" crossorigin src="' + src + '"' +
+            nonceAttr + '></' +
+            'script>';
+        doc.write(
+            goog.TRUSTED_TYPES_POLICY_ ?
+                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+                script);
+      }
+    }
+
+    function append(src, contents) {
+      var scriptEl =
+          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));
+      scriptEl.defer = true;
+      scriptEl.async = false;
+      scriptEl.type = 'module';
+      scriptEl.setAttribute('crossorigin', true);
+
+      // If CSP nonces are used, propagate them to dynamically created scripts.
+      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.
+      var nonce = goog.getScriptNonce();
+      if (nonce) {
+        scriptEl.nonce = nonce;
+      }
+
+      if (contents) {
+        scriptEl.text = goog.TRUSTED_TYPES_POLICY_ ?
+            goog.TRUSTED_TYPES_POLICY_.createScript(contents) :
+            contents;
+      } else {
+        scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?
+            goog.TRUSTED_TYPES_POLICY_.createScriptURL(src) :
+            src;
+      }
+
+      doc.head.appendChild(scriptEl);
+    }
+
+    var create;
+
+    if (goog.isDocumentLoading_()) {
+      create = write;
+      // We can ONLY call document.write if we are guaranteed that any
+      // non-module script tags document.written after this are deferred.
+      // Small optimization, in theory document.writing is faster.
+      goog.Dependency.defer_ = true;
+    } else {
+      create = append;
+    }
+
+    // Write 4 separate tags here:
+    // 1) Sets the module state at the correct time (just before execution).
+    // 2) A src node for this, which just hopefully lets the browser load it a
+    //    little early (no need to parse #3).
+    // 3) Import the module and register it.
+    // 4) Clear the module state at the correct time. Guaranteed to run even
+    //    if there is an error in the module (#3 will not run if there is an
+    //    error in the module).
+    var beforeKey = goog.Dependency.registerCallback_(function() {
+      goog.Dependency.unregisterCallback_(beforeKey);
+      controller.setModuleState(goog.ModuleType.ES6);
+    });
+    create(undefined, 'goog.Dependency.callback_("' + beforeKey + '")');
+
+    // TODO(johnplaisted): Does this really speed up anything?
+    create(this.path, undefined);
+
+    var registerKey = goog.Dependency.registerCallback_(function(exports) {
+      goog.Dependency.unregisterCallback_(registerKey);
+      controller.registerEs6ModuleExports(
+          dep.path, exports, goog.moduleLoaderState_.moduleName);
+    });
+    create(
+        undefined,
+        'import * as m from "' + this.path + '"; goog.Dependency.callback_("' +
+            registerKey + '", m)');
+
+    var afterKey = goog.Dependency.registerCallback_(function() {
+      goog.Dependency.unregisterCallback_(afterKey);
+      controller.clearModuleState();
+      controller.loaded();
+    });
+    create(undefined, 'goog.Dependency.callback_("' + afterKey + '")');
+  };
+
+
+  /**
+   * Superclass of any dependency that needs to be loaded into memory,
+   * transformed, and then eval'd (goog.modules and transpiled files).
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor @abstract
+   * @extends {goog.Dependency}
+   */
+  goog.TransformedDependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    goog.TransformedDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+    /** @private {?string} */
+    this.contents_ = null;
+
+    /**
+     * Whether to lazily make the synchronous XHR (when goog.require'd) or make
+     * the synchronous XHR when initially loading. On FireFox 61 there is a bug
+     * where an ES6 module cannot make a synchronous XHR (rather, it can, but if
+     * it does then no other ES6 modules will load after).
+     *
+     * tl;dr we lazy load due to bugs on older browsers and eager load due to
+     * bugs on newer ones.
+     *
+     * https://bugzilla.mozilla.org/show_bug.cgi?id=1477090
+     *
+     * @private @const {boolean}
+     */
+    this.lazyFetch_ = !goog.inHtmlDocument_() ||
+        !('noModule' in goog.global.document.createElement('script'));
+  };
+  goog.inherits(goog.TransformedDependency, goog.Dependency);
+
+
+  /**
+   * @override
+   * @param {!goog.LoadController} controller
+   */
+  goog.TransformedDependency.prototype.load = function(controller) {
+    var dep = this;
+
+    function fetch() {
+      dep.contents_ = goog.loadFileSync_(dep.path);
+
+      if (dep.contents_) {
+        dep.contents_ = dep.transform(dep.contents_);
+        if (dep.contents_) {
+          dep.contents_ += '\n//# sourceURL=' + dep.path;
+        }
+      }
+    }
+
+    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
+      fetch();
+      if (this.contents_ &&
+          goog.global.CLOSURE_IMPORT_SCRIPT('', this.contents_)) {
+        this.contents_ = null;
+        controller.loaded();
+      } else {
+        controller.pause();
+      }
+      return;
+    }
+
+
+    var isEs6 = this.loadFlags['module'] == goog.ModuleType.ES6;
+
+    if (!this.lazyFetch_) {
+      fetch();
+    }
+
+    function load() {
+      if (dep.lazyFetch_) {
+        fetch();
+      }
+
+      if (!dep.contents_) {
+        // loadFileSync_ or transform are responsible. Assume they logged an
+        // error.
+        return;
+      }
+
+      if (isEs6) {
+        controller.setModuleState(goog.ModuleType.ES6);
+      }
+
+      var namespace;
+
+      try {
+        var contents = dep.contents_;
+        dep.contents_ = null;
+        goog.globalEval(goog.CLOSURE_EVAL_PREFILTER_.createScript(contents));
+        if (isEs6) {
+          namespace = goog.moduleLoaderState_.moduleName;
+        }
+      } finally {
+        if (isEs6) {
+          controller.clearModuleState();
+        }
+      }
+
+      if (isEs6) {
+        // Due to circular dependencies this may not be available for require
+        // right now.
+        goog.global['$jscomp']['require']['ensure'](
+            [dep.getPathName()], function() {
+              controller.registerEs6ModuleExports(
+                  dep.path,
+                  goog.global['$jscomp']['require'](dep.getPathName()),
+                  namespace);
+            });
+      }
+
+      controller.loaded();
+    }
+
+    // Do not fetch now; in FireFox 47 the synchronous XHR doesn't block all
+    // events. If we fetched now and then document.write'd the contents the
+    // document.write would be an eval and would execute too soon! Instead write
+    // a script tag to fetch and eval synchronously at the correct time.
+    function fetchInOwnScriptThenLoad() {
+      /** @type {!HTMLDocument} */
+      var doc = goog.global.document;
+
+      var key = goog.Dependency.registerCallback_(function() {
+        goog.Dependency.unregisterCallback_(key);
+        load();
+      });
+
+      var nonce = goog.getScriptNonce();
+      var nonceAttr = nonce ? ' nonce="' + nonce + '"' : '';
+      var script = '<script' + nonceAttr + '>' +
+          goog.protectScriptTag_('goog.Dependency.callback_("' + key + '");') +
+          '</' +
+          'script>';
+      doc.write(
+          goog.TRUSTED_TYPES_POLICY_ ?
+              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
+              script);
+    }
+
+    // If one thing is pending it is this.
+    var anythingElsePending = controller.pending().length > 1;
+
+    // If anything else is loading we need to lazy load due to bugs in old IE.
+    // Specifically script tags with src and script tags with contents could
+    // execute out of order if document.write is used, so we cannot use
+    // document.write. Do not pause here; it breaks old IE as well.
+    var useOldIeWorkAround =
+        anythingElsePending && goog.DebugLoader_.IS_OLD_IE_;
+
+    // Additionally if we are meant to defer scripts but the page is still
+    // loading (e.g. an ES6 module is loading) then also defer. Or if we are
+    // meant to defer and anything else is pending then defer (those may be
+    // scripts that did not need transformation and are just script tags with
+    // defer set to true, and we need to evaluate after that deferred script).
+    var needsAsyncLoading = goog.Dependency.defer_ &&
+        (anythingElsePending || goog.isDocumentLoading_());
+
+    if (useOldIeWorkAround || needsAsyncLoading) {
+      // Note that we only defer when we have to rather than 100% of the time.
+      // Always defering would work, but then in theory the order of
+      // goog.require calls would then matter. We want to enforce that most of
+      // the time the order of the require calls does not matter.
+      controller.defer(function() {
+        load();
+      });
+      return;
+    }
+    // TODO(johnplaisted): Externs are missing onreadystatechange for
+    // HTMLDocument.
+    /** @type {?} */
+    var doc = goog.global.document;
+
+    var isInternetExplorerOrEdge = goog.inHtmlDocument_() &&
+        ('ActiveXObject' in goog.global || goog.isEdge_());
+
+    // Don't delay in any version of IE or pre-Chromium Edge. There's a bug
+    // around this that will cause out of order script execution. This means
+    // that on older IE ES6 modules will load too early (while the document is
+    // still loading + the dom is not available). The other option is to load
+    // too late (when the document is complete and the onload even will never
+    // fire). This seems to be the lesser of two evils as scripts already act
+    // like the former.
+    if (isEs6 && goog.inHtmlDocument_() && goog.isDocumentLoading_() &&
+        !isInternetExplorerOrEdge) {
+      goog.Dependency.defer_ = true;
+      // Transpiled ES6 modules still need to load like regular ES6 modules,
+      // aka only after the document is interactive.
+      controller.pause();
+      var oldCallback = doc.onreadystatechange;
+      doc.onreadystatechange = function() {
+        if (doc.readyState == 'interactive') {
+          doc.onreadystatechange = oldCallback;
+          load();
+          controller.resume();
+        }
+        if (typeof oldCallback === 'function') {
+          oldCallback.apply(undefined, arguments);
+        }
+      };
+    } else {
+      // Always eval on old IE.
+      if (goog.DebugLoader_.IS_OLD_IE_ || !goog.inHtmlDocument_() ||
+          !goog.isDocumentLoading_()) {
+        load();
+      } else {
+        fetchInOwnScriptThenLoad();
+      }
+    }
+  };
+
+
+  /**
+   * @param {string} contents
+   * @return {string}
+   * @abstract
+   */
+  goog.TransformedDependency.prototype.transform = function(contents) {};
+
+
+  /**
+   * Any non-goog.module dependency which needs to be transpiled before eval.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @param {!goog.Transpiler} transpiler
+   * @struct @constructor
+   * @extends {goog.TransformedDependency}
+   */
+  goog.TranspiledDependency = function(
+      path, relativePath, provides, requires, loadFlags, transpiler) {
+    goog.TranspiledDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+    /** @protected @const*/
+    this.transpiler = transpiler;
+  };
+  goog.inherits(goog.TranspiledDependency, goog.TransformedDependency);
+
+
+  /**
+   * @override
+   * @param {string} contents
+   * @return {string}
+   */
+  goog.TranspiledDependency.prototype.transform = function(contents) {
+    // Transpile with the pathname so that ES6 modules are domain agnostic.
+    return this.transpiler.transpile(contents, this.getPathName());
+  };
+
+
+  /**
+   * An ES6 module dependency that was transpiled to a jscomp module outside
+   * of the debug loader, e.g. server side.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @struct @constructor
+   * @extends {goog.TransformedDependency}
+   */
+  goog.PreTranspiledEs6ModuleDependency = function(
+      path, relativePath, provides, requires, loadFlags) {
+    goog.PreTranspiledEs6ModuleDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+  };
+  goog.inherits(
+      goog.PreTranspiledEs6ModuleDependency, goog.TransformedDependency);
+
+
+  /**
+   * @override
+   * @param {string} contents
+   * @return {string}
+   */
+  goog.PreTranspiledEs6ModuleDependency.prototype.transform = function(
+      contents) {
+    return contents;
+  };
+
+
+  /**
+   * A goog.module, transpiled or not. Will always perform some minimal
+   * transformation even when not transpiled to wrap in a goog.loadModule
+   * statement.
+   *
+   * @param {string} path Absolute path of this script.
+   * @param {string} relativePath Path of this script relative to goog.basePath.
+   * @param {!Array<string>} provides goog.provided or goog.module symbols
+   *     in this file.
+   * @param {!Array<string>} requires goog symbols or relative paths to Closure
+   *     this depends on.
+   * @param {!Object<string, string>} loadFlags
+   * @param {boolean} needsTranspile
+   * @param {!goog.Transpiler} transpiler
+   * @struct @constructor
+   * @extends {goog.TransformedDependency}
+   */
+  goog.GoogModuleDependency = function(
+      path, relativePath, provides, requires, loadFlags, needsTranspile,
+      transpiler) {
+    goog.GoogModuleDependency.base(
+        this, 'constructor', path, relativePath, provides, requires, loadFlags);
+    /** @private @const */
+    this.needsTranspile_ = needsTranspile;
+    /** @private @const */
+    this.transpiler_ = transpiler;
+  };
+  goog.inherits(goog.GoogModuleDependency, goog.TransformedDependency);
+
+
+  /**
+   * @override
+   * @param {string} contents
+   * @return {string}
+   */
+  goog.GoogModuleDependency.prototype.transform = function(contents) {
+    if (this.needsTranspile_) {
+      contents = this.transpiler_.transpile(contents, this.getPathName());
+    }
+
+    if (!goog.LOAD_MODULE_USING_EVAL || goog.global.JSON === undefined) {
+      return '' +
+          'goog.loadModule(function(exports) {' +
+          '"use strict";' + contents +
+          '\n' +  // terminate any trailing single line comment.
+          ';return exports' +
+          '});' +
+          '\n//# sourceURL=' + this.path + '\n';
+    } else {
+      return '' +
+          'goog.loadModule(' +
+          goog.global.JSON.stringify(
+              contents + '\n//# sourceURL=' + this.path + '\n') +
+          ');';
+    }
+  };
+
+
+  /**
+   * Whether the browser is IE9 or earlier, which needs special handling
+   * for deferred modules.
+   * @const @private {boolean}
+   */
+  goog.DebugLoader_.IS_OLD_IE_ = !!(
+      !goog.global.atob && goog.global.document && goog.global.document['all']);
+
+
+  /**
+   * @param {string} relPath
+   * @param {!Array<string>|undefined} provides
+   * @param {!Array<string>} requires
+   * @param {boolean|!Object<string>=} opt_loadFlags
+   * @see goog.addDependency
+   */
+  goog.DebugLoader_.prototype.addDependency = function(
+      relPath, provides, requires, opt_loadFlags) {
+    provides = provides || [];
+    relPath = relPath.replace(/\\/g, '/');
+    var path = goog.normalizePath_(goog.basePath + relPath);
+    if (!opt_loadFlags || typeof opt_loadFlags === 'boolean') {
+      opt_loadFlags = opt_loadFlags ? {'module': goog.ModuleType.GOOG} : {};
+    }
+    var dep = this.factory_.createDependency(
+        path, relPath, provides, requires, opt_loadFlags,
+        goog.transpiler_.needsTranspile(
+            opt_loadFlags['lang'] || 'es3', opt_loadFlags['module']));
+    this.dependencies_[path] = dep;
+    for (var i = 0; i < provides.length; i++) {
+      this.idToPath_[provides[i]] = path;
+    }
+    this.idToPath_[relPath] = path;
+  };
+
+
+  /**
+   * Creates goog.Dependency instances for the debug loader to load.
+   *
+   * Should be overridden to have the debug loader use custom subclasses of
+   * goog.Dependency.
+   *
+   * @param {!goog.Transpiler} transpiler
+   * @struct @constructor
+   */
+  goog.DependencyFactory = function(transpiler) {
+    /** @protected @const */
+    this.transpiler = transpiler;
+  };
+
+
+  /**
+   * @param {string} path Absolute path of the file.
+   * @param {string} relativePath Path relative to closure’s base.js.
+   * @param {!Array<string>} provides Array of provided goog.provide/module ids.
+   * @param {!Array<string>} requires Array of required goog.provide/module /
+   *     relative ES6 module paths.
+   * @param {!Object<string, string>} loadFlags
+   * @param {boolean} needsTranspile True if the file needs to be transpiled
+   *     per the goog.Transpiler.
+   * @return {!goog.Dependency}
+   */
+  goog.DependencyFactory.prototype.createDependency = function(
+      path, relativePath, provides, requires, loadFlags, needsTranspile) {
+    // MOE:begin_strip
+    var provide, require;
+    for (var i = 0; provide = provides[i]; i++) {
+      goog.dependencies_.nameToPath[provide] = relativePath;
+      goog.dependencies_.loadFlags[relativePath] = loadFlags;
+    }
+    for (var j = 0; require = requires[j]; j++) {
+      if (!(relativePath in goog.dependencies_.requires)) {
+        goog.dependencies_.requires[relativePath] = {};
+      }
+      goog.dependencies_.requires[relativePath][require] = true;
+    }
+    // MOE:end_strip
+
+    if (loadFlags['module'] == goog.ModuleType.GOOG) {
+      return new goog.GoogModuleDependency(
+          path, relativePath, provides, requires, loadFlags, needsTranspile,
+          this.transpiler);
+    } else if (needsTranspile) {
+      return new goog.TranspiledDependency(
+          path, relativePath, provides, requires, loadFlags, this.transpiler);
+    } else {
+      if (loadFlags['module'] == goog.ModuleType.ES6) {
+        if (goog.TRANSPILE == 'never' && goog.ASSUME_ES_MODULES_TRANSPILED) {
+          return new goog.PreTranspiledEs6ModuleDependency(
+              path, relativePath, provides, requires, loadFlags);
+        } else {
+          return new goog.Es6ModuleDependency(
+              path, relativePath, provides, requires, loadFlags);
+        }
+      } else {
+        return new goog.Dependency(
+            path, relativePath, provides, requires, loadFlags);
+      }
+    }
+  };
+
+
+  /** @private @const */
+  goog.debugLoader_ = new goog.DebugLoader_();
+
+
+  /**
+   * Loads the Closure Dependency file.
+   *
+   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base
+   * loaded, setDependencyFactory called, and then this called. i.e. allows
+   * custom loading of the deps file.
+   */
+  goog.loadClosureDeps = function() {
+    goog.debugLoader_.loadClosureDeps();
+  };
+
+
+  /**
+   * Sets the dependency factory, which can be used to create custom
+   * goog.Dependency implementations to control how dependencies are loaded.
+   *
+   * Note: if you wish to call this function and provide your own implemnetation
+   * it is a wise idea to set CLOSURE_NO_DEPS to true, otherwise the dependency
+   * file and all of its goog.addDependency calls will use the default factory.
+   * You can call goog.loadClosureDeps to load the Closure dependency file
+   * later, after your factory is injected.
+   *
+   * @param {!goog.DependencyFactory} factory
+   */
+  goog.setDependencyFactory = function(factory) {
+    goog.debugLoader_.setDependencyFactory(factory);
+  };
+
+
+  /**
+   * Trusted Types policy for the debug loader.
+   * @private @const {?TrustedTypePolicy}
+   */
+  goog.TRUSTED_TYPES_POLICY_ = goog.TRUSTED_TYPES_POLICY_NAME ?
+      goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + '#base') :
+      null;
+
+  if (!goog.global.CLOSURE_NO_DEPS) {
+    goog.debugLoader_.loadClosureDeps();
+  }
+
+
+  /**
+   * Bootstraps the given namespaces and calls the callback once they are
+   * available either via goog.require. This is a replacement for using
+   * `goog.require` to bootstrap Closure JavaScript. Previously a `goog.require`
+   * in an HTML file would guarantee that the require'd namespace was available
+   * in the next immediate script tag. With ES6 modules this no longer a
+   * guarantee.
+   *
+   * @param {!Array<string>} namespaces
+   * @param {function(): ?} callback Function to call once all the namespaces
+   *     have loaded. Always called asynchronously.
+   */
+  goog.bootstrap = function(namespaces, callback) {
+    goog.debugLoader_.bootstrap(namespaces, callback);
+  };
+}
+
+
+if (!COMPILED) {
+  var isChrome87 = false;
+  // Cannot run check for Chrome <87 bug in case of strict CSP environments.
+  // TODO(aaronshim): Remove once Chrome <87 bug is no longer a problem.
+  try {
+    isChrome87 = eval(goog.global.trustedTypes.emptyScript) !==
+        goog.global.trustedTypes.emptyScript;
+  } catch (err) {
+  }
+
+  /**
+   * Trusted Types for running dev servers.
+   *
+   * @private @const
+   */
+  goog.CLOSURE_EVAL_PREFILTER_ =
+      // Detect Chrome <87 bug with TT and eval.
+      goog.global.trustedTypes && isChrome87 &&
+          goog.createTrustedTypesPolicy('goog#base#devonly#eval') ||
+      {createScript: goog.identity_};
+}
+
+//third_party/javascript/tslib/tslib_closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ * @fileoverview
+ * Hand-modified Closure version of tslib.js.
+ * These use the literal space optimized code from TypeScript for
+ * compatibility.
+ *
+ * @suppress {undefinedVars}
+ */
+
+// Do not use @license
+
+/******************************************************************************
+Copyright (c) Microsoft Corporation.
+
+Permission to use, copy, modify, and/or distribute this software for any
+purpose with or without fee is hereby granted.
+
+THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
+REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
+AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
+INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
+LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
+OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
+PERFORMANCE OF THIS SOFTWARE.
+***************************************************************************** */
+
+goog.module('google3.third_party.javascript.tslib.tslib');
+
+/** @suppress {missingPolyfill} the code below intentionally feature-tests. */
+var extendStatics = Object.setPrototypeOf ||
+    ({__proto__: []} instanceof Array && function(d, b) {d.__proto__ = b;}) ||
+    function(d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
+
+/**
+ * @param {?} d
+ * @param {?} b
+ */
+exports.__extends = function(d, b) {
+    extendStatics(d, b);
+    // LOCAL MODIFICATION: Add jsdoc annotation here:
+    /** @constructor */
+    function __() { /** @type {?} */ (this).constructor = d; }
+    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
+};
+
+exports.__assign = Object.assign || /** @return {?} */ function (/** ? */ t) {
+    for (var s, i = 1, n = arguments.length; i < n; i++) {
+        s = arguments[i];
+        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
+    }
+    return t;
+};
+
+/**
+ * @param {?} s
+ * @param {?} e
+ * @return {?}
+ */
+exports.__rest = function (s, e) {
+    var t = {};
+    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
+        t[p] = s[p];
+    if (s != null && typeof Object.getOwnPropertySymbols === "function")
+        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
+            t[p[i]] = s[p[i]];
+    return t;
+};
+
+/**
+ * @param {?} decorators
+ * @param {T} target
+ * @param {?=} key
+ * @param {?=} desc
+ * @return {T}
+ * @template T
+ */
+exports.__decorate = function (decorators, target, key, desc) {
+    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
+    // google3 local modification: use quoted property access to work around
+    // https://b.corp.google.com/issues/77140019.
+    if (typeof Reflect === "object" && Reflect && typeof Reflect['decorate'] === "function") r = Reflect['decorate'](decorators, target, key, desc);
+    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
+    return c > 3 && r && Object.defineProperty(target, key, r), r;
+};
+
+/**
+ * @param {?} metadataKey
+ * @param {?} metadataValue
+ * @return {?}
+ */
+exports.__metadata = function (metadataKey, metadataValue) {
+  // google3 local modification: use quoted property access to work around
+  // https://b.corp.google.com/issues/77140019.
+  if (typeof Reflect === "object" && Reflect && typeof Reflect['metadata'] === "function") return Reflect['metadata'](metadataKey, metadataValue);
+};
+
+/**
+ * @param {?} paramIndex
+ * @param {?} decorator
+ * @return {?}
+ */
+exports.__param = function (paramIndex, decorator) {
+    return function (target, key) { decorator(target, key, paramIndex); };
+};
+
+/**
+ * @template T
+ * @param {T} thisArg
+ * @param {?} _arguments
+ * @param {?} P
+ * @param {function(this:T)} generator
+ * @return {?}
+ */
+exports.__awaiter = function(thisArg, _arguments, P, generator) {
+  return new (P || (P = Promise))(function(resolve, reject) {
+    // LOCAL MODIFICATION: Cannot express the function + keys pattern in
+    // closure, so we escape generator.next with ? type.
+    function fulfilled(value) {
+      try {
+        step((/** @type {?} */ (generator)).next(value));
+      } catch (e) {
+        reject(e);
+      }
+    }
+    function rejected(value) {
+      try {
+        step(generator['throw'](value));
+      } catch (e) {
+        reject(e);
+      }
+    }
+    function step(result) {
+      result.done ? resolve(result.value) : new P(function(resolve) {
+                                              resolve(result.value);
+                                            }).then(fulfilled, rejected);
+    }
+    step((generator = generator.apply(thisArg, _arguments)).next());
+  });
+};
+
+/**
+ * @param {?} thisArg
+ * @param {?} body
+ * @return {?}
+ */
+exports.__generator = function(thisArg, body) {
+  var _ = {
+    label: 0,
+    sent: function() {
+      if (t[0] & 1) throw (/** @type {!Error} */ (t[1]));
+      return t[1];
+    },
+    trys: [],
+    ops: []
+  },
+      f, y, t, g;
+  // LOCAL MODIFICATION: Originally iterator body was "return this", but it
+  // doesn't compile as this is unknown. Changed to g, which is equivalent.
+  return g = {next: verb(0), "throw": verb(1), "return": verb(2)},
+         typeof Symbol === "function" && (g[Symbol.iterator] = function() {
+           return g;
+         }), g;
+  function verb(n) {
+    return function(v) {
+      return step([n, v]);
+    };
+  }
+  function step(op) {
+    if (f) throw new TypeError("Generator is already executing.");
+    while (_) try {
+        if (f = 1,
+            y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) &&
+                !(t = t.call(y, op[1])).done)
+          return t;
+        if (y = 0, t) op = [0, t.value];
+        switch (op[0]) {
+          case 0:
+          case 1:
+            t = op;
+            break;
+          case 4:
+            _.label++;
+            return {value: op[1], done: false};
+          case 5:
+            _.label++;
+            y = op[1];
+            op = [0];
+            continue;
+          case 7:
+            op = _.ops.pop();
+            _.trys.pop();
+            continue;
+          default:
+            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) &&
+                (op[0] === 6 || op[0] === 2)) {
+              _ = 0;
+              continue;
+            }
+            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
+              _.label = op[1];
+              break;
+            }
+            if (op[0] === 6 && _.label < t[1]) {
+              _.label = t[1];
+              t = op;
+              break;
+            }
+            if (t && _.label < t[2]) {
+              _.label = t[2];
+              _.ops.push(op);
+              break;
+            }
+            if (t[2]) _.ops.pop();
+            _.trys.pop();
+            continue;
+        }
+        op = body.call(thisArg, _);
+      } catch (e) {
+        op = [6, e];
+        y = 0;
+      } finally {
+        f = t = 0;
+      }
+    if (op[0] & 5) throw (/** @type {!Error} */ (op[1]));
+    return {value: op[0] ? op[1] : void 0, done: true};
+  }
+};
+
+/**
+ * @param {?} m
+ * @param {?} e
+ */
+exports.__exportStar = function (m, e) {
+    for (var p in m) if (!e.hasOwnProperty(p)) e[p] = m[p];
+};
+
+/**
+ * @param {?} o
+ * @return {?}
+ */
+exports.__values = function (o) {
+    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
+    if (m) return m.call(o);
+    return {
+        next: function () {
+            if (o && i >= o.length) o = void 0;
+            return { value: o && o[i++], done: !o };
+        }
+    };
+};
+
+/**
+ * @param {?} o
+ * @param {?=} n
+ * @return {?}
+ */
+exports.__read = function(o, n) {
+  var m = typeof Symbol === "function" && o[Symbol.iterator];
+  if (!m) return o;
+  var i = m.call(o), r, ar = [], e;
+  try {
+    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
+  } catch (error) {
+    e = {error: error};
+  } finally {
+    try {
+      if (r && !r.done && (m = i["return"])) m.call(i);
+    } finally {
+      if (e) throw (/** @type {!Error} */ (e.error));
+    }
+  }
+  return ar;
+};
+
+/**
+ * @return {!Array}
+ * @deprecated since TypeScript 4.2
+ */
+exports.__spread = function() {
+  for (var ar = [], i = 0; i < arguments.length; i++)
+    ar = ar.concat(exports.__read(arguments[i]));
+  return ar;
+};
+
+/**
+ * @return {!Array<?>}
+ * @deprecated since TypeScript 4.2
+ */
+exports.__spreadArrays = function() {
+  for (var s = 0, i = 0, il = arguments.length; i < il; i++)
+    s += arguments[i].length;
+  for (var r = Array(s), k = 0, i = 0; i < il; i++)
+    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
+      r[k] = a[j];
+  return r;
+};
+
+/**
+ * @param {!Array<?>} to
+ * @param {!Array<?>} from
+ * @return {!Array<?>}
+ */
+exports.__spreadArray = function(to, from) {
+  // LOCAL MODIFICATION: https://github.com/microsoft/TypeScript/issues/43353
+  // We have to accept NodeList because they don't implement Iterable in Edge.
+  if (!Array.isArray(from) && !(from instanceof NodeList)) {
+    throw new TypeError('Expected an Array or NodeList: ' + String(from));
+  }
+  // END LOCAL MODIFICATION
+  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
+    to[j] = from[i];
+  return to;
+};
+
+/**
+ * @constructor
+ * LOCAL MODIFICATION: Originally used "this" in function body,
+ * @this {?}
+ * END LOCAL MODIFICATION
+ * @param {?} v
+ * @return {?}
+ */
+exports.__await = function(v) {
+  return this instanceof exports.__await ? (this.v = v, this) :
+                                           new exports.__await(v);
+};
+
+/**
+ * @template T
+ * @param {T} thisArg
+ * @param {?} _arguments
+ * @param {function(this:T)} generator
+ * @return {?}
+ */
+exports.__asyncGenerator = function __asyncGenerator(
+    thisArg, _arguments, generator) {
+  if (!Symbol.asyncIterator)
+    throw new TypeError('Symbol.asyncIterator is not defined.');
+  var g = generator.apply(thisArg, _arguments || []), i, q = [];
+  return i = {}, verb('next'), verb('throw'), verb('return'),
+         i[Symbol.asyncIterator] = function() {
+           return (/** @type {?} */ (this));
+         }, i;
+  function verb(n) {
+    if (g[n])
+      i[n] = function(v) {
+        return new Promise(function(a, b) {
+          q.push([n, v, a, b]) > 1 || resume(n, v);
+        });
+      };
+  }
+  function resume(n, v) {
+    try {
+      step(g[n](v));
+    } catch (e) {
+      settle(q[0][3], e);
+    }
+  }
+  function step(r) {
+    r.value instanceof exports.__await ?
+        Promise.resolve(/** @type {?} */ (r.value).v).then(fulfill, reject) :
+        settle(q[0][2], r);
+  }
+  function fulfill(value) {
+    resume('next', value);
+  }
+  function reject(value) {
+    resume('throw', value);
+  }
+  function settle(f, v) {
+    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);
+  }
+};
+
+/**
+ * @param {?} o
+ * @return {?}
+ */
+exports.__asyncDelegator = function(o) {
+  var i, p;
+  // LOCAL MODIFICATION: Originally iterator body was "return this", but it
+  // doesn't compile in some builds, as this is unknown. Changed to i, which is
+  // equivalent.
+  return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return i; }, i;
+  /**
+   * @param {?} n
+   * @param {?=} f
+   * @return {?}
+   */
+  function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: new exports.__await(o[n](v)), done: n === "return" } : f ? f(v) : v; }; }
+};
+
+/**
+ * @param {?} o
+ * @return {?}
+ */
+exports.__asyncValues = function(o) {
+  if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
+  var m = o[Symbol.asyncIterator];
+  return m ? m.call(o) : typeof __values === "function" ? __values(o) : o[Symbol.iterator]();
+};
+
+/**
+ * @param {?=} cooked
+ * @param {?=} raw
+ * @return {?}
+ */
+exports.__makeTemplateObject = function(cooked, raw) {
+    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
+    return cooked;
+};
+
+
+/**
+ * @param {?} receiver
+ * @param {!WeakMap} privateMap
+ * @return {?}
+ */
+exports.__classPrivateFieldGet = function (receiver, privateMap) {
+  if (!privateMap.has(receiver)) {
+      throw new TypeError("attempted to get private field on non-instance");
+  }
+  return privateMap.get(receiver);
+};
+
+/**
+ * @param {?} receiver
+ * @param {!WeakMap} privateMap
+ * @param {?} value
+ * @return {?}
+ */
+exports.__classPrivateFieldSet = function (receiver, privateMap, value) {
+  if (!privateMap.has(receiver)) {
+      throw new TypeError("attempted to set private field on non-instance");
+  }
+  privateMap.set(receiver, value);
+  return value;
+};
+
+;return exports;});
+
+//third_party/mediapipe/web/solutions/shader_utils.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ *
+ * @fileoverview Wrappers around the OpenGL shader creation calls.
+ *
+ * Generated from: third_party/mediapipe/web/solutions/shader_utils.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.shader_utils');
+var module = module || { id: 'third_party/mediapipe/web/solutions/shader_utils.closure.js' };
+goog.require('google3.third_party.javascript.tslib.tslib');
+/** @enum {number} */
+const ShaderType = {
+    VERTEX_SHADER: 0,
+    FRAGMENT_SHADER: 1,
+};
+exports.ShaderType = ShaderType;
+ShaderType[ShaderType.VERTEX_SHADER] = 'VERTEX_SHADER';
+ShaderType[ShaderType.FRAGMENT_SHADER] = 'FRAGMENT_SHADER';
+/**
+ * Compiles a string into the requested shader type. We can always just use
+ * `createProgramFromSources` to avoid calling this directly.
+ * @param {!WebGLRenderingContext} gl
+ * @param {string} source
+ * @param {!ShaderType} type
+ * @return {!WebGLShader}
+ */
+function loadShader(gl, source, type) {
+    /** @type {number} */
+    const shaderType = type === ShaderType.VERTEX_SHADER ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;
+    /** @type {!WebGLShader} */
+    const shader = (/** @type {!WebGLShader} */ (gl.createShader(shaderType)));
+    gl.shaderSource(shader, source);
+    gl.compileShader(shader);
+    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
+        /** @type {(null|string)} */
+        const info = gl.getShaderInfoLog(shader);
+        throw new Error(`Could not compile WebGL shader.\n\n${info}`);
+    }
+    return shader;
+}
+exports.loadShader = loadShader;
+/**
+ * Links a shader program given the vertex and fragment shaders.
+ * @param {!WebGLRenderingContext} gl
+ * @param {!WebGLShader} vertexShader
+ * @param {!WebGLShader} fragmentShader
+ * @return {!WebGLProgram}
+ */
+function createProgram(gl, vertexShader, fragmentShader) {
+    /** @type {!WebGLProgram} */
+    const program = (/** @type {!WebGLProgram} */ (gl.createProgram()));
+    gl.attachShader(program, vertexShader);
+    gl.attachShader(program, fragmentShader);
+    gl.linkProgram(program);
+    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
+        /** @type {(null|string)} */
+        const info = gl.getProgramInfoLog(program);
+        throw new Error(`Could not compile WebGL program.\n\n${info}`);
+    }
+    return program;
+}
+exports.createProgram = createProgram;
+/**
+ * Helper function to take shader programs as strings and produce a linked
+ * program.
+ * @param {!WebGLRenderingContext} gl
+ * @param {string} vertexSource
+ * @param {string} fragmentSource
+ * @return {!WebGLProgram}
+ */
+function createProgramFromSources(gl, vertexSource, fragmentSource) {
+    /** @type {!WebGLShader} */
+    const vertexShader = loadShader(gl, vertexSource, ShaderType.VERTEX_SHADER);
+    /** @type {!WebGLShader} */
+    const fragmentShader = loadShader(gl, fragmentSource, ShaderType.FRAGMENT_SHADER);
+    return createProgram(gl, vertexShader, fragmentShader);
+}
+exports.createProgramFromSources = createProgramFromSources;
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhZGVyX3V0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvbWVkaWFwaXBlL3dlYi9zb2x1dGlvbnMvc2hhZGVyX3V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBUUEsTUFBWSxVQUFVO0lBQ3BCLGFBQWEsR0FBQTtJQUNiLGVBQWUsR0FBQTtFQUNoQjs7Ozs7Ozs7Ozs7O0FBTUQsU0FBZ0IsVUFBVSxDQUN0QixFQUF5QixFQUFFLE1BQWMsRUFBRSxJQUFnQjs7VUFDdkQsVUFBVSxHQUNaLElBQUksS0FBSyxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsZUFBZTs7VUFDdkUsTUFBTSxHQUFHLDhCQUFBLEVBQUUsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLEVBQUM7SUFDM0MsRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDaEMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN6QixJQUFJLENBQUMsRUFBRSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsY0FBYyxDQUFDLEVBQUU7O2NBQy9DLElBQUksR0FBRyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDO1FBQ3hDLE1BQU0sSUFBSSxLQUFLLENBQUMsc0NBQXNDLElBQUksRUFBRSxDQUFDLENBQUM7S0FDL0Q7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBWkQsZ0NBWUM7Ozs7Ozs7O0FBS0QsU0FBZ0IsYUFBYSxDQUN6QixFQUF5QixFQUFFLFlBQXlCLEVBQ3BELGNBQTJCOztVQUN2QixPQUFPLEdBQUcsK0JBQUEsRUFBRSxDQUFDLGFBQWEsRUFBRSxFQUFDO0lBQ25DLEVBQUUsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3ZDLEVBQUUsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQ3pDLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFOztjQUM5QyxJQUFJLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQztRQUMxQyxNQUFNLElBQUksS0FBSyxDQUFDLHVDQUF1QyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0tBQ2hFO0lBQ0QsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQztBQVpELHNDQVlDOzs7Ozs7Ozs7QUFNRCxTQUFnQix3QkFBd0IsQ0FDcEMsRUFBeUIsRUFBRSxZQUFvQixFQUMvQyxjQUFzQjs7VUFDbEIsWUFBWSxHQUFHLFVBQVUsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLFVBQVUsQ0FBQyxhQUFhLENBQUM7O1VBQ3JFLGNBQWMsR0FDaEIsVUFBVSxDQUFDLEVBQUUsRUFBRSxjQUFjLEVBQUUsVUFBVSxDQUFDLGVBQWUsQ0FBQztJQUM5RCxPQUFPLGFBQWEsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3pELENBQUM7QUFQRCw0REFPQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVvdmVydmlldyBXcmFwcGVycyBhcm91bmQgdGhlIE9wZW5HTCBzaGFkZXIgY3JlYXRpb24gY2FsbHMuXG4gKi9cblxuLyoqXG4gKiBTaW1wbGUgcmVmZXJlbmNlIHRvIHRoZSB0d28gc2hhZGVyIHR5cGVzLiBJZiB3ZSBkb24ndCBwcm92aWRlIHRoaXMsIHRoZVxuICogdXNlciBuZWVkcyB0byByZWFjaCBpbnRvIHRoZWlyIGdsQ29udGV4dCB0byBnZXQgdGhlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGVudW0gU2hhZGVyVHlwZSB7XG4gIFZFUlRFWF9TSEFERVIsXG4gIEZSQUdNRU5UX1NIQURFUlxufVxuXG4vKipcbiAqIENvbXBpbGVzIGEgc3RyaW5nIGludG8gdGhlIHJlcXVlc3RlZCBzaGFkZXIgdHlwZS4gV2UgY2FuIGFsd2F5cyBqdXN0IHVzZVxuICogYGNyZWF0ZVByb2dyYW1Gcm9tU291cmNlc2AgdG8gYXZvaWQgY2FsbGluZyB0aGlzIGRpcmVjdGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNoYWRlcihcbiAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBzb3VyY2U6IHN0cmluZywgdHlwZTogU2hhZGVyVHlwZSk6IFdlYkdMU2hhZGVyIHtcbiAgY29uc3Qgc2hhZGVyVHlwZSA9XG4gICAgICB0eXBlID09PSBTaGFkZXJUeXBlLlZFUlRFWF9TSEFERVIgPyBnbC5WRVJURVhfU0hBREVSIDogZ2wuRlJBR01FTlRfU0hBREVSO1xuICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSkhO1xuICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xuICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgY29uc3QgaW5mbyA9IGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb21waWxlIFdlYkdMIHNoYWRlci5cXG5cXG4ke2luZm99YCk7XG4gIH1cbiAgcmV0dXJuIHNoYWRlcjtcbn1cblxuLyoqXG4gKiBMaW5rcyBhIHNoYWRlciBwcm9ncmFtIGdpdmVuIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9ncmFtKFxuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsXG4gICAgZnJhZ21lbnRTaGFkZXI6IFdlYkdMU2hhZGVyKTogV2ViR0xQcm9ncmFtIHtcbiAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKSE7XG4gIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgIGNvbnN0IGluZm8gPSBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb21waWxlIFdlYkdMIHByb2dyYW0uXFxuXFxuJHtpbmZvfWApO1xuICB9XG4gIHJldHVybiBwcm9ncmFtO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byB0YWtlIHNoYWRlciBwcm9ncmFtcyBhcyBzdHJpbmdzIGFuZCBwcm9kdWNlIGEgbGlua2VkXG4gKiBwcm9ncmFtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbUZyb21Tb3VyY2VzKFxuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNvdXJjZTogc3RyaW5nLFxuICAgIGZyYWdtZW50U291cmNlOiBzdHJpbmcpOiBXZWJHTFByb2dyYW0ge1xuICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBsb2FkU2hhZGVyKGdsLCB2ZXJ0ZXhTb3VyY2UsIFNoYWRlclR5cGUuVkVSVEVYX1NIQURFUik7XG4gIGNvbnN0IGZyYWdtZW50U2hhZGVyID1cbiAgICAgIGxvYWRTaGFkZXIoZ2wsIGZyYWdtZW50U291cmNlLCBTaGFkZXJUeXBlLkZSQUdNRU5UX1NIQURFUik7XG4gIHJldHVybiBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcbn1cbiJdfQ==
+;return exports;});
+
+//third_party/mediapipe/web/solutions/stream_helpers.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ * @fileoverview added by tsickle
+ * Generated from: third_party/mediapipe/web/solutions/stream_helpers.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.stream_helpers');
+var module = module || { id: 'third_party/mediapipe/web/solutions/stream_helpers.closure.js' };
+goog.require('google3.third_party.javascript.tslib.tslib');
+const tsickle_shader_utils_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.shader_utils");
+const tsickle_solutions_wasm_2 = goog.requireType("google3.third_party.mediapipe.web.solutions.solutions_wasm");
+const shaderUtils = goog.require('google3.third_party.mediapipe.web.solutions.shader_utils');
+/**
+ * When the graph is closed or restarted, we use this to give the helpers a
+ * chance to cleanup. For instance, OpenGl textures that have been created can
+ * be deleted.
+ * @record
+ */
+function StreamHelper() { }
+exports.StreamHelper = StreamHelper;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @return {void}
+     */
+    StreamHelper.prototype.dispose = function () { };
+}
+/** @type {string} */
+const VS_RENDER = `
+  attribute vec2 aVertex;
+  attribute vec2 aTex;
+  varying vec2 vTex;
+  void main(void) {
+    gl_Position = vec4(aVertex, 0.0, 1.0);
+    vTex = aTex;
+  }`;
+/** @type {string} */
+const FS_RENDER = `
+  precision highp float;
+  varying vec2 vTex;
+  uniform sampler2D sampler0;
+  void main(){
+    gl_FragColor = texture2D(sampler0, vTex);
+  }`;
+/**
+ * @record
+ */
+function RenderVariableLocations() { }
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    RenderVariableLocations.prototype.aVertex;
+    /** @type {number} */
+    RenderVariableLocations.prototype.aTex;
+    /** @type {!WebGLUniformLocation} */
+    RenderVariableLocations.prototype.sampler0;
+}
+/**
+ * Represents a GpuBuffer coming from MediaPipe. We attach helper methods
+ * to deal with the internal GL details.
+ * @typedef {!HTMLCanvasElement}
+ */
+exports.GpuBuffer;
+/**
+ * The types of inputs that can be encoded.
+ * @typedef {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)}
+ */
+exports.InputElement;
+/**
+ * Deals with the trouble of moving image information into MediaPipe back out
+ * again. At our lowest level, we use a Canvas element to provide a context in
+ * which to do GPU processing, but because browsers do not share contexts
+ * between elements, there's no easy way to move texture data around. So we'll
+ * do that here. We'll provide ways for the user to supply HTML elements that
+ * we'll feed into MediaPipe (see `encode`) and we'll provide ways to render
+ * output streams from MediaPipe (see `renderTo`).
+ * @implements {StreamHelper}
+ */
+class ImageStreamHelper {
+    /**
+     * @param {!tsickle_solutions_wasm_2.MediapipeWasm} wasm
+     * @param {!WebGL2RenderingContext} gl
+     */
+    constructor(wasm, gl) {
+        this.wasm = wasm;
+        this.gl = gl;
+        // This is used for both input_streams and output_streams in a graph. The
+        // back end either needs it to wrap an external texture, or provides it when
+        // supplying us with a texture (as part of an output stream).
+        this.textureId = 0;
+    }
+    /**
+     * Captures a frame from a video element to send as a texture to the graph.
+     * TODO(mhays); In the future this will also other elements that supply
+     * texture (including HTMLImageElement and HTMLCanvasElement).
+     * @param {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)} input
+     * @return {!Object}
+     */
+    encode(input) {
+        if (this.textureId === 0) {
+            this.textureId = this.wasm.createTexture();
+        }
+        /** @type {number} */
+        let width = 0;
+        /** @type {number} */
+        let height = 0;
+        if (input instanceof HTMLVideoElement) {
+            width = input.videoWidth;
+            height = input.videoHeight;
+        }
+        else if (input instanceof HTMLImageElement) {
+            width = input.naturalWidth;
+            height = input.naturalHeight;
+        }
+        else {
+            width = input.width;
+            height = input.height;
+        }
+        /** @type {{glName: number, width: number, height: number}} */
+        const result = { glName: this.textureId, width, height };
+        /** @type {!WebGL2RenderingContext} */
+        const gl = this.gl;
+        gl.canvas.width = result.width;
+        gl.canvas.height = result.height;
+        gl.activeTexture(gl.TEXTURE0);
+        this.wasm.bindTexture2d(this.textureId);
+        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, input);
+        this.wasm.bindTexture2d(0);
+        return result;
+    }
+    /**
+     * @param {!tsickle_solutions_wasm_2.Texture2dData} data
+     * @return {!HTMLCanvasElement}
+     */
+    decode(data) {
+        this.render(data);
+        return (/** @type {!HTMLCanvasElement} */ (this.gl.canvas));
+    }
+    /**
+     * @private
+     * @param {!tsickle_solutions_wasm_2.Texture2dData} data
+     * @return {void}
+     */
+    render(data) {
+        /** @type {!WebGL2RenderingContext} */
+        const gl = this.gl;
+        if (this.renderProgram === undefined) {
+            /** @type {!WebGLProgram} */
+            const program = this.renderProgram =
+                shaderUtils.createProgramFromSources(gl, VS_RENDER, FS_RENDER);
+            gl.useProgram(program);
+            /** @type {number} */
+            const aVertex = gl.getAttribLocation(program, 'aVertex');
+            /** @type {number} */
+            const aTex = gl.getAttribLocation(program, 'aTex');
+            /** @type {!WebGLUniformLocation} */
+            const sampler0 = (/** @type {!WebGLUniformLocation} */ (gl.getUniformLocation(program, 'sampler0')));
+            this.locations = { aVertex, aTex, sampler0 };
+            this.vertexBuffer = (/** @type {!WebGLBuffer} */ (gl.createBuffer()));
+            gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);
+            gl.enableVertexAttribArray(this.locations.aVertex);
+            gl.vertexAttribPointer(this.locations.aVertex, 2, gl.FLOAT, false, 0, 0);
+            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), gl.STATIC_DRAW);
+            gl.bindBuffer(gl.ARRAY_BUFFER, null);
+            this.textureBuffer = (/** @type {!WebGLBuffer} */ (gl.createBuffer()));
+            gl.bindBuffer(gl.ARRAY_BUFFER, this.textureBuffer);
+            gl.enableVertexAttribArray(this.locations.aTex);
+            gl.vertexAttribPointer(this.locations.aTex, 2, gl.FLOAT, false, 0, 0);
+            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 1, 0, 0, 1, 0, 1, 1]), gl.STATIC_DRAW);
+            gl.bindBuffer(gl.ARRAY_BUFFER, null);
+            gl.uniform1i(sampler0, 0);
+        }
+        /** @type {!RenderVariableLocations} */
+        const locations = (/** @type {!RenderVariableLocations} */ (this.locations));
+        /** @type {!WebGLProgram} */
+        const program = this.renderProgram;
+        gl.useProgram(program);
+        gl.canvas.width = data.width;
+        gl.canvas.height = data.height;
+        gl.viewport(0, 0, data.width, data.height);
+        // The texture will already be filled when we are rendering.  We just need
+        // to hand it over to the program on sampler0.
+        gl.activeTexture(gl.TEXTURE0);
+        this.wasm.bindTexture2d(data.glName);
+        gl.enableVertexAttribArray(locations.aVertex);
+        gl.bindBuffer(gl.ARRAY_BUFFER, (/** @type {!WebGLBuffer} */ (this.vertexBuffer)));
+        gl.vertexAttribPointer(locations.aVertex, 2, gl.FLOAT, false, 0, 0);
+        gl.enableVertexAttribArray(locations.aTex);
+        gl.bindBuffer(gl.ARRAY_BUFFER, (/** @type {!WebGLBuffer} */ (this.textureBuffer)));
+        gl.vertexAttribPointer(locations.aTex, 2, gl.FLOAT, false, 0, 0);
+        // Make sure we're drawing to the canvas and not to a texture.
+        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
+        gl.drawArrays(gl.TRIANGLE_FAN, 0, 4);
+        gl.disableVertexAttribArray(locations.aVertex);
+        gl.disableVertexAttribArray(locations.aTex);
+        gl.bindBuffer(gl.ARRAY_BUFFER, null);
+        this.wasm.bindTexture2d(0);
+    }
+    /**
+     * Disposes of the texture we created. Since we made the texture on the C++
+     * layer, we need to delete it there as well.
+     * @return {void}
+     */
+    dispose() {
+        if (this.textureId !== 0) {
+            this.wasm.deleteTexture(this.textureId);
+        }
+        if (this.renderProgram) {
+            this.gl.deleteProgram(this.renderProgram);
+        }
+        if (this.textureBuffer) {
+            this.gl.deleteBuffer(this.textureBuffer);
+        }
+        if (this.vertexBuffer) {
+            this.gl.deleteBuffer(this.vertexBuffer);
+        }
+    }
+}
+exports.ImageStreamHelper = ImageStreamHelper;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {number}
+     * @private
+     */
+    ImageStreamHelper.prototype.textureId;
+    /**
+     * @type {(undefined|!WebGLProgram)}
+     * @private
+     */
+    ImageStreamHelper.prototype.renderProgram;
+    /**
+     * @type {(undefined|!WebGLBuffer)}
+     * @private
+     */
+    ImageStreamHelper.prototype.vertexBuffer;
+    /**
+     * @type {(undefined|!WebGLBuffer)}
+     * @private
+     */
+    ImageStreamHelper.prototype.textureBuffer;
+    /**
+     * @type {(undefined|!RenderVariableLocations)}
+     * @private
+     */
+    ImageStreamHelper.prototype.locations;
+    /**
+     * @type {!tsickle_solutions_wasm_2.MediapipeWasm}
+     * @private
+     */
+    ImageStreamHelper.prototype.wasm;
+    /**
+     * @type {!WebGL2RenderingContext}
+     * @private
+     */
+    ImageStreamHelper.prototype.gl;
+}
+/**
+ * Streams sometimes save information aside. For instance, 2d textures will save
+ * a texture id.
+ * @record
+ */
+function StreamHelperMap() { }
+exports.StreamHelperMap = StreamHelperMap;
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyZWFtX2hlbHBlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9tZWRpYXBpcGUvd2ViL3NvbHV0aW9ucy9zdHJlYW1faGVscGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsNkZBQThDOzs7Ozs7O0FBUTlDLDJCQUVDOzs7Ozs7O0lBREMsaURBQWdCOzs7TUFHWixTQUFTLEdBQUc7Ozs7Ozs7SUFPZDs7TUFFRSxTQUFTLEdBQUc7Ozs7OztJQU1kOzs7O0FBRUosc0NBSUM7Ozs7SUFIQywwQ0FBZTs7SUFDZix1Q0FBWTs7SUFDWiwyQ0FBK0I7Ozs7Ozs7QUFPakMsa0JBQTBDOzs7OztBQUsxQyxxQkFBK0U7Ozs7Ozs7Ozs7O0FBVy9FLE1BQWEsaUJBQWlCOzs7OztJQVk1QixZQUNxQixJQUFpQyxFQUNqQyxFQUEwQjtRQUQxQixTQUFJLEdBQUosSUFBSSxDQUE2QjtRQUNqQyxPQUFFLEdBQUYsRUFBRSxDQUF3Qjs7OztRQVZ2QyxjQUFTLEdBQUcsQ0FBQyxDQUFDO0lBVTRCLENBQUM7Ozs7Ozs7O0lBT25ELE1BQU0sQ0FBQyxLQUFtQjtRQUN4QixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztTQUM1Qzs7WUFFRyxLQUFLLEdBQUcsQ0FBQzs7WUFDVCxNQUFNLEdBQUcsQ0FBQztRQUVkLElBQUksS0FBSyxZQUFZLGdCQUFnQixFQUFFO1lBQ3JDLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDO1lBQ3pCLE1BQU0sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDO1NBQzVCO2FBQU0sSUFBSSxLQUFLLFlBQVksZ0JBQWdCLEVBQUU7WUFDNUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUM7WUFDM0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUM7U0FDOUI7YUFBTTtZQUNMLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3BCLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1NBQ3ZCOztjQUNLLE1BQU0sR0FBRyxFQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUM7O2NBRWhELEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRTtRQUNsQixFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQy9CLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDakMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7Ozs7SUFFRCxNQUFNLENBQUMsSUFBaUM7UUFDdEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQixPQUFPLG9DQUFBLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFhLENBQUM7SUFDckMsQ0FBQzs7Ozs7O0lBRU8sTUFBTSxDQUFDLElBQWlDOztjQUN4QyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUU7UUFFbEIsSUFBSSxJQUFJLENBQUMsYUFBYSxLQUFLLFNBQVMsRUFBRTs7a0JBQzlCLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYTtnQkFDOUIsV0FBVyxDQUFDLHdCQUF3QixDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDO1lBQ2xFLEVBQUUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7O2tCQUVqQixPQUFPLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUM7O2tCQUNsRCxJQUFJLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7O2tCQUM1QyxRQUFRLEdBQUcsdUNBQUEsRUFBRSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsRUFBQztZQUM1RCxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsQ0FBQztZQUUzQyxJQUFJLENBQUMsWUFBWSxHQUFHLDhCQUFBLEVBQUUsQ0FBQyxZQUFZLEVBQUUsRUFBQyxDQUFDO1lBQ3ZDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDbEQsRUFBRSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbkQsRUFBRSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDekUsRUFBRSxDQUFDLFVBQVUsQ0FDVCxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDL0QsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3BCLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztZQUVyQyxJQUFJLENBQUMsYUFBYSxHQUFHLDhCQUFBLEVBQUUsQ0FBQyxZQUFZLEVBQUUsRUFBQyxDQUFDO1lBQ3hDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDbkQsRUFBRSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEQsRUFBRSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEUsRUFBRSxDQUFDLFVBQVUsQ0FDVCxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQzNELEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNwQixFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDckMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDM0I7O2NBRUssU0FBUyxHQUFHLDBDQUFBLElBQUksQ0FBQyxTQUFTLEVBQUM7O2NBQzNCLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYTtRQUVsQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDN0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMvQixFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFM0MsMEVBQTBFO1FBQzFFLDhDQUE4QztRQUM5QyxFQUFFLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFckMsRUFBRSxDQUFDLHVCQUF1QixDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsOEJBQUEsSUFBSSxDQUFDLFlBQVksRUFBQyxDQUFDLENBQUM7UUFDbkQsRUFBRSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVwRSxFQUFFLENBQUMsdUJBQXVCLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSw4QkFBQSxJQUFJLENBQUMsYUFBYSxFQUFDLENBQUMsQ0FBQztRQUNwRCxFQUFFLENBQUMsbUJBQW1CLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRWpFLDhEQUE4RDtRQUM5RCxFQUFFLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU5QyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRXJDLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDL0MsRUFBRSxDQUFDLHdCQUF3QixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM1QyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFckMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0IsQ0FBQzs7Ozs7O0lBTUQsT0FBTztRQUNMLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxDQUFDLEVBQUU7WUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3RCLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztTQUMzQztRQUNELElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUN0QixJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7U0FDMUM7UUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDckIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQ3pDO0lBQ0gsQ0FBQztDQUNGO0FBNUlELDhDQTRJQzs7Ozs7OztJQXhJQyxzQ0FBc0I7Ozs7O0lBR3RCLDBDQUFxQzs7Ozs7SUFDckMseUNBQW1DOzs7OztJQUNuQywwQ0FBb0M7Ozs7O0lBQ3BDLHNDQUE0Qzs7Ozs7SUFHeEMsaUNBQWtEOzs7OztJQUNsRCwrQkFBMkM7Ozs7Ozs7QUFvSWpELDhCQUVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgc2hhZGVyVXRpbHMgZnJvbSAnLi9zaGFkZXJfdXRpbHMnO1xuaW1wb3J0ICogYXMgc29sdXRpb25zV2FzbSBmcm9tICcuL3NvbHV0aW9uc193YXNtJztcblxuLyoqXG4gKiBXaGVuIHRoZSBncmFwaCBpcyBjbG9zZWQgb3IgcmVzdGFydGVkLCB3ZSB1c2UgdGhpcyB0byBnaXZlIHRoZSBoZWxwZXJzIGFcbiAqIGNoYW5jZSB0byBjbGVhbnVwLiBGb3IgaW5zdGFuY2UsIE9wZW5HbCB0ZXh0dXJlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIGNhblxuICogYmUgZGVsZXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJlYW1IZWxwZXIge1xuICBkaXNwb3NlKCk6IHZvaWQ7XG59XG5cbmNvbnN0IFZTX1JFTkRFUiA9IGBcbiAgYXR0cmlidXRlIHZlYzIgYVZlcnRleDtcbiAgYXR0cmlidXRlIHZlYzIgYVRleDtcbiAgdmFyeWluZyB2ZWMyIHZUZXg7XG4gIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFWZXJ0ZXgsIDAuMCwgMS4wKTtcbiAgICB2VGV4ID0gYVRleDtcbiAgfWA7XG5cbmNvbnN0IEZTX1JFTkRFUiA9IGBcbiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICB2YXJ5aW5nIHZlYzIgdlRleDtcbiAgdW5pZm9ybSBzYW1wbGVyMkQgc2FtcGxlcjA7XG4gIHZvaWQgbWFpbigpe1xuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRChzYW1wbGVyMCwgdlRleCk7XG4gIH1gO1xuXG5pbnRlcmZhY2UgUmVuZGVyVmFyaWFibGVMb2NhdGlvbnMge1xuICBhVmVydGV4OiBHTGludDtcbiAgYVRleDogR0xpbnQ7XG4gIHNhbXBsZXIwOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgR3B1QnVmZmVyIGNvbWluZyBmcm9tIE1lZGlhUGlwZS4gV2UgYXR0YWNoIGhlbHBlciBtZXRob2RzXG4gKiB0byBkZWFsIHdpdGggdGhlIGludGVybmFsIEdMIGRldGFpbHMuXG4gKi9cbmV4cG9ydCB0eXBlIEdwdUJ1ZmZlciA9IEhUTUxDYW52YXNFbGVtZW50O1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiBpbnB1dHMgdGhhdCBjYW4gYmUgZW5jb2RlZC5cbiAqL1xuZXhwb3J0IHR5cGUgSW5wdXRFbGVtZW50ID0gSFRNTFZpZGVvRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50O1xuXG4vKipcbiAqIERlYWxzIHdpdGggdGhlIHRyb3VibGUgb2YgbW92aW5nIGltYWdlIGluZm9ybWF0aW9uIGludG8gTWVkaWFQaXBlIGJhY2sgb3V0XG4gKiBhZ2Fpbi4gQXQgb3VyIGxvd2VzdCBsZXZlbCwgd2UgdXNlIGEgQ2FudmFzIGVsZW1lbnQgdG8gcHJvdmlkZSBhIGNvbnRleHQgaW5cbiAqIHdoaWNoIHRvIGRvIEdQVSBwcm9jZXNzaW5nLCBidXQgYmVjYXVzZSBicm93c2VycyBkbyBub3Qgc2hhcmUgY29udGV4dHNcbiAqIGJldHdlZW4gZWxlbWVudHMsIHRoZXJlJ3Mgbm8gZWFzeSB3YXkgdG8gbW92ZSB0ZXh0dXJlIGRhdGEgYXJvdW5kLiBTbyB3ZSdsbFxuICogZG8gdGhhdCBoZXJlLiBXZSdsbCBwcm92aWRlIHdheXMgZm9yIHRoZSB1c2VyIHRvIHN1cHBseSBIVE1MIGVsZW1lbnRzIHRoYXRcbiAqIHdlJ2xsIGZlZWQgaW50byBNZWRpYVBpcGUgKHNlZSBgZW5jb2RlYCkgYW5kIHdlJ2xsIHByb3ZpZGUgd2F5cyB0byByZW5kZXJcbiAqIG91dHB1dCBzdHJlYW1zIGZyb20gTWVkaWFQaXBlIChzZWUgYHJlbmRlclRvYCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbWFnZVN0cmVhbUhlbHBlciBpbXBsZW1lbnRzIFN0cmVhbUhlbHBlciB7XG4gIC8vIFRoaXMgaXMgdXNlZCBmb3IgYm90aCBpbnB1dF9zdHJlYW1zIGFuZCBvdXRwdXRfc3RyZWFtcyBpbiBhIGdyYXBoLiBUaGVcbiAgLy8gYmFjayBlbmQgZWl0aGVyIG5lZWRzIGl0IHRvIHdyYXAgYW4gZXh0ZXJuYWwgdGV4dHVyZSwgb3IgcHJvdmlkZXMgaXQgd2hlblxuICAvLyBzdXBwbHlpbmcgdXMgd2l0aCBhIHRleHR1cmUgKGFzIHBhcnQgb2YgYW4gb3V0cHV0IHN0cmVhbSkuXG4gIHByaXZhdGUgdGV4dHVyZUlkID0gMDtcblxuICAvLyBXZWJHTCBwcm9ncmFtcyBhcmUgb25seSB1c2VkIGZvciByZW5kZXJpbmcsIHNvIG9ubHkgZm9yIG91dHB1dCB0ZXh0dXJlcy5cbiAgcHJpdmF0ZSByZW5kZXJQcm9ncmFtPzogV2ViR0xQcm9ncmFtO1xuICBwcml2YXRlIHZlcnRleEJ1ZmZlcj86IFdlYkdMQnVmZmVyO1xuICBwcml2YXRlIHRleHR1cmVCdWZmZXI/OiBXZWJHTEJ1ZmZlcjtcbiAgcHJpdmF0ZSBsb2NhdGlvbnM/OiBSZW5kZXJWYXJpYWJsZUxvY2F0aW9ucztcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIHByaXZhdGUgcmVhZG9ubHkgd2FzbTogc29sdXRpb25zV2FzbS5NZWRpYXBpcGVXYXNtLFxuICAgICAgcHJpdmF0ZSByZWFkb25seSBnbDogV2ViR0wyUmVuZGVyaW5nQ29udGV4dCkge31cblxuICAvKipcbiAgICogQ2FwdHVyZXMgYSBmcmFtZSBmcm9tIGEgdmlkZW8gZWxlbWVudCB0byBzZW5kIGFzIGEgdGV4dHVyZSB0byB0aGUgZ3JhcGguXG4gICAqIFRPRE8obWhheXMpOyBJbiB0aGUgZnV0dXJlIHRoaXMgd2lsbCBhbHNvIG90aGVyIGVsZW1lbnRzIHRoYXQgc3VwcGx5XG4gICAqIHRleHR1cmUgKGluY2x1ZGluZyBIVE1MSW1hZ2VFbGVtZW50IGFuZCBIVE1MQ2FudmFzRWxlbWVudCkuXG4gICAqL1xuICBlbmNvZGUoaW5wdXQ6IElucHV0RWxlbWVudCk6IG9iamVjdCB7XG4gICAgaWYgKHRoaXMudGV4dHVyZUlkID09PSAwKSB7XG4gICAgICB0aGlzLnRleHR1cmVJZCA9IHRoaXMud2FzbS5jcmVhdGVUZXh0dXJlKCk7XG4gICAgfVxuXG4gICAgbGV0IHdpZHRoID0gMDtcbiAgICBsZXQgaGVpZ2h0ID0gMDtcblxuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpIHtcbiAgICAgIHdpZHRoID0gaW5wdXQudmlkZW9XaWR0aDtcbiAgICAgIGhlaWdodCA9IGlucHV0LnZpZGVvSGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoaW5wdXQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICB3aWR0aCA9IGlucHV0Lm5hdHVyYWxXaWR0aDtcbiAgICAgIGhlaWdodCA9IGlucHV0Lm5hdHVyYWxIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gaW5wdXQud2lkdGg7XG4gICAgICBoZWlnaHQgPSBpbnB1dC5oZWlnaHQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtnbE5hbWU6IHRoaXMudGV4dHVyZUlkLCB3aWR0aCwgaGVpZ2h0fTtcblxuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICBnbC5jYW52YXMud2lkdGggPSByZXN1bHQud2lkdGg7XG4gICAgZ2wuY2FudmFzLmhlaWdodCA9IHJlc3VsdC5oZWlnaHQ7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gICAgdGhpcy53YXNtLmJpbmRUZXh0dXJlMmQodGhpcy50ZXh0dXJlSWQpO1xuICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgaW5wdXQpO1xuICAgIHRoaXMud2FzbS5iaW5kVGV4dHVyZTJkKDApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBkZWNvZGUoZGF0YTogc29sdXRpb25zV2FzbS5UZXh0dXJlMmREYXRhKTogR3B1QnVmZmVyIHtcbiAgICB0aGlzLnJlbmRlcihkYXRhKTtcbiAgICByZXR1cm4gdGhpcy5nbC5jYW52YXMgYXMgR3B1QnVmZmVyO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoZGF0YTogc29sdXRpb25zV2FzbS5UZXh0dXJlMmREYXRhKTogdm9pZCB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuXG4gICAgaWYgKHRoaXMucmVuZGVyUHJvZ3JhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBwcm9ncmFtID0gdGhpcy5yZW5kZXJQcm9ncmFtID1cbiAgICAgICAgICBzaGFkZXJVdGlscy5jcmVhdGVQcm9ncmFtRnJvbVNvdXJjZXMoZ2wsIFZTX1JFTkRFUiwgRlNfUkVOREVSKTtcbiAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG5cbiAgICAgIGNvbnN0IGFWZXJ0ZXggPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAnYVZlcnRleCcpO1xuICAgICAgY29uc3QgYVRleCA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhVGV4Jyk7XG4gICAgICBjb25zdCBzYW1wbGVyMCA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAnc2FtcGxlcjAnKSE7XG4gICAgICB0aGlzLmxvY2F0aW9ucyA9IHthVmVydGV4LCBhVGV4LCBzYW1wbGVyMH07XG5cbiAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xuICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4QnVmZmVyKTtcbiAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMubG9jYXRpb25zLmFWZXJ0ZXgpO1xuICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmxvY2F0aW9ucy5hVmVydGV4LCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgICBnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgLTEsIDEsIDEsIDEsIDEsIC0xXSksXG4gICAgICAgICAgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuXG4gICAgICB0aGlzLnRleHR1cmVCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKSE7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy50ZXh0dXJlQnVmZmVyKTtcbiAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMubG9jYXRpb25zLmFUZXgpO1xuICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmxvY2F0aW9ucy5hVGV4LCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgICBnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWzAsIDEsIDAsIDAsIDEsIDAsIDEsIDFdKSxcbiAgICAgICAgICBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgICBnbC51bmlmb3JtMWkoc2FtcGxlcjAsIDApO1xuICAgIH1cblxuICAgIGNvbnN0IGxvY2F0aW9ucyA9IHRoaXMubG9jYXRpb25zITtcbiAgICBjb25zdCBwcm9ncmFtID0gdGhpcy5yZW5kZXJQcm9ncmFtO1xuXG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC5jYW52YXMud2lkdGggPSBkYXRhLndpZHRoO1xuICAgIGdsLmNhbnZhcy5oZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICBnbC52aWV3cG9ydCgwLCAwLCBkYXRhLndpZHRoLCBkYXRhLmhlaWdodCk7XG5cbiAgICAvLyBUaGUgdGV4dHVyZSB3aWxsIGFscmVhZHkgYmUgZmlsbGVkIHdoZW4gd2UgYXJlIHJlbmRlcmluZy4gIFdlIGp1c3QgbmVlZFxuICAgIC8vIHRvIGhhbmQgaXQgb3ZlciB0byB0aGUgcHJvZ3JhbSBvbiBzYW1wbGVyMC5cbiAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICB0aGlzLndhc20uYmluZFRleHR1cmUyZChkYXRhLmdsTmFtZSk7XG5cbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2NhdGlvbnMuYVZlcnRleCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4QnVmZmVyISk7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbnMuYVZlcnRleCwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9ucy5hVGV4KTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy50ZXh0dXJlQnVmZmVyISk7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbnMuYVRleCwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgIC8vIE1ha2Ugc3VyZSB3ZSdyZSBkcmF3aW5nIHRvIHRoZSBjYW52YXMgYW5kIG5vdCB0byBhIHRleHR1cmUuXG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkRSQVdfRlJBTUVCVUZGRVIsIG51bGwpO1xuXG4gICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9GQU4sIDAsIDQpO1xuXG4gICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9ucy5hVmVydGV4KTtcbiAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb25zLmFUZXgpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcblxuICAgIHRoaXMud2FzbS5iaW5kVGV4dHVyZTJkKDApO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIG9mIHRoZSB0ZXh0dXJlIHdlIGNyZWF0ZWQuIFNpbmNlIHdlIG1hZGUgdGhlIHRleHR1cmUgb24gdGhlIEMrK1xuICAgKiBsYXllciwgd2UgbmVlZCB0byBkZWxldGUgaXQgdGhlcmUgYXMgd2VsbC5cbiAgICovXG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGV4dHVyZUlkICE9PSAwKSB7XG4gICAgICB0aGlzLndhc20uZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmVJZCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlbmRlclByb2dyYW0pIHtcbiAgICAgIHRoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnJlbmRlclByb2dyYW0pO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0dXJlQnVmZmVyKSB7XG4gICAgICB0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLnRleHR1cmVCdWZmZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy52ZXJ0ZXhCdWZmZXIpIHtcbiAgICAgIHRoaXMuZ2wuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4QnVmZmVyKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTdHJlYW1zIHNvbWV0aW1lcyBzYXZlIGluZm9ybWF0aW9uIGFzaWRlLiBGb3IgaW5zdGFuY2UsIDJkIHRleHR1cmVzIHdpbGwgc2F2ZVxuICogYSB0ZXh0dXJlIGlkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbUhlbHBlck1hcCB7XG4gIFtrZXk6IHN0cmluZ106IFN0cmVhbUhlbHBlcjtcbn1cbiJdfQ==
+;return exports;});
+
+//third_party/mediapipe/web/solutions/solutions_api.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ * @fileoverview added by tsickle
+ * Generated from: third_party/mediapipe/web/solutions/solutions_api.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.solutions_api');
+var module = module || { id: 'third_party/mediapipe/web/solutions/solutions_api.closure.js' };
+const tslib_1 = goog.require('google3.third_party.javascript.tslib.tslib');
+const tsickle_solutions_wasm_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.solutions_wasm");
+const tsickle_stream_helpers_2 = goog.requireType("google3.third_party.mediapipe.web.solutions.stream_helpers");
+const streamHelpers = goog.require('google3.third_party.mediapipe.web.solutions.stream_helpers');
+/**
+ * Represents pairs of (start,end) indexes so that we can connect landmarks
+ * with lines to provide a skeleton when we draw the points. These are defined
+ * within each specific solution, but a common definition is held here for
+ * convenience.
+ * @typedef {!Array<!Array<?>>}
+ */
+exports.LandmarkConnectionArray;
+/**
+ * Represents a normalized rectangle that can be passed to a StreamListener.
+ * @typedef {!tsickle_solutions_wasm_1.NormalizedRect}
+ */
+exports.NormalizedRect;
+/**
+ * Represents a list of normalized rectangles.
+ * @typedef {!Array<!tsickle_solutions_wasm_1.NormalizedRect>}
+ */
+exports.NormalizedRectList;
+/**
+ * Represents a detection.
+ * @record
+ */
+function Detection() { }
+exports.Detection = Detection;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The bounding box around the detection.
+     * @type {!tsickle_solutions_wasm_1.NormalizedRect}
+     */
+    Detection.prototype.boundingBox;
+    /**
+     * The associated landmarks.
+     *
+     * May be empty. This is typically filled for e.g. face, hands or pose
+     * detection use cases.
+     * @type {!Array<!NormalizedLandmark>}
+     */
+    Detection.prototype.landmarks;
+    /**
+     * The associated classifications.
+     *
+     * May be empty. This is typically filled for e.g. object detection use cases.
+     * @type {!Array<!Classification>}
+     */
+    Detection.prototype.classifications;
+}
+/**
+ * Represents a list of detections.
+ * @typedef {!Array<!Detection>}
+ */
+exports.DetectionList;
+/**
+ * Represents a detected landmark.
+ * @record
+ */
+function NormalizedLandmark() { }
+exports.NormalizedLandmark = NormalizedLandmark;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    NormalizedLandmark.prototype.x;
+    /** @type {number} */
+    NormalizedLandmark.prototype.y;
+    /** @type {number} */
+    NormalizedLandmark.prototype.z;
+    /** @type {(undefined|number)} */
+    NormalizedLandmark.prototype.visibility;
+}
+/**
+ * Represents a list of landmarks.
+ * @typedef {!Array<!NormalizedLandmark>}
+ */
+exports.NormalizedLandmarkList;
+/**
+ * Represents a list of lists of landmarks.
+ * @typedef {!Array<!Array<!NormalizedLandmark>>}
+ */
+exports.NormalizedLandmarkListList;
+/**
+ * A class label with score.
+ * @record
+ */
+function Classification() { }
+exports.Classification = Classification;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The index of the class in the corresponding label map.
+     * @type {number}
+     */
+    Classification.prototype.index;
+    /**
+     * The probability score for this class.
+     * @type {number}
+     */
+    Classification.prototype.score;
+    /**
+     * Label or name of the class.
+     * @type {(undefined|string)}
+     */
+    Classification.prototype.label;
+    /**
+     * Display name of the class, for visualization purposes.
+     * @type {(undefined|string)}
+     */
+    Classification.prototype.displayName;
+}
+/**
+ * A list of classifications.
+ * @typedef {!Array<!Classification>}
+ */
+exports.ClassificationList;
+/**
+ * Multiple lists of classifications.
+ * @typedef {!Array<!Array<!Classification>>}
+ */
+exports.ClassificationListList;
+/**
+ * Represents a single normalized landmark, with depth.
+ * @record
+ */
+function Point2D() { }
+exports.Point2D = Point2D;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    Point2D.prototype.x;
+    /** @type {number} */
+    Point2D.prototype.y;
+    /** @type {number} */
+    Point2D.prototype.depth;
+}
+/**
+ * Represents a point in 3D space.
+ * @record
+ */
+function Point3D() { }
+exports.Point3D = Point3D;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    Point3D.prototype.x;
+    /** @type {number} */
+    Point3D.prototype.y;
+    /** @type {number} */
+    Point3D.prototype.z;
+}
+/**
+ * Represents a particular keypoint from an object detection. The id denotes
+ * which keypoint this is (consistent over time), and then two representations
+ * are included for this point, a 2D normalized version, and a 3D version.
+ * @record
+ */
+function Keypoint() { }
+exports.Keypoint = Keypoint;
+/* istanbul ignore if */
+if (false) {
+    /** @type {number} */
+    Keypoint.prototype.id;
+    /** @type {!Point3D} */
+    Keypoint.prototype.point3d;
+    /** @type {!Point2D} */
+    Keypoint.prototype.point2d;
+}
+/**
+ * List of keypoints.
+ * @typedef {!Array<!Keypoint>}
+ */
+exports.KeypointList;
+/**
+ * The relevant information about a particular object detection.
+ * @record
+ */
+function ObjectDetection() { }
+exports.ObjectDetection = ObjectDetection;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The unique object instance identifier.
+     * @type {number}
+     */
+    ObjectDetection.prototype.id;
+    /**
+     * The list of keypoints for this detection (8 for a 3D bounding box).
+     * @type {!Array<!Keypoint>}
+     */
+    ObjectDetection.prototype.keypoints;
+    /**
+     * The visibility of this object detection in a frame.
+     * @type {number}
+     */
+    ObjectDetection.prototype.visibility;
+}
+/**
+ * List of object detections.
+ * @typedef {!Array<!ObjectDetection>}
+ */
+exports.ObjectDetectionList;
+/**
+ * Represents an image produced by the graph.
+ * @typedef {!HTMLCanvasElement}
+ */
+exports.GpuBuffer;
+/**
+ * Represents a single result of a multi result listener. The shape is
+ * transformed into a shape that the end user can consume.
+ * @record
+ */
+function ResultMap() { }
+exports.ResultMap = ResultMap;
+/**
+ * Represents a single result of a multi result listener. The shape is the
+ * wasm class from which we can pull out different kinds of data.
+ * @record
+ */
+function WasmResultMap() { }
+exports.WasmResultMap = WasmResultMap;
+/**
+ * This represents the callbacks from the graph's stream listeners. If the
+ * listener needs to do asynchronous work, return a Promise to allow the
+ * solution to wait.
+ * @typedef {function(!ResultMap): (void|!Promise<void>)}
+ */
+exports.ResultMapListener;
+/**
+ * Option descriptions that describe where to change an option in a graph.
+ * @typedef {!tsickle_solutions_wasm_1.GraphOptionXRef}
+ */
+exports.GraphOptionXRef;
+/**
+ * If your files are organized in some weird structure, you can customize how
+ * the path is constructed by sending this to the config options for Solution.
+ * @typedef {function(string, string): string}
+ */
+exports.FileLocatorFn;
+/**
+ * Users of the solution set options using a key-value map. However, specific
+ * solutions will constrain the options with an exported interface.
+ *
+ * e.g.
+ *
+ * generalSolution.setOptions({"myKey": myValue}) becomes
+ * specificSolution.setOptions({ myKey: myValue }}
+ *
+ * declare interface SpecificSolutionOptionList {
+ *   myKey: number
+ * };
+ *
+ * This works because `Object`s in JavaScript are just hashmaps, and we fit
+ * meaning on top of those hashmaps with our type declarations.
+ * @record
+ */
+function OptionList() { }
+exports.OptionList = OptionList;
+/**
+ * Used in the constructor of Graph.
+ * @record
+ */
+function Graph() { }
+exports.Graph = Graph;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    Graph.prototype.url;
+}
+/**
+ * Describes how to turn user input (See InputMap) into data the graph can
+ * consume.
+ * @record
+ */
+function InputConfig() { }
+exports.InputConfig = InputConfig;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * Provides direction on how to interpret the `value` of the InputMap.
+     * @type {string}
+     */
+    InputConfig.prototype.type;
+    /**
+     * The name of the input stream of the graph that will receive the input.
+     * @type {string}
+     */
+    InputConfig.prototype.stream;
+}
+/**
+ * The full description of all the inputs that will be exposed to the user. The
+ * key is the name of the input a user will use.
+ * @record
+ */
+function InputConfigMap() { }
+exports.InputConfigMap = InputConfigMap;
+/**
+ * Describes the inputs that the user will send to the graph. `unknown` allows
+ * users to do all sorts of things, from using HTMLVideoElements to numbers to
+ * whatever else we need. See `prepareInput` to see how this unknown is turned
+ * into structural data that can be sent to the graph.
+ *
+ * The specific solution should supply a stronger interface that will be used
+ * instead of this generic keymap,  In this way, the solution designer can
+ * name very specific inputs and exactly what is expected in that InputMap.'
+ * @record
+ */
+function InputMap() { }
+exports.InputMap = InputMap;
+/**
+ * We support several ways to get image inputs.
+ * @typedef {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)}
+ */
+exports.InputImage;
+/** @enum {number} */
+const OptionType = {
+    NUMBER: 0,
+    BOOL: 1,
+};
+exports.OptionType = OptionType;
+OptionType[OptionType.NUMBER] = 'NUMBER';
+OptionType[OptionType.BOOL] = 'BOOL';
+/**
+ * Used to register keys with the solution. Right now it is limited to
+ * graphOptionXref, which is specifically for options that will be fed to the
+ * MediaPipe graph, but we'll also need options that are handled by the specific
+ * solution to do work (e.g., selfie-flipping).
+ * @record
+ */
+function OptionConfig() { }
+exports.OptionConfig = OptionConfig;
+/* istanbul ignore if */
+if (false) {
+    /** @type {!OptionType} */
+    OptionConfig.prototype.type;
+    /** @type {(undefined|!tsickle_solutions_wasm_1.GraphOptionXRef)} */
+    OptionConfig.prototype.graphOptionXref;
+}
+/**
+ * Optionally specified in the output to transform the output.
+ * @typedef {function(?): ?}
+ */
+exports.Transformer;
+/**
+ * Output configuration without a transform function.
+ * @record
+ */
+function OutputConfigBase() { }
+exports.OutputConfigBase = OutputConfigBase;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigBase.prototype.stream;
+    /** @type {string} */
+    OutputConfigBase.prototype.type;
+    /** @type {(undefined|function(?): ?)} */
+    OutputConfigBase.prototype.transform;
+}
+/**
+ * Output config with type safety for a list of landmarks.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigLandmarkList() { }
+exports.OutputConfigLandmarkList = OutputConfigLandmarkList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigLandmarkList.prototype.type;
+    /** @type {(undefined|function(!Array<!NormalizedLandmark>): T)} */
+    OutputConfigLandmarkList.prototype.transform;
+}
+/**
+ * Output config with type safety for a list of landmark lists.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigLandmarkListList() { }
+exports.OutputConfigLandmarkListList = OutputConfigLandmarkListList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigLandmarkListList.prototype.type;
+    /** @type {(undefined|function(!Array<!Array<!NormalizedLandmark>>): T)} */
+    OutputConfigLandmarkListList.prototype.transform;
+}
+/**
+ * Output config with type safety for a list of classification lists.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigClassificationListList() { }
+exports.OutputConfigClassificationListList = OutputConfigClassificationListList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigClassificationListList.prototype.type;
+    /** @type {(undefined|function(!Array<!Array<!Classification>>): T)} */
+    OutputConfigClassificationListList.prototype.transform;
+}
+/**
+ * Output config with type safety for an object detection.
+ * @record
+ * @template T
+ * @extends {OutputConfigBase}
+ */
+function OutputConfigObjectDetectionList() { }
+exports.OutputConfigObjectDetectionList = OutputConfigObjectDetectionList;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    OutputConfigObjectDetectionList.prototype.type;
+    /** @type {(undefined|function(!Array<!ObjectDetection>): T)} */
+    OutputConfigObjectDetectionList.prototype.transform;
+}
+/**
+ * When specifying outputs, cast to OutputConfig<T> to get type safety between
+ * the `type` and the `transform`.
+ * @typedef {(!OutputConfigLandmarkList<?>|!OutputConfigLandmarkListList<?>|!OutputConfigClassificationListList<?>|!OutputConfigObjectDetectionList<?>)}
+ */
+exports.OutputConfig;
+/**
+ * Translation map to expose underlying streams to the user. A solution
+ * designer should declare a type to constrain the shape of the outputs.
+ * @record
+ */
+function OutputConfigMap() { }
+exports.OutputConfigMap = OutputConfigMap;
+/**
+ * The collection of option configuration entries, arranged by option name.
+ * @record
+ */
+function OptionConfigMap() { }
+exports.OptionConfigMap = OptionConfigMap;
+/**
+ * Binds the streams to a set of listeners that can be surfaced to the
+ * developer.
+ * @record
+ */
+function ListenerPort() { }
+exports.ListenerPort = ListenerPort;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * If there is only one registration, the name can be omitted. See onResults
+     * for more discussion.
+     * @type {(undefined|string)}
+     */
+    ListenerPort.prototype.name;
+    /**
+     * A list of streams in the graph that will be combined into a HashMap
+     * which will be assembled and delivered to listeners that the end user
+     * can listen to.
+     * @type {!Array<string>}
+     */
+    ListenerPort.prototype.wants;
+    /**
+     * Allows the results to be transformed into literally any kind of shape. It
+     * is up to the solution creator to expose this type information through
+     * an onResults specialization.
+     * @type {(undefined|!OutputConfigMap)}
+     */
+    ListenerPort.prototype.outs;
+    /**
+     * Allows transformation of `outs` before handing the results back to the
+     * listener. Allows final creative control of the shape of the output.
+     * @type {(undefined|function(!OutputConfigMap): !OutputConfigMap)}
+     */
+    ListenerPort.prototype.transform;
+}
+/**
+ * Describes a file that should be loaded by the solution. We can include flags
+ * for checks that should be done before loading a file. Currently, we allow
+ * a user to provide special files that are only provided if SIMD is
+ * specifically supported or not supported by the browser (do not include the
+ * simd flag if you do not care).
+ * @record
+ */
+function FileEntry() { }
+exports.FileEntry = FileEntry;
+/* istanbul ignore if */
+if (false) {
+    /** @type {(undefined|boolean)} */
+    FileEntry.prototype.simd;
+    /** @type {string} */
+    FileEntry.prototype.url;
+}
+/**
+ * Options to configure the solution.
+ * @record
+ */
+function SolutionConfig() { }
+exports.SolutionConfig = SolutionConfig;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * The pack loader and the wasm loader need to be here. A file loader will be
+     * provided to them, and They will get loaded asynchronously. We won't
+     * continue initialization until they've completely loaded and run.
+     * @type {!ReadonlyArray<!FileEntry>}
+     */
+    SolutionConfig.prototype.files;
+    /**
+     * The binary graph. Can support multiple ways of getting that graph.
+     * @type {!Graph}
+     */
+    SolutionConfig.prototype.graph;
+    /**
+     * Contains a mapping that allows us to turn the inputs a user sends as part
+     * of `send` into an input that the graph can consume.
+     * @type {!InputConfigMap}
+     */
+    SolutionConfig.prototype.inputs;
+    /**
+     * See FileLocatorFn. Any file loading done on the user's behalf will use
+     * locateFile if its profived. This includes WASM blobs and graph urls.
+     * @type {(undefined|function(string, string): string)}
+     */
+    SolutionConfig.prototype.locateFile;
+    /**
+     * Specifies how to interpret options fed to setOptions.
+     * @type {(undefined|!OptionConfigMap)}
+     */
+    SolutionConfig.prototype.options;
+    /**
+     * Attaches listeners to the graph. This is only for registering the ports.
+     * To actually register a callback, the developer will call onResults with
+     * the name of the port they want to tap into.
+     * @type {(undefined|!Array<!ListenerPort>)}
+     */
+    SolutionConfig.prototype.listeners;
+}
+/**
+ * Represents a graph that can be fed to mediapipe Solution.
+ * @record
+ */
+function GraphData() { }
+exports.GraphData = GraphData;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @return {!Promise<!ArrayBuffer>}
+     */
+    GraphData.prototype.toArrayBuffer = function () { };
+}
+// These export names come from wasm_cc_binary BUILD rules. They belong to two
+// different scripts that are loaded in parallel (see Promise.all, below).
+// Because they mutate their respective variables, there is a race condition
+// where they will stomp on each other if they choose the same name. Users
+// won't normally see this race condition because they put script tags in the
+// HTML, and HTML guarantees that the scripts will be run in order.
+/** @type {string} */
+const API_EXPORT_NAME = 'createMediapipeSolutionsWasm';
+/** @type {string} */
+const PACK_EXPORT_NAME = 'createMediapipeSolutionsPackedAssets';
+// Used internally to represent a port for which the user did not define a name.
+/** @type {string} */
+const DEFAULT_PORT_NAME = '$';
+/**
+ * Simplest WASM program to perform a SIMD operation. We'll try to instantiate
+ * it with WebAssembly.instantiate() and if it fails, we'll know there is no
+ * SIMD support.
+ *
+ * To generate the web assembly, I included the following script into a web page
+ * https://cdn.jsdelivr.net/gh/AssemblyScript/wabt.js/index.js
+ *
+ * And then followed it with a bit of script:
+ *
+ * ```
+ * async function run() {
+ * var wasm = `(module
+ *  (func
+ *      i32.const 0
+ *      i8x16.splat
+ *      drop
+ *    )
+ *  )`;
+ *  const wabt = await WabtModule();
+ *  const wat = wabt.parseWat("test", wasm, {simd: true});
+ *  const bin = wat.toBinary({}).buffer;
+ *
+ *  // The following line prints the array that we cut and paste into our source
+ *  // code.
+ *  console.log(bin.join(','));
+ *
+ *  const arr = new Uint8Array(bin);
+ *  const wa = await WebAssembly.instantiate(arr);
+ * }
+ * run();
+ * ```
+ * @type {!Uint8Array}
+ */
+const WASM_SIMD_CHECK = new Uint8Array([
+    0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3,
+    2, 1, 0, 10, 9, 1, 7, 0, 65, 0, 253, 15, 26, 11
+]);
+/**
+ * Returns the default path to a resource if the user did not overload the
+ * locateFile parameter in SolutionConfig.
+ * @param {string} file
+ * @param {string} prefix
+ * @return {string}
+ */
+function defaultLocateFile(file, prefix) {
+    return prefix + file;
+}
+/**
+ * Sets an arbitrary value on `window`. This helper function gets around a lot
+ * of the cumbersome boilerplate required to set and retrieve arbitrary data
+ * from the `window` object.
+ * @template T
+ * @param {string} key
+ * @param {T} value
+ * @return {void}
+ */
+function setWindow(key, value) {
+    ((/** @type {!Object<string,T>} */ ((/** @type {*} */ (window)))))[key] = value;
+}
+/**
+ * Gets an arbitrary value from `window`. See `setWindow`.
+ * @param {string} key
+ * @return {*}
+ */
+function getWindow(key) {
+    return ((/** @type {!Object<string,*>} */ ((/** @type {*} */ (window)))))[key];
+}
+/**
+ * Dynamically loads a ascript into the current page and returns a `Promise`
+ * that resolves when its loading is complete.
+ * @param {string} url
+ * @return {!Promise<void>}
+ */
+function loadScript(url) {
+    /** @type {!HTMLScriptElement} */
+    const script = document.createElement('script');
+    script.setAttribute('src', url);
+    script.setAttribute('crossorigin', 'anonymous');
+    document.body.appendChild(script);
+    return new Promise((/**
+     * @param {function((void|!PromiseLike<void>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        script.addEventListener('load', (/**
+         * @return {void}
+         */
+        () => {
+            resolve();
+        }), false);
+    }));
+}
+/**
+ * @return {string}
+ */
+function getPackagePath() {
+    if (typeof window === 'object') {
+        return window.location.pathname.toString().substring(0, window.location.pathname.toString().lastIndexOf('/')) +
+            '/';
+    }
+    else if (typeof location !== 'undefined') {
+        // worker
+        return location.pathname.toString().substring(0, location.pathname.toString().lastIndexOf('/')) +
+            '/';
+    }
+    else {
+        throw new Error('solutions can only be loaded on a web page or in a web worker');
+    }
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>} landmarks
+ * @return {!Array<!NormalizedLandmark>}
+ */
+function decodeLandmarks(landmarks) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = landmarks.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.NormalizedLandmark} */
+        const landmark = landmarks.get(index);
+        output.push({
+            x: landmark.x,
+            y: landmark.y,
+            z: landmark.z,
+            visibility: landmark.hasVisibility ? landmark.visibility : undefined
+        });
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>} rects
+ * @return {!Array<!tsickle_solutions_wasm_1.NormalizedRect>}
+ */
+function decodeRectList(rects) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = rects.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.NormalizedRect} */
+        const rect = rects.get(index);
+        output.push(rect);
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ResultWasm} results
+ * @return {!Array<!Detection>}
+ */
+function decodeDetectionList(results) {
+    /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>} */
+    const rectList = (/** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>} */ (results.getRectList()));
+    /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>} */
+    const landmarksList = (/** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>} */ (results.getLandmarksList()));
+    /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>} */
+    const classificationsList = (/** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>} */ (results.getClassificationsList()));
+    /** @type {!Array<?>} */
+    const output = [];
+    if (rectList) {
+        for (let index = 0; index < rectList.size(); ++index) {
+            /** @type {{boundingBox: !tsickle_solutions_wasm_1.NormalizedRect, landmarks: !Array<!NormalizedLandmark>, classifications: !Array<!Classification>}} */
+            const result = {
+                boundingBox: rectList.get(index),
+                landmarks: decodeLandmarks(landmarksList.get(index)),
+                classifications: decodeClassifications(classificationsList.get(index)),
+            };
+            output.push(result);
+        }
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>} landmarks
+ * @return {!Array<!Array<!NormalizedLandmark>>}
+ */
+function decodeLandmarksList(landmarks) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = landmarks.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>} */
+        const landmark = landmarks.get(index);
+        output.push(decodeLandmarks(landmark));
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>} classifications
+ * @return {!Array<!Classification>}
+ */
+function decodeClassifications(classifications) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = classifications.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.Classification} */
+        const classification = classifications.get(index);
+        output.push({
+            index: classification.index,
+            score: classification.score,
+            label: classification.hasLabel ? classification.label : undefined,
+            displayName: classification.hasDisplayName ? classification.displayName :
+                undefined,
+        });
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>} classifications
+ * @return {!Array<!Array<!Classification>>}
+ */
+function decodeClassificationsList(classifications) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = classifications.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>} */
+        const classification = classifications.get(index);
+        output.push(decodeClassifications(classification));
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.Keypoint} keypoint
+ * @return {!Keypoint}
+ */
+function decodeKeypoint(keypoint) {
+    return {
+        id: keypoint.id,
+        point3d: {
+            x: keypoint.point3d.x,
+            y: keypoint.point3d.y,
+            z: keypoint.point3d.z,
+        },
+        point2d: {
+            x: keypoint.point2d.x,
+            y: keypoint.point2d.y,
+            depth: keypoint.point2d.depth,
+        }
+    };
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Keypoint>} keypoints
+ * @return {!Array<!Keypoint>}
+ */
+function decodeKeypointList(keypoints) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = keypoints.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.Keypoint} */
+        const keypoint = keypoints.get(index);
+        output.push(decodeKeypoint(keypoint));
+    }
+    return output;
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ObjectDetection} detection
+ * @return {!ObjectDetection}
+ */
+function decodeObjectDetection(detection) {
+    return {
+        id: detection.id,
+        keypoints: decodeKeypointList(detection.keypoints),
+        visibility: detection.visibility,
+    };
+}
+/**
+ * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ObjectDetection>} detections
+ * @return {!Array<!ObjectDetection>}
+ */
+function decodeObjectDetectionList(detections) {
+    /** @type {!Array<?>} */
+    const output = [];
+    /** @type {number} */
+    const resultCount = detections.size();
+    for (let index = 0; index < resultCount; ++index) {
+        /** @type {!tsickle_solutions_wasm_1.ObjectDetection} */
+        const detection = detections.get(index);
+        output.push(decodeObjectDetection(detection));
+    }
+    return output;
+}
+class GraphDataImpl {
+    /**
+     * @param {!Graph} graph
+     * @param {function(string, string): string} locateFile
+     * @param {string} packagePath
+     */
+    constructor(graph, locateFile, packagePath) {
+        this.graph = graph;
+        this.locateFile = locateFile;
+        this.packagePath = packagePath;
+    }
+    /**
+     * @return {!Promise<!ArrayBuffer>}
+     */
+    toArrayBuffer() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (this.graph.url) {
+                /** @type {!Response} */
+                const fetched = yield fetch(this.locateFile(this.graph.url, this.packagePath));
+                if (fetched.body) {
+                    return fetched.arrayBuffer();
+                }
+            }
+            return new ArrayBuffer(0);
+        });
+    }
+}
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {!Graph}
+     * @private
+     */
+    GraphDataImpl.prototype.graph;
+    /**
+     * @type {function(string, string): string}
+     * @private
+     */
+    GraphDataImpl.prototype.locateFile;
+    /**
+     * @type {string}
+     * @private
+     */
+    GraphDataImpl.prototype.packagePath;
+}
+/**
+ * Inputs to the graph. Currently only one input, a video frame, is
+ * permitted, but this should encompass any input data to a solution.
+ * @record
+ */
+function FrameInputs() { }
+exports.FrameInputs = FrameInputs;
+/* istanbul ignore if */
+if (false) {
+    /** @type {!HTMLVideoElement} */
+    FrameInputs.prototype.video;
+}
+/**
+ * The solution keeps all of the current listeners. The user can pass us a
+ * listener map and then change the elements at any time. They will be picked
+ * up on the next pass through `processFrame`.
+ * @record
+ */
+function ListenerMap() { }
+exports.ListenerMap = ListenerMap;
+/**
+ * @return {!Promise<boolean>}
+ * @this {*}
+ */
+function isSupportedSimd() {
+    return tslib_1.__awaiter(this, void 0, void 0, function* () {
+        try {
+            yield WebAssembly.instantiate(WASM_SIMD_CHECK);
+        }
+        catch (_a) {
+            return false;
+        }
+        return true;
+    });
+}
+/**
+ * MediaPipe Solution upon which all specific solutions will be built.
+ */
+class Solution {
+    /**
+     * @param {!SolutionConfig} config
+     */
+    constructor(config) {
+        this.config = config;
+        this.listeners = {};
+        this.inStreamHelpers = {};
+        this.outStreamHelpers = {};
+        this.needToInitializeWasm = true;
+        this.needToInitializeGraph = true;
+        this.runningPromise = Promise.resolve();
+        this.locateFile = (config && config.locateFile) || defaultLocateFile;
+        this.packagePath = getPackagePath();
+    }
+    /**
+     * @return {!Promise<void>}
+     */
+    close() {
+        if (this.solutionWasm) {
+            this.solutionWasm.delete();
+        }
+        return Promise.resolve();
+    }
+    /**
+     * Loads all of the dependent WASM files. This is heavy, so we make sure to
+     * only do this once.
+     * @private
+     * @return {!Promise<void>}
+     */
+    tryToInitializeWasm() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (!this.needToInitializeWasm) {
+                return;
+            }
+            // Set up the file loader for both external loaders.
+            setWindow(API_EXPORT_NAME, { locateFile: this.locateFile });
+            setWindow(PACK_EXPORT_NAME, { locateFile: this.locateFile });
+            /** @type {!ReadonlyArray<!FileEntry>} */
+            const files = (this.config.files) || [];
+            /** @type {boolean} */
+            const supportsSimd = yield isSupportedSimd();
+            yield Promise.all(files.map((/**
+             * @param {!FileEntry} x
+             * @return {!Promise<void>}
+             */
+            x => {
+                /** @type {boolean} */
+                const doLoad = (x.simd === undefined) || (x.simd && supportsSimd) ||
+                    (!x.simd && !supportsSimd);
+                if (doLoad) {
+                    return loadScript(this.locateFile(x.url, this.packagePath));
+                }
+                return Promise.resolve();
+            })));
+            // The variables we set earlier will not be mutated, each according to its
+            // related loader.
+            /** @type {function(!tsickle_solutions_wasm_1.PackLoader): !Promise<!tsickle_solutions_wasm_1.MediapipeWasm>} */
+            const apiFn = (/** @type {function(!tsickle_solutions_wasm_1.PackLoader): !Promise<!tsickle_solutions_wasm_1.MediapipeWasm>} */ (getWindow(API_EXPORT_NAME)));
+            /** @type {!tsickle_solutions_wasm_1.PackLoader} */
+            const packFn = (/** @type {!tsickle_solutions_wasm_1.PackLoader} */ (getWindow(PACK_EXPORT_NAME)));
+            // Now that everything is loaded and mutated, we can finally initialize
+            // the WASM loader with the pack loader. The WASM loader will wait until
+            // all of the files in the pack loader are complete before resolving its
+            // Promise.
+            this.wasm = yield apiFn(packFn);
+            // TODO(mhays): Developer should be able to explicitly load/unload a
+            // solution to prevent stealing all of the WebGL resources (e.g., Chrome
+            // may limit the number of WebGL contexts by domain).
+            // This is the single canvas that will be used for all texture transfer
+            // to and from the back end.
+            this.glCanvas = document.createElement('canvas');
+            this.wasm.canvas = this.glCanvas;
+            this.wasm.createContext(this.glCanvas, /* useWebGl= */ true, 
+            /* setInModule= */ true, {});
+            // The graph only needs to be loaded once into the solution, but the WASM
+            // might re-initialize the solution, and that will specifically happen
+            // during wasm.ProcessFrame.
+            this.solutionWasm = new this.wasm.SolutionWasm();
+            /** @type {!GraphDataImpl} */
+            const graphData = new GraphDataImpl(this.config.graph, this.locateFile, this.packagePath);
+            yield this.loadGraph(graphData);
+            // Listeners modify the graph config internally, so graph listeners are
+            // attached only once. Users are free to connect and disconnect callbacks
+            // to these listeners as needed.
+            if (this.config.listeners) {
+                for (const listener of this.config.listeners) {
+                    this.addListenerPort(listener);
+                }
+            }
+            this.needToInitializeWasm = false;
+        });
+    }
+    /**
+     * Sets the options for the graph, potentially triggering a reinitialize.
+     * The triggering is contingent upon the options matching those set up in
+     * the solution configuration. If a match is found, initialize is set to run
+     * on the next processFrame.
+     *
+     * We do not create a WASM object here, because it's possible (likely) that
+     * WASM has not loaded yet (i.e., the user calls setOptions before calling
+     * processFrame / initialize).  We'll do that during initialize when we know
+     * it's safe.
+     * @param {!OptionList} options
+     * @return {void}
+     */
+    setOptions(options) {
+        if (!this.config.options) {
+            return;
+        }
+        /** @type {!Array<!tsickle_solutions_wasm_1.GraphOptionChangeRequest>} */
+        const pendingChanges = [];
+        for (const option of Object.keys(options)) {
+            // Look each option in the option config.
+            /** @type {!OptionConfig} */
+            const optionConfig = this.config.options[option];
+            if (optionConfig) {
+                if (optionConfig.graphOptionXref) {
+                    /** @type {{valueNumber: number, valueBoolean: boolean}} */
+                    const optionValue = {
+                        valueNumber: optionConfig.type === OptionType.NUMBER ?
+                            (/** @type {number} */ (options[option])) :
+                            0.0,
+                        valueBoolean: optionConfig.type === OptionType.BOOL ?
+                            (/** @type {boolean} */ (options[option])) :
+                            false
+                    };
+                    /** @type {{calculatorName: string, calculatorIndex: number}} */
+                    const defaults = { calculatorName: '', calculatorIndex: 0 };
+                    // Combine the xref with the value. This is what the WASM will be
+                    // expecting.
+                    /** @type {*} */
+                    const request = Object.assign(Object.assign(Object.assign({}, defaults), optionConfig.graphOptionXref), optionValue);
+                    pendingChanges.push(request);
+                }
+            }
+        }
+        if (pendingChanges.length !== 0) {
+            this.needToInitializeGraph = true;
+            this.pendingChanges = pendingChanges;
+        }
+    }
+    /**
+     * Initializes the graph is it has not been loaded, or has been triggered to
+     * reload (setOptions was called while the graph was running).
+     * @private
+     * @return {!Promise<void>}
+     */
+    tryToInitializeGraph() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (!this.needToInitializeGraph) {
+                return;
+            }
+            // Move the video frame into the texture.
+            /** @type {(null|!WebGL2RenderingContext)} */
+            const gl = this.glCanvas.getContext('webgl2');
+            if (!gl) {
+                alert('Failed to create WebGL canvas context when passing video frame.');
+                return;
+            }
+            this.gl = gl;
+            // Changing options on the graph will mutate the graph config.
+            if (this.pendingChanges) {
+                /** @type {!tsickle_solutions_wasm_1.GraphOptionChangeRequestList} */
+                const changeList = new this.wasm.GraphOptionChangeRequestList();
+                for (const change of this.pendingChanges) {
+                    changeList.push_back(change);
+                }
+                this.solutionWasm.changeOptions(changeList);
+                changeList.delete();
+                this.pendingChanges = undefined;
+            }
+            this.needToInitializeGraph = false;
+        });
+    }
+    /**
+     * @return {!Promise<void>}
+     */
+    initialize() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            yield this.tryToInitializeWasm();
+            yield this.tryToInitializeGraph();
+        });
+    }
+    /**
+     * @private
+     * @param {!GraphData} graph
+     * @return {!Promise<void>}
+     */
+    loadGraph(graph) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            /** @type {!ArrayBuffer} */
+            const graphData = yield graph.toArrayBuffer();
+            this.solutionWasm.loadGraph(graphData);
+        });
+    }
+    /**
+     * Uses the 'type' field of the input config to turn the `unknown` input into
+     * something usable by the back end.  In general, we are using emscripten
+     * embind's value_object to effect the transfer, so the data must be simply
+     * marshalable.
+     * @private
+     * @param {!InputConfig} config
+     * @param {*} input
+     * @return {!Object}
+     */
+    prepareInput(config, input) {
+        switch (config.type) {
+            case 'video':
+                /** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */
+                let helper = (/** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */ (this.inStreamHelpers[config.stream]));
+                if (!helper) {
+                    helper = new streamHelpers.ImageStreamHelper(this.wasm, this.gl);
+                    this.inStreamHelpers[config.stream] = helper;
+                }
+                return helper.encode((/** @type {(!HTMLVideoElement|!HTMLCanvasElement|!HTMLImageElement)} */ (input)));
+            default:
+                return {};
+        }
+    }
+    /**
+     * Allows the user to send one or more inputs to the graph. The graph will
+     * run and potentially produce outputs for any attached listeners. The data
+     * that a javascript user supplies needs to be conditioned for use by
+     * mediapipe, and those details are hidden away (see `prepareInput`).
+     * @param {!InputMap} inputs
+     * @param {(undefined|number)=} at Timestamp in ms, if undefined, we'll use performance.now().
+     * @return {!Promise<void>}
+     */
+    send(inputs, at) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (!this.config.inputs) {
+                return;
+            }
+            /** @type {number} */
+            const timestamp = 1000 * (at || performance.now());
+            yield this.runningPromise;
+            yield this.initialize();
+            /** @type {!tsickle_solutions_wasm_1.PacketDataList} */
+            const dataValueList = new this.wasm.PacketDataList();
+            for (const key of Object.keys(inputs)) {
+                /** @type {!InputConfig} */
+                const inputConfig = this.config.inputs[key];
+                if (inputConfig) {
+                    // We only support texture2d at the moment, but once we support more,
+                    // this will be a switch statement so that we call the correct push
+                    // method.
+                    /** @type {!Object} */
+                    const input = this.prepareInput(inputConfig, inputs[key]);
+                    /** @type {string} */
+                    const stream = inputConfig.stream;
+                    dataValueList.pushTexture2d((/** @type {!tsickle_solutions_wasm_1.Texture2dData} */ (Object.assign(Object.assign({}, input), { stream, timestamp }))));
+                }
+            }
+            this.solutionWasm.send(dataValueList);
+            dataValueList.delete();
+        });
+    }
+    /**
+     * @private
+     * @param {!WasmResultMap} results
+     * @param {(undefined|!OutputConfigMap)=} configMap
+     * @return {!ResultMap}
+     */
+    transformOutputs(results, configMap) {
+        if (!configMap) {
+            return results;
+        }
+        /** @type {!ResultMap} */
+        const outputs = {};
+        for (const key of Object.keys(configMap)) {
+            /** @type {(string|!OutputConfigBase)} */
+            const config = configMap[key];
+            if (typeof config === 'string') {
+                outputs[key] = this.extractWasmResult(key, results[config]);
+            }
+            else {
+                /** @type {!tsickle_solutions_wasm_1.ResultWasm} */
+                const result = results[config.stream];
+                if (result === undefined) {
+                    continue;
+                }
+                if (config.type === 'detection_list') {
+                    outputs[key] = decodeDetectionList(result);
+                }
+                else if (config.type === 'landmarks') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>)} */
+                    const value = result.getLandmarks();
+                    outputs[key] = value ? decodeLandmarks(value) : undefined;
+                }
+                else if (config.type === 'landmarks_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedLandmark>>)} */
+                    const value = result.getLandmarksList();
+                    outputs[key] = value ? decodeLandmarksList(value) : undefined;
+                }
+                else if (config.type === 'rect_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.NormalizedRect>)} */
+                    const value = result.getRectList();
+                    outputs[key] = value ? decodeRectList(value) : undefined;
+                }
+                else if (config.type === 'classifications_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.Classification>>)} */
+                    const value = result.getClassificationsList();
+                    outputs[key] = value ? decodeClassificationsList(value) : undefined;
+                }
+                else if (config.type === 'object_detection_list') {
+                    /** @type {(undefined|!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ObjectDetection>)} */
+                    const value = result.getObjectDetectionList();
+                    outputs[key] = value ? decodeObjectDetectionList(value) : undefined;
+                }
+                else if (config.type === 'texture') {
+                    /** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */
+                    let helper = (/** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */ (this.outStreamHelpers[key]));
+                    if (!helper) {
+                        helper = new streamHelpers.ImageStreamHelper(this.wasm, this.gl);
+                        this.outStreamHelpers[key] = helper;
+                    }
+                    outputs[key] = helper.decode((/** @type {!tsickle_solutions_wasm_1.Texture2dData} */ (result.getTexture2d())));
+                }
+                else {
+                    throw new Error(`Unknown output config type: '${config.type}'`);
+                }
+                if (config.transform && outputs[key]) {
+                    outputs[key] = config.transform(outputs[key]);
+                }
+            }
+        }
+        return outputs;
+    }
+    /**
+     * Extracts the result from a collection of results. This tries to autodetect
+     * the type and does no transformation. Arrays will have the slightly more
+     * awkward emscripten accessors.
+     * \@TODO(mhays) Deprecate this method and always specify the type.
+     * @private
+     * @param {string} stream
+     * @param {!tsickle_solutions_wasm_1.ResultWasm} result
+     * @return {*}
+     */
+    extractWasmResult(stream, result) {
+        if (result.isNumber()) {
+            return result.getNumber();
+        }
+        if (result.isRect()) {
+            return result.getRect();
+        }
+        if (result.isLandmarks()) {
+            return result.getLandmarks();
+        }
+        if (result.isLandmarksList()) {
+            return result.getLandmarksList();
+        }
+        if (result.isClassificationsList()) {
+            return result.getClassificationsList();
+        }
+        if (result.isObjectDetectionList()) {
+            return result.getObjectDetectionList();
+        }
+        if (result.isTexture2d()) {
+            /** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */
+            let helper = (/** @type {!tsickle_stream_helpers_2.ImageStreamHelper} */ (this.outStreamHelpers[stream]));
+            if (!helper) {
+                helper = new streamHelpers.ImageStreamHelper(this.wasm, this.gl);
+                this.outStreamHelpers[stream] = helper;
+            }
+            return helper.decode((/** @type {!tsickle_solutions_wasm_1.Texture2dData} */ (result.getTexture2d())));
+        }
+        return undefined;
+    }
+    /**
+     * Attaches a listener that will be called when the graph produces
+     * compatible packets on the named stream.
+     * @private
+     * @param {!ListenerPort} port
+     * @return {void}
+     */
+    addListenerPort(port) {
+        /** @type {string} */
+        const portName = port.name || DEFAULT_PORT_NAME;
+        /** @type {!Array<string>} */
+        const wantsCopy = [...port.wants];
+        /** @type {!tsickle_solutions_wasm_1.SimpleVector<string>} */
+        const wantsVector = new this.wasm.StringList();
+        for (const want of port.wants) {
+            wantsVector.push_back(want);
+        }
+        /** @type {{onResults: function(!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ResultWasm>): !Promise<void>}} */
+        const wasmListener = {
+            onResults: (/**
+             * @param {!tsickle_solutions_wasm_1.ReadOnlySimpleVector<!tsickle_solutions_wasm_1.ResultWasm>} values
+             * @return {!Promise<void>}
+             */
+            (values) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+                /** @type {!WasmResultMap} */
+                const wasmResults = {};
+                for (let index = 0; index < port.wants.length; ++index) {
+                    wasmResults[wantsCopy[index]] = values.get(index);
+                }
+                /** @type {!ResultMap} */
+                const results = this.transformOutputs(wasmResults, port.outs);
+                /** @type {(undefined|function(!ResultMap): (void|!Promise<void>))} */
+                const listener = this.listeners[portName];
+                if (listener) {
+                    yield this.runningPromise;
+                    /** @type {(void|!Promise<void>)} */
+                    const result = listener(results);
+                    if (result) {
+                        this.runningPromise = result;
+                        return result;
+                    }
+                }
+            }))
+        };
+        /** @type {!tsickle_solutions_wasm_1.PacketListener} */
+        const packetListener = this.wasm.PacketListener.implement(wasmListener);
+        this.solutionWasm.attachMultiListener(wantsVector, packetListener);
+        wantsVector.delete();
+    }
+    /**
+     * Use this to connect up to one listener per port name. If port is undefined,
+     * which should be the case if there is only one, then the default port is
+     * used.
+     * @param {function(!ResultMap): (void|!Promise<void>)} listener
+     * @param {(undefined|string)=} port
+     * @return {void}
+     */
+    onResults(listener, port) {
+        port = port || DEFAULT_PORT_NAME;
+        this.listeners[port] = listener;
+    }
+}
+exports.Solution = Solution;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {string}
+     * @private
+     */
+    Solution.prototype.packagePath;
+    /**
+     * @type {function(string, string): string}
+     * @private
+     */
+    Solution.prototype.locateFile;
+    /**
+     * @type {!ListenerMap}
+     * @private
+     */
+    Solution.prototype.listeners;
+    /**
+     * @type {!tsickle_stream_helpers_2.StreamHelperMap}
+     * @private
+     */
+    Solution.prototype.inStreamHelpers;
+    /**
+     * @type {!tsickle_stream_helpers_2.StreamHelperMap}
+     * @private
+     */
+    Solution.prototype.outStreamHelpers;
+    /**
+     * @type {!HTMLCanvasElement}
+     * @private
+     */
+    Solution.prototype.glCanvas;
+    /**
+     * @type {!WebGL2RenderingContext}
+     * @private
+     */
+    Solution.prototype.gl;
+    /**
+     * @type {!tsickle_solutions_wasm_1.MediapipeWasm}
+     * @private
+     */
+    Solution.prototype.wasm;
+    /**
+     * @type {!tsickle_solutions_wasm_1.SolutionWasm}
+     * @private
+     */
+    Solution.prototype.solutionWasm;
+    /**
+     * @type {(undefined|!Array<!tsickle_solutions_wasm_1.GraphOptionChangeRequest>)}
+     * @private
+     */
+    Solution.prototype.pendingChanges;
+    /**
+     * @type {boolean}
+     * @private
+     */
+    Solution.prototype.needToInitializeWasm;
+    /**
+     * @type {boolean}
+     * @private
+     */
+    Solution.prototype.needToInitializeGraph;
+    /**
+     * @type {!Promise<void>}
+     * @private
+     */
+    Solution.prototype.runningPromise;
+    /**
+     * @type {!SolutionConfig}
+     * @private
+     */
+    Solution.prototype.config;
+}
+goog.exportSymbol('Solution', Solution);
+goog.exportSymbol('OptionType', OptionType);
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29sdXRpb25zX2FwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L21lZGlhcGlwZS93ZWIvc29sdXRpb25zL3NvbHV0aW9uc19hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNBLGlHQUFrRDs7Ozs7Ozs7QUFRbEQsZ0NBQThEOzs7OztBQUs5RCx1QkFBMEQ7Ozs7O0FBSzFELDJCQUFrRDs7Ozs7QUFLbEQsd0JBb0JDOzs7Ozs7OztJQWhCQyxnQ0FBNEI7Ozs7Ozs7O0lBUTVCLDhCQUFrQzs7Ozs7OztJQU9sQyxvQ0FBb0M7Ozs7OztBQU10QyxzQkFBd0M7Ozs7O0FBS3hDLGlDQUtDOzs7OztJQUpDLCtCQUFVOztJQUNWLCtCQUFVOztJQUNWLCtCQUFVOztJQUNWLHdDQUFvQjs7Ozs7O0FBTXRCLCtCQUEwRDs7Ozs7QUFLMUQsbUNBQWtFOzs7OztBQUtsRSw2QkFvQkM7Ozs7Ozs7O0lBaEJDLCtCQUFjOzs7OztJQUtkLCtCQUFjOzs7OztJQUtkLCtCQUFlOzs7OztJQUtmLHFDQUFxQjs7Ozs7O0FBTXZCLDJCQUFrRDs7Ozs7QUFLbEQsK0JBQTBEOzs7OztBQUsxRCxzQkFJQzs7Ozs7SUFIQyxvQkFBVTs7SUFDVixvQkFBVTs7SUFDVix3QkFBYzs7Ozs7O0FBTWhCLHNCQUlDOzs7OztJQUhDLG9CQUFVOztJQUNWLG9CQUFVOztJQUNWLG9CQUFVOzs7Ozs7OztBQVFaLHVCQUlDOzs7OztJQUhDLHNCQUFXOztJQUNYLDJCQUFpQjs7SUFDakIsMkJBQWlCOzs7Ozs7QUFNbkIscUJBQXNDOzs7OztBQUt0Qyw4QkFhQzs7Ozs7Ozs7SUFUQyw2QkFBVzs7Ozs7SUFJWCxvQ0FBd0I7Ozs7O0lBSXhCLHFDQUFtQjs7Ozs7O0FBTXJCLDRCQUFvRDs7Ozs7QUFLcEQsa0JBQWdEOzs7Ozs7QUFNaEQsd0JBRUM7Ozs7Ozs7QUFNRCw0QkFFQzs7Ozs7Ozs7QUFPRCwwQkFBdUU7Ozs7O0FBS3ZFLHdCQUE0RDs7Ozs7O0FBTTVELHNCQUFxRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JyRSx5QkFFQzs7Ozs7O0FBS0Qsb0JBRUM7Ozs7O0lBREMsb0JBQVk7Ozs7Ozs7QUFPZCwwQkFVQzs7Ozs7Ozs7SUFOQywyQkFBYTs7Ozs7SUFLYiw2QkFBZTs7Ozs7OztBQU9qQiw2QkFFQzs7Ozs7Ozs7Ozs7OztBQVlELHVCQUVDOzs7Ozs7QUFLRCxtQkFBNkU7O0FBTzdFLE1BQVksVUFBVTtJQUNwQixNQUFNLEdBQUE7SUFDTixJQUFJLEdBQUE7RUFDTDs7Ozs7Ozs7Ozs7QUFRRCwyQkFHQzs7Ozs7SUFGQyw0QkFBaUI7O0lBQ2pCLHVDQUFrQzs7Ozs7O0FBTXBDLG9CQUE0Qzs7Ozs7QUFLNUMsK0JBT0M7Ozs7O0lBTkMsa0NBQWU7O0lBQ2YsZ0NBQ3lEOztJQUd6RCxxQ0FBa0M7Ozs7Ozs7O0FBTXBDLHVDQUdDOzs7OztJQUZDLHdDQUFrQjs7SUFDbEIsNkNBQW1EOzs7Ozs7OztBQU1yRCwyQ0FHQzs7Ozs7SUFGQyw0Q0FBdUI7O0lBQ3ZCLGlEQUF1RDs7Ozs7Ozs7QUFNekQsaURBSUM7Ozs7O0lBRkMsa0RBQTZCOztJQUM3Qix1REFBbUQ7Ozs7Ozs7O0FBTXJELDhDQUdDOzs7OztJQUZDLCtDQUE4Qjs7SUFDOUIsb0RBQWdEOzs7Ozs7O0FBT2xELHFCQUV1Qzs7Ozs7O0FBTXZDLDhCQU1DOzs7Ozs7QUFLRCw4QkFFQzs7Ozs7OztBQU1ELDJCQTBCQzs7Ozs7Ozs7O0lBckJDLDRCQUFjOzs7Ozs7O0lBT2QsNkJBQWdCOzs7Ozs7O0lBT2hCLDRCQUF1Qjs7Ozs7O0lBTXZCLGlDQUF3RDs7Ozs7Ozs7OztBQVUxRCx3QkFHQzs7Ozs7SUFGQyx5QkFBZTs7SUFDZix3QkFBWTs7Ozs7O0FBTWQsNkJBb0NDOzs7Ozs7Ozs7O0lBOUJDLCtCQUFnQzs7Ozs7SUFLaEMsK0JBQWE7Ozs7OztJQU1iLGdDQUF1Qjs7Ozs7O0lBTXZCLG9DQUEyQjs7Ozs7SUFLM0IsaUNBQTBCOzs7Ozs7O0lBTzFCLG1DQUEyQjs7Ozs7O0FBTTdCLHdCQUVDOzs7Ozs7O0lBREMsb0RBQXNDOzs7Ozs7Ozs7TUFTbEMsZUFBZSxHQUFHLDhCQUE4Qjs7TUFDaEQsZ0JBQWdCLEdBQUcsc0NBQXNDOzs7TUFHekQsaUJBQWlCLEdBQUcsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUFtQ3ZCLGVBQWUsR0FBRyxJQUFJLFVBQVUsQ0FBQztJQUNyQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRyxDQUFDLEVBQUUsQ0FBQyxFQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUcsQ0FBQyxFQUFFLENBQUM7SUFDckQsQ0FBQyxFQUFFLENBQUMsRUFBRyxDQUFDLEVBQUksRUFBRSxFQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7Q0FDcEQsQ0FBQzs7Ozs7Ozs7QUFNRixTQUFTLGlCQUFpQixDQUFDLElBQVksRUFBRSxNQUFjO0lBQ3JELE9BQU8sTUFBTSxHQUFHLElBQUksQ0FBQztBQUN2QixDQUFDOzs7Ozs7Ozs7O0FBTUQsU0FBUyxTQUFTLENBQUksR0FBVyxFQUFFLEtBQVE7SUFDekMsQ0FBQyxtQ0FBQSxtQkFBQSxNQUFNLEVBQVcsRUFBc0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUN6RCxDQUFDOzs7Ozs7QUFLRCxTQUFTLFNBQVMsQ0FBQyxHQUFXO0lBQzVCLE9BQU8sQ0FBQyxtQ0FBQSxtQkFBQSxNQUFNLEVBQVcsRUFBNEIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlELENBQUM7Ozs7Ozs7QUFNRCxTQUFTLFVBQVUsQ0FBQyxHQUFXOztVQUN2QixNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDL0MsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDaEMsTUFBTSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDaEQsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEMsT0FBTyxJQUFJLE9BQU87Ozs7SUFBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQzdCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNOzs7UUFBRSxHQUFHLEVBQUU7WUFDbkMsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDLEdBQUUsS0FBSyxDQUFDLENBQUM7SUFDWixDQUFDLEVBQUMsQ0FBQztBQUNMLENBQUM7Ozs7QUFFRCxTQUFTLGNBQWM7SUFDckIsSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLEVBQUU7UUFDOUIsT0FBTyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxTQUFTLENBQ3pDLENBQUMsRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0QsR0FBRyxDQUFDO0tBQ1Q7U0FBTSxJQUFJLE9BQU8sUUFBUSxLQUFLLFdBQVcsRUFBRTtRQUMxQyxTQUFTO1FBQ1QsT0FBTyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FDbEMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hELEdBQUcsQ0FBQztLQUNUO1NBQU07UUFDTCxNQUFNLElBQUksS0FBSyxDQUNYLCtEQUErRCxDQUFDLENBQUM7S0FDdEU7QUFDSCxDQUFDOzs7OztBQUVELFNBQVMsZUFBZSxDQUFDLFNBQStDOztVQUVoRSxNQUFNLEdBQUcsRUFBRTs7VUFDWCxXQUFXLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRTtJQUNwQyxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFOztjQUMxQyxRQUFRLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNWLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNiLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNiLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNiLFVBQVUsRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTO1NBQ3JFLENBQUMsQ0FBQztLQUNKO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQzs7Ozs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxLQUF1Qzs7VUFFdkQsTUFBTSxHQUFHLEVBQUU7O1VBQ1gsV0FBVyxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUU7SUFDaEMsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRTs7Y0FDMUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQzdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDbkI7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDOzs7OztBQUVELFNBQVMsbUJBQW1CLENBQUMsT0FBaUM7O1VBQ3RELFFBQVEsR0FBRywwR0FBQSxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUM7O1VBQ2pDLGFBQWEsR0FBRyw4SkFBQSxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsRUFBQzs7VUFDM0MsbUJBQW1CLEdBQUcsMEpBQUEsT0FBTyxDQUFDLHNCQUFzQixFQUFFLEVBQUM7O1VBQ3ZELE1BQU0sR0FBRyxFQUFFO0lBQ2pCLElBQUksUUFBUSxFQUFFO1FBQ1osS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRTs7a0JBQzlDLE1BQU0sR0FBRztnQkFDYixXQUFXLEVBQUUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7Z0JBQ2hDLFNBQVMsRUFBRSxlQUFlLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDcEQsZUFBZSxFQUFFLHFCQUFxQixDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUN2RTtZQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDckI7S0FDRjtJQUNELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7Ozs7O0FBRUQsU0FBUyxtQkFBbUIsQ0FDeEIsU0FBbUQ7O1VBRS9DLE1BQU0sR0FBRyxFQUFFOztVQUNYLFdBQVcsR0FBRyxTQUFTLENBQUMsSUFBSSxFQUFFO0lBQ3BDLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxXQUFXLEVBQUUsRUFBRSxLQUFLLEVBQUU7O2NBQzFDLFFBQVEsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztRQUNyQyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0tBQ3hDO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQzs7Ozs7QUFFRCxTQUFTLHFCQUFxQixDQUMxQixlQUFpRDs7VUFDN0MsTUFBTSxHQUFHLEVBQUU7O1VBQ1gsV0FBVyxHQUFHLGVBQWUsQ0FBQyxJQUFJLEVBQUU7SUFDMUMsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRTs7Y0FDMUMsY0FBYyxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQ2pELE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDVixLQUFLLEVBQUUsY0FBYyxDQUFDLEtBQUs7WUFDM0IsS0FBSyxFQUFFLGNBQWMsQ0FBQyxLQUFLO1lBQzNCLEtBQUssRUFBRSxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTO1lBQ2pFLFdBQVcsRUFBRSxjQUFjLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzVCLFNBQVM7U0FDdkQsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDOzs7OztBQUVELFNBQVMseUJBQXlCLENBQzlCLGVBQXFEOztVQUVqRCxNQUFNLEdBQUcsRUFBRTs7VUFDWCxXQUFXLEdBQUcsZUFBZSxDQUFDLElBQUksRUFBRTtJQUMxQyxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFOztjQUMxQyxjQUFjLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDakQsTUFBTSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO0tBQ3BEO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQzs7Ozs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxRQUFnQztJQUN0RCxPQUFPO1FBQ0wsRUFBRSxFQUFFLFFBQVEsQ0FBQyxFQUFFO1FBQ2YsT0FBTyxFQUFFO1lBQ1AsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNyQixDQUFDLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JCLENBQUMsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDdEI7UUFDRCxPQUFPLEVBQUU7WUFDUCxDQUFDLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JCLENBQUMsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckIsS0FBSyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSztTQUM5QjtLQUNGLENBQUM7QUFDSixDQUFDOzs7OztBQUVELFNBQVMsa0JBQWtCLENBQ3ZCLFNBQXFDOztVQUNqQyxNQUFNLEdBQUcsRUFBRTs7VUFDWCxXQUFXLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRTtJQUNwQyxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFOztjQUMxQyxRQUFRLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztLQUN2QztJQUNELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7Ozs7O0FBRUQsU0FBUyxxQkFBcUIsQ0FDMUIsU0FBd0M7SUFDMUMsT0FBTztRQUNMLEVBQUUsRUFBRSxTQUFTLENBQUMsRUFBRTtRQUNoQixTQUFTLEVBQUUsa0JBQWtCLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztRQUNsRCxVQUFVLEVBQUUsU0FBUyxDQUFDLFVBQVU7S0FDakMsQ0FBQztBQUNKLENBQUM7Ozs7O0FBRUQsU0FBUyx5QkFBeUIsQ0FDOUIsVUFBNkM7O1VBQ3pDLE1BQU0sR0FBRyxFQUFFOztVQUNYLFdBQVcsR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFO0lBQ3JDLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxXQUFXLEVBQUUsRUFBRSxLQUFLLEVBQUU7O2NBQzFDLFNBQVMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztRQUN2QyxNQUFNLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7S0FDL0M7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBRUQsTUFBTSxhQUFhOzs7Ozs7SUFDakIsWUFDcUIsS0FBWSxFQUFtQixVQUF5QixFQUN4RCxXQUFtQjtRQURuQixVQUFLLEdBQUwsS0FBSyxDQUFPO1FBQW1CLGVBQVUsR0FBVixVQUFVLENBQWU7UUFDeEQsZ0JBQVcsR0FBWCxXQUFXLENBQVE7SUFBRyxDQUFDOzs7O0lBRXRDLGFBQWE7O1lBQ2pCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUU7O3NCQUNaLE9BQU8sR0FDVCxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDbEUsSUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFO29CQUNoQixPQUFPLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDOUI7YUFDRjtZQUNELE9BQU8sSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsQ0FBQztLQUFBO0NBQ0Y7Ozs7Ozs7SUFiSyw4QkFBNkI7Ozs7O0lBQUUsbUNBQTBDOzs7OztJQUN6RSxvQ0FBb0M7Ozs7Ozs7QUFrQjFDLDBCQUVDOzs7OztJQURDLDRCQUF3Qjs7Ozs7Ozs7QUFRMUIsMEJBRUM7Ozs7OztBQUVELFNBQWUsZUFBZTs7UUFDNUIsSUFBSTtZQUNGLE1BQU0sV0FBVyxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUNoRDtRQUFDLFdBQU07WUFDTixPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBQUE7Ozs7QUFLRCxNQUFhLFFBQVE7Ozs7SUFxQm5CLFlBQTZCLE1BQXNCO1FBQXRCLFdBQU0sR0FBTixNQUFNLENBQWdCO1FBbEJsQyxjQUFTLEdBQWdCLEVBQUUsQ0FBQztRQUM1QixvQkFBZSxHQUFrQyxFQUFFLENBQUM7UUFDcEQscUJBQWdCLEdBQWtDLEVBQUUsQ0FBQztRQVc5RCx5QkFBb0IsR0FBRyxJQUFJLENBQUM7UUFDNUIsMEJBQXFCLEdBQUcsSUFBSSxDQUFDO1FBRTdCLG1CQUFjLEdBQUcsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBR3pDLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLGlCQUFpQixDQUFDO1FBQ3JFLElBQUksQ0FBQyxXQUFXLEdBQUcsY0FBYyxFQUFFLENBQUM7SUFDdEMsQ0FBQzs7OztJQUVELEtBQUs7UUFDSCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDckIsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUM1QjtRQUNELE9BQU8sT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLENBQUM7Ozs7Ozs7SUFNYSxtQkFBbUI7O1lBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7Z0JBQzlCLE9BQU87YUFDUjtZQUNELG9EQUFvRDtZQUNwRCxTQUFTLENBQUMsZUFBZSxFQUFFLEVBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO1lBQzFELFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQzs7a0JBRXJELEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRTs7a0JBQ2pDLFlBQVksR0FBRyxNQUFNLGVBQWUsRUFBRTtZQUU1QyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUc7Ozs7WUFBQyxDQUFDLENBQUMsRUFBRTs7c0JBQ3hCLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLFlBQVksQ0FBQztvQkFDN0QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUM7Z0JBQzlCLElBQUksTUFBTSxFQUFFO29CQUNWLE9BQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztpQkFDN0Q7Z0JBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDM0IsQ0FBQyxFQUFDLENBQUMsQ0FBQzs7OztrQkFJRSxLQUFLLEdBQUcsbUhBQUEsU0FBUyxDQUFDLGVBQWUsQ0FBQyxFQUE4Qjs7a0JBQ2hFLE1BQU0sR0FBRyxzREFBQSxTQUFTLENBQUMsZ0JBQWdCLENBQUMsRUFBNEI7WUFFdEUsdUVBQXVFO1lBQ3ZFLHdFQUF3RTtZQUN4RSx3RUFBd0U7WUFDeEUsV0FBVztZQUNYLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFaEMsb0VBQW9FO1lBQ3BFLHdFQUF3RTtZQUN4RSxxREFBcUQ7WUFFckQsdUVBQXVFO1lBQ3ZFLDRCQUE0QjtZQUM1QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDakQsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUVqQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FDbkIsSUFBSSxDQUFDLFFBQVEsRUFBRSxlQUFlLENBQUMsSUFBSTtZQUNuQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFakMseUVBQXlFO1lBQ3pFLHNFQUFzRTtZQUN0RSw0QkFBNEI7WUFDNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7O2tCQUMzQyxTQUFTLEdBQ1gsSUFBSSxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQzNFLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUVoQyx1RUFBdUU7WUFDdkUseUVBQXlFO1lBQ3pFLGdDQUFnQztZQUNoQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO2dCQUN6QixLQUFLLE1BQU0sUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO29CQUM1QyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUNoQzthQUNGO1lBRUQsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQztRQUNwQyxDQUFDO0tBQUE7Ozs7Ozs7Ozs7Ozs7O0lBYUQsVUFBVSxDQUFDLE9BQW1CO1FBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTtZQUN4QixPQUFPO1NBQ1I7O2NBQ0ssY0FBYyxHQUE2QyxFQUFFO1FBQ25FLEtBQUssTUFBTSxNQUFNLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTs7O2tCQUVuQyxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1lBQ2hELElBQUksWUFBWSxFQUFFO2dCQUNoQixJQUFJLFlBQVksQ0FBQyxlQUFlLEVBQUU7OzBCQUMxQixXQUFXLEdBQUc7d0JBQ2xCLFdBQVcsRUFBRSxZQUFZLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQzs0QkFDbEQsd0JBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFVLENBQUMsQ0FBQzs0QkFDM0IsR0FBRzt3QkFDUCxZQUFZLEVBQUUsWUFBWSxDQUFDLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7NEJBQ2pELHlCQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBVyxDQUFDLENBQUM7NEJBQzVCLEtBQUs7cUJBQ1Y7OzBCQUNLLFFBQVEsR0FBRyxFQUFDLGNBQWMsRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFFLENBQUMsRUFBQzs7OzswQkFHbkQsT0FBTyxpREFDUixRQUFRLEdBQ1IsWUFBWSxDQUFDLGVBQWUsR0FDNUIsV0FBVyxDQUNmO29CQUNELGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7aUJBQzlCO2FBQ0Y7U0FDRjtRQUVELElBQUksY0FBYyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQztZQUNsQyxJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztTQUN0QztJQUNILENBQUM7Ozs7Ozs7SUFNYSxvQkFBb0I7O1lBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUU7Z0JBQy9CLE9BQU87YUFDUjs7O2tCQUVLLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7WUFDN0MsSUFBSSxDQUFDLEVBQUUsRUFBRTtnQkFDUCxLQUFLLENBQUMsaUVBQWlFLENBQUMsQ0FBQztnQkFDekUsT0FBTzthQUNSO1lBQ0QsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFFYiw4REFBOEQ7WUFDOUQsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFOztzQkFDakIsVUFBVSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyw0QkFBNEIsRUFBRTtnQkFDL0QsS0FBSyxNQUFNLE1BQU0sSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO29CQUN4QyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUM5QjtnQkFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDNUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNwQixJQUFJLENBQUMsY0FBYyxHQUFHLFNBQVMsQ0FBQzthQUNqQztZQUVELElBQUksQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUM7UUFDckMsQ0FBQztLQUFBOzs7O0lBRUssVUFBVTs7WUFDZCxNQUFNLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQ2pDLE1BQU0sSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDcEMsQ0FBQztLQUFBOzs7Ozs7SUFFYSxTQUFTLENBQUMsS0FBZ0I7OztrQkFDaEMsU0FBUyxHQUFHLE1BQU0sS0FBSyxDQUFDLGFBQWEsRUFBRTtZQUM3QyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN6QyxDQUFDO0tBQUE7Ozs7Ozs7Ozs7O0lBUU8sWUFBWSxDQUFDLE1BQW1CLEVBQUUsS0FBYztRQUN0RCxRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7WUFDbkIsS0FBSyxPQUFPOztvQkFDTixNQUFNLEdBQUcsNkRBQUEsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQ2I7Z0JBQ25DLElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ1gsTUFBTSxHQUFHLElBQUksYUFBYSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUNqRSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUM7aUJBQzlDO2dCQUNELE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQywwRUFBQSxLQUFLLEVBQWMsQ0FBQyxDQUFDO1lBQzVDO2dCQUNFLE9BQU8sRUFBRSxDQUFDO1NBQ2I7SUFDSCxDQUFDOzs7Ozs7Ozs7O0lBUUssSUFBSSxDQUFDLE1BQWdCLEVBQUUsRUFBVzs7WUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO2dCQUN2QixPQUFPO2FBQ1I7O2tCQUNLLFNBQVMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBRWxELE1BQU0sSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUMxQixNQUFNLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQzs7a0JBQ2xCLGFBQWEsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ3BELEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTs7c0JBQy9CLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7Z0JBQzNDLElBQUksV0FBVyxFQUFFOzs7OzswQkFJVCxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDOzswQkFDbkQsTUFBTSxHQUFHLFdBQVcsQ0FBQyxNQUFNO29CQUNqQyxhQUFhLENBQUMsYUFBYSxDQUN2Qix5RkFBSSxLQUFLLEtBQUUsTUFBTSxFQUFFLFNBQVMsS0FBZ0MsQ0FBQyxDQUFDO2lCQUNuRTthQUNGO1lBQ0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDdEMsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3pCLENBQUM7S0FBQTs7Ozs7OztJQUVPLGdCQUFnQixDQUFDLE9BQXNCLEVBQUUsU0FBMkI7UUFFMUUsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNkLE9BQU8sT0FBTyxDQUFDO1NBQ2hCOztjQUNLLE9BQU8sR0FBYyxFQUFFO1FBQzdCLEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTs7a0JBQ2xDLE1BQU0sR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQzdCLElBQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFO2dCQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzthQUM3RDtpQkFBTTs7c0JBQ0MsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNyQyxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7b0JBQ3hCLFNBQVM7aUJBQ1Y7Z0JBQ0QsSUFBSSxNQUFNLENBQUMsSUFBSSxLQUFLLGdCQUFnQixFQUFFO29CQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQzVDO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7OzBCQUNoQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFlBQVksRUFBRTtvQkFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQzNEO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxnQkFBZ0IsRUFBRTs7MEJBQ3JDLEtBQUssR0FBRyxNQUFNLENBQUMsZ0JBQWdCLEVBQUU7b0JBQ3ZDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQy9EO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7OzBCQUNoQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFdBQVcsRUFBRTtvQkFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQzFEO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxzQkFBc0IsRUFBRTs7MEJBQzNDLEtBQUssR0FBRyxNQUFNLENBQUMsc0JBQXNCLEVBQUU7b0JBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQ3JFO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyx1QkFBdUIsRUFBRTs7MEJBQzVDLEtBQUssR0FBRyxNQUFNLENBQUMsc0JBQXNCLEVBQUU7b0JBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQ3JFO3FCQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxTQUFTLEVBQUU7O3dCQUNoQyxNQUFNLEdBQ04sNkRBQUEsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxFQUFtQztvQkFDakUsSUFBSSxDQUFDLE1BQU0sRUFBRTt3QkFDWCxNQUFNLEdBQUcsSUFBSSxhQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQ2pFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7cUJBQ3JDO29CQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLHlEQUFBLE1BQU0sQ0FBQyxZQUFZLEVBQUUsRUFBQyxDQUFDLENBQUM7aUJBQ3REO3FCQUFNO29CQUNMLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO2lCQUNqRTtnQkFDRCxJQUFJLE1BQU0sQ0FBQyxTQUFTLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztpQkFDL0M7YUFDRjtTQUNGO1FBQ0QsT0FBTyxPQUFPLENBQUM7SUFDakIsQ0FBQzs7Ozs7Ozs7Ozs7SUFRTyxpQkFBaUIsQ0FBQyxNQUFjLEVBQUUsTUFBZ0M7UUFFeEUsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDckIsT0FBTyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDM0I7UUFDRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNuQixPQUFPLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUN6QjtRQUNELElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFO1lBQ3hCLE9BQU8sTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDO1NBQzlCO1FBQ0QsSUFBSSxNQUFNLENBQUMsZUFBZSxFQUFFLEVBQUU7WUFDNUIsT0FBTyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztTQUNsQztRQUNELElBQUksTUFBTSxDQUFDLHFCQUFxQixFQUFFLEVBQUU7WUFDbEMsT0FBTyxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztTQUN4QztRQUNELElBQUksTUFBTSxDQUFDLHFCQUFxQixFQUFFLEVBQUU7WUFDbEMsT0FBTyxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztTQUN4QztRQUNELElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFOztnQkFDcEIsTUFBTSxHQUNOLDZEQUFBLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsRUFBbUM7WUFDcEUsSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDWCxNQUFNLEdBQUcsSUFBSSxhQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ2pFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUM7YUFDeEM7WUFDRCxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMseURBQUEsTUFBTSxDQUFDLFlBQVksRUFBRSxFQUFDLENBQUMsQ0FBQztTQUM5QztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7Ozs7Ozs7O0lBTU8sZUFBZSxDQUFDLElBQWtCOztjQUNsQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxpQkFBaUI7O2NBQ3pDLFNBQVMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQzs7Y0FDM0IsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7UUFDOUMsS0FBSyxNQUFNLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQzdCLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7O2NBQ0ssWUFBWSxHQUFHO1lBQ25CLFNBQVM7Ozs7WUFBRSxDQUFNLE1BQW9DLEVBQWlCLEVBQUU7O3NCQUNoRSxXQUFXLEdBQWtCLEVBQUU7Z0JBQ3JDLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRTtvQkFDdEQsV0FBVyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ25EOztzQkFDSyxPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDOztzQkFDdkQsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO2dCQUN6QyxJQUFJLFFBQVEsRUFBRTtvQkFDWixNQUFNLElBQUksQ0FBQyxjQUFjLENBQUM7OzBCQUNwQixNQUFNLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztvQkFDaEMsSUFBSSxNQUFNLEVBQUU7d0JBQ1YsSUFBSSxDQUFDLGNBQWMsR0FBRyxNQUFNLENBQUM7d0JBQzdCLE9BQU8sTUFBTSxDQUFDO3FCQUNmO2lCQUNGO1lBQ0gsQ0FBQyxDQUFBLENBQUE7U0FDRjs7Y0FDSyxjQUFjLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQztRQUN2RSxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUNuRSxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdkIsQ0FBQzs7Ozs7Ozs7O0lBT0QsU0FBUyxDQUFDLFFBQTJCLEVBQUUsSUFBYTtRQUNsRCxJQUFJLEdBQUcsSUFBSSxJQUFJLGlCQUFpQixDQUFDO1FBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDO0lBQ2xDLENBQUM7Q0FDRjtBQXJYRCw0QkFxWEM7Ozs7Ozs7SUFwWEMsK0JBQXFDOzs7OztJQUNyQyw4QkFBMkM7Ozs7O0lBQzNDLDZCQUE2Qzs7Ozs7SUFDN0MsbUNBQXFFOzs7OztJQUNyRSxvQ0FBc0U7Ozs7O0lBR3RFLDRCQUFxQzs7Ozs7SUFDckMsc0JBQW9DOzs7OztJQUNwQyx3QkFBMkM7Ozs7O0lBQzNDLGdDQUFrRDs7Ozs7SUFHbEQsa0NBQWtFOzs7OztJQUVsRSx3Q0FBb0M7Ozs7O0lBQ3BDLHlDQUFxQzs7Ozs7SUFFckMsa0NBQTJDOzs7OztJQUUvQiwwQkFBdUM7O0FBa1dyRCxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUN4QyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHNvbHV0aW9uc1dhc20gZnJvbSAnLi9zb2x1dGlvbnNfd2FzbSc7XG5pbXBvcnQgKiBhcyBzdHJlYW1IZWxwZXJzIGZyb20gJy4vc3RyZWFtX2hlbHBlcnMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgcGFpcnMgb2YgKHN0YXJ0LGVuZCkgaW5kZXhlcyBzbyB0aGF0IHdlIGNhbiBjb25uZWN0IGxhbmRtYXJrc1xuICogd2l0aCBsaW5lcyB0byBwcm92aWRlIGEgc2tlbGV0b24gd2hlbiB3ZSBkcmF3IHRoZSBwb2ludHMuIFRoZXNlIGFyZSBkZWZpbmVkXG4gKiB3aXRoaW4gZWFjaCBzcGVjaWZpYyBzb2x1dGlvbiwgYnV0IGEgY29tbW9uIGRlZmluaXRpb24gaXMgaGVsZCBoZXJlIGZvclxuICogY29udmVuaWVuY2UuXG4gKi9cbmV4cG9ydCB0eXBlIExhbmRtYXJrQ29ubmVjdGlvbkFycmF5ID0gQXJyYXk8W251bWJlciwgbnVtYmVyXT47XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIG5vcm1hbGl6ZWQgcmVjdGFuZ2xlIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBhIFN0cmVhbUxpc3RlbmVyLlxuICovXG5leHBvcnQgdHlwZSBOb3JtYWxpemVkUmVjdCA9IHNvbHV0aW9uc1dhc20uTm9ybWFsaXplZFJlY3Q7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGxpc3Qgb2Ygbm9ybWFsaXplZCByZWN0YW5nbGVzLlxuICovXG5leHBvcnQgdHlwZSBOb3JtYWxpemVkUmVjdExpc3QgPSBOb3JtYWxpemVkUmVjdFtdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBkZXRlY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV0ZWN0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBib3VuZGluZyBib3ggYXJvdW5kIHRoZSBkZXRlY3Rpb24uXG4gICAqL1xuICBib3VuZGluZ0JveDogTm9ybWFsaXplZFJlY3Q7XG5cbiAgLyoqXG4gICAqIFRoZSBhc3NvY2lhdGVkIGxhbmRtYXJrcy5cbiAgICpcbiAgICogTWF5IGJlIGVtcHR5LiBUaGlzIGlzIHR5cGljYWxseSBmaWxsZWQgZm9yIGUuZy4gZmFjZSwgaGFuZHMgb3IgcG9zZVxuICAgKiBkZXRlY3Rpb24gdXNlIGNhc2VzLlxuICAgKi9cbiAgbGFuZG1hcmtzOiBOb3JtYWxpemVkTGFuZG1hcmtMaXN0O1xuXG4gIC8qKlxuICAgKiBUaGUgYXNzb2NpYXRlZCBjbGFzc2lmaWNhdGlvbnMuXG4gICAqXG4gICAqIE1heSBiZSBlbXB0eS4gVGhpcyBpcyB0eXBpY2FsbHkgZmlsbGVkIGZvciBlLmcuIG9iamVjdCBkZXRlY3Rpb24gdXNlIGNhc2VzLlxuICAgKi9cbiAgY2xhc3NpZmljYXRpb25zOiBDbGFzc2lmaWNhdGlvbkxpc3Q7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGxpc3Qgb2YgZGV0ZWN0aW9ucy5cbiAqL1xuZXhwb3J0IHR5cGUgRGV0ZWN0aW9uTGlzdCA9IERldGVjdGlvbltdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBkZXRlY3RlZCBsYW5kbWFyay5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOb3JtYWxpemVkTGFuZG1hcmsge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgejogbnVtYmVyO1xuICB2aXNpYmlsaXR5PzogbnVtYmVyO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBsaXN0IG9mIGxhbmRtYXJrcy5cbiAqL1xuZXhwb3J0IHR5cGUgTm9ybWFsaXplZExhbmRtYXJrTGlzdCA9IE5vcm1hbGl6ZWRMYW5kbWFya1tdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBsaXN0IG9mIGxpc3RzIG9mIGxhbmRtYXJrcy5cbiAqL1xuZXhwb3J0IHR5cGUgTm9ybWFsaXplZExhbmRtYXJrTGlzdExpc3QgPSBOb3JtYWxpemVkTGFuZG1hcmtMaXN0W107XG5cbi8qKlxuICogQSBjbGFzcyBsYWJlbCB3aXRoIHNjb3JlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENsYXNzaWZpY2F0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY2xhc3MgaW4gdGhlIGNvcnJlc3BvbmRpbmcgbGFiZWwgbWFwLlxuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHByb2JhYmlsaXR5IHNjb3JlIGZvciB0aGlzIGNsYXNzLlxuICAgKi9cbiAgc2NvcmU6IG51bWJlcjtcblxuICAvKipcbiAgICogTGFiZWwgb3IgbmFtZSBvZiB0aGUgY2xhc3MuXG4gICAqL1xuICBsYWJlbD86IHN0cmluZztcblxuICAvKipcbiAgICogRGlzcGxheSBuYW1lIG9mIHRoZSBjbGFzcywgZm9yIHZpc3VhbGl6YXRpb24gcHVycG9zZXMuXG4gICAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBIGxpc3Qgb2YgY2xhc3NpZmljYXRpb25zLlxuICovXG5leHBvcnQgdHlwZSBDbGFzc2lmaWNhdGlvbkxpc3QgPSBDbGFzc2lmaWNhdGlvbltdO1xuXG4vKipcbiAqIE11bHRpcGxlIGxpc3RzIG9mIGNsYXNzaWZpY2F0aW9ucy5cbiAqL1xuZXhwb3J0IHR5cGUgQ2xhc3NpZmljYXRpb25MaXN0TGlzdCA9IENsYXNzaWZpY2F0aW9uTGlzdFtdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBzaW5nbGUgbm9ybWFsaXplZCBsYW5kbWFyaywgd2l0aCBkZXB0aC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQb2ludDJEIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIGRlcHRoOiBudW1iZXI7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHBvaW50IGluIDNEIHNwYWNlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50M0Qge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgejogbnVtYmVyO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBwYXJ0aWN1bGFyIGtleXBvaW50IGZyb20gYW4gb2JqZWN0IGRldGVjdGlvbi4gVGhlIGlkIGRlbm90ZXNcbiAqIHdoaWNoIGtleXBvaW50IHRoaXMgaXMgKGNvbnNpc3RlbnQgb3ZlciB0aW1lKSwgYW5kIHRoZW4gdHdvIHJlcHJlc2VudGF0aW9uc1xuICogYXJlIGluY2x1ZGVkIGZvciB0aGlzIHBvaW50LCBhIDJEIG5vcm1hbGl6ZWQgdmVyc2lvbiwgYW5kIGEgM0QgdmVyc2lvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBLZXlwb2ludCB7XG4gIGlkOiBudW1iZXI7XG4gIHBvaW50M2Q6IFBvaW50M0Q7XG4gIHBvaW50MmQ6IFBvaW50MkQ7XG59XG5cbi8qKlxuICogTGlzdCBvZiBrZXlwb2ludHMuXG4gKi9cbmV4cG9ydCB0eXBlIEtleXBvaW50TGlzdCA9IEtleXBvaW50W107XG5cbi8qKlxuICogVGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIGFib3V0IGEgcGFydGljdWxhciBvYmplY3QgZGV0ZWN0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdERldGVjdGlvbiB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIG9iamVjdCBpbnN0YW5jZSBpZGVudGlmaWVyLlxuICAgKi9cbiAgaWQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGtleXBvaW50cyBmb3IgdGhpcyBkZXRlY3Rpb24gKDggZm9yIGEgM0QgYm91bmRpbmcgYm94KS5cbiAgICovXG4gIGtleXBvaW50czogS2V5cG9pbnRMaXN0O1xuICAvKipcbiAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhpcyBvYmplY3QgZGV0ZWN0aW9uIGluIGEgZnJhbWUuXG4gICAqL1xuICB2aXNpYmlsaXR5OiBudW1iZXI7XG59XG5cbi8qKlxuICogTGlzdCBvZiBvYmplY3QgZGV0ZWN0aW9ucy5cbiAqL1xuZXhwb3J0IHR5cGUgT2JqZWN0RGV0ZWN0aW9uTGlzdCA9IE9iamVjdERldGVjdGlvbltdO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gaW1hZ2UgcHJvZHVjZWQgYnkgdGhlIGdyYXBoLlxuICovXG5leHBvcnQgdHlwZSBHcHVCdWZmZXIgPSBzdHJlYW1IZWxwZXJzLkdwdUJ1ZmZlcjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIHJlc3VsdCBvZiBhIG11bHRpIHJlc3VsdCBsaXN0ZW5lci4gVGhlIHNoYXBlIGlzXG4gKiB0cmFuc2Zvcm1lZCBpbnRvIGEgc2hhcGUgdGhhdCB0aGUgZW5kIHVzZXIgY2FuIGNvbnN1bWUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0TWFwIHtcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIHJlc3VsdCBvZiBhIG11bHRpIHJlc3VsdCBsaXN0ZW5lci4gVGhlIHNoYXBlIGlzIHRoZVxuICogd2FzbSBjbGFzcyBmcm9tIHdoaWNoIHdlIGNhbiBwdWxsIG91dCBkaWZmZXJlbnQga2luZHMgb2YgZGF0YS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXYXNtUmVzdWx0TWFwIHtcbiAgW2tleTogc3RyaW5nXTogc29sdXRpb25zV2FzbS5SZXN1bHRXYXNtO1xufVxuXG4vKipcbiAqIFRoaXMgcmVwcmVzZW50cyB0aGUgY2FsbGJhY2tzIGZyb20gdGhlIGdyYXBoJ3Mgc3RyZWFtIGxpc3RlbmVycy4gSWYgdGhlXG4gKiBsaXN0ZW5lciBuZWVkcyB0byBkbyBhc3luY2hyb25vdXMgd29yaywgcmV0dXJuIGEgUHJvbWlzZSB0byBhbGxvdyB0aGVcbiAqIHNvbHV0aW9uIHRvIHdhaXQuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3VsdE1hcExpc3RlbmVyID0gKG1hcDogUmVzdWx0TWFwKSA9PiBQcm9taXNlPHZvaWQ+fHZvaWQ7XG5cbi8qKlxuICogT3B0aW9uIGRlc2NyaXB0aW9ucyB0aGF0IGRlc2NyaWJlIHdoZXJlIHRvIGNoYW5nZSBhbiBvcHRpb24gaW4gYSBncmFwaC5cbiAqL1xuZXhwb3J0IHR5cGUgR3JhcGhPcHRpb25YUmVmID0gc29sdXRpb25zV2FzbS5HcmFwaE9wdGlvblhSZWY7XG5cbi8qKlxuICogSWYgeW91ciBmaWxlcyBhcmUgb3JnYW5pemVkIGluIHNvbWUgd2VpcmQgc3RydWN0dXJlLCB5b3UgY2FuIGN1c3RvbWl6ZSBob3dcbiAqIHRoZSBwYXRoIGlzIGNvbnN0cnVjdGVkIGJ5IHNlbmRpbmcgdGhpcyB0byB0aGUgY29uZmlnIG9wdGlvbnMgZm9yIFNvbHV0aW9uLlxuICovXG5leHBvcnQgdHlwZSBGaWxlTG9jYXRvckZuID0gKGZpbGU6IHN0cmluZywgcHJlZml4OiBzdHJpbmcpID0+IHN0cmluZztcblxuLyoqXG4gKiBVc2VycyBvZiB0aGUgc29sdXRpb24gc2V0IG9wdGlvbnMgdXNpbmcgYSBrZXktdmFsdWUgbWFwLiBIb3dldmVyLCBzcGVjaWZpY1xuICogc29sdXRpb25zIHdpbGwgY29uc3RyYWluIHRoZSBvcHRpb25zIHdpdGggYW4gZXhwb3J0ZWQgaW50ZXJmYWNlLlxuICpcbiAqIGUuZy5cbiAqXG4gKiBnZW5lcmFsU29sdXRpb24uc2V0T3B0aW9ucyh7XCJteUtleVwiOiBteVZhbHVlfSkgYmVjb21lc1xuICogc3BlY2lmaWNTb2x1dGlvbi5zZXRPcHRpb25zKHsgbXlLZXk6IG15VmFsdWUgfX1cbiAqXG4gKiBkZWNsYXJlIGludGVyZmFjZSBTcGVjaWZpY1NvbHV0aW9uT3B0aW9uTGlzdCB7XG4gKiAgIG15S2V5OiBudW1iZXJcbiAqIH07XG4gKlxuICogVGhpcyB3b3JrcyBiZWNhdXNlIGBPYmplY3RgcyBpbiBKYXZhU2NyaXB0IGFyZSBqdXN0IGhhc2htYXBzLCBhbmQgd2UgZml0XG4gKiBtZWFuaW5nIG9uIHRvcCBvZiB0aG9zZSBoYXNobWFwcyB3aXRoIG91ciB0eXBlIGRlY2xhcmF0aW9ucy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpb25MaXN0IHtcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuLyoqXG4gKiBVc2VkIGluIHRoZSBjb25zdHJ1Y3RvciBvZiBHcmFwaC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHcmFwaCB7XG4gIHVybDogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyBob3cgdG8gdHVybiB1c2VyIGlucHV0IChTZWUgSW5wdXRNYXApIGludG8gZGF0YSB0aGUgZ3JhcGggY2FuXG4gKiBjb25zdW1lLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFByb3ZpZGVzIGRpcmVjdGlvbiBvbiBob3cgdG8gaW50ZXJwcmV0IHRoZSBgdmFsdWVgIG9mIHRoZSBJbnB1dE1hcC5cbiAgICovXG4gIHR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGlucHV0IHN0cmVhbSBvZiB0aGUgZ3JhcGggdGhhdCB3aWxsIHJlY2VpdmUgdGhlIGlucHV0LlxuICAgKi9cbiAgc3RyZWFtOiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIGZ1bGwgZGVzY3JpcHRpb24gb2YgYWxsIHRoZSBpbnB1dHMgdGhhdCB3aWxsIGJlIGV4cG9zZWQgdG8gdGhlIHVzZXIuIFRoZVxuICoga2V5IGlzIHRoZSBuYW1lIG9mIHRoZSBpbnB1dCBhIHVzZXIgd2lsbCB1c2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRDb25maWdNYXAge1xuICBba2V5OiBzdHJpbmddOiBJbnB1dENvbmZpZztcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGlucHV0cyB0aGF0IHRoZSB1c2VyIHdpbGwgc2VuZCB0byB0aGUgZ3JhcGguIGB1bmtub3duYCBhbGxvd3NcbiAqIHVzZXJzIHRvIGRvIGFsbCBzb3J0cyBvZiB0aGluZ3MsIGZyb20gdXNpbmcgSFRNTFZpZGVvRWxlbWVudHMgdG8gbnVtYmVycyB0b1xuICogd2hhdGV2ZXIgZWxzZSB3ZSBuZWVkLiBTZWUgYHByZXBhcmVJbnB1dGAgdG8gc2VlIGhvdyB0aGlzIHVua25vd24gaXMgdHVybmVkXG4gKiBpbnRvIHN0cnVjdHVyYWwgZGF0YSB0aGF0IGNhbiBiZSBzZW50IHRvIHRoZSBncmFwaC5cbiAqXG4gKiBUaGUgc3BlY2lmaWMgc29sdXRpb24gc2hvdWxkIHN1cHBseSBhIHN0cm9uZ2VyIGludGVyZmFjZSB0aGF0IHdpbGwgYmUgdXNlZFxuICogaW5zdGVhZCBvZiB0aGlzIGdlbmVyaWMga2V5bWFwLCAgSW4gdGhpcyB3YXksIHRoZSBzb2x1dGlvbiBkZXNpZ25lciBjYW5cbiAqIG5hbWUgdmVyeSBzcGVjaWZpYyBpbnB1dHMgYW5kIGV4YWN0bHkgd2hhdCBpcyBleHBlY3RlZCBpbiB0aGF0IElucHV0TWFwLidcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dE1hcCB7XG4gIFtrZXk6IHN0cmluZ106IHVua25vd247XG59XG5cbi8qKlxuICogV2Ugc3VwcG9ydCBzZXZlcmFsIHdheXMgdG8gZ2V0IGltYWdlIGlucHV0cy5cbiAqL1xuZXhwb3J0IHR5cGUgSW5wdXRJbWFnZSA9IEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudDtcblxuLyoqXG4gKiBEZXNjcmliZXMgaG93IHRvIGludGVycHJldCBPcHRpb25Db25maWcuIEBzZWUgR3JhcGhPcHRpb25DaGFuZ2VSZXF1ZXN0LlxuICogZS5nLiwgQSBOVU1CRVIgdGVsbHMgdXMgdG8gZmlsbCBvdXQgdmFsdWVOdW1iZXIgKHdoaWNoIGdldHMgaW50ZXJwcmV0ZWQgYXNcbiAqIGEgZG91YmxlIG9uIHRoZSBDKysgc2lkZSkuIFdlIHdpbGwgYWRkIG90aGVyIHR5cGVzIGhlcmUgYXMgdGhlIG5lZWQgYXJpc2VzLlxuICovXG5leHBvcnQgZW51bSBPcHRpb25UeXBlIHtcbiAgTlVNQkVSLFxuICBCT09MLFxufVxuXG4vKipcbiAqIFVzZWQgdG8gcmVnaXN0ZXIga2V5cyB3aXRoIHRoZSBzb2x1dGlvbi4gUmlnaHQgbm93IGl0IGlzIGxpbWl0ZWQgdG9cbiAqIGdyYXBoT3B0aW9uWHJlZiwgd2hpY2ggaXMgc3BlY2lmaWNhbGx5IGZvciBvcHRpb25zIHRoYXQgd2lsbCBiZSBmZWQgdG8gdGhlXG4gKiBNZWRpYVBpcGUgZ3JhcGgsIGJ1dCB3ZSdsbCBhbHNvIG5lZWQgb3B0aW9ucyB0aGF0IGFyZSBoYW5kbGVkIGJ5IHRoZSBzcGVjaWZpY1xuICogc29sdXRpb24gdG8gZG8gd29yayAoZS5nLiwgc2VsZmllLWZsaXBwaW5nKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpb25Db25maWcge1xuICB0eXBlOiBPcHRpb25UeXBlO1xuICBncmFwaE9wdGlvblhyZWY/OiBHcmFwaE9wdGlvblhSZWY7XG59XG5cbi8qKlxuICogT3B0aW9uYWxseSBzcGVjaWZpZWQgaW4gdGhlIG91dHB1dCB0byB0cmFuc2Zvcm0gdGhlIG91dHB1dC5cbiAqL1xuZXhwb3J0IHR5cGUgVHJhbnNmb3JtZXI8VCwgTz4gPSAoeDogVCkgPT4gTztcblxuLyoqXG4gKiBPdXRwdXQgY29uZmlndXJhdGlvbiB3aXRob3V0IGEgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dENvbmZpZ0Jhc2Uge1xuICBzdHJlYW06IHN0cmluZztcbiAgdHlwZTogJ2xhbmRtYXJrcyd8J2xhbmRtYXJrc19saXN0J3wnY2xhc3NpZmljYXRpb25zX2xpc3QnfFxuICAgICAgJ29iamVjdF9kZXRlY3Rpb25fbGlzdCd8J3JlY3RfbGlzdCd8J2RldGVjdGlvbl9saXN0JztcbiAgLy8gSW50ZW50aW9uYWwgYGFueWAgYWxsb3dzIGRlcml2ZWQgY2xhc3NlcyB0byBzdXBwb3J0IGN1c3RvbSB0cmFuc2Zvcm1lcnMuXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgdHJhbnNmb3JtPzogVHJhbnNmb3JtZXI8YW55LCBhbnk+O1xufVxuXG4vKipcbiAqIE91dHB1dCBjb25maWcgd2l0aCB0eXBlIHNhZmV0eSBmb3IgYSBsaXN0IG9mIGxhbmRtYXJrcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPdXRwdXRDb25maWdMYW5kbWFya0xpc3Q8VD4gZXh0ZW5kcyBPdXRwdXRDb25maWdCYXNlIHtcbiAgdHlwZTogJ2xhbmRtYXJrcyc7XG4gIHRyYW5zZm9ybT86IFRyYW5zZm9ybWVyPE5vcm1hbGl6ZWRMYW5kbWFya0xpc3QsIFQ+O1xufVxuXG4vKipcbiAqIE91dHB1dCBjb25maWcgd2l0aCB0eXBlIHNhZmV0eSBmb3IgYSBsaXN0IG9mIGxhbmRtYXJrIGxpc3RzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dENvbmZpZ0xhbmRtYXJrTGlzdExpc3Q8VD4gZXh0ZW5kcyBPdXRwdXRDb25maWdCYXNlIHtcbiAgdHlwZTogJ2xhbmRtYXJrc19saXN0JztcbiAgdHJhbnNmb3JtPzogVHJhbnNmb3JtZXI8Tm9ybWFsaXplZExhbmRtYXJrTGlzdExpc3QsIFQ+O1xufVxuXG4vKipcbiAqIE91dHB1dCBjb25maWcgd2l0aCB0eXBlIHNhZmV0eSBmb3IgYSBsaXN0IG9mIGNsYXNzaWZpY2F0aW9uIGxpc3RzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dENvbmZpZ0NsYXNzaWZpY2F0aW9uTGlzdExpc3Q8VD4gZXh0ZW5kc1xuICAgIE91dHB1dENvbmZpZ0Jhc2Uge1xuICB0eXBlOiAnY2xhc3NpZmljYXRpb25zX2xpc3QnO1xuICB0cmFuc2Zvcm0/OiBUcmFuc2Zvcm1lcjxDbGFzc2lmaWNhdGlvbkxpc3RMaXN0LCBUPjtcbn1cblxuLyoqXG4gKiBPdXRwdXQgY29uZmlnIHdpdGggdHlwZSBzYWZldHkgZm9yIGFuIG9iamVjdCBkZXRlY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0Q29uZmlnT2JqZWN0RGV0ZWN0aW9uTGlzdDxUPiBleHRlbmRzIE91dHB1dENvbmZpZ0Jhc2Uge1xuICB0eXBlOiAnb2JqZWN0X2RldGVjdGlvbl9saXN0JztcbiAgdHJhbnNmb3JtPzogVHJhbnNmb3JtZXI8T2JqZWN0RGV0ZWN0aW9uTGlzdCwgVD47XG59XG5cbi8qKlxuICogV2hlbiBzcGVjaWZ5aW5nIG91dHB1dHMsIGNhc3QgdG8gT3V0cHV0Q29uZmlnPFQ+IHRvIGdldCB0eXBlIHNhZmV0eSBiZXR3ZWVuXG4gKiB0aGUgYHR5cGVgIGFuZCB0aGUgYHRyYW5zZm9ybWAuXG4gKi9cbmV4cG9ydCB0eXBlIE91dHB1dENvbmZpZzxUPiA9IE91dHB1dENvbmZpZ0xhbmRtYXJrTGlzdDxUPnxcbiAgICBPdXRwdXRDb25maWdMYW5kbWFya0xpc3RMaXN0PFQ+fE91dHB1dENvbmZpZ0NsYXNzaWZpY2F0aW9uTGlzdExpc3Q8VD58XG4gICAgT3V0cHV0Q29uZmlnT2JqZWN0RGV0ZWN0aW9uTGlzdDxUPjtcblxuLyoqXG4gKiBUcmFuc2xhdGlvbiBtYXAgdG8gZXhwb3NlIHVuZGVybHlpbmcgc3RyZWFtcyB0byB0aGUgdXNlci4gQSBzb2x1dGlvblxuICogZGVzaWduZXIgc2hvdWxkIGRlY2xhcmUgYSB0eXBlIHRvIGNvbnN0cmFpbiB0aGUgc2hhcGUgb2YgdGhlIG91dHB1dHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0Q29uZmlnTWFwIHtcbiAgLy8gVG9kYXkgdGhlIHZhbHVlIGlzIGEgc3RyaW5nLCB3aGljaCBhbGxvd3MgdXMgdG8gbWFwIGFuIGludGVybmFsIHN0cmVhbSBuYW1lXG4gIC8vIHRvIGEgZnJpZW5kbGllciwgZXh0ZXJuYWxseSB2aXNpYmxlIG5hbWUuIEluIHRoZSBuZWFyIGZ1dHVyZSBpdCB3aWxsIGJlIGFuXG4gIC8vIE9iamVjdCB0byBhbGxvdyBjb21wbGV4IHN0cnVjdHVyZXMsIG9yIGEgZnVuY3Rpb24sIHRvIGFsbG93IGNhbGN1bGF0ZWRcbiAgLy8gdmFsdWVzLlxuICBba2V5OiBzdHJpbmddOiBzdHJpbmd8T3V0cHV0Q29uZmlnQmFzZTtcbn1cblxuLyoqXG4gKiBUaGUgY29sbGVjdGlvbiBvZiBvcHRpb24gY29uZmlndXJhdGlvbiBlbnRyaWVzLCBhcnJhbmdlZCBieSBvcHRpb24gbmFtZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpb25Db25maWdNYXAge1xuICBbb3B0aW9uTmFtZTogc3RyaW5nXTogT3B0aW9uQ29uZmlnO1xufVxuXG4vKipcbiAqIEJpbmRzIHRoZSBzdHJlYW1zIHRvIGEgc2V0IG9mIGxpc3RlbmVycyB0aGF0IGNhbiBiZSBzdXJmYWNlZCB0byB0aGVcbiAqIGRldmVsb3Blci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0ZW5lclBvcnQge1xuICAvKipcbiAgICogSWYgdGhlcmUgaXMgb25seSBvbmUgcmVnaXN0cmF0aW9uLCB0aGUgbmFtZSBjYW4gYmUgb21pdHRlZC4gU2VlIG9uUmVzdWx0c1xuICAgKiBmb3IgbW9yZSBkaXNjdXNzaW9uLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHN0cmVhbXMgaW4gdGhlIGdyYXBoIHRoYXQgd2lsbCBiZSBjb21iaW5lZCBpbnRvIGEgSGFzaE1hcFxuICAgKiB3aGljaCB3aWxsIGJlIGFzc2VtYmxlZCBhbmQgZGVsaXZlcmVkIHRvIGxpc3RlbmVycyB0aGF0IHRoZSBlbmQgdXNlclxuICAgKiBjYW4gbGlzdGVuIHRvLlxuICAgKi9cbiAgd2FudHM6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHJlc3VsdHMgdG8gYmUgdHJhbnNmb3JtZWQgaW50byBsaXRlcmFsbHkgYW55IGtpbmQgb2Ygc2hhcGUuIEl0XG4gICAqIGlzIHVwIHRvIHRoZSBzb2x1dGlvbiBjcmVhdG9yIHRvIGV4cG9zZSB0aGlzIHR5cGUgaW5mb3JtYXRpb24gdGhyb3VnaFxuICAgKiBhbiBvblJlc3VsdHMgc3BlY2lhbGl6YXRpb24uXG4gICAqL1xuICBvdXRzPzogT3V0cHV0Q29uZmlnTWFwO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdHJhbnNmb3JtYXRpb24gb2YgYG91dHNgIGJlZm9yZSBoYW5kaW5nIHRoZSByZXN1bHRzIGJhY2sgdG8gdGhlXG4gICAqIGxpc3RlbmVyLiBBbGxvd3MgZmluYWwgY3JlYXRpdmUgY29udHJvbCBvZiB0aGUgc2hhcGUgb2YgdGhlIG91dHB1dC5cbiAgICovXG4gIHRyYW5zZm9ybT86IChpbnB1dDogT3V0cHV0Q29uZmlnTWFwKSA9PiBPdXRwdXRDb25maWdNYXA7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgZmlsZSB0aGF0IHNob3VsZCBiZSBsb2FkZWQgYnkgdGhlIHNvbHV0aW9uLiBXZSBjYW4gaW5jbHVkZSBmbGFnc1xuICogZm9yIGNoZWNrcyB0aGF0IHNob3VsZCBiZSBkb25lIGJlZm9yZSBsb2FkaW5nIGEgZmlsZS4gQ3VycmVudGx5LCB3ZSBhbGxvd1xuICogYSB1c2VyIHRvIHByb3ZpZGUgc3BlY2lhbCBmaWxlcyB0aGF0IGFyZSBvbmx5IHByb3ZpZGVkIGlmIFNJTUQgaXNcbiAqIHNwZWNpZmljYWxseSBzdXBwb3J0ZWQgb3Igbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3NlciAoZG8gbm90IGluY2x1ZGUgdGhlXG4gKiBzaW1kIGZsYWcgaWYgeW91IGRvIG5vdCBjYXJlKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlRW50cnkge1xuICBzaW1kPzogYm9vbGVhbjtcbiAgdXJsOiBzdHJpbmc7XG59XG5cbi8qKlxuICogT3B0aW9ucyB0byBjb25maWd1cmUgdGhlIHNvbHV0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvbHV0aW9uQ29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBwYWNrIGxvYWRlciBhbmQgdGhlIHdhc20gbG9hZGVyIG5lZWQgdG8gYmUgaGVyZS4gQSBmaWxlIGxvYWRlciB3aWxsIGJlXG4gICAqIHByb3ZpZGVkIHRvIHRoZW0sIGFuZCBUaGV5IHdpbGwgZ2V0IGxvYWRlZCBhc3luY2hyb25vdXNseS4gV2Ugd29uJ3RcbiAgICogY29udGludWUgaW5pdGlhbGl6YXRpb24gdW50aWwgdGhleSd2ZSBjb21wbGV0ZWx5IGxvYWRlZCBhbmQgcnVuLlxuICAgKi9cbiAgZmlsZXM6IFJlYWRvbmx5QXJyYXk8RmlsZUVudHJ5PjtcblxuICAvKipcbiAgICogVGhlIGJpbmFyeSBncmFwaC4gQ2FuIHN1cHBvcnQgbXVsdGlwbGUgd2F5cyBvZiBnZXR0aW5nIHRoYXQgZ3JhcGguXG4gICAqL1xuICBncmFwaDogR3JhcGg7XG5cbiAgLyoqXG4gICAqIENvbnRhaW5zIGEgbWFwcGluZyB0aGF0IGFsbG93cyB1cyB0byB0dXJuIHRoZSBpbnB1dHMgYSB1c2VyIHNlbmRzIGFzIHBhcnRcbiAgICogb2YgYHNlbmRgIGludG8gYW4gaW5wdXQgdGhhdCB0aGUgZ3JhcGggY2FuIGNvbnN1bWUuXG4gICAqL1xuICBpbnB1dHM6IElucHV0Q29uZmlnTWFwO1xuXG4gIC8qKlxuICAgKiBTZWUgRmlsZUxvY2F0b3JGbi4gQW55IGZpbGUgbG9hZGluZyBkb25lIG9uIHRoZSB1c2VyJ3MgYmVoYWxmIHdpbGwgdXNlXG4gICAqIGxvY2F0ZUZpbGUgaWYgaXRzIHByb2ZpdmVkLiBUaGlzIGluY2x1ZGVzIFdBU00gYmxvYnMgYW5kIGdyYXBoIHVybHMuXG4gICAqL1xuICBsb2NhdGVGaWxlPzogRmlsZUxvY2F0b3JGbjtcblxuICAvKipcbiAgICogU3BlY2lmaWVzIGhvdyB0byBpbnRlcnByZXQgb3B0aW9ucyBmZWQgdG8gc2V0T3B0aW9ucy5cbiAgICovXG4gIG9wdGlvbnM/OiBPcHRpb25Db25maWdNYXA7XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGxpc3RlbmVycyB0byB0aGUgZ3JhcGguIFRoaXMgaXMgb25seSBmb3IgcmVnaXN0ZXJpbmcgdGhlIHBvcnRzLlxuICAgKiBUbyBhY3R1YWxseSByZWdpc3RlciBhIGNhbGxiYWNrLCB0aGUgZGV2ZWxvcGVyIHdpbGwgY2FsbCBvblJlc3VsdHMgd2l0aFxuICAgKiB0aGUgbmFtZSBvZiB0aGUgcG9ydCB0aGV5IHdhbnQgdG8gdGFwIGludG8uXG4gICAqL1xuICBsaXN0ZW5lcnM/OiBMaXN0ZW5lclBvcnRbXTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZ3JhcGggdGhhdCBjYW4gYmUgZmVkIHRvIG1lZGlhcGlwZSBTb2x1dGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHcmFwaERhdGEge1xuICB0b0FycmF5QnVmZmVyKCk6IFByb21pc2U8QXJyYXlCdWZmZXI+O1xufVxuXG4vLyBUaGVzZSBleHBvcnQgbmFtZXMgY29tZSBmcm9tIHdhc21fY2NfYmluYXJ5IEJVSUxEIHJ1bGVzLiBUaGV5IGJlbG9uZyB0byB0d29cbi8vIGRpZmZlcmVudCBzY3JpcHRzIHRoYXQgYXJlIGxvYWRlZCBpbiBwYXJhbGxlbCAoc2VlIFByb21pc2UuYWxsLCBiZWxvdykuXG4vLyBCZWNhdXNlIHRoZXkgbXV0YXRlIHRoZWlyIHJlc3BlY3RpdmUgdmFyaWFibGVzLCB0aGVyZSBpcyBhIHJhY2UgY29uZGl0aW9uXG4vLyB3aGVyZSB0aGV5IHdpbGwgc3RvbXAgb24gZWFjaCBvdGhlciBpZiB0aGV5IGNob29zZSB0aGUgc2FtZSBuYW1lLiBVc2Vyc1xuLy8gd29uJ3Qgbm9ybWFsbHkgc2VlIHRoaXMgcmFjZSBjb25kaXRpb24gYmVjYXVzZSB0aGV5IHB1dCBzY3JpcHQgdGFncyBpbiB0aGVcbi8vIEhUTUwsIGFuZCBIVE1MIGd1YXJhbnRlZXMgdGhhdCB0aGUgc2NyaXB0cyB3aWxsIGJlIHJ1biBpbiBvcmRlci5cbmNvbnN0IEFQSV9FWFBPUlRfTkFNRSA9ICdjcmVhdGVNZWRpYXBpcGVTb2x1dGlvbnNXYXNtJztcbmNvbnN0IFBBQ0tfRVhQT1JUX05BTUUgPSAnY3JlYXRlTWVkaWFwaXBlU29sdXRpb25zUGFja2VkQXNzZXRzJztcblxuLy8gVXNlZCBpbnRlcm5hbGx5IHRvIHJlcHJlc2VudCBhIHBvcnQgZm9yIHdoaWNoIHRoZSB1c2VyIGRpZCBub3QgZGVmaW5lIGEgbmFtZS5cbmNvbnN0IERFRkFVTFRfUE9SVF9OQU1FID0gJyQnO1xuXG4vKipcbiAqIFNpbXBsZXN0IFdBU00gcHJvZ3JhbSB0byBwZXJmb3JtIGEgU0lNRCBvcGVyYXRpb24uIFdlJ2xsIHRyeSB0byBpbnN0YW50aWF0ZVxuICogaXQgd2l0aCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSgpIGFuZCBpZiBpdCBmYWlscywgd2UnbGwga25vdyB0aGVyZSBpcyBub1xuICogU0lNRCBzdXBwb3J0LlxuICpcbiAqIFRvIGdlbmVyYXRlIHRoZSB3ZWIgYXNzZW1ibHksIEkgaW5jbHVkZWQgdGhlIGZvbGxvd2luZyBzY3JpcHQgaW50byBhIHdlYiBwYWdlXG4gKiBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvQXNzZW1ibHlTY3JpcHQvd2FidC5qcy9pbmRleC5qc1xuICpcbiAqIEFuZCB0aGVuIGZvbGxvd2VkIGl0IHdpdGggYSBiaXQgb2Ygc2NyaXB0OlxuICpcbiAqIGBgYFxuICogYXN5bmMgZnVuY3Rpb24gcnVuKCkge1xuICogdmFyIHdhc20gPSBgKG1vZHVsZVxuICogIChmdW5jXG4gKiAgICAgIGkzMi5jb25zdCAwXG4gKiAgICAgIGk4eDE2LnNwbGF0XG4gKiAgICAgIGRyb3BcbiAqICAgIClcbiAqICApYDtcbiAqICBjb25zdCB3YWJ0ID0gYXdhaXQgV2FidE1vZHVsZSgpO1xuICogIGNvbnN0IHdhdCA9IHdhYnQucGFyc2VXYXQoXCJ0ZXN0XCIsIHdhc20sIHtzaW1kOiB0cnVlfSk7XG4gKiAgY29uc3QgYmluID0gd2F0LnRvQmluYXJ5KHt9KS5idWZmZXI7XG4gKlxuICogIC8vIFRoZSBmb2xsb3dpbmcgbGluZSBwcmludHMgdGhlIGFycmF5IHRoYXQgd2UgY3V0IGFuZCBwYXN0ZSBpbnRvIG91ciBzb3VyY2VcbiAqICAvLyBjb2RlLlxuICogIGNvbnNvbGUubG9nKGJpbi5qb2luKCcsJykpO1xuICpcbiAqICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShiaW4pO1xuICogIGNvbnN0IHdhID0gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYXJyKTtcbiAqIH1cbiAqIHJ1bigpO1xuICogYGBgXG4gKi9cbmNvbnN0IFdBU01fU0lNRF9DSEVDSyA9IG5ldyBVaW50OEFycmF5KFtcbiAgMCwgOTcsIDExNSwgMTA5LCAxLCAwLCAwLCAwLCAxLCAgNCwgMSwgICA5NiwgMCwgIDAsIDMsXG4gIDIsIDEsICAwLCAgIDEwLCAgOSwgMSwgNywgMCwgNjUsIDAsIDI1MywgMTUsIDI2LCAxMVxuXSk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBwYXRoIHRvIGEgcmVzb3VyY2UgaWYgdGhlIHVzZXIgZGlkIG5vdCBvdmVybG9hZCB0aGVcbiAqIGxvY2F0ZUZpbGUgcGFyYW1ldGVyIGluIFNvbHV0aW9uQ29uZmlnLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0TG9jYXRlRmlsZShmaWxlOiBzdHJpbmcsIHByZWZpeDogc3RyaW5nKSB7XG4gIHJldHVybiBwcmVmaXggKyBmaWxlO1xufVxuLyoqXG4gKiBTZXRzIGFuIGFyYml0cmFyeSB2YWx1ZSBvbiBgd2luZG93YC4gVGhpcyBoZWxwZXIgZnVuY3Rpb24gZ2V0cyBhcm91bmQgYSBsb3RcbiAqIG9mIHRoZSBjdW1iZXJzb21lIGJvaWxlcnBsYXRlIHJlcXVpcmVkIHRvIHNldCBhbmQgcmV0cmlldmUgYXJiaXRyYXJ5IGRhdGFcbiAqIGZyb20gdGhlIGB3aW5kb3dgIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gc2V0V2luZG93PFQ+KGtleTogc3RyaW5nLCB2YWx1ZTogVCk6IHZvaWQge1xuICAod2luZG93IGFzIHVua25vd24gYXMge1trZXk6IHN0cmluZ106IFR9KVtrZXldID0gdmFsdWU7XG59XG5cbi8qKlxuICogR2V0cyBhbiBhcmJpdHJhcnkgdmFsdWUgZnJvbSBgd2luZG93YC4gU2VlIGBzZXRXaW5kb3dgLlxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3coa2V5OiBzdHJpbmcpOiB1bmtub3duIHtcbiAgcmV0dXJuICh3aW5kb3cgYXMgdW5rbm93biBhcyB7W2tleTogc3RyaW5nXTogdW5rbm93bn0pW2tleV07XG59XG5cbi8qKlxuICogRHluYW1pY2FsbHkgbG9hZHMgYSBhc2NyaXB0IGludG8gdGhlIGN1cnJlbnQgcGFnZSBhbmQgcmV0dXJucyBhIGBQcm9taXNlYFxuICogdGhhdCByZXNvbHZlcyB3aGVuIGl0cyBsb2FkaW5nIGlzIGNvbXBsZXRlLlxuICovXG5mdW5jdGlvbiBsb2FkU2NyaXB0KHVybDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpO1xuICBzY3JpcHQuc2V0QXR0cmlidXRlKCdjcm9zc29yaWdpbicsICdhbm9ueW1vdXMnKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9LCBmYWxzZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRQYWNrYWdlUGF0aCgpOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKFxuICAgICAgICAgICAgICAgMCwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkubGFzdEluZGV4T2YoJy8nKSkgK1xuICAgICAgICAnLyc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIHdvcmtlclxuICAgIHJldHVybiBsb2NhdGlvbi5wYXRobmFtZS50b1N0cmluZygpLnN1YnN0cmluZyhcbiAgICAgICAgICAgICAgIDAsIGxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkubGFzdEluZGV4T2YoJy8nKSkgK1xuICAgICAgICAnLyc7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnc29sdXRpb25zIGNhbiBvbmx5IGJlIGxvYWRlZCBvbiBhIHdlYiBwYWdlIG9yIGluIGEgd2ViIHdvcmtlcicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlY29kZUxhbmRtYXJrcyhsYW5kbWFya3M6IHNvbHV0aW9uc1dhc20uTm9ybWFsaXplZExhbmRtYXJrTGlzdCk6XG4gICAgTm9ybWFsaXplZExhbmRtYXJrTGlzdCB7XG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuICBjb25zdCByZXN1bHRDb3VudCA9IGxhbmRtYXJrcy5zaXplKCk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHRDb3VudDsgKytpbmRleCkge1xuICAgIGNvbnN0IGxhbmRtYXJrID0gbGFuZG1hcmtzLmdldChpbmRleCk7XG4gICAgb3V0cHV0LnB1c2goe1xuICAgICAgeDogbGFuZG1hcmsueCxcbiAgICAgIHk6IGxhbmRtYXJrLnksXG4gICAgICB6OiBsYW5kbWFyay56LFxuICAgICAgdmlzaWJpbGl0eTogbGFuZG1hcmsuaGFzVmlzaWJpbGl0eSA/IGxhbmRtYXJrLnZpc2liaWxpdHkgOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVSZWN0TGlzdChyZWN0czogc29sdXRpb25zV2FzbS5Ob3JtYWxpemVkUmVjdExpc3QpOlxuICAgIE5vcm1hbGl6ZWRSZWN0TGlzdCB7XG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuICBjb25zdCByZXN1bHRDb3VudCA9IHJlY3RzLnNpemUoKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdENvdW50OyArK2luZGV4KSB7XG4gICAgY29uc3QgcmVjdCA9IHJlY3RzLmdldChpbmRleCk7XG4gICAgb3V0cHV0LnB1c2gocmVjdCk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuZnVuY3Rpb24gZGVjb2RlRGV0ZWN0aW9uTGlzdChyZXN1bHRzOiBzb2x1dGlvbnNXYXNtLlJlc3VsdFdhc20pOiBEZXRlY3Rpb25MaXN0IHtcbiAgY29uc3QgcmVjdExpc3QgPSByZXN1bHRzLmdldFJlY3RMaXN0KCkhO1xuICBjb25zdCBsYW5kbWFya3NMaXN0ID0gcmVzdWx0cy5nZXRMYW5kbWFya3NMaXN0KCkhO1xuICBjb25zdCBjbGFzc2lmaWNhdGlvbnNMaXN0ID0gcmVzdWx0cy5nZXRDbGFzc2lmaWNhdGlvbnNMaXN0KCkhO1xuICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgaWYgKHJlY3RMaXN0KSB7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlY3RMaXN0LnNpemUoKTsgKytpbmRleCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBib3VuZGluZ0JveDogcmVjdExpc3QuZ2V0KGluZGV4KSxcbiAgICAgICAgbGFuZG1hcmtzOiBkZWNvZGVMYW5kbWFya3MobGFuZG1hcmtzTGlzdC5nZXQoaW5kZXgpKSxcbiAgICAgICAgY2xhc3NpZmljYXRpb25zOiBkZWNvZGVDbGFzc2lmaWNhdGlvbnMoY2xhc3NpZmljYXRpb25zTGlzdC5nZXQoaW5kZXgpKSxcbiAgICAgIH07XG4gICAgICBvdXRwdXQucHVzaChyZXN1bHQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVMYW5kbWFya3NMaXN0KFxuICAgIGxhbmRtYXJrczogc29sdXRpb25zV2FzbS5Ob3JtYWxpemVkTGFuZG1hcmtMaXN0TGlzdCk6XG4gICAgTm9ybWFsaXplZExhbmRtYXJrTGlzdExpc3Qge1xuICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgY29uc3QgcmVzdWx0Q291bnQgPSBsYW5kbWFya3Muc2l6ZSgpO1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0Q291bnQ7ICsraW5kZXgpIHtcbiAgICBjb25zdCBsYW5kbWFyayA9IGxhbmRtYXJrcy5nZXQoaW5kZXgpO1xuICAgIG91dHB1dC5wdXNoKGRlY29kZUxhbmRtYXJrcyhsYW5kbWFyaykpO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIGRlY29kZUNsYXNzaWZpY2F0aW9ucyhcbiAgICBjbGFzc2lmaWNhdGlvbnM6IHNvbHV0aW9uc1dhc20uQ2xhc3NpZmljYXRpb25MaXN0KTogQ2xhc3NpZmljYXRpb25MaXN0IHtcbiAgY29uc3Qgb3V0cHV0ID0gW107XG4gIGNvbnN0IHJlc3VsdENvdW50ID0gY2xhc3NpZmljYXRpb25zLnNpemUoKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdENvdW50OyArK2luZGV4KSB7XG4gICAgY29uc3QgY2xhc3NpZmljYXRpb24gPSBjbGFzc2lmaWNhdGlvbnMuZ2V0KGluZGV4KTtcbiAgICBvdXRwdXQucHVzaCh7XG4gICAgICBpbmRleDogY2xhc3NpZmljYXRpb24uaW5kZXgsXG4gICAgICBzY29yZTogY2xhc3NpZmljYXRpb24uc2NvcmUsXG4gICAgICBsYWJlbDogY2xhc3NpZmljYXRpb24uaGFzTGFiZWwgPyBjbGFzc2lmaWNhdGlvbi5sYWJlbCA6IHVuZGVmaW5lZCxcbiAgICAgIGRpc3BsYXlOYW1lOiBjbGFzc2lmaWNhdGlvbi5oYXNEaXNwbGF5TmFtZSA/IGNsYXNzaWZpY2F0aW9uLmRpc3BsYXlOYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVDbGFzc2lmaWNhdGlvbnNMaXN0KFxuICAgIGNsYXNzaWZpY2F0aW9uczogc29sdXRpb25zV2FzbS5DbGFzc2lmaWNhdGlvbkxpc3RMaXN0KTpcbiAgICBDbGFzc2lmaWNhdGlvbkxpc3RMaXN0IHtcbiAgY29uc3Qgb3V0cHV0ID0gW107XG4gIGNvbnN0IHJlc3VsdENvdW50ID0gY2xhc3NpZmljYXRpb25zLnNpemUoKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdENvdW50OyArK2luZGV4KSB7XG4gICAgY29uc3QgY2xhc3NpZmljYXRpb24gPSBjbGFzc2lmaWNhdGlvbnMuZ2V0KGluZGV4KTtcbiAgICBvdXRwdXQucHVzaChkZWNvZGVDbGFzc2lmaWNhdGlvbnMoY2xhc3NpZmljYXRpb24pKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVLZXlwb2ludChrZXlwb2ludDogc29sdXRpb25zV2FzbS5LZXlwb2ludCk6IEtleXBvaW50IHtcbiAgcmV0dXJuIHtcbiAgICBpZDoga2V5cG9pbnQuaWQsXG4gICAgcG9pbnQzZDoge1xuICAgICAgeDoga2V5cG9pbnQucG9pbnQzZC54LFxuICAgICAgeToga2V5cG9pbnQucG9pbnQzZC55LFxuICAgICAgejoga2V5cG9pbnQucG9pbnQzZC56LFxuICAgIH0sXG4gICAgcG9pbnQyZDoge1xuICAgICAgeDoga2V5cG9pbnQucG9pbnQyZC54LFxuICAgICAgeToga2V5cG9pbnQucG9pbnQyZC55LFxuICAgICAgZGVwdGg6IGtleXBvaW50LnBvaW50MmQuZGVwdGgsXG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVLZXlwb2ludExpc3QoXG4gICAga2V5cG9pbnRzOiBzb2x1dGlvbnNXYXNtLktleXBvaW50TGlzdCk6IEtleXBvaW50TGlzdCB7XG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuICBjb25zdCByZXN1bHRDb3VudCA9IGtleXBvaW50cy5zaXplKCk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHRDb3VudDsgKytpbmRleCkge1xuICAgIGNvbnN0IGtleXBvaW50ID0ga2V5cG9pbnRzLmdldChpbmRleCk7XG4gICAgb3V0cHV0LnB1c2goZGVjb2RlS2V5cG9pbnQoa2V5cG9pbnQpKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVPYmplY3REZXRlY3Rpb24oXG4gICAgZGV0ZWN0aW9uOiBzb2x1dGlvbnNXYXNtLk9iamVjdERldGVjdGlvbik6IE9iamVjdERldGVjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgaWQ6IGRldGVjdGlvbi5pZCxcbiAgICBrZXlwb2ludHM6IGRlY29kZUtleXBvaW50TGlzdChkZXRlY3Rpb24ua2V5cG9pbnRzKSxcbiAgICB2aXNpYmlsaXR5OiBkZXRlY3Rpb24udmlzaWJpbGl0eSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlT2JqZWN0RGV0ZWN0aW9uTGlzdChcbiAgICBkZXRlY3Rpb25zOiBzb2x1dGlvbnNXYXNtLk9iamVjdERldGVjdGlvbkxpc3QpOiBPYmplY3REZXRlY3Rpb25MaXN0IHtcbiAgY29uc3Qgb3V0cHV0ID0gW107XG4gIGNvbnN0IHJlc3VsdENvdW50ID0gZGV0ZWN0aW9ucy5zaXplKCk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHRDb3VudDsgKytpbmRleCkge1xuICAgIGNvbnN0IGRldGVjdGlvbiA9IGRldGVjdGlvbnMuZ2V0KGluZGV4KTtcbiAgICBvdXRwdXQucHVzaChkZWNvZGVPYmplY3REZXRlY3Rpb24oZGV0ZWN0aW9uKSk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuY2xhc3MgR3JhcGhEYXRhSW1wbCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgICAgcHJpdmF0ZSByZWFkb25seSBncmFwaDogR3JhcGgsIHByaXZhdGUgcmVhZG9ubHkgbG9jYXRlRmlsZTogRmlsZUxvY2F0b3JGbixcbiAgICAgIHByaXZhdGUgcmVhZG9ubHkgcGFja2FnZVBhdGg6IHN0cmluZykge31cblxuICBhc3luYyB0b0FycmF5QnVmZmVyKCk6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcbiAgICBpZiAodGhpcy5ncmFwaC51cmwpIHtcbiAgICAgIGNvbnN0IGZldGNoZWQgPVxuICAgICAgICAgIGF3YWl0IGZldGNoKHRoaXMubG9jYXRlRmlsZSh0aGlzLmdyYXBoLnVybCwgdGhpcy5wYWNrYWdlUGF0aCkpO1xuICAgICAgaWYgKGZldGNoZWQuYm9keSkge1xuICAgICAgICByZXR1cm4gZmV0Y2hlZC5hcnJheUJ1ZmZlcigpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO1xuICB9XG59XG5cbi8qKlxuICogSW5wdXRzIHRvIHRoZSBncmFwaC4gQ3VycmVudGx5IG9ubHkgb25lIGlucHV0LCBhIHZpZGVvIGZyYW1lLCBpc1xuICogcGVybWl0dGVkLCBidXQgdGhpcyBzaG91bGQgZW5jb21wYXNzIGFueSBpbnB1dCBkYXRhIHRvIGEgc29sdXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnJhbWVJbnB1dHMge1xuICB2aWRlbzogSFRNTFZpZGVvRWxlbWVudDtcbn1cblxuLyoqXG4gKiBUaGUgc29sdXRpb24ga2VlcHMgYWxsIG9mIHRoZSBjdXJyZW50IGxpc3RlbmVycy4gVGhlIHVzZXIgY2FuIHBhc3MgdXMgYVxuICogbGlzdGVuZXIgbWFwIGFuZCB0aGVuIGNoYW5nZSB0aGUgZWxlbWVudHMgYXQgYW55IHRpbWUuIFRoZXkgd2lsbCBiZSBwaWNrZWRcbiAqIHVwIG9uIHRoZSBuZXh0IHBhc3MgdGhyb3VnaCBgcHJvY2Vzc0ZyYW1lYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0ZW5lck1hcCB7XG4gIFtrZXk6IHN0cmluZ106IFJlc3VsdE1hcExpc3RlbmVyfHVuZGVmaW5lZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaXNTdXBwb3J0ZWRTaW1kKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICB0cnkge1xuICAgIGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKFdBU01fU0lNRF9DSEVDSyk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBNZWRpYVBpcGUgU29sdXRpb24gdXBvbiB3aGljaCBhbGwgc3BlY2lmaWMgc29sdXRpb25zIHdpbGwgYmUgYnVpbHQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTb2x1dGlvbiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgcGFja2FnZVBhdGg6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBsb2NhdGVGaWxlOiBGaWxlTG9jYXRvckZuO1xuICBwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyczogTGlzdGVuZXJNYXAgPSB7fTtcbiAgcHJpdmF0ZSByZWFkb25seSBpblN0cmVhbUhlbHBlcnM6IHN0cmVhbUhlbHBlcnMuU3RyZWFtSGVscGVyTWFwID0ge307XG4gIHByaXZhdGUgcmVhZG9ubHkgb3V0U3RyZWFtSGVscGVyczogc3RyZWFtSGVscGVycy5TdHJlYW1IZWxwZXJNYXAgPSB7fTtcblxuICAvLyBCRUdJTjogQXNzaWduZWQgZHVyaW5nIGluaXRpYWxpemVXYXNtLi4uXG4gIHByaXZhdGUgZ2xDYW52YXMhOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHJpdmF0ZSBnbCE6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XG4gIHByaXZhdGUgd2FzbSE6IHNvbHV0aW9uc1dhc20uTWVkaWFwaXBlV2FzbTtcbiAgcHJpdmF0ZSBzb2x1dGlvbldhc20hOiBzb2x1dGlvbnNXYXNtLlNvbHV0aW9uV2FzbTtcbiAgLy8gRU5EOiBBc3NpZ25lZCBkdXJpbmcgaW5pdGlhbGl6ZVdhc20uLi5cblxuICBwcml2YXRlIHBlbmRpbmdDaGFuZ2VzPzogc29sdXRpb25zV2FzbS5HcmFwaE9wdGlvbkNoYW5nZVJlcXVlc3RbXTtcblxuICBwcml2YXRlIG5lZWRUb0luaXRpYWxpemVXYXNtID0gdHJ1ZTtcbiAgcHJpdmF0ZSBuZWVkVG9Jbml0aWFsaXplR3JhcGggPSB0cnVlO1xuXG4gIHByaXZhdGUgcnVubmluZ1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogU29sdXRpb25Db25maWcpIHtcbiAgICB0aGlzLmxvY2F0ZUZpbGUgPSAoY29uZmlnICYmIGNvbmZpZy5sb2NhdGVGaWxlKSB8fCBkZWZhdWx0TG9jYXRlRmlsZTtcbiAgICB0aGlzLnBhY2thZ2VQYXRoID0gZ2V0UGFja2FnZVBhdGgoKTtcbiAgfVxuXG4gIGNsb3NlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnNvbHV0aW9uV2FzbSkge1xuICAgICAgdGhpcy5zb2x1dGlvbldhc20uZGVsZXRlKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhbGwgb2YgdGhlIGRlcGVuZGVudCBXQVNNIGZpbGVzLiBUaGlzIGlzIGhlYXZ5LCBzbyB3ZSBtYWtlIHN1cmUgdG9cbiAgICogb25seSBkbyB0aGlzIG9uY2UuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHRyeVRvSW5pdGlhbGl6ZVdhc20oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLm5lZWRUb0luaXRpYWxpemVXYXNtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFNldCB1cCB0aGUgZmlsZSBsb2FkZXIgZm9yIGJvdGggZXh0ZXJuYWwgbG9hZGVycy5cbiAgICBzZXRXaW5kb3coQVBJX0VYUE9SVF9OQU1FLCB7bG9jYXRlRmlsZTogdGhpcy5sb2NhdGVGaWxlfSk7XG4gICAgc2V0V2luZG93KFBBQ0tfRVhQT1JUX05BTUUsIHtsb2NhdGVGaWxlOiB0aGlzLmxvY2F0ZUZpbGV9KTtcblxuICAgIGNvbnN0IGZpbGVzID0gKHRoaXMuY29uZmlnLmZpbGVzKSB8fCBbXTtcbiAgICBjb25zdCBzdXBwb3J0c1NpbWQgPSBhd2FpdCBpc1N1cHBvcnRlZFNpbWQoKTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsKGZpbGVzLm1hcCh4ID0+IHtcbiAgICAgIGNvbnN0IGRvTG9hZCA9ICh4LnNpbWQgPT09IHVuZGVmaW5lZCkgfHwgKHguc2ltZCAmJiBzdXBwb3J0c1NpbWQpIHx8XG4gICAgICAgICAgKCF4LnNpbWQgJiYgIXN1cHBvcnRzU2ltZCk7XG4gICAgICBpZiAoZG9Mb2FkKSB7XG4gICAgICAgIHJldHVybiBsb2FkU2NyaXB0KHRoaXMubG9jYXRlRmlsZSh4LnVybCwgdGhpcy5wYWNrYWdlUGF0aCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0pKTtcblxuICAgIC8vIFRoZSB2YXJpYWJsZXMgd2Ugc2V0IGVhcmxpZXIgd2lsbCBub3QgYmUgbXV0YXRlZCwgZWFjaCBhY2NvcmRpbmcgdG8gaXRzXG4gICAgLy8gcmVsYXRlZCBsb2FkZXIuXG4gICAgY29uc3QgYXBpRm4gPSBnZXRXaW5kb3coQVBJX0VYUE9SVF9OQU1FKSBhcyBzb2x1dGlvbnNXYXNtLkFwaVByb21pc2VGbjtcbiAgICBjb25zdCBwYWNrRm4gPSBnZXRXaW5kb3coUEFDS19FWFBPUlRfTkFNRSkgYXMgc29sdXRpb25zV2FzbS5QYWNrTG9hZGVyO1xuXG4gICAgLy8gTm93IHRoYXQgZXZlcnl0aGluZyBpcyBsb2FkZWQgYW5kIG11dGF0ZWQsIHdlIGNhbiBmaW5hbGx5IGluaXRpYWxpemVcbiAgICAvLyB0aGUgV0FTTSBsb2FkZXIgd2l0aCB0aGUgcGFjayBsb2FkZXIuIFRoZSBXQVNNIGxvYWRlciB3aWxsIHdhaXQgdW50aWxcbiAgICAvLyBhbGwgb2YgdGhlIGZpbGVzIGluIHRoZSBwYWNrIGxvYWRlciBhcmUgY29tcGxldGUgYmVmb3JlIHJlc29sdmluZyBpdHNcbiAgICAvLyBQcm9taXNlLlxuICAgIHRoaXMud2FzbSA9IGF3YWl0IGFwaUZuKHBhY2tGbik7XG5cbiAgICAvLyBUT0RPKG1oYXlzKTogRGV2ZWxvcGVyIHNob3VsZCBiZSBhYmxlIHRvIGV4cGxpY2l0bHkgbG9hZC91bmxvYWQgYVxuICAgIC8vIHNvbHV0aW9uIHRvIHByZXZlbnQgc3RlYWxpbmcgYWxsIG9mIHRoZSBXZWJHTCByZXNvdXJjZXMgKGUuZy4sIENocm9tZVxuICAgIC8vIG1heSBsaW1pdCB0aGUgbnVtYmVyIG9mIFdlYkdMIGNvbnRleHRzIGJ5IGRvbWFpbikuXG5cbiAgICAvLyBUaGlzIGlzIHRoZSBzaW5nbGUgY2FudmFzIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBhbGwgdGV4dHVyZSB0cmFuc2ZlclxuICAgIC8vIHRvIGFuZCBmcm9tIHRoZSBiYWNrIGVuZC5cbiAgICB0aGlzLmdsQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy53YXNtLmNhbnZhcyA9IHRoaXMuZ2xDYW52YXM7XG5cbiAgICB0aGlzLndhc20uY3JlYXRlQ29udGV4dChcbiAgICAgICAgdGhpcy5nbENhbnZhcywgLyogdXNlV2ViR2w9ICovIHRydWUsXG4gICAgICAgIC8qIHNldEluTW9kdWxlPSAqLyB0cnVlLCB7fSk7XG5cbiAgICAvLyBUaGUgZ3JhcGggb25seSBuZWVkcyB0byBiZSBsb2FkZWQgb25jZSBpbnRvIHRoZSBzb2x1dGlvbiwgYnV0IHRoZSBXQVNNXG4gICAgLy8gbWlnaHQgcmUtaW5pdGlhbGl6ZSB0aGUgc29sdXRpb24sIGFuZCB0aGF0IHdpbGwgc3BlY2lmaWNhbGx5IGhhcHBlblxuICAgIC8vIGR1cmluZyB3YXNtLlByb2Nlc3NGcmFtZS5cbiAgICB0aGlzLnNvbHV0aW9uV2FzbSA9IG5ldyB0aGlzLndhc20uU29sdXRpb25XYXNtKCk7XG4gICAgY29uc3QgZ3JhcGhEYXRhID1cbiAgICAgICAgbmV3IEdyYXBoRGF0YUltcGwodGhpcy5jb25maWcuZ3JhcGgsIHRoaXMubG9jYXRlRmlsZSwgdGhpcy5wYWNrYWdlUGF0aCk7XG4gICAgYXdhaXQgdGhpcy5sb2FkR3JhcGgoZ3JhcGhEYXRhKTtcblxuICAgIC8vIExpc3RlbmVycyBtb2RpZnkgdGhlIGdyYXBoIGNvbmZpZyBpbnRlcm5hbGx5LCBzbyBncmFwaCBsaXN0ZW5lcnMgYXJlXG4gICAgLy8gYXR0YWNoZWQgb25seSBvbmNlLiBVc2VycyBhcmUgZnJlZSB0byBjb25uZWN0IGFuZCBkaXNjb25uZWN0IGNhbGxiYWNrc1xuICAgIC8vIHRvIHRoZXNlIGxpc3RlbmVycyBhcyBuZWVkZWQuXG4gICAgaWYgKHRoaXMuY29uZmlnLmxpc3RlbmVycykge1xuICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmNvbmZpZy5saXN0ZW5lcnMpIHtcbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lclBvcnQobGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubmVlZFRvSW5pdGlhbGl6ZVdhc20gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBvcHRpb25zIGZvciB0aGUgZ3JhcGgsIHBvdGVudGlhbGx5IHRyaWdnZXJpbmcgYSByZWluaXRpYWxpemUuXG4gICAqIFRoZSB0cmlnZ2VyaW5nIGlzIGNvbnRpbmdlbnQgdXBvbiB0aGUgb3B0aW9ucyBtYXRjaGluZyB0aG9zZSBzZXQgdXAgaW5cbiAgICogdGhlIHNvbHV0aW9uIGNvbmZpZ3VyYXRpb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIGluaXRpYWxpemUgaXMgc2V0IHRvIHJ1blxuICAgKiBvbiB0aGUgbmV4dCBwcm9jZXNzRnJhbWUuXG4gICAqXG4gICAqIFdlIGRvIG5vdCBjcmVhdGUgYSBXQVNNIG9iamVjdCBoZXJlLCBiZWNhdXNlIGl0J3MgcG9zc2libGUgKGxpa2VseSkgdGhhdFxuICAgKiBXQVNNIGhhcyBub3QgbG9hZGVkIHlldCAoaS5lLiwgdGhlIHVzZXIgY2FsbHMgc2V0T3B0aW9ucyBiZWZvcmUgY2FsbGluZ1xuICAgKiBwcm9jZXNzRnJhbWUgLyBpbml0aWFsaXplKS4gIFdlJ2xsIGRvIHRoYXQgZHVyaW5nIGluaXRpYWxpemUgd2hlbiB3ZSBrbm93XG4gICAqIGl0J3Mgc2FmZS5cbiAgICovXG4gIHNldE9wdGlvbnMob3B0aW9uczogT3B0aW9uTGlzdCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb25maWcub3B0aW9ucykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwZW5kaW5nQ2hhbmdlczogc29sdXRpb25zV2FzbS5HcmFwaE9wdGlvbkNoYW5nZVJlcXVlc3RbXSA9IFtdO1xuICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIE9iamVjdC5rZXlzKG9wdGlvbnMpKSB7XG4gICAgICAvLyBMb29rIGVhY2ggb3B0aW9uIGluIHRoZSBvcHRpb24gY29uZmlnLlxuICAgICAgY29uc3Qgb3B0aW9uQ29uZmlnID0gdGhpcy5jb25maWcub3B0aW9uc1tvcHRpb25dO1xuICAgICAgaWYgKG9wdGlvbkNvbmZpZykge1xuICAgICAgICBpZiAob3B0aW9uQ29uZmlnLmdyYXBoT3B0aW9uWHJlZikge1xuICAgICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0ge1xuICAgICAgICAgICAgdmFsdWVOdW1iZXI6IG9wdGlvbkNvbmZpZy50eXBlID09PSBPcHRpb25UeXBlLk5VTUJFUiA/XG4gICAgICAgICAgICAgICAgb3B0aW9uc1tvcHRpb25dIGFzIG51bWJlciA6XG4gICAgICAgICAgICAgICAgMC4wLFxuICAgICAgICAgICAgdmFsdWVCb29sZWFuOiBvcHRpb25Db25maWcudHlwZSA9PT0gT3B0aW9uVHlwZS5CT09MID9cbiAgICAgICAgICAgICAgICBvcHRpb25zW29wdGlvbl0gYXMgYm9vbGVhbiA6XG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRzID0ge2NhbGN1bGF0b3JOYW1lOiAnJywgY2FsY3VsYXRvckluZGV4OiAwfTtcbiAgICAgICAgICAvLyBDb21iaW5lIHRoZSB4cmVmIHdpdGggdGhlIHZhbHVlLiBUaGlzIGlzIHdoYXQgdGhlIFdBU00gd2lsbCBiZVxuICAgICAgICAgIC8vIGV4cGVjdGluZy5cbiAgICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgLi4uZGVmYXVsdHMsXG4gICAgICAgICAgICAuLi5vcHRpb25Db25maWcuZ3JhcGhPcHRpb25YcmVmLFxuICAgICAgICAgICAgLi4ub3B0aW9uVmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICAgIHBlbmRpbmdDaGFuZ2VzLnB1c2gocmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGVuZGluZ0NoYW5nZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aGlzLm5lZWRUb0luaXRpYWxpemVHcmFwaCA9IHRydWU7XG4gICAgICB0aGlzLnBlbmRpbmdDaGFuZ2VzID0gcGVuZGluZ0NoYW5nZXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBncmFwaCBpcyBpdCBoYXMgbm90IGJlZW4gbG9hZGVkLCBvciBoYXMgYmVlbiB0cmlnZ2VyZWQgdG9cbiAgICogcmVsb2FkIChzZXRPcHRpb25zIHdhcyBjYWxsZWQgd2hpbGUgdGhlIGdyYXBoIHdhcyBydW5uaW5nKS5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgdHJ5VG9Jbml0aWFsaXplR3JhcGgoKSB7XG4gICAgaWYgKCF0aGlzLm5lZWRUb0luaXRpYWxpemVHcmFwaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBNb3ZlIHRoZSB2aWRlbyBmcmFtZSBpbnRvIHRoZSB0ZXh0dXJlLlxuICAgIGNvbnN0IGdsID0gdGhpcy5nbENhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInKTtcbiAgICBpZiAoIWdsKSB7XG4gICAgICBhbGVydCgnRmFpbGVkIHRvIGNyZWF0ZSBXZWJHTCBjYW52YXMgY29udGV4dCB3aGVuIHBhc3NpbmcgdmlkZW8gZnJhbWUuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8vIENoYW5naW5nIG9wdGlvbnMgb24gdGhlIGdyYXBoIHdpbGwgbXV0YXRlIHRoZSBncmFwaCBjb25maWcuXG4gICAgaWYgKHRoaXMucGVuZGluZ0NoYW5nZXMpIHtcbiAgICAgIGNvbnN0IGNoYW5nZUxpc3QgPSBuZXcgdGhpcy53YXNtLkdyYXBoT3B0aW9uQ2hhbmdlUmVxdWVzdExpc3QoKTtcbiAgICAgIGZvciAoY29uc3QgY2hhbmdlIG9mIHRoaXMucGVuZGluZ0NoYW5nZXMpIHtcbiAgICAgICAgY2hhbmdlTGlzdC5wdXNoX2JhY2soY2hhbmdlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc29sdXRpb25XYXNtLmNoYW5nZU9wdGlvbnMoY2hhbmdlTGlzdCk7XG4gICAgICBjaGFuZ2VMaXN0LmRlbGV0ZSgpO1xuICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlcyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aGlzLm5lZWRUb0luaXRpYWxpemVHcmFwaCA9IGZhbHNlO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnRyeVRvSW5pdGlhbGl6ZVdhc20oKTtcbiAgICBhd2FpdCB0aGlzLnRyeVRvSW5pdGlhbGl6ZUdyYXBoKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRHcmFwaChncmFwaDogR3JhcGhEYXRhKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZ3JhcGhEYXRhID0gYXdhaXQgZ3JhcGgudG9BcnJheUJ1ZmZlcigpO1xuICAgIHRoaXMuc29sdXRpb25XYXNtLmxvYWRHcmFwaChncmFwaERhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZXMgdGhlICd0eXBlJyBmaWVsZCBvZiB0aGUgaW5wdXQgY29uZmlnIHRvIHR1cm4gdGhlIGB1bmtub3duYCBpbnB1dCBpbnRvXG4gICAqIHNvbWV0aGluZyB1c2FibGUgYnkgdGhlIGJhY2sgZW5kLiAgSW4gZ2VuZXJhbCwgd2UgYXJlIHVzaW5nIGVtc2NyaXB0ZW5cbiAgICogZW1iaW5kJ3MgdmFsdWVfb2JqZWN0IHRvIGVmZmVjdCB0aGUgdHJhbnNmZXIsIHNvIHRoZSBkYXRhIG11c3QgYmUgc2ltcGx5XG4gICAqIG1hcnNoYWxhYmxlLlxuICAgKi9cbiAgcHJpdmF0ZSBwcmVwYXJlSW5wdXQoY29uZmlnOiBJbnB1dENvbmZpZywgaW5wdXQ6IHVua25vd24pOiBvYmplY3Qge1xuICAgIHN3aXRjaCAoY29uZmlnLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgbGV0IGhlbHBlciA9IHRoaXMuaW5TdHJlYW1IZWxwZXJzW2NvbmZpZy5zdHJlYW1dIGFzXG4gICAgICAgICAgICBzdHJlYW1IZWxwZXJzLkltYWdlU3RyZWFtSGVscGVyO1xuICAgICAgICBpZiAoIWhlbHBlcikge1xuICAgICAgICAgIGhlbHBlciA9IG5ldyBzdHJlYW1IZWxwZXJzLkltYWdlU3RyZWFtSGVscGVyKHRoaXMud2FzbSwgdGhpcy5nbCk7XG4gICAgICAgICAgdGhpcy5pblN0cmVhbUhlbHBlcnNbY29uZmlnLnN0cmVhbV0gPSBoZWxwZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlbHBlci5lbmNvZGUoaW5wdXQgYXMgSW5wdXRJbWFnZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gc2VuZCBvbmUgb3IgbW9yZSBpbnB1dHMgdG8gdGhlIGdyYXBoLiBUaGUgZ3JhcGggd2lsbFxuICAgKiBydW4gYW5kIHBvdGVudGlhbGx5IHByb2R1Y2Ugb3V0cHV0cyBmb3IgYW55IGF0dGFjaGVkIGxpc3RlbmVycy4gVGhlIGRhdGFcbiAgICogdGhhdCBhIGphdmFzY3JpcHQgdXNlciBzdXBwbGllcyBuZWVkcyB0byBiZSBjb25kaXRpb25lZCBmb3IgdXNlIGJ5XG4gICAqIG1lZGlhcGlwZSwgYW5kIHRob3NlIGRldGFpbHMgYXJlIGhpZGRlbiBhd2F5IChzZWUgYHByZXBhcmVJbnB1dGApLlxuICAgKiBAcGFyYW0gYXQgVGltZXN0YW1wIGluIG1zLCBpZiB1bmRlZmluZWQsIHdlJ2xsIHVzZSBwZXJmb3JtYW5jZS5ub3coKS5cbiAgICovXG4gIGFzeW5jIHNlbmQoaW5wdXRzOiBJbnB1dE1hcCwgYXQ/OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmlucHV0cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0aW1lc3RhbXAgPSAxMDAwICogKGF0IHx8IHBlcmZvcm1hbmNlLm5vdygpKTtcblxuICAgIGF3YWl0IHRoaXMucnVubmluZ1Byb21pc2U7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgY29uc3QgZGF0YVZhbHVlTGlzdCA9IG5ldyB0aGlzLndhc20uUGFja2V0RGF0YUxpc3QoKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhpbnB1dHMpKSB7XG4gICAgICBjb25zdCBpbnB1dENvbmZpZyA9IHRoaXMuY29uZmlnLmlucHV0c1trZXldO1xuICAgICAgaWYgKGlucHV0Q29uZmlnKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgc3VwcG9ydCB0ZXh0dXJlMmQgYXQgdGhlIG1vbWVudCwgYnV0IG9uY2Ugd2Ugc3VwcG9ydCBtb3JlLFxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgYSBzd2l0Y2ggc3RhdGVtZW50IHNvIHRoYXQgd2UgY2FsbCB0aGUgY29ycmVjdCBwdXNoXG4gICAgICAgIC8vIG1ldGhvZC5cbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLnByZXBhcmVJbnB1dChpbnB1dENvbmZpZywgaW5wdXRzW2tleV0pO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBpbnB1dENvbmZpZy5zdHJlYW07XG4gICAgICAgIGRhdGFWYWx1ZUxpc3QucHVzaFRleHR1cmUyZChcbiAgICAgICAgICAgIHsuLi5pbnB1dCwgc3RyZWFtLCB0aW1lc3RhbXB9IGFzIHNvbHV0aW9uc1dhc20uVGV4dHVyZTJkRGF0YSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc29sdXRpb25XYXNtLnNlbmQoZGF0YVZhbHVlTGlzdCk7XG4gICAgZGF0YVZhbHVlTGlzdC5kZWxldGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgdHJhbnNmb3JtT3V0cHV0cyhyZXN1bHRzOiBXYXNtUmVzdWx0TWFwLCBjb25maWdNYXA/OiBPdXRwdXRDb25maWdNYXApOlxuICAgICAgUmVzdWx0TWFwIHtcbiAgICBpZiAoIWNvbmZpZ01hcCkge1xuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIGNvbnN0IG91dHB1dHM6IFJlc3VsdE1hcCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGNvbmZpZ01hcCkpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ01hcFtrZXldO1xuICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG91dHB1dHNba2V5XSA9IHRoaXMuZXh0cmFjdFdhc21SZXN1bHQoa2V5LCByZXN1bHRzW2NvbmZpZ10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzdWx0c1tjb25maWcuc3RyZWFtXTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy50eXBlID09PSAnZGV0ZWN0aW9uX2xpc3QnKSB7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gZGVjb2RlRGV0ZWN0aW9uTGlzdChyZXN1bHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy50eXBlID09PSAnbGFuZG1hcmtzJykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0LmdldExhbmRtYXJrcygpO1xuICAgICAgICAgIG91dHB1dHNba2V5XSA9IHZhbHVlID8gZGVjb2RlTGFuZG1hcmtzKHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2xhbmRtYXJrc19saXN0Jykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0LmdldExhbmRtYXJrc0xpc3QoKTtcbiAgICAgICAgICBvdXRwdXRzW2tleV0gPSB2YWx1ZSA/IGRlY29kZUxhbmRtYXJrc0xpc3QodmFsdWUpIDogdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy50eXBlID09PSAncmVjdF9saXN0Jykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0LmdldFJlY3RMaXN0KCk7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gdmFsdWUgPyBkZWNvZGVSZWN0TGlzdCh2YWx1ZSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnR5cGUgPT09ICdjbGFzc2lmaWNhdGlvbnNfbGlzdCcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3VsdC5nZXRDbGFzc2lmaWNhdGlvbnNMaXN0KCk7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gdmFsdWUgPyBkZWNvZGVDbGFzc2lmaWNhdGlvbnNMaXN0KHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ29iamVjdF9kZXRlY3Rpb25fbGlzdCcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3VsdC5nZXRPYmplY3REZXRlY3Rpb25MaXN0KCk7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gdmFsdWUgPyBkZWNvZGVPYmplY3REZXRlY3Rpb25MaXN0KHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ3RleHR1cmUnKSB7XG4gICAgICAgICAgbGV0IGhlbHBlciA9XG4gICAgICAgICAgICAgIHRoaXMub3V0U3RyZWFtSGVscGVyc1trZXldIGFzIHN0cmVhbUhlbHBlcnMuSW1hZ2VTdHJlYW1IZWxwZXI7XG4gICAgICAgICAgaWYgKCFoZWxwZXIpIHtcbiAgICAgICAgICAgIGhlbHBlciA9IG5ldyBzdHJlYW1IZWxwZXJzLkltYWdlU3RyZWFtSGVscGVyKHRoaXMud2FzbSwgdGhpcy5nbCk7XG4gICAgICAgICAgICB0aGlzLm91dFN0cmVhbUhlbHBlcnNba2V5XSA9IGhlbHBlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gaGVscGVyLmRlY29kZShyZXN1bHQuZ2V0VGV4dHVyZTJkKCkhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0IGNvbmZpZyB0eXBlOiAnJHtjb25maWcudHlwZX0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy50cmFuc2Zvcm0gJiYgb3V0cHV0c1trZXldKSB7XG4gICAgICAgICAgb3V0cHV0c1trZXldID0gY29uZmlnLnRyYW5zZm9ybShvdXRwdXRzW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIGNvbGxlY3Rpb24gb2YgcmVzdWx0cy4gVGhpcyB0cmllcyB0byBhdXRvZGV0ZWN0XG4gICAqIHRoZSB0eXBlIGFuZCBkb2VzIG5vIHRyYW5zZm9ybWF0aW9uLiBBcnJheXMgd2lsbCBoYXZlIHRoZSBzbGlnaHRseSBtb3JlXG4gICAqIGF3a3dhcmQgZW1zY3JpcHRlbiBhY2Nlc3NvcnMuXG4gICAqIEBUT0RPKG1oYXlzKSBEZXByZWNhdGUgdGhpcyBtZXRob2QgYW5kIGFsd2F5cyBzcGVjaWZ5IHRoZSB0eXBlLlxuICAgKi9cbiAgcHJpdmF0ZSBleHRyYWN0V2FzbVJlc3VsdChzdHJlYW06IHN0cmluZywgcmVzdWx0OiBzb2x1dGlvbnNXYXNtLlJlc3VsdFdhc20pOlxuICAgICAgdW5rbm93biB7XG4gICAgaWYgKHJlc3VsdC5pc051bWJlcigpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldE51bWJlcigpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmlzUmVjdCgpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldFJlY3QoKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5pc0xhbmRtYXJrcygpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldExhbmRtYXJrcygpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmlzTGFuZG1hcmtzTGlzdCgpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmdldExhbmRtYXJrc0xpc3QoKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5pc0NsYXNzaWZpY2F0aW9uc0xpc3QoKSkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5nZXRDbGFzc2lmaWNhdGlvbnNMaXN0KCk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQuaXNPYmplY3REZXRlY3Rpb25MaXN0KCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQuZ2V0T2JqZWN0RGV0ZWN0aW9uTGlzdCgpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmlzVGV4dHVyZTJkKCkpIHtcbiAgICAgIGxldCBoZWxwZXIgPVxuICAgICAgICAgIHRoaXMub3V0U3RyZWFtSGVscGVyc1tzdHJlYW1dIGFzIHN0cmVhbUhlbHBlcnMuSW1hZ2VTdHJlYW1IZWxwZXI7XG4gICAgICBpZiAoIWhlbHBlcikge1xuICAgICAgICBoZWxwZXIgPSBuZXcgc3RyZWFtSGVscGVycy5JbWFnZVN0cmVhbUhlbHBlcih0aGlzLndhc20sIHRoaXMuZ2wpO1xuICAgICAgICB0aGlzLm91dFN0cmVhbUhlbHBlcnNbc3RyZWFtXSA9IGhlbHBlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWxwZXIuZGVjb2RlKHJlc3VsdC5nZXRUZXh0dXJlMmQoKSEpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBncmFwaCBwcm9kdWNlc1xuICAgKiBjb21wYXRpYmxlIHBhY2tldHMgb24gdGhlIG5hbWVkIHN0cmVhbS5cbiAgICovXG4gIHByaXZhdGUgYWRkTGlzdGVuZXJQb3J0KHBvcnQ6IExpc3RlbmVyUG9ydCk6IHZvaWQge1xuICAgIGNvbnN0IHBvcnROYW1lID0gcG9ydC5uYW1lIHx8IERFRkFVTFRfUE9SVF9OQU1FO1xuICAgIGNvbnN0IHdhbnRzQ29weSA9IFsuLi5wb3J0LndhbnRzXTtcbiAgICBjb25zdCB3YW50c1ZlY3RvciA9IG5ldyB0aGlzLndhc20uU3RyaW5nTGlzdCgpO1xuICAgIGZvciAoY29uc3Qgd2FudCBvZiBwb3J0LndhbnRzKSB7XG4gICAgICB3YW50c1ZlY3Rvci5wdXNoX2JhY2sod2FudCk7XG4gICAgfVxuICAgIGNvbnN0IHdhc21MaXN0ZW5lciA9IHtcbiAgICAgIG9uUmVzdWx0czogYXN5bmModmFsdWVzOiBzb2x1dGlvbnNXYXNtLlJlc3VsdFdhc21MaXN0KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IHdhc21SZXN1bHRzOiBXYXNtUmVzdWx0TWFwID0ge307XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwb3J0LndhbnRzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgIHdhc21SZXN1bHRzW3dhbnRzQ29weVtpbmRleF1dID0gdmFsdWVzLmdldChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMudHJhbnNmb3JtT3V0cHV0cyh3YXNtUmVzdWx0cywgcG9ydC5vdXRzKTtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSB0aGlzLmxpc3RlbmVyc1twb3J0TmFtZV07XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgIGF3YWl0IHRoaXMucnVubmluZ1Byb21pc2U7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gbGlzdGVuZXIocmVzdWx0cyk7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nUHJvbWlzZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwYWNrZXRMaXN0ZW5lciA9IHRoaXMud2FzbS5QYWNrZXRMaXN0ZW5lci5pbXBsZW1lbnQod2FzbUxpc3RlbmVyKTtcbiAgICB0aGlzLnNvbHV0aW9uV2FzbS5hdHRhY2hNdWx0aUxpc3RlbmVyKHdhbnRzVmVjdG9yLCBwYWNrZXRMaXN0ZW5lcik7XG4gICAgd2FudHNWZWN0b3IuZGVsZXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogVXNlIHRoaXMgdG8gY29ubmVjdCB1cCB0byBvbmUgbGlzdGVuZXIgcGVyIHBvcnQgbmFtZS4gSWYgcG9ydCBpcyB1bmRlZmluZWQsXG4gICAqIHdoaWNoIHNob3VsZCBiZSB0aGUgY2FzZSBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgZGVmYXVsdCBwb3J0IGlzXG4gICAqIHVzZWQuXG4gICAqL1xuICBvblJlc3VsdHMobGlzdGVuZXI6IFJlc3VsdE1hcExpc3RlbmVyLCBwb3J0Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgcG9ydCA9IHBvcnQgfHwgREVGQVVMVF9QT1JUX05BTUU7XG4gICAgdGhpcy5saXN0ZW5lcnNbcG9ydF0gPSBsaXN0ZW5lcjtcbiAgfVxufVxuXG5nb29nLmV4cG9ydFN5bWJvbCgnU29sdXRpb24nLCBTb2x1dGlvbik7XG5nb29nLmV4cG9ydFN5bWJvbCgnT3B0aW9uVHlwZScsIE9wdGlvblR5cGUpO1xuIl19
+;return exports;});
+
+//third_party/mediapipe/web/solutions/test_harness/test_harness.closure.js
+goog.loadModule(function(exports) {'use strict';goog.module('google3.third_party.mediapipe.web.solutions.test_harness.test_harness');
+var module = module || { id: 'third_party/mediapipe/web/solutions/test_harness/test_harness.closure.js' };
+const tslib_1 = goog.require('google3.third_party.javascript.tslib.tslib');
+/**
+ *
+ * @fileoverview The test harness allows a user to describe a MediaPipe graph,
+ * along with the expectations of that graph, and then test those expectations
+ * through a test harness (WebDriver, e.g.).  We do this by building up the
+ * entire test in a web page based on the specs.
+ *
+ * Generated from: third_party/mediapipe/web/solutions/test_harness/test_harness.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+const tsickle_solutions_api_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.solutions_api");
+const solutionsApi = goog.require('google3.third_party.mediapipe.web.solutions.solutions_api');
+/**
+ * A DIV with class .test will have COMPLETE when the test completes.
+ * @type {string}
+ */
+exports.COMPLETE = 'COMPLETE';
+/**
+ * A DIV with class .test will have INCOMPLETE until the test completes.
+ * @type {string}
+ */
+exports.INCOMPLETE = 'INCOMPLETE';
+/**
+ * Describes one item (stream) of a graph.
+ * @record
+ */
+function TestItemEntry() { }
+exports.TestItemEntry = TestItemEntry;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    TestItemEntry.prototype.name;
+    /** @type {string} */
+    TestItemEntry.prototype.type;
+    /** @type {(undefined|number)} */
+    TestItemEntry.prototype.tolerance;
+    /** @type {(undefined|string)} */
+    TestItemEntry.prototype.src;
+    /** @type {(undefined|*)} */
+    TestItemEntry.prototype.data;
+    /** @type {(undefined|string)} */
+    TestItemEntry.prototype.dataFile;
+    /** @type {(undefined|string)} */
+    TestItemEntry.prototype.dataPattern;
+    /** @type {(undefined|!HTMLImageElement|!HTMLDivElement)} */
+    TestItemEntry.prototype.element;
+    /** @type {(undefined|function(): *)} */
+    TestItemEntry.prototype.getValue;
+    /** @type {(undefined|function(*): !Promise<void>)} */
+    TestItemEntry.prototype.render;
+    /** @type {(undefined|function(!TestItemEntry): !Promise<(undefined|string)>)} */
+    TestItemEntry.prototype.validate;
+}
+/**
+ * Supports extra options for each test case.
+ * @record
+ */
+function TestCaseOptions() { }
+exports.TestCaseOptions = TestCaseOptions;
+/* istanbul ignore if */
+if (false) {
+    /** @type {(undefined|number)} */
+    TestCaseOptions.prototype.warmup;
+}
+/**
+ * Describes a test.
+ * TODO(mhays): Collapse 'outputs' into 'expects'.
+ * @record
+ */
+function TestCase() { }
+exports.TestCase = TestCase;
+/* istanbul ignore if */
+if (false) {
+    /** @type {!Array<!TestItemEntry>} */
+    TestCase.prototype.inputs;
+    /** @type {!Array<!TestItemEntry>} */
+    TestCase.prototype.expects;
+    /** @type {!Array<!TestItemEntry>} */
+    TestCase.prototype.outputs;
+    /** @type {(undefined|!TestCaseOptions)} */
+    TestCase.prototype.options;
+}
+/**
+ * Desribes a complete test that will be run by a harness.
+ * @record
+ */
+function TestConfig() { }
+exports.TestConfig = TestConfig;
+/* istanbul ignore if */
+if (false) {
+    /** @type {string} */
+    TestConfig.prototype.name;
+    /** @type {(undefined|string)} */
+    TestConfig.prototype.binarypb;
+    /** @type {(undefined|!tsickle_solutions_api_1.SolutionConfig)} */
+    TestConfig.prototype.solution;
+    /** @type {(undefined|!TestCase)} */
+    TestConfig.prototype.test;
+    /** @type {(undefined|string)} */
+    TestConfig.prototype.solutionUrl;
+    /** @type {(undefined|string)} */
+    TestConfig.prototype.testUrl;
+}
+/**
+ * Gives the message queue a chance to empty. Run this if you are depenedent on
+ * changes propogating into the DOM.
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function flushDom() {
+    return new Promise((/**
+     * @param {function((void|!PromiseLike<void>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        setTimeout((/**
+         * @return {!Promise<void>}
+         */
+        () => tslib_1.__awaiter(this, void 0, void 0, function* () {
+            resolve();
+        })), 0);
+    }));
+}
+/**
+ * Defines the solution under test.
+ */
+class TestSolution {
+    /**
+     * @param {!tsickle_solutions_api_1.SolutionConfig} config
+     */
+    constructor(config) {
+        this.solution = new solutionsApi.Solution(config);
+    }
+    /**
+     * Shuts down the object. Call before creating a new instance.
+     * @return {!Promise<void>}
+     */
+    close() {
+        this.solution.close();
+        return Promise.resolve();
+    }
+    /**
+     * Initializes the solution. This includes loading ML models and mediapipe
+     * configurations, as well as setting up potential listeners for metadata. If
+     * `initialize` is not called manually, then it will be called the first time
+     * the developer calls `send`.
+     * @return {!Promise<!TestSolution>}
+     */
+    initialize() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            yield this.solution.initialize();
+            return this;
+        });
+    }
+    /**
+     * Sends inputs to the solution. The developer can await the results, which
+     * resolves when the graph and any listeners have completed.
+     * @param {!tsickle_solutions_api_1.InputMap} inputs
+     * @return {!Promise<void>}
+     */
+    send(inputs) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            yield this.solution.send(inputs);
+        });
+    }
+    /**
+     * Registers a single callback that will carry any results that occur
+     * after calling Send().
+     * @param {function(!tsickle_solutions_api_1.ResultMap): (void|!Promise<void>)} listener
+     * @return {void}
+     */
+    onResults(listener) {
+        this.solution.onResults(listener);
+    }
+}
+exports.TestSolution = TestSolution;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {!tsickle_solutions_api_1.Solution}
+     * @private
+     */
+    TestSolution.prototype.solution;
+}
+/**
+ * Used to store data into the textContent of a DIV tag via JSON.stringigy.
+ *
+ * Solves a disparity between primitives and objects.  JSON.stringify does not
+ * work on number | string | boolean, but if we assign it to the data field of
+ * an object, then we can use JSON.stringify normally..
+ * @record
+ */
+function DataHolder() { }
+/* istanbul ignore if */
+if (false) {
+    /** @type {*} */
+    DataHolder.prototype.data;
+}
+/**
+ * Create a string representation of a value. Primitives will be rendered
+ * through string interpolation, objects will be rendered via JSON.stringify.
+ * @param {*} value
+ * @return {string}
+ */
+function displayValue(value) {
+    if (value instanceof Object) {
+        return JSON.stringify(value);
+    }
+    return `${value}`;
+}
+/**
+ * Renders a graph's image buffer into an HTMLImageElement.
+ * @param {!HTMLImageElement} image
+ * @param {!HTMLCanvasElement} buffer
+ * @return {!Promise<void>}
+ */
+function renderImage(image, buffer) {
+    /** @type {!HTMLCanvasElement} */
+    const canvas = document.createElement('canvas');
+    /** @type {!CanvasRenderingContext2D} */
+    const canvasCtx = (/** @type {!CanvasRenderingContext2D} */ (canvas.getContext('2d')));
+    image.width = canvas.width = buffer.width;
+    image.height = canvas.height = buffer.height;
+    canvasCtx.clearRect(0, 0, buffer.width, buffer.height);
+    canvasCtx.drawImage(buffer, 0, 0, buffer.width, buffer.height);
+    /** @type {!HTMLImageElement} */
+    const imageLocal = image;
+    return new Promise((/**
+     * @param {function((void|!PromiseLike<void>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        imageLocal.onload = (/**
+         * @return {void}
+         */
+        () => {
+            resolve();
+        });
+        imageLocal.src = canvas.toDataURL();
+    }));
+}
+/**
+ * Returns the image data of an HTMLImageElement (which we will access as a
+ * data array).
+ * @param {!HTMLImageElement} image
+ * @return {!ImageData}
+ */
+function getImageData(image) {
+    /** @type {!HTMLCanvasElement} */
+    const canvasFrom = document.createElement('canvas');
+    canvasFrom.width = image.width;
+    canvasFrom.height = image.height;
+    /** @type {!CanvasRenderingContext2D} */
+    const ctx = (/** @type {!CanvasRenderingContext2D} */ (canvasFrom.getContext('2d')));
+    ctx.drawImage(image, 0, 0, image.width, image.height);
+    return ctx.getImageData(0, 0, canvasFrom.width, canvasFrom.height);
+}
+/**
+ * Returns undefined if two HTMLImageElements hold the same image within a
+ * %-tolerance. If they don't match, an error message will be returned.
+ * @param {string} stream
+ * @param {!HTMLImageElement} image1
+ * @param {!HTMLImageElement} image2
+ * @param {number} tolerance
+ * @return {!Promise<(undefined|string)>}
+ */
+function validateImage(stream, image1, image2, tolerance) {
+    return new Promise((/**
+     * @param {function((undefined|string|!PromiseLike<(undefined|string)>)): void} resolve
+     * @return {void}
+     */
+    (resolve) => {
+        if (image1.width !== image2.width || image1.height !== image2.height) {
+            resolve(`Image on stream ${stream}: Dimensions don't match. FOUND: ${image1.width}x${image1.height}, EXPECTED: ${image2.width}x${image2.height}`);
+        }
+        /** @type {!Uint8ClampedArray} */
+        const data1 = getImageData(image1).data;
+        /** @type {!Uint8ClampedArray} */
+        const data2 = getImageData(image2).data;
+        /** @type {number} */
+        let diff = 0;
+        for (let i = 0; i < data1.length / 4; i++) {
+            diff += Math.abs(data1[4 * i + 0] - data2[4 * i + 0]) / 255;
+            diff += Math.abs(data1[4 * i + 1] - data2[4 * i + 1]) / 255;
+            diff += Math.abs(data1[4 * i + 2] - data2[4 * i + 2]) / 255;
+        }
+        /** @type {number} */
+        const normDiff = 100 * diff / (image1.width * image1.height * 3);
+        if (normDiff > tolerance) {
+            resolve(`Image on stream ${stream}: Failed within a tolerance of ${tolerance} (was ${normDiff}).`);
+        }
+        resolve(undefined);
+    }));
+}
+/**
+ * @param {!TestItemEntry} item
+ * @param {!HTMLDivElement} appendTo
+ * @return {void}
+ */
+function attachLabel(item, appendTo) {
+    /** @type {!HTMLDivElement} */
+    const label = document.createElement('div');
+    label.classList.add('stream');
+    label.textContent = `Stream: ${item.name}`;
+    appendTo.appendChild(label);
+}
+/**
+ * Given a test item that represents an image, creates a DOM element to hold
+ * everything. Also modifies TestItemEntry with methods to manipulate this
+ * element.
+ * @param {!TestItemEntry} item
+ * @param {!HTMLDivElement} appendTo
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function createImageItem(item, appendTo) {
+    attachLabel(item, appendTo);
+    /** @type {!HTMLImageElement} */
+    const image = item.element = document.createElement('img');
+    image.classList.add(item.name);
+    appendTo.appendChild(image);
+    item.getValue = (/**
+     * @return {(undefined|!HTMLImageElement|!HTMLDivElement)}
+     */
+    () => item.element);
+    item.render = (/**
+     * @param {*} result
+     * @return {!Promise<void>}
+     */
+    (result) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+        yield renderImage(image, (/** @type {!HTMLCanvasElement} */ (result)));
+    }));
+    item.validate = (/**
+     * @param {!TestItemEntry} against
+     * @return {!Promise<(undefined|string)>}
+     */
+    (against) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+        return validateImage(item.name, (/** @type {!HTMLImageElement} */ ((/** @type {(!HTMLImageElement|!HTMLDivElement)} */ (item.element)))), (/** @type {!HTMLImageElement} */ ((/** @type {(!HTMLImageElement|!HTMLDivElement)} */ (against.element)))), against['tolerance'] || 0);
+    }));
+    /** @type {(undefined|string)} */
+    const imageSrc = item.src;
+    if (imageSrc) {
+        return new Promise((/**
+         * @param {function((void|!PromiseLike<void>)): void} resolve
+         * @param {function(?=): void} reject
+         * @return {void}
+         */
+        (resolve, reject) => {
+            image.onload = (/**
+             * @return {!Promise<void>}
+             */
+            () => tslib_1.__awaiter(this, void 0, void 0, function* () {
+                resolve();
+            }));
+            image.onerror = (/**
+             * @return {?}
+             */
+            () => {
+                throw new Error(`Image ${imageSrc} did not load correctly.`);
+            });
+            image.src = imageSrc;
+        }));
+    }
+    return Promise.resolve();
+}
+/**
+ * Given a test item that represents an object or primitive, creates a DOM
+ * element to hold everything. Also modifies TestItemEntry with methods to
+ * manipulate this element.
+ * @param {!TestItemEntry} item
+ * @param {!HTMLDivElement} appendTo
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function createObjectItem(item, appendTo) {
+    return tslib_1.__awaiter(this, void 0, void 0, function* () {
+        attachLabel(item, appendTo);
+        /** @type {!HTMLDivElement} */
+        const element = item.element = document.createElement('div');
+        item.getValue = (/**
+         * @return {*}
+         */
+        () => {
+            if (element.textContent) {
+                return ((/** @type {!DataHolder} */ (JSON.parse(element.textContent)))).data;
+            }
+            else {
+                return undefined;
+            }
+        });
+        item.render = (/**
+         * @param {*} result
+         * @return {!Promise<void>}
+         */
+        (result) => tslib_1.__awaiter(this, void 0, void 0, function* () {
+            /** @type {{data: !Object}} */
+            const buffer = { data: (/** @type {!Object} */ (result)) };
+            element.textContent = JSON.stringify(buffer);
+        }));
+        item.validate = (/**
+         * @param {!TestItemEntry} against
+         * @return {(!Promise<undefined>|!Promise<string>)}
+         */
+        (against) => {
+            /** @type {*} */
+            const itemValue = (/** @type {function(): *} */ (item.getValue))();
+            /** @type {*} */
+            const againstValue = (/** @type {function(): *} */ (against.getValue))();
+            if (against['dataPattern']) {
+                /** @type {!RegExp} */
+                const re = new RegExp(against['dataPattern']);
+                if (re.test(displayValue(itemValue))) {
+                    return Promise.resolve(undefined);
+                }
+                return Promise.resolve(`Object on stream ${item.name} failed pattern ${against['dataPattern']}. FOUND: ${displayValue(itemValue)}`);
+            }
+            else if (itemValue === againstValue) {
+                return Promise.resolve(undefined);
+            }
+            return Promise.resolve(`Object on stream ${item.name} failed. FOUND: ${displayValue(itemValue)}, EXPECTED: ${displayValue(againstValue)}`);
+        });
+        element.classList.add(item.name);
+        if (item.dataFile) {
+            element.textContent = yield (yield fetch(item.dataFile)).text();
+        }
+        else if (item.dataPattern) {
+            element.textContent = JSON.stringify({ data: item.data });
+        }
+        else if (item.data) {
+            element.textContent = JSON.stringify({ data: item.data });
+        }
+        appendTo.appendChild(element);
+        return Promise.resolve();
+    });
+}
+/**
+ * Creates all of the test item entries for each item entry provided.
+ * @param {!Array<!TestItemEntry>} items
+ * @param {!HTMLDivElement} appendTo
+ * @return {!Promise<void>}
+ * @this {*}
+ */
+function createWorkspaceItems(items, appendTo) {
+    return tslib_1.__awaiter(this, void 0, void 0, function* () {
+        for (const item of items) {
+            if (item.type === 'video') {
+                yield createImageItem(item, appendTo);
+            }
+            else {
+                yield createObjectItem(item, appendTo);
+            }
+        }
+    });
+}
+/**
+ * Connects a test harness up to a specified root node (usually document.body).
+ * Call `initialize` to set up the DOM.
+ *
+ * Usage:
+ * 1. Place the JSON.stringify of a test configuration into an input element
+ *    with the class 'test' and then click on a button with the class 'run-test'
+ *    and wait for the div tag with the class '.test-complete' to show the text
+ *    'COMPLETE'.
+ */
+class TestHarness {
+    /**
+     * @private
+     * @param {!tsickle_solutions_api_1.ResultMap} results
+     * @param {!TestConfig} config
+     * @return {!Promise<void>}
+     */
+    onResult(results, config) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            /** @type {!Array<string>} */
+            const errors = [];
+            for (const output of (/** @type {!TestCase} */ (config['test']))['outputs']) {
+                /** @type {string} */
+                const itemName = output['name'];
+                yield (/** @type {function(*): !Promise<void>} */ (output.render))(results[itemName]);
+                for (const expect of (/** @type {!TestCase} */ (config['test']))['expects']) {
+                    if (expect['name'] === itemName) {
+                        /** @type {(undefined|string)} */
+                        const errorMsg = yield (/** @type {function(!TestItemEntry): !Promise<(undefined|string)>} */ (output.validate))(expect);
+                        if (errorMsg) {
+                            errors.push(errorMsg);
+                        }
+                        break;
+                    }
+                }
+            }
+            this.errorsElement.textContent = errors.join('\n');
+            this.testCompleteElement.textContent = exports.COMPLETE;
+        });
+    }
+    /**
+     * Executes the test based on the json instructions sitting in testElement.
+     * See `onResult` for how we leave data for the test harness to read.
+     * @param {!TestConfig} config
+     * @return {!Promise<void>}
+     */
+    run(config) {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            if (config['solutionUrl']) {
+                /** @type {?} */
+                const solutionJson = yield (yield fetch(config['solutionUrl'])).json();
+                config['solution'] = (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (solutionJson));
+            }
+            if (config['testUrl']) {
+                /** @type {?} */
+                const testJson = yield (yield fetch(config['testUrl'])).json();
+                config['test'] = (/** @type {!TestCase} */ (testJson));
+            }
+            if (config['binarypb']) {
+                (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['graph'] = { 'url': config['binarypb'] };
+            }
+            /** @type {string} */
+            const testName = config['name'];
+            (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'] = (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'] || [];
+            (/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'] = [
+                ...(/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))['files'],
+                { url: `${testName}_web_solution_packed_assets_loader.js` },
+                { simd: false, url: `${testName}_web_solution_wasm_bin.js` },
+                { simd: true, url: `${testName}_web_solution_simd_wasm_bin.js` }
+            ];
+            /** @type {!TestSolution} */
+            const solution = yield new TestSolution((/** @type {!tsickle_solutions_api_1.SolutionConfig} */ (config['solution']))).initialize();
+            yield createWorkspaceItems((/** @type {!TestCase} */ (config['test']))['inputs'], this.inputs);
+            yield createWorkspaceItems((/** @type {!TestCase} */ (config['test']))['expects'], this.expects);
+            yield createWorkspaceItems((/** @type {!TestCase} */ (config['test']))['outputs'], this.outputs);
+            yield flushDom();
+            /** @type {!Object<string,*>} */
+            const inputs = {};
+            for (const input of (/** @type {!TestCase} */ (config['test']))['inputs']) {
+                inputs[input.name] = (/** @type {function(): *} */ (input.getValue))();
+            }
+            this.testReadyElement.textContent = exports.COMPLETE;
+            if ((/** @type {!TestCase} */ (config['test']))['options'] && (/** @type {!TestCase} */ (config['test']))['options']['warmup']) {
+                /** @type {number} */
+                const warmup = (/** @type {!TestCase} */ (config['test']))['options']['warmup'];
+                for (let loop = 0; loop < warmup; loop++) {
+                    yield solution.send(inputs);
+                }
+            }
+            solution.onResults((/**
+             * @param {!tsickle_solutions_api_1.ResultMap} data
+             * @return {void}
+             */
+            (data) => {
+                this.onResult(data, config);
+            }));
+            yield solution.send(inputs);
+        });
+    }
+    /**
+     * Sets up the test and should be called before run is called. By design,
+     * run will be called by simulating a click on a button with class `run-test`.
+     * @return {!Promise<void>}
+     */
+    initialize() {
+        return tslib_1.__awaiter(this, void 0, void 0, function* () {
+            this.testElement = (/** @type {!HTMLTextAreaElement} */ (document.querySelector('.test')));
+            this.runTestButton =
+                (/** @type {!HTMLButtonElement} */ (document.querySelector('.run-test')));
+            this.testCompleteElement =
+                (/** @type {!HTMLDivElement} */ (document.querySelector('.test-complete')));
+            this.errorsElement =
+                (/** @type {!HTMLTextAreaElement} */ (document.querySelector('.errors')));
+            this.testReadyElement =
+                (/** @type {!HTMLDivElement} */ (document.querySelector('.test-ready')));
+            this.outputs = (/** @type {!HTMLDivElement} */ (document.querySelector('.outputs')));
+            this.expects = (/** @type {!HTMLDivElement} */ (document.querySelector('.expects')));
+            this.inputs = (/** @type {!HTMLDivElement} */ (document.querySelector('.inputs')));
+            this.runTestButton.onclick = (/**
+             * @return {void}
+             */
+            () => {
+                this.run((/** @type {!TestConfig} */ (JSON.parse(this.testElement.value))));
+            });
+            yield flushDom();
+        });
+    }
+}
+exports.TestHarness = TestHarness;
+/* istanbul ignore if */
+if (false) {
+    /**
+     * @type {!HTMLTextAreaElement}
+     * @private
+     */
+    TestHarness.prototype.testElement;
+    /**
+     * @type {!HTMLTextAreaElement}
+     * @private
+     */
+    TestHarness.prototype.errorsElement;
+    /**
+     * @type {!HTMLButtonElement}
+     * @private
+     */
+    TestHarness.prototype.runTestButton;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.testCompleteElement;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.testReadyElement;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.inputs;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.expects;
+    /**
+     * @type {!HTMLDivElement}
+     * @private
+     */
+    TestHarness.prototype.outputs;
+}
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdF9oYXJuZXNzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvbWVkaWFwaXBlL3dlYi9zb2x1dGlvbnMvdGVzdF9oYXJuZXNzL3Rlc3RfaGFybmVzcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQU9BLCtGQUEwRjs7Ozs7QUFHN0UsUUFBQSxRQUFRLEdBQUcsVUFBVTs7Ozs7QUFFckIsUUFBQSxVQUFVLEdBQUcsWUFBWTs7Ozs7QUFHdEMsNEJBWUM7Ozs7O0lBWEMsNkJBQWE7O0lBQ2IsNkJBQXVCOztJQUN2QixrQ0FBbUI7O0lBQ25CLDRCQUFhOztJQUNiLDZCQUFVOztJQUNWLGlDQUFrQjs7SUFDbEIsb0NBQXFCOztJQUNyQixnQ0FBMEM7O0lBQzFDLGlDQUF5Qjs7SUFDekIsK0JBQTBDOztJQUMxQyxpQ0FBaUU7Ozs7OztBQUluRSw4QkFFQzs7Ozs7SUFEQyxpQ0FBa0I7Ozs7Ozs7QUFPcEIsdUJBTUM7Ozs7O0lBSkMsMEJBQTBCOztJQUMxQiwyQkFBMkI7O0lBQzNCLDJCQUEyQjs7SUFDM0IsMkJBQTRCOzs7Ozs7QUFJOUIseUJBZ0JDOzs7OztJQWRDLDBCQUFhOztJQUdiLDhCQUFrQjs7SUFHbEIsOEJBQXVDOztJQUN2QywwQkFBZ0I7O0lBR2hCLGlDQUFxQjs7SUFHckIsNkJBQWlCOzs7Ozs7OztBQU9uQixTQUFTLFFBQVE7SUFDZixPQUFPLElBQUksT0FBTzs7OztJQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFDN0IsVUFBVTs7O1FBQUMsR0FBUyxFQUFFO1lBQ3BCLE9BQU8sRUFBRSxDQUFDO1FBQ1osQ0FBQyxDQUFBLEdBQUUsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDLEVBQUMsQ0FBQztBQUNMLENBQUM7Ozs7QUFLRCxNQUFhLFlBQVk7Ozs7SUFHdkIsWUFBWSxNQUFtQztRQUM3QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksWUFBWSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNwRCxDQUFDOzs7OztJQUtELEtBQUs7UUFDSCxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3RCLE9BQU8sT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLENBQUM7Ozs7Ozs7O0lBUUssVUFBVTs7WUFDZCxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDakMsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO0tBQUE7Ozs7Ozs7SUFNSyxJQUFJLENBQUMsTUFBNkI7O1lBQ3RDLE1BQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbkMsQ0FBQztLQUFBOzs7Ozs7O0lBTUQsU0FBUyxDQUFDLFFBQXdDO1FBQ2hELElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7Q0FDRjtBQXpDRCxvQ0F5Q0M7Ozs7Ozs7SUF4Q0MsZ0NBQWlEOzs7Ozs7Ozs7O0FBaURuRCx5QkFFQzs7OztJQURDLDBCQUFjOzs7Ozs7OztBQU9oQixTQUFTLFlBQVksQ0FBQyxLQUFjO0lBQ2xDLElBQUksS0FBSyxZQUFZLE1BQU0sRUFBRTtRQUMzQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDOUI7SUFDRCxPQUFPLEdBQUcsS0FBSyxFQUFFLENBQUM7QUFDcEIsQ0FBQzs7Ozs7OztBQUtELFNBQVMsV0FBVyxDQUNoQixLQUF1QixFQUFFLE1BQThCOztVQUNuRCxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7O1VBQ3pDLFNBQVMsR0FBRywyQ0FBQSxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFDO0lBQzFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQzFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQzdDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2RCxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDOztVQUV6RCxVQUFVLEdBQUcsS0FBSztJQUN4QixPQUFPLElBQUksT0FBTzs7OztJQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFDN0IsVUFBVSxDQUFDLE1BQU07OztRQUFHLEdBQUcsRUFBRTtZQUN2QixPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUMsQ0FBQSxDQUFDO1FBQ0YsVUFBVSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDdEMsQ0FBQyxFQUFDLENBQUM7QUFDTCxDQUFDOzs7Ozs7O0FBTUQsU0FBUyxZQUFZLENBQUMsS0FBdUI7O1VBQ3JDLFVBQVUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztJQUNuRCxVQUFVLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDL0IsVUFBVSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDOztVQUMzQixHQUFHLEdBQUcsMkNBQUEsVUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBQztJQUN4QyxHQUFHLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RELE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxLQUFLLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3JFLENBQUM7Ozs7Ozs7Ozs7QUFNRCxTQUFTLGFBQWEsQ0FDbEIsTUFBYyxFQUFFLE1BQXdCLEVBQUUsTUFBd0IsRUFDbEUsU0FBaUI7SUFDbkIsT0FBTyxJQUFJLE9BQU87Ozs7SUFBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQzdCLElBQUksTUFBTSxDQUFDLEtBQUssS0FBSyxNQUFNLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLE1BQU0sRUFBRTtZQUNwRSxPQUFPLENBQUMsbUJBQW1CLE1BQU0sb0NBQzdCLE1BQU0sQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLE1BQU0sZUFBZSxNQUFNLENBQUMsS0FBSyxJQUN4RCxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztTQUN0Qjs7Y0FDSyxLQUFLLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUk7O2NBQ2pDLEtBQUssR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSTs7WUFFbkMsSUFBSSxHQUFHLENBQUM7UUFDWixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDekMsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDNUQsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDNUQsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7U0FDN0Q7O2NBQ0ssUUFBUSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2hFLElBQUksUUFBUSxHQUFHLFNBQVMsRUFBRTtZQUN4QixPQUFPLENBQUMsbUJBQW1CLE1BQU0sa0NBQzdCLFNBQVMsU0FBUyxRQUFRLElBQUksQ0FBQyxDQUFDO1NBQ3JDO1FBQ0QsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JCLENBQUMsRUFBQyxDQUFDO0FBQ0wsQ0FBQzs7Ozs7O0FBRUQsU0FBUyxXQUFXLENBQUMsSUFBbUIsRUFBRSxRQUF3Qjs7VUFDMUQsS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO0lBQzNDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzlCLEtBQUssQ0FBQyxXQUFXLEdBQUcsV0FBVyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0MsUUFBUSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM5QixDQUFDOzs7Ozs7Ozs7O0FBT0QsU0FBUyxlQUFlLENBQ3BCLElBQW1CLEVBQUUsUUFBd0I7SUFDL0MsV0FBVyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzs7VUFDdEIsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7SUFDMUQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9CLFFBQVEsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFNUIsSUFBSSxDQUFDLFFBQVE7OztJQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUEsQ0FBQztJQUNuQyxJQUFJLENBQUMsTUFBTTs7OztJQUFHLENBQU8sTUFBTSxFQUFFLEVBQUU7UUFDN0IsTUFBTSxXQUFXLENBQUMsS0FBSyxFQUFFLG9DQUFBLE1BQU0sRUFBMEIsQ0FBQyxDQUFDO0lBQzdELENBQUMsQ0FBQSxDQUFBLENBQUM7SUFDRixJQUFJLENBQUMsUUFBUTs7OztJQUFHLENBQU8sT0FBTyxFQUFFLEVBQUU7UUFDaEMsT0FBTyxhQUFhLENBQ2hCLElBQUksQ0FBQyxJQUFJLEVBQUUsbUNBQUEscURBQUEsSUFBSSxDQUFDLE9BQU8sRUFBQyxFQUFvQixFQUM1QyxtQ0FBQSxxREFBQSxPQUFPLENBQUMsT0FBTyxFQUFDLEVBQW9CLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZFLENBQUMsQ0FBQSxDQUFBLENBQUM7O1VBRUksUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHO0lBQ3pCLElBQUksUUFBUSxFQUFFO1FBQ1osT0FBTyxJQUFJLE9BQU87Ozs7O1FBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDckMsS0FBSyxDQUFDLE1BQU07OztZQUFHLEdBQVMsRUFBRTtnQkFDeEIsT0FBTyxFQUFFLENBQUM7WUFDWixDQUFDLENBQUEsQ0FBQSxDQUFDO1lBQ0YsS0FBSyxDQUFDLE9BQU87OztZQUFHLEdBQUcsRUFBRTtnQkFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLFFBQVEsMEJBQTBCLENBQUMsQ0FBQztZQUMvRCxDQUFDLENBQUEsQ0FBQztZQUNGLEtBQUssQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDO1FBQ3ZCLENBQUMsRUFBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUMzQixDQUFDOzs7Ozs7Ozs7O0FBT0QsU0FBZSxnQkFBZ0IsQ0FDM0IsSUFBbUIsRUFBRSxRQUF3Qjs7UUFDL0MsV0FBVyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzs7Y0FDdEIsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7UUFDNUQsSUFBSSxDQUFDLFFBQVE7OztRQUFHLEdBQUcsRUFBRTtZQUNuQixJQUFJLE9BQU8sQ0FBQyxXQUFXLEVBQUU7Z0JBQ3ZCLE9BQU8sQ0FBQyw2QkFBQSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFBYyxDQUFDLENBQUMsSUFBSSxDQUFDO2FBQzdEO2lCQUFNO2dCQUNMLE9BQU8sU0FBUyxDQUFDO2FBQ2xCO1FBQ0gsQ0FBQyxDQUFBLENBQUM7UUFDRixJQUFJLENBQUMsTUFBTTs7OztRQUFHLENBQU8sTUFBZSxFQUFFLEVBQUU7O2tCQUNoQyxNQUFNLEdBQUcsRUFBQyxJQUFJLEVBQUUseUJBQUEsTUFBTSxFQUFVLEVBQUM7WUFDdkMsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLENBQUMsQ0FBQSxDQUFBLENBQUM7UUFDRixJQUFJLENBQUMsUUFBUTs7OztRQUFHLENBQUMsT0FBc0IsRUFBRSxFQUFFOztrQkFDbkMsU0FBUyxHQUFHLCtCQUFBLElBQUksQ0FBQyxRQUFRLEVBQUMsRUFBRTs7a0JBQzVCLFlBQVksR0FBRywrQkFBQSxPQUFPLENBQUMsUUFBUSxFQUFDLEVBQUU7WUFDeEMsSUFBSSxPQUFPLENBQUMsYUFBYSxDQUFDLEVBQUU7O3NCQUNwQixFQUFFLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUM3QyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUU7b0JBQ3BDLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztpQkFDbkM7Z0JBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLG9CQUFvQixJQUFJLENBQUMsSUFBSSxtQkFDaEQsT0FBTyxDQUFDLGFBQWEsQ0FBQyxZQUFZLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDbEU7aUJBQU0sSUFBSSxTQUFTLEtBQUssWUFBWSxFQUFFO2dCQUNyQyxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDbkM7WUFDRCxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsb0JBQW9CLElBQUksQ0FBQyxJQUFJLG1CQUNoRCxZQUFZLENBQUMsU0FBUyxDQUFDLGVBQWUsWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxRSxDQUFDLENBQUEsQ0FBQztRQUNGLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVqQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsT0FBTyxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDakU7YUFBTSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDM0IsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1NBQ3pEO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ3BCLE9BQU8sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztTQUN6RDtRQUVELFFBQVEsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDOUIsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDM0IsQ0FBQztDQUFBOzs7Ozs7OztBQUtELFNBQWUsb0JBQW9CLENBQy9CLEtBQXNCLEVBQUUsUUFBd0I7O1FBQ2xELEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO1lBQ3hCLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUU7Z0JBQ3pCLE1BQU0sZUFBZSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzthQUN2QztpQkFBTTtnQkFDTCxNQUFNLGdCQUFnQixDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzthQUN4QztTQUNGO0lBQ0gsQ0FBQztDQUFBOzs7Ozs7Ozs7OztBQVlELE1BQWEsV0FBVzs7Ozs7OztJQVVSLFFBQVEsQ0FBQyxPQUErQixFQUFFLE1BQWtCOzs7a0JBRWxFLE1BQU0sR0FBYSxFQUFFO1lBQzNCLEtBQUssTUFBTSxNQUFNLElBQUksMkJBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsU0FBUyxDQUFDLEVBQUU7O3NCQUN6QyxRQUFRLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDL0IsTUFBTSw2Q0FBQSxNQUFNLENBQUMsTUFBTSxFQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hDLEtBQUssTUFBTSxNQUFNLElBQUksMkJBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsU0FBUyxDQUFDLEVBQUU7b0JBQy9DLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLFFBQVEsRUFBRTs7OEJBQ3pCLFFBQVEsR0FBRyxNQUFNLHdFQUFBLE1BQU0sQ0FBQyxRQUFRLEVBQUMsQ0FBQyxNQUFNLENBQUM7d0JBQy9DLElBQUksUUFBUSxFQUFFOzRCQUNaLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7eUJBQ3ZCO3dCQUNELE1BQU07cUJBQ1A7aUJBQ0Y7YUFDRjtZQUNELElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsR0FBRyxnQkFBUSxDQUFDO1FBQ2xELENBQUM7S0FBQTs7Ozs7OztJQU1LLEdBQUcsQ0FBQyxNQUFrQjs7WUFDMUIsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7O3NCQUNuQixZQUFZLEdBQUcsTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFO2dCQUN0RSxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcseURBQUEsWUFBWSxFQUErQixDQUFDO2FBQ2xFO1lBQ0QsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7O3NCQUNmLFFBQVEsR0FBRyxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUU7Z0JBQzlELE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRywyQkFBQSxRQUFRLEVBQVksQ0FBQzthQUN2QztZQUNELElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO2dCQUN0Qix5REFBQSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUMsQ0FBQzthQUM1RDs7a0JBQ0ssUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDL0IseURBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcseURBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2xFLHlEQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHO2dCQUM3QixHQUFHLHlEQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBQyxDQUFDLE9BQU8sQ0FBQztnQkFDL0IsRUFBQyxHQUFHLEVBQUUsR0FBRyxRQUFRLHVDQUF1QyxFQUFDO2dCQUN6RCxFQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsUUFBUSwyQkFBMkIsRUFBQztnQkFDMUQsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLFFBQVEsZ0NBQWdDLEVBQUM7YUFDL0QsQ0FBQzs7a0JBRUksUUFBUSxHQUFHLE1BQU0sSUFBSSxZQUFZLENBQUMseURBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUU7WUFFekUsTUFBTSxvQkFBb0IsQ0FBQywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbkUsTUFBTSxvQkFBb0IsQ0FBQywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckUsTUFBTSxvQkFBb0IsQ0FBQywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckUsTUFBTSxRQUFRLEVBQUUsQ0FBQzs7a0JBRVgsTUFBTSxHQUE2QixFQUFFO1lBQzNDLEtBQUssTUFBTSxLQUFLLElBQUksMkJBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQzdDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsK0JBQUEsS0FBSyxDQUFDLFFBQVEsRUFBQyxFQUFFLENBQUM7YUFDeEM7WUFDRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxHQUFHLGdCQUFRLENBQUM7WUFDN0MsSUFBSSwyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSwyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRTs7c0JBQ2hFLE1BQU0sR0FBRywyQkFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUM7Z0JBQ25ELEtBQUssSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUU7b0JBQ3hDLE1BQU0sUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztpQkFDN0I7YUFDRjtZQUNELFFBQVEsQ0FBQyxTQUFTOzs7O1lBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDOUIsQ0FBQyxFQUFDLENBQUM7WUFDSCxNQUFNLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUIsQ0FBQztLQUFBOzs7Ozs7SUFNSyxVQUFVOztZQUNkLElBQUksQ0FBQyxXQUFXLEdBQUcsc0NBQUEsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsRUFBdUIsQ0FBQztZQUMxRSxJQUFJLENBQUMsYUFBYTtnQkFDZCxvQ0FBQSxRQUFRLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxFQUFxQixDQUFDO1lBQzdELElBQUksQ0FBQyxtQkFBbUI7Z0JBQ3BCLGlDQUFBLFFBQVEsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsRUFBa0IsQ0FBQztZQUMvRCxJQUFJLENBQUMsYUFBYTtnQkFDZCxzQ0FBQSxRQUFRLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxFQUF1QixDQUFDO1lBQzdELElBQUksQ0FBQyxnQkFBZ0I7Z0JBQ2pCLGlDQUFBLFFBQVEsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLEVBQWtCLENBQUM7WUFDNUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxpQ0FBQSxRQUFRLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxFQUFrQixDQUFDO1lBQ3BFLElBQUksQ0FBQyxPQUFPLEdBQUcsaUNBQUEsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsRUFBa0IsQ0FBQztZQUNwRSxJQUFJLENBQUMsTUFBTSxHQUFHLGlDQUFBLFFBQVEsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEVBQWtCLENBQUM7WUFDbEUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPOzs7WUFBRyxHQUFHLEVBQUU7Z0JBQ2hDLElBQUksQ0FBQyxHQUFHLENBQUMsNkJBQUEsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFjLENBQUMsQ0FBQztZQUM3RCxDQUFDLENBQUEsQ0FBQztZQUNGLE1BQU0sUUFBUSxFQUFFLENBQUM7UUFDbkIsQ0FBQztLQUFBO0NBQ0Y7QUFyR0Qsa0NBcUdDOzs7Ozs7O0lBcEdDLGtDQUEwQzs7Ozs7SUFDMUMsb0NBQTRDOzs7OztJQUM1QyxvQ0FBMEM7Ozs7O0lBQzFDLDBDQUE2Qzs7Ozs7SUFDN0MsdUNBQTBDOzs7OztJQUMxQyw2QkFBZ0M7Ozs7O0lBQ2hDLDhCQUFpQzs7Ozs7SUFDakMsOEJBQWlDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoZSB0ZXN0IGhhcm5lc3MgYWxsb3dzIGEgdXNlciB0byBkZXNjcmliZSBhIE1lZGlhUGlwZSBncmFwaCxcbiAqIGFsb25nIHdpdGggdGhlIGV4cGVjdGF0aW9ucyBvZiB0aGF0IGdyYXBoLCBhbmQgdGhlbiB0ZXN0IHRob3NlIGV4cGVjdGF0aW9uc1xuICogdGhyb3VnaCBhIHRlc3QgaGFybmVzcyAoV2ViRHJpdmVyLCBlLmcuKS4gIFdlIGRvIHRoaXMgYnkgYnVpbGRpbmcgdXAgdGhlXG4gKiBlbnRpcmUgdGVzdCBpbiBhIHdlYiBwYWdlIGJhc2VkIG9uIHRoZSBzcGVjcy5cbiAqL1xuXG5pbXBvcnQgKiBhcyBzb2x1dGlvbnNBcGkgZnJvbSAnZ29vZ2xlMy90aGlyZF9wYXJ0eS9tZWRpYXBpcGUvd2ViL3NvbHV0aW9ucy9zb2x1dGlvbnNfYXBpJztcblxuLyoqIEEgRElWIHdpdGggY2xhc3MgLnRlc3Qgd2lsbCBoYXZlIENPTVBMRVRFIHdoZW4gdGhlIHRlc3QgY29tcGxldGVzLiAqL1xuZXhwb3J0IGNvbnN0IENPTVBMRVRFID0gJ0NPTVBMRVRFJztcbi8qKiBBIERJViB3aXRoIGNsYXNzIC50ZXN0IHdpbGwgaGF2ZSBJTkNPTVBMRVRFIHVudGlsIHRoZSB0ZXN0IGNvbXBsZXRlcy4gKi9cbmV4cG9ydCBjb25zdCBJTkNPTVBMRVRFID0gJ0lOQ09NUExFVEUnO1xuXG4vKiogRGVzY3JpYmVzIG9uZSBpdGVtIChzdHJlYW0pIG9mIGEgZ3JhcGguICovXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RJdGVtRW50cnkge1xuICBuYW1lOiBzdHJpbmc7XG4gIHR5cGU6ICd2aWRlbyd8J29iamVjdCc7XG4gIHRvbGVyYW5jZT86IG51bWJlcjtcbiAgc3JjPzogc3RyaW5nO1xuICBkYXRhPzoge307XG4gIGRhdGFGaWxlPzogc3RyaW5nO1xuICBkYXRhUGF0dGVybj86IHN0cmluZztcbiAgZWxlbWVudD86IEhUTUxEaXZFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnQ7XG4gIGdldFZhbHVlPzogKCkgPT4gdW5rbm93bjtcbiAgcmVuZGVyPzogKGRhdGE6IHVua25vd24pID0+IFByb21pc2U8dm9pZD47XG4gIHZhbGlkYXRlPzogKGFnYWluc3Q6IFRlc3RJdGVtRW50cnkpID0+IFByb21pc2U8c3RyaW5nfHVuZGVmaW5lZD47XG59XG5cbi8qKiBTdXBwb3J0cyBleHRyYSBvcHRpb25zIGZvciBlYWNoIHRlc3QgY2FzZS4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdENhc2VPcHRpb25zIHtcbiAgJ3dhcm11cCc/OiBudW1iZXI7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgdGVzdC5cbiAqIFRPRE8obWhheXMpOiBDb2xsYXBzZSAnb3V0cHV0cycgaW50byAnZXhwZWN0cycuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdENhc2Uge1xuICAvLyBUaW1lIHRvIGFsbG93IHRoZSB0ZXN0IHRvIHJ1biBiZWZvcmUgZmFpbGluZy4gSW4gbWlsbGlzZWNvbmRzLlxuICAnaW5wdXRzJzogVGVzdEl0ZW1FbnRyeVtdO1xuICAnZXhwZWN0cyc6IFRlc3RJdGVtRW50cnlbXTtcbiAgJ291dHB1dHMnOiBUZXN0SXRlbUVudHJ5W107XG4gICdvcHRpb25zJz86IFRlc3RDYXNlT3B0aW9ucztcbn1cblxuLyoqIERlc3JpYmVzIGEgY29tcGxldGUgdGVzdCB0aGF0IHdpbGwgYmUgcnVuIGJ5IGEgaGFybmVzcy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdENvbmZpZyB7XG4gIC8vIE5hbWUgb2YgdGhlIHRlc3QsIHVzZWQgdG8gY3JlYXRlIGEgZmV3IGZpbGUgbmFtZXMgd2hlbiBsb2FkaW5nLlxuICBuYW1lOiBzdHJpbmc7XG4gIC8vIE5hbWUgb2YgdGhlIGJpbmFyeXBiIGZpbGUuIElmIHNwZWNpZmllZCwgaXQgb3ZlcndyaXRlcyB0aGUgb25lIGluIHRoZVxuICAvLyBncmFwaC5qc29uLlxuICBiaW5hcnlwYj86IHN0cmluZztcbiAgLy8gVGhlIFNvbHV0aW9uIGNvbmZpZyBtdXN0IHN1cnZpdmUgSlNPTi5zdHJpbmdpZnkgLT4gSlNPTi5wYXJzZSBhcyB3ZSBhcmVcbiAgLy8gc2VuZGluZyB0aGlzIG9iamVjdCBhcyBhIG1lc3NhZ2UgKG1vcmUgb3IgbGVzcykuXG4gIHNvbHV0aW9uPzogc29sdXRpb25zQXBpLlNvbHV0aW9uQ29uZmlnO1xuICB0ZXN0PzogVGVzdENhc2U7XG4gIC8vIElmIHN1cHBsaWVkLCB0aGUgaGFybmVzcyB3aWxsIHJlYWQgdGhlIEpTT04gZnJvbSB0aGUgdXJsIGFuZCBwdXQgaXQgaW50b1xuICAvLyBzb2x1dGlvbi5cbiAgc29sdXRpb25Vcmw/OiBzdHJpbmc7XG4gIC8vIElmIHN1cHBsaWVkLCB0aGUgaGFybmVzcyB3aWxsIHJlYWQgdGhlIEpTT04gZnJvbSB0aGUgdXJsIGFuZCBwdXQgaXQgaW50b1xuICAvLyB0ZXN0LlxuICB0ZXN0VXJsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEdpdmVzIHRoZSBtZXNzYWdlIHF1ZXVlIGEgY2hhbmNlIHRvIGVtcHR5LiBSdW4gdGhpcyBpZiB5b3UgYXJlIGRlcGVuZWRlbnQgb25cbiAqIGNoYW5nZXMgcHJvcG9nYXRpbmcgaW50byB0aGUgRE9NLlxuICovXG5mdW5jdGlvbiBmbHVzaERvbSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSwgMCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIERlZmluZXMgdGhlIHNvbHV0aW9uIHVuZGVyIHRlc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXN0U29sdXRpb24ge1xuICBwcml2YXRlIHJlYWRvbmx5IHNvbHV0aW9uOiBzb2x1dGlvbnNBcGkuU29sdXRpb247XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBzb2x1dGlvbnNBcGkuU29sdXRpb25Db25maWcpIHtcbiAgICB0aGlzLnNvbHV0aW9uID0gbmV3IHNvbHV0aW9uc0FwaS5Tb2x1dGlvbihjb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNodXRzIGRvd24gdGhlIG9iamVjdC4gQ2FsbCBiZWZvcmUgY3JlYXRpbmcgYSBuZXcgaW5zdGFuY2UuXG4gICAqL1xuICBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnNvbHV0aW9uLmNsb3NlKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBzb2x1dGlvbi4gVGhpcyBpbmNsdWRlcyBsb2FkaW5nIE1MIG1vZGVscyBhbmQgbWVkaWFwaXBlXG4gICAqIGNvbmZpZ3VyYXRpb25zLCBhcyB3ZWxsIGFzIHNldHRpbmcgdXAgcG90ZW50aWFsIGxpc3RlbmVycyBmb3IgbWV0YWRhdGEuIElmXG4gICAqIGBpbml0aWFsaXplYCBpcyBub3QgY2FsbGVkIG1hbnVhbGx5LCB0aGVuIGl0IHdpbGwgYmUgY2FsbGVkIHRoZSBmaXJzdCB0aW1lXG4gICAqIHRoZSBkZXZlbG9wZXIgY2FsbHMgYHNlbmRgLlxuICAgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPFRlc3RTb2x1dGlvbj4ge1xuICAgIGF3YWl0IHRoaXMuc29sdXRpb24uaW5pdGlhbGl6ZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGlucHV0cyB0byB0aGUgc29sdXRpb24uIFRoZSBkZXZlbG9wZXIgY2FuIGF3YWl0IHRoZSByZXN1bHRzLCB3aGljaFxuICAgKiByZXNvbHZlcyB3aGVuIHRoZSBncmFwaCBhbmQgYW55IGxpc3RlbmVycyBoYXZlIGNvbXBsZXRlZC5cbiAgICovXG4gIGFzeW5jIHNlbmQoaW5wdXRzOiBzb2x1dGlvbnNBcGkuSW5wdXRNYXApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnNvbHV0aW9uLnNlbmQoaW5wdXRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBzaW5nbGUgY2FsbGJhY2sgdGhhdCB3aWxsIGNhcnJ5IGFueSByZXN1bHRzIHRoYXQgb2NjdXJcbiAgICogYWZ0ZXIgY2FsbGluZyBTZW5kKCkuXG4gICAqL1xuICBvblJlc3VsdHMobGlzdGVuZXI6IHNvbHV0aW9uc0FwaS5SZXN1bHRNYXBMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuc29sdXRpb24ub25SZXN1bHRzKGxpc3RlbmVyKTtcbiAgfVxufVxuXG4vKipcbiAqIFVzZWQgdG8gc3RvcmUgZGF0YSBpbnRvIHRoZSB0ZXh0Q29udGVudCBvZiBhIERJViB0YWcgdmlhIEpTT04uc3RyaW5naWd5LlxuICpcbiAqIFNvbHZlcyBhIGRpc3Bhcml0eSBiZXR3ZWVuIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMuICBKU09OLnN0cmluZ2lmeSBkb2VzIG5vdFxuICogd29yayBvbiBudW1iZXIgfCBzdHJpbmcgfCBib29sZWFuLCBidXQgaWYgd2UgYXNzaWduIGl0IHRvIHRoZSBkYXRhIGZpZWxkIG9mXG4gKiBhbiBvYmplY3QsIHRoZW4gd2UgY2FuIHVzZSBKU09OLnN0cmluZ2lmeSBub3JtYWxseS4uXG4gKi9cbmludGVyZmFjZSBEYXRhSG9sZGVyIHtcbiAgZGF0YTogdW5rbm93bjtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2YWx1ZS4gUHJpbWl0aXZlcyB3aWxsIGJlIHJlbmRlcmVkXG4gKiB0aHJvdWdoIHN0cmluZyBpbnRlcnBvbGF0aW9uLCBvYmplY3RzIHdpbGwgYmUgcmVuZGVyZWQgdmlhIEpTT04uc3RyaW5naWZ5LlxuICovXG5mdW5jdGlvbiBkaXNwbGF5VmFsdWUodmFsdWU6IHVua25vd24pOiBzdHJpbmcge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICB9XG4gIHJldHVybiBgJHt2YWx1ZX1gO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgYSBncmFwaCdzIGltYWdlIGJ1ZmZlciBpbnRvIGFuIEhUTUxJbWFnZUVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckltYWdlKFxuICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCBidWZmZXI6IHNvbHV0aW9uc0FwaS5HcHVCdWZmZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIGNvbnN0IGNhbnZhc0N0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcbiAgaW1hZ2Uud2lkdGggPSBjYW52YXMud2lkdGggPSBidWZmZXIud2lkdGg7XG4gIGltYWdlLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQgPSBidWZmZXIuaGVpZ2h0O1xuICBjYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIGJ1ZmZlci53aWR0aCwgYnVmZmVyLmhlaWdodCk7XG4gIGNhbnZhc0N0eC5kcmF3SW1hZ2UoYnVmZmVyLCAwLCAwLCBidWZmZXIud2lkdGgsIGJ1ZmZlci5oZWlnaHQpO1xuXG4gIGNvbnN0IGltYWdlTG9jYWwgPSBpbWFnZTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgaW1hZ2VMb2NhbC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICBpbWFnZUxvY2FsLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW1hZ2UgZGF0YSBvZiBhbiBIVE1MSW1hZ2VFbGVtZW50ICh3aGljaCB3ZSB3aWxsIGFjY2VzcyBhcyBhXG4gKiBkYXRhIGFycmF5KS5cbiAqL1xuZnVuY3Rpb24gZ2V0SW1hZ2VEYXRhKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KTogSW1hZ2VEYXRhIHtcbiAgY29uc3QgY2FudmFzRnJvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBjYW52YXNGcm9tLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gIGNhbnZhc0Zyb20uaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICBjb25zdCBjdHggPSBjYW52YXNGcm9tLmdldENvbnRleHQoJzJkJykhO1xuICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcbiAgcmV0dXJuIGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzRnJvbS53aWR0aCwgY2FudmFzRnJvbS5oZWlnaHQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdW5kZWZpbmVkIGlmIHR3byBIVE1MSW1hZ2VFbGVtZW50cyBob2xkIHRoZSBzYW1lIGltYWdlIHdpdGhpbiBhXG4gKiAlLXRvbGVyYW5jZS4gSWYgdGhleSBkb24ndCBtYXRjaCwgYW4gZXJyb3IgbWVzc2FnZSB3aWxsIGJlIHJldHVybmVkLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUltYWdlKFxuICAgIHN0cmVhbTogc3RyaW5nLCBpbWFnZTE6IEhUTUxJbWFnZUVsZW1lbnQsIGltYWdlMjogSFRNTEltYWdlRWxlbWVudCxcbiAgICB0b2xlcmFuY2U6IG51bWJlcik6IFByb21pc2U8c3RyaW5nfHVuZGVmaW5lZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBpZiAoaW1hZ2UxLndpZHRoICE9PSBpbWFnZTIud2lkdGggfHwgaW1hZ2UxLmhlaWdodCAhPT0gaW1hZ2UyLmhlaWdodCkge1xuICAgICAgcmVzb2x2ZShgSW1hZ2Ugb24gc3RyZWFtICR7c3RyZWFtfTogRGltZW5zaW9ucyBkb24ndCBtYXRjaC4gRk9VTkQ6ICR7XG4gICAgICAgICAgaW1hZ2UxLndpZHRofXgke2ltYWdlMS5oZWlnaHR9LCBFWFBFQ1RFRDogJHtpbWFnZTIud2lkdGh9eCR7XG4gICAgICAgICAgaW1hZ2UyLmhlaWdodH1gKTtcbiAgICB9XG4gICAgY29uc3QgZGF0YTEgPSBnZXRJbWFnZURhdGEoaW1hZ2UxKS5kYXRhO1xuICAgIGNvbnN0IGRhdGEyID0gZ2V0SW1hZ2VEYXRhKGltYWdlMikuZGF0YTtcblxuICAgIGxldCBkaWZmID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGExLmxlbmd0aCAvIDQ7IGkrKykge1xuICAgICAgZGlmZiArPSBNYXRoLmFicyhkYXRhMVs0ICogaSArIDBdIC0gZGF0YTJbNCAqIGkgKyAwXSkgLyAyNTU7XG4gICAgICBkaWZmICs9IE1hdGguYWJzKGRhdGExWzQgKiBpICsgMV0gLSBkYXRhMls0ICogaSArIDFdKSAvIDI1NTtcbiAgICAgIGRpZmYgKz0gTWF0aC5hYnMoZGF0YTFbNCAqIGkgKyAyXSAtIGRhdGEyWzQgKiBpICsgMl0pIC8gMjU1O1xuICAgIH1cbiAgICBjb25zdCBub3JtRGlmZiA9IDEwMCAqIGRpZmYgLyAoaW1hZ2UxLndpZHRoICogaW1hZ2UxLmhlaWdodCAqIDMpO1xuICAgIGlmIChub3JtRGlmZiA+IHRvbGVyYW5jZSkge1xuICAgICAgcmVzb2x2ZShgSW1hZ2Ugb24gc3RyZWFtICR7c3RyZWFtfTogRmFpbGVkIHdpdGhpbiBhIHRvbGVyYW5jZSBvZiAke1xuICAgICAgICAgIHRvbGVyYW5jZX0gKHdhcyAke25vcm1EaWZmfSkuYCk7XG4gICAgfVxuICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGF0dGFjaExhYmVsKGl0ZW06IFRlc3RJdGVtRW50cnksIGFwcGVuZFRvOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdzdHJlYW0nKTtcbiAgbGFiZWwudGV4dENvbnRlbnQgPSBgU3RyZWFtOiAke2l0ZW0ubmFtZX1gO1xuICBhcHBlbmRUby5hcHBlbmRDaGlsZChsYWJlbCk7XG59XG5cbi8qKlxuICogR2l2ZW4gYSB0ZXN0IGl0ZW0gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLCBjcmVhdGVzIGEgRE9NIGVsZW1lbnQgdG8gaG9sZFxuICogZXZlcnl0aGluZy4gQWxzbyBtb2RpZmllcyBUZXN0SXRlbUVudHJ5IHdpdGggbWV0aG9kcyB0byBtYW5pcHVsYXRlIHRoaXNcbiAqIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUltYWdlSXRlbShcbiAgICBpdGVtOiBUZXN0SXRlbUVudHJ5LCBhcHBlbmRUbzogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXR0YWNoTGFiZWwoaXRlbSwgYXBwZW5kVG8pO1xuICBjb25zdCBpbWFnZSA9IGl0ZW0uZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBpbWFnZS5jbGFzc0xpc3QuYWRkKGl0ZW0ubmFtZSk7XG4gIGFwcGVuZFRvLmFwcGVuZENoaWxkKGltYWdlKTtcblxuICBpdGVtLmdldFZhbHVlID0gKCkgPT4gaXRlbS5lbGVtZW50O1xuICBpdGVtLnJlbmRlciA9IGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICBhd2FpdCByZW5kZXJJbWFnZShpbWFnZSwgcmVzdWx0IGFzIHNvbHV0aW9uc0FwaS5HcHVCdWZmZXIpO1xuICB9O1xuICBpdGVtLnZhbGlkYXRlID0gYXN5bmMgKGFnYWluc3QpID0+IHtcbiAgICByZXR1cm4gdmFsaWRhdGVJbWFnZShcbiAgICAgICAgaXRlbS5uYW1lLCBpdGVtLmVsZW1lbnQhIGFzIEhUTUxJbWFnZUVsZW1lbnQsXG4gICAgICAgIGFnYWluc3QuZWxlbWVudCEgYXMgSFRNTEltYWdlRWxlbWVudCwgYWdhaW5zdFsndG9sZXJhbmNlJ10gfHwgMCk7XG4gIH07XG5cbiAgY29uc3QgaW1hZ2VTcmMgPSBpdGVtLnNyYztcbiAgaWYgKGltYWdlU3JjKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGltYWdlLm9ubG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcbiAgICAgIGltYWdlLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW1hZ2UgJHtpbWFnZVNyY30gZGlkIG5vdCBsb2FkIGNvcnJlY3RseS5gKTtcbiAgICAgIH07XG4gICAgICBpbWFnZS5zcmMgPSBpbWFnZVNyYztcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59XG5cbi8qKlxuICogR2l2ZW4gYSB0ZXN0IGl0ZW0gdGhhdCByZXByZXNlbnRzIGFuIG9iamVjdCBvciBwcmltaXRpdmUsIGNyZWF0ZXMgYSBET01cbiAqIGVsZW1lbnQgdG8gaG9sZCBldmVyeXRoaW5nLiBBbHNvIG1vZGlmaWVzIFRlc3RJdGVtRW50cnkgd2l0aCBtZXRob2RzIHRvXG4gKiBtYW5pcHVsYXRlIHRoaXMgZWxlbWVudC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlT2JqZWN0SXRlbShcbiAgICBpdGVtOiBUZXN0SXRlbUVudHJ5LCBhcHBlbmRUbzogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXR0YWNoTGFiZWwoaXRlbSwgYXBwZW5kVG8pO1xuICBjb25zdCBlbGVtZW50ID0gaXRlbS5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGl0ZW0uZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgaWYgKGVsZW1lbnQudGV4dENvbnRlbnQpIHtcbiAgICAgIHJldHVybiAoSlNPTi5wYXJzZShlbGVtZW50LnRleHRDb250ZW50KSBhcyBEYXRhSG9sZGVyKS5kYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbiAgaXRlbS5yZW5kZXIgPSBhc3luYyAocmVzdWx0OiB1bmtub3duKSA9PiB7XG4gICAgY29uc3QgYnVmZmVyID0ge2RhdGE6IHJlc3VsdCBhcyBvYmplY3R9O1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShidWZmZXIpO1xuICB9O1xuICBpdGVtLnZhbGlkYXRlID0gKGFnYWluc3Q6IFRlc3RJdGVtRW50cnkpID0+IHtcbiAgICBjb25zdCBpdGVtVmFsdWUgPSBpdGVtLmdldFZhbHVlISgpO1xuICAgIGNvbnN0IGFnYWluc3RWYWx1ZSA9IGFnYWluc3QuZ2V0VmFsdWUhKCk7XG4gICAgaWYgKGFnYWluc3RbJ2RhdGFQYXR0ZXJuJ10pIHtcbiAgICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChhZ2FpbnN0WydkYXRhUGF0dGVybiddKTtcbiAgICAgIGlmIChyZS50ZXN0KGRpc3BsYXlWYWx1ZShpdGVtVmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGBPYmplY3Qgb24gc3RyZWFtICR7aXRlbS5uYW1lfSBmYWlsZWQgcGF0dGVybiAke1xuICAgICAgICAgIGFnYWluc3RbJ2RhdGFQYXR0ZXJuJ119LiBGT1VORDogJHtkaXNwbGF5VmFsdWUoaXRlbVZhbHVlKX1gKTtcbiAgICB9IGVsc2UgaWYgKGl0ZW1WYWx1ZSA9PT0gYWdhaW5zdFZhbHVlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYE9iamVjdCBvbiBzdHJlYW0gJHtpdGVtLm5hbWV9IGZhaWxlZC4gRk9VTkQ6ICR7XG4gICAgICAgIGRpc3BsYXlWYWx1ZShpdGVtVmFsdWUpfSwgRVhQRUNURUQ6ICR7ZGlzcGxheVZhbHVlKGFnYWluc3RWYWx1ZSl9YCk7XG4gIH07XG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChpdGVtLm5hbWUpO1xuXG4gIGlmIChpdGVtLmRhdGFGaWxlKSB7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGF3YWl0IChhd2FpdCBmZXRjaChpdGVtLmRhdGFGaWxlKSkudGV4dCgpO1xuICB9IGVsc2UgaWYgKGl0ZW0uZGF0YVBhdHRlcm4pIHtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoe2RhdGE6IGl0ZW0uZGF0YX0pO1xuICB9IGVsc2UgaWYgKGl0ZW0uZGF0YSkge1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeSh7ZGF0YTogaXRlbS5kYXRhfSk7XG4gIH1cblxuICBhcHBlbmRUby5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYWxsIG9mIHRoZSB0ZXN0IGl0ZW0gZW50cmllcyBmb3IgZWFjaCBpdGVtIGVudHJ5IHByb3ZpZGVkLlxuICovXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVXb3Jrc3BhY2VJdGVtcyhcbiAgICBpdGVtczogVGVzdEl0ZW1FbnRyeVtdLCBhcHBlbmRUbzogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgYXdhaXQgY3JlYXRlSW1hZ2VJdGVtKGl0ZW0sIGFwcGVuZFRvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgY3JlYXRlT2JqZWN0SXRlbShpdGVtLCBhcHBlbmRUbyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29ubmVjdHMgYSB0ZXN0IGhhcm5lc3MgdXAgdG8gYSBzcGVjaWZpZWQgcm9vdCBub2RlICh1c3VhbGx5IGRvY3VtZW50LmJvZHkpLlxuICogQ2FsbCBgaW5pdGlhbGl6ZWAgdG8gc2V0IHVwIHRoZSBET00uXG4gKlxuICogVXNhZ2U6XG4gKiAxLiBQbGFjZSB0aGUgSlNPTi5zdHJpbmdpZnkgb2YgYSB0ZXN0IGNvbmZpZ3VyYXRpb24gaW50byBhbiBpbnB1dCBlbGVtZW50XG4gKiAgICB3aXRoIHRoZSBjbGFzcyAndGVzdCcgYW5kIHRoZW4gY2xpY2sgb24gYSBidXR0b24gd2l0aCB0aGUgY2xhc3MgJ3J1bi10ZXN0J1xuICogICAgYW5kIHdhaXQgZm9yIHRoZSBkaXYgdGFnIHdpdGggdGhlIGNsYXNzICcudGVzdC1jb21wbGV0ZScgdG8gc2hvdyB0aGUgdGV4dFxuICogICAgJ0NPTVBMRVRFJy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlc3RIYXJuZXNzIHtcbiAgcHJpdmF0ZSB0ZXN0RWxlbWVudCE6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIHByaXZhdGUgZXJyb3JzRWxlbWVudCE6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIHByaXZhdGUgcnVuVGVzdEJ1dHRvbiE6IEhUTUxCdXR0b25FbGVtZW50O1xuICBwcml2YXRlIHRlc3RDb21wbGV0ZUVsZW1lbnQhOiBIVE1MRGl2RWxlbWVudDtcbiAgcHJpdmF0ZSB0ZXN0UmVhZHlFbGVtZW50ITogSFRNTERpdkVsZW1lbnQ7XG4gIHByaXZhdGUgaW5wdXRzITogSFRNTERpdkVsZW1lbnQ7XG4gIHByaXZhdGUgZXhwZWN0cyE6IEhUTUxEaXZFbGVtZW50O1xuICBwcml2YXRlIG91dHB1dHMhOiBIVE1MRGl2RWxlbWVudDtcblxuICBwcml2YXRlIGFzeW5jIG9uUmVzdWx0KHJlc3VsdHM6IHNvbHV0aW9uc0FwaS5SZXN1bHRNYXAsIGNvbmZpZzogVGVzdENvbmZpZyk6XG4gICAgICBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChjb25zdCBvdXRwdXQgb2YgY29uZmlnWyd0ZXN0J10hWydvdXRwdXRzJ10pIHtcbiAgICAgIGNvbnN0IGl0ZW1OYW1lID0gb3V0cHV0WyduYW1lJ107XG4gICAgICBhd2FpdCBvdXRwdXQucmVuZGVyIShyZXN1bHRzW2l0ZW1OYW1lXSk7XG4gICAgICBmb3IgKGNvbnN0IGV4cGVjdCBvZiBjb25maWdbJ3Rlc3QnXSFbJ2V4cGVjdHMnXSkge1xuICAgICAgICBpZiAoZXhwZWN0WyduYW1lJ10gPT09IGl0ZW1OYW1lKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBhd2FpdCBvdXRwdXQudmFsaWRhdGUhKGV4cGVjdCk7XG4gICAgICAgICAgaWYgKGVycm9yTXNnKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChlcnJvck1zZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXJyb3JzRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9ycy5qb2luKCdcXG4nKTtcbiAgICB0aGlzLnRlc3RDb21wbGV0ZUVsZW1lbnQudGV4dENvbnRlbnQgPSBDT01QTEVURTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgdGVzdCBiYXNlZCBvbiB0aGUganNvbiBpbnN0cnVjdGlvbnMgc2l0dGluZyBpbiB0ZXN0RWxlbWVudC5cbiAgICogU2VlIGBvblJlc3VsdGAgZm9yIGhvdyB3ZSBsZWF2ZSBkYXRhIGZvciB0aGUgdGVzdCBoYXJuZXNzIHRvIHJlYWQuXG4gICAqL1xuICBhc3luYyBydW4oY29uZmlnOiBUZXN0Q29uZmlnKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGNvbmZpZ1snc29sdXRpb25VcmwnXSkge1xuICAgICAgY29uc3Qgc29sdXRpb25Kc29uID0gYXdhaXQgKGF3YWl0IGZldGNoKGNvbmZpZ1snc29sdXRpb25VcmwnXSkpLmpzb24oKTtcbiAgICAgIGNvbmZpZ1snc29sdXRpb24nXSA9IHNvbHV0aW9uSnNvbiBhcyBzb2x1dGlvbnNBcGkuU29sdXRpb25Db25maWc7XG4gICAgfVxuICAgIGlmIChjb25maWdbJ3Rlc3RVcmwnXSkge1xuICAgICAgY29uc3QgdGVzdEpzb24gPSBhd2FpdCAoYXdhaXQgZmV0Y2goY29uZmlnWyd0ZXN0VXJsJ10pKS5qc29uKCk7XG4gICAgICBjb25maWdbJ3Rlc3QnXSA9IHRlc3RKc29uIGFzIFRlc3RDYXNlO1xuICAgIH1cbiAgICBpZiAoY29uZmlnWydiaW5hcnlwYiddKSB7XG4gICAgICBjb25maWdbJ3NvbHV0aW9uJ10hWydncmFwaCddID0geyd1cmwnOiBjb25maWdbJ2JpbmFyeXBiJ119O1xuICAgIH1cbiAgICBjb25zdCB0ZXN0TmFtZSA9IGNvbmZpZ1snbmFtZSddO1xuICAgIGNvbmZpZ1snc29sdXRpb24nXSFbJ2ZpbGVzJ10gPSBjb25maWdbJ3NvbHV0aW9uJ10hWydmaWxlcyddIHx8IFtdO1xuICAgIGNvbmZpZ1snc29sdXRpb24nXSFbJ2ZpbGVzJ10gPSBbXG4gICAgICAuLi5jb25maWdbJ3NvbHV0aW9uJ10hWydmaWxlcyddLFxuICAgICAge3VybDogYCR7dGVzdE5hbWV9X3dlYl9zb2x1dGlvbl9wYWNrZWRfYXNzZXRzX2xvYWRlci5qc2B9LFxuICAgICAge3NpbWQ6IGZhbHNlLCB1cmw6IGAke3Rlc3ROYW1lfV93ZWJfc29sdXRpb25fd2FzbV9iaW4uanNgfSxcbiAgICAgIHtzaW1kOiB0cnVlLCB1cmw6IGAke3Rlc3ROYW1lfV93ZWJfc29sdXRpb25fc2ltZF93YXNtX2Jpbi5qc2B9XG4gICAgXTtcblxuICAgIGNvbnN0IHNvbHV0aW9uID0gYXdhaXQgbmV3IFRlc3RTb2x1dGlvbihjb25maWdbJ3NvbHV0aW9uJ10hKS5pbml0aWFsaXplKCk7XG5cbiAgICBhd2FpdCBjcmVhdGVXb3Jrc3BhY2VJdGVtcyhjb25maWdbJ3Rlc3QnXSFbJ2lucHV0cyddLCB0aGlzLmlucHV0cyk7XG4gICAgYXdhaXQgY3JlYXRlV29ya3NwYWNlSXRlbXMoY29uZmlnWyd0ZXN0J10hWydleHBlY3RzJ10sIHRoaXMuZXhwZWN0cyk7XG4gICAgYXdhaXQgY3JlYXRlV29ya3NwYWNlSXRlbXMoY29uZmlnWyd0ZXN0J10hWydvdXRwdXRzJ10sIHRoaXMub3V0cHV0cyk7XG4gICAgYXdhaXQgZmx1c2hEb20oKTtcblxuICAgIGNvbnN0IGlucHV0czoge1trZXk6IHN0cmluZ106IHVua25vd259ID0ge307XG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiBjb25maWdbJ3Rlc3QnXSFbJ2lucHV0cyddKSB7XG4gICAgICBpbnB1dHNbaW5wdXQubmFtZV0gPSBpbnB1dC5nZXRWYWx1ZSEoKTtcbiAgICB9XG4gICAgdGhpcy50ZXN0UmVhZHlFbGVtZW50LnRleHRDb250ZW50ID0gQ09NUExFVEU7XG4gICAgaWYgKGNvbmZpZ1sndGVzdCddIVsnb3B0aW9ucyddICYmIGNvbmZpZ1sndGVzdCddIVsnb3B0aW9ucyddWyd3YXJtdXAnXSkge1xuICAgICAgY29uc3Qgd2FybXVwID0gY29uZmlnWyd0ZXN0J10hWydvcHRpb25zJ11bJ3dhcm11cCddO1xuICAgICAgZm9yIChsZXQgbG9vcCA9IDA7IGxvb3AgPCB3YXJtdXA7IGxvb3ArKykge1xuICAgICAgICBhd2FpdCBzb2x1dGlvbi5zZW5kKGlucHV0cyk7XG4gICAgICB9XG4gICAgfVxuICAgIHNvbHV0aW9uLm9uUmVzdWx0cygoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5vblJlc3VsdChkYXRhLCBjb25maWcpO1xuICAgIH0pO1xuICAgIGF3YWl0IHNvbHV0aW9uLnNlbmQoaW5wdXRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoZSB0ZXN0IGFuZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBydW4gaXMgY2FsbGVkLiBCeSBkZXNpZ24sXG4gICAqIHJ1biB3aWxsIGJlIGNhbGxlZCBieSBzaW11bGF0aW5nIGEgY2xpY2sgb24gYSBidXR0b24gd2l0aCBjbGFzcyBgcnVuLXRlc3RgLlxuICAgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnRlc3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3QnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgIHRoaXMucnVuVGVzdEJ1dHRvbiA9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ydW4tdGVzdCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIHRoaXMudGVzdENvbXBsZXRlRWxlbWVudCA9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXN0LWNvbXBsZXRlJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgdGhpcy5lcnJvcnNFbGVtZW50ID1cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9ycycpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgdGhpcy50ZXN0UmVhZHlFbGVtZW50ID1cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3QtcmVhZHknKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICB0aGlzLm91dHB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3V0cHV0cycpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIHRoaXMuZXhwZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5leHBlY3RzJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgdGhpcy5pbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXRzJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgdGhpcy5ydW5UZXN0QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLnJ1bihKU09OLnBhcnNlKHRoaXMudGVzdEVsZW1lbnQudmFsdWUpIGFzIFRlc3RDb25maWcpO1xuICAgIH07XG4gICAgYXdhaXQgZmx1c2hEb20oKTtcbiAgfVxufVxuIl19
+;return exports;});
+
+//third_party/mediapipe/web/solutions/test_harness/test_harness_driver.closure.js
+goog.loadModule(function(exports) {'use strict';/**
+ *
+ * @fileoverview Load and initialize the test_harness. Interact with the page
+ * to run the test.
+ *
+ * Generated from: third_party/mediapipe/web/solutions/test_harness/test_harness_driver.ts
+ * @suppress {checkTypes,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+goog.module('google3.third_party.mediapipe.web.solutions.test_harness.test_harness_driver');
+var module = module || { id: 'third_party/mediapipe/web/solutions/test_harness/test_harness_driver.closure.js' };
+goog.require('google3.third_party.javascript.tslib.tslib');
+const tsickle_test_harness_1 = goog.requireType("google3.third_party.mediapipe.web.solutions.test_harness.test_harness");
+const test_harness_1 = goog.require('google3.third_party.mediapipe.web.solutions.test_harness.test_harness');
+/** @type {!tsickle_test_harness_1.TestHarness} */
+const harness = new test_harness_1.TestHarness();
+harness.initialize();
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdF9oYXJuZXNzX2RyaXZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L21lZGlhcGlwZS93ZWIvc29sdXRpb25zL3Rlc3RfaGFybmVzcy90ZXN0X2hhcm5lc3NfZHJpdmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUtBLDZHQUFrRzs7TUFFNUYsT0FBTyxHQUFHLElBQUksMEJBQVcsRUFBRTtBQUNqQyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgTG9hZCBhbmQgaW5pdGlhbGl6ZSB0aGUgdGVzdF9oYXJuZXNzLiBJbnRlcmFjdCB3aXRoIHRoZSBwYWdlXG4gKiB0byBydW4gdGhlIHRlc3QuXG4gKi9cblxuaW1wb3J0IHtUZXN0SGFybmVzc30gZnJvbSAnZ29vZ2xlMy90aGlyZF9wYXJ0eS9tZWRpYXBpcGUvd2ViL3NvbHV0aW9ucy90ZXN0X2hhcm5lc3MvdGVzdF9oYXJuZXNzJztcblxuY29uc3QgaGFybmVzcyA9IG5ldyBUZXN0SGFybmVzcygpO1xuaGFybmVzcy5pbml0aWFsaXplKCk7XG4iXX0=
+;return exports;});
+
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness_driver_bin.MF b/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness_driver_bin.MF
new file mode 100644
index 0000000000000..771f10c54ac28
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness_driver_bin.MF
@@ -0,0 +1,7 @@
+javascript/closure/base.js
+third_party/javascript/tslib/tslib_closure.js
+third_party/mediapipe/web/solutions/shader_utils.closure.js
+third_party/mediapipe/web/solutions/stream_helpers.closure.js
+third_party/mediapipe/web/solutions/solutions_api.closure.js
+third_party/mediapipe/web/solutions/test_harness/test_harness.closure.js
+third_party/mediapipe/web/solutions/test_harness/test_harness_driver.closure.js
diff --git a/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness_driver_bin.js b/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness_driver_bin.js
new file mode 100644
index 0000000000000..8e8a774e4678d
--- /dev/null
+++ b/content/test/data/gpu/mediapipe/style_black_and_white_test/test_harness_driver_bin.js
@@ -0,0 +1,58 @@
+(function(){/*
+
+ Copyright The Closure Library Authors.
+ SPDX-License-Identifier: Apache-2.0
+*/
+'use strict';function ba(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}}var u="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){if(b==Array.prototype||b==Object.prototype)return b;b[a]=c.value;return b};
+function ca(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<b.length;++a){var c=b[a];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var x=ca(this);function y(b,a){if(a)a:{var c=x;b=b.split(".");for(var d=0;d<b.length-1;d++){var e=b[d];if(!(e in c))break a;c=c[e]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&u(c,b,{configurable:!0,writable:!0,value:a})}}
+y("Symbol",function(b){function a(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(e||"")+"_"+d++,e)}function c(e,k){this.g=e;u(this,"description",{configurable:!0,writable:!0,value:k})}if(b)return b;c.prototype.toString=function(){return this.g};var d=0;return a});
+y("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<a.length;c++){var d=x[a[c]];"function"===typeof d&&"function"!=typeof d.prototype[b]&&u(d.prototype,b,{configurable:!0,writable:!0,value:function(){return da(ba(this))}})}return b});function da(b){b={next:b};b[Symbol.iterator]=function(){return this};return b}
+function G(b){var a="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return a?a.call(b):{next:ba(b)}}function ea(b){if(!(b instanceof Array)){b=G(b);for(var a,c=[];!(a=b.next()).done;)c.push(a.value);b=c}return b}var I;if("function"==typeof Object.setPrototypeOf)I=Object.setPrototypeOf;else{var K;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;K=ha.a;break a}catch(b){}K=!1}I=K?function(b,a){b.__proto__=a;if(b.__proto__!==a)throw new TypeError(b+" is not extensible");return b}:null}
+var ia=I;function L(){this.l=!1;this.i=null;this.h=void 0;this.g=1;this.s=this.m=0;this.j=null}function M(b){if(b.l)throw new TypeError("Generator is already running");b.l=!0}L.prototype.o=function(b){this.h=b};function N(b,a){b.j={M:a,N:!0};b.g=b.m||b.s}L.prototype.return=function(b){this.j={return:b};this.g=this.s};function O(b,a,c){b.g=c;return{value:a}}function ja(b){this.g=new L;this.h=b}
+function ka(b,a){M(b.g);var c=b.g.i;if(c)return P(b,"return"in c?c["return"]:function(d){return{value:d,done:!0}},a,b.g.return);b.g.return(a);return Q(b)}function P(b,a,c,d){try{var e=a.call(b.g.i,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return b.g.l=!1,e;var k=e.value}catch(f){return b.g.i=null,N(b.g,f),Q(b)}b.g.i=null;d.call(b.g,k);return Q(b)}
+function Q(b){for(;b.g.g;)try{var a=b.h(b.g);if(a)return b.g.l=!1,{value:a.value,done:!1}}catch(c){b.g.h=void 0,N(b.g,c)}b.g.l=!1;if(b.g.j){a=b.g.j;b.g.j=null;if(a.N)throw a.M;return{value:a.return,done:!0}}return{value:void 0,done:!0}}
+function la(b){this.next=function(a){M(b.g);b.g.i?a=P(b,b.g.i.next,a,b.g.o):(b.g.o(a),a=Q(b));return a};this.throw=function(a){M(b.g);b.g.i?a=P(b,b.g.i["throw"],a,b.g.o):(N(b.g,a),a=Q(b));return a};this.return=function(a){return ka(b,a)};this[Symbol.iterator]=function(){return this}}function R(b,a){a=new la(new ja(a));ia&&b.prototype&&ia(a,b.prototype);return a}
+var ma="function"==typeof Object.assign?Object.assign:function(b,a){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b};y("Object.assign",function(b){return b||ma});
+y("Promise",function(b){function a(f){this.h=0;this.i=void 0;this.g=[];this.o=!1;var g=this.j();try{f(g.resolve,g.reject)}catch(h){g.reject(h)}}function c(){this.g=null}function d(f){return f instanceof a?f:new a(function(g){g(f)})}if(b)return b;c.prototype.h=function(f){if(null==this.g){this.g=[];var g=this;this.i(function(){g.l()})}this.g.push(f)};var e=x.setTimeout;c.prototype.i=function(f){e(f,0)};c.prototype.l=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var g=0;g<f.length;++g){var h=
+f[g];f[g]=null;try{h()}catch(l){this.j(l)}}}this.g=null};c.prototype.j=function(f){this.i(function(){throw f;})};a.prototype.j=function(){function f(l){return function(n){h||(h=!0,l.call(g,n))}}var g=this,h=!1;return{resolve:f(this.C),reject:f(this.l)}};a.prototype.C=function(f){if(f===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof a)this.J(f);else{a:switch(typeof f){case "object":var g=null!=f;break a;case "function":g=!0;break a;default:g=!1}g?this.B(f):this.m(f)}};
+a.prototype.B=function(f){var g=void 0;try{g=f.then}catch(h){this.l(h);return}"function"==typeof g?this.K(g,f):this.m(f)};a.prototype.l=function(f){this.s(2,f)};a.prototype.m=function(f){this.s(1,f)};a.prototype.s=function(f,g){if(0!=this.h)throw Error("Cannot settle("+f+", "+g+"): Promise already settled in state"+this.h);this.h=f;this.i=g;2===this.h&&this.I();this.G()};a.prototype.I=function(){var f=this;e(function(){if(f.H()){var g=x.console;"undefined"!==typeof g&&g.error(f.i)}},1)};a.prototype.H=
+function(){if(this.o)return!1;var f=x.CustomEvent,g=x.Event,h=x.dispatchEvent;if("undefined"===typeof h)return!0;"function"===typeof f?f=new f("unhandledrejection",{cancelable:!0}):"function"===typeof g?f=new g("unhandledrejection",{cancelable:!0}):(f=x.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.i;return h(f)};a.prototype.G=function(){if(null!=this.g){for(var f=0;f<this.g.length;++f)k.h(this.g[f]);this.g=null}};var k=new c;a.prototype.J=
+function(f){var g=this.j();f.D(g.resolve,g.reject)};a.prototype.K=function(f,g){var h=this.j();try{f.call(g,h.resolve,h.reject)}catch(l){h.reject(l)}};a.prototype.then=function(f,g){function h(q,r){return"function"==typeof q?function(w){try{l(q(w))}catch(p){n(p)}}:r}var l,n,v=new a(function(q,r){l=q;n=r});this.D(h(f,l),h(g,n));return v};a.prototype.catch=function(f){return this.then(void 0,f)};a.prototype.D=function(f,g){function h(){switch(l.h){case 1:f(l.i);break;case 2:g(l.i);break;default:throw Error("Unexpected state: "+
+l.h);}}var l=this;null==this.g?k.h(h):this.g.push(h);this.o=!0};a.resolve=d;a.reject=function(f){return new a(function(g,h){h(f)})};a.race=function(f){return new a(function(g,h){for(var l=G(f),n=l.next();!n.done;n=l.next())d(n.value).D(g,h)})};a.all=function(f){var g=G(f),h=g.next();return h.done?d([]):new a(function(l,n){function v(w){return function(p){q[w]=p;r--;0==r&&l(q)}}var q=[],r=0;do q.push(void 0),r++,d(h.value).D(v(q.length-1),n),h=g.next();while(!h.done)})};return a});
+function qa(b,a){b instanceof String&&(b+="");var c=0,d=!1,e={next:function(){if(!d&&c<b.length){var k=c++;return{value:a(k,b[k]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}y("Array.prototype.keys",function(b){return b?b:function(){return qa(this,function(a){return a})}});var ra=this||self;
+function sa(b,a){b=b.split(".");var c=ra;b[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+b[0]);for(var d;b.length&&(d=b.shift());)b.length||void 0===a?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=a};function S(b,a){var c=void 0;return new (c||(c=Promise))(function(d,e){function k(h){try{g(a.next(h))}catch(l){e(l)}}function f(h){try{g(a["throw"](h))}catch(l){e(l)}}function g(h){h.done?d(h.value):(new c(function(l){l(h.value)})).then(k,f)}g((a=a.apply(b,void 0)).next())})};function ta(b,a,c){c=b.createShader(0===c?b.VERTEX_SHADER:b.FRAGMENT_SHADER);b.shaderSource(c,a);b.compileShader(c);if(!b.getShaderParameter(c,b.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+b.getShaderInfoLog(c));return c};function T(b,a){this.g=b;this.i=a;this.j=0}
+T.prototype.A=function(b){var a=this.i;if(void 0===this.l){var c=ta(a,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),d=ta(a,"\n  precision highp float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),e=a.createProgram();a.attachShader(e,c);a.attachShader(e,d);a.linkProgram(e);if(!a.getProgramParameter(e,
+a.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+a.getProgramInfoLog(e));c=this.l=e;a.useProgram(c);d=a.getUniformLocation(c,"sampler0");this.h={v:a.getAttribLocation(c,"aVertex"),u:a.getAttribLocation(c,"aTex"),T:d};this.o=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.o);a.enableVertexAttribArray(this.h.v);a.vertexAttribPointer(this.h.v,2,a.FLOAT,!1,0,0);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,null);this.m=
+a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.m);a.enableVertexAttribArray(this.h.u);a.vertexAttribPointer(this.h.u,2,a.FLOAT,!1,0,0);a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,null);a.uniform1i(d,0)}c=this.h;a.useProgram(this.l);a.canvas.width=b.width;a.canvas.height=b.height;a.viewport(0,0,b.width,b.height);a.activeTexture(a.TEXTURE0);this.g.bindTexture2d(b.glName);a.enableVertexAttribArray(c.v);a.bindBuffer(a.ARRAY_BUFFER,this.o);
+a.vertexAttribPointer(c.v,2,a.FLOAT,!1,0,0);a.enableVertexAttribArray(c.u);a.bindBuffer(a.ARRAY_BUFFER,this.m);a.vertexAttribPointer(c.u,2,a.FLOAT,!1,0,0);a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null);a.drawArrays(a.TRIANGLE_FAN,0,4);a.disableVertexAttribArray(c.v);a.disableVertexAttribArray(c.u);a.bindBuffer(a.ARRAY_BUFFER,null);this.g.bindTexture2d(0)};var ua=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function va(b,a){return a+b}function wa(b,a){window[b]=a}function xa(b){var a=document.createElement("script");a.setAttribute("src",b);a.setAttribute("crossorigin","anonymous");document.body.appendChild(a);return new Promise(function(c){a.addEventListener("load",function(){c()},!1)})}
+function U(b){for(var a=[],c=b.size(),d=0;d<c;++d){var e=b.get(d);a.push({x:e.x,y:e.y,z:e.z,visibility:e.hasVisibility?e.visibility:void 0})}return a}function ya(b){for(var a=[],c=b.size(),d=0;d<c;++d){var e=b.get(d);a.push({index:e.index,score:e.score,label:e.hasLabel?e.label:void 0,displayName:e.hasDisplayName?e.displayName:void 0})}return a}function za(b,a,c){this.graph=b;this.locateFile=a;this.g=c}
+za.prototype.toArrayBuffer=function(){return S(this,function a(){var c=this,d;return R(a,function(e){return 1==e.g?(c.graph.url?e=O(e,fetch(c.locateFile(c.graph.url,c.g)),3):(e.g=2,e=void 0),e):2!=e.g&&(d=e.h,d.body)?e.return(d.arrayBuffer()):e.return(new ArrayBuffer(0))})})};
+function Aa(){return S(this,function a(){return R(a,function(c){switch(c.g){case 1:return c.m=2,O(c,WebAssembly.instantiate(ua),4);case 4:c.g=3;c.m=0;break;case 2:return c.m=0,c.j=null,c.return(!1);case 3:return c.return(!0)}})})}
+function V(b){this.h=b;this.listeners={};this.G={};this.j={};this.H=this.B=!0;this.o=Promise.resolve();this.locateFile=b&&b.locateFile||va;if("object"===typeof window)b=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if("undefined"!==typeof location)b=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");this.s=b}
+V.prototype.close=function(){this.i&&this.i.delete();return Promise.resolve()};
+function Ba(b){return S(b,function c(){var d=this,e,k,f,g,h,l,n,v,q;return R(c,function(r){switch(r.g){case 1:e=d;if(!d.B)return r.return();wa("createMediapipeSolutionsWasm",{locateFile:d.locateFile});wa("createMediapipeSolutionsPackedAssets",{locateFile:d.locateFile});k=d.h.files||[];return O(r,Aa(),2);case 2:return f=r.h,O(r,Promise.all(k.map(function(w){return void 0===w.simd||w.simd&&f||!w.simd&&!f?xa(e.locateFile(w.url,e.s)):Promise.resolve()})),3);case 3:return g=window.createMediapipeSolutionsWasm,
+h=window.createMediapipeSolutionsPackedAssets,O(r,g(h),4);case 4:return d.g=r.h,d.m=document.createElement("canvas"),d.g.canvas=d.m,d.g.createContext(d.m,!0,!0,{}),d.i=new d.g.SolutionWasm,l=new za(d.h.graph,d.locateFile,d.s),O(r,d.loadGraph(l),5);case 5:if(d.h.listeners)for(n=G(d.h.listeners),v=n.next();!v.done;v=n.next())q=v.value,Ca(d,q);d.B=!1;r.g=0}})})}
+function Da(b){return S(b,function c(){var d=this,e,k,f,g,h;return R(c,function(l){if(!d.H)return l.return();e=d.m.getContext("webgl2");if(!e)return alert("Failed to create WebGL canvas context when passing video frame."),l.return();d.l=e;if(d.C){k=new d.g.GraphOptionChangeRequestList;f=G(d.C);for(g=f.next();!g.done;g=f.next())h=g.value,k.push_back(h);d.i.changeOptions(k);k.delete();d.C=void 0}d.H=!1;l.g=0})})}
+function Ea(b){return S(b,function c(){var d=this;return R(c,function(e){return 1==e.g?O(e,Ba(d),2):O(e,Da(d),0)})})}V.prototype.loadGraph=function(b){return S(this,function c(){var d,e=this;return R(c,function(k){if(1==k.g)return O(k,b.toArrayBuffer(),2);d=k.h;e.i.loadGraph(d);k.g=0})})};
+V.prototype.send=function(b,a){return S(this,function d(){var e=this,k,f,g,h,l,n,v,q;return R(d,function(r){if(1==r.g){if(!e.h.inputs)return r.return();k=1E3*(a||performance.now());return O(r,e.o,2)}if(3!=r.g)return O(r,Ea(e),3);f=new e.g.PacketDataList;g=G(Object.keys(b));for(h=g.next();!h.done;h=g.next())if(l=h.value,n=e.h.inputs[l]){a:{var w=b[l];switch(n.type){case "video":var p=e.G[n.stream];p||(p=new T(e.g,e.l),e.G[n.stream]=p);0===p.j&&(p.j=p.g.createTexture());if(w instanceof HTMLVideoElement){var m=
+w.videoWidth;var C=w.videoHeight}else w instanceof HTMLImageElement?(m=w.naturalWidth,C=w.naturalHeight):(m=w.width,C=w.height);C={glName:p.j,width:m,height:C};m=p.i;m.canvas.width=C.width;m.canvas.height=C.height;m.activeTexture(m.TEXTURE0);p.g.bindTexture2d(p.j);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,w);p.g.bindTexture2d(0);p=C;break a;default:p={}}}v=p;q=n.stream;f.pushTexture2d(Object.assign(Object.assign({},v),{stream:q,timestamp:k}))}e.i.send(f);f.delete();r.g=0})})};
+function Fa(b,a,c){if(c.isNumber())return c.getNumber();if(c.isRect())return c.getRect();if(c.isLandmarks())return c.getLandmarks();if(c.isLandmarksList())return c.getLandmarksList();if(c.isClassificationsList())return c.getClassificationsList();if(c.isObjectDetectionList())return c.getObjectDetectionList();if(c.isTexture2d()){var d=b.j[a];d||(d=new T(b.g,b.l),b.j[a]=d);b=d;c=c.getTexture2d();b.A(c);return b.i.canvas}}
+function Ca(b,a){for(var c=a.name||"$",d=[].concat(ea(a.wants)),e=new b.g.StringList,k=G(a.wants),f=k.next();!f.done;f=k.next())e.push_back(f.value);k=b.g.PacketListener.implement({onResults:function(g){return S(b,function l(){var n,v,q=this,r,w,p;return R(l,function(m){if(1==m.g){n={};for(v=0;v<a.wants.length;++v)n[d[v]]=g.get(v);var C;if(C=a.outs){for(var H={},na=G(Object.keys(C)),A=na.next();!A.done;A=na.next()){A=A.value;var F=C[A];if("string"===typeof F)H[A]=Fa(q,A,n[F]);else{var z=n[F.stream];
+if(void 0!==z){if("detection_list"===F.type){var t=z.getRectList(),D=z.getLandmarksList();z=z.getClassificationsList();var B=[];if(t)for(var E=0;E<t.size();++E){var Y={O:t.get(E),S:U(D.get(E)),P:ya(z.get(E))};B.push(Y)}H[A]=B}else if("landmarks"===F.type)t=z.getLandmarks(),H[A]=t?U(t):void 0;else if("landmarks_list"===F.type){if(t=z.getLandmarksList()){D=[];z=t.size();for(B=0;B<z;++B)E=t.get(B),D.push(U(E));t=D}else t=void 0;H[A]=t}else if("rect_list"===F.type){if(t=z.getRectList()){D=[];z=t.size();
+for(B=0;B<z;++B)E=t.get(B),D.push(E);t=D}else t=void 0;H[A]=t}else if("classifications_list"===F.type){if(t=z.getClassificationsList()){D=[];z=t.size();for(B=0;B<z;++B)E=t.get(B),D.push(ya(E));t=D}else t=void 0;H[A]=t}else if("object_detection_list"===F.type){if(t=z.getObjectDetectionList()){D=[];z=t.size();for(B=0;B<z;++B){var Z=t.get(B);E=D;Y=E.push;for(var Ka=Z.id,oa=Z.keypoints,pa=[],La=oa.size(),aa=0;aa<La;++aa){var J=oa.get(aa);pa.push({id:J.id,point3d:{x:J.point3d.x,y:J.point3d.y,z:J.point3d.z},
+point2d:{x:J.point2d.x,y:J.point2d.y,depth:J.point2d.depth}})}Y.call(E,{id:Ka,keypoints:pa,visibility:Z.visibility})}t=D}else t=void 0;H[A]=t}else if("texture"===F.type)t=q.j[A],t||(t=new T(q.g,q.l),q.j[A]=t),D=z.getTexture2d(),t.A(D),H[A]=t.i.canvas;else throw Error("Unknown output config type: '"+F.type+"'");F.transform&&H[A]&&(H[A]=F.transform(H[A]))}}}C=H}else C=n;r=C;(w=q.listeners[c])?m=O(m,q.o,3):(m.g=0,m=void 0);return m}if(p=w(r))return q.o=p,m.return(p);m.g=0})})}});b.i.attachMultiListener(e,
+k);e.delete()}V.prototype.onResults=function(b,a){this.listeners[a||"$"]=b};sa("Solution",V);sa("OptionType",{NUMBER:0,BOOL:1,0:"NUMBER",1:"BOOL"});function Ga(){var b=this;return new Promise(function(a){setTimeout(function(){return S(b,function d(){return R(d,function(e){a();e.g=0})})},0)})}function W(b){this.g=new V(b)}W.prototype.close=function(){this.g.close();return Promise.resolve()};function Ha(b){return S(b,function c(){var d=this;return R(c,function(e){return 1==e.g?O(e,Ea(d.g),2):e.return(d)})})}W.prototype.send=function(b){return S(this,function c(){var d=this;return R(c,function(e){return O(e,d.g.send(b),0)})})};
+W.prototype.onResults=function(b){this.g.onResults(b)};function X(b){return b instanceof Object?JSON.stringify(b):""+b}function Ia(b,a){var c=document.createElement("canvas"),d=c.getContext("2d");b.width=c.width=a.width;b.height=c.height=a.height;d.clearRect(0,0,a.width,a.height);d.drawImage(a,0,0,a.width,a.height);return new Promise(function(e){b.onload=function(){e()};b.src=c.toDataURL()})}
+function Ja(b){var a=document.createElement("canvas");a.width=b.width;a.height=b.height;var c=a.getContext("2d");c.drawImage(b,0,0,b.width,b.height);return c.getImageData(0,0,a.width,a.height)}
+function Ma(b,a,c,d){return new Promise(function(e){a.width===c.width&&a.height===c.height||e("Image on stream "+b+": Dimensions don't match. FOUND: "+a.width+"x"+a.height+", EXPECTED: "+c.width+"x"+c.height);for(var k=Ja(a).data,f=Ja(c).data,g=0,h=0;h<k.length/4;h++)g+=Math.abs(k[4*h]-f[4*h])/255,g+=Math.abs(k[4*h+1]-f[4*h+1])/255,g+=Math.abs(k[4*h+2]-f[4*h+2])/255;k=100*g/(a.width*a.height*3);k>d&&e("Image on stream "+b+": Failed within a tolerance of "+d+" (was "+k+").");e(void 0)})}
+function Na(b,a){var c=document.createElement("div");c.classList.add("stream");c.textContent="Stream: "+b.name;a.appendChild(c)}
+function Oa(b,a){var c=this;Na(b,a);var d=b.element=document.createElement("img");d.classList.add(b.name);a.appendChild(d);b.F=function(){return b.element};b.A=function(k){return S(c,function g(){return R(g,function(h){return O(h,Ia(d,k),0)})})};b.validate=function(k){return S(c,function g(){return R(g,function(h){return h.return(Ma(b.name,b.element,k.element,k.tolerance||0))})})};var e=b.src;return e?new Promise(function(k){d.onload=function(){return S(c,function g(){return R(g,function(h){k();h.g=
+0})})};d.onerror=function(){throw Error("Image "+e+" did not load correctly.");};d.src=e}):Promise.resolve()}
+function Pa(b,a){return S(this,function d(){var e=this,k,f,g;return R(d,function(h){switch(h.g){case 1:k=e;Na(b,a);f=b.element=document.createElement("div");b.F=function(){if(f.textContent)return JSON.parse(f.textContent).data};b.A=function(l){return S(k,function v(){var q;return R(v,function(r){q={data:l};f.textContent=JSON.stringify(q);r.g=0})})};b.validate=function(l){var n=b.F(),v=l.F();return l.dataPattern?(new RegExp(l.dataPattern)).test(X(n))?Promise.resolve(void 0):Promise.resolve("Object on stream "+
+b.name+" failed pattern "+l.dataPattern+". FOUND: "+X(n)):n===v?Promise.resolve(void 0):Promise.resolve("Object on stream "+b.name+" failed. FOUND: "+X(n)+", EXPECTED: "+X(v))};f.classList.add(b.name);if(!b.L){b.R?f.textContent=JSON.stringify({data:b.data}):b.data&&(f.textContent=JSON.stringify({data:b.data}));h.g=2;break}g=f;return O(h,fetch(b.L),4);case 4:return O(h,h.h.text(),3);case 3:g.textContent=h.h;case 2:return a.appendChild(f),h.return(Promise.resolve())}})})}
+function Qa(b,a){return S(this,function d(){var e,k,f;return R(d,function(g){1==g.g&&(e=G(b),k=e.next());if(3!=g.g){if(k.done){g.g=0;return}f=k.value;return"video"===f.type?O(g,Oa(f,a),3):O(g,Pa(f,a),3)}k=e.next();g.g=2})})}
+function Ra(b,a,c){S(b,function e(){var k,f,g,h,l,n,v,q,r,w=this;return R(e,function(p){switch(p.g){case 1:k=[],f=G(c.test.outputs),g=f.next();case 2:if(g.done){p.g=4;break}h=g.value;l=h.name;return O(p,h.A(a[l]),5);case 5:n=G(c.test.expects),v=n.next();case 6:if(v.done){p.g=3;break}q=v.value;if(q.name!==l){p.g=7;break}return O(p,h.validate(q),10);case 10:(r=p.h)&&k.push(r);p.g=3;break;case 7:v=n.next();p.g=6;break;case 3:g=f.next();p.g=2;break;case 4:w.h.textContent=k.join("\n"),w.l.textContent=
+"COMPLETE",p.g=0}})})}
+function Sa(b,a){S(b,function d(){var e=this,k,f,g,h,l,n,v,q,r,w,p;return R(d,function(m){switch(m.g){case 1:k=e;if(!a.solutionUrl){m.g=2;break}return O(m,fetch(a.solutionUrl),4);case 4:return O(m,m.h.json(),3);case 3:f=m.h,a.solution=f;case 2:if(!a.testUrl){m.g=5;break}return O(m,fetch(a.testUrl),7);case 7:return O(m,m.h.json(),6);case 6:g=m.h,a.test=g;case 5:return a.binarypb&&(a.solution.graph={url:a.binarypb}),h=a.name,a.solution.files=a.solution.files||[],a.solution.files=[].concat(ea(a.solution.files),
+[{url:h+"_web_solution_packed_assets_loader.js"},{simd:!1,url:h+"_web_solution_wasm_bin.js"},{simd:!0,url:h+"_web_solution_simd_wasm_bin.js"}]),O(m,Ha(new W(a.solution)),8);case 8:return l=m.h,O(m,Qa(a.test.inputs,e.inputs),9);case 9:return O(m,Qa(a.test.expects,e.i),10);case 10:return O(m,Qa(a.test.outputs,e.g),11);case 11:return O(m,Ga(),12);case 12:n={};v=G(a.test.inputs);for(q=v.next();!q.done;q=v.next())r=q.value,n[r.name]=r.F();e.o.textContent="COMPLETE";if(!a.test.options||!a.test.options.warmup){m.g=
+13;break}w=a.test.options.warmup;p=0;case 14:if(!(p<w)){m.g=13;break}return O(m,l.send(n),15);case 15:p++;m.g=14;break;case 13:return l.onResults(function(C){Ra(k,C,a)}),O(m,l.send(n),0)}})})};S(new function(){},function Ta(){var a=this,c;return R(Ta,function(d){c=a;a.m=document.querySelector(".test");a.j=document.querySelector(".run-test");a.l=document.querySelector(".test-complete");a.h=document.querySelector(".errors");a.o=document.querySelector(".test-ready");a.g=document.querySelector(".outputs");a.i=document.querySelector(".expects");a.inputs=document.querySelector(".inputs");a.j.onclick=function(){Sa(c,JSON.parse(c.m.value))};return O(d,Ga(),0)})});}).call(this);
diff --git a/gpu/command_buffer/service/gles2_cmd_decoder.cc b/gpu/command_buffer/service/gles2_cmd_decoder.cc
index 6ff497088434f..d1c0e3bd9e0d4 100644
--- a/gpu/command_buffer/service/gles2_cmd_decoder.cc
+++ b/gpu/command_buffer/service/gles2_cmd_decoder.cc
@@ -6803,8 +6803,6 @@ void GLES2DecoderImpl::InvalidateFramebufferImpl(
       }
     } else {
       if (!validators_->backbuffer_attachment.IsValid(attachment)) {
-        LOCAL_SET_GL_ERROR_INVALID_ENUM(function_name, attachment,
-                                        "attachments");
         return;
       }
     }
diff --git a/gpu/ipc/service/image_transport_surface_linux.cc b/gpu/ipc/service/image_transport_surface_linux.cc
index 05ce217a16db5..db15a10dc59b8 100644
--- a/gpu/ipc/service/image_transport_surface_linux.cc
+++ b/gpu/ipc/service/image_transport_surface_linux.cc
@@ -17,7 +17,7 @@ scoped_refptr<gl::GLSurface> ImageTransportSurface::CreateNativeSurface(
   DCHECK_NE(surface_handle, kNullSurfaceHandle);
   scoped_refptr<gl::GLSurface> surface;
   bool override_vsync_for_multi_window_swap = false;
-#if defined(USE_OZONE)
+#if defined(USE_OZONE) && !defined(OS_OHOS)
   surface = gl::init::CreateSurfacelessViewGLSurface(surface_handle);
 #endif
   if (!surface) {
diff --git a/media/base/ohos/BUILD.gn b/media/base/ohos/BUILD.gn
index 96b060fe0a91b..0d19eac12342f 100644
--- a/media/base/ohos/BUILD.gn
+++ b/media/base/ohos/BUILD.gn
@@ -19,6 +19,11 @@ if (is_ohos) {
       "ohos_media_player_listener.h",
     ]
     configs += [ "//media:subcomponent_config" ]
+
+    if (product_name == "rk3568") {
+      defines = [ "RK3568" ]
+    }
+
     deps = [
       "//media/base",
       "//url",
diff --git a/media/base/ohos/ohos_media_player_bridge.cc b/media/base/ohos/ohos_media_player_bridge.cc
index e2c6cab24b16c..fc4c0a086a522 100644
--- a/media/base/ohos/ohos_media_player_bridge.cc
+++ b/media/base/ohos/ohos_media_player_bridge.cc
@@ -44,7 +44,11 @@ int32_t OHOSMediaPlayerBridge::Initialize() {
   if (url_.SchemeIsFile()) {
     ret = SetFdSource(url_.GetContent());
   } else {
-    ret = player_->SetSource(url_.spec());
+    if (url_.spec().rfind("https", 0) == std::string::npos) {
+      ret = player_->SetSource(url_.spec());
+    } else {
+      ret = -1;
+    }
   }
   if (ret != 0) {
     LOG(ERROR) << "SetSource error::ret=" << ret;
@@ -139,10 +143,17 @@ void OHOSMediaPlayerBridge::FinishPaint(int fd) {
     return;
   }
 
+#if defined(RK3568)
   if (cached_buffers_.front()->GetBufferHandle()->fd != fd) {
     LOG(ERROR) << "match fd error render fd=" << fd << "  browser fd="
                << cached_buffers_.front()->GetBufferHandle()->fd;
   }
+#else
+  if (cached_buffers_.front()->GetBufferHandle()->reserve[0] != fd) {
+    LOG(ERROR) << "match fd error render fd=" << fd << "  browser fd="
+               << cached_buffers_.front()->GetBufferHandle()->reserve[0];
+  }
+#endif
   OHOS::SurfaceError ret =
       consumer_surface_->ReleaseBuffer(cached_buffers_.front(), -1);
   if (ret != OHOS::SURFACE_ERROR_OK) {
@@ -188,30 +199,46 @@ void OHOSMediaPlayerBridge::OnBufferAvailable(
     return;
   }
 
-  // int32_t coded_height;
-  // int32_t coded_width;
-
-  // // video frame height must be 32*N
-  // const int step_height = 32;
-  // // argb format video frame should divided by 4
-  // const int argb_stride_step = 4;
-  // if (buffer->GetHeight() % step_height == 0) {
-  //   coded_height = buffer->GetHeight();
-  // } else {
-  //   coded_height = (buffer->GetHeight() / step_height + 1) * step_height;
-  // }
-  // if (buffer->GetFormat() == PIXEL_FMT_RGBA_8888) {
-  //   coded_width = buffer->GetStride() / argb_stride_step;
-  // } else {
-  //   coded_width = buffer->GetStride();
-  // }
-  if (buffer->GetBufferHandle()->fd <= 0) {
-    LOG(ERROR)<<"Unavailble fd frome meidaplayer";
-  }
-  client_->OnFrameAvailable(buffer->GetBufferHandle()->fd,
-                            buffer->GetSize(), buffer->GetWidth(), buffer->GetHeight(),
+#if defined(RK3568)
+  int fd = buffer->GetBufferHandle()->fd;
+#else
+  int fd = buffer->GetBufferHandle()->reserve[0];
+#endif
+  if (fd <= 0) {
+    LOG(ERROR) << "surface buffer fd error fd:" << fd;
+    OHOS::SurfaceError ret = consumer_surface_->ReleaseBuffer(buffer, -1);
+    if (ret != OHOS::SURFACE_ERROR_OK) {
+      LOG(ERROR) << "release buffer fail, ret=" << ret;
+    }
+    return;
+  }
+
+#if defined(RK3568)
+  client_->OnFrameAvailable(fd, buffer->GetSize(), buffer->GetWidth(),
+                            buffer->GetHeight(), buffer->GetWidth(),
+                            buffer->GetHeight(), buffer->GetFormat());
+#else
+  int32_t coded_height;
+  int32_t coded_width;
+
+  // video frame height must be 32*N
+  const int step_height = 32;
+  // argb format video frame should divided by 4
+  const int argb_stride_step = 4;
+  if (buffer->GetHeight() % step_height == 0) {
+    coded_height = buffer->GetHeight();
+  } else {
+    coded_height = (buffer->GetHeight() / step_height + 1) * step_height;
+  }
+  if (buffer->GetFormat() == PIXEL_FMT_RGBA_8888) {
+    coded_width = buffer->GetStride() / argb_stride_step;
+  } else {
+    coded_width = buffer->GetStride();
+  }
+  client_->OnFrameAvailable(fd, buffer->GetSize(), coded_width, coded_height,
                             buffer->GetWidth(), buffer->GetHeight(),
                             buffer->GetFormat());
+#endif
   cached_buffers_.push_back(buffer);
 }
 
diff --git a/media/media_options.gni b/media/media_options.gni
index 40c6e09c5a4ee..8081db082b273 100644
--- a/media/media_options.gni
+++ b/media/media_options.gni
@@ -52,7 +52,7 @@ declare_args() {
   # Enable usage of FFmpeg within the media library. Used for most software
   # based decoding, demuxing, and sometimes optimized FFTs. If disabled,
   # implementors must provide their own demuxers and decoders.
-  media_use_ffmpeg = true
+  media_use_ffmpeg = false
 
   # Enable usage of libvpx within the media library. Used for software based
   # decoding of VP9 and VP8A type content.
diff --git a/ohos_nweb/BUILD.gn b/ohos_nweb/BUILD.gn
index aa77be3230b7e..c8b528bdb16f9 100644
--- a/ohos_nweb/BUILD.gn
+++ b/ohos_nweb/BUILD.gn
@@ -1,6 +1,15 @@
-# Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-# Use of this source code is governed by a BSD-style license that can be
-# found in the LICENSE file.
+# Copyright (c) 2022 Huawei Device Co., Ltd.
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
 
 import("//build/buildflag_header.gni")
 import("//build/config/features.gni")
@@ -39,6 +48,7 @@ config("cef_nweb_config") {
     "inputmethod_client.z",
     "ipc_core.z",
     "inputmethod_ability.z",
+    "accesstoken_sdk.z",
   ]
 
   defines = [
@@ -62,6 +72,8 @@ component("cef_nweb") {
     "src/cef_delegate/nweb_render_handler.cc",
     "src/cef_delegate/nweb_event_handler.h",
     "src/cef_delegate/nweb_event_handler.cc",
+    "src/cef_delegate/nweb_file_selector_params_impl.h",
+    "src/cef_delegate/nweb_file_selector_params_impl.cc",
     "src/cef_delegate/nweb_js_dialog_result_impl.cc",
     "src/cef_delegate/nweb_js_dialog_result_impl.h",
     "src/cef_delegate/nweb_geolocation_callback.h",
@@ -93,6 +105,10 @@ config("nweb_config") {
     "USE_CEF",
   ]
 
+  if (product_name == "rk3568") {
+    defines += [ "GPU_RK3568" ]
+  }
+
   include_dirs = [
     "include",
     "src",
@@ -143,6 +159,10 @@ component("nweb_sources") {
     ":nweb_hilog",
     ":cef_nweb",
   ]
+
+  libs = [
+    "surface.z",
+  ]
 }
 
 shared_library("libnweb_adapter") {
diff --git a/ohos_nweb/include/nweb.h b/ohos_nweb/include/nweb.h
index 10c2f66e40110..ebc8a83f55934 100755
--- a/ohos_nweb/include/nweb.h
+++ b/ohos_nweb/include/nweb.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_H
 #define NWEB_H
@@ -39,6 +50,9 @@ struct OHOS_NWEB_EXPORT NWebCreateInfo {
 
     /* init args */
     NWebInitArgs init_args;
+
+    /* rs producer surface, for acquiring elgsurface from ohos */
+    void *producer_surface = nullptr;
 };
 
 class OHOS_NWEB_EXPORT NWeb : public std::enable_shared_from_this<NWeb> {
@@ -100,6 +114,10 @@ class OHOS_NWEB_EXPORT NWeb : public std::enable_shared_from_this<NWeb> {
      *
      */
     virtual void NavigateForward() const = 0;
+    /**
+     * Delete back and forward history list.
+     */
+    virtual void DeleteNavigateHistory() = 0;
     /**
      * Reloads the current URL.
      *
diff --git a/ohos_nweb/include/nweb_access_request.h b/ohos_nweb/include/nweb_access_request.h
index 6592ba26ee961..6a08dd8c4448d 100644
--- a/ohos_nweb/include/nweb_access_request.h
+++ b/ohos_nweb/include/nweb_access_request.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_ACCESS_REQUEST_H
 #define NWEB_ACCESS_REQUEST_H
diff --git a/ohos_nweb/include/nweb_console_log.h b/ohos_nweb/include/nweb_console_log.h
index b0a8d6bbd9f45..207d6dddaf576 100644
--- a/ohos_nweb/include/nweb_console_log.h
+++ b/ohos_nweb/include/nweb_console_log.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_CONSOLE_LOG_H
 #define NWEB_CONSOLE_LOG_H
diff --git a/ohos_nweb/include/nweb_cookie_manager.h b/ohos_nweb/include/nweb_cookie_manager.h
index 4e2c33aaf974e..fc5c58ddc93b2 100644
--- a/ohos_nweb/include/nweb_cookie_manager.h
+++ b/ohos_nweb/include/nweb_cookie_manager.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_COOKIE_MANAGER_H
 #define NWEB_COOKIE_MANAGER_H
@@ -18,13 +29,6 @@ public:
 
     virtual ~NWebCookieManager() = default;
 
-    /**
-     * @brief Gets the singleton NWebCookieManager instance.
-     *
-     * @return the singleton NWebCookieManager instance.
-     */
-    static NWebCookieManager* GetInstance();
-
     /**
      * @brief Get whether the instance can send and accept cookies.
      *
@@ -59,7 +63,14 @@ public:
     virtual void ReturnCookie(const std::string &url,
                               std::shared_ptr<NWebValueCallback<std::string>> callback) = 0;
     /**
-     * @brief GSets a single cookie (key-value pair) for the given URL.
+     * @brief Gets all the cookies for the given URL. This is sync method
+     *
+     * @param url the URL for which the cookies are requested.
+     * @return the cookie value for given URL.
+     */
+    virtual std::string ReturnCookie(const std::string &url) = 0;
+    /**
+     * @brief Sets a single cookie (key-value pair) for the given URL.
      *
      * @param url the URL for which the cookie is to be set.
      * @param value the cookie as a string, using the format of the 'Set-Cookie' HTTP response header.
@@ -68,6 +79,15 @@ public:
     virtual void SetCookie(const std::string &url,
                            const std::string &value,
                            std::shared_ptr<NWebValueCallback<bool>> callback) = 0;
+    /**
+     * @brief Sets a single cookie (key-value pair) for the given URL sync.
+     *
+     * @param url the URL for which the cookie is to be set.
+     * @param value the cookie as a string, using the format of the 'Set-Cookie' HTTP response header.
+     * @return true if set cookie success else return false.
+     */
+    virtual bool SetCookie(const std::string &url,
+                           const std::string &value) = 0;
     /**
      * @brief Gets whether there are stored cookies.
      *
@@ -81,6 +101,13 @@ public:
      * @param callback a callback to be executed when cookies has Stored.
      */
     virtual void Store(std::shared_ptr<NWebValueCallback<bool>> callback) = 0;
+    /**
+     * @brief Ensures all cookies currently accessible through the ReturnCookie API are written to
+     * persistent storage.
+     *
+     * @param true if store cookie success else return false.
+     */
+    virtual bool Store() = 0;
     /**
      * @brief Removes all session cookies, which are cookies without an expiration date.
      *
diff --git a/ohos_nweb/include/nweb_download_callback.h b/ohos_nweb/include/nweb_download_callback.h
index 5ce16d93b4318..b7e06a4fa65fb 100644
--- a/ohos_nweb/include/nweb_download_callback.h
+++ b/ohos_nweb/include/nweb_download_callback.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_DOWNLOAD_CALLBACK_H
 #define NWEB_DOWNLOAD_CALLBACK_H
diff --git a/ohos_nweb/include/nweb_export.h b/ohos_nweb/include/nweb_export.h
index e4ebd385d7254..fbc05e714b5f0 100644
--- a/ohos_nweb/include/nweb_export.h
+++ b/ohos_nweb/include/nweb_export.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef OHOS_NWEB_EXPORT_H
 #define OHOS_NWEB_EXPORT_H
diff --git a/ohos_nweb/include/nweb_file_selector_params.h b/ohos_nweb/include/nweb_file_selector_params.h
new file mode 100644
index 0000000000000..1b5d42397b452
--- /dev/null
+++ b/ohos_nweb/include/nweb_file_selector_params.h
@@ -0,0 +1,50 @@
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+#ifndef NWEB_FILE_SELECTOR_PARAMS_H
+#define NWEB_FILE_SELECTOR_PARAMS_H
+
+#include <string>
+#include <vector>
+#include "nweb_export.h"
+
+namespace OHOS::NWeb {
+using AcceptTypeList = std::vector<std::string>;
+class OHOS_NWEB_EXPORT NWebFileSelectorParams {
+public:
+    enum FileSelectorMode{
+        FILE_OPEN_MODE = 0,
+        FILE_OPEN_MULTIPLE_MODE,
+        FILE_OPEN_FOLDER_MODE,
+        FILE_SAVE_MODE
+    };
+
+    NWebFileSelectorParams() = default;
+
+    virtual ~NWebFileSelectorParams() = default;
+
+    virtual const std::string Title() const = 0;
+
+    virtual FileSelectorMode Mode() const = 0;
+
+    virtual const std::string DefaultFilename() const = 0;
+
+    virtual const AcceptTypeList AcceptType() const = 0;
+
+    virtual bool IsCapture() const = 0;
+};
+}
+
+#endif
\ No newline at end of file
diff --git a/ohos_nweb/include/nweb_geolocation_callback_interface.h b/ohos_nweb/include/nweb_geolocation_callback_interface.h
index 5fe586d606ddb..c7645d7497b39 100644
--- a/ohos_nweb/include/nweb_geolocation_callback_interface.h
+++ b/ohos_nweb/include/nweb_geolocation_callback_interface.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_GEOLOCATION_CALLBACK_INTERFACE_H
 #define NWEB_GEOLOCATION_CALLBACK_INTERFACE_H
diff --git a/ohos_nweb/include/nweb_handler.h b/ohos_nweb/include/nweb_handler.h
index ce72bc958026a..89e8bc49d7e38 100644
--- a/ohos_nweb/include/nweb_handler.h
+++ b/ohos_nweb/include/nweb_handler.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_HANDLER_H
 #define NWEB_HANDLER_H
@@ -13,6 +24,7 @@
 #include "nweb_access_request.h"
 #include "nweb.h"
 #include "nweb_console_log.h"
+#include "nweb_file_selector_params.h"
 #include "nweb_geolocation_callback_interface.h"
 #include "nweb_js_dialog_result.h"
 #include "nweb_url_resource_error.h"
@@ -51,6 +63,25 @@ enum class ImageAlphaType {
     ALPHA_TYPE_POSTMULTIPLIED = 2,
 };
 
+enum class RenderExitReason {
+    // Render process non-zero exit status
+    PROCESS_ABNORMAL_TERMINATION,
+
+    // SIGKILL or task manager kill
+    PROCESS_WAS_KILLED,
+
+    // Segmentation fault
+    PROCESS_CRASHED,
+
+    // Out of memory
+    PROCESS_OOM,
+
+    // Unknown reason
+    PROCESS_EXIT_UNKNOWN,
+};
+
+using FileSelectorCallback = NWebValueCallback<std::vector<std::string>&>;
+
 class OHOS_NWEB_EXPORT NWebHandler {
 public:
     NWebHandler() = default;
@@ -94,7 +125,7 @@ public:
                                  const std::string& failingUrl) {}
 
     /**
-     * @brief Give the SDK a chance to decide wheather to continue loading the
+     * @brief Give the SDK a chance to decide whether to continue loading the
      * url.
      *
      * @param url The url to be loaded.
@@ -145,10 +176,9 @@ public:
      * @brief Notify the host application of a resource request and allow the
      * application to return the data.
      *
-     * @param request the resource response's MIME type, for example {
-     * "text/html"}.
+     * @param request request information
      *
-     * @retval if NWebUrlResourceResponse is null ,No interception.
+     * @retval std::shared_ptr<NWebUrlResourceResponse> response information
      */
     virtual std::shared_ptr<NWebUrlResourceResponse> OnHandleInterceptRequest(
         std::shared_ptr<NWebUrlResourceRequest> request) {
@@ -191,7 +221,7 @@ public:
                             ImageAlphaType alpha_type) {}
 
     /**
-     * @brief Notify the SDK of the url for an touch icon.
+     * @brief Notify the SDK of the url for a touch icon.
      *
      * @param icon_url The icon url.
      * @param precomposed The touch icon type.
@@ -289,18 +319,46 @@ public:
     virtual void OnGeolocationHide() {}
 
     /**
-     * @brief
+     * @brief Ask for the permission.
      *
-     * @param request  String:
+     * @param request  std::shared_ptr<NWebAccessRequest>: A request to ask for the
+     * permission.
      */
     virtual void OnPermissionRequest(std::shared_ptr<NWebAccessRequest> request) {}
 
     /**
-     * @brief
+     * @brief Cancel the request to ask for the permission.
      *
-     * @param request  String:
+     * @param request  std::shared_ptr<NWebAccessRequest>: A request to ask for the
+     * permission.
      */
     virtual void OnPermissionRequestCanceled(std::shared_ptr<NWebAccessRequest> request) {}
+
+    /**
+     * @brief called when the render process exit.
+     *
+     * @param reason  the detail reason why render process exit, the implementation of this callback
+     * should attempt to clean up the specific nweb that was set by SetNWeb interface.
+     */
+    virtual void OnRenderExited(RenderExitReason reason) {}
+
+    /**
+     * @brief inform application to update its visited links database.
+     *
+     * @param url the url being visited.
+     * @param isReload true if the url is being reload.
+     */
+    virtual void OnRefreshAccessedHistory(const std::string& url, bool isReload) {}
+
+    /**
+     * @brief inform application to show a file selector.
+     * @param callback the file list to select.
+     * @param params the params of file selector.
+     */
+    virtual bool OnFileSelectorShow(std::shared_ptr<FileSelectorCallback> callback,
+                                    std::shared_ptr<NWebFileSelectorParams> params) {
+        return false;
+    }
 };
 }  // namespace OHOS::NWeb
 
diff --git a/ohos_nweb/include/nweb_hit_testresult.h b/ohos_nweb/include/nweb_hit_testresult.h
index 510e47128034f..9115f488cde5b 100755
--- a/ohos_nweb/include/nweb_hit_testresult.h
+++ b/ohos_nweb/include/nweb_hit_testresult.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef WEB_HIT_TESTRESULT_H
 #define WEB_HIT_TESTRESULT_H
diff --git a/ohos_nweb/include/nweb_javascript_result_callback.h b/ohos_nweb/include/nweb_javascript_result_callback.h
index 2faeb6495db71..96ec05f2b148b 100644
--- a/ohos_nweb/include/nweb_javascript_result_callback.h
+++ b/ohos_nweb/include/nweb_javascript_result_callback.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_JAVASCRIPT_RESULT_CALLBACK_H
 #define NWEB_JAVASCRIPT_RESULT_CALLBACK_H
diff --git a/ohos_nweb/include/nweb_preference.h b/ohos_nweb/include/nweb_preference.h
index cd9f3b430a659..a9032eb49067d 100644
--- a/ohos_nweb/include/nweb_preference.h
+++ b/ohos_nweb/include/nweb_preference.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_PREFERENCE_H
 #define NWEB_PREFERENCE_H
@@ -13,66 +24,464 @@ class OHOS_NWEB_EXPORT NWebPreference {
 public:
     NWebPreference() = default;
     virtual ~NWebPreference() = default;
-    enum AccessMode { ALWAYS_ALLOW = 0, NEVER_ALLOW = 1, COMPATIBILITY_MODE = 2 };
+    enum class AccessMode { ALWAYS_ALLOW = 0, NEVER_ALLOW = 1, COMPATIBILITY_MODE = 2 };
     /* synchronous set NWebPreference and web preferences */
+    /**
+     * Enables or disables content URL(content from a content provider installed
+     * in the system) access within WebView. The default is true.
+     */
     virtual void PutEnableContentAccess(bool flag) = 0;
+
+    /**
+     * Enables or disables file system access within WebView. But files in the
+     * path of AppData are still accessible. The default is false.
+     */
     virtual void PutEnableRawFileAccess(bool flag) = 0;
+
+    /**
+     * Put whether to allow JavaScript running in a file scheme URL to access
+     * content from other file scheme URLs. The default is false.
+     */
     virtual void PutEnableRawFileAccessFromFileURLs(bool flag) = 0;
+
+    /**
+     * Put whether to allow JavaScript running in a file scheme URL to access
+     * content from any origin. This includes access to content from other file
+     * scheme URLs. See {@link #PutEnableRawFileAccessFromFileURLs}. The default is
+     * false.
+     */
     virtual void PutEnableUniversalAccessFromFileURLs(bool flag) = 0;
+
+    /**
+     * Put whether to block the WebView from loading image resources from the
+     * network (http and https URI schemes). This settings is invalid, if {@link
+     * #IsImageLoadingAllowed} returns false. The default is false.
+     */
     virtual void PutLoadImageFromNetworkDisabled(bool flag) = 0;
+
+    /**
+     * Put the cursive font family name. The default is "cursive".
+     *
+     * @param font a font family name
+     */
     virtual void PutCursiveFontFamilyName(std::string font) = 0;
+
+    /**
+     * Enables or disables the database storage API. The default is false.
+     * This setting is global and effectd all WebView instances in a
+     * process. You must modify this before loading any webView page so that the
+     * changes won't be ignored.
+     */
     virtual void PutDatabaseAllowed(bool flag) = 0;
+
+    /**
+     * Put the size of default fixed font. The default is 13.
+     *
+     * @param size A positive integer that ranges from 1 to 72. Any number outside
+     *             the specified range will be pinned.
+     */
     virtual void PutDefaultFixedFontSize(int size) = 0;
+
+    /**
+     * Put the size of default font. The default is 16.
+     *
+     * @param size A positive integer that ranges from 1 to 72. Any number outside
+     *             the specified range will be pinned.
+     */
     virtual void PutDefaultFontSize(int size) = 0;
+
+    /**
+     * Put the default text encoding format that uses to decode html pages.
+     * The default is "UTF-8".
+     *
+     * @param the text encoding format
+     */
     virtual void PutDefaultTextEncodingFormat(std::string encoding) = 0;
+
+    /**
+     * Enables or disables the DOM storage API. The default value is false.
+     */
     virtual void PutDomStorageEnabled(bool flag) = 0;
+
+    /**
+     * Put the fantasy font family name. The default is "fantasy".
+     *
+     * @param font a font family name
+     */
     virtual void PutFantasyFontFamilyName(std::string font) = 0;
+
+    /**
+     * Put the fixed font family name. The default is "monospace".
+     *
+     * @param font a font family name
+     */
     virtual void PutFixedFontFamilyName(std::string font) = 0;
+
+    /**
+     * Enables or disables the force dark mode for this WebView.
+     *
+     * @param forceDark true if set the force dark mode for this WebView.
+     */
     virtual void PutDarkModeEnabled(int forceDark) = 0;
+
+    /**
+     * Put whether JavaScript can open windows by JavaScript. This applies to the
+     * JavaScript function {@code window.open()}. The default is false.
+     */
     virtual void PutIsCreateWindowsByJavaScriptAllowed(bool flag) = 0;
+
+    /**
+     * Put whether the WebView can execute JavaScript. The default is false.
+     */
     virtual void PutJavaScriptEnabled(bool flag) = 0;
+
+    /**
+     * Put whether the WebView can load image. The default is true.
+     */
     virtual void PutImageLoadingAllowed(bool flag) = 0;
+
+    /**
+     * Put the lower limit of the minimum font size. The default is 8.
+     *
+     * @param size A positive integer that ranges from 1 to 72. Any number outside
+     *             the specified range will be pinned.
+     */
     virtual void PutFontSizeLowerLimit(int size) = 0;
+
+    /**
+     * Put the lower limit of the minimum logical font size. The default is 8.
+     *
+     * @param size A positive integer that ranges from 1 to 72. Any number outside
+     *             the specified range will be pinned.
+     */
     virtual void PutLogicalFontSizeLowerLimit(int size) = 0;
+
+    /**
+     * Sets whether the WebView loads pages in overview mode, that is, zooms out the
+     * content to fit on screen by width.
+     *
+     */
+    virtual void PutLoadWithOverviewMode(bool flag) = 0;
+
+    /**
+     * Put the sans-serif font family name. The default is "sans-serif".
+     *
+     * @param font a font family name
+     */
     virtual void PutSansSerifFontFamilyName(std::string font) = 0;
+
+    /**
+     * Put the serif font family name. The default is "serif".
+     *
+     * @param font a font family name
+     */
     virtual void PutSerifFontFamilyName(std::string font) = 0;
+
+    /**
+     * Put the standard font family name. The default is "sans-serif".
+     *
+     * @param font a font family name
+     */
     virtual void PutStandardFontFamilyName(std::string font) = 0;
+
+    /**
+     * Put the user-agent string to the nweb. If it is null or empty,
+     * webview will use the system default value. Changing the user-agent
+     * while loading a web page will cause the web page to reload.
+     *
+     * @param ua user-agent string. The value may be null.
+     */
     virtual void PutUserAgent(std::string ua) = 0;
+
+    /**
+     * Put the zoom percentage of the page text. The default is 100.
+     *
+     * @param textZoom the zoom percentage of the page text
+     */
     virtual void PutZoomingForTextFactor(int textZoom) = 0;
+
+    /**
+     * Put whether the WebView can get geolocation. The default is true.
+     * To get geolocation, an application must have permission to access
+     * the device location, see ohos.permission.LOCATION and
+     * ohos.permission.LOCATION_IN_BACKGROUND and implement the
+     * NWebHandler#OnGeolocationShow callback to receive notifications of
+     * the location request via the JavaScript Geolocation API.
+     */
     virtual void PutGeolocationAllowed(bool flag) = 0;
+
+    /**
+     * Put the WebView's behavior when a secure origin attempts to load a
+     * resource from an insecure origin. The default is NEVER_ALLOW.
+     *
+     * @param mode The mixed content mode to use.
+     */
     virtual void PutAccessModeForSecureOriginLoadFromInsecure(
-    AccessMode mode) = 0;
+        AccessMode mode) = 0;
+
+    /**
+     * Put whether the WebView supports zooming. The default is true.
+     */
     virtual void PutZoomingFunctionEnabled(bool flag) = 0;
 
+    /**
+     * Put whether the WebView block loading resources from the network. The
+     * default value is false if the hap has the
+     * ohos.permission.INTERNET permission, otherwise it is true.If the
+     * hap does not have the ohos.permission.INTERNET permission,
+     * attempts to set a value of false will be failed.
+     */
+    virtual void PutBlockNetwork(bool flag) = 0;
+
+    enum CacheModeFlag {
+        USE_DEFAULT = 0,
+        USE_CACHE_ELSE_NETWORK,
+        USE_NO_CACHE,
+        USE_CACHE_ONLY
+    };
+    /**
+     * PutCacheMode
+     */
+    virtual void PutCacheMode(CacheModeFlag flag) = 0;
+
+    /**
+     * Put whether the NWeb can be debugging, default value is false.
+     */
+    virtual void PutWebDebuggingAccess(bool flag) = 0;
+
     /* get methods */
+    /**
+     * Get if content URL(content from a content provider installed
+     * in the system) access within WebView is supported.
+     *
+     * @see PutEnableContentAccess
+     */
     virtual bool EnableContentAccess() = 0;
+
+    /**
+     * Get if file system access within WebView is supported. Notified files in the
+     * path of AppData are always accessible.
+     *
+     * @see PutEnableRawFileAccess
+     */
     virtual bool EnableRawFileAccess() = 0;
+
+    /**
+     * Get if JavaScript running in a file scheme URL to access
+     * content from other file scheme URLs is supported.
+     *
+     * @see PutEnableRawFileAccessFromFileURLs
+     */
     virtual bool EnableRawFileAccessFromFileURLs() = 0;
+
+    /**
+     * Get if JavaScript running in a file scheme URL to access
+     * content from any origin is supported. This includes access to content from other file
+     * scheme URLs.
+     *
+     * @see PutEnableUniversalAccessFromFileURLs
+     */
     virtual bool EnableUniversalAccessFromFileURLs() = 0;
+
+    /**
+     * Get if the WebView from loading image resources from the
+     * network (http and https URI schemes) is supported.
+     *
+     * @see PutLoadImageFromNetworkDisabled
+     */
     virtual bool IsLoadImageFromNetworkDisabled() = 0;
+
+    /**
+     * Get the cursive font family name.
+     *
+     * @see PutCursiveFontFamilyName
+     */
     virtual std::string CursiveFontFamilyName() = 0;
+
+    /**
+     * Get if the database storage API is supported.
+     *
+     * @see PutDatabaseAllowed
+     */
     virtual bool IsDataBaseEnabled() = 0;
+
+    /**
+     * Get the size of default fixed font.
+     *
+     * @see PutDefaultFixedFontSize
+     */
     virtual int DefaultFixedFontSize() = 0;
+
+    /**
+     * Get the size of default font.
+     *
+     * @see PutDefaultFontSize
+     */
     virtual int DefaultFontSize() = 0;
+
+    /**
+     * Get the default text encoding format that uses to decode html pages.
+     *
+     * @see PutDefaultTextEncodingFormat
+     */
     virtual std::string DefaultTextEncodingFormat() = 0;
+
+    /**
+     * Get the default user-agent string to the nweb.
+     * An instance of WebView could use a different User-Agent that
+     * NWebPreference#PutUserAgent(String) set to.
+     *
+     * @see PutUserAgent
+     */
     virtual std::string DefaultUserAgent() = 0;
+
+    /**
+     * Get if the DOM storage API is supported.
+     *
+     * @see PutDomStorageEnabled
+     */
     virtual bool IsDomStorageEnabled() = 0;
+
+    /**
+     * Get the fantasy font family name.
+     *
+     * @see PutFantasyFontFamilyName
+     */
     virtual std::string FantasyFontFamilyName() = 0;
+
+    /**
+     * Get the fixed font family name.
+     *
+     * @see PutFixedFontFamilyName
+     */
     virtual std::string FixedFontFamilyName() = 0;
+
+    /**
+     * Get if the dark mode for this WebView is supported.
+     *
+     * @see PutDarkModeEnabled
+     */
     virtual int DarkModeEnabled() = 0;
+
+    /**
+     * Get if JavaScript can open windows.
+     *
+     * @see PutIsCreateWindowsByJavaScriptAllowed
+     */
     virtual bool IsCreateWindowsByJavaScriptAllowed() = 0;
+
+    /**
+     * Get if the WebView can execute JavaScript.
+     *
+     * @see PutJavaScriptEnabled
+     */
     virtual bool IsJavaScriptAllowed() = 0;
+
+    /**
+     * Get if the WebView can load image.
+     *
+     * @see PutImageLoadingAllowed
+     */
     virtual bool IsImageLoadingAllowed() = 0;
+
+    /**
+     * Get the lower limit of the minimum font size.
+     *
+     * @see PutFontSizeLowerLimit
+     */
     virtual int FontSizeLowerLimit() = 0;
+
+    /**
+     * Get the lower limit of the minimum logical font size.
+     *
+     * @see PutLogicalFontSizeLowerLimit
+     */
     virtual int LogicalFontSizeLowerLimit() = 0;
+
+    /**
+     * Get the swith for the overview mode.
+     *
+     * @see PutLoadWithOverviewMode
+     */
+    virtual bool IsLoadWithOverviewMode() = 0;
+
+    /**
+     * Get the sans-serif font family name.
+     *
+     * @see PutSansSerifFontFamilyName
+     */
     virtual std::string SansSerifFontFamilyName() = 0;
+
+    /**
+     * Get the serif font family name.
+     *
+     * @see PutSerifFontFamilyName
+     */
     virtual std::string SerifFontFamilyName() = 0;
+
+    /**
+     * Get the standard font family name.
+     *
+     * @see PutStandardFontFamilyName
+     */
     virtual std::string StandardFontFamilyName() = 0;
+
+    /**
+     * Get the user-agent string to the nweb.
+     *
+     * @see PutUserAgent
+     */
     virtual std::string UserAgent() = 0;
+
+    /**
+     * Get the zoom percentage of the page text.
+     *
+     * @see PutZoomingForTextFactor
+     */
     virtual int ZoomingForTextFactor() = 0;
+
+    /**
+     * Get if the WebView can get geolocation.
+     *
+     * @see PutGeolocationAllowed
+     */
     virtual bool GeolocationAllowed() = 0;
-    virtual int AccessModeForSecureOriginLoadFromInsecure() = 0;
+
+    /**
+     * Get the WebView's behavior when a secure origin attempts to load a
+     * resource from an insecure origin.
+     *
+     * @see PutAccessModeForSecureOriginLoadFromInsecure
+     */
+    virtual AccessMode AccessModeForSecureOriginLoadFromInsecure() = 0;
+
+    /**
+     * Get if the WebView supports zooming.
+     *
+     * @see PutZoomingFunctionEnabled
+     */
     virtual bool ZoomingfunctionEnabled() = 0;
+
+    /**
+     * Get if the WebView block loading resources from the network.
+     *
+     * @see PutBlockNetwork
+     */
+    virtual bool IsNetworkBlocked() = 0;
+
+    /**
+     * Get cache mode
+     *
+     * @see PutCacheMode
+     */
+    virtual CacheModeFlag CacheMode() = 0;
+
+    /**
+     * Get if the NWeb can be debugging.
+     *
+     * @see PutWebDebuggingAccess
+     */
+    virtual bool IsWebDebuggingAccess() = 0;
 };
 }  // namespace OHOS::NWeb
 #endif  // NWEB_PREFERENCE_H
diff --git a/ohos_nweb/include/nweb_url_resource_error.h b/ohos_nweb/include/nweb_url_resource_error.h
index dafc31299459b..3a4f1871d6d2f 100644
--- a/ohos_nweb/include/nweb_url_resource_error.h
+++ b/ohos_nweb/include/nweb_url_resource_error.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_URL_RESOURCE_ERROR_H
 #define NWEB_URL_RESOURCE_ERROR_H
diff --git a/ohos_nweb/include/nweb_url_resource_request.h b/ohos_nweb/include/nweb_url_resource_request.h
index 48e91d03ec768..cf2e339cc1150 100644
--- a/ohos_nweb/include/nweb_url_resource_request.h
+++ b/ohos_nweb/include/nweb_url_resource_request.h
@@ -1,6 +1,18 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
 #ifndef NWEB_URL_RESOURCE_REQUEST_H
 #define NWEB_URL_RESOURCE_REQUEST_H
 #include <map>
@@ -23,7 +35,7 @@ public:
     virtual const std::string &Method() = 0;
 
     /**
-     * @brief  Gets the headers associated with the request.
+     * @brief Gets the headers associated with the request.
      *
      * @retval the headers associated with the request.
      */
@@ -40,7 +52,7 @@ public:
      * @brief Gets whether a gesture (such as a click) was associated with the
      * request.
      *
-     * @retval gesture
+     * @retval gesture whether was associated with the request.
      */
     virtual bool FromGesture() = 0;
 
@@ -59,6 +71,6 @@ public:
      */
     virtual bool IsRequestRedirect() = 0;
 };
-}
+}  // namespace OHOS::NWeb
 
-#endif
\ No newline at end of file
+#endif  // NWEB_URL_RESOURCE_REQUEST_H
\ No newline at end of file
diff --git a/ohos_nweb/include/nweb_url_resource_response.h b/ohos_nweb/include/nweb_url_resource_response.h
index 0efc5cd930c08..f5755c54e81be 100644
--- a/ohos_nweb/include/nweb_url_resource_response.h
+++ b/ohos_nweb/include/nweb_url_resource_response.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_URL_RESOURCE_RESPONSE_H
 #define NWEB_URL_RESOURCE_RESPONSE_H
@@ -22,7 +33,7 @@ public:
      * [400, 599]. Causing a redirect by specifying a 3xx code is not supported.
      * @param reason_phrase the phrase describing the status code, for example
      * "OK". Must be non-empty.
-     * @param request_headers the resource response's headers represented as a
+     * @param response_headers the resource response's headers represented as a
      * mapping of header name -> header value.
      * @param input_stream the input stream that provides the resource response's
      * data.
@@ -31,13 +42,13 @@ public:
                             const std::string& encoding,
                             const int status_code,
                             const std::string& reason_phrase,
-                            const std::map<std::string, std::string>& request_headers,
+                            const std::map<std::string, std::string>& response_headers,
                             std::string& input_stream)
         : mime_type_(mime_type),
           encoding_(encoding),
           status_code_(status_code),
           reason_phrase_(reason_phrase),
-          request_headers_(request_headers),
+          response_headers_(response_headers),
           input_stream_(input_stream) {}
 
     NWebUrlResourceResponse(const std::string& mime_type,
@@ -113,27 +124,27 @@ public:
     /**
      * @brief Set ResponseHeaders
      *
-     * @param request_headers request header
+     * @param response_headers response header
      */
-    void PutResponseHeaders(const std::map<std::string, std::string>& request_headers)
+    void PutResponseHeaders(const std::map<std::string, std::string>& response_headers)
     {
-        request_headers_ = request_headers;
+        response_headers_ = response_headers;
     }
 
     /**
      * @brief Get ResponseHeaders
      *
-     * @retval request headers
+     * @retval response headers
      */
     const std::map<std::string, std::string>& ResponseHeaders()
     {
-        return request_headers_;
+        return response_headers_;
     }
 
     /**
      * @brief Set StatusCode And ReasonPhrase
      *
-     * @param status_code  status code
+     * @param status_code status code
      * @param reasonphrase reason phrase
      */
     void PutResponseStateAndStatuscode(int status_code,
@@ -167,7 +178,7 @@ private:
     std::string encoding_;
     int status_code_ = 200;
     std::string reason_phrase_;
-    std::map<std::string, std::string> request_headers_;
+    std::map<std::string, std::string> response_headers_;
     std::string& input_stream_;
 };
 }
diff --git a/ohos_nweb/include/nweb_value.h b/ohos_nweb/include/nweb_value.h
index e08d162fe9798..9120456d91508 100644
--- a/ohos_nweb/include/nweb_value.h
+++ b/ohos_nweb/include/nweb_value.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_VALUE_H_
 #define NWEB_VALUE_H_
@@ -29,7 +40,7 @@ public:
         LIST
     };
 
-    NWebValue(Type type) : type_(type) {}
+    explicit NWebValue(Type type) : type_(type) {}
 
     ~NWebValue() = default;
 
diff --git a/ohos_nweb/include/nweb_value_callback.h b/ohos_nweb/include/nweb_value_callback.h
index 4f521b423282c..1a1a0e5537a7c 100644
--- a/ohos_nweb/include/nweb_value_callback.h
+++ b/ohos_nweb/include/nweb_value_callback.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef VALUE_CALLBACK_H
 #define VALUE_CALLBACK_H
diff --git a/ohos_nweb/src/cef_delegate/nweb_access_request_delegate.cc b/ohos_nweb/src/cef_delegate/nweb_access_request_delegate.cc
index 304addd1ade88..d9e40643e3ca7 100644
--- a/ohos_nweb/src/cef_delegate/nweb_access_request_delegate.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_access_request_delegate.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "ohos_nweb/src/cef_delegate/nweb_access_request_delegate.h"
 #include "base/logging.h"
diff --git a/ohos_nweb/src/cef_delegate/nweb_access_request_delegate.h b/ohos_nweb/src/cef_delegate/nweb_access_request_delegate.h
index 24cc0ff87c318..e182672d7d9a5 100644
--- a/ohos_nweb/src/cef_delegate/nweb_access_request_delegate.h
+++ b/ohos_nweb/src/cef_delegate/nweb_access_request_delegate.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_ACCESS_REQUEST_DELEGATE_H
 #define NWEB_ACCESS_REQUEST_DELEGATE_H
diff --git a/ohos_nweb/src/cef_delegate/nweb_application.cc b/ohos_nweb/src/cef_delegate/nweb_application.cc
index 7bbfd31f93d76..98404567771b5 100644
--- a/ohos_nweb/src/cef_delegate/nweb_application.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_application.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_application.h"
 
@@ -13,10 +24,12 @@ namespace OHOS::NWeb {
 NWebApplication::NWebApplication(
     std::shared_ptr<NWebPreferenceDelegate> preference_delegate,
     std::string url,
-    CefRefPtr<NWebHandlerDelegate> handler_delegate)
+    CefRefPtr<NWebHandlerDelegate> handler_delegate,
+    void* window)
     : preference_delegate_(preference_delegate),
       url_(url),
-      handler_delegate_(handler_delegate) {}
+      handler_delegate_(handler_delegate),
+      window_(window) {}
 
 NWebApplication::~NWebApplication() {}
 
@@ -75,6 +88,11 @@ void NWebApplication::CreateBrowser() {
   browser_settings.background_color = 0xffffffff;
   preference_delegate_->ComputeBrowserSettings(browser_settings);
 
+  if (command_line->HasSwitch(switches::kForTest)) {
+    preference_delegate_->PutHasInternetPermission(true);
+    preference_delegate_->PutBlockNetwork(false);
+  }
+
   std::string url;
   url = command_line->GetSwitchValue(switches::kUrl);
   if (url.empty()) {
@@ -89,5 +107,12 @@ void NWebApplication::CreateBrowser() {
   // Create the first browser window.
   CefBrowserHost::CreateBrowser(window_info, handler_delegate_, url,
                                 browser_settings, nullptr, nullptr);
+  if (handler_delegate_ == nullptr) {
+    return;
+  }
+  auto browser = handler_delegate_->GetBrowser();
+  if (browser && browser->GetHost()) {
+    browser->GetHost()->SetNativeWindow(window_);
+  }
 }
 }  // namespace OHOS::NWeb
\ No newline at end of file
diff --git a/ohos_nweb/src/cef_delegate/nweb_application.h b/ohos_nweb/src/cef_delegate/nweb_application.h
index 247e813cd4af5..7437770d20b94 100644
--- a/ohos_nweb/src/cef_delegate/nweb_application.h
+++ b/ohos_nweb/src/cef_delegate/nweb_application.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_APPLICATION_H
 #define NWEB_APPLICATION_H
@@ -14,6 +25,7 @@ namespace OHOS::NWeb {
 namespace switches {
 const char kUrl[] = "url";
 const char kOffScreenFrameRate[] = "off-screen-frame-rate";
+const char kForTest[] = "for-test";
 }  // namespace switches
 
 class NWebApplication : public CefApp,
@@ -22,7 +34,8 @@ class NWebApplication : public CefApp,
  public:
   NWebApplication(std::shared_ptr<NWebPreferenceDelegate> preference_delegate,
                   std::string url,
-                  CefRefPtr<NWebHandlerDelegate> handler_delegate);
+                  CefRefPtr<NWebHandlerDelegate> handler_delegate,
+                  void* window);
   ~NWebApplication();
 
   /* CefApp methods begine */
@@ -49,6 +62,8 @@ class NWebApplication : public CefApp,
   std::shared_ptr<NWebPreferenceDelegate> preference_delegate_ = nullptr;
   std::string url_;
   CefRefPtr<NWebHandlerDelegate> handler_delegate_{nullptr};
+  void* window_ = nullptr;
+
   // Include the default reference counting implementation.
   IMPLEMENT_REFCOUNTING(NWebApplication);
 };  // NWebApplication
diff --git a/ohos_nweb/src/cef_delegate/nweb_cookie_manager_delegate.cc b/ohos_nweb/src/cef_delegate/nweb_cookie_manager_delegate.cc
index 0b0bb59284ca6..3870cdb3a7fe2 100644
--- a/ohos_nweb/src/cef_delegate/nweb_cookie_manager_delegate.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_cookie_manager_delegate.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_cookie_manager_delegate.h"
 #include <memory>
@@ -101,8 +112,10 @@ class ReturnCookieVisitor : public CefCookieVisitor {
  public:
   ReturnCookieVisitor() = delete;
   explicit ReturnCookieVisitor(
+      std::shared_ptr<WaitableEvent> event,
       std::shared_ptr<NWebValueCallback<std::string>> callback)
-      : cookie_line_(std::string()),
+      : event_(event),
+        cookie_line_(std::string()),
         cookies_(std::vector<CefCookie>()),
         callback_(callback) {}
   ~ReturnCookieVisitor() = default;
@@ -115,6 +128,9 @@ class ReturnCookieVisitor : public CefCookieVisitor {
       if (callback_ != nullptr) {
         callback_->OnReceiveValue(cookie_line_);
       }
+      if (event_ != nullptr) {
+        event_->Signal();
+      }
       return true;
     }
     deleteCookie = !cookie.has_expires ? delete_session_ : false;
@@ -128,6 +144,9 @@ class ReturnCookieVisitor : public CefCookieVisitor {
     if (callback_ != nullptr) {
       callback_->OnReceiveValue(cookie_line_);
     }
+    if (event_ != nullptr) {
+      event_->Signal();
+    }
   }
 
   std::vector<CefCookie>& GetVisitorCookies() { return cookies_; }
@@ -136,6 +155,7 @@ class ReturnCookieVisitor : public CefCookieVisitor {
 
  private:
   bool delete_session_;
+  std::shared_ptr<WaitableEvent> event_;
   std::string cookie_line_;
   std::vector<CefCookie> cookies_;
   std::shared_ptr<NWebValueCallback<std::string>> callback_;
@@ -181,8 +201,6 @@ class CookieDeleteCallback : public CefDeleteCookiesCallback {
 }  // namespace
 
 namespace OHOS::NWeb {
-NWebCookieManagerDelegate::NWebCookieManagerDelegate() {}
-
 CefRefPtr<CefCookieManager>
 NWebCookieManagerDelegate::GetGlobalCookieManager() {
   if (!cookie_manager_) {
@@ -232,13 +250,33 @@ void NWebCookieManagerDelegate::ReturnCookie(
     LOG(ERROR) << "GetGlobalCookieManager failed";
     return;
   }
-  CefRefPtr<ReturnCookieVisitor> visitor = new ReturnCookieVisitor(callback);
+  CefRefPtr<ReturnCookieVisitor> visitor = new ReturnCookieVisitor(nullptr, callback);
   if (!cookie_manager->VisitUrlCookies(CefString(url), false, visitor)) {
     LOG(ERROR) << "VisitUrlCookies failed";
     return;
   }
 }
 
+std::string NWebCookieManagerDelegate::ReturnCookie(
+  const std::string& url) {
+  CefRefPtr<CefCookieManager> cookie_manager = GetGlobalCookieManager();
+  if (cookie_manager == nullptr) {
+    LOG(ERROR) << "GetGlobalCookieManager failed";
+    return "";
+  }
+  std::shared_ptr<base::WaitableEvent> event =
+    std::make_shared<base::WaitableEvent>(
+      base::WaitableEvent::ResetPolicy::AUTOMATIC,
+      base::WaitableEvent::InitialState::NOT_SIGNALED);
+  CefRefPtr<ReturnCookieVisitor> visitor = new ReturnCookieVisitor(event, nullptr);
+  if (!cookie_manager->VisitUrlCookies(CefString(url), false, visitor)) {
+    LOG(ERROR) << "VisitUrlCookies failed";
+    return "";
+  }
+  event->Wait();
+  return visitor->ReturnCookieLine();
+}
+
 void NWebCookieManagerDelegate::SetCookie(
     const std::string& url,
     const std::string& value,
@@ -254,6 +292,7 @@ void NWebCookieManagerDelegate::SetCookie(
     LOG(ERROR) << "CreateCefCookie failed";
     return;
   }
+
   if (!cookie_manager->SetCookie(CefString(url), cef_cookie,
                                  new CookieSetCallback(nullptr, callback))) {
     LOG(ERROR) << "SetCookie error";
@@ -261,6 +300,33 @@ void NWebCookieManagerDelegate::SetCookie(
   }
 }
 
+bool NWebCookieManagerDelegate::SetCookie(
+    const std::string& url,
+    const std::string& value) {
+  CefRefPtr<CefCookieManager> cookie_manager = GetGlobalCookieManager();
+  if (cookie_manager == nullptr) {
+    LOG(ERROR) << "GetGlobalCookieManager failed";
+    return false;
+  }
+  CefCookie cef_cookie;
+  if (!CefCookieManager::CreateCefCookie(CefString(url), CefString(value),
+                                         cef_cookie)) {
+    LOG(ERROR) << "CreateCefCookie failed";
+    return false;
+  }
+  std::shared_ptr<base::WaitableEvent> completion =
+    std::make_shared<base::WaitableEvent>(
+      base::WaitableEvent::ResetPolicy::AUTOMATIC,
+      base::WaitableEvent::InitialState::NOT_SIGNALED);
+  CefRefPtr<CookieSetCallback> callback(new CookieSetCallback(completion, nullptr));
+  if (!cookie_manager->SetCookie(CefString(url), cef_cookie, callback)) {
+    LOG(ERROR) << "SetCookie error";
+    return false;
+  }
+  completion->Wait();
+  return callback->IsSetSuccess();
+}
+
 void NWebCookieManagerDelegate::ExistCookies(
     std::shared_ptr<NWebValueCallback<bool>> callback) {
   CefRefPtr<CefCookieManager> cookie_manager = GetGlobalCookieManager();
@@ -288,6 +354,25 @@ void NWebCookieManagerDelegate::Store(
   }
 }
 
+bool NWebCookieManagerDelegate::Store() {
+  CefRefPtr<CefCookieManager> cookie_manager = GetGlobalCookieManager();
+  if (cookie_manager == nullptr) {
+    return false;
+  }
+  std::shared_ptr<base::WaitableEvent> event =
+    std::make_shared<base::WaitableEvent>(
+      base::WaitableEvent::ResetPolicy::AUTOMATIC,
+      base::WaitableEvent::InitialState::NOT_SIGNALED);
+  CefRefPtr<CookieCompletionCallback> complete =
+      new CookieCompletionCallback(event, nullptr);
+  if (!cookie_manager->FlushStore(complete)) {
+    LOG(ERROR) << "Store Failed";
+    return false;
+  }
+  event->Wait();
+  return true;
+}
+
 void NWebCookieManagerDelegate::DeleteSessionCookies(
     std::shared_ptr<NWebValueCallback<bool>> callback) {
   CefRefPtr<CefCookieManager> cookie_manager = GetGlobalCookieManager();
@@ -309,12 +394,19 @@ void NWebCookieManagerDelegate::DeleteCookieEntirely(
   if (cookie_manager == nullptr) {
     return;
   }
+  std::shared_ptr<base::WaitableEvent> event = (callback != nullptr) ?
+    nullptr : std::make_shared<base::WaitableEvent>(
+      base::WaitableEvent::ResetPolicy::AUTOMATIC,
+      base::WaitableEvent::InitialState::NOT_SIGNALED);
   CefRefPtr<CefDeleteCookiesCallback> delete_callback =
-      new CookieDeleteCallback(callback);
+      new CookieDeleteCallback(event, callback);
   if (!cookie_manager->DeleteCookies(CefString(std::string()),
                                      CefString(std::string()), false,
                                      delete_callback)) {
     LOG(ERROR) << "DeleteCookieEntirely Failed";
   }
+  if (event != nullptr) {
+    event->Wait();
+  }
 }
 }  // namespace OHOS::NWeb
\ No newline at end of file
diff --git a/ohos_nweb/src/cef_delegate/nweb_cookie_manager_delegate.h b/ohos_nweb/src/cef_delegate/nweb_cookie_manager_delegate.h
index cb4c60b625587..c77cb4c9a6bea 100644
--- a/ohos_nweb/src/cef_delegate/nweb_cookie_manager_delegate.h
+++ b/ohos_nweb/src/cef_delegate/nweb_cookie_manager_delegate.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_COOKIE_MANAGER_DELEGATE_H
 #define NWEB_COOKIE_MANAGER_DELEGATE_H
@@ -13,7 +24,7 @@
 namespace OHOS::NWeb {
 class NWebCookieManagerDelegate : public NWebCookieManagerDelegateInterface {
  public:
-  NWebCookieManagerDelegate();
+  NWebCookieManagerDelegate() = default;
   ~NWebCookieManagerDelegate() = default;
 
   bool IsAcceptCookieAllowed() override;
@@ -23,11 +34,15 @@ class NWebCookieManagerDelegate : public NWebCookieManagerDelegateInterface {
   void ReturnCookie(
       const std::string& url,
       std::shared_ptr<NWebValueCallback<std::string>> callback) override;
+  std::string ReturnCookie(const std::string& url) override;
   void SetCookie(const std::string& url,
                  const std::string& value,
                  std::shared_ptr<NWebValueCallback<bool>> callback) override;
+  bool SetCookie(const std::string &url,
+                 const std::string &value) override;
   void ExistCookies(std::shared_ptr<NWebValueCallback<bool>> callback) override;
   void Store(std::shared_ptr<NWebValueCallback<bool>> callback) override;
+  bool Store() override;
   void DeleteSessionCookies(
       std::shared_ptr<NWebValueCallback<bool>> callback) override;
   void DeleteCookieEntirely(
diff --git a/ohos_nweb/src/cef_delegate/nweb_delegate.cc b/ohos_nweb/src/cef_delegate/nweb_delegate.cc
index 475195e136702..266d00d84296d 100755
--- a/ohos_nweb/src/cef_delegate/nweb_delegate.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_delegate.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_delegate.h"
 
@@ -35,7 +46,7 @@ class JavaScriptResultCallbackImpl : public CefJavaScriptResultCallback {
 NWebDelegate::NWebDelegate(int argc, const char* argv[])
     : argc_(argc), argv_(argv) {}
 
-bool NWebDelegate::Init() {
+bool NWebDelegate::Init(void* window) {
   preference_delegate_ = std::make_shared<NWebPreferenceDelegate>();
 
   render_handler_ = NWebRenderHandler::Create();
@@ -49,7 +60,7 @@ bool NWebDelegate::Init() {
   }
 
   std::string url_for_init = "";
-  InitializeCef(url_for_init);
+  InitializeCef(url_for_init, window);
 
   return true;
 }
@@ -70,8 +81,7 @@ void NWebDelegate::OnDestroy(bool is_close_all) {
 void NWebDelegate::RegisterDownLoadListener(
     std::shared_ptr<NWebDownloadCallback> download_listener) {
   if (handler_delegate_ == nullptr) {
-    LOG(ERROR)
-        << "fail to register download listener, NWEB handler is nullptr";
+    LOG(ERROR) << "fail to register download listener, NWEB handler is nullptr";
     return;
   }
   handler_delegate_->RegisterDownLoadListener(download_listener);
@@ -188,6 +198,13 @@ void NWebDelegate::NavigateForward() const {
   }
 }
 
+void NWebDelegate::DeleteNavigateHistory() {
+  LOG(INFO) << "NWebDelegate::DeleteNavigateHistory";
+  if (GetBrowser().get()) {
+    GetBrowser()->DeleteHistory();
+  }
+}
+
 void NWebDelegate::Reload() const {
   LOG(INFO) << "NWebDelegate::Reload";
   if (GetBrowser().get()) {
@@ -269,11 +286,11 @@ void NWebDelegate::OnContinue() {
   GetBrowser()->GetHost()->SendFocusEvent(true);
 }
 
-void NWebDelegate::InitializeCef(std::string url) {
+void NWebDelegate::InitializeCef(std::string url, void* window) {
   handler_delegate_ = NWebHandlerDelegate::Create(
       preference_delegate_, render_handler_, event_handler_);
   nweb_app_ =
-      new NWebApplication(preference_delegate_, url, handler_delegate_);
+      new NWebApplication(preference_delegate_, url, handler_delegate_, window);
 
   CefMainArgs mainargs(argc_, const_cast<char**>(argv_));
   int exitcode = CefExecuteProcess(mainargs, nweb_app_, NULL);
@@ -460,4 +477,4 @@ void NWebDelegate::RegisterNWebJavaScriptCallBack(
   }
   handler_delegate_->RegisterNWebJavaScriptCallBack(callback);
 }
-}  // namespace OHOS::NWEB
\ No newline at end of file
+}  // namespace OHOS::NWeb
\ No newline at end of file
diff --git a/ohos_nweb/src/cef_delegate/nweb_delegate.h b/ohos_nweb/src/cef_delegate/nweb_delegate.h
index 935ca4ef7f77b..d1792e1e011e0 100755
--- a/ohos_nweb/src/cef_delegate/nweb_delegate.h
+++ b/ohos_nweb/src/cef_delegate/nweb_delegate.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_DELEGATE_H
 #define NWEB_DELEGATE_H
@@ -21,7 +32,7 @@ class NWebDelegate : public NWebDelegateInterface,
  public:
   NWebDelegate(int argc, const char* argv[]);
   ~NWebDelegate() = default;
-  bool Init();
+  bool Init(void* window);
 
   bool IsReady() override;
   void OnDestroy(bool is_close_all) override;
@@ -47,6 +58,7 @@ class NWebDelegate : public NWebDelegateInterface,
   bool CanNavigateBackOrForward(int num_steps) const override;
   void NavigateBack() const override;
   void NavigateForward() const override;
+  void DeleteNavigateHistory() override;
   void Reload() const override;
   void Zoom(float zoomFactor) const override;
   void Stop() const override;
@@ -90,7 +102,7 @@ class NWebDelegate : public NWebDelegateInterface,
 
  private:
   void RunMessageLoop();
-  void InitializeCef(std::string url);
+  void InitializeCef(std::string url, void* window);
   const CefRefPtr<CefBrowser> GetBrowser() const;
   void RequestVisitedHistory();
 
diff --git a/ohos_nweb/src/cef_delegate/nweb_event_handler.cc b/ohos_nweb/src/cef_delegate/nweb_event_handler.cc
index e737f46e20e8b..ced49179e0e0f 100644
--- a/ohos_nweb/src/cef_delegate/nweb_event_handler.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_event_handler.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_event_handler.h"
 
diff --git a/ohos_nweb/src/cef_delegate/nweb_event_handler.h b/ohos_nweb/src/cef_delegate/nweb_event_handler.h
index 4cc8b0c0d93ca..1ca96dc20155b 100644
--- a/ohos_nweb/src/cef_delegate/nweb_event_handler.h
+++ b/ohos_nweb/src/cef_delegate/nweb_event_handler.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_EVENT_HANDLER_H
 #define NWEB_EVENT_HANDLER_H
diff --git a/ohos_nweb/src/cef_delegate/nweb_file_selector_params_impl.cc b/ohos_nweb/src/cef_delegate/nweb_file_selector_params_impl.cc
new file mode 100644
index 0000000000000..0ab1c50d60ad7
--- /dev/null
+++ b/ohos_nweb/src/cef_delegate/nweb_file_selector_params_impl.cc
@@ -0,0 +1,71 @@
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+#include "nweb_file_selector_params_impl.h"
+
+#include "base/logging.h"
+
+namespace OHOS::NWeb {
+FileSelectorParamsImpl::FileSelectorParamsImpl(
+    FileSelectorMode mode,
+    const std::string& title,
+    const std::vector<CefString>& accept_type,
+    const std::string& default_filename,
+    bool is_capture)
+    : mode_(mode),
+      title_(title),
+      default_filename_(default_filename),
+      is_capture_(is_capture) {
+  for (auto& c : accept_type) {
+    accept_type_.push_back(c.ToString());
+  }
+}
+
+const std::string FileSelectorParamsImpl::Title() const {
+  return title_;
+}
+
+NWebFileSelectorParams::FileSelectorMode FileSelectorParamsImpl::Mode() const {
+  return mode_;
+}
+
+const std::string FileSelectorParamsImpl::DefaultFilename() const {
+  return default_filename_;
+}
+
+const AcceptTypeList FileSelectorParamsImpl::AcceptType() const {
+  return accept_type_;
+}
+
+bool FileSelectorParamsImpl::IsCapture() const {
+  return is_capture_;
+}
+
+void FileSelectorCallbackImpl::OnReceiveValue(std::vector<std::string>& value) {
+  if (callback_ == nullptr || is_used_) {
+    LOG(ERROR) << "FileSelectorCallbackImpl is null or already used";
+    return;
+  }
+  is_used_ = true;
+  if (value.size() == 0) {
+    callback_->Cancel();
+  } else {
+    for (auto& c : value) {
+      file_path_.push_back(CefString(c));
+    }
+    callback_->Continue(0, file_path_);
+  }
+}
+}  // namespace OHOS::NWeb
\ No newline at end of file
diff --git a/ohos_nweb/src/cef_delegate/nweb_file_selector_params_impl.h b/ohos_nweb/src/cef_delegate/nweb_file_selector_params_impl.h
new file mode 100644
index 0000000000000..0311d4409d91a
--- /dev/null
+++ b/ohos_nweb/src/cef_delegate/nweb_file_selector_params_impl.h
@@ -0,0 +1,65 @@
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+#ifndef NWEB_FILE_SELECTOR_PARAMS_IMPL_H
+#define NWEB_FILE_SELECTOR_PARAMS_IMPL_H
+
+#include <string>
+#include <vector>
+#include "cef_dialog_handler.h"
+#include "nweb_handler.h"
+#include "nweb_file_selector_params.h"
+
+namespace OHOS::NWeb {
+class FileSelectorParamsImpl : public NWebFileSelectorParams{
+public:
+    FileSelectorParamsImpl(FileSelectorMode mode,
+                           const std::string &title,
+                           const std::vector<CefString> &accept_type,
+                           const std::string &default_filename,
+                           bool is_capture);
+
+    const std::string Title() const override;
+    NWebFileSelectorParams::FileSelectorMode Mode() const override;
+    const std::string DefaultFilename() const override;
+    const AcceptTypeList AcceptType() const override;
+    bool IsCapture() const override;
+
+private:
+    NWebFileSelectorParams::FileSelectorMode mode_;
+    std::string title_;
+    std::string default_filename_;
+    AcceptTypeList accept_type_;
+    bool is_capture_;
+};
+
+class FileSelectorCallbackImpl : public FileSelectorCallback {
+ public:
+  explicit FileSelectorCallbackImpl(CefRefPtr<CefFileDialogCallback> callback)
+      : callback_(callback),
+        file_path_(std::vector<CefString>()),
+        is_used_(false) {}
+  ~FileSelectorCallbackImpl() = default;
+
+  void OnReceiveValue(std::vector<std::string>& value) override;
+
+ private:
+  CefRefPtr<CefFileDialogCallback> callback_;
+  std::vector<CefString> file_path_;
+  bool is_used_;
+};
+}
+
+#endif
\ No newline at end of file
diff --git a/ohos_nweb/src/cef_delegate/nweb_geolocation_callback.cc b/ohos_nweb/src/cef_delegate/nweb_geolocation_callback.cc
index 31046871ce67d..3a970446502aa 100644
--- a/ohos_nweb/src/cef_delegate/nweb_geolocation_callback.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_geolocation_callback.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "ohos_nweb/src/cef_delegate/nweb_geolocation_callback.h"
 #include "base/logging.h"
@@ -13,16 +24,14 @@ void NWebGeolocationCallback::GeolocationCallbackInvoke(
     const std::string& origin,
     bool allow,
     bool retain) {
-  LOG(ERROR) << "NWebGeolocationCallback::GeolocationCallbackInvoke";
-  return;
-  // if (retain) {
-  //   if (allow) {
-  //     browser_->GetGeolocationPermissions()->Enabled(origin);
-  //   } else {
-  //     browser_->GetGeolocationPermissions()->Disabled(origin);
-  //   }
-  // }
-  // browser_->GetPermissionRequestDelegate()->NotifyGeolocationPermission(false,
-  //                                                                       origin);
+  if (retain) {
+    if (allow) {
+      browser_->GetGeolocationPermissions()->Enabled(origin);
+    } else {
+      browser_->GetGeolocationPermissions()->Disabled(origin);
+    }
+  }
+  browser_->GetPermissionRequestDelegate()->NotifyGeolocationPermission(allow,
+                                                                        origin);
 }
 }  // namespace OHOS::NWeb
\ No newline at end of file
diff --git a/ohos_nweb/src/cef_delegate/nweb_geolocation_callback.h b/ohos_nweb/src/cef_delegate/nweb_geolocation_callback.h
index 7240ebdf2ea9b..b39feec5c5ffb 100644
--- a/ohos_nweb/src/cef_delegate/nweb_geolocation_callback.h
+++ b/ohos_nweb/src/cef_delegate/nweb_geolocation_callback.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_GEOLOCATION_CALLBACK_H
 #define NWEB_GEOLOCATION_CALLBACK_H
diff --git a/ohos_nweb/src/cef_delegate/nweb_handler_delegate.cc b/ohos_nweb/src/cef_delegate/nweb_handler_delegate.cc
index 6fc789fd1e8f9..826cc2a5d7638 100755
--- a/ohos_nweb/src/cef_delegate/nweb_handler_delegate.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_handler_delegate.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_handler_delegate.h"
 
@@ -13,12 +24,14 @@
 #include "cef/include/wrapper/cef_closure_task.h"
 #include "cef/include/wrapper/cef_helpers.h"
 #include "nweb_access_request_delegate.h"
+#include "nweb_file_selector_params_impl.h"
 #include "nweb_geolocation_callback.h"
 #include "nweb_js_dialog_result_impl.h"
 #include "nweb_resource_handler.h"
 #include "nweb_url_resource_error_impl.h"
 #include "nweb_url_resource_request_impl.h"
 #include "nweb_url_resource_response.h"
+#include "nweb_value_callback.h"
 
 namespace OHOS::NWeb {
 namespace {
@@ -68,6 +81,25 @@ NWebConsoleLog::NWebConsoleLogLevel ConvertConsoleMessageLevel(
       return NWebConsoleLog::NWebConsoleLogLevel::UNKNOWN;
   }
 }
+
+NWebFileSelectorParams::FileSelectorMode ConvertFileSelectorMode(
+    CefDialogHandler::FileDialogMode mode) {
+  NWebFileSelectorParams::FileSelectorMode result_mode =
+      NWebFileSelectorParams::FileSelectorMode::FILE_OPEN_MODE;
+  switch (mode & FILE_DIALOG_TYPE_MASK) {
+    case FILE_DIALOG_OPEN:
+      return NWebFileSelectorParams::FileSelectorMode::FILE_OPEN_MODE;
+    case FILE_DIALOG_OPEN_MULTIPLE:
+      return NWebFileSelectorParams::FileSelectorMode::FILE_OPEN_MULTIPLE_MODE;
+    case FILE_DIALOG_OPEN_FOLDER:
+      return NWebFileSelectorParams::FileSelectorMode::FILE_OPEN_FOLDER_MODE;
+    case FILE_DIALOG_SAVE:
+      return NWebFileSelectorParams::FileSelectorMode::FILE_SAVE_MODE;
+    default:
+      break;
+  }
+  return result_mode;
+}
 }  // namespace
 
 // static
@@ -182,6 +214,10 @@ CefRefPtr<CefJSDialogHandler> NWebHandlerDelegate::GetJSDialogHandler() {
   return this;
 }
 
+CefRefPtr<CefDialogHandler> NWebHandlerDelegate::GetDialogHandler() {
+  return this;
+}
+
 bool NWebHandlerDelegate::OnProcessMessageReceived(
     CefRefPtr<CefBrowser> browser,
     CefRefPtr<CefFrame> frame,
@@ -307,7 +343,7 @@ void NWebHandlerDelegate::OnLoadEnd(CefRefPtr<CefBrowser> browser,
                                     int http_status_code) {
   LOG(INFO) << "NWebHandlerDelegate::OnLoadEnd";
   if (frame == nullptr || !frame->IsMain()) {
-      return;
+    return;
   }
   LOG(INFO) << "NWebHandlerDelegate:: Mainframe OnLoadEnd";
   if (nweb_handler_ != nullptr) {
@@ -392,6 +428,19 @@ void NWebHandlerDelegate::OnHttpError(CefRefPtr<CefRequest> request,
   }
 }
 
+void NWebHandlerDelegate::OnRefreshAccessedHistory(CefRefPtr<CefBrowser> browser,
+                                                   CefRefPtr<CefFrame> frame,
+                                                   const CefString& url,
+                                                   bool isReload) {
+  LOG(INFO) << "NWebHandlerDelegate::OnRefreshAccessedHistory, url = " << url.ToString() << ", isReload = " << isReload;
+  if (nweb_handler_ == nullptr) {
+    LOG(ERROR) << "nweb handler is null";
+    return;
+  }
+
+  nweb_handler_->OnRefreshAccessedHistory(url.ToString(), isReload);
+}
+
 /* CefLoadHandler methods end */
 
 /* CefRequestHandler methods begin */
@@ -423,8 +472,7 @@ bool NWebHandlerDelegate::OnCertificateError(
   return false;
 }
 
-CefRefPtr<CefResourceRequestHandler>
-NWebHandlerDelegate::GetResourceRequestHandler(
+CefRefPtr<CefResourceRequestHandler> NWebHandlerDelegate::GetResourceRequestHandler(
     CefRefPtr<CefBrowser> browser,
     CefRefPtr<CefFrame> frame,
     CefRefPtr<CefRequest> request,
@@ -435,6 +483,34 @@ NWebHandlerDelegate::GetResourceRequestHandler(
   return this;
 }
 
+void NWebHandlerDelegate::OnRenderProcessTerminated(CefRefPtr<CefBrowser> browser, TerminationStatus status) {
+  if (nweb_handler_ == nullptr) {
+    LOG(ERROR) << "invalid nweb handler (nullptr)";
+    return;
+  }
+
+  RenderExitReason reason;
+  switch (status) {
+    case TS_ABNORMAL_TERMINATION:
+      reason = RenderExitReason::PROCESS_ABNORMAL_TERMINATION;
+      break;
+    case TS_PROCESS_WAS_KILLED:
+      reason = RenderExitReason::PROCESS_WAS_KILLED;
+      break;
+    case TS_PROCESS_CRASHED:
+      reason = RenderExitReason::PROCESS_CRASHED;
+      break;
+    case TS_PROCESS_OOM:
+      reason = RenderExitReason::PROCESS_OOM;
+      break;
+    default:
+      reason = RenderExitReason::PROCESS_EXIT_UNKNOWN;
+      break;
+  }
+
+  LOG(INFO) << "render process exit, reason = " << static_cast<int>(reason);
+  nweb_handler_->OnRenderExited(reason);
+}
 /* CefRequestHandler methods end */
 
 /* CefDownloadHandler methods begin */
@@ -484,7 +560,6 @@ CefRefPtr<CefResourceHandler> NWebHandlerDelegate::GetResourceHandler(
     CefRefPtr<CefBrowser> browser,
     CefRefPtr<CefFrame> frame,
     CefRefPtr<CefRequest> request) {
-  LOG(INFO) << "NWebHandlerDelegate::GetResourceHandler";
   if (!request) {
     LOG(ERROR) << "NWebHandlerDelegate::GetResourceHandler request is null";
     return nullptr;
@@ -564,7 +639,7 @@ bool NWebHandlerDelegate::OnConsoleMessage(CefRefPtr<CefBrowser> browser,
     NWebConsoleLog::NWebConsoleLogLevel message_level =
         ConvertConsoleMessageLevel(level);
     NWebConsoleLog console_message(line, message.ToString(), message_level,
-                                       source.ToString());
+                                   source.ToString());
     return nweb_handler_->OnConsoleLog(console_message);
   }
   return false;
@@ -584,10 +659,11 @@ bool NWebHandlerDelegate::OnSetFocus(CefRefPtr<CefBrowser> browser,
 /* CefPermissionRequest method begin */
 void NWebHandlerDelegate::OnGeolocationShow(const CefString& origin) {
   if (nweb_handler_ != nullptr) {
-    NWebGeolocationCallback* callback =
-        new NWebGeolocationCallback(main_browser_);
-    nweb_handler_->OnGeolocationShow(origin, callback);
-    delete callback;
+    // lifecycle wrapped by ace WebGeolocationOhos
+    if (callback_ == nullptr) {
+      callback_ = new NWebGeolocationCallback(main_browser_);
+    }
+    nweb_handler_->OnGeolocationShow(origin, callback_);
   }
   return;
 }
@@ -666,6 +742,49 @@ bool NWebHandlerDelegate::OnBeforeUnloadDialog(
 
 /* CefJSDialogHandler method end */
 
+/* CefDialogHandler method begin */
+bool NWebHandlerDelegate::OnFileDialog(
+    CefRefPtr<CefBrowser> browser,
+    FileDialogMode mode,
+    const CefString& title,
+    const CefString& default_file_path,
+    const std::vector<CefString>& accept_filters,
+    int selected_accept_filter,
+    bool capture,
+    CefRefPtr<CefFileDialogCallback> callback) {
+  if (nweb_handler_ == nullptr) {
+    return false;
+  }
+  std::string file_selector_title = title.ToString();
+  NWebFileSelectorParams::FileSelectorMode file_mode = ConvertFileSelectorMode(mode);
+  if (title.ToString().size() == 0) {
+    switch (file_mode) {
+      case NWebFileSelectorParams::FileSelectorMode::FILE_OPEN_MODE:
+        file_selector_title = "open file";
+        break;
+      case NWebFileSelectorParams::FileSelectorMode::FILE_OPEN_MULTIPLE_MODE:
+        file_selector_title = "open files";
+        break;
+      case NWebFileSelectorParams::FileSelectorMode::FILE_OPEN_FOLDER_MODE:
+        file_selector_title = "open file folder";
+        break;
+      case NWebFileSelectorParams::FileSelectorMode::FILE_SAVE_MODE:
+        file_selector_title = "save as";
+        break;
+      default:
+        break;
+    }
+  }
+  std::shared_ptr<NWebFileSelectorParams> param =
+      std::make_shared<FileSelectorParamsImpl>(
+          file_mode, file_selector_title, accept_filters,
+          default_file_path.ToString(), capture);
+  std::shared_ptr<FileSelectorCallback> file_path_callback =
+      std::make_shared<FileSelectorCallbackImpl>(callback);
+  return nweb_handler_->OnFileSelectorShow(file_path_callback, param);
+}
+/* CefDialogHandler method end */
+
 const std::vector<std::string> NWebHandlerDelegate::GetVisitedHistory() {
   if (nweb_handler_ != nullptr) {
     return nweb_handler_->VisitedUrlHistory();
diff --git a/ohos_nweb/src/cef_delegate/nweb_handler_delegate.h b/ohos_nweb/src/cef_delegate/nweb_handler_delegate.h
index 2d92d17575cbc..b977a6be0698c 100755
--- a/ohos_nweb/src/cef_delegate/nweb_handler_delegate.h
+++ b/ohos_nweb/src/cef_delegate/nweb_handler_delegate.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_HANDLER_DELEGATE_H
 #define NWEB_HANDLER_DELEGATE_H
@@ -9,6 +20,7 @@
 #include "cef/include/cef_client.h"
 #include "cef/include/cef_jsdialog_handler.h"
 #include "cef/include/cef_permission_request.h"
+#include "cef/include/cef_dialog_handler.h"
 #include "nweb_event_handler.h"
 #include "nweb_handler.h"
 #include "nweb_preference_delegate.h"
@@ -25,6 +37,7 @@
 
 namespace OHOS::NWeb {
 class NWebHandler;
+class NWebGeolocationCallback;
 
 class NWebHandlerDelegate : public CefClient,
                             public CefLifeSpanHandler,
@@ -35,7 +48,8 @@ class NWebHandlerDelegate : public CefClient,
                             public CefDownloadHandler,
                             public CefFocusHandler,
                             public CefPermissionRequest,
-                            public CefJSDialogHandler {
+                            public CefJSDialogHandler,
+                            public CefDialogHandler {
  public:
   static CefRefPtr<NWebHandlerDelegate> Create(
       std::shared_ptr<NWebPreferenceDelegate> preference_delegate,
@@ -71,6 +85,7 @@ class NWebHandlerDelegate : public CefClient,
   CefRefPtr<CefFocusHandler> GetFocusHandler() override;
   CefRefPtr<CefPermissionRequest> GetPermissionRequest() override;
   CefRefPtr<CefJSDialogHandler> GetJSDialogHandler() override;
+  CefRefPtr<CefDialogHandler> GetDialogHandler() override;
   virtual bool OnProcessMessageReceived(
       CefRefPtr<CefBrowser> browser,
       CefRefPtr<CefFrame> frame,
@@ -131,6 +146,11 @@ class NWebHandlerDelegate : public CefClient,
                    bool is_main_frame,
                    bool has_user_gesture,
                    CefRefPtr<CefResponse> response) override;
+
+  void OnRefreshAccessedHistory(CefRefPtr<CefBrowser> browser,
+                                CefRefPtr<CefFrame> frame,
+                                const CefString& url,
+                                bool isReload) override;
   /* CefLoadHandler methods end */
 
   /* CefRequestHandler methods begin */
@@ -152,6 +172,9 @@ class NWebHandlerDelegate : public CefClient,
       bool is_download,
       const CefString& request_initiator,
       bool& disable_default_handling) override;
+
+  void OnRenderProcessTerminated(CefRefPtr<CefBrowser> browser,
+                                 TerminationStatus status) override;
   /* CefRequestHandler methods end */
 
   /* CefDownloadHandler methods begin */
@@ -223,6 +246,17 @@ class NWebHandlerDelegate : public CefClient,
                             CefRefPtr<CefJSDialogCallback> callback) override;
   /* CefJSDialogHandler method end */
 
+  /* CefDialogHandler method begin */
+  bool OnFileDialog(CefRefPtr<CefBrowser> browser,
+                    FileDialogMode mode,
+                    const CefString& title,
+                    const CefString& default_file_path,
+                    const std::vector<CefString>& accept_filters,
+                    int selected_accept_filter,
+                    bool capture,
+                    CefRefPtr<CefFileDialogCallback> callback) override;
+  /* CefDialogHandler method end */
+
   const std::vector<std::string> GetVisitedHistory();
 
  private:
@@ -245,6 +279,8 @@ class NWebHandlerDelegate : public CefClient,
   std::shared_ptr<NWebHandler> nweb_handler_ = nullptr;
   std::shared_ptr<NWebJavaScriptResultCallBack> nweb_javascript_callback_ =
       nullptr;
+  // lifecycle wrapped by ace WebGeolocationOhos
+  NWebGeolocationCallback* callback_ = nullptr;
 };
 }  // namespace OHOS::NWeb
 
diff --git a/ohos_nweb/src/cef_delegate/nweb_inputmethod_client.h b/ohos_nweb/src/cef_delegate/nweb_inputmethod_client.h
index 73cebd5e2b0d3..2d4bcad12a81d 100644
--- a/ohos_nweb/src/cef_delegate/nweb_inputmethod_client.h
+++ b/ohos_nweb/src/cef_delegate/nweb_inputmethod_client.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef OHOS_NWEB_SRC_CEF_DELEGATE_NWEB_INPUTMETHOD_CLIENT_H_
 #define OHOS_NWEB_SRC_CEF_DELEGATE_NWEB_INPUTMETHOD_CLIENT_H_
diff --git a/ohos_nweb/src/cef_delegate/nweb_js_dialog_result_impl.cc b/ohos_nweb/src/cef_delegate/nweb_js_dialog_result_impl.cc
index 23287ae9ac6eb..7218fea53adbf 100644
--- a/ohos_nweb/src/cef_delegate/nweb_js_dialog_result_impl.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_js_dialog_result_impl.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_js_dialog_result_impl.h"
 
diff --git a/ohos_nweb/src/cef_delegate/nweb_js_dialog_result_impl.h b/ohos_nweb/src/cef_delegate/nweb_js_dialog_result_impl.h
index 0ad0d03214977..a97587fe9023b 100644
--- a/ohos_nweb/src/cef_delegate/nweb_js_dialog_result_impl.h
+++ b/ohos_nweb/src/cef_delegate/nweb_js_dialog_result_impl.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_JS_DIALOG_RESULT_IMPL_H
 #define NWEB_JS_DIALOG_RESULT_IMPL_H
diff --git a/ohos_nweb/src/cef_delegate/nweb_preference_delegate.cc b/ohos_nweb/src/cef_delegate/nweb_preference_delegate.cc
index a97e0c49521e8..e2250a7ef00fb 100644
--- a/ohos_nweb/src/cef_delegate/nweb_preference_delegate.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_preference_delegate.cc
@@ -1,8 +1,22 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "ohos_nweb/src/cef_delegate/nweb_preference_delegate.h"
+
+#include <accesstoken_kit.h>
+#include <ipc_skeleton.h>
 #include "base/logging.h"
 #include "cef/include/internal/cef_string.h"
 #include "cef/include/internal/cef_string_types.h"
@@ -12,9 +26,33 @@
 #include "cef/libcef/browser/net_service/net_helpers.h"
 
 #include "base/feature_list.h"
+#include "net/base/load_flags.h"
 
 namespace OHOS::NWeb {
-NWebPreferenceDelegate::NWebPreferenceDelegate() {}
+int ConvertCacheMode(NWebPreference::CacheModeFlag flag) {
+  switch (flag) {
+    case NWebPreference::CacheModeFlag::USE_CACHE_ELSE_NETWORK:
+      return net::LOAD_SKIP_CACHE_VALIDATION;
+    case NWebPreference::CacheModeFlag::USE_NO_CACHE:
+      return net::LOAD_BYPASS_CACHE;
+    case NWebPreference::CacheModeFlag::USE_CACHE_ONLY:
+      return net::LOAD_ONLY_FROM_CACHE | net::LOAD_SKIP_CACHE_VALIDATION;
+    default:
+      return 0;
+  }
+}
+
+const std::string ACCESS_LOCATION = "ohos.permission.INTERNET";
+NWebPreferenceDelegate::NWebPreferenceDelegate() {
+  uint32_t tokenId = OHOS::IPCSkeleton::GetCallingTokenID();
+  has_internet_permission_ =
+      OHOS::Security::AccessToken::AccessTokenKit::VerifyAccessToken(
+          tokenId, ACCESS_LOCATION) ==
+      OHOS::Security::AccessToken::PERMISSION_GRANTED;
+  is_network_blocked_ = !has_internet_permission_;
+
+  SetBrowserSettingsToNetHelpers();
+}
 
 NWebPreferenceDelegate::~NWebPreferenceDelegate() {}
 
@@ -67,6 +105,8 @@ void NWebPreferenceDelegate::ComputeBrowserSettings(
   browser_settings.default_fixed_font_size = DefaultFixedFontSize();
   browser_settings.minimum_font_size = FontSizeLowerLimit();
   browser_settings.minimum_logical_font_size = LogicalFontSizeLowerLimit();
+  browser_settings.initialize_at_minimum_page_scale =
+      !IsLoadWithOverviewMode() ? STATE_ENABLED : STATE_DISABLED;
 
   str = CefString(DefaultTextEncodingFormat());
   cef_string_set(str.c_str(), str.length(),
@@ -92,7 +132,6 @@ void NWebPreferenceDelegate::ComputeBrowserSettings(
   browser_settings.javascript_can_open_windows_automatically =
       IsCreateWindowsByJavaScriptAllowed();
   browser_settings.text_size_percent = ZoomingForTextFactor();
-  browser_settings.mixed_content_mode = AccessModeForSecureOriginLoadFromInsecure();
   browser_settings.allow_running_insecure_content =
       RunningInsecureContentAllowed() ? STATE_ENABLED : STATE_DISABLED;
   browser_settings.strict_mixed_content_checking =
@@ -107,6 +146,8 @@ void NWebPreferenceDelegate::ComputeBrowserSettings(
 void NWebPreferenceDelegate::SetBrowserSettingsToNetHelpers() {
   net_service::NetHelpers::allow_file_access = EnableRawFileAccess();
   net_service::NetHelpers::allow_content_access = EnableContentAccess();
+  net_service::NetHelpers::is_network_blocked = IsNetworkBlocked();
+  net_service::NetHelpers::cache_mode = ConvertCacheMode(CacheMode());
   return;
 }
 
@@ -153,7 +194,8 @@ void NWebPreferenceDelegate::PutDefaultFontSize(int size) {
   WebPreferencesChanged();
 }
 
-void NWebPreferenceDelegate::PutDefaultTextEncodingFormat(std::string encoding) {
+void NWebPreferenceDelegate::PutDefaultTextEncodingFormat(
+    std::string encoding) {
   default_encoding_ = encoding;
   WebPreferencesChanged();
 }
@@ -178,8 +220,7 @@ void NWebPreferenceDelegate::PutDarkModeEnabled(int forceDark) {
   WebPreferencesChanged();
 }
 
-void NWebPreferenceDelegate::PutIsCreateWindowsByJavaScriptAllowed(
-    bool flag) {
+void NWebPreferenceDelegate::PutIsCreateWindowsByJavaScriptAllowed(bool flag) {
   create_windows_by_javascript_allowed_ = flag;
   WebPreferencesChanged();
 }
@@ -204,6 +245,11 @@ void NWebPreferenceDelegate::PutLogicalFontSizeLowerLimit(int size) {
   WebPreferencesChanged();
 }
 
+void NWebPreferenceDelegate::PutLoadWithOverviewMode(bool flag) {
+  overload_mode_enabled_ = flag;
+  WebPreferencesChanged();
+}
+
 void NWebPreferenceDelegate::PutSansSerifFontFamilyName(std::string font) {
   sans_serif_font_family_name_ = font;
   WebPreferencesChanged();
@@ -243,7 +289,8 @@ void NWebPreferenceDelegate::PutGeolocationAllowed(bool flag) {
   WebPreferencesChanged();
 }
 
-void NWebPreferenceDelegate::PutAccessModeForSecureOriginLoadFromInsecure(AccessMode mode) {
+void NWebPreferenceDelegate::PutAccessModeForSecureOriginLoadFromInsecure(
+    AccessMode mode) {
   if (access_mode_ != mode) {
     access_mode_ = mode;
     WebPreferencesChanged();
@@ -257,6 +304,29 @@ void NWebPreferenceDelegate::PutZoomingFunctionEnabled(bool flag) {
   }
 }
 
+void NWebPreferenceDelegate::PutBlockNetwork(bool flag) {
+  if (!flag && !has_internet_permission_) {
+    LOG(ERROR) << "Put network-blocked false failed, because app missing "
+                  "INTERNET permission";
+  }
+  is_network_blocked_ = flag;
+  SetBrowserSettingsToNetHelpers();
+}
+
+void NWebPreferenceDelegate::PutCacheMode(CacheModeFlag flag) {
+  cache_mode_flag_ = flag;
+  SetBrowserSettingsToNetHelpers();
+}
+
+void NWebPreferenceDelegate::PutWebDebuggingAccess(bool flag) {
+  if (!browser_.get()) {
+    LOG(ERROR) << "put web debugging access failed, browser is null";
+    return;
+  }
+
+  browser_->GetHost()->SetWebDebuggingAccess(flag);
+}
+
 bool NWebPreferenceDelegate::EnableContentAccess() {
   return content_access_;
 }
@@ -337,6 +407,10 @@ int NWebPreferenceDelegate::LogicalFontSizeLowerLimit() {
   return logical_font_size_lower_limit_;
 }
 
+bool NWebPreferenceDelegate::IsLoadWithOverviewMode() {
+  return overload_mode_enabled_;
+}
+
 std::string NWebPreferenceDelegate::SansSerifFontFamilyName() {
   return sans_serif_font_family_name_;
 }
@@ -364,16 +438,16 @@ bool NWebPreferenceDelegate::GeolocationAllowed() {
   return geolocation_allowed_;
 }
 
-int NWebPreferenceDelegate::AccessModeForSecureOriginLoadFromInsecure() {
+NWebPreference::AccessMode NWebPreferenceDelegate::AccessModeForSecureOriginLoadFromInsecure() {
   return access_mode_;
 }
 
 bool NWebPreferenceDelegate::RunningInsecureContentAllowed() {
-  return access_mode_ == ALWAYS_ALLOW;
+  return access_mode_ == AccessMode::ALWAYS_ALLOW;
 }
 
 bool NWebPreferenceDelegate::UseStricMixedContentCheckingAllowed() {
-  return access_mode_ == NEVER_ALLOW;
+  return access_mode_ == AccessMode::NEVER_ALLOW;
 }
 
 const base::Feature webview_mixed_content_autoupgrades{
@@ -381,7 +455,7 @@ const base::Feature webview_mixed_content_autoupgrades{
 
 bool NWebPreferenceDelegate::MixedContentAutoupgradesAllowed() {
   if (base::FeatureList::IsEnabled(webview_mixed_content_autoupgrades)) {
-    return access_mode_ == COMPATIBILITY_MODE;
+    return access_mode_ == AccessMode::COMPATIBILITY_MODE;
   }
   return false;
 }
@@ -389,4 +463,25 @@ bool NWebPreferenceDelegate::MixedContentAutoupgradesAllowed() {
 bool NWebPreferenceDelegate::ZoomingfunctionEnabled() {
   return zooming_function_enabled_;
 }
+
+bool NWebPreferenceDelegate::IsNetworkBlocked() {
+  return is_network_blocked_;
+}
+
+NWebPreference::CacheModeFlag NWebPreferenceDelegate::CacheMode() {
+  return cache_mode_flag_;
+}
+
+void NWebPreferenceDelegate::PutHasInternetPermission(bool flag) {
+  has_internet_permission_ = flag;
+}
+
+bool NWebPreferenceDelegate::IsWebDebuggingAccess() {
+  if (!browser_.get()) {
+    LOG(ERROR) << "get web debugggin access failed, browser is null";
+    return false;
+  }
+
+  return browser_->GetHost()->GetWebDebuggingAccess();
 }
+}  // namespace OHOS::NWeb
diff --git a/ohos_nweb/src/cef_delegate/nweb_preference_delegate.h b/ohos_nweb/src/cef_delegate/nweb_preference_delegate.h
index 2d439ffc74381..f3f21f72eb5c6 100644
--- a/ohos_nweb/src/cef_delegate/nweb_preference_delegate.h
+++ b/ohos_nweb/src/cef_delegate/nweb_preference_delegate.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_PREFERENCE_DELEGATE_H
 #define NWEB_PREFERENCE_DELEGATE_H
@@ -39,6 +50,7 @@ class NWebPreferenceDelegate : public NWebPreference {
   void PutJavaScriptEnabled(bool flag) override;
   void PutImageLoadingAllowed(bool flag) override;
   void PutFontSizeLowerLimit(int size) override;
+  void PutLoadWithOverviewMode(bool flag) override;
   void PutLogicalFontSizeLowerLimit(int size) override;
   void PutSansSerifFontFamilyName(std::string font) override;
   void PutSerifFontFamilyName(std::string font) override;
@@ -48,6 +60,9 @@ class NWebPreferenceDelegate : public NWebPreference {
   void PutGeolocationAllowed(bool flag) override;
   void PutAccessModeForSecureOriginLoadFromInsecure(AccessMode mode) override;
   void PutZoomingFunctionEnabled(bool flag) override;
+  void PutBlockNetwork(bool flag) override;
+  void PutCacheMode(NWebPreference::CacheModeFlag flag) override;
+  void PutWebDebuggingAccess(bool flag) override;
 
   /* get methods*/
   bool EnableContentAccess() override;
@@ -70,19 +85,25 @@ class NWebPreferenceDelegate : public NWebPreference {
   bool IsImageLoadingAllowed() override;
   int FontSizeLowerLimit() override;
   int LogicalFontSizeLowerLimit() override;
+  bool IsLoadWithOverviewMode() override;
   std::string SansSerifFontFamilyName() override;
   std::string SerifFontFamilyName() override;
   std::string StandardFontFamilyName() override;
   std::string UserAgent() override;
   int ZoomingForTextFactor() override;
   bool GeolocationAllowed() override;
-  int AccessModeForSecureOriginLoadFromInsecure() override;
+  NWebPreference::AccessMode AccessModeForSecureOriginLoadFromInsecure() override;
   bool ZoomingfunctionEnabled() override;
+  bool IsNetworkBlocked() override;
+  NWebPreference::CacheModeFlag CacheMode() override;
+  bool IsWebDebuggingAccess() override;
 
   bool RunningInsecureContentAllowed();
   bool UseStricMixedContentCheckingAllowed();
   bool MixedContentAutoupgradesAllowed();
 
+  void PutHasInternetPermission(bool flag);
+
  private:
   CefRefPtr<CefBrowser> browser_ = nullptr;
 
@@ -113,8 +134,12 @@ class NWebPreferenceDelegate : public NWebPreference {
   std::string user_agent_{""};
   int zooming_for_text_factor_{100};
   bool geolocation_allowed_{true};
-  int access_mode_{NEVER_ALLOW};
+  AccessMode access_mode_{AccessMode::NEVER_ALLOW};
   bool zooming_function_enabled_{true};
+  bool is_network_blocked_;
+  bool has_internet_permission_;
+  bool overload_mode_enabled_{true};
+  CacheModeFlag cache_mode_flag_{CacheModeFlag::USE_DEFAULT};
 };
 }  // namespace OHOS::NWeb
 
diff --git a/ohos_nweb/src/cef_delegate/nweb_render_handler.cc b/ohos_nweb/src/cef_delegate/nweb_render_handler.cc
index ae7be00613756..b61d89831b526 100644
--- a/ohos_nweb/src/cef_delegate/nweb_render_handler.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_render_handler.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_render_handler.h"
 
diff --git a/ohos_nweb/src/cef_delegate/nweb_render_handler.h b/ohos_nweb/src/cef_delegate/nweb_render_handler.h
index 5f4165d47f206..20d735e83af79 100644
--- a/ohos_nweb/src/cef_delegate/nweb_render_handler.h
+++ b/ohos_nweb/src/cef_delegate/nweb_render_handler.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_RENDER_HANDLER_H
 #define NWEB_RENDER_HANDLER_H
diff --git a/ohos_nweb/src/cef_delegate/nweb_resource_handler.cc b/ohos_nweb/src/cef_delegate/nweb_resource_handler.cc
index 3b465b8f85976..adbd62a1fc5e9 100644
--- a/ohos_nweb/src/cef_delegate/nweb_resource_handler.cc
+++ b/ohos_nweb/src/cef_delegate/nweb_resource_handler.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_resource_handler.h"
 #include "base/logging.h"
diff --git a/ohos_nweb/src/cef_delegate/nweb_resource_handler.h b/ohos_nweb/src/cef_delegate/nweb_resource_handler.h
index fc23967df1481..e423190bd4c8d 100644
--- a/ohos_nweb/src/cef_delegate/nweb_resource_handler.h
+++ b/ohos_nweb/src/cef_delegate/nweb_resource_handler.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_REOURCE_HANDLER_H
 #define NWEB_REOURCE_HANDLER_H
diff --git a/ohos_nweb/src/nweb_cookie_manager_delegate_interface.h b/ohos_nweb/src/nweb_cookie_manager_delegate_interface.h
index 564c57934ec5a..5364766d8801d 100644
--- a/ohos_nweb/src/nweb_cookie_manager_delegate_interface.h
+++ b/ohos_nweb/src/nweb_cookie_manager_delegate_interface.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_COOKIE_MANAGER_DELEGATE_INTERFACE_H
 #define NWEB_COOKIE_MANAGER_DELEGATE_INTERFACE_H
@@ -20,12 +31,16 @@ class NWebCookieManagerDelegateInterface {
   virtual void ReturnCookie(
       const std::string& url,
       std::shared_ptr<NWebValueCallback<std::string>> callback) = 0;
+  virtual std::string ReturnCookie(const std::string &url) = 0;
   virtual void SetCookie(const std::string& url,
                          const std::string& value,
                          std::shared_ptr<NWebValueCallback<bool>> callback) = 0;
+  virtual bool SetCookie(const std::string &url,
+                         const std::string &value) = 0;
   virtual void ExistCookies(
       std::shared_ptr<NWebValueCallback<bool>> callback) = 0;
   virtual void Store(std::shared_ptr<NWebValueCallback<bool>> callback) = 0;
+  virtual bool Store() = 0;
   virtual void DeleteSessionCookies(
       std::shared_ptr<NWebValueCallback<bool>> callback) = 0;
   virtual void DeleteCookieEntirely(
diff --git a/ohos_nweb/src/nweb_cookie_manager_impl.cc b/ohos_nweb/src/nweb_cookie_manager_impl.cc
index 5d0659ed854f7..64c0a0415805d 100644
--- a/ohos_nweb/src/nweb_cookie_manager_impl.cc
+++ b/ohos_nweb/src/nweb_cookie_manager_impl.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_cookie_manager_impl.h"
 #include "nweb_cookie_manager_delegate.h"
@@ -8,6 +19,12 @@
 
 using namespace OHOS::NWeb;
 
+extern "C" OHOS_NWEB_EXPORT NWebCookieManager* GetCookieManager() {
+  WVLOG_I("GetCookieManager");
+  static NWebCookieManagerImpl cookie_manager;
+  return &cookie_manager;
+}
+
 namespace OHOS::NWeb {
 NWebCookieManagerImpl::NWebCookieManagerImpl() {
 #if defined(USE_CEF)
@@ -50,6 +67,15 @@ void NWebCookieManagerImpl::SetCookie(
   }
 }
 
+bool NWebCookieManagerImpl::SetCookie(
+    const std::string& url,
+    const std::string& value) {
+  if (delegate_ != nullptr) {
+    return delegate_->SetCookie(url, value);
+  }
+  return false;
+}
+
 void NWebCookieManagerImpl::ReturnCookie(
     const std::string& url,
     std::shared_ptr<NWebValueCallback<std::string>> callback) {
@@ -58,6 +84,14 @@ void NWebCookieManagerImpl::ReturnCookie(
   }
 }
 
+std::string NWebCookieManagerImpl::ReturnCookie(
+    const std::string& url) {
+  if (delegate_ != nullptr) {
+    return delegate_->ReturnCookie(url);
+  }
+  return "";
+}
+
 void NWebCookieManagerImpl::ExistCookies(
     std::shared_ptr<NWebValueCallback<bool>> callback) {
   if (delegate_ != nullptr) {
@@ -72,6 +106,13 @@ void NWebCookieManagerImpl::Store(
   }
 }
 
+bool NWebCookieManagerImpl::Store() {
+  if (delegate_ != nullptr) {
+    return delegate_->Store();
+  }
+  return false;
+}
+
 void NWebCookieManagerImpl::DeleteSessionCookies(
     std::shared_ptr<NWebValueCallback<bool>> callback) {
   if (delegate_ != nullptr) {
@@ -85,9 +126,4 @@ void NWebCookieManagerImpl::DeleteCookieEntirely(
     delegate_->DeleteCookieEntirely(callback);
   }
 }
-
-NWebCookieManager* NWebCookieManager::GetInstance() {
-  static NWebCookieManagerImpl instance;
-  return &instance;
-}
 }  // namespace OHOS::NWeb
\ No newline at end of file
diff --git a/ohos_nweb/src/nweb_cookie_manager_impl.h b/ohos_nweb/src/nweb_cookie_manager_impl.h
index 128ab637b7ea5..baa468006d54b 100644
--- a/ohos_nweb/src/nweb_cookie_manager_impl.h
+++ b/ohos_nweb/src/nweb_cookie_manager_impl.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_COOKIE_MANAGER_IMPL_H
 #define NWEB_COOKIE_MANAGER_IMPL_H
@@ -21,18 +32,22 @@ class NWebCookieManagerImpl : public NWebCookieManager {
   void ReturnCookie(
       const std::string& url,
       std::shared_ptr<NWebValueCallback<std::string>> callback) override;
+  std::string ReturnCookie(const std::string &url) override;
   void SetCookie(const std::string& url,
                  const std::string& value,
                  std::shared_ptr<NWebValueCallback<bool>> callback) override;
+  bool SetCookie(const std::string &url,
+                 const std::string &value) override;
   void ExistCookies(std::shared_ptr<NWebValueCallback<bool>> callback) override;
   void Store(std::shared_ptr<NWebValueCallback<bool>> callback) override;
+  bool Store() override;
   void DeleteSessionCookies(
       std::shared_ptr<NWebValueCallback<bool>> callback) override;
   void DeleteCookieEntirely(
       std::shared_ptr<NWebValueCallback<bool>> callback) override;
 
  private:
-  std::shared_ptr<NWebCookieManagerDelegateInterface> delegate_ = nullptr;
+  std::shared_ptr<NWebCookieManagerDelegateInterface> delegate_;
 };
 }  // namespace OHOS::NWeb
 
diff --git a/ohos_nweb/src/nweb_delegate_adapter.cc b/ohos_nweb/src/nweb_delegate_adapter.cc
index f0f17c61c03bb..badff60157498 100644
--- a/ohos_nweb/src/nweb_delegate_adapter.cc
+++ b/ohos_nweb/src/nweb_delegate_adapter.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_delegate_adapter.h"
 
@@ -11,13 +22,15 @@
 #endif
 namespace OHOS::NWeb {
 // static
-std::shared_ptr<NWebDelegateInterface>
-NWebDelegateAdapter::CreateNWebDelegate(int argc, const char* argv[]) {
+std::shared_ptr<NWebDelegateInterface> NWebDelegateAdapter::CreateNWebDelegate(
+    int argc,
+    const char* argv[],
+    void* window) {
 #if defined(USE_CEF)
   std::shared_ptr<NWebDelegate> delegate =
       std::make_shared<NWebDelegate>(argc, argv);
 
-  if (delegate == nullptr || !delegate->Init()) {
+  if (delegate == nullptr || !delegate->Init(window)) {
     WVLOG_I("FAIL to create nweb delegate instance");
     return nullptr;
   }
@@ -28,4 +41,4 @@ NWebDelegateAdapter::CreateNWebDelegate(int argc, const char* argv[]) {
   return nullptr;
 #endif
 }
-}
+}  // namespace OHOS::NWeb
diff --git a/ohos_nweb/src/nweb_delegate_adapter.h b/ohos_nweb/src/nweb_delegate_adapter.h
index 1af15ad6398dc..36eb920b24770 100644
--- a/ohos_nweb/src/nweb_delegate_adapter.h
+++ b/ohos_nweb/src/nweb_delegate_adapter.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_DELEGATE_HELPER_H
 #define NWEB_DELEGATE_HELPER_H
@@ -14,7 +25,8 @@ class OHOS_NWEB_EXPORT NWebDelegateAdapter {
  public:
   static std::shared_ptr<NWebDelegateInterface> CreateNWebDelegate(
       int argc,
-      const char* argv[]);
+      const char* argv[],
+      void* window);
 };
 }
 
diff --git a/ohos_nweb/src/nweb_delegate_interface.h b/ohos_nweb/src/nweb_delegate_interface.h
index 179578beec30f..487de4702834c 100755
--- a/ohos_nweb/src/nweb_delegate_interface.h
+++ b/ohos_nweb/src/nweb_delegate_interface.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_DELEGATE_INTERFACE_H
 #define NWEB_DELEGATE_INTERFACE_H
@@ -39,6 +50,7 @@ class NWebDelegateInterface {
   virtual bool CanNavigateBackOrForward(int numSteps) const = 0;
   virtual void NavigateBack() const = 0;
   virtual void NavigateForward() const = 0;
+  virtual void DeleteNavigateHistory() = 0;
   virtual void Reload() const = 0;
   virtual void Zoom(float zoomFactor) const = 0;
   virtual void Stop() const = 0;
diff --git a/ohos_nweb/src/nweb_hilog.h b/ohos_nweb/src/nweb_hilog.h
index 0e9518b413c4b..467fc56643c9f 100644
--- a/ohos_nweb/src/nweb_hilog.h
+++ b/ohos_nweb/src/nweb_hilog.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_HILOG_H
 #define NWEB_HILOG_H
diff --git a/ohos_nweb/src/nweb_impl.cc b/ohos_nweb/src/nweb_impl.cc
index 21eeab89f2fd6..e3310c89fb23b 100755
--- a/ohos_nweb/src/nweb_impl.cc
+++ b/ohos_nweb/src/nweb_impl.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_impl.h"
 
@@ -56,7 +67,7 @@ bool NWebImpl::Init(const NWebCreateInfo& create_info) {
 
   ProcessInitArgs(create_info.init_args);
 
-  if (!InitWebEngine()) {
+  if (!InitWebEngine(create_info)) {
     WVLOG_E("web engine init fail");
     return false;
   }
@@ -94,7 +105,11 @@ void NWebImpl::ProcessInitArgs(const NWebInitArgs& init_args) {
   InitWebEngineArgs(init_args);
 }
 
-bool NWebImpl::InitWebEngine() {
+bool NWebImpl::InitWebEngine(const NWebCreateInfo& create_info) {
+  if (output_handler_ == nullptr) {
+    WVLOG_E("fail to init web engine, NWeb output handler is not ready");
+    return false;
+  }
   if (web_engine_args_.empty()) {
     WVLOG_E("fail to init web engine args");
     return false;
@@ -107,7 +122,14 @@ bool NWebImpl::InitWebEngine() {
     argv[i] = it->c_str();
   }
 
-  nweb_delegate_ = NWebDelegateAdapter::CreateNWebDelegate(argc, argv);
+  void* window =
+      reinterpret_cast<void*>(output_handler_->GetNativeWindowFromSurface(
+          create_info.producer_surface));
+  if (window == nullptr) {
+    WVLOG_E("fail to init web engine, get native window from surface failed");
+    return false;
+  }
+  nweb_delegate_ = NWebDelegateAdapter::CreateNWebDelegate(argc, argv, window);
   if (nweb_delegate_ == nullptr) {
     WVLOG_E("fail to create nweb delegate of web engine");
     return false;
@@ -135,7 +157,6 @@ bool NWebImpl::InitWebEngine() {
 void NWebImpl::InitWebEngineArgs(const NWebInitArgs& init_args) {
   web_engine_args_.clear();
   web_engine_args_.emplace_back("/system/bin/web_render");
-  // web_engine_args_.emplace_back("--disable-gpu");
   web_engine_args_.emplace_back("--in-process-gpu");
   web_engine_args_.emplace_back("--disable-dev-shm-usage");
   web_engine_args_.emplace_back("--no-unsandboxed-zygote");
@@ -146,9 +167,12 @@ void NWebImpl::InitWebEngineArgs(const NWebInitArgs& init_args) {
   web_engine_args_.emplace_back("--no-sandbox");
   web_engine_args_.emplace_back("--ignore-certificate-errors");
   web_engine_args_.emplace_back("--use-mobile-user-agent");
+  web_engine_args_.emplace_back("--enable-gpu-rasterization");
+  web_engine_args_.emplace_back("--enable-viewport");
   web_engine_args_.emplace_back(
       "--browser-subprocess-path=/system/bin/web_render");
   web_engine_args_.emplace_back("--zygote-cmd-prefix=/system/bin/web_render");
+  web_engine_args_.emplace_back("--remote-debugging-port=9222");
 
   for (auto arg : init_args.web_engine_args_to_delete) {
     auto it = std::find(web_engine_args_.begin(), web_engine_args_.end(), arg);
@@ -274,6 +298,13 @@ void NWebImpl::NavigateForward() const {
   nweb_delegate_->NavigateForward();
 }
 
+void NWebImpl::DeleteNavigateHistory() {
+  if (nweb_delegate_ == nullptr) {
+    return;
+  }
+  nweb_delegate_->DeleteNavigateHistory();
+}
+
 void NWebImpl::Reload() const {
   if (nweb_delegate_ == nullptr) {
     return;
@@ -314,6 +345,10 @@ void NWebImpl::OnPause() const {
     return;
   }
   nweb_delegate_->OnPause();
+  if (inputmethod_handler_ == nullptr) {
+      return;
+  }
+  inputmethod_handler_->HideTextInput();
 }
 
 void NWebImpl::OnContinue() const {
diff --git a/ohos_nweb/src/nweb_impl.h b/ohos_nweb/src/nweb_impl.h
index dd0c16f178fef..d752003c9a37b 100755
--- a/ohos_nweb/src/nweb_impl.h
+++ b/ohos_nweb/src/nweb_impl.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_IMPL_H
 #define NWEB_IMPL_H
@@ -40,6 +51,7 @@ class NWebImpl : public NWeb {
   bool CanNavigateBackOrForward(int numSteps) const override;
   void NavigateBack() const override;
   void NavigateForward() const override;
+  void DeleteNavigateHistory() override;
   void Reload() const override;
   void Zoom(float zoomFactor) const override;
   void Stop() const override;
@@ -82,7 +94,7 @@ class NWebImpl : public NWeb {
  private:
   void ProcessInitArgs(const NWebInitArgs& init_args);
   void InitWebEngineArgs(const NWebInitArgs& init_args);
-  bool InitWebEngine();
+  bool InitWebEngine(const NWebCreateInfo& create_info);
 
  private:
   uint32_t nweb_id_ = 0;
diff --git a/ohos_nweb/src/nweb_input_handler.cc b/ohos_nweb/src/nweb_input_handler.cc
index 78ea32c2b01b6..247d2fab7dfd6 100644
--- a/ohos_nweb/src/nweb_input_handler.cc
+++ b/ohos_nweb/src/nweb_input_handler.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_input_handler.h"
 #include "nweb_hilog.h"
diff --git a/ohos_nweb/src/nweb_input_handler.h b/ohos_nweb/src/nweb_input_handler.h
index ee88ec0055f19..802229b4b02f9 100644
--- a/ohos_nweb/src/nweb_input_handler.h
+++ b/ohos_nweb/src/nweb_input_handler.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_INPUT_HANDLER_H
 #define NWEB_INPUT_HANDLER_H
diff --git a/ohos_nweb/src/nweb_inputmethod_handler.cc b/ohos_nweb/src/nweb_inputmethod_handler.cc
index 5bb55cf39caf6..08e9f6ecac41d 100644
--- a/ohos_nweb/src/nweb_inputmethod_handler.cc
+++ b/ohos_nweb/src/nweb_inputmethod_handler.cc
@@ -1,11 +1,21 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_inputmethod_handler.h"
 
-#include <input_method_controller.h>
-#include <input_method_utils.h>
+#include "input_method_utils.h"
 
 #include "base/bind.h"
 #include "base/callback.h"
@@ -37,7 +47,7 @@ class OnTextChangedListenerImpl
 
   void SendKeyEventFromInputMethod(
       const OHOS::MiscServices::KeyEvent& event) override {
-    LOG(INFO) << "NWebInputMethodHandler::DeleteBackward";
+    LOG(INFO) << "NWebInputMethodHandler::SendKeyEventFromInputMethod";
   }
 
   void SendKeyboardInfo(const OHOS::MiscServices::KeyboardInfo& info) override {
@@ -54,16 +64,13 @@ class OnTextChangedListenerImpl
   }
 
   void MoveCursor(const OHOS::MiscServices::Direction direction) override {
-    LOG(INFO) << "NWebInputMethodHandler::MoveCursor ";
+    LOG(INFO) << "NWebInputMethodHandler::MoveCursor";
   }
 
  private:
   NWebInputMethodHandler* handler_;
 };
 
-// The object should be freed while keyboard hidden.
-OHOS::sptr<OHOS::MiscServices::OnTextChangedListener> g_listener = nullptr;
-
 class InputMethodTask : public CefTask {
  public:
   explicit InputMethodTask(const base::Closure& closure) : closure_(closure) {}
@@ -81,23 +88,17 @@ class InputMethodTask : public CefTask {
 };
 
 NWebInputMethodHandler::NWebInputMethodHandler()
-    : selected_from_(0), selected_to_(0) {
-  g_listener = nullptr;
-}
+    : selected_from_(0), selected_to_(0) {}
 
 NWebInputMethodHandler::~NWebInputMethodHandler() {}
 
 void NWebInputMethodHandler::Attach(CefRefPtr<CefBrowser> browser) {
   composing_text_.clear();
   browser_ = browser;
-  if (ime_shown_) {
-    return;
+  if (inputmethod_listener_ == nullptr) {
+    inputmethod_listener_ = new OnTextChangedListenerImpl(this);
   }
-
-  if (g_listener == nullptr) {
-    g_listener = new OnTextChangedListenerImpl(this);
-  }
-  OHOS::MiscServices::InputMethodController::GetInstance()->Attach(g_listener);
+  OHOS::MiscServices::InputMethodController::GetInstance()->Attach(inputmethod_listener_);
 }
 
 void NWebInputMethodHandler::ShowTextInput() {
@@ -186,6 +187,12 @@ void NWebInputMethodHandler::InsertTextHandlerOnUI(const std::u16string& text) {
   CefRange selection_range(0, static_cast<int>(composing_text_.length()));
   browser_->GetHost()->ImeSetComposition(CefString(composing_text_), underlines,
                                          replacement_range, selection_range);
+  // no selection
+  browser_->GetHost()->ImeFinishComposingText(false);
+  ime_text_composing_ = false;
+  selected_from_ += static_cast<int>(composing_text_.length());
+  selected_to_ += static_cast<int>(composing_text_.length());
+  composing_text_.clear();
 }
 
 void NWebInputMethodHandler::DeleteBackwardHandlerOnUI(int32_t length) {
diff --git a/ohos_nweb/src/nweb_inputmethod_handler.h b/ohos_nweb/src/nweb_inputmethod_handler.h
index 7fc624e2b36b0..9cb6c7c62f471 100644
--- a/ohos_nweb/src/nweb_inputmethod_handler.h
+++ b/ohos_nweb/src/nweb_inputmethod_handler.h
@@ -1,10 +1,23 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef OHOS_NWEB_SRC_NWEB_INPUTMETHOD_HANDLER_H_
 #define OHOS_NWEB_SRC_NWEB_INPUTMETHOD_HANDLER_H_
 
+#include "input_method_controller.h"
+
 #include "cef_delegate/nweb_inputmethod_client.h"
 
 namespace OHOS::NWeb {
@@ -37,6 +50,7 @@ class NWebInputMethodHandler : public NWebInputMethodClient {
   std::u16string composing_text_;
   int selected_from_;
   int selected_to_;
+  OHOS::sptr<OHOS::MiscServices::OnTextChangedListener> inputmethod_listener_ = nullptr;
 
   IMPLEMENT_REFCOUNTING(NWebInputMethodHandler);
   DISALLOW_COPY_AND_ASSIGN(NWebInputMethodHandler);
diff --git a/ohos_nweb/src/nweb_output_handler.cc b/ohos_nweb/src/nweb_output_handler.cc
index 07ddbc0c87ac3..570f908ffb8c0 100644
--- a/ohos_nweb/src/nweb_output_handler.cc
+++ b/ohos_nweb/src/nweb_output_handler.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_output_handler.h"
 
@@ -12,6 +23,7 @@
 #include <iomanip>
 #include <iostream>
 #include <thread>
+#include <window.h>
 #include "nweb_hilog.h"
 
 namespace OHOS::NWeb {
@@ -76,6 +88,11 @@ NWebOutputHandler::NWebOutputHandler(
   dump_buf_.reset(nullptr);
 }
 
+NWebOutputHandler::~NWebOutputHandler() {
+  DestoryNativeWindow(window_);
+  window_ = nullptr;
+}
+
 void NWebOutputHandler::Init(uint32_t width, uint32_t height) {
   Resize(width, height);
 }
@@ -97,6 +114,7 @@ void NWebOutputHandler::Resize(uint32_t width, uint32_t height) {
     if (!dump_path_.empty() || dump_buf_ == nullptr) {
       dump_buf_.reset(new char[frame_size_]);
     }
+    NativeWindowHandleOpt(window_, SET_BUFFER_GEOMETRY, width_, height_);
   }
 }
 
@@ -135,12 +153,6 @@ void NWebOutputHandler::StartFrameStat() {
                          (output_handler->local_render_count_ - 1) /
                          (output_handler->local_time_curr_ -
                           output_handler->local_time_base_);
-          WVLOG_W(
-              "NWeb %{public}u fps_cur=%{public}0.1f "
-              "frame_total_count=%{public}lld"
-              " frame_miss_count=%{public}lld",
-              output_handler->nweb_id_, fps_cur,
-              output_handler->render_count_, output_handler->frame_miss_count_);
           std::cout << "NWeb " << output_handler->nweb_id_
                     << " fps_cur=" << std::fixed << std::setprecision(1)
                     << fps_cur
@@ -293,4 +305,10 @@ bool NWebOutputHandler::IsSizeValid()
 {
   return (width_ > 0) && (height_ > 0);
 }
+
+NativeWindow* NWebOutputHandler::GetNativeWindowFromSurface(void* surface) {
+  window_ = CreateNativeWindowFromSurface(surface);
+  NativeWindowHandleOpt(window_, SET_BUFFER_GEOMETRY, width_, height_);
+  return window_;
+}
 }  // namespace OHOS::NWeb
\ No newline at end of file
diff --git a/ohos_nweb/src/nweb_output_handler.h b/ohos_nweb/src/nweb_output_handler.h
index 0954f3f7a5b4d..165f136f6622f 100644
--- a/ohos_nweb/src/nweb_output_handler.h
+++ b/ohos_nweb/src/nweb_output_handler.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_OUTPUT_HANDLER_H
 #define NWEB_OUTPUT_HANDLER_H
@@ -10,6 +21,8 @@
 #include <memory>
 #include <mutex>
 
+struct NativeWindow;
+
 namespace OHOS::NWeb {
 class NWebOutputHandler
     : public std::enable_shared_from_this<NWebOutputHandler> {
@@ -21,7 +34,7 @@ class NWebOutputHandler
 
   NWebOutputHandler(
       std::function<bool(const char*, uint32_t, uint32_t)> output_frame_cb);
-  ~NWebOutputHandler() = default;
+  ~NWebOutputHandler();
 
   void Init(uint32_t width, uint32_t height);
   void GetWindowInfo(uint32_t& width, uint32_t& height);
@@ -34,6 +47,8 @@ class NWebOutputHandler
   void SetNWebId(uint32_t id);
   bool IsSizeValid();
 
+  NativeWindow* GetNativeWindowFromSurface(void* surface);
+
  private:
   class BmpDumpHelper {
    public:
@@ -58,6 +73,8 @@ class NWebOutputHandler
   uint32_t height_ = 0;
   uint32_t frame_size_ = 0;
 
+  NativeWindow* window_ = nullptr;
+
   std::function<bool(const char*, uint32_t, uint32_t)> output_frame_cb_;
 
   std::string dump_path_;
diff --git a/ohos_nweb/src/nweb_render_main.cc b/ohos_nweb/src/nweb_render_main.cc
index b0b3122e564bb..a01d0e3007dfc 100644
--- a/ohos_nweb/src/nweb_render_main.cc
+++ b/ohos_nweb/src/nweb_render_main.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
  
 #include <unistd.h>
 #include <sstream>
diff --git a/ohos_nweb/src/nweb_url_resource_error_impl.h b/ohos_nweb/src/nweb_url_resource_error_impl.h
index d935afea26687..b5557badc3dae 100644
--- a/ohos_nweb/src/nweb_url_resource_error_impl.h
+++ b/ohos_nweb/src/nweb_url_resource_error_impl.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_URL_RESOURCE_ERROR_IMPL
 #define NWEB_URL_RESOURCE_ERROR_IMPL
diff --git a/ohos_nweb/src/nweb_url_resource_request_impl.cc b/ohos_nweb/src/nweb_url_resource_request_impl.cc
index 45b819debddcf..7c58f035b6cb1 100644
--- a/ohos_nweb/src/nweb_url_resource_request_impl.cc
+++ b/ohos_nweb/src/nweb_url_resource_request_impl.cc
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include "nweb_url_resource_request_impl.h"
 
diff --git a/ohos_nweb/src/nweb_url_resource_request_impl.h b/ohos_nweb/src/nweb_url_resource_request_impl.h
index 9387b49884f32..8e7b23c1ae21f 100644
--- a/ohos_nweb/src/nweb_url_resource_request_impl.h
+++ b/ohos_nweb/src/nweb_url_resource_request_impl.h
@@ -1,6 +1,17 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #ifndef NWEB_URL_RESOURCE_REQUEAST_IMPL_H
 #define NWEB_URL_RESOURCE_REQUEAST_IMPL_H
diff --git a/ohos_nweb/src/ohos_nweb_main.cc b/ohos_nweb/src/ohos_nweb_main.cc
index bcce6266f6596..ca177b2b7b4b9 100644
--- a/ohos_nweb/src/ohos_nweb_main.cc
+++ b/ohos_nweb/src/ohos_nweb_main.cc
@@ -1,9 +1,21 @@
-// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
-// Use of this source code is governed by a BSD-style license that can be
-// found in the LICENSE file.
+/*
+ * Copyright (c) 2022 Huawei Device Co., Ltd.
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 
 #include <unistd.h>
 #include <dlfcn.h>
+
 #include "include/cef_app.h"
 #include "nweb_hilog.h"
 
diff --git a/pdf/pdfium/pdfium_engine.cc b/pdf/pdfium/pdfium_engine.cc
index 753fc5ecf8edc..a82747409a7e6 100644
--- a/pdf/pdfium/pdfium_engine.cc
+++ b/pdf/pdfium/pdfium_engine.cc
@@ -4236,7 +4236,7 @@ void PDFiumEngine::SetLinkUnderCursorForAnnotation(FPDF_ANNOTATION annot,
 void PDFiumEngine::RequestThumbnail(int page_index,
                                     float device_pixel_ratio,
                                     SendThumbnailCallback send_callback) {
-  DCHECK(PageIndexInBounds(page_index));
+  CHECK(PageIndexInBounds(page_index));
   pages_[page_index]->RequestThumbnail(device_pixel_ratio,
                                        std::move(send_callback));
 }
diff --git a/services/device/geolocation/BUILD.gn b/services/device/geolocation/BUILD.gn
index 8bc76eac2b9db..27c8bcf097267 100644
--- a/services/device/geolocation/BUILD.gn
+++ b/services/device/geolocation/BUILD.gn
@@ -64,20 +64,20 @@ source_set("geolocation") {
     "//services/network/public/cpp",
   ]
 
-#if (is_ohos) {
-#  sources += [
-#    "ohos/location_provider_ohos.cc",
-#    "ohos/location_provider_ohos.h",
-#  ]
-#  import("//build/config/ohos/config.gni")
-#  include_dirs = ohos_src_includes
-#  lib_dirs = ohos_libs_dir
-#  libs = [
-#    "locator_sdk.z",
-#    "ipc_core.z",
-#    "lbsservice_common.z",
-#  ]
-#}
+  if (is_ohos) {
+    sources += [
+      "ohos/location_provider_ohos.cc",
+      "ohos/location_provider_ohos.h",
+    ]
+    import("//build/config/ohos/config.gni")
+    include_dirs = ohos_src_includes
+    lib_dirs = ohos_libs_dir
+    libs = [
+      "locator_sdk.z",
+      "ipc_core.z",
+      "lbsservice_common.z",
+    ]
+  }
 
   if (is_android) {
     sources += [
diff --git a/services/device/geolocation/location_arbitrator.cc b/services/device/geolocation/location_arbitrator.cc
index a36fdcaf39f00..3932492409e09 100644
--- a/services/device/geolocation/location_arbitrator.cc
+++ b/services/device/geolocation/location_arbitrator.cc
@@ -163,7 +163,7 @@ LocationArbitrator::NewNetworkLocationProvider(
 
 std::unique_ptr<LocationProvider>
 LocationArbitrator::NewSystemLocationProvider() {
-#if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_FUCHSIA) || defined(OS_OHOS)
+#if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_FUCHSIA)
   return nullptr;
 #else
   return device::NewSystemLocationProvider();
diff --git a/services/device/geolocation/ohos/location_provider_ohos.cc b/services/device/geolocation/ohos/location_provider_ohos.cc
index c4389099829f9..a4b69fed8f32d 100644
--- a/services/device/geolocation/ohos/location_provider_ohos.cc
+++ b/services/device/geolocation/ohos/location_provider_ohos.cc
@@ -17,18 +17,31 @@ namespace device {
 
 // LocationProviderOhos
 LocationProviderOhos::LocationProviderOhos() {
-  locator_callback_ = this;
+  locator_callback_ = new LocationProviderCallback();
 }
 
 LocationProviderOhos::~LocationProviderOhos() {
   StopProvider();
-  if (locator_ != nullptr)
+  if (locator_ != nullptr) {
     locator_.reset();
+  }
+  if (locator_callback_ != nullptr) {
+    locator_callback_ = nullptr;
+  }
 }
 
 void LocationProviderOhos::SetUpdateCallback(
     const LocationProviderUpdateCallback& callback) {
   callback_ = callback;
+
+  locator_callback_->SetUpdateCallback(base::BindRepeating(
+      &LocationProviderOhos::ProviderUpdateCallback, base::Unretained(this)));
+}
+
+void LocationProviderOhos::ProviderUpdateCallback(
+    const mojom::Geoposition& position) {
+  if (!callback_.is_null() && is_running_)
+    callback_.Run(this, position);
 }
 
 void LocationProviderOhos::StartProvider(bool high_accuracy) {
@@ -40,18 +53,20 @@ void LocationProviderOhos::StopProvider() {
   if (!is_running_)
     return;
   is_running_ = false;
-  locator_->StopLocating(locator_callback_);
+  OHOS::sptr<OHOS::Location::ILocatorCallback> locator_call_back =
+      locator_callback_;
+  locator_->StopLocating(locator_call_back);
 }
 
 const mojom::Geoposition& LocationProviderOhos::GetPosition() {
-  return last_position_;
+  return locator_callback_->GetPosition();
 }
 
 void LocationProviderOhos::OnPermissionGranted() {
   // Nothing to do here.
 }
 
-void LocationProviderOhos::OnNewLocationAvailable(
+void LocationProviderCallback::OnNewLocationAvailable(
     const std::unique_ptr<OHOS::Location::Location>& location) {
   mojom::Geoposition position;
   position.latitude = location->GetLatitude();
@@ -67,7 +82,7 @@ void LocationProviderOhos::OnNewLocationAvailable(
   NewGeopositionReport(position);
 }
 
-void LocationProviderOhos::OnNewErrorAvailable(std::string message) {
+void LocationProviderCallback::OnNewErrorAvailable(std::string message) {
   mojom::Geoposition position_error;
   position_error.error_code =
       mojom::Geoposition::ErrorCode::POSITION_UNAVAILABLE;
@@ -77,21 +92,35 @@ void LocationProviderOhos::OnNewErrorAvailable(std::string message) {
 }
 
 void LocationProviderOhos::RequestLocationUpdate(bool high_accuracy) {
+  LOG(INFO) << "LocationProviderOhos::RequestLocationUpdate";
   is_running_ = true;
   CreateLocationManagerIfNeeded();
-  locator_->EnableAbility(true);
+  if (locator_ == nullptr) {
+    LOG(ERROR) << "Locator is null. Can not get location";
+    locator_callback_->OnErrorReport(
+        LocationProviderCallback::LOCATION_GET_FAILED);
+    return;
+  }
 
+  locator_->EnableAbility(true);
   std::unique_ptr<OHOS::Location::RequestConfig> requestConfig =
       std::make_unique<OHOS::Location::RequestConfig>();
   SetRequestConfig(requestConfig, high_accuracy);
-
-  locator_->StartLocating(requestConfig, locator_callback_, "location.ILocator",
-                          0, 0);
+  OHOS::sptr<OHOS::Location::ILocatorCallback> locator_call_back =
+      locator_callback_;
+  int ret = locator_->StartLocating(requestConfig, locator_call_back, "location.ILocator",
+                                    0, 0);
+  if (ret != 0) {
+    LOG(ERROR) << "StartLocating failed. Can not get location";
+    locator_callback_->OnErrorReport(
+        LocationProviderCallback::LOCATION_GET_FAILED);
+  }
 }
 
 void LocationProviderOhos::CreateLocationManagerIfNeeded() {
-  if (locator_ != nullptr)
+  if (locator_ != nullptr) {
     return;
+  }
   locator_ = std::make_unique<OHOS::Location::LocatorProxy>(
       OHOS::Location::CommonUtils::GetRemoteObject(
           OHOS::LOCATION_LOCATOR_SA_ID,
@@ -105,21 +134,25 @@ void LocationProviderOhos::SetRequestConfig(
   requestConfig->SetScenario(OHOS::Location::SCENE_UNSET);
   requestConfig->SetTimeInterval(1);
   requestConfig->SetDistanceInterval(0);
-  requestConfig->SetMaxAccuracy(0);
-  requestConfig->SetFixNumber(1);
+  requestConfig->SetMaxAccuracy(50);
+  requestConfig->SetFixNumber(0);
 }
 
-void LocationProviderOhos::NewGeopositionReport(
+void LocationProviderCallback::NewGeopositionReport(
     const mojom::Geoposition& position) {
   last_position_ = position;
   if (!callback_.is_null())
-    callback_.Run(this, position);
+    callback_.Run(position);
 }
 
-int LocationProviderOhos::OnRemoteRequest(uint32_t code,
-                                          OHOS::MessageParcel& data,
-                                          OHOS::MessageParcel& reply,
-                                          OHOS::MessageOption& option) {
+int LocationProviderCallback::OnRemoteRequest(uint32_t code,
+                                              OHOS::MessageParcel& data,
+                                              OHOS::MessageParcel& reply,
+                                              OHOS::MessageOption& option) {
+  if (data.ReadInterfaceToken() != GetDescriptor()) {
+    LOG(INFO) << "invalid token.";
+    return -1;
+  }
   switch (code) {
     case RECEIVE_LOCATION_INFO_EVENT: {
       std::unique_ptr<OHOS::Location::Location> location =
@@ -141,18 +174,14 @@ int LocationProviderOhos::OnRemoteRequest(uint32_t code,
   return 0;
 }
 
-void LocationProviderOhos::OnLocationReport(
+void LocationProviderCallback::OnLocationReport(
     const std::unique_ptr<OHOS::Location::Location>& location) {
-  if (is_running_) {
-    OnNewLocationAvailable(location);
-    StopProvider();
-  }
+  OnNewLocationAvailable(location);
 }
 
-void LocationProviderOhos::OnLocatingStatusChange(const int status) {}
+void LocationProviderCallback::OnLocatingStatusChange(const int status) {}
 
-void LocationProviderOhos::OnErrorReport(const int errorCode) {
-  StopProvider();
+void LocationProviderCallback::OnErrorReport(const int errorCode) {
   if (errorCode == LOCATION_GET_FAILED) {
     OnNewErrorAvailable("Failed to get location!");
   } else {
diff --git a/services/device/geolocation/ohos/location_provider_ohos.h b/services/device/geolocation/ohos/location_provider_ohos.h
index 7b7adac934dac..008bba32b8fee 100644
--- a/services/device/geolocation/ohos/location_provider_ohos.h
+++ b/services/device/geolocation/ohos/location_provider_ohos.h
@@ -14,21 +14,17 @@
 #include <message_parcel.h>
 #include <request_config.h>
 
-#include "base/memory/scoped_refptr.h"
 #include "base/single_thread_task_runner.h"
 #include "base/threading/thread_checker.h"
 #include "services/device/public/cpp/geolocation/location_provider.h"
 #include "services/device/public/mojom/geoposition.mojom.h"
 
 namespace device {
-
-// Location provider for Android using the platform provider over JNI.
-class LocationProviderOhos
-    : public LocationProvider,
-      public OHOS::IRemoteStub<OHOS::Location::ILocatorCallback> {
+class LocationProviderCallback
+    : public OHOS::IRemoteStub<OHOS::Location::ILocatorCallback> {
  public:
-  LocationProviderOhos();
-  ~LocationProviderOhos() override;
+  LocationProviderCallback() {}
+  ~LocationProviderCallback() = default;
 
   enum LocationErrorCode {
     LOCATION_GET_SUCCESS = 0,
@@ -36,13 +32,8 @@ class LocationProviderOhos
     LOCATION_UNKNOWN_ERROR,
   };
 
-  // LocationProvider implementation.
-  void SetUpdateCallback(
-      const LocationProviderUpdateCallback& callback) override;
-  void StartProvider(bool high_accuracy) override;
-  void StopProvider() override;
-  const mojom::Geoposition& GetPosition() override;
-  void OnPermissionGranted() override;
+  typedef base::RepeatingCallback<void(const mojom::Geoposition&)>
+      UpdateCallback;
 
   // ILocatorCallback implementation.
   virtual int OnRemoteRequest(uint32_t code,
@@ -57,6 +48,34 @@ class LocationProviderOhos
   void OnNewLocationAvailable(
       const std::unique_ptr<OHOS::Location::Location>& location);
   void OnNewErrorAvailable(std::string message);
+  void SetUpdateCallback(const UpdateCallback& callback) {
+    callback_ = callback;
+  }
+  const mojom::Geoposition& GetPosition() { return last_position_; }
+
+ private:
+  // Calls |callback_| with the new location.
+  void NewGeopositionReport(const mojom::Geoposition& position);
+
+  mojom::Geoposition last_position_;
+  UpdateCallback callback_;
+};
+
+// Location provider for OpenHarmony using the platform provider over JNI.
+class LocationProviderOhos : public LocationProvider {
+ public:
+  LocationProviderOhos();
+  ~LocationProviderOhos() override;
+
+  // LocationProvider implementation.
+  void SetUpdateCallback(
+      const LocationProviderUpdateCallback& callback) override;
+  void StartProvider(bool high_accuracy) override;
+  void StopProvider() override;
+  const mojom::Geoposition& GetPosition() override;
+  void OnPermissionGranted() override;
+
+  void ProviderUpdateCallback(const mojom::Geoposition& position);
 
  private:
   void RequestLocationUpdate(bool high_accuracy);
@@ -65,17 +84,12 @@ class LocationProviderOhos
       std::unique_ptr<OHOS::Location::RequestConfig>& requestConfig,
       bool high_accuracy);
 
-  // Calls |callback_| with the new location.
-  void NewGeopositionReport(const mojom::Geoposition& position);
-
   std::unique_ptr<OHOS::Location::LocatorProxy> locator_;
 
-  mojom::Geoposition last_position_;
-
   LocationProviderUpdateCallback callback_;
 
   bool is_running_ = false;
-  OHOS::sptr<OHOS::Location::ILocatorCallback> locator_callback_;
+  OHOS::sptr<LocationProviderCallback> locator_callback_ = nullptr;
 };
 
 }  // namespace device
diff --git a/services/network/public/cpp/server/http_server.cc b/services/network/public/cpp/server/http_server.cc
index 8f7ee43a38a7b..c94a32b07d40c 100644
--- a/services/network/public/cpp/server/http_server.cc
+++ b/services/network/public/cpp/server/http_server.cc
@@ -105,8 +105,8 @@ void HttpServer::SendRaw(int connection_id,
     connection->write_watcher().Watch(
         connection->send_handle(),
         MOJO_HANDLE_SIGNAL_WRITABLE | MOJO_HANDLE_SIGNAL_PEER_CLOSED,
-        base::BindRepeating(&HttpServer::OnWritable, base::Unretained(this),
-                            connection->id()));
+        base::BindRepeating(&HttpServer::OnWritable,
+                            weak_ptr_factory_.GetWeakPtr(), connection->id()));
   }
 }
 
@@ -180,9 +180,9 @@ bool HttpServer::SetSendBufferSize(int connection_id, int32_t size) {
 }
 
 void HttpServer::DoAcceptLoop() {
-  server_socket_->Accept(
-      mojo::NullRemote(), /* observer */
-      base::BindOnce(&HttpServer::OnAcceptCompleted, base::Unretained(this)));
+  server_socket_->Accept(mojo::NullRemote(), /* observer */
+                         base::BindOnce(&HttpServer::OnAcceptCompleted,
+                                        weak_ptr_factory_.GetWeakPtr()));
 }
 
 void HttpServer::OnAcceptCompleted(
@@ -210,8 +210,8 @@ void HttpServer::OnAcceptCompleted(
         connection->receive_handle(),
         MOJO_HANDLE_SIGNAL_READABLE | MOJO_HANDLE_SIGNAL_PEER_CLOSED,
         MOJO_TRIGGER_CONDITION_SIGNALS_SATISFIED,
-        base::BindRepeating(&HttpServer::OnReadable, base::Unretained(this),
-                            connection->id()));
+        base::BindRepeating(&HttpServer::OnReadable,
+                            weak_ptr_factory_.GetWeakPtr(), connection->id()));
   }
 
   DoAcceptLoop();
diff --git a/storage/browser/blob/blob_registry_impl.cc b/storage/browser/blob/blob_registry_impl.cc
index 2479803044e63..e52fa941d2ab8 100644
--- a/storage/browser/blob/blob_registry_impl.cc
+++ b/storage/browser/blob/blob_registry_impl.cc
@@ -634,6 +634,7 @@ void BlobRegistryImpl::URLStoreForOrigin(
   if (!origin.opaque() && !delegate->CanCommitURL(origin.GetURL())) {
     mojo::ReportBadMessage(
         "Non committable origin passed to BlobRegistryImpl::URLStoreForOrigin");
+    return;
   }
   auto self_owned_associated_receiver = mojo::MakeSelfOwnedAssociatedReceiver(
       std::make_unique<BlobURLStoreImpl>(origin, url_registry_),
diff --git a/testing/location_tags.json b/testing/location_tags.json
new file mode 100644
index 0000000000000..93f9df6c1145f
--- /dev/null
+++ b/testing/location_tags.json
@@ -0,0 +1 @@
+{"repos":{"https://chromium.googlesource.com/chromium/src":{"dirs":{".":{}, "android_webview":{"tags":[{"key":"monorail_component", "value":"Mobile>WebView"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"android-webview-dev@chromium.org"}]}, "apps":{"tags":[{"key":"monorail_component", "value":"Platform>Apps"}, {"key":"team_email", "value":"apps-dev@chromium.org"}]}, "ash":{"tags":[{"key":"monorail_component", "value":"UI>Shell"}]}, "ash/accessibility":{"tags":[{"key":"monorail_component", "value":"OS>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "ash/accessibility/magnifier":{"tags":[{"key":"monorail_component", "value":"OS>Accessibility>Magnifier"}]}, "ash/ambient":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "ash/app_list":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Launcher"}]}, "ash/app_list/views/assistant":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "ash/app_menu":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Shelf"}]}, "ash/assistant":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "ash/capture_mode":{"tags":[{"key":"monorail_component", "value":"UI>Shell>ScreenCapture"}]}, "ash/clipboard":{"tags":[{"key":"monorail_component", "value":"UI>EnhancedClipboard"}]}, "ash/components/audio":{"tags":[{"key":"monorail_component", "value":"OS>Kernel>Audio"}]}, "ash/display":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Display"}]}, "ash/high_contrast":{"tags":[{"key":"monorail_component", "value":"OS>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "ash/keyboard":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "ash/lock_screen_action":{"tags":[{"key":"monorail_component", "value":"UI>Shell>LockScreen"}]}, "ash/login":{"tags":[{"key":"monorail_component", "value":"UI>Shell>LockScreen"}]}, "ash/public/cpp/ambient":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "ash/public/cpp/app_list":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Launcher"}]}, "ash/public/cpp/assistant":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "ash/public/cpp/child_accounts":{"tags":[{"key":"monorail_component", "value":"FamilyExperiences"}]}, "ash/public/cpp/holding_space":{"tags":[{"key":"monorail_component", "value":"UI>Shell>HoldingSpace"}]}, "ash/public/cpp/wallpaper":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Wallpaper"}]}, "ash/quick_pair":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>FastPair"}]}, "ash/search_box":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Launcher"}]}, "ash/services/recording":{"tags":[{"key":"monorail_component", "value":"UI>Shell>ScreenCapture"}]}, "ash/shelf":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Shelf"}]}, "ash/system":{"tags":[{"key":"monorail_component", "value":"UI>Shell>StatusArea"}]}, "ash/system/accessibility":{"tags":[{"key":"monorail_component", "value":"OS>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "ash/system/bluetooth":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network>Bluetooth"}]}, "ash/system/keyboard_brightness":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Input>Keyboard"}]}, "ash/system/message_center":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Notifications"}]}, "ash/system/network":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "ash/system/night_light":{"tags":[{"key":"monorail_component", "value":"UI>NightLight"}]}, "ash/system/screen_security":{"tags":[{"key":"monorail_component", "value":"Internals>Media>ScreenCapture"}]}, "ash/system/virtual_keyboard":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "ash/wallpaper":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Wallpaper"}]}, "ash/webui/diagnostics_ui":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Diagnostics"}]}, "ash/webui/file_manager":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "ash/webui/os_feedback_ui":{"tags":[{"key":"monorail_component", "value":"OS>Apps>Feedback"}]}, "ash/webui/scanning":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Scanning"}]}, "ash/webui/shimless_rma":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Diagnostics"}]}, "ash/wm":{"tags":[{"key":"monorail_component", "value":"UI>Shell>WindowManager"}]}, "ash/wm/desks":{"tags":[{"key":"monorail_component", "value":"UI>Shell>WindowManager>VirtualDesks"}]}, "ash/wm/gestures":{"tags":[{"key":"monorail_component", "value":"UI>Shell>GestureNav"}]}, "ash/wm/overview":{"tags":[{"key":"monorail_component", "value":"UI>Shell>WindowManager>OverviewMode"}]}, "ash/wm/pip":{"tags":[{"key":"monorail_component", "value":"UI>Shell>WindowManager>PictureInPicture"}]}, "ash/wm/splitview":{"tags":[{"key":"monorail_component", "value":"UI>Shell>WindowManager>Splitscreen"}]}, "ash/wm/tablet_mode":{"tags":[{"key":"monorail_component", "value":"UI>Shell>TabletMode"}]}, "base":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "base/allocator":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "base/allocator/partition_allocator":{"tags":[{"key":"monorail_component", "value":"Blink>MemoryAllocator>Partition"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "base/android":{"tags":[{"key":"os", "value":"ANDROID"}]}, "base/android/jni_generator":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "base/fuchsia":{"tags":[{"key":"monorail_component", "value":"Fuchsia"}, {"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "base/ios":{"tags":[{"key":"monorail_component", "value":"Internals"}, {"key":"team_email", "value":"ios-directory-owners@chromium.org"}]}, "base/mac":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "base/metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}]}, "base/numerics":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "base/task":{"tags":[{"key":"monorail_component", "value":"Internals>TaskScheduling"}, {"key":"team_email", "value":"scheduler-dev@chromium.org"}]}, "base/task/sequence_manager":{"tags":[{"key":"monorail_component", "value":"Internals>SequenceManager"}]}, "base/task/thread_pool":{"tags":[{"key":"monorail_component", "value":"Internals>ThreadPool"}]}, "base/test/android":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "base/test/metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}]}, "base/trace_event":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}, {"key":"team_email", "value":"tracing@chromium.org"}]}, "base/tracing":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}, {"key":"team_email", "value":"tracing@chromium.org"}]}, "base/win":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}]}, "build":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "build/android":{"tags":[{"key":"os", "value":"ANDROID"}]}, "build/config/fuchsia":{"tags":[{"key":"monorail_component", "value":"Fuchsia"}, {"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "build/fuchsia":{"tags":[{"key":"monorail_component", "value":"Fuchsia"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "build/linux/libncursesw":{"tags":[{"key":"monorail_component", "value":"Internals>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "build/toolchain/fuchsia":{"tags":[{"key":"monorail_component", "value":"Fuchsia"}, {"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "buildtools":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "cc":{"tags":[{"key":"monorail_component", "value":"Internals>Compositing"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "cc/metrics":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Metrics"}]}, "cc/raster":{"tags":[{"key":"monorail_component", "value":"Internals>Compositing>Rasterization"}]}, "chrome":{"tags":[{"key":"monorail_component", "value":"UI>Browser"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "chrome/android":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-dev@google.com"}]}, "chrome/android/features/ar":{"tags":[{"key":"monorail_component", "value":"Internals>XR>AR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "chrome/android/features/cablev2_authenticator":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "chrome/android/features/keyboard_accessory":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}]}, "chrome/android/features/vr":{"tags":[{"key":"monorail_component", "value":"Internals>XR>VR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "chrome/android/feed":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ContentSuggestions>Feed"}, {"key":"team_email", "value":"feed@chromium.org"}]}, "chrome/android/java/res_vr":{"tags":[{"key":"monorail_component", "value":"UI>Browser>VR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/about_settings":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Settings"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Accessibility"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/accessibility_tab_switcher":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>TabSwitcher"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/announcement":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"chrome-notifications@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/app/flags":{"tags":[{"key":"monorail_component", "value":"Internals>Flags"}, {"key":"team_email", "value":"clank-modularization@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/app/video_tutorials":{"tags":[{"key":"monorail_component", "value":"Upboarding>VideoTutorials"}, {"key":"team_email", "value":"chrome-upboarding@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/autofill":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill>UI"}]}, "chrome/android/java/src/org/chromium/chrome/browser/autofill_assistant":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill>Assistant"}]}, "chrome/android/java/src/org/chromium/chrome/browser/background_sync":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundSync"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/banners":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}]}, "chrome/android/java/src/org/chromium/chrome/browser/bookmarks":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bookmarks"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/browserservices":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>CustomTabs"}]}, "chrome/android/java/src/org/chromium/chrome/browser/browsing_data":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "chrome/android/java/src/org/chromium/chrome/browser/childaccounts":{"tags":[{"key":"monorail_component", "value":"Services>Signin"}, {"key":"team_email", "value":"chrome-signin-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/compositor":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>CompositedUI"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/compositor/bottombar":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Search>ContextualSearch"}, {"key":"team_email", "value":"contextual-search-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/contacts_picker":{"tags":[{"key":"monorail_component", "value":"Blink>Contacts"}, {"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/contextmenu":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>ContextMenu"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/contextualsearch":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Search>ContextualSearch"}, {"key":"team_email", "value":"contextual-search-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/cryptids":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Joy"}, {"key":"team_email", "value":"chrome-creation@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/customtabs":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>CustomTabs"}, {"key":"team_email", "value":"mobile-web-install-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/datareduction":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Settings>DataSaver"}]}, "chrome/android/java/src/org/chromium/chrome/browser/display_cutout":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "chrome/android/java/src/org/chromium/chrome/browser/dom_distiller":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ReaderMode"}, {"key":"team_email", "value":"dom-distiller-eng@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/gesturenav":{"tags":[{"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/infobar":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Infobars"}]}, "chrome/android/java/src/org/chromium/chrome/browser/installedapp":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>AppLauncher>Install"}]}, "chrome/android/java/src/org/chromium/chrome/browser/invalidation":{"tags":[{"key":"monorail_component", "value":"Services>Invalidation"}]}, "chrome/android/java/src/org/chromium/chrome/browser/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media>UI"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/messages":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Messages"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/navigation_predictor":{"tags":[{"key":"monorail_component", "value":"Internals>Preload"}]}, "chrome/android/java/src/org/chromium/chrome/browser/net/connectivitydetector":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Offline"}, {"key":"team_email", "value":"offline-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/net/nqe":{"tags":[{"key":"monorail_component", "value":"Internals>Network>NetworkQuality"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/net/spdyproxy":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataProxy"}]}, "chrome/android/java/src/org/chromium/chrome/browser/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/ntp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}, {"key":"team_email", "value":"ntp-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/ntp/cards/promo/enhanced_protection":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}, {"key":"team_email", "value":"safebrowsing@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/offlinepages":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Offline"}, {"key":"team_email", "value":"offline-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/omaha":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/paint_preview":{"tags":[{"key":"monorail_component", "value":"Internals>FreezeDriedTabs"}]}, "chrome/android/java/src/org/chromium/chrome/browser/partnerbookmarks":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bookmarks"}]}, "chrome/android/java/src/org/chromium/chrome/browser/password_manager/settings":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}]}, "chrome/android/java/src/org/chromium/chrome/browser/permissions":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Permissions>Prompts"}]}, "chrome/android/java/src/org/chromium/chrome/browser/previews":{"tags":[{"key":"monorail_component", "value":"Blink>Previews"}]}, "chrome/android/java/src/org/chromium/chrome/browser/privacy/settings":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Settings"}]}, "chrome/android/java/src/org/chromium/chrome/browser/push_messaging":{"tags":[{"key":"monorail_component", "value":"Blink>PushAPI"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/query_tiles":{"tags":[{"key":"monorail_component", "value":"Upboarding>QueryTiles"}, {"key":"team_email", "value":"chrome-upboarding-eng@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/quickactionsearchwidget":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>SearchWidget"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/safe_browsing":{"tags":[{"key":"monorail_component", "value":"Services>SafeBrowsing"}]}, "chrome/android/java/src/org/chromium/chrome/browser/safety_check":{"tags":[{"key":"monorail_component", "value":"UI>Settings>SafetyCheck"}, {"key":"team_email", "value":"chrome-friendly-settings@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/searchwidget":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>SearchWidget"}]}, "chrome/android/java/src/org/chromium/chrome/browser/services/gcm":{"tags":[{"key":"monorail_component", "value":"Services>CloudMessaging"}]}, "chrome/android/java/src/org/chromium/chrome/browser/settings":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Settings"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/share":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Share"}]}, "chrome/android/java/src/org/chromium/chrome/browser/sharing":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/android/java/src/org/chromium/chrome/browser/signin":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}]}, "chrome/android/java/src/org/chromium/chrome/browser/status_indicator":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>StatusIndicator"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "chrome/android/java/src/org/chromium/chrome/browser/sync/settings":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}, {"key":"team_email", "value":"chrome-signin@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/tabbed_mode":{"tags":[{"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/tasks":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>TabSwitcher>Grid"}, {"key":"team_email", "value":"memex-team@google.com"}]}, "chrome/android/java/src/org/chromium/chrome/browser/tracing":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}, {"key":"team_email", "value":"tracing@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/usage_stats":{"tags":[{"key":"monorail_component", "value":"UI>Browser>UsageStats"}]}, "chrome/android/java/src/org/chromium/chrome/browser/vr":{"tags":[{"key":"monorail_component", "value":"UI>Browser>VR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/webapps":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}]}, "chrome/android/java/src/org/chromium/chrome/browser/webauth":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "chrome/android/java/src/org/chromium/chrome/browser/webshare":{"tags":[{"key":"monorail_component", "value":"Blink>WebShare"}]}, "chrome/android/javatests":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/autofill_assistant":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill>Assistant"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/browsing_data":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/contextualsearch":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Search>ContextualSearch"}, {"key":"team_email", "value":"contextual-search-dev@chromium.org"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/crypto":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/display_cutout":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/explore_sites":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage>ExploreSites"}, {"key":"team_email", "value":"offline-dev@chromium.org"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/gesturenav":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/incognito":{"tags":[{"key":"monorail_component", "value":"Privacy>Incognito"}, {"key":"team_email", "value":"chrome-privacy-core@google.com"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media>UI"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/modaldialog":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/net/connectivitydetector":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Offline"}, {"key":"team_email", "value":"offline-dev@chromium.org"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/offlinepages":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Offline"}, {"key":"team_email", "value":"offline-dev@chromium.org"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/omnibox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/paint_preview":{"tags":[{"key":"monorail_component", "value":"Internals>FreezeDriedTabs"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/permissions":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Permissions>Prompts"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/previewtab":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>PreviewTab"}, {"key":"team_email", "value":"preview-tab@google.com"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/push_messaging":{"tags":[{"key":"monorail_component", "value":"Blink>PushAPI"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/signin":{"tags":[{"key":"monorail_component", "value":"Services>Signin"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/sms":{"tags":[{"key":"monorail_component", "value":"Blink>SMS"}, {"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/vr":{"tags":[{"key":"monorail_component", "value":"UI>Browser>VR"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/webapps":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}]}, "chrome/android/javatests/src/org/chromium/chrome/browser/webauth":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "chrome/android/junit":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/app/video_tutorials":{"tags":[{"key":"monorail_component", "value":"Upboarding>VideoTutorials"}, {"key":"team_email", "value":"chrome-upboarding@chromium.org"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/contextualsearch":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Search>ContextualSearch"}, {"key":"team_email", "value":"contextual-search-dev@chromium.org"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/display_cutout":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/incognito/interstitial":{"tags":[{"key":"monorail_component", "value":"Privacy>Incognito"}, {"key":"team_email", "value":"chrome-privacy-core@google.com"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/media/ui":{"tags":[{"key":"monorail_component", "value":"Internals>Media>UI"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/offlinepages":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Offline"}, {"key":"team_email", "value":"offline-dev@chromium.org"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/sharing":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/signin":{"tags":[{"key":"monorail_component", "value":"Services>Signin"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/usage_stats":{"tags":[{"key":"monorail_component", "value":"UI>Browser>UsageStats"}]}, "chrome/android/junit/src/org/chromium/chrome/browser/widget/bottomsheet":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>NavPanel"}]}, "chrome/android/modules/cablev2_authenticator":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "chrome/android/modules/image_editor":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/android/proguard":{"tags":[{"key":"team_email", "value":"build@chromium.org"}]}, "chrome/android/webapk":{"tags":[{"key":"monorail_component", "value":"Mobile>WebAPKs"}, {"key":"team_email", "value":"webapk-team@chromium.org"}]}, "chrome/app":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}]}, "chrome/app/media_router_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>UI"}]}, "chrome/app/nearby_share_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing>Nearby"}]}, "chrome/app/printing_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "chrome/app/sharesheet_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Foundation"}]}, "chrome/app/vector_icons/payments":{"tags":[{"key":"monorail_component", "value":"Blink>Payments"}, {"key":"team_email", "value":"payments-dev@chromium.org"}]}, "chrome/app/vector_icons/webauthn":{"tags":[{"key":"team_email", "value":"identity-dev@chromium.org"}]}, "chrome/app_shim":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/browser/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chrome/browser/android/browserservices":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>TrustedWebActivities"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"mwi-team-core@google.com"}]}, "chrome/browser/android/browsing_data":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "chrome/browser/android/compositor":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>CompositedUI"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/browser/android/consent_auditor":{"tags":[{"key":"os", "value":"ANDROID"}]}, "chrome/browser/android/contextualsearch":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Search>ContextualSearch"}, {"key":"team_email", "value":"contextual-search-dev@chromium.org"}]}, "chrome/browser/android/cookies":{"tags":[{"key":"os", "value":"ANDROID"}]}, "chrome/browser/android/crypto":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "chrome/browser/android/customtabs":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>CustomTabs"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"mobile-web-install-team@google.com"}]}, "chrome/browser/android/examples/custom_tabs_client":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>CustomTabs"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/android/explore_sites":{"tags":[{"key":"team_email", "value":"offline-dev@chromium.org"}]}, "chrome/browser/android/lifecycle":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/android/metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}]}, "chrome/browser/android/navigation_predictor":{"tags":[{"key":"monorail_component", "value":"Internals>Preload"}]}, "chrome/browser/android/net":{"tags":[{"key":"monorail_component", "value":"Internals>Network>NetworkQuality"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "chrome/browser/android/omnibox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "chrome/browser/android/oom_intervention":{"tags":[{"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"memory-dev@chromium.org"}]}, "chrome/browser/android/preferences":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Settings"}]}, "chrome/browser/android/send_tab_to_self":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/android/usage_stats":{"tags":[{"key":"monorail_component", "value":"UI>Browser>UsageStats"}]}, "chrome/browser/android/vr":{"tags":[{"key":"monorail_component", "value":"UI>Browser>VR"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "chrome/browser/android/vr/arcore_device":{"tags":[{"key":"monorail_component", "value":"Blink>WebXR>AR"}]}, "chrome/browser/android/webapk":{"tags":[{"key":"monorail_component", "value":"Mobile>WebAPKs"}, {"key":"team_email", "value":"webapk-team@chromium.org"}]}, "chrome/browser/android/webapps":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"mwi-team-core@google.com"}]}, "chrome/browser/app_mode":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Kiosk"}]}, "chrome/browser/apps":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Foundation"}]}, "chrome/browser/apps/guest_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "chrome/browser/apps/platform_apps/api/sync_file_system":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/ash/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chrome/browser/ash/app_mode":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Kiosk"}]}, "chrome/browser/ash/apps/intent_helper":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Foundation"}]}, "chrome/browser/ash/arc/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chrome/browser/ash/arc/policy":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chrome/browser/ash/assistant":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "chrome/browser/ash/attestation":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Security"}]}, "chrome/browser/ash/authpolicy":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>ActiveDirectory"}]}, "chrome/browser/ash/bluetooth":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Bluetooth"}]}, "chrome/browser/ash/camera_mic":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/ash/certificate_provider":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Smartcard"}]}, "chrome/browser/ash/crostini":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/ash/exo":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/ash/guest_os":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/ash/kerberos":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>ActiveDirectory"}]}, "chrome/browser/ash/login":{"tags":[{"key":"monorail_component", "value":"UI>Shell>OOBE"}, {"key":"os", "value":"CHROME_OS"}, {"key":"team_email", "value":"cros-oac@google.com"}]}, "chrome/browser/ash/login/app_mode":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Kiosk"}]}, "chrome/browser/ash/login/easy_unlock":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>SmartLock"}]}, "chrome/browser/ash/login/enrollment":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Enrollment"}]}, "chrome/browser/ash/plugin_vm":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers>PluginVM"}]}, "chrome/browser/ash/policy":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chrome/browser/ash/policy/dlp":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>DLP"}]}, "chrome/browser/ash/policy/off_hours":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>PolicyStack"}]}, "chrome/browser/ash/release_notes":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Default"}, {"key":"os", "value":"CHROME_OS"}, {"key":"team_email", "value":"cros-essential-apps-dev@chromium.org"}]}, "chrome/browser/ash/scanning":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Scanning"}]}, "chrome/browser/ash/settings":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chrome/browser/ash/smb_client":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "chrome/browser/ash/system_logs":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Feedback"}]}, "chrome/browser/ash/usb":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/ash/web_applications":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>SystemWebApps"}, {"key":"team_email", "value":"cros-essential-apps-dev@chromium.org"}]}, "chrome/browser/ash/wilco_dtc_supportd":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chrome/browser/assist_ranker":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Search>ContextualSearch"}]}, "chrome/browser/attribution_reporting/android":{"tags":[{"key":"monorail_component", "value":"Internals>ConversionMeasurement"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/autocomplete":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "chrome/browser/availability":{"tags":[{"key":"monorail_component", "value":"Blink>Previews"}]}, "chrome/browser/background":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BackgroundPage"}]}, "chrome/browser/background_fetch":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundFetch"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "chrome/browser/badging":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/browser/banners":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/browser/battery":{"tags":[{"key":"monorail_component", "value":"Internals>Preload"}]}, "chrome/browser/bitmap_fetcher":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Network"}]}, "chrome/browser/bluetooth":{"tags":[{"key":"monorail_component", "value":"Blink>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "chrome/browser/bookmarks":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bookmarks"}]}, "chrome/browser/browser_controls/android":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}]}, "chrome/browser/browser_switcher":{"tags":[{"key":"monorail_component", "value":"Enterprise>BrowserSwitcher"}]}, "chrome/browser/browsing_data":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "chrome/browser/captive_portal":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "chrome/browser/cart":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Shopping"}]}, "chrome/browser/chooser_controller":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions"}]}, "chrome/browser/chromeos":{"tags":[{"key":"monorail_component", "value":"UI>Shell"}]}, "chrome/browser/chromeos/cryptauth":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chrome/browser/chromeos/device_sync":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chrome/browser/chromeos/extensions":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}]}, "chrome/browser/chromeos/extensions/quick_unlock_private":{"tags":[{"key":"monorail_component", "value":"UI>Settings"}]}, "chrome/browser/chromeos/extensions/users_private":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Settings"}]}, "chrome/browser/chromeos/input_method/ui":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "chrome/browser/chromeos/multidevice_setup":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chrome/browser/chromeos/phonehub":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>PhoneHub"}]}, "chrome/browser/chromeos/platform_keys":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Certificates"}]}, "chrome/browser/chromeos/policy":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chrome/browser/chromeos/printing":{"tags":[{"key":"monorail_component", "value":"Internals>Printing>CUPS"}, {"key":"team_email", "value":"cros-printing-dev@chromium.org"}]}, "chrome/browser/chromeos/secure_channel":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chrome/browser/client_hints":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}]}, "chrome/browser/commerce":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Shopping"}]}, "chrome/browser/component_updater":{"tags":[{"key":"monorail_component", "value":"Internals>Installer>Components"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "chrome/browser/consent_auditor":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "chrome/browser/content_creation":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Creation"}, {"key":"team_email", "value":"chrome-creation@google.com"}]}, "chrome/browser/content_settings":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions>Model"}]}, "chrome/browser/contextmenu":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>ContextMenu"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-modularization@chromium.org"}]}, "chrome/browser/continuous_search":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ContinuousSearch"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"csn-dev@google.com"}]}, "chrome/browser/crash_upload_list":{"tags":[{"key":"monorail_component", "value":"Internals>CrashReporting"}]}, "chrome/browser/custom_handlers":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/browser/data_reduction_proxy":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataProxy"}]}, "chrome/browser/data_saver":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataProxy"}]}, "chrome/browser/data_use_measurement":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataUse"}]}, "chrome/browser/device":{"tags":[{"key":"monorail_component", "value":"Internals>Flags"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/browser/device_identity":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "chrome/browser/devtools":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools"}]}, "chrome/browser/diagnostics":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}]}, "chrome/browser/display_capture":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions"}]}, "chrome/browser/dom_distiller":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ReaderMode"}]}, "chrome/browser/domain_reliability":{"tags":[{"key":"monorail_component", "value":"Internals>Network>ReportingAndNEL"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "chrome/browser/downgrade":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "chrome/browser/download":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}]}, "chrome/browser/download/android/java/res":{"tags":[{"key":"os", "value":"ANDROID"}]}, "chrome/browser/download/internal":{"tags":[{"key":"team_email", "value":"chrome-downloads@google.com"}]}, "chrome/browser/drive":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "chrome/browser/engagement":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions>SiteEngagement"}]}, "chrome/browser/enterprise":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "chrome/browser/error_reporting":{"tags":[{"key":"monorail_component", "value":"Internals>CrashReporting"}]}, "chrome/browser/extensions":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}, {"key":"team_email", "value":"extensions-dev@chromium.org"}]}, "chrome/browser/extensions/api/autofill_private":{"tags":[{"key":"monorail_component", "value":"UI>Settings"}]}, "chrome/browser/extensions/api/automation":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}]}, "chrome/browser/extensions/api/automation_internal":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}]}, "chrome/browser/extensions/api/braille_display_private":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility>ChromeVox"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chrome/browser/extensions/api/browsing_data":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "chrome/browser/extensions/api/certificate_provider":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Smartcard"}]}, "chrome/browser/extensions/api/commands":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "chrome/browser/extensions/api/cookies":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "chrome/browser/extensions/api/crash_report_private":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>SystemWebApps"}]}, "chrome/browser/extensions/api/cryptotoken_private":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "chrome/browser/extensions/api/desktop_capture":{"tags":[{"key":"monorail_component", "value":"Internals>Media>ScreenCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "chrome/browser/extensions/api/downloads":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}]}, "chrome/browser/extensions/api/enterprise_device_attributes":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chrome/browser/extensions/api/enterprise_networking_attributes":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Networking"}]}, "chrome/browser/extensions/api/enterprise_platform_keys":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Certificates"}]}, "chrome/browser/extensions/api/enterprise_platform_keys_private":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Certificates"}]}, "chrome/browser/extensions/api/enterprise_reporting_private":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "chrome/browser/extensions/api/feedback_private":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Feedback"}]}, "chrome/browser/extensions/api/gcm":{"tags":[{"key":"monorail_component", "value":"Services>CloudMessaging"}]}, "chrome/browser/extensions/api/identity":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}, {"key":"team_email", "value":"chrome-signin@chromium.org"}]}, "chrome/browser/extensions/api/instance_id":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "chrome/browser/extensions/api/language_settings_private":{"tags":[{"key":"monorail_component", "value":"UI>Settings"}]}, "chrome/browser/extensions/api/mdns":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>API"}]}, "chrome/browser/extensions/api/messaging":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "chrome/browser/extensions/api/metrics_private":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}]}, "chrome/browser/extensions/api/networking_private":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network>General"}]}, "chrome/browser/extensions/api/passwords_private":{"tags":[{"key":"monorail_component", "value":"UI>Settings"}]}, "chrome/browser/extensions/api/platform_keys":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Certificates"}]}, "chrome/browser/extensions/api/safe_browsing_private":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}]}, "chrome/browser/extensions/api/settings_private":{"tags":[{"key":"monorail_component", "value":"UI>Settings"}]}, "chrome/browser/extensions/api/system_indicator":{"tags":[{"key":"monorail_component", "value":"Platform>Apps"}, {"key":"team_email", "value":"apps-dev@chromium.org"}]}, "chrome/browser/extensions/api/system_private":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chrome/browser/extensions/api/tab_capture":{"tags":[{"key":"monorail_component", "value":"Internals>Media>SurfaceCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "chrome/browser/extensions/api/tab_groups":{"tags":[{"key":"monorail_component", "value":"UI>Browser>TabStrip>TabGroups"}]}, "chrome/browser/extensions/api/terminal":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/extensions/api/virtual_keyboard_private":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "chrome/browser/extensions/api/vpn_provider":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "chrome/browser/extensions/api/web_request":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "chrome/browser/extensions/api/web_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "chrome/browser/extensions/api/webrtc_desktop_capture_private":{"tags":[{"key":"monorail_component", "value":"Internals>Media>ScreenCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "chrome/browser/extensions/forced_extensions":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>ExtensionReliability"}]}, "chrome/browser/extensions/system_display":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Display"}]}, "chrome/browser/external_protocol":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Permissions>Prompts"}]}, "chrome/browser/favicon":{"tags":[{"key":"monorail_component", "value":"UI>Browser>History"}]}, "chrome/browser/feature_engagement":{"tags":[{"key":"monorail_component", "value":"Internals>FeatureEngagement"}]}, "chrome/browser/federated_learning":{"tags":[{"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "chrome/browser/feed":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ContentSuggestions>Feed"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"feed@chromium.org"}]}, "chrome/browser/feedback":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Feedback"}]}, "chrome/browser/feedback/android":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/file_system_access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/first_run":{"tags":[{"key":"monorail_component", "value":"UI>Browser>FirstRun"}]}, "chrome/browser/flags":{"tags":[{"key":"monorail_component", "value":"Internals>Flags"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-modularization@chromium.org"}]}, "chrome/browser/font_access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FontAccess"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/fullscreen/android":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}]}, "chrome/browser/gcm":{"tags":[{"key":"monorail_component", "value":"Services>CloudMessaging"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "chrome/browser/geolocation":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions"}]}, "chrome/browser/google":{"tags":[{"key":"monorail_component", "value":"Internals"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "chrome/browser/gsa":{"tags":[{"key":"os", "value":"ANDROID"}]}, "chrome/browser/guest_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "chrome/browser/hang_monitor":{"tags":[{"key":"monorail_component", "value":"Internals>CrashReporting"}]}, "chrome/browser/heavy_ad_intervention":{"tags":[{"key":"monorail_component", "value":"UI>Browser>AdFilter"}]}, "chrome/browser/hid":{"tags":[{"key":"monorail_component", "value":"Blink>HID"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "chrome/browser/history":{"tags":[{"key":"monorail_component", "value":"UI>Browser>History"}]}, "chrome/browser/history_clusters":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Memories"}]}, "chrome/browser/idle":{"tags":[{"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "chrome/browser/image_descriptions":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"chrome-a11y-core@google.com"}]}, "chrome/browser/image_editor":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}, {"key":"team_email", "value":"chrome-connect-eng@google.com"}]}, "chrome/browser/importer":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Import"}]}, "chrome/browser/infobars":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Infobars"}]}, "chrome/browser/install_verification":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}]}, "chrome/browser/installable":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/browser/interest_group":{"tags":[{"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "chrome/browser/interstitials":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Interstitials"}, {"key":"team_email", "value":"security-enamel@chromium.org"}]}, "chrome/browser/invalidation":{"tags":[{"key":"monorail_component", "value":"Services>Invalidation"}]}, "chrome/browser/language":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Language"}]}, "chrome/browser/lazyload":{"tags":[{"key":"monorail_component", "value":"Blink>Loader>LazyLoad"}]}, "chrome/browser/lens":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/browser/lifetime":{"tags":[{"key":"monorail_component", "value":"Internals>TaskScheduler"}]}, "chrome/browser/lite_video":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataUse"}]}, "chrome/browser/loader":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Network"}]}, "chrome/browser/local_discovery":{"tags":[{"key":"monorail_component", "value":"Services>CloudPrint"}]}, "chrome/browser/locale":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/browser/locale/java/src/org/chromium/chrome/browser/locale":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>SearchWidget"}]}, "chrome/browser/login_detection":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataUse"}]}, "chrome/browser/long_screenshots":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/lookalikes":{"tags":[{"key":"monorail_component", "value":"UI>Browser>LookalikeChecks"}]}, "chrome/browser/media":{"tags":[{"key":"monorail_component", "value":"Blink>Media"}]}, "chrome/browser/media/android/router":{"tags":[{"key":"monorail_component", "value":"Internals>Cast"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "chrome/browser/media/history":{"tags":[{"key":"monorail_component", "value":"Internals>Media>History"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "chrome/browser/media/router":{"tags":[{"key":"monorail_component", "value":"Internals>Cast"}]}, "chrome/browser/media/webrtc":{"tags":[{"key":"monorail_component", "value":"UI>Browser>MediaCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "chrome/browser/media_galleries":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>MediaGalleries"}]}, "chrome/browser/media_galleries/fileapi":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "chrome/browser/memory":{"tags":[{"key":"monorail_component", "value":"Blink>MemoryAllocator"}, {"key":"team_email", "value":"catan-team@chromium.org"}]}, "chrome/browser/metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "chrome/browser/metrics/oom":{"tags":[{"key":"team_email", "value":"memory-dev@chromium.org"}]}, "chrome/browser/metrics/perf":{"tags":[{"key":"monorail_component", "value":"Tools>ChromeOS-Wide-Profiling"}, {"key":"os", "value":"CHROME_OS"}, {"key":"team_email", "value":"cwp-team@google.com"}]}, "chrome/browser/metrics_settings":{"tags":[{"key":"monorail_component", "value":"UI>Settings>Metrics"}, {"key":"team_email", "value":"chrome-friendly-settings@google.com"}]}, "chrome/browser/nacl_host":{"tags":[{"key":"monorail_component", "value":"Platform>NaCl"}]}, "chrome/browser/navigation_predictor":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}]}, "chrome/browser/nearby_sharing":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>Nearby"}]}, "chrome/browser/net":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "chrome/browser/new_tab_page":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}, {"key":"team_email", "value":"ntp-dev@chromium.org"}]}, "chrome/browser/nfc":{"tags":[{"key":"monorail_component", "value":"Blink>NFC"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "chrome/browser/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "chrome/browser/notifications/android/java/src/org/chromium/chrome/browser/notifications/channels":{"tags":[{"key":"os", "value":"ANDROID"}]}, "chrome/browser/ntp_tiles":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ContentSuggestions>History"}]}, "chrome/browser/obsolete_system":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Infobars"}]}, "chrome/browser/offline_items_collection":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}, {"key":"team_email", "value":"chrome-downloads@chromium.org"}]}, "chrome/browser/offline_pages":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Offline"}, {"key":"team_email", "value":"offline-dev@chromium.org"}]}, "chrome/browser/omaha":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "chrome/browser/optimization_guide":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "chrome/browser/page_annotations":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Shopping"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/page_load_metrics":{"tags":[{"key":"monorail_component", "value":"Speed>Metrics"}]}, "chrome/browser/page_load_metrics/integration_tests":{"tags":[{"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "chrome/browser/page_load_metrics/observers/ad_metrics":{"tags":[{"key":"monorail_component", "value":"UI>Browser>AdFilter"}]}, "chrome/browser/paint_preview":{"tags":[{"key":"monorail_component", "value":"Internals>FreezeDriedTabs"}]}, "chrome/browser/password_check":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "chrome/browser/password_edit_dialog":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "chrome/browser/password_entry_edit":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "chrome/browser/password_manager":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "chrome/browser/pdf":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>PDF"}]}, "chrome/browser/performance_monitor":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "chrome/browser/permissions":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions"}, {"key":"team_email", "value":"permissions-dev@chromium.org"}]}, "chrome/browser/persisted_state_db":{"tags":[{"key":"team_email", "value":"memex-team@google.com"}]}, "chrome/browser/picture_in_picture":{"tags":[{"key":"monorail_component", "value":"Blink>Media>PictureInPicture"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "chrome/browser/platform_keys":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Certificates"}]}, "chrome/browser/plugins":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins"}]}, "chrome/browser/policy":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "chrome/browser/portal":{"tags":[{"key":"monorail_component", "value":"Blink>Portals"}]}, "chrome/browser/predictors":{"tags":[{"key":"monorail_component", "value":"Internals>Preload"}]}, "chrome/browser/preferences":{"tags":[{"key":"monorail_component", "value":"Internals>Preferences"}]}, "chrome/browser/prefetch":{"tags":[{"key":"monorail_component", "value":"Internals>Preload"}]}, "chrome/browser/prefetch/no_state_prefetch":{"tags":[{"key":"monorail_component", "value":"Internals>Preload>NoStatePrefetch"}]}, "chrome/browser/prefetch/prefetch_proxy":{"tags":[{"key":"monorail_component", "value":"Internals>Preload>PrefetchProxy"}]}, "chrome/browser/prefs":{"tags":[{"key":"monorail_component", "value":"Internals>Preferences"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "chrome/browser/printing":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "chrome/browser/printing/cloud_print":{"tags":[{"key":"monorail_component", "value":"Services>CloudPrint"}]}, "chrome/browser/privacy/settings":{"tags":[{"key":"monorail_component", "value":"UI>Settings>Privacy"}, {"key":"team_email", "value":"chrome-friendly-settings@google.com"}]}, "chrome/browser/privacy_budget":{"tags":[{"key":"monorail_component", "value":"Privacy>Fingerprinting"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "chrome/browser/privacy_sandbox":{"tags":[{"key":"monorail_component", "value":"UI>Settings>Privacy"}, {"key":"team_email", "value":"chrome-friendly-settings@google.com"}]}, "chrome/browser/profile_resetter":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "chrome/browser/profiles":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Profiles"}, {"key":"team_email", "value":"chrome-signin@chromium.org"}]}, "chrome/browser/profiles/android":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/profiling_host":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "chrome/browser/promo_browser_command":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "chrome/browser/push_messaging":{"tags":[{"key":"monorail_component", "value":"Blink>PushAPI"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "chrome/browser/reading_list":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ReadLater"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/recovery":{"tags":[{"key":"monorail_component", "value":"Internals"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "chrome/browser/renderer_host":{"tags":[{"key":"monorail_component", "value":"Content>Core"}]}, "chrome/browser/renderer_host/pepper":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>Pepper"}]}, "chrome/browser/resource_coordinator":{"tags":[{"key":"monorail_component", "value":"Internals>PerformanceManager"}, {"key":"team_email", "value":"catan-team@chromium.org"}]}, "chrome/browser/resources":{"tags":[{"key":"monorail_component", "value":"UI"}]}, "chrome/browser/resources/accessibility":{"tags":[{"key":"monorail_component", "value":"Internals>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chrome/browser/resources/bookmarks":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bookmarks"}]}, "chrome/browser/resources/browser_switch":{"tags":[{"key":"monorail_component", "value":"Enterprise>BrowserSwitcher"}]}, "chrome/browser/resources/chromeos/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chrome/browser/resources/chromeos/accessibility/braille_ime":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility>ChromeVox"}]}, "chrome/browser/resources/chromeos/accessibility/chromevox":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility>ChromeVox"}]}, "chrome/browser/resources/chromeos/add_supervision":{"tags":[{"key":"monorail_component", "value":"FamilyExperiences"}]}, "chrome/browser/resources/chromeos/crostini_installer":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/resources/chromeos/crostini_upgrader":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/resources/chromeos/edu_coexistence":{"tags":[{"key":"monorail_component", "value":"FamilyExperiences"}]}, "chrome/browser/resources/chromeos/edu_login":{"tags":[{"key":"monorail_component", "value":"FamilyExperiences"}]}, "chrome/browser/resources/chromeos/emoji_picker":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "chrome/browser/resources/chromeos/internet_config_dialog":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "chrome/browser/resources/chromeos/internet_detail_dialog":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "chrome/browser/resources/chromeos/login":{"tags":[{"key":"monorail_component", "value":"UI>Shell>OOBE"}]}, "chrome/browser/resources/chromeos/multidevice_internals":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chrome/browser/resources/chromeos/multidevice_setup":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chrome/browser/resources/chromeos/projector":{"tags":[{"key":"monorail_component", "value":"FamilyExperiences"}]}, "chrome/browser/resources/chromeos/smb_shares":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "chrome/browser/resources/chromeos/wallpaper_manager":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Wallpaper"}]}, "chrome/browser/resources/downloads":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}]}, "chrome/browser/resources/engagement":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions>SiteEngagement"}]}, "chrome/browser/resources/extensions":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}, {"key":"team_email", "value":"extensions-dev@chromium.org"}]}, "chrome/browser/resources/family_link_user_internals":{"tags":[{"key":"monorail_component", "value":"FamilyExperiences"}]}, "chrome/browser/resources/feedback":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Feedback"}]}, "chrome/browser/resources/feedback_webui":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Feedback"}]}, "chrome/browser/resources/history":{"tags":[{"key":"monorail_component", "value":"UI>Browser>History"}]}, "chrome/browser/resources/inspect":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools"}]}, "chrome/browser/resources/internals/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}]}, "chrome/browser/resources/management":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "chrome/browser/resources/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media>UI"}]}, "chrome/browser/resources/media_router":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>UI"}]}, "chrome/browser/resources/memories":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Memories"}]}, "chrome/browser/resources/nearby_internals":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>Nearby"}]}, "chrome/browser/resources/nearby_share":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing>Nearby"}]}, "chrome/browser/resources/net_internals":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Logging"}]}, "chrome/browser/resources/new_tab_page":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "chrome/browser/resources/new_tab_page_instant":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "chrome/browser/resources/new_tab_page_third_party":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "chrome/browser/resources/ntp4":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}, {"key":"team_email", "value":"ntp-dev@chromium.org"}]}, "chrome/browser/resources/offline_pages":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Offline"}, {"key":"team_email", "value":"offline-dev@chromium.org"}]}, "chrome/browser/resources/omnibox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "chrome/browser/resources/pdf":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>PDF"}]}, "chrome/browser/resources/plugin_metadata":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins"}]}, "chrome/browser/resources/print_preview":{"tags":[{"key":"monorail_component", "value":"UI>Browser>PrintPreview"}]}, "chrome/browser/resources/quota_internals":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>Quota"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/resources/read_later":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ReadLater"}]}, "chrome/browser/resources/reset_password":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}]}, "chrome/browser/resources/safe_browsing":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}]}, "chrome/browser/resources/sandbox_internals":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "chrome/browser/resources/settings":{"tags":[{"key":"monorail_component", "value":"UI>Settings"}]}, "chrome/browser/resources/settings/chromeos":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Settings"}]}, "chrome/browser/resources/settings/chromeos/internet_page":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "chrome/browser/resources/settings/chromeos/multidevice_page":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chrome/browser/resources/settings/chromeos/os_apps_page":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Foundation"}]}, "chrome/browser/resources/settings/privacy_sandbox":{"tags":[{"key":"monorail_component", "value":"UI>Settings>Privacy"}, {"key":"team_email", "value":"chrome-friendly-settings@google.com"}]}, "chrome/browser/resources/signin":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}]}, "chrome/browser/resources/sync_file_system_internals":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/resources/tab_search":{"tags":[{"key":"monorail_component", "value":"UI>Browser>TabSearch"}]}, "chrome/browser/resources/usb_internals":{"tags":[{"key":"monorail_component", "value":"Blink>USB"}, {"key":"team_email", "value":"webusb@chromium.org"}]}, "chrome/browser/resources/video_tutorials":{"tags":[{"key":"monorail_component", "value":"Upboarding>VideoTutorials"}, {"key":"team_email", "value":"chrome-upboarding-eng@google.com"}]}, "chrome/browser/resources/vr":{"tags":[{"key":"monorail_component", "value":"UI>Browser>VR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "chrome/browser/resources/webstore_app":{"tags":[{"key":"monorail_component", "value":"Webstore"}]}, "chrome/browser/rlz":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "chrome/browser/safe_browsing":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}, {"key":"team_email", "value":"safebrowsing@chromium.org"}]}, "chrome/browser/safe_browsing/chrome_cleaner":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing>ChromeCleanup"}]}, "chrome/browser/safe_browsing/incident_reporting":{"tags":[{"key":"monorail_component", "value":"Services>SafeBrowsing"}]}, "chrome/browser/safe_browsing/settings_reset_prompt":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Preferences>Protector"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "chrome/browser/safety_check":{"tags":[{"key":"monorail_component", "value":"UI>Settings>SafetyCheck"}, {"key":"team_email", "value":"chrome-friendly-settings@google.com"}]}, "chrome/browser/search":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}, {"key":"team_email", "value":"ntp-dev@chromium.org"}]}, "chrome/browser/search_engines":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Search"}]}, "chrome/browser/search_engines/android/java/src/org/chromium/chrome/browser/search_engines":{"tags":[{"key":"os", "value":"ANDROID"}]}, "chrome/browser/search_provider_logos":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "chrome/browser/security_events":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}]}, "chrome/browser/segmentation_platform":{"tags":[{"key":"monorail_component", "value":"Internals>SegmentationPlatform"}, {"key":"team_email", "value":"chrome-segmentation-platform@google.com"}]}, "chrome/browser/send_tab_to_self":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/serial":{"tags":[{"key":"monorail_component", "value":"Blink>Serial"}]}, "chrome/browser/service_process":{"tags":[{"key":"monorail_component", "value":"Services>CloudPrint"}]}, "chrome/browser/sessions":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sessions"}]}, "chrome/browser/share":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/sharesheet":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Foundation"}]}, "chrome/browser/sharing":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/sharing_hub":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/signin":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}, {"key":"team_email", "value":"chrome-signin@chromium.org"}]}, "chrome/browser/signin/services":{"tags":[{"key":"os", "value":"ANDROID"}]}, "chrome/browser/signin/ui":{"tags":[{"key":"os", "value":"ANDROID"}]}, "chrome/browser/site_isolation":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox>SiteIsolation"}]}, "chrome/browser/speech":{"tags":[{"key":"monorail_component", "value":"Blink>Speech"}]}, "chrome/browser/speech/extension_api":{"tags":[{"key":"monorail_component", "value":"Internals>SpeechSynthesis"}]}, "chrome/browser/ssl":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Interstitials"}, {"key":"team_email", "value":"security-enamel@chromium.org"}]}, "chrome/browser/status_icons":{"tags":[{"key":"monorail_component", "value":"UI>Shell>StatusArea"}]}, "chrome/browser/storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>Quota"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/subresource_filter":{"tags":[{"key":"monorail_component", "value":"UI>Browser>AdFilter"}]}, "chrome/browser/subresource_redirect":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataProxy"}]}, "chrome/browser/supervised_user":{"tags":[{"key":"monorail_component", "value":"FamilyExperiences"}]}, "chrome/browser/supervised_user/supervised_user_error_page":{"tags":[{"key":"monorail_component", "value":"Services>SupervisedUser"}]}, "chrome/browser/sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "chrome/browser/sync_file_system":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/tab":{"tags":[{"key":"os", "value":"ANDROID"}]}, "chrome/browser/tab_group":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>TabSwitcher>Grid"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/tabmodel":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>TabModel"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/browser/tabpersistence":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/browser/task_manager":{"tags":[{"key":"monorail_component", "value":"UI>TaskManager"}]}, "chrome/browser/test_dummy":{"tags":[{"key":"monorail_component", "value":"Mobile>FeatureModules"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-lego@chromium.org"}]}, "chrome/browser/themes":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Themes"}]}, "chrome/browser/thumbnail":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Thumbnail"}]}, "chrome/browser/touch_to_fill":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}]}, "chrome/browser/tracing":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}, {"key":"team_email", "value":"tracing@chromium.org"}]}, "chrome/browser/translate":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Language>Translate"}]}, "chrome/browser/ui/android/appmenu":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>AppMenu"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/browser/ui/android/default_browser_promo":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Messages"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/browser/ui/android/favicon":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/ui/android/infobars":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Infobars"}]}, "chrome/browser/ui/android/layouts":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>CompositedUI"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"chrome-android-app@chromium.org"}]}, "chrome/browser/ui/android/native_page":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}]}, "chrome/browser/ui/android/night_mode":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>ThemeColors"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/browser/ui/android/omnibox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/ui/android/passwords":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}]}, "chrome/browser/ui/android/quickactionsearchwidget":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>SearchWidget"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"seacow-team@google.com"}]}, "chrome/browser/ui/android/safe_browsing":{"tags":[{"key":"monorail_component", "value":"UI>Browser>SafeBrowsing"}]}, "chrome/browser/ui/android/searchactivityutils":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>SearchWidget"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"seacow-team@google.com"}]}, "chrome/browser/ui/android/tab_contents":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/ui/android/tab_model":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/ui/android/theme":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"chrome-android-app@chromium.org"}]}, "chrome/browser/ui/android/toolbar":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Toolbar"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/ui/android/webid":{"tags":[{"key":"monorail_component", "value":"Blink>Identity>WebID"}]}, "chrome/browser/ui/app_list":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Launcher"}]}, "chrome/browser/ui/ash":{"tags":[{"key":"monorail_component", "value":"UI>Shell"}]}, "chrome/browser/ui/ash/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chrome/browser/ui/ash/ambient":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "chrome/browser/ui/ash/assistant":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "chrome/browser/ui/ash/holding_space":{"tags":[{"key":"monorail_component", "value":"UI>Shell>HoldingSpace"}]}, "chrome/browser/ui/ash/keyboard":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "chrome/browser/ui/ash/network":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "chrome/browser/ui/ash/sharesheet":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Foundation"}]}, "chrome/browser/ui/ash/shelf":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Shelf"}]}, "chrome/browser/ui/aura/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chrome/browser/ui/autofill":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill>UI"}]}, "chrome/browser/ui/blocked_content":{"tags":[{"key":"monorail_component", "value":"UI>Browser>PopupBlocker"}]}, "chrome/browser/ui/bluetooth":{"tags":[{"key":"monorail_component", "value":"Blink>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "chrome/browser/ui/cocoa":{"tags":[{"key":"os", "value":"MAC"}]}, "chrome/browser/ui/cocoa/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "chrome/browser/ui/cocoa/permission_bubble":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Permissions>Prompts"}]}, "chrome/browser/ui/cocoa/tab_contents":{"tags":[{"key":"monorail_component", "value":"UI>Browser>TabContents"}]}, "chrome/browser/ui/extensions":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}, {"key":"team_email", "value":"extensions-dev@chromium.org"}]}, "chrome/browser/ui/font_access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FontAccess"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/ui/global_media_controls":{"tags":[{"key":"monorail_component", "value":"Internals>Media>UI"}]}, "chrome/browser/ui/hid":{"tags":[{"key":"monorail_component", "value":"Blink>HID"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "chrome/browser/ui/location_bar":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "chrome/browser/ui/login":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Auth"}]}, "chrome/browser/ui/media_router":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>UI"}]}, "chrome/browser/ui/messages":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Messages"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/ui/omnibox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "chrome/browser/ui/page_action":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bubbles"}]}, "chrome/browser/ui/page_info":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bubbles>PageInfo"}, {"key":"team_email", "value":"security-enamel@chromium.org"}]}, "chrome/browser/ui/permission_bubble":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Permissions>Prompts"}]}, "chrome/browser/ui/prefs":{"tags":[{"key":"monorail_component", "value":"Internals>Preferences"}]}, "chrome/browser/ui/qrcode_generator":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/ui/search_engines":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Search"}]}, "chrome/browser/ui/send_tab_to_self":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/ui/serial":{"tags":[{"key":"monorail_component", "value":"Blink>Serial"}]}, "chrome/browser/ui/sharing_hub":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/ui/signin":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}]}, "chrome/browser/ui/sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "chrome/browser/ui/tab_sharing":{"tags":[{"key":"monorail_component", "value":"UI>Browser>MediaCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "chrome/browser/ui/tabs":{"tags":[{"key":"monorail_component", "value":"UI>Browser>TabStrip"}]}, "chrome/browser/ui/task_manager":{"tags":[{"key":"monorail_component", "value":"UI>TaskManager"}]}, "chrome/browser/ui/user_education":{"tags":[{"key":"monorail_component", "value":"UI>Browser>UserEducation"}]}, "chrome/browser/ui/views/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chrome/browser/ui/views/autofill":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}]}, "chrome/browser/ui/views/bubble":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bubbles"}]}, "chrome/browser/ui/views/crostini":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/ui/views/desktop_capture":{"tags":[{"key":"monorail_component", "value":"UI>Browser>MediaCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "chrome/browser/ui/views/download":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}]}, "chrome/browser/ui/views/extensions":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}, {"key":"team_email", "value":"extensions-dev@chromium.org"}]}, "chrome/browser/ui/views/eye_dropper":{"tags":[{"key":"monorail_component", "value":"Blink>Forms>Color"}]}, "chrome/browser/ui/views/file_system_access":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Permissions>Prompts"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/ui/views/infobars":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Infobars"}]}, "chrome/browser/ui/views/location_bar":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "chrome/browser/ui/views/media_router":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>UI"}]}, "chrome/browser/ui/views/omnibox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "chrome/browser/ui/views/overlay":{"tags":[{"key":"monorail_component", "value":"Internals>Media>UI"}]}, "chrome/browser/ui/views/page_info":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bubbles>PageInfo"}, {"key":"team_email", "value":"security-enamel@chromium.org"}]}, "chrome/browser/ui/views/permission_bubble":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Permissions>Prompts"}, {"key":"team_email", "value":"permissions-dev@chromium.org"}]}, "chrome/browser/ui/views/plugin_vm":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers>PluginVM"}]}, "chrome/browser/ui/views/profiles":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Toolbar"}]}, "chrome/browser/ui/views/qrcode_generator":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/ui/views/safe_browsing":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Safebrowsing"}]}, "chrome/browser/ui/views/send_tab_to_self":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/ui/views/sharing":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/ui/views/sharing_hub":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/browser/ui/views/sync":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}, {"key":"team_email", "value":"chrome-signin@chromium.org"}]}, "chrome/browser/ui/views/tab_search":{"tags":[{"key":"monorail_component", "value":"UI>Browser>TabSearch"}]}, "chrome/browser/ui/views/tab_sharing":{"tags":[{"key":"monorail_component", "value":"UI>Browser>MediaCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "chrome/browser/ui/views/tabs":{"tags":[{"key":"monorail_component", "value":"UI>Browser>TabStrip"}]}, "chrome/browser/ui/views/user_education":{"tags":[{"key":"monorail_component", "value":"UI>Browser>UserEducation"}]}, "chrome/browser/ui/views/web_apps":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/browser/ui/views/webauthn":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "chrome/browser/ui/web_applications":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/browser/ui/webauthn":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "chrome/browser/ui/webid":{"tags":[{"key":"monorail_component", "value":"Blink>Identity>WebID"}, {"key":"team_email", "value":"web-identity@chromium.org"}]}, "chrome/browser/ui/webui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "chrome/browser/ui/webui/autofill_and_password_manager_internals":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}]}, "chrome/browser/ui/webui/bookmarks":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bookmarks"}]}, "chrome/browser/ui/webui/browser_switch":{"tags":[{"key":"monorail_component", "value":"Enterprise>BrowserSwitcher"}]}, "chrome/browser/ui/webui/chromeos/add_supervision":{"tags":[{"key":"monorail_component", "value":"FamilyExperiences"}]}, "chrome/browser/ui/webui/chromeos/crostini_installer":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/ui/webui/chromeos/crostini_upgrader":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "chrome/browser/ui/webui/chromeos/edu_coexistence":{"tags":[{"key":"monorail_component", "value":"FamilyExperiences"}]}, "chrome/browser/ui/webui/chromeos/emoji":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "chrome/browser/ui/webui/chromeos/login":{"tags":[{"key":"monorail_component", "value":"UI>Shell>OOBE"}]}, "chrome/browser/ui/webui/chromeos/multidevice_internals":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chrome/browser/ui/webui/chromeos/multidevice_setup":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chrome/browser/ui/webui/download_shelf":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}]}, "chrome/browser/ui/webui/downloads":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}]}, "chrome/browser/ui/webui/extensions":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}, {"key":"team_email", "value":"extensions-dev@chromium.org"}]}, "chrome/browser/ui/webui/history":{"tags":[{"key":"monorail_component", "value":"UI>Browser>History"}]}, "chrome/browser/ui/webui/management":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "chrome/browser/ui/webui/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media>UI"}]}, "chrome/browser/ui/webui/media_router":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>UI"}]}, "chrome/browser/ui/webui/nearby_internals":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>Nearby"}]}, "chrome/browser/ui/webui/nearby_share":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>Nearby"}]}, "chrome/browser/ui/webui/net_internals":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Logging"}]}, "chrome/browser/ui/webui/new_tab_page":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "chrome/browser/ui/webui/new_tab_page_third_party":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "chrome/browser/ui/webui/ntp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}, {"key":"team_email", "value":"ntp-dev@chromium.org"}]}, "chrome/browser/ui/webui/offline":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Offline"}, {"key":"team_email", "value":"offline-dev@chromium.org"}]}, "chrome/browser/ui/webui/quota_internals":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>Quota"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/ui/webui/read_later":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ReadLater"}]}, "chrome/browser/ui/webui/realbox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "chrome/browser/ui/webui/reset_password":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Safebrowsing"}]}, "chrome/browser/ui/webui/sandbox":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "chrome/browser/ui/webui/settings":{"tags":[{"key":"monorail_component", "value":"UI>Settings"}]}, "chrome/browser/ui/webui/settings/chromeos":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Settings"}]}, "chrome/browser/ui/webui/settings/chromeos/app_management":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Foundation"}]}, "chrome/browser/ui/webui/signin":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}]}, "chrome/browser/ui/webui/sync_file_system_internals":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "chrome/browser/ui/webui/tab_search":{"tags":[{"key":"monorail_component", "value":"UI>Browser>TabSearch"}]}, "chrome/browser/ui/webui/usb_internals":{"tags":[{"key":"monorail_component", "value":"Blink>USB"}, {"key":"team_email", "value":"webusb@chromium.org"}]}, "chrome/browser/ui/webui/video_tutorials":{"tags":[{"key":"monorail_component", "value":"Upboarding>VideoTutorials"}, {"key":"team_email", "value":"chrome-upboarding-eng@google.com"}]}, "chrome/browser/ui/webui/welcome":{"tags":[{"key":"monorail_component", "value":"UI>Browser>FirstRun"}]}, "chrome/browser/ui/zoom":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Toolbar"}]}, "chrome/browser/uid":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}, {"key":"team_email", "value":"chrome-signin@chromium.org"}]}, "chrome/browser/undo":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "chrome/browser/unified_consent":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}, {"key":"team_email", "value":"chrome-signin@chromium.org"}]}, "chrome/browser/update_client":{"tags":[{"key":"monorail_component", "value":"Internals>Installer>Components"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "chrome/browser/updater":{"tags":[{"key":"monorail_component", "value":"Internals>Updater"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "chrome/browser/upgrade_detector":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}]}, "chrome/browser/usb":{"tags":[{"key":"monorail_component", "value":"Blink>USB"}, {"key":"team_email", "value":"webusb@chromium.org"}]}, "chrome/browser/user_education":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>UserEducation"}, {"key":"os", "value":"ANDROID"}]}, "chrome/browser/version":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "chrome/browser/video_tutorials":{"tags":[{"key":"monorail_component", "value":"Upboarding>VideoTutorials"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"chrome-upboarding-eng@google.com"}]}, "chrome/browser/vr":{"tags":[{"key":"monorail_component", "value":"UI>Browser>VR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "chrome/browser/wake_lock":{"tags":[{"key":"monorail_component", "value":"Blink>WakeLock"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "chrome/browser/web_applications":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/browser/web_applications/chrome_pwa_launcher":{"tags":[{"key":"os", "value":"WINDOWS"}]}, "chrome/browser/web_share_target":{"tags":[{"key":"monorail_component", "value":"Mobile>WebAPKs"}, {"key":"team_email", "value":"webapk-team@chromium.org"}]}, "chrome/browser/webapps":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/browser/webauthn":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "chrome/browser/win":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}]}, "chrome/browser/win/conflicts":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "chrome/browser/window_placement":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/browser/xsurface":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ContentSuggestions>Feed"}, {"key":"team_email", "value":"feed@chromium.org"}]}, "chrome/child":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "chrome/chrome_cleaner":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing>ChromeCleanup"}, {"key":"team_email", "value":"safebrowsing@chromium.org"}]}, "chrome/chrome_elf":{"tags":[{"key":"monorail_component", "value":"Internals>EarlyLoadingFramework"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "chrome/chrome_proxy":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/common/apps":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}]}, "chrome/common/cart":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Shopping"}]}, "chrome/common/cloud_print":{"tags":[{"key":"monorail_component", "value":"Services>CloudPrint"}]}, "chrome/common/conflicts":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}, {"key":"team_email", "value":"windows-third-party@chromium.org"}]}, "chrome/common/custom_handlers":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "chrome/common/extensions":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}, {"key":"team_email", "value":"chromium-extensions@chromium.org"}]}, "chrome/common/extensions/api":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "chrome/common/importer":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Import"}]}, "chrome/common/mac":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}]}, "chrome/common/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Encrypted"}]}, "chrome/common/media_galleries":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>MediaGalleries"}]}, "chrome/common/net":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "chrome/common/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "chrome/common/printing":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "chrome/common/privacy_budget":{"tags":[{"key":"monorail_component", "value":"Privacy>Fingerprinting"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "chrome/common/profiler":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics>SamplingProfiler"}]}, "chrome/common/safe_browsing":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}]}, "chrome/common/search":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "chrome/common/win":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>API>Windows"}]}, "chrome/credential_provider":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "chrome/docs":{"tags":[{"key":"monorail_component", "value":"Documentation"}]}, "chrome/elevation_service":{"tags":[{"key":"monorail_component", "value":"Internals>Installer>Components"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "chrome/install_static":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}]}, "chrome/installer":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}]}, "chrome/nacl":{"tags":[{"key":"monorail_component", "value":"Platform>NaCl"}]}, "chrome/notification_helper":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}]}, "chrome/renderer":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Network"}]}, "chrome/renderer/autofill":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}]}, "chrome/renderer/cart":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Shopping"}]}, "chrome/renderer/extensions":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}, {"key":"team_email", "value":"extensions-reviews@chromium.org"}]}, "chrome/renderer/lite_video":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataUse"}]}, "chrome/renderer/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "chrome/renderer/net":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "chrome/renderer/pdf":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>PDF"}]}, "chrome/renderer/pepper":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>Pepper"}]}, "chrome/renderer/plugins":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins"}]}, "chrome/renderer/previews":{"tags":[{"key":"monorail_component", "value":"Blink>Previews"}]}, "chrome/renderer/printing":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "chrome/renderer/resources":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "chrome/renderer/resources/extensions":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}]}, "chrome/renderer/resources/extensions/enterprise_platform_keys":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Certificates"}]}, "chrome/renderer/resources/extensions/platform_keys":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Certificates"}]}, "chrome/renderer/resources/extensions/web_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "chrome/renderer/safe_browsing":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}]}, "chrome/renderer/searchbox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "chrome/renderer/subresource_redirect":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataProxy"}]}, "chrome/renderer/supervised_user":{"tags":[{"key":"monorail_component", "value":"Services>SupervisedUser"}]}, "chrome/renderer/translate":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Language>Translate"}]}, "chrome/service":{"tags":[{"key":"monorail_component", "value":"Services>CloudPrint"}]}, "chrome/services/file_util":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}]}, "chrome/services/ipp_parser":{"tags":[{"key":"monorail_component", "value":"Internals>Printing>CUPS"}]}, "chrome/services/media_gallery_util":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>MediaGalleries"}]}, "chrome/services/printing":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "chrome/services/qrcode_generator":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "chrome/services/removable_storage_writer":{"tags":[{"key":"monorail_component", "value":"Internals>Services"}]}, "chrome/services/sharing":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing>Nearby"}]}, "chrome/services/speech":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "chrome/services/util_win":{"tags":[{"key":"monorail_component", "value":"Internals>Services>ServiceManager"}]}, "chrome/services/wilco_dtc_supportd":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chrome/test":{"tags":[{"key":"monorail_component", "value":"Tests"}]}, "chrome/test/android":{"tags":[{"key":"monorail_component", "value":"Test>Android"}, {"key":"os", "value":"ANDROID"}]}, "chrome/test/android/javatests/src/org/chromium/chrome/test/util/browser/sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "chrome/test/android/javatests/src/org/chromium/chrome/test/util/browser/webapps":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}]}, "chrome/test/android/test_trusted_web_activity":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>TrustedWebActivities"}]}, "chrome/test/base/android":{"tags":[{"key":"monorail_component", "value":"Test>Android"}, {"key":"os", "value":"ANDROID"}]}, "chrome/test/chromedriver":{"tags":[{"key":"monorail_component", "value":"Test>WebDriver"}]}, "chrome/test/data":{"tags":[{"key":"monorail_component", "value":"Test"}]}, "chrome/test/data/extensions/api_test/certificate_provider":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Smartcard"}]}, "chrome/test/data/extensions/api_test/enterprise_device_attributes":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chrome/test/data/extensions/api_test/enterprise_networking_attributes":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Networking"}]}, "chrome/test/data/extensions/api_test/enterprise_platform_keys":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Certificates"}]}, "chrome/test/data/extensions/api_test/platform_keys":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Certificates"}]}, "chrome/test/data/extensions/api_test/printer_provider":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "chrome/test/data/extensions/api_test/vpn_provider":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "chrome/test/data/extensions/platform_apps/web_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "chrome/test/data/extensions/signin_screen_manual_test_app":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chrome/test/data/media/engagement":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "chrome/test/data/nacl":{"tags":[{"key":"monorail_component", "value":"Platform>NaCl"}]}, "chrome/test/data/webui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "chrome/test/data/webui/cr_components/chromeos/multidevice_setup":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chrome/test/data/webui/nearby_share":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing>Nearby"}]}, "chrome/test/data/webui/settings":{"tags":[{"key":"monorail_component", "value":"UI>Settings"}]}, "chrome/test/data/webui/settings/chromeos":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Settings"}]}, "chrome/test/data/xr":{"tags":[{"key":"monorail_component", "value":"Internals>XR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "chrome/test/enterprise":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "chrome/test/media_router":{"tags":[{"key":"monorail_component", "value":"Internals>Cast"}]}, "chrome/test/mini_installer":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}]}, "chrome/test/nacl":{"tags":[{"key":"monorail_component", "value":"Platform>NaCl"}]}, "chrome/test/origin_policy":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature"}]}, "chrome/test/pixel":{"tags":[{"key":"monorail_component", "value":"Test>Pixel"}]}, "chrome/test/ppapi":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>Pepper"}, {"key":"team_email", "value":"pepper-dev@chromium.org"}]}, "chrome/test/views":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}]}, "chrome/third_party":{"tags":[{"key":"monorail_component", "value":"A-N/A"}]}, "chrome/third_party/mozilla_security_manager":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Certificate"}, {"key":"team_email", "value":"trusty-transport@chromium.org"}]}, "chrome/tools":{"tags":[{"key":"monorail_component", "value":"UI>Shell"}]}, "chrome/tools/build/mac":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "chrome/tools/build/win":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "chrome/tools/convert_dict":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "chrome/tools/safe_browsing":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}]}, "chrome/tools/service_discovery_sniffer":{"tags":[{"key":"monorail_component", "value":"Services>CloudPrint"}]}, "chrome/tools/test":{"tags":[{"key":"monorail_component", "value":"Tests"}]}, "chrome/tools/tracing":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}]}, "chrome/updater":{"tags":[{"key":"monorail_component", "value":"Internals>Updater"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "chrome/utility":{"tags":[{"key":"monorail_component", "value":"Internals>Services"}]}, "chrome/utility/importer":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Import"}]}, "chrome/utility/safe_browsing":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}]}, "chromecast":{"tags":[{"key":"monorail_component", "value":"Chromecast"}]}, "chromecast/browser/metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}]}, "chromecast/common/extensions_api":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}]}, "chromecast/media/cdm":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Encrypted"}]}, "chromeos":{"tags":[{"key":"monorail_component", "value":"UI>Shell"}]}, "chromeos/assistant":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "chromeos/attestation":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Security"}]}, "chromeos/components/camera_app_ui":{"tags":[{"key":"team_email", "value":"chromeos-camera-eng@google.com"}]}, "chromeos/components/demo_mode_app_ui":{}, "chromeos/components/drivefs":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "chromeos/components/eche_app_ui":{}, "chromeos/components/help_app_ui":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Default"}, {"key":"os", "value":"CHROME_OS"}, {"key":"team_email", "value":"cros-essential-apps-dev@chromium.org"}]}, "chromeos/components/media_app_ui":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>PhotoEditor"}, {"key":"os", "value":"CHROME_OS"}, {"key":"team_email", "value":"cros-essential-apps-dev@chromium.org"}]}, "chromeos/components/mojo_bootstrap":{"tags":[{"key":"monorail_component", "value":"OS>Systems"}]}, "chromeos/components/multidevice":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chromeos/components/phonehub":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>PhoneHub"}]}, "chromeos/components/power":{"tags":[{"key":"monorail_component", "value":"OS>Kernel>Power"}]}, "chromeos/components/print_management":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Printing"}]}, "chromeos/components/proximity_auth":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>SmartLock"}]}, "chromeos/components/sample_system_web_app_ui":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>SystemWebApps"}]}, "chromeos/components/security_token_pin":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Smartcard"}]}, "chromeos/components/smbfs":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "chromeos/components/sync_wifi":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>WifiSync"}]}, "chromeos/components/system_apps":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>SystemWebApps"}]}, "chromeos/components/telemetry_extension_ui":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>SystemWebApps"}]}, "chromeos/components/tether":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>Tethering"}]}, "chromeos/components/web_applications":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>SystemWebApps"}]}, "chromeos/cryptohome":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Security"}]}, "chromeos/dbus":{"tags":[{"key":"monorail_component", "value":"OS>Systems"}]}, "chromeos/dbus/biod":{"tags":[{"key":"monorail_component", "value":"UI>Shell>LockScreen"}]}, "chromeos/dbus/kerberos":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>ActiveDirectory"}]}, "chromeos/disks":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "chromeos/geolocation":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "chromeos/hugepage_text":{"tags":[{"key":"monorail_component", "value":"Tools>ChromeOS-Toolchain"}]}, "chromeos/ime":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "chromeos/language":{"tags":[{"key":"monorail_component", "value":"OS>Software>MarketExpansion"}, {"key":"team_email", "value":"cros-borders-eng@google.com"}]}, "chromeos/login":{"tags":[{"key":"monorail_component", "value":"UI>Shell>StartScreen"}]}, "chromeos/login/auth":{"tags":[{"key":"monorail_component", "value":"OS>Systems"}]}, "chromeos/network":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "chromeos/network/onc":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Networking"}]}, "chromeos/network/portal_detector":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Ash"}]}, "chromeos/policy":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chromeos/printing":{"tags":[{"key":"monorail_component", "value":"Internals>Printing>CUPS"}, {"key":"team_email", "value":"cros-printing-dev@chromium.org"}]}, "chromeos/process_proxy":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "chromeos/services/assistant":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "chromeos/services/cros_healthd":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chromeos/services/device_sync":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chromeos/services/ime":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "chromeos/services/libassistant":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Assistant"}]}, "chromeos/services/machine_learning":{"tags":[{"key":"monorail_component", "value":"UI>ML>Service"}]}, "chromeos/services/multidevice_setup":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chromeos/services/nearby":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice>Nearby"}]}, "chromeos/services/secure_channel":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "chromeos/services/tts":{"tags":[{"key":"monorail_component", "value":"Internals>SpeechSynthesis"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "chromeos/settings":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise"}]}, "chromeos/timezone":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "chromeos/tools/onc_validator":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Networking"}]}, "cloud_print":{"tags":[{"key":"monorail_component", "value":"Services>CloudPrint"}]}, "codelabs":{"tags":[{"key":"monorail_component", "value":"Infra>Documentation"}, {"key":"team_email", "value":"infra-dev@chromium.org"}]}, "components/about_ui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "components/about_ui/android":{"tags":[{"key":"os", "value":"ANDROID"}]}, "components/account_id":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}]}, "components/accuracy_tips":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "components/apdu":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}]}, "components/arc":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>ARC"}]}, "components/arc/intent_helper":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Foundation"}]}, "components/arc/media_session":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Session"}]}, "components/assist_ranker":{"tags":[{"key":"monorail_component", "value":"UI>ML"}]}, "components/autofill":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}, {"key":"team_email", "value":"chrome-autofill@google.com"}]}, "components/autofill_assistant":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill>Assistant"}]}, "components/autofill_payments_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}, {"key":"team_email", "value":"payments-autofill-team@google.com"}]}, "components/autofill_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}]}, "components/background_fetch":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundFetch"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "components/background_sync":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundSync"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "components/background_task_scheduler":{"tags":[{"key":"monorail_component", "value":"Internals>BackgroundTaskScheduler"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-dev@google.com"}]}, "components/base32":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/blocked_content":{"tags":[{"key":"monorail_component", "value":"UI>Browser>PopupBlocker"}]}, "components/blocklist":{"tags":[{"key":"monorail_component", "value":"Blink>Previews"}]}, "components/bookmark_bar_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bookmarks"}]}, "components/bookmarks":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bookmarks"}]}, "components/browser_sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "components/browser_ui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "components/browser_ui/bottomsheet/android":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>NavPanel"}]}, "components/browser_ui/client_certificate":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Auth"}]}, "components/browser_ui/contacts_picker/android":{"tags":[{"key":"monorail_component", "value":"Blink>Contacts"}, {"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "components/browser_ui/display_cutout":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "components/browser_ui/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media>UI"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "components/browser_ui/notifications/android":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"chrome-notifications@google.com"}]}, "components/browser_ui/photo_picker/android":{"tags":[{"key":"monorail_component", "value":"UI>Browser>MediaPicker"}, {"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "components/browser_ui/share":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "components/browser_ui/site_settings":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Settings"}]}, "components/browser_ui/sms/android":{"tags":[{"key":"monorail_component", "value":"Blink>SMS"}, {"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "components/browser_ui/webshare":{"tags":[{"key":"monorail_component", "value":"Blink>WebShare"}]}, "components/browser_ui/widget/android/java/src/org/chromium/components/browser_ui/widget/image_tiles":{"tags":[{"key":"monorail_component", "value":"Upboarding>QueryTiles"}, {"key":"team_email", "value":"chrome-upboarding@google.com"}]}, "components/browser_watcher":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}]}, "components/browsing_data":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "components/browsing_data_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "components/captive_portal":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "components/cast":{"tags":[{"key":"monorail_component", "value":"Chromecast"}]}, "components/cast_certificate":{"tags":[{"key":"monorail_component", "value":"Chromecast"}]}, "components/cast_channel":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>Providers"}]}, "components/cast_streaming":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>Providers"}]}, "components/cbor":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "components/cdm":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Encrypted"}]}, "components/certificate_matching":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Certificate"}]}, "components/certificate_transparency":{"tags":[{"key":"monorail_component", "value":"Internals>Network>CertTrans"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "components/chrome_cleaner":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing>ChromeCleanup"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "components/chromeos_camera":{"tags":[{"key":"monorail_component", "value":"OS>Kernel>Camera"}, {"key":"team_email", "value":"chromeos-camera@chromium.org"}]}, "components/client_hints":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}]}, "components/client_update_protocol":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "components/cloud_devices":{"tags":[{"key":"monorail_component", "value":"Services>CloudPrint"}]}, "components/component_updater":{"tags":[{"key":"monorail_component", "value":"Internals>Installer>Components"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "components/consent_auditor":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "components/constrained_window":{"tags":[{"key":"monorail_component", "value":"Internals>Views"}]}, "components/content_capture":{"tags":[{"key":"monorail_component", "value":"Internals>ContentCapture"}]}, "components/content_creation":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Creation"}, {"key":"team_email", "value":"chrome-creation@google.com"}]}, "components/content_settings":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions>Model"}, {"key":"team_email", "value":"permissions-dev@chromium.org"}]}, "components/contextual_search":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Search>ContextualSearch"}, {"key":"team_email", "value":"contextual-search-dev@chromium.org"}]}, "components/continuous_search":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ContinuousSearch"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"csn-dev@google.com"}]}, "components/cookie_config":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Cookies"}]}, "components/country_codes":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "components/crash":{"tags":[{"key":"monorail_component", "value":"Internals>CrashReporting"}]}, "components/crash/android":{"tags":[{"key":"os", "value":"ANDROID"}]}, "components/crash_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>CrashReporting"}]}, "components/cronet":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Library"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "components/crx_file":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}]}, "components/data_reduction_proxy":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataProxy"}]}, "components/data_use_measurement":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataUse"}]}, "components/dbus":{"tags":[{"key":"monorail_component", "value":"OS>Systems"}]}, "components/device_event_log":{"tags":[{"key":"monorail_component", "value":"Internals>Logging"}]}, "components/digital_asset_links":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>CustomTabs"}]}, "components/discardable_memory":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/dom_distiller":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ReaderMode"}, {"key":"team_email", "value":"dom-distiller-eng@google.com"}]}, "components/dom_distiller_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ReaderMode"}]}, "components/domain_reliability":{"tags":[{"key":"monorail_component", "value":"Internals>Network>ReportingAndNEL"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "components/download":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}]}, "components/drive":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "components/embedder_support/android":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}, {"key":"os", "value":"ANDROID"}]}, "components/embedder_support/android/metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "components/embedder_support/origin_trials":{"tags":[{"key":"monorail_component", "value":"Internals>OriginTrials"}, {"key":"team_email", "value":"experimentation-dev@chromium.org"}]}, "components/encrypted_messages":{"tags":[{"key":"monorail_component", "value":"Internals>CertAnalysis"}]}, "components/enterprise":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "components/error_page":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "components/error_page_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}]}, "components/exo":{"tags":[{"key":"monorail_component", "value":"Internals>Exosphere"}]}, "components/externalauth/android":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}, {"key":"os", "value":"ANDROID"}]}, "components/favicon":{"tags":[{"key":"monorail_component", "value":"UI>Browser>History"}]}, "components/favicon_base":{"tags":[{"key":"monorail_component", "value":"UI>Browser>History"}]}, "components/feature_engagement":{"tags":[{"key":"monorail_component", "value":"Internals>FeatureEngagement"}]}, "components/federated_learning":{"tags":[{"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "components/feed":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ContentSuggestions>Feed"}, {"key":"team_email", "value":"feed@chromium.org"}]}, "components/feedback":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Feedback"}]}, "components/filename_generation":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}]}, "components/find_in_page":{"tags":[{"key":"monorail_component", "value":"UI>Browser>FindInPage"}]}, "components/flags_ui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "components/fullscreen_control":{"tags":[{"key":"monorail_component", "value":"UI>Browser"}]}, "components/fullscreen_control_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser"}]}, "components/gcm_driver":{"tags":[{"key":"monorail_component", "value":"Services>CloudMessaging"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "components/google":{"tags":[{"key":"monorail_component", "value":"Internals"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "components/grpc_support":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Library"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "components/guest_os":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Containers"}]}, "components/guest_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "components/gwp_asan":{"tags":[{"key":"monorail_component", "value":"Internals>Instrumentation"}]}, "components/handoff":{"tags":[{"key":"monorail_component", "value":"UI>Browser"}]}, "components/heap_profiling":{"tags":[{"key":"monorail_component", "value":"Internals>Instrumentation>Memory"}]}, "components/heavy_ad_intervention":{"tags":[{"key":"monorail_component", "value":"UI>Browser>AdFilter"}]}, "components/heavy_ad_intervention_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>AdFilter"}]}, "components/history":{"tags":[{"key":"monorail_component", "value":"UI>Browser>History"}]}, "components/history/core/browser/sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "components/history/ios":{"tags":[{"key":"monorail_component", "value":"Mobile>iOSWeb"}, {"key":"team_email", "value":"ios-directory-owners@chromium.org"}]}, "components/history_clusters":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Memories"}]}, "components/image_fetcher":{"tags":[{"key":"monorail_component", "value":"Internals>Images"}]}, "components/infobars":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Infobars"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "components/infobars/android":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Messages"}, {"key":"os", "value":"ANDROID"}]}, "components/installedapp":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>AppLauncher>Install"}]}, "components/invalidation":{"tags":[{"key":"monorail_component", "value":"Services>Invalidation"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "components/javascript_dialogs":{"tags":[{"key":"monorail_component", "value":"Blink>WindowDialog"}]}, "components/javascript_dialogs/views":{"tags":[{"key":"monorail_component", "value":"Internals>Views>Desktop"}]}, "components/javascript_dialogs_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Blink>WindowDialog"}]}, "components/js_injection":{"tags":[{"key":"monorail_component", "value":"Mobile>WebView"}, {"key":"team_email", "value":"android-webview-dev@chromium.org"}]}, "components/keep_alive_registry":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/keyed_service":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/language":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Language"}, {"key":"team_email", "value":"language@chromium.org"}]}, "components/leveldb_proto":{"tags":[{"key":"monorail_component", "value":"Internals>Storage>LevelDBProto"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "components/link_header_util":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "components/live_caption":{"tags":[{"key":"monorail_component", "value":"Internals>Media>LiveCaption"}]}, "components/live_caption_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>Media>LiveCaption"}]}, "components/location":{"tags":[{"key":"monorail_component", "value":"Blink>Location"}]}, "components/login":{"tags":[{"key":"monorail_component", "value":"UI>Shell>OOBE"}]}, "components/lookalikes":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Interstitials"}]}, "components/management_ios_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Management"}]}, "components/management_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "components/media_message_center":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "components/media_router":{"tags":[{"key":"monorail_component", "value":"Internals>Cast"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "components/messages":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Messages"}, {"key":"team_email", "value":"clank-app-team@google.com"}]}, "components/metal_util":{"tags":[{"key":"monorail_component", "value":"Internals>Compositing"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "components/metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "components/metrics_services_manager":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "components/minidump_uploader":{"tags":[{"key":"monorail_component", "value":"Internals>CrashReporting"}]}, "components/mirroring":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>Streaming"}]}, "components/module_installer":{"tags":[{"key":"monorail_component", "value":"Mobile>FeatureModules"}]}, "components/nacl":{"tags":[{"key":"monorail_component", "value":"Platform>NaCl"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "components/navigation_interception":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Navigation"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "components/navigation_metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "components/net_log":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Logging"}]}, "components/neterror":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "components/network_hints":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}]}, "components/network_session_configurator":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}]}, "components/network_time":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Interstitials"}]}, "components/new_or_sad_tab_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}, {"key":"team_email", "value":"ntp-dev@chromium.org"}]}, "components/no_state_prefetch":{"tags":[{"key":"monorail_component", "value":"Internals>Preload"}]}, "components/ntp_snippets":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ContentSuggestions"}]}, "components/ntp_snippets_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "components/ntp_tiles":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ContentSuggestions>History"}]}, "components/offline_items_collection":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}, {"key":"team_email", "value":"chrome-downloads@chromium.org"}]}, "components/offline_pages":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Offline"}, {"key":"team_email", "value":"offline-dev@chromium.org"}]}, "components/omnibox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "components/omnibox/browser/android":{"tags":[{"key":"team_email", "value":"chrome-android-omnibox-team@google.com"}]}, "components/omnibox_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "components/on_load_script_injector":{"tags":[{"key":"monorail_component", "value":"Fuchsia"}, {"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "components/onc":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "components/open_from_clipboard":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox>ZeroSuggest"}, {"key":"team_email", "value":"ios-directory-owners@chromium.org"}]}, "components/optimization_guide":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "components/os_crypt":{"tags":[{"key":"monorail_component", "value":"Internals>LocalDataEncryption"}]}, "components/ownership":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/page_image_annotation":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}]}, "components/page_info":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bubbles>PageInfo"}, {"key":"team_email", "value":"security-enamel@chromium.org"}]}, "components/page_info_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bubbles>PageInfo"}]}, "components/page_load_metrics":{"tags":[{"key":"monorail_component", "value":"Speed>Metrics"}]}, "components/paint_preview":{"tags":[{"key":"monorail_component", "value":"Internals>FreezeDriedTabs"}]}, "components/password_manager":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "components/password_manager_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}]}, "components/payments":{"tags":[{"key":"monorail_component", "value":"Blink>Payments"}, {"key":"team_email", "value":"payments-dev@chromium.org"}]}, "components/payments/content/android":{"tags":[{"key":"os", "value":"ANDROID"}]}, "components/pdf":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>PDF"}]}, "components/pdf_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>PDF"}]}, "components/performance_manager":{"tags":[{"key":"monorail_component", "value":"Internals>PerformanceManager"}, {"key":"team_email", "value":"catan-team@chromium.org"}]}, "components/permissions":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions"}, {"key":"team_email", "value":"permissions-dev@chromium.org"}]}, "components/permissions_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions"}, {"key":"team_email", "value":"permissions-dev@chromium.org"}]}, "components/plugins":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins"}]}, "components/policy":{"tags":[{"key":"monorail_component", "value":"Enterprise"}, {"key":"team_email", "value":"chromium-enterprise@chromium.org"}]}, "components/policy_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Enterprise"}, {"key":"team_email", "value":"chromium-enterprise@chromium.org"}]}, "components/power_scheduler":{"tags":[{"key":"monorail_component", "value":"Internals>Power"}]}, "components/pref_registry":{"tags":[{"key":"monorail_component", "value":"Internals>Preferences"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "components/prefs":{"tags":[{"key":"monorail_component", "value":"Internals>Preferences"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "components/prefs/android":{"tags":[{"key":"os", "value":"ANDROID"}]}, "components/previous_session_info":{"tags":[{"key":"os", "value":"IOS"}, {"key":"team_email", "value":"ios-directory-owners@chromium.org"}]}, "components/printing":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "components/printing_component_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "components/privacy_sandbox":{"tags":[{"key":"monorail_component", "value":"UI>Settings>Privacy"}, {"key":"team_email", "value":"chrome-friendly-settings@google.com"}]}, "components/privacy_sandbox_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Settings>Privacy"}, {"key":"team_email", "value":"chrome-friendly-settings@google.com"}]}, "components/profile_metrics":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Profiles"}]}, "components/proxy_config":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "components/pwg_encoder":{"tags":[{"key":"monorail_component", "value":"Services>CloudPrint"}]}, "components/qr_code_generator":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "components/query_parser":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/query_tiles":{"tags":[{"key":"monorail_component", "value":"Upboarding>QueryTiles"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"chrome-upboarding-eng@google.com"}]}, "components/quirks":{"tags":[{"key":"monorail_component", "value":"UI>Shell>Display"}]}, "components/reading_list":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ReaderMode"}, {"key":"team_email", "value":"ios-directory-owners@chromium.org"}]}, "components/remote_cocoa":{"tags":[{"key":"monorail_component", "value":"Internals>Views"}]}, "components/renderer_context_menu":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "components/reset_password_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}, {"key":"team_email", "value":"safebrowsing@chromium.org"}]}, "components/resources/default_100_percent/neterror":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}]}, "components/resources/default_200_percent/neterror":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}]}, "components/rlz":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "components/safe_browsing":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}, {"key":"team_email", "value":"safebrowsing@chromium.org"}]}, "components/safe_search_api":{"tags":[{"key":"monorail_component", "value":"FamilyExperiences"}]}, "components/safety_check":{"tags":[{"key":"team_email", "value":"chrome-privacy-core@google.com"}]}, "components/scheduling_metrics":{"tags":[{"key":"monorail_component", "value":"Blink>Scheduler"}]}, "components/schema_org":{"tags":[{"key":"monorail_component", "value":"Blink>DocumentMetadata"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "components/search":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}, {"key":"team_email", "value":"ntp-dev@chromium.org"}]}, "components/search_engines":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Search"}]}, "components/search_provider_logos":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}]}, "components/security_interstitials":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Interstitials"}, {"key":"team_email", "value":"security-enamel@chromium.org"}]}, "components/security_interstitials_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}]}, "components/security_state":{"tags":[{"key":"monorail_component", "value":"Internals>PageSecurityState"}]}, "components/security_state_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>PageSecurityState"}]}, "components/segmentation_platform":{"tags":[{"key":"monorail_component", "value":"Internals>SegmentationPlatform"}, {"key":"team_email", "value":"chrome-segmentation-platform@google.com"}]}, "components/send_tab_to_self":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "components/send_tab_to_self_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "components/services":{"tags":[{"key":"monorail_component", "value":"Internals>Services"}]}, "components/services/app_service":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Foundation"}]}, "components/services/filesystem":{"tags":[{"key":"monorail_component", "value":"Internals>Services>File"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "components/services/font":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "components/services/heap_profiling":{"tags":[{"key":"monorail_component", "value":"Internals>Instrumentation>Memory"}]}, "components/services/language_detection":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Language>Translate"}]}, "components/services/paint_preview_compositor":{"tags":[{"key":"monorail_component", "value":"Internals>FreezeDriedTabs"}]}, "components/services/patch":{"tags":[{"key":"monorail_component", "value":"Internals>Services>ServiceManager"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "components/services/print_compositor":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "components/services/quarantine":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}]}, "components/services/storage":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "components/services/storage/dom_storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>DOMStorage"}]}, "components/services/storage/indexed_db":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>IndexedDB"}]}, "components/services/unzip":{"tags":[{"key":"monorail_component", "value":"Internals>Services>ServiceManager"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "components/session_manager":{"tags":[{"key":"monorail_component", "value":"UI>Shell"}]}, "components/sessions":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sessions"}]}, "components/sessions/ios":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/shared_highlighting":{"tags":[{"key":"monorail_component", "value":"UI>Browser>SharedHighlighting"}, {"key":"team_email", "value":"chrome-shared-highlighting@google.com"}]}, "components/signin":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}, {"key":"team_email", "value":"chrome-signin@chromium.org"}]}, "components/site_engagement":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions>SiteEngagement"}]}, "components/site_isolation":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox>SiteIsolation"}]}, "components/soda":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "components/soda_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "components/spellcheck":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Spellcheck"}, {"key":"team_email", "value":"language@chromium.org"}]}, "components/sqlite_proto":{"tags":[{"key":"monorail_component", "value":"Internals>Storage"}]}, "components/ssl_errors":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Interstitials"}, {"key":"team_email", "value":"security-enamel@chromium.org"}]}, "components/ssl_errors_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Interstitials"}]}, "components/startup_metric_utils":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}, {"key":"team_email", "value":"catan-team@chromium.org"}]}, "components/storage_monitor":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "components/strictmode":{"tags":[{"key":"monorail_component", "value":"Build"}]}, "components/strings":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/subresource_filter":{"tags":[{"key":"monorail_component", "value":"UI>Browser>AdFilter"}]}, "components/subresource_redirect":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataUse"}]}, "components/sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "components/sync_bookmarks":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "components/sync_device_info":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "components/sync_preferences":{"tags":[{"key":"monorail_component", "value":"Internals>Preferences"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "components/sync_sessions":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "components/sync_ui_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "components/sync_user_events":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "components/tab_count_metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}]}, "components/tab_groups":{"tags":[{"key":"monorail_component", "value":"UI>Browser>TabStrip"}]}, "components/tab_groups_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>TabStrip"}]}, "components/test/android":{"tags":[{"key":"monorail_component", "value":"Tests"}]}, "components/test/data":{"tags":[{"key":"monorail_component", "value":"Tests"}]}, "components/test/data/autofill":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}]}, "components/test/data/password_manager":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}]}, "components/test/data/performance_manager":{"tags":[{"key":"monorail_component", "value":"Internals>PerformanceManager"}]}, "components/test/data/update_client":{"tags":[{"key":"monorail_component", "value":"Internals>Installer>Components"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "components/test/data/web_database":{"tags":[{"key":"monorail_component", "value":"Test"}]}, "components/thin_webview":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>ThinWebView"}, {"key":"os", "value":"ANDROID"}]}, "components/tracing":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}, {"key":"team_email", "value":"tracing@chromium.org"}]}, "components/translate":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Language>Translate"}]}, "components/translate_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Language>Translate"}]}, "components/ui_devtools":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools"}]}, "components/ui_metrics":{"tags":[{"key":"monorail_component", "value":"Mobile>iOSWeb"}, {"key":"team_email", "value":"ios-directory-owners@chromium.org"}]}, "components/ukm":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics>UKM"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "components/undo":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/undo_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/unified_consent":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}, {"key":"team_email", "value":"chrome-signin@chromium.org"}]}, "components/update_client":{"tags":[{"key":"monorail_component", "value":"Internals>Installer>Components"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "components/upload_list":{"tags":[{"key":"monorail_component", "value":"Internals>CrashReporting"}]}, "components/url_formatter":{"tags":[{"key":"monorail_component", "value":"UI>Security>UrlFormatting"}]}, "components/url_matcher":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}]}, "components/url_pattern_index":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "components/user_actions_ui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "components/user_manager":{"tags":[{"key":"monorail_component", "value":"UI>Shell>StartScreen"}]}, "components/user_prefs":{"tags":[{"key":"monorail_component", "value":"Internals>Preferences"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "components/variations":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics>Variations"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "components/vector_icons":{"tags":[{"key":"monorail_component", "value":"UI>Assets>Images"}]}, "components/version_info":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/version_ui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "components/version_ui_strings_grdp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "components/visitedlink":{"tags":[{"key":"monorail_component", "value":"UI>Browser>History"}]}, "components/viz":{"tags":[{"key":"monorail_component", "value":"Internals>Compositing"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "components/viz/service/frame_sinks/video_capture":{"tags":[{"key":"monorail_component", "value":"Internals>Media>SurfaceCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "components/viz/service/gl":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}]}, "components/web_cache":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "components/web_modal":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Core"}]}, "components/web_package":{"tags":[{"key":"monorail_component", "value":"Blink>Loader>WebPackaging"}, {"key":"team_email", "value":"webpackage-dev@chromium.org"}]}, "components/web_resource":{"tags":[{"key":"monorail_component", "value":"UI>Shell"}]}, "components/webapk":{"tags":[{"key":"monorail_component", "value":"Mobile>WebAPKs"}, {"key":"team_email", "value":"webapk-team@chromium.org"}]}, "components/webapps":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "components/webauthn":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "components/webcrypto":{"tags":[{"key":"monorail_component", "value":"Blink>WebCrypto"}]}, "components/webdata":{"tags":[{"key":"monorail_component", "value":"Internals"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "components/webdata_services":{"tags":[{"key":"monorail_component", "value":"Internals"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "components/webrtc":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "components/webrtc_logging":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC>Tools"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "components/webxr":{"tags":[{"key":"monorail_component", "value":"Internals>XR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "components/webxr_strings_grdp":{"tags":[{"key":"monorail_component", "value":"Internals>XR"}]}, "components/wifi":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "components/zoom":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Zoom"}]}, "components/zucchini":{"tags":[{"key":"monorail_component", "value":"Internals>Installer>Diff"}]}, "content":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "content/app_shim_remote_cocoa":{"tags":[{"key":"monorail_component", "value":"UI"}]}, "content/browser/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "content/browser/aggregation_service":{"tags":[{"key":"monorail_component", "value":"Internals>ConversionMeasurement"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "content/browser/android":{"tags":[{"key":"monorail_component", "value":"Content>WebApps"}, {"key":"os", "value":"ANDROID"}]}, "content/browser/appcache":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>AppCache"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/background_fetch":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundFetch"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "content/browser/background_sync":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundSync"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "content/browser/blob_storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/bluetooth":{"tags":[{"key":"monorail_component", "value":"Blink>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "content/browser/broadcast_channel":{"tags":[{"key":"monorail_component", "value":"Blink>Messaging"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "content/browser/browser_plugin":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "content/browser/browsing_data":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "content/browser/buckets":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>Buckets"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/cache_storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>CacheStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/compositor":{"tags":[{"key":"monorail_component", "value":"Internals>Compositing"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "content/browser/compute_pressure":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs>ComputePressure"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/contacts":{"tags":[{"key":"monorail_component", "value":"Blink>Contacts"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "content/browser/content_index":{"tags":[{"key":"monorail_component", "value":"Blink>ContentIndexing"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "content/browser/conversions":{"tags":[{"key":"monorail_component", "value":"Internals>ConversionMeasurement"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "content/browser/cookie_store":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>CookiesAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/device_sensors":{"tags":[{"key":"monorail_component", "value":"Blink>Sensor>DeviceOrientation"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "content/browser/devtools":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools"}]}, "content/browser/display_cutout":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "content/browser/dom_storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>DOMStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/download":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}]}, "content/browser/file_system":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/file_system_access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/font_access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FontAccess"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/font_unique_name_lookup":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "content/browser/generic_sensor":{"tags":[{"key":"monorail_component", "value":"Blink>Sensor"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "content/browser/geolocation":{"tags":[{"key":"monorail_component", "value":"Blink>Geolocation"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "content/browser/gpu":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "content/browser/hid":{"tags":[{"key":"monorail_component", "value":"Blink>HID"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "content/browser/hyphenation":{"tags":[{"key":"monorail_component", "value":"UI>Browser"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "content/browser/idle":{"tags":[{"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "content/browser/image_capture":{"tags":[{"key":"monorail_component", "value":"Blink>ImageCapture"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "content/browser/indexed_db":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>IndexedDB"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/installedapp":{"tags":[{"key":"monorail_component", "value":"Blink>AppManifest"}, {"key":"team_email", "value":"platform-capabilities@chromium.org "}]}, "content/browser/keyboard_lock":{"tags":[{"key":"monorail_component", "value":"UI>Input>KeyboardShortcuts"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "content/browser/loader":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "content/browser/locks":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/manifest":{"tags":[{"key":"monorail_component", "value":"Blink>AppManifest"}]}, "content/browser/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "content/browser/media/capture":{"tags":[{"key":"monorail_component", "value":"Internals>Media>SurfaceCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "content/browser/media/session":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Session"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "content/browser/media/webaudio":{"tags":[{"key":"monorail_component", "value":"Blink>WebAudio"}]}, "content/browser/memory":{"tags":[{"key":"monorail_component", "value":"Internals>PerformanceManager"}, {"key":"team_email", "value":"catan-team@chromium.org"}]}, "content/browser/native_io":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>NativeIO"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "content/browser/permissions":{"tags":[{"key":"monorail_component", "value":"Internals>Permissions"}]}, "content/browser/picture_in_picture":{"tags":[{"key":"monorail_component", "value":"Internals>Media>UI"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "content/browser/portal":{"tags":[{"key":"monorail_component", "value":"Blink>Portals"}]}, "content/browser/prerender":{"tags":[{"key":"monorail_component", "value":"Internals>Preload>Prerender"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "content/browser/presentation":{"tags":[{"key":"monorail_component", "value":"Blink>PresentationAPI"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "content/browser/push_messaging":{"tags":[{"key":"monorail_component", "value":"Blink>PushAPI"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "content/browser/quota":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>Quota"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/renderer_host":{"tags":[{"key":"team_email", "value":"site-isolation-dev@chromium.org"}]}, "content/browser/renderer_host/input":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "content/browser/renderer_host/media":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "content/browser/renderer_host/p2p":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "content/browser/renderer_host/pepper":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>Pepper"}]}, "content/browser/resources/appcache":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>AppCache"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/resources/conversions":{"tags":[{"key":"monorail_component", "value":"Internals>ConversionMeasurement"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "content/browser/resources/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "content/browser/resources/service_worker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "content/browser/scheduler":{"tags":[{"key":"monorail_component", "value":"Internals>TaskScheduling"}, {"key":"team_email", "value":"scheduler-dev@chromium.org"}]}, "content/browser/screen_enumeration":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "content/browser/screen_orientation":{"tags":[{"key":"monorail_component", "value":"Blink>ScreenOrientation"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "content/browser/serial":{"tags":[{"key":"monorail_component", "value":"Blink>Serial"}]}, "content/browser/service_worker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "content/browser/shape_detection":{"tags":[{"key":"monorail_component", "value":"Blink>ShapeDetection"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "content/browser/sms":{"tags":[{"key":"monorail_component", "value":"Blink>WebOTP"}, {"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "content/browser/speculation_rules":{"tags":[{"key":"monorail_component", "value":"Internals>Preload"}]}, "content/browser/speech":{"tags":[{"key":"monorail_component", "value":"Blink>Speech"}]}, "content/browser/ssl":{"tags":[{"key":"monorail_component", "value":"Internals>Network>SSL"}, {"key":"team_email", "value":"trusty-transport@chromium.org"}]}, "content/browser/tracing":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}, {"key":"team_email", "value":"tracing@chromium.org"}]}, "content/browser/wake_lock":{"tags":[{"key":"monorail_component", "value":"Blink>WakeLock"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "content/browser/web_database":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>WebSQL"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "content/browser/web_package":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "content/browser/webauth":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "content/browser/webid":{"tags":[{"key":"monorail_component", "value":"Blink>Identity>WebID"}]}, "content/browser/webrtc":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "content/browser/websockets":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebSockets"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "content/browser/webtransport":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebTransport"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "content/browser/webui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "content/browser/worker_host":{"tags":[{"key":"monorail_component", "value":"Blink>Workers"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "content/browser/xr":{"tags":[{"key":"monorail_component", "value":"Internals>XR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "content/browser/zygote_host":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "content/common/android":{"tags":[{"key":"monorail_component", "value":"Content>Core"}]}, "content/common/background_fetch":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundFetch"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "content/common/input":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "content/common/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "content/common/service_worker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "content/common/web_package":{"tags":[{"key":"monorail_component", "value":"Blink>Loader>WebPackaging"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "content/common/zygote":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "content/gpu":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}]}, "content/public/android":{"tags":[{"key":"monorail_component", "value":"Content>Core"}, {"key":"os", "value":"ANDROID"}]}, "content/public/android/java/src/org/chromium/content/browser/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility>Compatibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "content/public/android/java/src/org/chromium/content/browser/font":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"team_email", "value":"clank-dev@google.com"}]}, "content/public/android/java/src/org/chromium/content/browser/input":{"tags":[{"key":"monorail_component", "value":"UI>Input>Text>IME"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "content/public/android/java/src/org/chromium/content/browser/remoteobjects":{"tags":[{"key":"monorail_component", "value":"Mobile>WebView"}, {"key":"team_email", "value":"android-webview-dev@chromium.org"}]}, "content/public/android/java/src/org/chromium/content/browser/sms":{"tags":[{"key":"monorail_component", "value":"Blink>WebOTP"}, {"key":"team_email", "value":"web-identity@google.com"}]}, "content/public/android/javatests/src/org/chromium/content/browser/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "content/public/android/javatests/src/org/chromium/content/browser/input":{"tags":[{"key":"monorail_component", "value":"UI>Input>Text>IME"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "content/public/android/javatests/src/org/chromium/content/browser/sms":{"tags":[{"key":"monorail_component", "value":"Blink>WebOTP"}, {"key":"team_email", "value":"web-identity@google.com"}]}, "content/public/android/junit/src/org/chromium/content/browser/input":{"tags":[{"key":"monorail_component", "value":"UI>Input>Text>IME"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "content/public/android/junit/src/org/chromium/content/browser/sms":{"tags":[{"key":"monorail_component", "value":"Blink>WebOTP"}, {"key":"team_email", "value":"web-identity@google.com"}]}, "content/public/browser/android":{"tags":[{"key":"monorail_component", "value":"Content>Core"}]}, "content/public/browser/zygote_host":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "content/public/common/zygote":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "content/public/test/android":{"tags":[{"key":"monorail_component", "value":"Test>Android"}, {"key":"os", "value":"ANDROID"}]}, "content/renderer/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "content/renderer/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "content/renderer/media/gpu":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Video"}]}, "content/renderer/pepper":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>Pepper"}, {"key":"team_email", "value":"pepper-dev@chromium.org"}]}, "content/renderer/service_worker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "content/renderer/worker":{"tags":[{"key":"monorail_component", "value":"Blink>Workers"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "content/services/isolated_xr_device":{"tags":[{"key":"monorail_component", "value":"Internals>XR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "content/shell":{"tags":[{"key":"monorail_component", "value":"Test"}]}, "content/shell/android":{"tags":[{"key":"monorail_component", "value":"Content>Core"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "content/shell/fuchsia":{"tags":[{"key":"monorail_component", "value":"Fuchsia"}, {"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "content/test/data/accessibility":{"tags":[{"key":"monorail_component", "value":"Internals>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "content/test/gpu":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "content/test/portal":{"tags":[{"key":"monorail_component", "value":"Blink>Portals"}]}, "content/test/ppapi":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>Pepper"}, {"key":"team_email", "value":"pepper-dev@chromium.org"}]}, "content/utility/speech":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox"}]}, "content/web_test":{"tags":[{"key":"monorail_component", "value":"Test"}]}, "content/zygote":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "courgette":{"tags":[{"key":"monorail_component", "value":"EnterpriseRetailMode"}]}, "crypto":{"tags":[{"key":"monorail_component", "value":"Internals>Network>SSL"}, {"key":"team_email", "value":"trusty-transport@chromium.org"}]}, "dbus":{"tags":[{"key":"monorail_component", "value":"OS>Systems"}]}, "device":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Device"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "device/bluetooth":{"tags":[{"key":"monorail_component", "value":"IO>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "device/bluetooth/bluez":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network>Bluetooth"}]}, "device/bluetooth/chromeos":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network>Bluetooth"}]}, "device/bluetooth/dbus":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Bluetooth"}]}, "device/bluetooth/floss":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network>Bluetooth"}]}, "device/fido":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "device/gamepad":{"tags":[{"key":"monorail_component", "value":"IO>Gamepad"}]}, "device/vr":{"tags":[{"key":"monorail_component", "value":"Internals>XR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "device/vr/android/arcore":{"tags":[{"key":"monorail_component", "value":"Blink>WebXR>AR"}, {"key":"os", "value":"ANDROID"}]}, "docs":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "docs/accessibility":{"tags":[{"key":"monorail_component", "value":"Internals>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "docs/autofill":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}]}, "docs/design":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "docs/images":{"tags":[{"key":"monorail_component", "value":"Blink>Image"}]}, "docs/infra":{"tags":[{"key":"monorail_component", "value":"Infra>Client>Chrome"}]}, "docs/login":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}]}, "docs/media":{"tags":[{"key":"monorail_component", "value":"Blink>Media"}]}, "docs/memory":{"tags":[{"key":"monorail_component", "value":"Internals>Instrumentation>Memory"}]}, "docs/memory-infra":{"tags":[{"key":"monorail_component", "value":"Internals>Instrumentation>Memory"}]}, "docs/privacy":{"tags":[{"key":"monorail_component", "value":"Privacy"}]}, "docs/privacy_budget":{"tags":[{"key":"monorail_component", "value":"Privacy>Fingerprinting"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "docs/security":{"tags":[{"key":"monorail_component", "value":"Security"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "docs/speed":{"tags":[{"key":"monorail_component", "value":"Speed"}]}, "docs/speed/benchmark":{"tags":[{"key":"monorail_component", "value":"Test>Telemetry"}]}, "docs/speed/binary_size":{"tags":[{"key":"monorail_component", "value":"Speed>Release"}]}, "docs/speed/images":{"tags":[{"key":"monorail_component", "value":"Speed>Benchmarks"}]}, "docs/speed_metrics":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}]}, "docs/standards":{"tags":[{"key":"team_email", "value":"spec-mentors@chromium.org"}]}, "docs/sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "docs/testing":{"tags":[{"key":"monorail_component", "value":"Test"}]}, "docs/ui":{"tags":[{"key":"monorail_component", "value":"UI"}]}, "docs/ui/views":{"tags":[{"key":"monorail_component", "value":"Internals>Views"}]}, "extensions":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}, {"key":"team_email", "value":"extensions-dev@chromium.org"}]}, "extensions/browser/api/automation_internal":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}]}, "extensions/browser/api/feedback_private":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Feedback"}]}, "extensions/browser/api/guest_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "extensions/browser/api/hid":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "extensions/browser/api/idle":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "extensions/browser/api/messaging":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "extensions/browser/api/printer_provider":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "extensions/browser/api/serial":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "extensions/browser/api/socket":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "extensions/browser/api/usb":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "extensions/browser/api/virtual_keyboard":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "extensions/browser/api/virtual_keyboard_private":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "extensions/browser/api/vpn_provider":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network"}]}, "extensions/browser/api/web_request":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "extensions/browser/app_window":{"tags":[{"key":"monorail_component", "value":"Platform>Apps"}]}, "extensions/browser/guest_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "extensions/common/api":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "extensions/common/guest_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "extensions/renderer/api/automation":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}]}, "extensions/renderer/guest_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "extensions/renderer/resources/automation":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}]}, "extensions/renderer/resources/guest_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "extensions/shell":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>Shell"}, {"key":"team_email", "value":"apps-dev@chromium.org"}]}, "extensions/test/data/app_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "extensions/test/data/web_view":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>BrowserTag"}]}, "fuchsia":{"tags":[{"key":"monorail_component", "value":"Fuchsia"}, {"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "gin":{"tags":[{"key":"monorail_component", "value":"Blink>Bindings"}, {"key":"team_email", "value":"blink-reviews-bindings@chromium.org"}]}, "google_apis":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}]}, "google_apis/drive":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "google_apis/gcm":{"tags":[{"key":"monorail_component", "value":"Services>CloudMessaging"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "google_apis/test":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Network"}]}, "google_update":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}, {"key":"os", "value":"WINDOWS"}]}, "gpu":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}]}, "headless":{"tags":[{"key":"monorail_component", "value":"Internals>Headless"}, {"key":"team_email", "value":"headless-dev@chromium.org"}]}, "infra":{"tags":[{"key":"monorail_component", "value":"Infra>Client>Chrome"}, {"key":"team_email", "value":"infra-dev@chromium.org"}]}, "ios":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}, {"key":"os", "value":"IOS"}, {"key":"team_email", "value":"ios-directory-owners@chromium.org"}]}, "ios/build":{"tags":[{"key":"monorail_component", "value":"Infra>Client>Chrome"}]}, "ios/chrome/browser/browser_state_metrics":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Profiles"}]}, "ios/chrome/browser/commerce":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Shopping"}]}, "ios/chrome/browser/component_updater":{"tags":[{"key":"monorail_component", "value":"Internals>Installer>Components"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "ios/chrome/browser/first_run":{"tags":[{"key":"monorail_component", "value":"UI>Browser>FirstRun"}]}, "ios/chrome/browser/gcm":{"tags":[{"key":"monorail_component", "value":"Services>CloudMessaging"}]}, "ios/chrome/browser/invalidation":{"tags":[{"key":"monorail_component", "value":"Services>Invalidation"}]}, "ios/chrome/browser/omaha":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "ios/chrome/browser/policy":{"tags":[{"key":"monorail_component", "value":"Enterprise"}]}, "ios/chrome/browser/policy_url_blocking":{"tags":[{"key":"monorail_component", "value":"Enterprise>iOS"}]}, "ios/chrome/browser/safe_browsing":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Navigation"}]}, "ios/chrome/browser/signin":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}]}, "ios/chrome/browser/ssl":{"tags":[{"key":"team_email", "value":"security-enamel@chromium.org"}]}, "ios/chrome/browser/sync":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "ios/chrome/browser/ui/authentication":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}]}, "ios/chrome/browser/ui/commerce":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Shopping"}]}, "ios/chrome/browser/ui/location_bar":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "ios/chrome/browser/ui/omnibox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "ios/chrome/browser/ui/send_tab_to_self":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "ios/chrome/browser/ui/settings/sync/utils":{"tags":[{"key":"monorail_component", "value":"Services>Sync"}]}, "ios/chrome/browser/ui/webui/gcm":{"tags":[{"key":"monorail_component", "value":"Services>CloudMessaging"}]}, "ios/chrome/browser/ui/webui/net_export":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Logging"}]}, "ios/chrome/browser/unified_consent":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}, {"key":"team_email", "value":"chrome-signin@chromium.org"}]}, "ios/chrome/browser/update_client":{"tags":[{"key":"monorail_component", "value":"Internals>Installer>Components"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "ios/chrome/content_widget_extension":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>TodayView"}]}, "ios/chrome/credential_provider_extension":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Passwords"}]}, "ios/chrome/search_widget_extension":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>TodayView"}]}, "ios/chrome/share_extension":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "ios/chrome/test":{"tags":[{"key":"monorail_component", "value":"Test"}]}, "ios/chrome/tools":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "ios/components/io_thread":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}]}, "ios/net":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Network"}]}, "ios/net/cookies":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Cookies"}]}, "ios/public/provider/chrome/browser/signin":{"tags":[{"key":"monorail_component", "value":"Services>SignIn"}]}, "ios/testing":{"tags":[{"key":"monorail_component", "value":"Test>iOS"}]}, "ios/web":{"tags":[{"key":"monorail_component", "value":"Mobile>iOSWeb"}]}, "ios/web/js_messaging":{"tags":[{"key":"monorail_component", "value":"Mobile>iOSWeb>ScriptInjections"}]}, "ios/web/navigation":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Navigation"}]}, "ios/web/session":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sessions"}]}, "ios/web/webui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "ios/web_view":{"tags":[{"key":"monorail_component", "value":"Mobile>iOSWebView"}]}, "ipc":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "jingle":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "jingle/notifier":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "media":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "media/audio":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Audio"}]}, "media/audio/fuchsia":{"tags":[{"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "media/capture/content":{"tags":[{"key":"monorail_component", "value":"Internals>Media>SurfaceCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "media/capture/video":{"tags":[{"key":"monorail_component", "value":"Internals>Media>CameraCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "media/cast":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>Streaming"}]}, "media/filters/fuchsia":{"tags":[{"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "media/midi":{"tags":[{"key":"monorail_component", "value":"Blink>WebMIDI"}, {"key":"team_email", "value":"midi-dev@chromium.org"}]}, "media/muxers":{"tags":[{"key":"monorail_component", "value":"Blink>MediaRecording"}]}, "media/remoting":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>Streaming"}]}, "media/webrtc":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC>Audio"}]}, "mojo":{"tags":[{"key":"monorail_component", "value":"Internals>Mojo"}]}, "native_client":{"tags":[{"key":"monorail_component", "value":"Platform>NaCl"}]}, "native_client_sdk":{"tags":[{"key":"monorail_component", "value":"Platform>NaCl"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "net":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "net/cert":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Certificate"}]}, "net/cert_net":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Certificate"}, {"key":"team_email", "value":"trusty-transport@chromium.org"}]}, "net/cookies":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Cookies"}]}, "net/data/websocket":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebSockets"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "net/der":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Certificate"}]}, "net/disk_cache":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Cache"}]}, "net/disk_cache/simple":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Cache>Simple"}]}, "net/dns":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DNS"}]}, "net/extras/sqlite":{"tags":[{"key":"monorail_component", "value":"Internals>Storage"}]}, "net/filter":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Filters"}]}, "net/ftp":{"tags":[{"key":"monorail_component", "value":"Internals>Network>FTP"}]}, "net/log":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Logging"}]}, "net/network_error_logging":{"tags":[{"key":"monorail_component", "value":"Internals>Network>ReportingAndNEL"}]}, "net/nqe":{"tags":[{"key":"monorail_component", "value":"Internals>Network>NetworkQuality"}]}, "net/ntlm":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Auth"}]}, "net/proxy_resolution":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Proxy"}]}, "net/quic":{"tags":[{"key":"monorail_component", "value":"Internals>Network>QUIC"}]}, "net/reporting":{"tags":[{"key":"monorail_component", "value":"Internals>Network>ReportingAndNEL"}]}, "net/spdy":{"tags":[{"key":"monorail_component", "value":"Internals>Network>HTTP2"}]}, "net/ssl":{"tags":[{"key":"monorail_component", "value":"Internals>Network>SSL"}, {"key":"team_email", "value":"trusty-transport@chromium.org"}]}, "net/third_party/nss":{"tags":[{"key":"monorail_component", "value":"Internals>Network>SSL"}, {"key":"team_email", "value":"trusty-transport@chromium.org"}]}, "net/third_party/quiche":{"tags":[{"key":"monorail_component", "value":"Internals>Network>QUIC"}]}, "net/third_party/uri_template":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DNS"}]}, "net/tools/quic":{"tags":[{"key":"monorail_component", "value":"Internals>Network>QUIC"}]}, "net/websockets":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebSockets"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "pdf":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>PDF"}]}, "ppapi":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>Pepper"}, {"key":"team_email", "value":"pepper-dev@chromium.org"}]}, "ppapi/nacl_irt":{"tags":[{"key":"monorail_component", "value":"Platform>NaCl"}]}, "printing":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "remoting":{"tags":[{"key":"monorail_component", "value":"Services>Chromoting"}, {"key":"team_email", "value":"chromoting-team@google.com"}]}, "rlz":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "sandbox":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "services":{"tags":[{"key":"monorail_component", "value":"Internals>Services"}]}, "services/audio":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Audio"}]}, "services/content":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Content"}]}, "services/data_decoder":{"tags":[{"key":"monorail_component", "value":"Internals>Mojo>Bindings"}, {"key":"team_email", "value":"chrome-security@google.com"}]}, "services/device":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Device"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "services/device/bluetooth":{"tags":[{"key":"monorail_component", "value":"IO>Bluetooth"}]}, "services/device/fingerprint":{"tags":[{"key":"monorail_component", "value":"UI>Shell>LockScreen"}]}, "services/device/generic_sensor":{"tags":[{"key":"monorail_component", "value":"Blink>Sensor"}]}, "services/device/geolocation":{"tags":[{"key":"monorail_component", "value":"Blink>Geolocation"}]}, "services/device/nfc":{"tags":[{"key":"monorail_component", "value":"Blink>NFC"}]}, "services/device/screen_orientation":{"tags":[{"key":"monorail_component", "value":"Blink>ScreenOrientation"}]}, "services/device/usb":{"tags":[{"key":"monorail_component", "value":"IO>USB"}]}, "services/device/vibration":{"tags":[{"key":"monorail_component", "value":"Blink>Vibration"}]}, "services/device/wake_lock/power_save_blocker":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "services/media_session":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Session"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "services/metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}]}, "services/network":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Network"}]}, "services/network/cors":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>CORS"}]}, "services/network/origin_policy":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature"}]}, "services/network/p2p":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "services/network/public/cpp/cert_verifier":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Certificate"}, {"key":"team_email", "value":"trusty-transport@chromium.org"}]}, "services/network/resource_scheduler":{"tags":[{"key":"monorail_component", "value":"Internals>Network>NetworkQuality"}]}, "services/network/sct_auditing":{"tags":[{"key":"monorail_component", "value":"Internals>Network>CertTrans"}]}, "services/preferences":{"tags":[{"key":"monorail_component", "value":"Internals>Preferences>Service"}]}, "services/proxy_resolver":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Proxy"}]}, "services/resource_coordinator":{"tags":[{"key":"monorail_component", "value":"Internals>PerformanceManager"}, {"key":"team_email", "value":"catan-team@chromium.org"}]}, "services/resource_coordinator/memory_instrumentation":{"tags":[{"key":"monorail_component", "value":"Internals>Instrumentation>Memory"}]}, "services/shape_detection":{"tags":[{"key":"monorail_component", "value":"Blink>ShapeDetection"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "services/test/data":{"tags":[{"key":"monorail_component", "value":"Test"}]}, "services/tracing":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}]}, "services/video_capture":{"tags":[{"key":"monorail_component", "value":"Internals>Media>CameraCapture"}, {"key":"team_email", "value":"media-capture-dev@chromium.org"}]}, "services/viz":{"tags":[{"key":"monorail_component", "value":"Internals>Services>Viz"}]}, "services/viz/public/cpp/gpu":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}]}, "skia":{"tags":[{"key":"monorail_component", "value":"Internals>Skia"}]}, "sql":{"tags":[{"key":"monorail_component", "value":"Internals>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "storage/browser/blob":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileAPI"}]}, "storage/browser/database":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>WebSQL"}]}, "storage/browser/file_system":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}]}, "storage/browser/quota":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>Quota"}]}, "storage/common/database":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>WebSQL"}]}, "storage/common/file_system":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}]}, "styleguide":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "styleguide/java":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "styleguide/python":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "testing":{"tags":[{"key":"monorail_component", "value":"Test"}, {"key":"team_email", "value":"infra-dev@chromium.org"}]}, "testing/android":{"tags":[{"key":"monorail_component", "value":"Test>Android"}, {"key":"os", "value":"ANDROID"}]}, "testing/buildbot":{"tags":[{"key":"monorail_component", "value":"Infra>Client>Chrome"}]}, "testing/chromoting":{"tags":[{"key":"monorail_component", "value":"Services>Chromoting"}]}, "testing/clusterfuzz":{"tags":[{"key":"monorail_component", "value":"Tools>Stability>Clusterfuzz"}]}, "testing/scripts":{"tags":[{"key":"monorail_component", "value":"Infra>Client>Chrome"}]}, "testing/variations":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics>Variations"}]}, "third_party/Python-Markdown":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/abseil-cpp":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "third_party/accessibility-audit":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "third_party/accessibility_test_framework":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/afl":{"tags":[{"key":"monorail_component", "value":"Tools>Stability>AFL"}, {"key":"team_email", "value":"chrome-security-bugs--@chromium.org"}]}, "third_party/android_build_tools/aapt2":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/android_build_tools/art":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/android_crazy_linker":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/android_crazy_linker/src":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/android_data_chart":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataProxy"}, {"key":"os", "value":"ANDROID"}]}, "third_party/android_deps":{"tags":[{"key":"monorail_component", "value":"Tools"}, {"key":"os", "value":"ANDROID"}]}, "third_party/android_media":{"tags":[{"key":"monorail_component", "value":"Internals>Media>UI"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/android_opengl":{"tags":[{"key":"monorail_component", "value":"Mobile"}, {"key":"os", "value":"ANDROID"}]}, "third_party/android_platform":{"tags":[{"key":"monorail_component", "value":"Infra>Client>Android"}]}, "third_party/android_protobuf":{"tags":[{"key":"monorail_component", "value":"Internals"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "third_party/android_provider":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Downloads"}, {"key":"team_email", "value":"chrome-downloads@chromium.org"}]}, "third_party/android_sdk":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/android_support_test_runner":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/android_swipe_refresh":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}]}, "third_party/android_swipe_refresh/java":{"tags":[{"key":"os", "value":"ANDROID"}]}, "third_party/android_system_sdk":{"tags":[{"key":"monorail_component", "value":"Mobile>WebView"}, {"key":"team_email", "value":"android-webview-dev@chromium.org"}]}, "third_party/androidx":{"tags":[{"key":"monorail_component", "value":"Tools"}, {"key":"os", "value":"ANDROID"}]}, "third_party/angle":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>ANGLE"}, {"key":"team_email", "value":"angleproject@googlegroups.com"}]}, "third_party/angle/third_party/android_system_sdk":{"tags":[{"key":"monorail_component", "value":"Mobile>WebView"}, {"key":"team_email", "value":"android-webview-dev@chromium.org"}]}, "third_party/angle/third_party/bazel":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/angle/third_party/colorama":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/angle/third_party/proguard":{"tags":[{"key":"monorail_component", "value":"Infra"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "third_party/angle/third_party/r8":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/apache-mac":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}]}, "third_party/apache-portable-runtime":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Library"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "third_party/apache-win32":{"tags":[{"key":"monorail_component", "value":"Blink>Infra"}, {"key":"team_email", "value":"blink-infra@chromium.org"}]}, "third_party/apple_apsl":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/arcore-android-sdk":{"tags":[{"key":"monorail_component", "value":"Internals>XR>AR"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "third_party/arcore-android-sdk-client":{"tags":[{"key":"monorail_component", "value":"Internals>XR>AR"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "third_party/ashmem":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "third_party/axe-core":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}]}, "third_party/bazel":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/blanketjs":{"tags":[{"key":"monorail_component", "value":"Internals"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "third_party/blink":{"tags":[{"key":"monorail_component", "value":"Blink"}]}, "third_party/blink/common/blob":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/common/bluetooth":{"tags":[{"key":"monorail_component", "value":"Blink>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "third_party/blink/common/fetch":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/common/font_unique_name_lookup":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "third_party/blink/common/indexeddb":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>IndexedDB"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/common/loader":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/blink/common/manifest":{"tags":[{"key":"monorail_component", "value":"Blink>AppManifest"}]}, "third_party/blink/common/media":{"tags":[{"key":"monorail_component", "value":"Blink>Media"}]}, "third_party/blink/common/mediastream":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/common/messaging":{"tags":[{"key":"monorail_component", "value":"Blink>Messaging"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/blink/common/mime_util":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}]}, "third_party/blink/common/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/common/origin_trials":{"tags":[{"key":"monorail_component", "value":"Internals>OriginTrials"}, {"key":"team_email", "value":"experimentation-dev@chromium.org"}]}, "third_party/blink/common/permissions":{"tags":[{"key":"monorail_component", "value":"Blink>PermissionsAPI"}]}, "third_party/blink/common/permissions_policy":{"tags":[{"key":"monorail_component", "value":"Blink>FeaturePolicy"}]}, "third_party/blink/common/privacy_budget":{"tags":[{"key":"monorail_component", "value":"Privacy>Fingerprinting"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "third_party/blink/common/service_worker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/common/storage_key":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/perf_tests":{"tags":[{"key":"monorail_component", "value":"Speed>Benchmark"}, {"key":"team_email", "value":"benchmarking-dev@chromium.org"}]}, "third_party/blink/public":{"tags":[{"key":"monorail_component", "value":"Blink>Internals>Modularization"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/blink/public/common/blob":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/common/bluetooth":{"tags":[{"key":"monorail_component", "value":"Blink>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "third_party/blink/public/common/cache_storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>CacheStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/common/css":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/public/common/fetch":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/public/common/font_access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FontAccess"}]}, "third_party/blink/public/common/font_unique_name_lookup":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "third_party/blink/public/common/indexeddb":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>IndexedDB"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/common/loader":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/blink/public/common/manifest":{"tags":[{"key":"monorail_component", "value":"Blink>AppManifest"}]}, "third_party/blink/public/common/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "third_party/blink/public/common/mediastream":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/public/common/messaging":{"tags":[{"key":"monorail_component", "value":"Blink>Messaging"}]}, "third_party/blink/public/common/mime_util":{"tags":[{"key":"monorail_component", "value":"Internals>Network"}]}, "third_party/blink/public/common/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/public/common/permissions":{"tags":[{"key":"monorail_component", "value":"Blink>PermissionsAPI"}]}, "third_party/blink/public/common/permissions_policy":{"tags":[{"key":"monorail_component", "value":"Blink>FeaturePolicy"}]}, "third_party/blink/public/common/privacy_budget":{"tags":[{"key":"monorail_component", "value":"Privacy>Fingerprinting"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "third_party/blink/public/common/service_worker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/public/common/sms":{"tags":[{"key":"monorail_component", "value":"Blink>SMS"}, {"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "third_party/blink/public/common/storage_key":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/devtools_protocol":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools>Platform"}]}, "third_party/blink/public/mojom/appcache":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>AppCache"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/array_buffer":{"tags":[{"key":"monorail_component", "value":"Blink>Messaging"}]}, "third_party/blink/public/mojom/background_fetch":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundFetch"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/public/mojom/background_sync":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundSync"}]}, "third_party/blink/public/mojom/badging":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "third_party/blink/public/mojom/blob":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/bluetooth":{"tags":[{"key":"monorail_component", "value":"Blink>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "third_party/blink/public/mojom/cache_storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>CacheStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/compute_pressure":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs>ComputePressure"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/contacts":{"tags":[{"key":"monorail_component", "value":"Blink>Contacts"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/public/mojom/content_index":{"tags":[{"key":"monorail_component", "value":"Blink>ContentIndexing"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/public/mojom/cookie_store":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>CookiesAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/credentialmanager":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>CredentialManagement"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "third_party/blink/public/mojom/devtools":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools"}, {"key":"team_email", "value":"devtools-dev@chromium.org"}]}, "third_party/blink/public/mojom/digital_goods":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls>ChromeOS"}]}, "third_party/blink/public/mojom/dom_storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>DOMStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/dwrite_font_proxy":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "third_party/blink/public/mojom/fetch":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/public/mojom/file_system_access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/filesystem":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/font_access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FontAccess"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/handwriting":{"tags":[{"key":"monorail_component", "value":"Blink>Accessibility"}]}, "third_party/blink/public/mojom/hid":{"tags":[{"key":"monorail_component", "value":"Blink>HID"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/public/mojom/hyphenation":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/public/mojom/idle":{"tags":[{"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "third_party/blink/public/mojom/indexeddb":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>IndexedDB"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/installedapp":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>AppLauncher>Install"}]}, "third_party/blink/public/mojom/keyboard_lock":{"tags":[{"key":"monorail_component", "value":"Services>Chromoting"}]}, "third_party/blink/public/mojom/leak_detector":{"tags":[{"key":"monorail_component", "value":"Blink>MemoryAllocator"}]}, "third_party/blink/public/mojom/link_to_text":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing"}]}, "third_party/blink/public/mojom/loader":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/blink/public/mojom/locks":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/manifest":{"tags":[{"key":"monorail_component", "value":"Blink>AppManifest"}]}, "third_party/blink/public/mojom/mediastream":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/public/mojom/messaging":{"tags":[{"key":"monorail_component", "value":"Blink>Messaging"}]}, "third_party/blink/public/mojom/native_io":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>NativeIO"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/public/mojom/optimization_guide":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/blink/public/mojom/payments":{"tags":[{"key":"monorail_component", "value":"Blink>Payments"}, {"key":"team_email", "value":"payments-dev@chromium.org"}]}, "third_party/blink/public/mojom/permissions":{"tags":[{"key":"monorail_component", "value":"Blink>PermissionsAPI"}]}, "third_party/blink/public/mojom/permissions_policy":{"tags":[{"key":"monorail_component", "value":"Blink>FeaturePolicy"}]}, "third_party/blink/public/mojom/prerender":{"tags":[{"key":"monorail_component", "value":"Internals>Preload>Prerender"}]}, "third_party/blink/public/mojom/push_messaging":{"tags":[{"key":"monorail_component", "value":"Blink>PushAPI"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/public/mojom/quota":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>Quota"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/screen_enumeration":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/script":{"tags":[{"key":"monorail_component", "value":"Blink>HTML>Script"}, {"key":"team_email", "value":"module-dev@chromium.org"}]}, "third_party/blink/public/mojom/serial":{"tags":[{"key":"monorail_component", "value":"Blink>Serial"}]}, "third_party/blink/public/mojom/service_worker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/public/mojom/speech":{"tags":[{"key":"monorail_component", "value":"Blink>Speech"}]}, "third_party/blink/public/mojom/storage_key":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/public/mojom/subapps":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls>Desktop"}]}, "third_party/blink/public/mojom/timing":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/public/mojom/use_counter":{"tags":[{"key":"monorail_component", "value":"Blink>UseCounter"}]}, "third_party/blink/public/mojom/webaudio":{"tags":[{"key":"monorail_component", "value":"Blink>WebAudio"}]}, "third_party/blink/public/mojom/webid":{"tags":[{"key":"monorail_component", "value":"Blink>Identity>WebID"}]}, "third_party/blink/public/mojom/websockets":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebSockets"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/public/mojom/webtransport":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebTransport"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/public/mojom/worker":{"tags":[{"key":"monorail_component", "value":"Blink>Worker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/public/platform/audio":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "third_party/blink/public/platform/modules/mediastream":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/public/platform/modules/service_worker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/public/platform/modules/webrtc":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "third_party/blink/public/platform/scheduler":{"tags":[{"key":"monorail_component", "value":"Blink>Scheduling"}, {"key":"team_email", "value":"scheduler-dev@chromium.org"}]}, "third_party/blink/public/web/modules/autofill":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}]}, "third_party/blink/public/web/modules/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "third_party/blink/public/web/modules/mediastream":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/public/web/modules/service_worker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/renderer/bindings":{"tags":[{"key":"monorail_component", "value":"Blink>Bindings"}, {"key":"team_email", "value":"blink-reviews-bindings@chromium.org"}]}, "third_party/blink/renderer/controller":{"tags":[{"key":"monorail_component", "value":"Blink>Internals>Modularization"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/blink/renderer/core":{"tags":[{"key":"team_email", "value":"blink-dev@chromium.org"}]}, "third_party/blink/renderer/core/accessibility":{"tags":[{"key":"monorail_component", "value":"Blink>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "third_party/blink/renderer/core/animation":{"tags":[{"key":"monorail_component", "value":"Blink>Animation"}, {"key":"team_email", "value":"animations-dev@chromium.org"}]}, "third_party/blink/renderer/core/animation_frame":{"tags":[{"key":"monorail_component", "value":"Blink>Canvas"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/renderer/core/aom":{"tags":[{"key":"monorail_component", "value":"Blink>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "third_party/blink/renderer/core/clipboard":{"tags":[{"key":"monorail_component", "value":"Blink>DataTransfer"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/core/css":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/renderer/core/dom":{"tags":[{"key":"monorail_component", "value":"Blink>DOM"}, {"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/renderer/core/editing":{"tags":[{"key":"monorail_component", "value":"Blink>Editing"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/renderer/core/execution_context":{"tags":[{"key":"monorail_component", "value":"Blink>Internals>Frames"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/blink/renderer/core/fetch":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/renderer/core/fileapi":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/core/frame":{"tags":[{"key":"monorail_component", "value":"Blink>Internals>Frames"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/blink/renderer/core/fullscreen":{"tags":[{"key":"monorail_component", "value":"Blink>Fullscreen"}]}, "third_party/blink/renderer/core/html":{"tags":[{"key":"monorail_component", "value":"Blink>HTML"}, {"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/renderer/core/html/canvas":{"tags":[{"key":"monorail_component", "value":"Blink>Canvas"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/renderer/core/html/forms":{"tags":[{"key":"monorail_component", "value":"Blink>Forms"}]}, "third_party/blink/renderer/core/html/media":{"tags":[{"key":"monorail_component", "value":"Blink>Media"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/renderer/core/html/parser":{"tags":[{"key":"monorail_component", "value":"Blink>HTML>Parser"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/blink/renderer/core/html/portal":{"tags":[{"key":"monorail_component", "value":"Blink>Portals"}]}, "third_party/blink/renderer/core/html/track":{"tags":[{"key":"monorail_component", "value":"Blink>Media>Track"}]}, "third_party/blink/renderer/core/imagebitmap":{"tags":[{"key":"monorail_component", "value":"Blink>Canvas"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/renderer/core/inspector":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools"}]}, "third_party/blink/renderer/core/layout":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/renderer/core/layout/svg":{"tags":[{"key":"monorail_component", "value":"Blink>SVG"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/renderer/core/loader":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/blink/renderer/core/loader/appcache":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>AppCache"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/core/messaging":{"tags":[{"key":"monorail_component", "value":"Blink>Messaging"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/blink/renderer/core/mojo":{"tags":[{"key":"monorail_component", "value":"Internals>Mojo"}]}, "third_party/blink/renderer/core/offscreencanvas":{"tags":[{"key":"monorail_component", "value":"Blink>Canvas"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/renderer/core/paint":{"tags":[{"key":"monorail_component", "value":"Blink>Paint"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/renderer/core/paint/compositing":{"tags":[{"key":"monorail_component", "value":"Blink>Compositing"}]}, "third_party/blink/renderer/core/resize_observer":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/renderer/core/script":{"tags":[{"key":"monorail_component", "value":"Blink>HTML>Script"}, {"key":"team_email", "value":"module-dev@chromium.org"}]}, "third_party/blink/renderer/core/speculation_rules":{"tags":[{"key":"monorail_component", "value":"Internals>Preload"}]}, "third_party/blink/renderer/core/streams":{"tags":[{"key":"monorail_component", "value":"Blink>Network>StreamsAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/renderer/core/style":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/renderer/core/svg":{"tags":[{"key":"monorail_component", "value":"Blink>SVG"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/renderer/core/timing":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/renderer/core/trustedtypes":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature"}]}, "third_party/blink/renderer/core/url":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/renderer/core/workers":{"tags":[{"key":"monorail_component", "value":"Blink>Workers"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/renderer/core/xml":{"tags":[{"key":"monorail_component", "value":"Blink>XML"}]}, "third_party/blink/renderer/core/xmlhttprequest":{"tags":[{"key":"monorail_component", "value":"Blink>Network>XHR"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/renderer/extensions":{"tags":[{"key":"monorail_component", "value":"Blink>Internals>Modularization"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/blink/renderer/modules":{"tags":[{"key":"monorail_component", "value":"Blink>Internals>Modularization"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/blink/renderer/modules/accessibility":{"tags":[{"key":"monorail_component", "value":"Blink>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "third_party/blink/renderer/modules/animationworklet":{"tags":[{"key":"monorail_component", "value":"Internals>Compositing>Animation"}, {"key":"team_email", "value":"threaded-rendering-dev@chromium.org"}]}, "third_party/blink/renderer/modules/app_banner":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "third_party/blink/renderer/modules/audio_output_devices":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "third_party/blink/renderer/modules/background_fetch":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundFetch"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/renderer/modules/background_sync":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundSync"}]}, "third_party/blink/renderer/modules/badging":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "third_party/blink/renderer/modules/beacon":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/renderer/modules/bluetooth":{"tags":[{"key":"monorail_component", "value":"Blink>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "third_party/blink/renderer/modules/broadcastchannel":{"tags":[{"key":"monorail_component", "value":"Blink>Messaging"}]}, "third_party/blink/renderer/modules/cache_storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>CacheStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/canvas":{"tags":[{"key":"monorail_component", "value":"Blink>Canvas"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/renderer/modules/clipboard":{"tags":[{"key":"monorail_component", "value":"Blink>DataTransfer"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/compression":{"tags":[{"key":"monorail_component", "value":"Blink>Network>StreamsAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/renderer/modules/compute_pressure":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs>ComputePressure"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/contacts_picker":{"tags":[{"key":"monorail_component", "value":"Blink>Contacts"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/renderer/modules/content_index":{"tags":[{"key":"monorail_component", "value":"Blink>ContentIndexing"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/renderer/modules/cookie_store":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>CookiesAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/credentialmanager":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>CredentialManagement"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "third_party/blink/renderer/modules/crypto":{"tags":[{"key":"monorail_component", "value":"Blink>WebCrypto"}]}, "third_party/blink/renderer/modules/csspaint":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/renderer/modules/device_orientation":{"tags":[{"key":"monorail_component", "value":"Blink>Sensor>DeviceOrientation"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/renderer/modules/device_posture":{"tags":[{"key":"monorail_component", "value":"Blink>FoldableAPIs"}]}, "third_party/blink/renderer/modules/direct_sockets":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}]}, "third_party/blink/renderer/modules/document_metadata":{"tags":[{"key":"monorail_component", "value":"Blink>Media>Session"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/renderer/modules/encoding":{"tags":[{"key":"monorail_component", "value":"Blink>TextEncoding"}]}, "third_party/blink/renderer/modules/encryptedmedia":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Encrypted"}]}, "third_party/blink/renderer/modules/eventsource":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/renderer/modules/file_system_access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/filesystem":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/font_access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FontAccess"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/gamepad":{"tags":[{"key":"monorail_component", "value":"IO>Gamepad"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/renderer/modules/geolocation":{"tags":[{"key":"monorail_component", "value":"Blink>Geolocation"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/renderer/modules/hid":{"tags":[{"key":"monorail_component", "value":"Blink>HID"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/renderer/modules/idle":{"tags":[{"key":"team_email", "value":"fugu-dev@chromium.org"}]}, "third_party/blink/renderer/modules/imagecapture":{"tags":[{"key":"monorail_component", "value":"Blink>ImageCapture"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/renderer/modules/indexeddb":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>IndexedDB"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/installedapp":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>AppLauncher>Install"}]}, "third_party/blink/renderer/modules/launch":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls"}, {"key":"team_email", "value":"pwa-dev@chromium.org"}]}, "third_party/blink/renderer/modules/lock_screen":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls>ChromeOS"}]}, "third_party/blink/renderer/modules/locks":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/manifest":{"tags":[{"key":"monorail_component", "value":"Blink>AppManifest"}]}, "third_party/blink/renderer/modules/media":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "third_party/blink/renderer/modules/media_capabilities":{"tags":[{"key":"monorail_component", "value":"Blink>Media>Capabilities"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/renderer/modules/media_controls":{"tags":[{"key":"monorail_component", "value":"Blink>Media>Controls"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/renderer/modules/mediacapturefromelement":{"tags":[{"key":"monorail_component", "value":"Blink>MediaStream>CaptureFromElement"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/renderer/modules/mediarecorder":{"tags":[{"key":"monorail_component", "value":"Blink>MediaRecording"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/renderer/modules/mediasession":{"tags":[{"key":"monorail_component", "value":"Blink>Media>Session"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/renderer/modules/mediasource":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Source"}]}, "third_party/blink/renderer/modules/mediastream":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/renderer/modules/native_io":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>NativeIO"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/navigatorcontentutils":{"tags":[{"key":"monorail_component", "value":"Blink>HTML>CustomHandlers"}]}, "third_party/blink/renderer/modules/netinfo":{"tags":[{"key":"monorail_component", "value":"Internals>Network>NetInfo"}]}, "third_party/blink/renderer/modules/nfc":{"tags":[{"key":"monorail_component", "value":"Blink>NFC"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/renderer/modules/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/renderer/modules/payments":{"tags":[{"key":"monorail_component", "value":"Blink>Payments"}, {"key":"team_email", "value":"payments-dev@chromium.org"}]}, "third_party/blink/renderer/modules/payments/goods":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls>ChromeOS"}]}, "third_party/blink/renderer/modules/peerconnection":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "third_party/blink/renderer/modules/permissions":{"tags":[{"key":"monorail_component", "value":"Blink>PermissionsAPI"}]}, "third_party/blink/renderer/modules/picture_in_picture":{"tags":[{"key":"monorail_component", "value":"Blink>Media>PictureInPicture"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/renderer/modules/presentation":{"tags":[{"key":"monorail_component", "value":"Blink>PresentationAPI"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/renderer/modules/push_messaging":{"tags":[{"key":"monorail_component", "value":"Blink>PushAPI"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/renderer/modules/quota":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>Quota"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/remoteplayback":{"tags":[{"key":"monorail_component", "value":"Blink>Media>RemotePlayback"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/renderer/modules/sanitizer_api":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>SanitizerAPI"}]}, "third_party/blink/renderer/modules/screen_enumeration":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/screen_orientation":{"tags":[{"key":"monorail_component", "value":"Blink>ScreenOrientation"}]}, "third_party/blink/renderer/modules/sensor":{"tags":[{"key":"monorail_component", "value":"Blink>Sensor"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/renderer/modules/serial":{"tags":[{"key":"monorail_component", "value":"Blink>Serial"}]}, "third_party/blink/renderer/modules/service_worker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/renderer/modules/shapedetection":{"tags":[{"key":"monorail_component", "value":"Blink>ShapeDetection"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/renderer/modules/speech":{"tags":[{"key":"monorail_component", "value":"Blink>Speech"}]}, "third_party/blink/renderer/modules/srcobject":{"tags":[{"key":"monorail_component", "value":"Blink>Media"}]}, "third_party/blink/renderer/modules/storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>DOMStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/subapps":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebAppInstalls>Desktop"}]}, "third_party/blink/renderer/modules/url_pattern":{"tags":[{"key":"monorail_component", "value":"Blink>URLPattern"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/renderer/modules/vibration":{"tags":[{"key":"monorail_component", "value":"Blink>Vibration"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/renderer/modules/wake_lock":{"tags":[{"key":"monorail_component", "value":"Blink>WakeLock"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/renderer/modules/webaudio":{"tags":[{"key":"monorail_component", "value":"Blink>WebAudio"}]}, "third_party/blink/renderer/modules/webcodecs":{"tags":[{"key":"monorail_component", "value":"Blink>Media>WebCodecs"}]}, "third_party/blink/renderer/modules/webdatabase":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>WebSQL"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/modules/webgl":{"tags":[{"key":"monorail_component", "value":"Blink>WebGL"}]}, "third_party/blink/renderer/modules/webgpu":{"tags":[{"key":"monorail_component", "value":"Blink>WebGPU"}]}, "third_party/blink/renderer/modules/webid":{"tags":[{"key":"monorail_component", "value":"Blink>Identity>WebID"}]}, "third_party/blink/renderer/modules/webmidi":{"tags":[{"key":"monorail_component", "value":"Blink>WebMIDI"}, {"key":"team_email", "value":"midi-dev@chromium.org"}]}, "third_party/blink/renderer/modules/webrtc":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/renderer/modules/websockets":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebSockets"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/renderer/modules/webtransport":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebTransport"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/renderer/modules/webusb":{"tags":[{"key":"monorail_component", "value":"Blink>USB"}, {"key":"team_email", "value":"webusb@chromium.org"}]}, "third_party/blink/renderer/modules/xr":{"tags":[{"key":"monorail_component", "value":"Blink>WebXR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "third_party/blink/renderer/platform":{"tags":[{"key":"monorail_component", "value":"Platform"}]}, "third_party/blink/renderer/platform/animation":{"tags":[{"key":"monorail_component", "value":"Blink>Animation"}, {"key":"team_email", "value":"animations-dev@chromium.org"}]}, "third_party/blink/renderer/platform/audio":{"tags":[{"key":"monorail_component", "value":"Blink>WebAudio"}]}, "third_party/blink/renderer/platform/bindings":{"tags":[{"key":"monorail_component", "value":"Blink>Bindings"}, {"key":"team_email", "value":"blink-reviews-bindings@chromium.org"}]}, "third_party/blink/renderer/platform/blob":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/renderer/platform/exported/mediastream":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/renderer/platform/graphics":{"tags":[{"key":"monorail_component", "value":"Blink>Paint"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/renderer/platform/graphics/gpu":{"tags":[{"key":"monorail_component", "value":"Blink>WebGL"}]}, "third_party/blink/renderer/platform/heap":{"tags":[{"key":"monorail_component", "value":"Blink>MemoryAllocator>GarbageCollection"}, {"key":"team_email", "value":"oilpan-reviews@chromium.org"}]}, "third_party/blink/renderer/platform/image-decoders":{"tags":[{"key":"monorail_component", "value":"Internals>Images>Codecs"}]}, "third_party/blink/renderer/platform/instrumentation":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}, {"key":"team_email", "value":"tracing@chromium.org"}]}, "third_party/blink/renderer/platform/json":{"tags":[{"key":"monorail_component", "value":"Blink>Internals>WTF"}]}, "third_party/blink/renderer/platform/loader":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/blink/renderer/platform/mediastream":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/renderer/platform/p2p":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "third_party/blink/renderer/platform/peerconnection":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "third_party/blink/renderer/platform/privacy_budget":{"tags":[{"key":"monorail_component", "value":"Privacy>Fingerprinting"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "third_party/blink/renderer/platform/scheduler":{"tags":[{"key":"monorail_component", "value":"Blink>Scheduling"}, {"key":"team_email", "value":"scheduler-dev@chromium.org"}]}, "third_party/blink/renderer/platform/video_capture":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia>Webcam"}]}, "third_party/blink/renderer/platform/weborigin":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/blink/renderer/platform/webrtc":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "third_party/blink/renderer/platform/widget/input":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/renderer/platform/wtf":{"tags":[{"key":"monorail_component", "value":"Blink>Internals>WTF"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/blink/tools":{"tags":[{"key":"monorail_component", "value":"Blink>Infra"}, {"key":"team_email", "value":"blink-infra@chromium.org"}]}, "third_party/blink/tools/blinkpy/bindings":{"tags":[{"key":"monorail_component", "value":"Blink>Bindings"}, {"key":"team_email", "value":"blink-reviews-bindings@chromium.org"}]}, "third_party/blink/web_tests/animations":{"tags":[{"key":"monorail_component", "value":"Blink>Animation"}, {"key":"team_email", "value":"animations-dev@chromium.org"}]}, "third_party/blink/web_tests/animations/animationworklet":{"tags":[{"key":"team_email", "value":"threaded-rendering-dev@chromium.org"}]}, "third_party/blink/web_tests/clipboard/async-clipboard":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>DataTransfer"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/compositing":{"tags":[{"key":"monorail_component", "value":"Blink>Compositing"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/compositing/animation":{"tags":[{"key":"monorail_component", "value":"Blink>Animation"}, {"key":"team_email", "value":"animations-dev@chromium.org"}]}, "third_party/blink/web_tests/css-parser":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css1/basic":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css1/box_properties":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css1/cascade":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css1/classification":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css1/color_and_background":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css1/conformance":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css1/font_properties":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css1/pseudo":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css1/text_properties":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css1/units":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css2.1":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css3":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/css3/flexbox":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Flexbox"}]}, "third_party/blink/web_tests/css3/fonts":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "third_party/blink/web_tests/cssom":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/custom-properties":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/editing":{"tags":[{"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external":{"tags":[{"key":"monorail_component", "value":"Blink>Infra>Ecosystem"}, {"key":"team_email", "value":"ecosystem-infra@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/FileAPI":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/IndexedDB":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>IndexedDB"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/WebCryptoAPI":{"tags":[{"key":"monorail_component", "value":"Blink>WebCrypto"}]}, "third_party/blink/web_tests/external/wpt/background-fetch":{"tags":[{"key":"monorail_component", "value":"Blink>BackgroundFetch"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/battery-status":{"tags":[{"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/bluetooth":{"tags":[{"key":"monorail_component", "value":"Blink>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/clear-site-data":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/client-hints":{"tags":[{"key":"monorail_component", "value":"Blink>Loader"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/clipboard-apis":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>DataTransfer"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/compat":{}, "third_party/blink/web_tests/external/wpt/compute-pressure":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs>ComputePressure"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/contacts":{"tags":[{"key":"monorail_component", "value":"Blink>Contacts"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/content-security-policy":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>ContentSecurityPolicy"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/cookie-store":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>CookiesAPI"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/cookies":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Cookies"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/cors":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>CORS"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/css":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/css/CSS2":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-align":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-backgrounds":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-break":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-contain":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-display":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-flexbox":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Flexbox"}]}, "third_party/blink/web_tests/external/wpt/css/css-font-loading":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "third_party/blink/web_tests/external/wpt/css/css-fonts":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "third_party/blink/web_tests/external/wpt/css/css-grid":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Grid"}]}, "third_party/blink/web_tests/external/wpt/css/css-layout-api":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-logical":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-masking":{"tags":[{"key":"monorail_component", "value":"Blink>Paint"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/css/css-multicol":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>MultiCol"}]}, "third_party/blink/web_tests/external/wpt/css/css-position":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-scroll-anchoring":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-shapes":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Shape"}]}, "third_party/blink/web_tests/external/wpt/css/css-sizing":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-tables":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Table"}]}, "third_party/blink/web_tests/external/wpt/css/css-text":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-text-decor":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-transforms":{"tags":[{"key":"monorail_component", "value":"Blink>Transforms"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/css/css-ui":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/css-writing-modes":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>WritingMode"}]}, "third_party/blink/web_tests/external/wpt/css/filter-effects":{"tags":[{"key":"monorail_component", "value":"Blink>Paint"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/css/geometry":{"tags":[{"key":"monorail_component", "value":"Blink>Geometry"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/css/vendor-imports/mozilla/mozilla-central-reftests":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/external/wpt/css/vendor-imports/mozilla/mozilla-central-reftests/flexbox":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Flexbox"}]}, "third_party/blink/web_tests/external/wpt/css/vendor-imports/mozilla/mozilla-central-reftests/shapes1":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Shape"}]}, "third_party/blink/web_tests/external/wpt/custom-elements":{"tags":[{"key":"monorail_component", "value":"Blink>HTML>CustomElements"}, {"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/device-memory":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/dom":{"tags":[{"key":"monorail_component", "value":"Blink>DOM"}, {"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/dom/events/scrolling":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/domparsing":{"tags":[{"key":"monorail_component", "value":"Blink>XML"}]}, "third_party/blink/web_tests/external/wpt/domxpath":{"tags":[{"key":"monorail_component", "value":"Blink>XML"}]}, "third_party/blink/web_tests/external/wpt/editing":{"tags":[{"key":"monorail_component", "value":"Blink>Editing"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/element-timing":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/encoding":{"tags":[{"key":"monorail_component", "value":"Blink>TextEncoding"}, {"key":"team_email", "value":"text-encoding-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/encrypted-media":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Encrypted"}]}, "third_party/blink/web_tests/external/wpt/entries-api":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/event-timing":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/eventsource":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/feature-policy":{"tags":[{"key":"monorail_component", "value":"Blink>FeaturePolicy"}, {"key":"team_email", "value":"feature-control@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/fetch":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/fetch/corb":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox>SiteIsolation"}, {"key":"team_email", "value":"site-isolation-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/fetch/cross-origin-resource-policy":{"tags":[{"key":"monorail_component", "value":"Internals>Sandbox>SiteIsolation"}, {"key":"team_email", "value":"site-isolation-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/file-system-access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FileSystem"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/font-access":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>FontAccess"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/fullscreen":{"tags":[{"key":"monorail_component", "value":"Blink>Fullscreen"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/gamepad":{"tags":[{"key":"monorail_component", "value":"Blink>GamepadAPI"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/generic-sensor":{"tags":[{"key":"monorail_component", "value":"Blink>Sensor"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/geolocation-API":{"tags":[{"key":"monorail_component", "value":"Blink>Geolocation"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/hr-time":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html":{"tags":[{"key":"monorail_component", "value":"Blink>HTML"}, {"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html-media-capture":{"tags":[{"key":"monorail_component", "value":"Blink>ImageCapture"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/canvas":{"tags":[{"key":"monorail_component", "value":"Blink>Canvas"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/editing/activation":{"tags":[{"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/editing/editing-0/contenteditable":{"tags":[{"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/editing/editing-0/making-entire-documents-editable-the-designmode-idl-attribute":{"tags":[{"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/editing/editing-0/spelling-and-grammar-checking":{"tags":[{"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/interaction/focus":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/rendering/non-replaced-elements/flow-content-0":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/rendering/non-replaced-elements/lists":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/rendering/non-replaced-elements/phrasing-content-0/font-element-text-decoration-color":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/rendering/non-replaced-elements/tables":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Table"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/rendering/non-replaced-elements/the-fieldset-and-legend-elements":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/rendering/non-replaced-elements/the-frameset-and-frame-elements":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/rendering/non-replaced-elements/the-hr-element-0":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/rendering/replaced-elements/attributes-for-embedded-content-and-images":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/rendering/replaced-elements/embedded-content-rendering-rules":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/rendering/replaced-elements/images":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/html/user-activation":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/imagebitmap-renderingcontext":{"tags":[{"key":"monorail_component", "value":"Blink>Canvas"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/images":{"tags":[{"key":"monorail_component", "value":"Blink>Image"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/infrastructure":{}, "third_party/blink/web_tests/external/wpt/infrastructure/testdriver/actions":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/input-events":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/intersection-observer":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/keyboard-map":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/largest-contentful-paint":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/layout-instability":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/longtask-timing":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/mediacapture-insertable-streams":{"tags":[{"key":"monorail_component", "value":"Blink>MediaStream"}]}, "third_party/blink/web_tests/external/wpt/mediacapture-record":{"tags":[{"key":"monorail_component", "value":"Blink>MediaRecording"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/mediacapture-streams":{"tags":[{"key":"monorail_component", "value":"Blink>MediaStream"}]}, "third_party/blink/web_tests/external/wpt/mediasession":{"tags":[{"key":"monorail_component", "value":"Blink>Media>Session"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/mixed-content":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/native-io":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>NativeIO"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/navigation-timing":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs>NavigationTiming"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/notifications":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/orientation-event":{"tags":[{"key":"monorail_component", "value":"Blink>Sensor"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/page-visibility":{"tags":[{"key":"monorail_component", "value":"Blink>PageLifecycle"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/paint-timing":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/payment-handler":{"tags":[{"key":"monorail_component", "value":"Blink>Payments"}, {"key":"team_email", "value":"payments-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/payment-method-basic-card":{"tags":[{"key":"monorail_component", "value":"Blink>Payments"}, {"key":"team_email", "value":"payments-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/payment-method-id":{"tags":[{"key":"monorail_component", "value":"Blink>Payments"}, {"key":"team_email", "value":"payments-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/payment-request":{"tags":[{"key":"monorail_component", "value":"Blink>Payments"}, {"key":"team_email", "value":"payments-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/performance-timeline":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/permissions-policy":{"tags":[{"key":"monorail_component", "value":"Blink>FeaturePolicy"}, {"key":"team_email", "value":"feature-control@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/picture-in-picture":{"tags":[{"key":"monorail_component", "value":"Blink>Media>PictureInPicture"}]}, "third_party/blink/web_tests/external/wpt/pointerevents":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/pointerlock":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/portals":{"tags":[{"key":"monorail_component", "value":"Blink>Portals"}]}, "third_party/blink/web_tests/external/wpt/preload":{"tags":[{"key":"monorail_component", "value":"Blink>Loader>Preload"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/presentation-api":{"tags":[{"key":"monorail_component", "value":"Blink>PresentationAPI"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/quirks":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/raw-sockets":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}]}, "third_party/blink/web_tests/external/wpt/referrer-policy":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>Referrer"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/remote-playback":{"tags":[{"key":"monorail_component", "value":"Blink>Media>RemotePlayback"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/requestidlecallback":{"tags":[{"key":"monorail_component", "value":"Blink>Scheduling"}, {"key":"team_email", "value":"scheduler-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/resource-timing":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs>ResourceTiming"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/sanitizer-api":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>SanitizerAPI"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/scheduler":{"tags":[{"key":"monorail_component", "value":"Blink>Scheduling>APIs"}, {"key":"team_email", "value":"scheduling-apis@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/screen-capture":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "third_party/blink/web_tests/external/wpt/screen-orientation":{"tags":[{"key":"monorail_component", "value":"Blink>ScreenOrientation"}]}, "third_party/blink/web_tests/external/wpt/scroll-to-text-fragment":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/secure-contexts":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>SecureContexts"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/selection":{"tags":[{"key":"monorail_component", "value":"Blink>Editing>Selection"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/server-timing":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs>ServerTiming"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/service-workers":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/service-workers/cache-storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>CacheStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/shadow-dom":{"tags":[{"key":"monorail_component", "value":"Blink>DOM>ShadowDOM"}, {"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/storage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>Quota"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/streams":{"tags":[{"key":"monorail_component", "value":"Blink>Network>StreamsAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/subresource-integrity":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/svg":{"tags":[{"key":"monorail_component", "value":"Blink>SVG"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/touch-events":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/trusted-types":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/uievents":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/upgrade-insecure-requests":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/url":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/user-timing":{"tags":[{"key":"monorail_component", "value":"Blink>PerformanceAPIs"}, {"key":"team_email", "value":"speed-metrics-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/vibration":{"tags":[{"key":"monorail_component", "value":"Blink>Vibration"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/virtual-keyboard":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/visual-viewport":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/wasm":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>WebAssembly"}]}, "third_party/blink/web_tests/external/wpt/web-animations":{"tags":[{"key":"monorail_component", "value":"Blink>Animation"}, {"key":"team_email", "value":"animations-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/web-locks":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/web-nfc":{"tags":[{"key":"monorail_component", "value":"Blink>NFC"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/webaudio":{"tags":[{"key":"monorail_component", "value":"Blink>WebAudio"}]}, "third_party/blink/web_tests/external/wpt/webauthn":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/webdriver/tests/perform_actions":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/webgpu":{"tags":[{"key":"monorail_component", "value":"Blink>WebGPU"}]}, "third_party/blink/web_tests/external/wpt/webmessaging":{"tags":[{"key":"monorail_component", "value":"Blink>Messaging"}]}, "third_party/blink/web_tests/external/wpt/webrtc":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "third_party/blink/web_tests/external/wpt/websockets":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebSockets"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/webstorage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>DOMStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/webusb":{"tags":[{"key":"monorail_component", "value":"Blink>USB"}, {"key":"team_email", "value":"webusb@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/webvtt":{"tags":[{"key":"monorail_component", "value":"Blink>Media>Track"}, {"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/webxr":{"tags":[{"key":"monorail_component", "value":"Blink>WebXR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/workers":{"tags":[{"key":"monorail_component", "value":"Blink>Workers"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/worklets":{"tags":[{"key":"monorail_component", "value":"Blink>Workers"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/x-frame-options":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>XFrameOptions"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/external/wpt/xhr":{"tags":[{"key":"monorail_component", "value":"Blink>Network>XHR"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/alignment":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/autoresize":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/beacon":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/block":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/borders":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/box-sizing":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/canvas":{"tags":[{"key":"monorail_component", "value":"Blink>Canvas"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/canvas-api":{"tags":[{"key":"monorail_component", "value":"Blink>Canvas"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/clip":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/css":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/css-generated-content":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/css-grid-layout":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Grid"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/css-intrinsic-dimensions":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/css/containment":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/fast/css/content":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/fast/css/counters":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}]}, "third_party/blink/web_tests/fast/css3-text":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/deprecated-flexbox":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Flexbox"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/dom":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/dom/CSSStyleDeclaration":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/dom/Document/CaretRangeFromPoint":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/dom/HTMLDivElement/align":{"tags":[{"key":"monorail_component", "value":"Blink>HTML"}]}, "third_party/blink/web_tests/fast/dom/elementsFromPoint":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/domurl":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/encoding":{"tags":[{"key":"monorail_component", "value":"Blink>TextEncoding"}, {"key":"team_email", "value":"text-encoding-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/events":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/events/constructors":{"tags":[{"key":"team_email", "value":"blink-reviews-bindings@chromium.org"}]}, "third_party/blink/web_tests/fast/events/hr-timestamp":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/events/inputevents":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/events/pointerevents":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/events/touch":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/events/wheel":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/eventsource":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/forms":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/frames":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/gradients":{"tags":[{"key":"monorail_component", "value":"Blink>Paint"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/hidpi":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Subpixel"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/history/scroll-restoration":{"tags":[{"key":"monorail_component", "value":"Blink>Scroll"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/html":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/inline":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/inline-block":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/innerHTML":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/input":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/invalid":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/layout":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/lists":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/media":{"tags":[{"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/multicol":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>MultiCol"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/overflow":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/parser":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/reflections":{"tags":[{"key":"monorail_component", "value":"Blink>Paint"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/replaced":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/scroll-behavior":{"tags":[{"key":"monorail_component", "value":"Blink>Scroll"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/scrolling":{"tags":[{"key":"monorail_component", "value":"Blink>Scroll"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/serviceworker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/shapes":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/spatial-navigation":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/sub-pixel":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Subpixel"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/table":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Table"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/text-autosizing":{"tags":[{"key":"monorail_component", "value":"Blink>TextAutosize"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/tokenizer":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/webgl":{"tags":[{"key":"monorail_component", "value":"Blink>Canvas"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/workers":{"tags":[{"key":"monorail_component", "value":"Blink>Workers"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/writing-mode":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>WritingMode"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/xmlhttprequest":{"tags":[{"key":"monorail_component", "value":"Blink>Network>XHR"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/fast/xpath":{"tags":[{"key":"monorail_component", "value":"Blink>XML"}]}, "third_party/blink/web_tests/fast/xsl":{"tags":[{"key":"monorail_component", "value":"Blink>XML"}]}, "third_party/blink/web_tests/fonts":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fragmentation":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/fullscreen":{"tags":[{"key":"monorail_component", "value":"Blink>Fullscreen"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/gamepad":{"tags":[{"key":"monorail_component", "value":"Blink>GamepadAPI"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/web_tests/hittesting":{"tags":[{"key":"monorail_component", "value":"Blink>HitTesting"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/html/dialog":{"tags":[{"key":"monorail_component", "value":"Blink>DOM"}, {"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/background_sync":{"tags":[{"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/web_tests/http/tests/cachestorage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>CacheStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/custom-elements":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/devtools":{"tags":[{"key":"team_email", "value":"devtools-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/dom":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/eventsource":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/fetch/chromium":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/fetch/referrer":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/fetch/script-tests/thorough":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/fetch/serviceworker":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/fetch/serviceworker-proxied/thorough":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/fetch/window":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/fetch/workers":{"tags":[{"key":"monorail_component", "value":"Blink>Network>FetchAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/fullscreen":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Fullscreen"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/html":{"tags":[{"key":"monorail_component", "value":"Blink>HTML"}, {"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/inspector-protocol":{"tags":[{"key":"team_email", "value":"devtools-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/locks":{"tags":[{"key":"monorail_component", "value":"Blink>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/media":{"tags":[{"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/notifications":{"tags":[{"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/web_tests/http/tests/origin_trials":{"tags":[{"key":"monorail_component", "value":"Internals>OriginTrials"}, {"key":"team_email", "value":"experimentation-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/pointer-lock":{"tags":[{"key":"monorail_component", "value":"Blink>Input>PointerLock"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/portals":{"tags":[{"key":"monorail_component", "value":"Blink>Portals"}]}, "third_party/blink/web_tests/http/tests/push_messaging":{"tags":[{"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "third_party/blink/web_tests/http/tests/resources/pointer-lock":{"tags":[{"key":"monorail_component", "value":"Blink>Input>PointerLock"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/security/mixedContent/websocket":{"tags":[{"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/sendbeacon":{"tags":[{"key":"monorail_component", "value":"Blink>Network"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/serviceworker":{"tags":[{"key":"monorail_component", "value":"Blink>ServiceWorker"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/streams":{"tags":[{"key":"monorail_component", "value":"Blink>Network>StreamsAPI"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/svg":{"tags":[{"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/usb":{"tags":[{"key":"monorail_component", "value":"Blink>USB"}, {"key":"team_email", "value":"webusb@chromium.org"}]}, "third_party/blink/web_tests/http/tests/websocket":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebSockets"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/xmlhttprequest":{"tags":[{"key":"monorail_component", "value":"Blink>Network>XHR"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/blink/web_tests/http/tests/xsl":{"tags":[{"key":"monorail_component", "value":"Blink>XML"}]}, "third_party/blink/web_tests/ietestcenter/css3/flexbox":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Flexbox"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/ietestcenter/css3/grid":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Grid"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/ietestcenter/css3/multicolumn":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>MultiCol"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/ietestcenter/css3/text":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/images":{"tags":[{"key":"monorail_component", "value":"Blink>Image"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/inspector-protocol":{"tags":[{"key":"team_email", "value":"devtools-dev@chromium.org"}]}, "third_party/blink/web_tests/inspector-protocol/layout-fonts":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/intersection-observer":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/media":{"tags":[{"key":"team_email", "value":"media-dev@chromium.org"}]}, "third_party/blink/web_tests/mhtml":{"tags":[{"key":"team_email", "value":"offline-dev@chromium.org"}]}, "third_party/blink/web_tests/overflow":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/paint":{"tags":[{"key":"monorail_component", "value":"Blink>Paint"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/pointer-lock":{"tags":[{"key":"monorail_component", "value":"Blink>Input>PointerLock"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/printing":{"tags":[{"key":"monorail_component", "value":"Blink>Paint"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/scrollbars":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Scrollbars"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/shadow-dom":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/storage/domstorage":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>DOMStorage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/storage/indexeddb":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>IndexedDB"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/storage/quota":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>Quota"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/storage/websql":{"tags":[{"key":"monorail_component", "value":"Blink>Storage>WebSQL"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/blink/web_tests/svg":{"tags":[{"key":"monorail_component", "value":"Blink>SVG"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/tables":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Table"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/touchadjustment":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/transforms":{"tags":[{"key":"monorail_component", "value":"Blink>Transforms"}, {"key":"team_email", "value":"paint-dev@chromium.org"}]}, "third_party/blink/web_tests/traversal":{"tags":[{"key":"team_email", "value":"dom-dev@chromium.org"}]}, "third_party/blink/web_tests/typedcssom":{"tags":[{"key":"monorail_component", "value":"Blink>CSS"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/virtual/text-antialias":{"tags":[{"key":"monorail_component", "value":"Blink>Layout"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/blink/web_tests/virtual/threaded-prefer-compositing/fast/scroll-behavior/smooth-scroll":{"tags":[{"key":"monorail_component", "value":"Blink>Scroll"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "third_party/blink/web_tests/virtual/threaded/fast/idle-callback":{"tags":[{"key":"team_email", "value":"scheduler-dev@chromium.org"}]}, "third_party/blink/web_tests/webaudio":{"tags":[{"key":"monorail_component", "value":"Blink>WebAudio"}]}, "third_party/blink/web_tests/wpt_internal/bluetooth":{"tags":[{"key":"monorail_component", "value":"Blink>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "third_party/blink/web_tests/wpt_internal/geolocation-api":{"tags":[{"key":"monorail_component", "value":"Blink>Location"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/web_tests/wpt_internal/orientation-event":{"tags":[{"key":"monorail_component", "value":"Blink>Sensor"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/blink/web_tests/wpt_internal/sanitizer-api":{"tags":[{"key":"monorail_component", "value":"Blink>SecurityFeature>SanitizerAPI"}, {"key":"team_email", "value":"security-dev@chromium.org"}]}, "third_party/blink/web_tests/wpt_internal/serial":{"tags":[{"key":"monorail_component", "value":"Blink>Serial"}]}, "third_party/blink/web_tests/wpt_internal/webusb":{"tags":[{"key":"monorail_component", "value":"Blink>USB"}, {"key":"team_email", "value":"webusb@chromium.org"}]}, "third_party/boringssl":{"tags":[{"key":"monorail_component", "value":"Internals>Network>SSL"}, {"key":"team_email", "value":"trusty-transport@chromium.org"}]}, "third_party/bouncycastle":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/breakpad":{"tags":[{"key":"monorail_component", "value":"Internals>CrashReporting"}, {"key":"team_email", "value":"google-breakpad-dev@googlegroups.com"}]}, "third_party/brotli":{"tags":[{"key":"monorail_component", "value":"Blink>WebFonts"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/bspatch":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}]}, "third_party/byte_buddy":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/catapult":{"tags":[{"key":"monorail_component", "value":"Speed"}]}, "third_party/catapult/dashboard":{"tags":[{"key":"monorail_component", "value":"Speed>Dashboard"}, {"key":"team_email", "value":"speed-services-dev@chromium.org"}]}, "third_party/catapult/dashboard/dashboard/pinpoint":{"tags":[{"key":"monorail_component", "value":"Speed>Bisection"}]}, "third_party/catapult/devil":{"tags":[{"key":"monorail_component", "value":"Test>Devil"}]}, "third_party/catapult/telemetry":{"tags":[{"key":"monorail_component", "value":"Test>Telemetry"}, {"key":"team_email", "value":"telemetry@chromium.org"}]}, "third_party/catapult/third_party/typ":{"tags":[{"key":"monorail_component", "value":"Test>Typ"}]}, "third_party/catapult/tracing":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}, {"key":"team_email", "value":"tracing@chromium.org"}]}, "third_party/ced":{"tags":[{"key":"monorail_component", "value":"Blink>TextEncoding"}]}, "third_party/chaijs":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "third_party/checkstyle":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/chevron":{"tags":[{"key":"monorail_component", "value":"Mobile>WebAPKs"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "third_party/chromevox":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "third_party/cld_3":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Language>Translate"}]}, "third_party/closure_compiler":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "third_party/colorama":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/crashpad":{"tags":[{"key":"monorail_component", "value":"Internals>CrashReporting"}, {"key":"team_email", "value":"crashpad-dev@chromium.org"}]}, "third_party/crc32c":{"tags":[{"key":"monorail_component", "value":"Internals>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/d3":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Diagnostics"}]}, "third_party/dav1d":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Codecs"}]}, "third_party/dawn":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Dawn"}]}, "third_party/decklink":{"tags":[{"key":"monorail_component", "value":"Blink>GetUserMedia"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/depot_tools":{"tags":[{"key":"monorail_component", "value":"Infra>SDK"}]}, "third_party/devscripts":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/devtools-frontend/src/front_end/third_party/axe-core":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}]}, "third_party/devtools-frontend/src/third_party/pyjson5":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/distributed_point_functions":{"tags":[{"key":"monorail_component", "value":"Internals>ConversionMeasurement"}]}, "third_party/dom_distiller_js":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ReaderMode"}, {"key":"team_email", "value":"dom-distiller-eng@google.com"}]}, "third_party/dpkg-shlibdeps":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/eigen3":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/emoji-segmenter":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts>Emoji"}]}, "third_party/espresso":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/expat":{"tags":[{"key":"monorail_component", "value":"Blink>XML"}, {"key":"team_email", "value":"skia-discuss@googlegroups.com"}]}, "third_party/farmhash":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/fdlibm":{"tags":[{"key":"monorail_component", "value":"Blink>WebAudio"}]}, "third_party/feed_library":{"tags":[{"key":"monorail_component", "value":"UI>Browser>ContentSuggestions>Feed"}, {"key":"team_email", "value":"feed@chromium.org"}]}, "third_party/ffmpeg":{"tags":[{"key":"monorail_component", "value":"Internals>Media>FFmpeg"}]}, "third_party/fft2d":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/flatbuffers":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions>API"}]}, "third_party/fontconfig":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "third_party/fp16":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/freetype":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "third_party/freetype-testing":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "third_party/fuchsia-sdk":{"tags":[{"key":"monorail_component", "value":"Fuchsia"}, {"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "third_party/fusejs":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "third_party/gemmlowp":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/gif_player":{"tags":[{"key":"monorail_component", "value":"UI>Browser>NewTabPage"}, {"key":"os", "value":"ANDROID"}]}, "third_party/glfw":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "third_party/google-truth":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/google_android_play_core":{"tags":[{"key":"monorail_component", "value":"Mobile>FeatureModules"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "third_party/google_benchmark":{"tags":[{"key":"monorail_component", "value":"Internals>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/google_input_tools":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "third_party/google_toolbox_for_mac":{"tags":[{"key":"monorail_component", "value":"UI>Browser"}]}, "third_party/google_trust_services":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Certificate"}, {"key":"team_email", "value":"trusty-transport@chromium.org"}]}, "third_party/googletest":{"tags":[{"key":"monorail_component", "value":"Test>gTest"}]}, "third_party/gvr-android-keyboard":{"tags":[{"key":"monorail_component", "value":"UI>Browser>VR"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "third_party/gvr-android-sdk":{"tags":[{"key":"monorail_component", "value":"Internals>XR>VR"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "third_party/hamcrest":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/harfbuzz-ng":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/highway":{"tags":[{"key":"monorail_component", "value":"Internals>Images>Codecs"}]}, "third_party/hyphenation-patterns":{"tags":[{"key":"monorail_component", "value":"Blink>Layout>Inline"}, {"key":"team_email", "value":"layout-dev@chromium.org"}]}, "third_party/iaccessible2":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility>Compatibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "third_party/iccjpeg":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/icu":{"tags":[{"key":"monorail_component", "value":"UI>Internationalization"}]}, "third_party/icu4j":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/ijar":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/inspector_protocol":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools"}]}, "third_party/instrumented_libraries":{"tags":[{"key":"monorail_component", "value":"Internals>Instrumentation"}]}, "third_party/isimpledom":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility>Compatibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "third_party/jacoco":{"tags":[{"key":"monorail_component", "value":"Tools>CodeCoverage"}]}, "third_party/javalang":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/jinja2":{"tags":[{"key":"monorail_component", "value":"Blink>Bindings"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/js_code_coverage":{"tags":[{"key":"monorail_component", "value":"Infra>Test>CodeCoverage"}, {"key":"team_email", "value":"code-coverage@google.com"}]}, "third_party/jsoncpp":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/junit":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/khronos":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "third_party/lcov":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/leveldatabase":{"tags":[{"key":"monorail_component", "value":"Internals>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/libFuzzer":{"tags":[{"key":"monorail_component", "value":"Tools>Stability>libFuzzer"}, {"key":"team_email", "value":"chrome-security-bugs--@chromium.org"}]}, "third_party/libXNVCtrl":{"tags":[{"key":"monorail_component", "value":"Internals>GPU"}]}, "third_party/libaddressinput":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}]}, "third_party/libaom":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Video"}]}, "third_party/libavif":{"tags":[{"key":"monorail_component", "value":"Internals>Images>Codecs"}]}, "third_party/libbrlapi":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility>ChromeVox"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "third_party/libdrm":{"tags":[{"key":"monorail_component", "value":"OS>Kernel>Graphics"}]}, "third_party/libgav1":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Codecs"}]}, "third_party/libipp":{"tags":[{"key":"monorail_component", "value":"Internals>Printing>CUPS"}]}, "third_party/libjingle_xmpp":{"tags":[{"key":"monorail_component", "value":"Internals>WebRTC"}]}, "third_party/libjingle_xmpp/task_runner":{"tags":[{"key":"monorail_component", "value":"Internals>Headless"}]}, "third_party/libjingle_xmpp/xmllite":{"tags":[{"key":"monorail_component", "value":"Internals>Headless"}]}, "third_party/libjingle_xmpp/xmpp":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "third_party/libjpeg_turbo":{"tags":[{"key":"monorail_component", "value":"Internals>Images>Codecs"}]}, "third_party/libjxl":{"tags":[{"key":"monorail_component", "value":"Internals>Images>Codecs"}]}, "third_party/liblouis":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "third_party/libphonenumber":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Autofill"}]}, "third_party/libpng":{"tags":[{"key":"monorail_component", "value":"Internals>Images>Codecs"}, {"key":"team_email", "value":"skia-discuss@googlegroups.com"}]}, "third_party/libprotobuf-mutator":{"tags":[{"key":"monorail_component", "value":"Tools>Stability>ClusterFuzz"}, {"key":"team_email", "value":"chrome-security-bugs--@chromium.org"}]}, "third_party/libsecret":{"tags":[{"key":"monorail_component", "value":"Internals>LocalDataEncryption"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "third_party/libsrtp":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}]}, "third_party/libsync":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/libudev":{"tags":[{"key":"monorail_component", "value":"IO>USB"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/libunwindstack":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics>SamplingProfiler"}]}, "third_party/liburlpattern":{"tags":[{"key":"monorail_component", "value":"Blink>URLPattern"}, {"key":"team_email", "value":"worker-dev@chromium.org"}]}, "third_party/libusb":{"tags":[{"key":"monorail_component", "value":"IO>USB"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "third_party/libvpx":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Video"}]}, "third_party/libwebm":{"tags":[{"key":"monorail_component", "value":"Blink>MediaRecording"}]}, "third_party/libwebp":{"tags":[{"key":"monorail_component", "value":"Internals>Images>Codecs"}, {"key":"team_email", "value":"webp-discuss@webmproject.org"}]}, "third_party/libxml":{"tags":[{"key":"monorail_component", "value":"Blink>XML"}]}, "third_party/libxslt":{"tags":[{"key":"monorail_component", "value":"Blink>XML"}]}, "third_party/libyuv":{"tags":[{"key":"monorail_component", "value":"Internals>Images>Codecs"}]}, "third_party/libzip":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/lottie":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "third_party/lss":{"tags":[{"key":"os", "value":"LINUX"}]}, "third_party/lzma_sdk":{"tags":[{"key":"monorail_component", "value":"Internals>Installer"}, {"key":"team_email", "value":"chrome-updates-dev@chromium.org"}]}, "third_party/mako":{"tags":[{"key":"monorail_component", "value":"Blink>Bindings"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/markdown":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/markupsafe":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/material_design_icons":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/mesa_headers":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}]}, "third_party/metrics_proto":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "third_party/microsoft_webauthn":{"tags":[{"key":"monorail_component", "value":"Blink>WebAuthentication"}, {"key":"team_email", "value":"identity-dev@chromium.org"}]}, "third_party/minigbm":{"tags":[{"key":"monorail_component", "value":"Internals>GPU"}]}, "third_party/minizip":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "third_party/mockito":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/modp_b64":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/motemplate":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/mozilla":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/nasm":{"tags":[{"key":"monorail_component", "value":"Build"}]}, "third_party/nearby":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing>Nearby"}]}, "third_party/neon_2_sse":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/netty-tcnative":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Library"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "third_party/netty4":{"tags":[{"key":"monorail_component", "value":"Internals>Network>Library"}, {"key":"team_email", "value":"net-dev@chromium.org"}]}, "third_party/node":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/objenesis":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/ocmock":{"tags":[{"key":"monorail_component", "value":"Test"}]}, "third_party/one_euro_filter":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}]}, "third_party/opencv":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}, {"key":"team_email", "value":"safebrowsing@chromium.org"}]}, "third_party/openh264":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC>Video"}, {"key":"team_email", "value":"webrtc-reviews@webrtc.org"}]}, "third_party/openscreen":{"tags":[{"key":"monorail_component", "value":"Internals>Cast>Providers"}]}, "third_party/openxr":{"tags":[{"key":"monorail_component", "value":"Internals>XR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "third_party/opus":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Codecs"}]}, "third_party/ots":{"tags":[{"key":"monorail_component", "value":"Blink>WebFonts"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/ow2_asm":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/pdfium":{"tags":[{"key":"monorail_component", "value":"Internals>Plugins>PDF"}]}, "third_party/pdfium/third_party/base/allocator/partition_allocator":{"tags":[{"key":"monorail_component", "value":"Blink>MemoryAllocator>Partition"}, {"key":"team_email", "value":"platform-architecture-dev@chromium.org"}]}, "third_party/perfetto":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}, {"key":"team_email", "value":"tracing@chromium.org"}]}, "third_party/pexpect":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/pffft":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC>Audio"}]}, "third_party/ply":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/polymer":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "third_party/private-join-and-compute":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}]}, "third_party/private_membership":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Enrollment"}]}, "third_party/proguard":{"tags":[{"key":"monorail_component", "value":"Infra"}, {"key":"team_email", "value":"chromium-reviews@chromium.org"}]}, "third_party/protobuf":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/protoc_javalite":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/pycoverage":{"tags":[{"key":"monorail_component", "value":"Tests"}]}, "third_party/pyjson5":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/pywebsocket3":{"tags":[{"key":"monorail_component", "value":"Blink>Network>WebSockets"}, {"key":"team_email", "value":"blink-network-dev@chromium.org"}]}, "third_party/qcms":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "third_party/quic_trace":{"tags":[{"key":"monorail_component", "value":"Internals>Network>QUIC"}]}, "third_party/qunit":{"tags":[{"key":"monorail_component", "value":"Tests"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "third_party/r8":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/re2":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/requests":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/rnnoise":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/robolectric":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/ruy":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/s2cellid":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/securemessage":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing>Nearby"}]}, "third_party/shaderc":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "third_party/shell-encryption":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>Enrollment"}]}, "third_party/simplejson":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "third_party/sinonjs":{"tags":[{"key":"monorail_component", "value":"Tests"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "third_party/skia":{"tags":[{"key":"monorail_component", "value":"Internals>Skia"}]}, "third_party/smhasher":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/snappy":{"tags":[{"key":"monorail_component", "value":"Internals>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/speech-dispatcher":{"tags":[{"key":"monorail_component", "value":"Internals>SpeechSynthesis"}]}, "third_party/sqlite":{"tags":[{"key":"monorail_component", "value":"Internals>Storage"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "third_party/sqlite4java":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/subresource-filter-ruleset":{"tags":[{"key":"monorail_component", "value":"UI>Browser>AdFilter"}]}, "third_party/sudden_motion_sensor":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/swiftshader":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>SwiftShader"}]}, "third_party/tcmalloc":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "third_party/tensorflow-text":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/test_fonts":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}]}, "third_party/tflite":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/tflite-support":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/tlslite":{"tags":[{"key":"monorail_component", "value":"Internals>Network>SSL"}, {"key":"team_email", "value":"trusty-transport@chromium.org"}]}, "third_party/ub-uiautomator":{"tags":[{"key":"monorail_component", "value":"Test>Android"}]}, "third_party/ukey2":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Sharing>Nearby"}]}, "third_party/unrar":{"tags":[{"key":"monorail_component", "value":"Services>Safebrowsing"}, {"key":"team_email", "value":"safebrowsing@chromium.org"}]}, "third_party/updater":{"tags":[{"key":"monorail_component", "value":"Internals>Updater"}]}, "third_party/usrsctp":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC>Network"}]}, "third_party/utf":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "third_party/v4l-utils":{"tags":[{"key":"monorail_component", "value":"OS>Kernel>Video"}]}, "third_party/vulkan-deps/glslang":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "third_party/vulkan-deps/spirv-cross":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "third_party/vulkan-deps/spirv-headers":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "third_party/vulkan-deps/spirv-tools":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "third_party/vulkan-deps/vulkan-headers":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "third_party/vulkan_memory_allocator":{"tags":[{"key":"monorail_component", "value":"Internals>GPU"}]}, "third_party/wayland":{"tags":[{"key":"monorail_component", "value":"Internals>Exosphere"}]}, "third_party/wayland-protocols":{"tags":[{"key":"monorail_component", "value":"Internals>Exosphere"}]}, "third_party/web-animations-js":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "third_party/webdriver":{"tags":[{"key":"monorail_component", "value":"Test>WebDriver"}]}, "third_party/webgpu-cts":{"tags":[{"key":"monorail_component", "value":"Blink>WebGPU"}]}, "third_party/webrtc":{}, "third_party/webrtc_overrides":{"tags":[{"key":"monorail_component", "value":"Blink>WebRTC"}, {"key":"team_email", "value":"webrtc-dev@chromium.org"}]}, "third_party/webxr_test_pages":{"tags":[{"key":"monorail_component", "value":"Blink>WebXR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "third_party/widevine":{"tags":[{"key":"monorail_component", "value":"Internals>Media>Encrypted"}]}, "third_party/win_build_output":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "third_party/win_build_output/midl/chrome/updater":{"tags":[{"key":"monorail_component", "value":"Internals>Updater"}]}, "third_party/woff2":{"tags":[{"key":"monorail_component", "value":"Blink>Fonts"}, {"key":"team_email", "value":"loading-dev@chromium.org"}]}, "third_party/wpt_tools":{"tags":[{"key":"monorail_component", "value":"Blink>Infra>Ecosystem"}, {"key":"team_email", "value":"ecosystem-infra@chromium.org"}]}, "third_party/wuffs":{"tags":[{"key":"monorail_component", "value":"Internals>Skia"}]}, "third_party/zlib":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "third_party/zxcvbn-cpp":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Passwords"}]}, "tools":{"tags":[{"key":"monorail_component", "value":"Build"}, {"key":"team_email", "value":"build@chromium.org"}]}, "tools/accessibility":{"tags":[{"key":"monorail_component", "value":"Internals>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "tools/aggregation_service":{"tags":[{"key":"monorail_component", "value":"Internals>ConversionMeasurement"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "tools/android/dependency_analysis":{"tags":[{"key":"monorail_component", "value":"Infra>CodeAnalysis"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"clank-modularization@chromium.org"}]}, "tools/android/forwarder2":{"tags":[{"key":"monorail_component", "value":"Infra>Client>Chrome"}]}, "tools/android/modularization":{"tags":[{"key":"team_email", "value":"clank-modularization@google.com"}]}, "tools/binary_size":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "tools/binary_size/libsupersize/testdata":{"tags":[{"key":"monorail_component", "value":"Fake>ShouldNeverBeInSymbol"}]}, "tools/binary_size/libsupersize/testdata/mock_source_directory/base":{"tags":[{"key":"monorail_component", "value":"Blink>Internal"}, {"key":"os", "value":"LINUX"}, {"key":"team_email", "value":"team@chromium.org"}]}, "tools/binary_size/libsupersize/testdata/mock_source_directory/third_party":{"tags":[{"key":"monorail_component", "value":"Internal>Android"}]}, "tools/binary_size/libsupersize/testdata/mock_source_directory/third_party/blink":{"tags":[{"key":"monorail_component", "value":"UI>Browser"}]}, "tools/clang":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "tools/clang/blink_gc_plugin":{"tags":[{"key":"monorail_component", "value":"Blink>MemoryAllocator>GarbageCollection"}, {"key":"team_email", "value":"oilpan-reviews@chromium.org"}]}, "tools/clang/stack_maps":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>GC"}, {"key":"team_email", "value":"v8-dev@chromium.org"}]}, "tools/code_coverage":{"tags":[{"key":"monorail_component", "value":"Infra>Test>CodeCoverage"}, {"key":"team_email", "value":"code-coverage@chromium.org"}]}, "tools/cr":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "tools/cros":{"tags":[{"key":"monorail_component", "value":"Test>Telemetry"}]}, "tools/fuchsia":{"tags":[{"key":"monorail_component", "value":"Fuchsia"}, {"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "tools/idl_parser":{"tags":[{"key":"monorail_component", "value":"Blink>Bindings"}, {"key":"team_email", "value":"blink-reviews-bindings@chromium.org"}]}, "tools/infra":{"tags":[{"key":"monorail_component", "value":"Infra>Client>Chrome"}, {"key":"team_email", "value":"infra-dev@chromium.org"}]}, "tools/ipc_fuzzer":{"tags":[{"key":"monorail_component", "value":"Tools>Stability>Libfuzzer"}, {"key":"team_email", "value":"chrome-security-bugs--@chromium.org"}]}, "tools/json_schema_compiler":{"tags":[{"key":"monorail_component", "value":"Platform>Extensions"}, {"key":"team_email", "value":"chromium-extensions@chromium.org"}]}, "tools/lldb":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "tools/luci-go":{"tags":[{"key":"monorail_component", "value":"Infra>Platform"}]}, "tools/mb":{"tags":[{"key":"monorail_component", "value":"Infra>Client>Chrome"}, {"key":"team_email", "value":"infra-dev@chromium.org"}]}, "tools/media_engagement_preload":{"tags":[{"key":"monorail_component", "value":"Internals>Media"}]}, "tools/metrics":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics"}]}, "tools/metrics/histograms/histograms_xml/commerce":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Shopping"}]}, "tools/metrics/histograms/histograms_xml/data_reduction_proxy":{"tags":[{"key":"monorail_component", "value":"Internals>Network>DataProxy"}]}, "tools/metrics/histograms/histograms_xml/optimization":{"tags":[{"key":"monorail_component", "value":"Internals>OptimizationGuide"}]}, "tools/metrics/histograms/histograms_xml/prefetch":{"tags":[{"key":"monorail_component", "value":"Internals>Preload>PrefetchProxy"}]}, "tools/metrics/histograms/histograms_xml/translate":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Language>Translate"}]}, "tools/metrics/histograms/histograms_xml/xr":{"tags":[{"key":"monorail_component", "value":"Internals>XR"}]}, "tools/origin_trials/third_party/ed25519":{"tags":[{"key":"monorail_component", "value":"Internals>OriginTrials"}, {"key":"team_email", "value":"experimentation-dev@chromium.org"}]}, "tools/perf":{"tags":[{"key":"monorail_component", "value":"Speed>Benchmarks"}]}, "tools/perf/contrib/vr_benchmarks":{"tags":[{"key":"monorail_component", "value":"Internals>XR>VR"}, {"key":"team_email", "value":"xr-dev@chromium.org"}]}, "tools/perf/core/perfetto_binary_roller":{"tags":[{"key":"monorail_component", "value":"Speed>Tracing"}]}, "tools/privacy_budget":{"tags":[{"key":"monorail_component", "value":"Privacy>Fingerprinting"}, {"key":"team_email", "value":"privacy-sandbox-dev@chromium.org"}]}, "tools/resultdb":{"tags":[{"key":"monorail_component", "value":"Infra>Test>Results"}]}, "tools/security":{"tags":[{"key":"monorail_component", "value":"Security"}]}, "tools/typescript":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "tools/usb_gadget":{"tags":[{"key":"monorail_component", "value":"IO>USB"}, {"key":"team_email", "value":"device-dev@chromium.org"}]}, "tools/v8_context_snapshot":{"tags":[{"key":"monorail_component", "value":"Blink>Bindings"}, {"key":"team_email", "value":"blink-reviews-bindings@chromium.org"}]}, "tools/variations":{"tags":[{"key":"monorail_component", "value":"Internals>Metrics>Variations"}, {"key":"team_email", "value":"chromium-dev@chromium.org"}]}, "tools/vim":{"tags":[{"key":"monorail_component", "value":"Tools"}]}, "tools/web_bluetooth":{"tags":[{"key":"monorail_component", "value":"Blink>Bluetooth"}, {"key":"team_email", "value":"web-bluetooth@chromium.org"}]}, "ui":{"tags":[{"key":"monorail_component", "value":"UI"}]}, "ui/accelerated_widget_mac":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}]}, "ui/accessibility":{"tags":[{"key":"monorail_component", "value":"Internals>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "ui/android":{"tags":[{"key":"os", "value":"ANDROID"}]}, "ui/android/java/res":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}]}, "ui/android/java/res_night":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}]}, "ui/android/java/src/org/chromium/ui/display":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "ui/android/java/src/org/chromium/ui/gfx":{"tags":[{"key":"monorail_component", "value":"UI>GFX"}]}, "ui/android/java/src/org/chromium/ui/modaldialog":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile>Messages"}]}, "ui/android/java/src/org/chromium/ui/modelutil":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}]}, "ui/android/junit/src/org/chromium/ui/modaldialog":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Mobile"}]}, "ui/aura":{"tags":[{"key":"monorail_component", "value":"UI>Aura"}]}, "ui/aura/gestures":{"tags":[{"key":"monorail_component", "value":"UI>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "ui/aura_extra":{"tags":[{"key":"monorail_component", "value":"UI>Aura"}]}, "ui/base/clipboard":{"tags":[{"key":"monorail_component", "value":"Blink>DataTransfer"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "ui/base/cursor":{"tags":[{"key":"monorail_component", "value":"Internals>Input"}]}, "ui/base/cursor/ozone":{"tags":[{"key":"monorail_component", "value":"UI>GFX"}]}, "ui/base/data_transfer_policy":{"tags":[{"key":"monorail_component", "value":"OS>Software>Enterprise>DLP"}, {"key":"team_email", "value":"chromeos-dlp@google.com"}]}, "ui/base/dragdrop":{"tags":[{"key":"monorail_component", "value":"Blink>DataTransfer"}, {"key":"team_email", "value":"storage-dev@chromium.org"}]}, "ui/base/emoji":{"tags":[{"key":"monorail_component", "value":"Internals>Input"}]}, "ui/base/glib":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "ui/base/idle":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "ui/base/ime":{"tags":[{"key":"monorail_component", "value":"OS>Inputs"}]}, "ui/base/l10n":{"tags":[{"key":"monorail_component", "value":"UI>Internationalization"}]}, "ui/base/pointer":{"tags":[{"key":"monorail_component", "value":"Internals>Input"}]}, "ui/base/resource":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "ui/base/test":{"tags":[{"key":"monorail_component", "value":"Tests"}]}, "ui/base/text":{"tags":[{"key":"monorail_component", "value":"UI>Localization"}]}, "ui/base/webui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "ui/compositor":{"tags":[{"key":"monorail_component", "value":"Internals>Compositing"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "ui/compositor_extra":{"tags":[{"key":"monorail_component", "value":"Internals>Compositing"}]}, "ui/content_accelerators":{"tags":[{"key":"monorail_component", "value":"Internals>Input"}]}, "ui/display":{"tags":[{"key":"monorail_component", "value":"UI>Systems>Display"}]}, "ui/display/util":{"tags":[{"key":"monorail_component", "value":"OS>Kernel>Graphics"}]}, "ui/events":{"tags":[{"key":"monorail_component", "value":"UI>Input"}]}, "ui/events/android":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "ui/events/blink":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "ui/events/fuchsia":{"tags":[{"key":"monorail_component", "value":"Fuchsia"}, {"key":"os", "value":"FUCHSIA"}, {"key":"team_email", "value":"cr-fuchsia@chromium.org"}]}, "ui/events/gesture_detection":{"tags":[{"key":"monorail_component", "value":"Blink>Input"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "ui/events/gestures":{"tags":[{"key":"team_email", "value":"input-dev@chromium.org"}]}, "ui/events/keycodes":{"tags":[{"key":"monorail_component", "value":"IO>Keyboard"}]}, "ui/events/ozone":{"tags":[{"key":"team_email", "value":"ozone-dev@chromium.org"}]}, "ui/file_manager":{"tags":[{"key":"monorail_component", "value":"Platform>Apps>FileManager"}]}, "ui/gfx":{"tags":[{"key":"monorail_component", "value":"UI>GFX"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "ui/gfx/animation":{"tags":[{"key":"monorail_component", "value":"Internals>Compositing>Animation"}, {"key":"team_email", "value":"threaded-rendering-dev@chromium.org"}]}, "ui/gl":{"tags":[{"key":"monorail_component", "value":"Internals>GPU>Internals"}, {"key":"team_email", "value":"graphics-dev@chromium.org"}]}, "ui/gtk":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Themes"}]}, "ui/gtk/printing":{"tags":[{"key":"monorail_component", "value":"Internals>Printing"}]}, "ui/latency":{"tags":[{"key":"monorail_component", "value":"Speed>Metrics"}]}, "ui/latency/ipc":{"tags":[{"key":"monorail_component", "value":"UI"}]}, "ui/message_center":{"tags":[{"key":"monorail_component", "value":"UI>Notifications"}, {"key":"team_email", "value":"platform-capabilities@chromium.org"}]}, "ui/ozone":{"tags":[{"key":"monorail_component", "value":"Internals>Ozone"}, {"key":"team_email", "value":"ozone-dev@chromium.org"}]}, "ui/ozone/platform/cast":{"tags":[{"key":"monorail_component", "value":"Chromecast"}]}, "ui/ozone/platform/drm":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Display"}]}, "ui/platform_window":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}]}, "ui/shell_dialogs":{"tags":[{"key":"monorail_component", "value":"Internals>PlatformIntegration"}]}, "ui/snapshot":{"tags":[{"key":"monorail_component", "value":"Internals"}]}, "ui/strings":{"tags":[{"key":"monorail_component", "value":"UI>Internationalization"}]}, "ui/touch_selection":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Selection"}, {"key":"team_email", "value":"input-dev@chromium.org"}]}, "ui/views":{"tags":[{"key":"monorail_component", "value":"Internals>Views"}]}, "ui/views/accessibility":{"tags":[{"key":"monorail_component", "value":"UI>Accessibility"}, {"key":"team_email", "value":"chromium-accessibility@chromium.org"}]}, "ui/views/bubble":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Bubbles"}]}, "ui/web_dialogs":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "ui/webui":{"tags":[{"key":"monorail_component", "value":"UI>Browser>WebUI"}]}, "ui/webui/resources/cr_components/chromeos":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Settings"}]}, "ui/webui/resources/cr_components/chromeos/multidevice_setup":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Multidevice"}]}, "ui/webui/resources/cr_components/chromeos/network":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Network>General"}]}, "ui/webui/resources/cr_components/customize_themes":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Themes"}]}, "ui/webui/resources/cr_components/omnibox":{"tags":[{"key":"monorail_component", "value":"UI>Browser>Omnibox"}]}, "ui/webui/resources/cr_elements/chromeos":{"tags":[{"key":"monorail_component", "value":"OS>Systems>Settings"}]}, "ui/webui/resources/js/ios":{"tags":[{"key":"os", "value":"IOS"}, {"key":"team_email", "value":"ios-directory-owners@chromium.org"}]}, "ui/webui/resources/roboto":{"tags":[{"key":"monorail_component", "value":"UI>Browser"}]}, "url":{"tags":[{"key":"monorail_component", "value":"Internals>Core"}]}, "url/mojom":{"tags":[{"key":"monorail_component", "value":"Internals>Mojo"}]}, "v8":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript"}, {"key":"team_email", "value":"v8-dev@googlegroups.com"}]}, "v8/include":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>API"}]}, "v8/src/api":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>API"}]}, "v8/src/asmjs":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>WebAssembly"}]}, "v8/src/ast":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Parser"}]}, "v8/src/builtins":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/codegen":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Compiler"}]}, "v8/src/compiler":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Compiler"}]}, "v8/src/compiler-dispatcher":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Compiler"}]}, "v8/src/date":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/debug":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools>JavaScript"}]}, "v8/src/debug/wasm/gdb-server":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>WebAssembly"}]}, "v8/src/deoptimizer":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Compiler"}]}, "v8/src/execution":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/handles":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>GC"}]}, "v8/src/heap":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>GC"}]}, "v8/src/ic":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/init":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/inspector":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools>JavaScript"}]}, "v8/src/interpreter":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Interpreter"}]}, "v8/src/json":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/libplatform":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>API"}]}, "v8/src/libsampler":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools>JavaScript"}]}, "v8/src/numbers":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/objects":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/parsing":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Parser"}]}, "v8/src/profiler":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools>JavaScript"}]}, "v8/src/regexp":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/roots":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>GC"}]}, "v8/src/runtime":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/snapshot":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/strings":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Runtime"}]}, "v8/src/tracing":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools>JavaScript"}]}, "v8/src/trap-handler":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>WebAssembly"}]}, "v8/src/wasm":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>WebAssembly"}]}, "v8/test/cctest/wasm":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>WebAssembly"}]}, "v8/test/debugging/wasm/gdb-server":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>WebAssembly"}]}, "v8/test/inspector":{"tags":[{"key":"monorail_component", "value":"Platform>DevTools>JavaScript"}]}, "v8/test/intl":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>Internationalization"}]}, "v8/test/unittests/wasm":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>WebAssembly"}]}, "v8/test/wasm-spec-tests":{"tags":[{"key":"monorail_component", "value":"Blink>JavaScript>WebAssembly"}]}, "v8/tools/clusterfuzz/js_fuzzer":{"tags":[{"key":"monorail_component", "value":"Infra>Client>V8"}]}, "weblayer":{"tags":[{"key":"monorail_component", "value":"Internals>WebLayer"}, {"key":"team_email", "value":"weblayer-dev@chromium.org"}]}, "weblayer/browser/java/org/chromium/weblayer_private/payments":{"tags":[{"key":"monorail_component", "value":"Blink>Payments"}, {"key":"os", "value":"ANDROID"}, {"key":"team_email", "value":"payments-dev@chromium.org"}]}}}}}
diff --git a/third_party/blink/common/input/web_coalesced_input_event_mojom_traits.cc b/third_party/blink/common/input/web_coalesced_input_event_mojom_traits.cc
index 50fd458a6b4e6..e6d78f448dc3b 100644
--- a/third_party/blink/common/input/web_coalesced_input_event_mojom_traits.cc
+++ b/third_party/blink/common/input/web_coalesced_input_event_mojom_traits.cc
@@ -370,6 +370,13 @@ StructTraits<blink::mojom::EventDataView,
     return nullptr;
   const blink::WebKeyboardEvent* key_event =
       static_cast<const blink::WebKeyboardEvent*>(event->EventPointer());
+  // Assure char16_t[N] filds are null-terminated before converting
+  // them to std::u16string.
+  CHECK(std::find(std::begin(key_event->text), std::end(key_event->text), 0) <
+        std::end(key_event->text));
+  CHECK(std::find(std::begin(key_event->unmodified_text),
+                  std::end(key_event->unmodified_text),
+                  0) < std::end(key_event->unmodified_text));
   return blink::mojom::KeyData::New(
       key_event->dom_key, key_event->dom_code, key_event->windows_key_code,
       key_event->native_key_code, key_event->is_system_key,
diff --git a/third_party/blink/common/web_preferences/web_preferences.cc b/third_party/blink/common/web_preferences/web_preferences.cc
index b35748d8180ca..9414c4e6c3769 100644
--- a/third_party/blink/common/web_preferences/web_preferences.cc
+++ b/third_party/blink/common/web_preferences/web_preferences.cc
@@ -122,7 +122,7 @@ WebPreferences::WebPreferences()
 #endif
       supports_multiple_windows(true),
       viewport_enabled(false),
-#if defined(OS_ANDROID)
+#if defined(OS_ANDROID) || defined(OS_OHOS)
       viewport_meta_enabled(true),
       shrinks_viewport_contents_to_fit(true),
       viewport_style(mojom::ViewportStyle::kMobile),
@@ -155,13 +155,13 @@ WebPreferences::WebPreferences()
       text_tracks_enabled(false),
       text_track_margin_percentage(0.0f),
       immersive_mode_enabled(false),
-#if defined(OS_ANDROID) || defined(OS_MAC)
+#if defined(OS_ANDROID) || defined(OS_MAC) || defined(OS_OHOS)
       double_tap_to_zoom_enabled(true),
 #else
       double_tap_to_zoom_enabled(false),
 #endif
       fullscreen_supported(true),
-#if !defined(OS_ANDROID)
+#if !defined(OS_ANDROID) && !defined(OS_OHOS)
       text_autosizing_enabled(false),
 #else
       text_autosizing_enabled(true),
@@ -169,16 +169,16 @@ WebPreferences::WebPreferences()
       device_scale_adjustment(1.0f),
       force_enable_zoom(false),
       support_deprecated_target_density_dpi(false),
-      use_legacy_background_size_shorthand_behavior(false),
+      use_legacy_background_size_shorthand_behavior(true),
       wide_viewport_quirk(false),
-      use_wide_viewport(true),
+      use_wide_viewport(false),
       force_zero_layout_height(false),
-      viewport_meta_merge_content_quirk(false),
-      viewport_meta_non_user_scalable_quirk(false),
-      viewport_meta_zero_values_quirk(false),
+      viewport_meta_merge_content_quirk(true),
+      viewport_meta_non_user_scalable_quirk(true),
+      viewport_meta_zero_values_quirk(true),
       clobber_user_agent_initial_scale_quirk(false),
       ignore_main_frame_overflow_hidden_quirk(false),
-      report_screen_size_in_physical_pixels_quirk(false),
+      report_screen_size_in_physical_pixels_quirk(true),
       reuse_global_for_unowned_main_frame(false),
       spellcheck_enabled_by_default(true),
       video_fullscreen_orientation_lock_enabled(false),
@@ -196,7 +196,7 @@ WebPreferences::WebPreferences()
       default_minimum_page_scale_factor(1.f),
       default_maximum_page_scale_factor(3.f),
 #else
-      default_minimum_page_scale_factor(1.f),
+      default_minimum_page_scale_factor(2.f),
       default_maximum_page_scale_factor(4.f),
 #endif
       hide_download_ui(false),
diff --git a/third_party/blink/common/web_preferences/web_preferences_mojom_traits.cc b/third_party/blink/common/web_preferences/web_preferences_mojom_traits.cc
index 10829ad5220c9..96ed045f29367 100644
--- a/third_party/blink/common/web_preferences/web_preferences_mojom_traits.cc
+++ b/third_party/blink/common/web_preferences/web_preferences_mojom_traits.cc
@@ -164,7 +164,7 @@ bool StructTraits<blink::mojom::WebPreferencesDataView,
   out->double_tap_to_zoom_enabled = data.double_tap_to_zoom_enabled();
   out->fullscreen_supported = data.fullscreen_supported();
   out->text_autosizing_enabled = data.text_autosizing_enabled();
-#if defined(OS_ANDROID)
+#if defined(OS_ANDROID)  || defined(OS_OHOS)
   out->font_scale_factor = data.font_scale_factor();
   out->device_scale_adjustment = data.device_scale_adjustment();
   out->force_enable_zoom = data.force_enable_zoom();
diff --git a/third_party/blink/public/common/web_preferences/web_preferences_mojom_traits.h b/third_party/blink/public/common/web_preferences/web_preferences_mojom_traits.h
index ff772f7af69c2..5a3bcbbc36dfc 100644
--- a/third_party/blink/public/common/web_preferences/web_preferences_mojom_traits.h
+++ b/third_party/blink/public/common/web_preferences/web_preferences_mojom_traits.h
@@ -546,7 +546,7 @@ struct BLINK_COMMON_EXPORT StructTraits<blink::mojom::WebPreferencesDataView,
     return r.web_app_scope;
   }
 
-#if defined(OS_ANDROID)
+#if defined(OS_ANDROID) || defined(OS_OHOS)
   static float font_scale_factor(const blink::web_pref::WebPreferences& r) {
     return r.font_scale_factor;
   }
diff --git a/third_party/blink/public/mojom/webpreferences/web_preferences.mojom b/third_party/blink/public/mojom/webpreferences/web_preferences.mojom
index ba5ebe0cb8ee6..0b4d0c90ba89a 100644
--- a/third_party/blink/public/mojom/webpreferences/web_preferences.mojom
+++ b/third_party/blink/public/mojom/webpreferences/web_preferences.mojom
@@ -270,91 +270,91 @@ struct WebPreferences {
   // Representation of the Web App Manifest scope if any.
   url.mojom.Url web_app_scope;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   float font_scale_factor;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   float device_scale_adjustment;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool force_enable_zoom;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   url.mojom.Url default_video_poster_url;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool support_deprecated_target_density_dpi;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool use_legacy_background_size_shorthand_behavior;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool wide_viewport_quirk;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool use_wide_viewport;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool force_zero_layout_height;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool viewport_meta_merge_content_quirk;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool viewport_meta_non_user_scalable_quirk;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool viewport_meta_zero_values_quirk;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool clobber_user_agent_initial_scale_quirk;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool ignore_main_frame_overflow_hidden_quirk;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool report_screen_size_in_physical_pixels_quirk;
 
   // Used by Android_WebView only to support legacy apps that inject script int32o
   // a top-level initial empty document and expect it to persist on navigation.
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool reuse_global_for_unowned_main_frame;
 
   // Specifies default setting for spellcheck when the spellcheck attribute is
   // not explicitly specified.
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool spellcheck_enabled_by_default;
 
   // If enabled, when a video goes fullscreen, the orientation should be locked.
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool video_fullscreen_orientation_lock_enabled;
 
   // If enabled, fullscreen should be entered/exited when the device is rotated
   // to/from the orientation of the video.
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool video_rotate_to_fullscreen_enabled;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool embedded_media_experience_enabled;
 
   // Enable 8 (#RRGGBBAA) and 4 (#RGBA) value hex colors in CSS Android
   // WebView quirk (http://crbug.com/618472).
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool css_hex_alpha_color_enabled;
 
   // Enable support for document.scrollingElement
   // WebView sets this to false to retain old documentElement behaviour
   // (http://crbug.com/761016).
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool scroll_top_left_interop_enabled;
 
   // Disable features such as offscreen canvas that depend on the viz
   // architecture of surface embedding. Android WebView does not support this
   // architecture yet.
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   bool disable_features_depending_on_viz;
 
-  [EnableIf=is_android]
+  // [EnableIf=is_android]
   // Don't accelerate small canvases to avoid crashes TODO(crbug.com/1004304)
   bool disable_accelerated_small_canvases;
 
diff --git a/third_party/blink/renderer/core/exported/web_view_impl.cc b/third_party/blink/renderer/core/exported/web_view_impl.cc
index 47e3ebb6fa99d..4552b8ec8c4b7 100644
--- a/third_party/blink/renderer/core/exported/web_view_impl.cc
+++ b/third_party/blink/renderer/core/exported/web_view_impl.cc
@@ -1577,7 +1577,7 @@ void WebView::ApplyWebPreferences(const web_pref::WebPreferences& prefs,
       prefs.dont_send_key_events_to_javascript);
   settings->SetWebAppScope(WebString::FromASCII(prefs.web_app_scope.spec()));
 
-#if defined(OS_ANDROID)
+#if defined(OS_ANDROID) || defined(OS_OHOS)
   settings->SetAllowCustomScrollbarInMainFrame(false);
   settings->SetAccessibilityFontScaleFactor(prefs.font_scale_factor);
   settings->SetDeviceScaleAdjustment(prefs.device_scale_adjustment);
diff --git a/third_party/blink/renderer/core/frame/local_frame_view.cc b/third_party/blink/renderer/core/frame/local_frame_view.cc
index 58fc719381845..242a4ee59d559 100644
--- a/third_party/blink/renderer/core/frame/local_frame_view.cc
+++ b/third_party/blink/renderer/core/frame/local_frame_view.cc
@@ -216,7 +216,7 @@ constexpr int kCommitDelayDefaultInMs = 500;  // 30 frames @ 60hz
 // The maximum number of updatePlugins iterations that should be done before
 // returning.
 static const unsigned kMaxUpdatePluginsIterations = 2;
-
+static const float kInitialLayoutSizeRatio = 2.0;
 LocalFrameView::LocalFrameView(LocalFrame& frame)
     : LocalFrameView(frame, IntRect()) {
   Show();
@@ -1515,8 +1515,8 @@ void LocalFrameView::SetLayoutSize(const IntSize& size) {
   if (frame_->GetDocument() &&
       frame_->GetDocument()->Lifecycle().LifecyclePostponed())
     return;
-
-  SetLayoutSizeInternal(size);
+  IntSize size_tmp(size.Width() / kInitialLayoutSizeRatio, size.Height() / kInitialLayoutSizeRatio);
+  SetLayoutSizeInternal(size_tmp);
 }
 
 void LocalFrameView::SetLayoutSizeFixedToFrameSize(bool is_fixed) {
diff --git a/third_party/blink/renderer/core/inspector/inspect_tools.cc b/third_party/blink/renderer/core/inspector/inspect_tools.cc
index 937955cb02f84..474cd28fd6e6b 100644
--- a/third_party/blink/renderer/core/inspector/inspect_tools.cc
+++ b/third_party/blink/renderer/core/inspector/inspect_tools.cc
@@ -436,16 +436,11 @@ bool PersistentTool::IsEmpty() {
   return !grid_node_highlights_.size() && !flex_container_configs_.size();
 }
 
-void PersistentTool::SetGridConfigs(
-    Vector<std::pair<Member<Node>,
-                     std::unique_ptr<InspectorGridHighlightConfig>>> configs) {
+void PersistentTool::SetGridConfigs(GirdConfigs configs) {
   grid_node_highlights_ = std::move(configs);
 }
 
-void PersistentTool::SetFlexContainerConfigs(
-    Vector<std::pair<Member<Node>,
-                     std::unique_ptr<InspectorFlexContainerHighlightConfig>>>
-        configs) {
+void PersistentTool::SetFlexContainerConfigs(FlexContainerConfigs configs) {
   flex_container_configs_ = std::move(configs);
 }
 
@@ -464,14 +459,14 @@ bool PersistentTool::HideOnMouseMove() {
 void PersistentTool::Draw(float scale) {
   for (auto& entry : grid_node_highlights_) {
     std::unique_ptr<protocol::Value> highlight =
-        InspectorGridHighlight(entry.first.Get(), *(entry.second));
+        InspectorGridHighlight(entry.key, *(entry.value));
     if (!highlight)
       continue;
     overlay_->EvaluateInOverlay("drawGridHighlight", std::move(highlight));
   }
   for (auto& entry : flex_container_configs_) {
     std::unique_ptr<protocol::Value> highlight =
-        InspectorFlexContainerHighlight(entry.first.Get(), *(entry.second));
+        InspectorFlexContainerHighlight(entry.key, *(entry.value));
     if (!highlight)
       continue;
     overlay_->EvaluateInOverlay("drawFlexContainerHighlight",
@@ -485,7 +480,7 @@ PersistentTool::GetGridInspectorHighlightsAsJson() const {
       protocol::ListValue::create();
   for (auto& entry : grid_node_highlights_) {
     std::unique_ptr<protocol::Value> highlight =
-        InspectorGridHighlight(entry.first.Get(), *(entry.second));
+        InspectorGridHighlight(entry.key, *(entry.value));
     if (!highlight)
       continue;
     highlights->pushValue(std::move(highlight));
@@ -498,6 +493,12 @@ PersistentTool::GetGridInspectorHighlightsAsJson() const {
   return result;
 }
 
+void PersistentTool::Trace(Visitor* visitor) const {
+  InspectTool::Trace(visitor);
+  visitor->Trace(grid_node_highlights_);
+  visitor->Trace(flex_container_configs_);
+}
+
 // SourceOrderTool -----------------------------------------------------------
 
 SourceOrderTool::SourceOrderTool(
diff --git a/third_party/blink/renderer/core/inspector/inspect_tools.h b/third_party/blink/renderer/core/inspector/inspect_tools.h
index bd16149f25fbd..095843a9d91fb 100644
--- a/third_party/blink/renderer/core/inspector/inspect_tools.h
+++ b/third_party/blink/renderer/core/inspector/inspect_tools.h
@@ -142,11 +142,11 @@ class SourceOrderTool : public InspectTool {
 
 // -----------------------------------------------------------------------------
 
-using GirdConfigs = Vector<
-    std::pair<Member<Node>, std::unique_ptr<InspectorGridHighlightConfig>>>;
+using GirdConfigs = HeapHashMap<WeakMember<Node>,
+                                std::unique_ptr<InspectorGridHighlightConfig>>;
 using FlexContainerConfigs =
-    Vector<std::pair<Member<Node>,
-                     std::unique_ptr<InspectorFlexContainerHighlightConfig>>>;
+    HeapHashMap<WeakMember<Node>,
+                std::unique_ptr<InspectorFlexContainerHighlightConfig>>;
 class PersistentTool : public InspectTool {
   using InspectTool::InspectTool;
 
@@ -159,6 +159,8 @@ class PersistentTool : public InspectTool {
   std::unique_ptr<protocol::DictionaryValue> GetGridInspectorHighlightsAsJson()
       const;
 
+  void Trace(Visitor* visitor) const override;
+
  private:
   bool ForwardEventsToOverlay() override;
   bool HideOnMouseMove() override;
diff --git a/third_party/blink/renderer/core/inspector/inspector_overlay_agent.cc b/third_party/blink/renderer/core/inspector/inspector_overlay_agent.cc
index a0ea77ccffc3f..d911642214dd3 100644
--- a/third_party/blink/renderer/core/inspector/inspector_overlay_agent.cc
+++ b/third_party/blink/renderer/core/inspector/inspector_overlay_agent.cc
@@ -700,7 +700,7 @@ Response InspectorOverlayAgent::setShowGridOverlays(
         MakeGarbageCollected<PersistentTool>(this, GetFrontend());
   }
 
-  Vector<std::pair<Member<Node>, std::unique_ptr<InspectorGridHighlightConfig>>>
+  HeapHashMap<WeakMember<Node>, std::unique_ptr<InspectorGridHighlightConfig>>
       configs;
   for (std::unique_ptr<protocol::Overlay::GridNodeHighlightConfig>& config :
        *grid_node_highlight_configs) {
@@ -708,9 +708,8 @@ Response InspectorOverlayAgent::setShowGridOverlays(
     Response response = dom_agent_->AssertNode(config->getNodeId(), node);
     if (!response.IsSuccess())
       return response;
-    configs.push_back(
-        std::make_pair(node, InspectorOverlayAgent::ToGridHighlightConfig(
-                                 config->getGridHighlightConfig())));
+    configs.insert(node, InspectorOverlayAgent::ToGridHighlightConfig(
+                             config->getGridHighlightConfig()));
   }
 
   persistent_tool_->SetGridConfigs(std::move(configs));
@@ -728,8 +727,8 @@ Response InspectorOverlayAgent::setShowFlexOverlays(
         MakeGarbageCollected<PersistentTool>(this, GetFrontend());
   }
 
-  Vector<std::pair<Member<Node>,
-                   std::unique_ptr<InspectorFlexContainerHighlightConfig>>>
+  HeapHashMap<WeakMember<Node>,
+              std::unique_ptr<InspectorFlexContainerHighlightConfig>>
       configs;
 
   for (std::unique_ptr<protocol::Overlay::FlexNodeHighlightConfig>& config :
@@ -738,9 +737,8 @@ Response InspectorOverlayAgent::setShowFlexOverlays(
     Response response = dom_agent_->AssertNode(config->getNodeId(), node);
     if (!response.IsSuccess())
       return response;
-    configs.push_back(std::make_pair(
-        node, InspectorOverlayAgent::ToFlexContainerHighlightConfig(
-                  config->getFlexContainerHighlightConfig())));
+    configs.insert(node, InspectorOverlayAgent::ToFlexContainerHighlightConfig(
+                             config->getFlexContainerHighlightConfig()));
   }
 
   persistent_tool_->SetFlexContainerConfigs(std::move(configs));
@@ -844,16 +842,16 @@ Response InspectorOverlayAgent::getGridHighlightObjectsForTest(
     std::unique_ptr<protocol::Array<int>> node_ids,
     std::unique_ptr<protocol::DictionaryValue>* highlights) {
   PersistentTool persistent_tool(this, GetFrontend());
-  Vector<std::pair<Member<Node>, std::unique_ptr<InspectorGridHighlightConfig>>>
+
+  HeapHashMap<WeakMember<Node>, std::unique_ptr<InspectorGridHighlightConfig>>
       configs;
   for (const int node_id : *node_ids) {
     Node* node = nullptr;
     Response response = dom_agent_->AssertNode(node_id, node);
     if (!response.IsSuccess())
       return response;
-    configs.push_back(
-        std::make_pair(node, std::make_unique<InspectorGridHighlightConfig>(
-                                 InspectorHighlight::DefaultGridConfig())));
+    configs.insert(node, std::make_unique<InspectorGridHighlightConfig>(
+                             InspectorHighlight::DefaultGridConfig()));
   }
   persistent_tool.SetGridConfigs(std::move(configs));
   *highlights = persistent_tool.GetGridInspectorHighlightsAsJson();
diff --git a/third_party/blink/renderer/core/page/drag_data.cc b/third_party/blink/renderer/core/page/drag_data.cc
index d5ace3a879ab5..36ad9f68d3a79 100644
--- a/third_party/blink/renderer/core/page/drag_data.cc
+++ b/third_party/blink/renderer/core/page/drag_data.cc
@@ -131,8 +131,8 @@ DocumentFragment* DragData::AsFragment(LocalFrame* frame) const {
     platform_drag_data_->HtmlAndBaseURL(html, base_url);
     DCHECK(frame->GetDocument());
     if (DocumentFragment* fragment =
-            CreateFragmentFromMarkup(*frame->GetDocument(), html, base_url,
-                                     kDisallowScriptingAndPluginContent))
+            CreateSanitizedFragmentFromMarkupWithContext(
+                *frame->GetDocument(), html, 0, html.length(), base_url))
       return fragment;
   }
 
diff --git a/third_party/blink/renderer/modules/webdatabase/database_tracker.cc b/third_party/blink/renderer/modules/webdatabase/database_tracker.cc
index 8f2f867209447..58970ecb8216b 100644
--- a/third_party/blink/renderer/modules/webdatabase/database_tracker.cc
+++ b/third_party/blink/renderer/modules/webdatabase/database_tracker.cc
@@ -78,9 +78,18 @@ bool DatabaseTracker::CanEstablishDatabase(DatabaseContext* database_context,
 String DatabaseTracker::FullPathForDatabase(const SecurityOrigin* origin,
                                             const String& name,
                                             bool) {
+#ifdef OS_OHOS
+    String fileName = "/data/storage/el2/base/" +
+        String(Platform::Current()->DatabaseCreateOriginIdentifier(WebSecurityOrigin(origin)));
+    if (mkdir(fileName.Utf8().c_str(), 0777) != 0) {
+      LOG(ERROR) << " database open directory failed;";
+    }
+    return fileName + "/" + name + ".db";
+#else
   return String(Platform::Current()->DatabaseCreateOriginIdentifier(
              WebSecurityOrigin(origin))) +
          "/" + name + "#";
+#endif
 }
 
 void DatabaseTracker::AddOpenDatabase(Database* database) {
diff --git a/third_party/blink/renderer/modules/webdatabase/sqlite/sqlite_database.cc b/third_party/blink/renderer/modules/webdatabase/sqlite/sqlite_database.cc
index b35b16647701f..19104b3812dad 100644
--- a/third_party/blink/renderer/modules/webdatabase/sqlite/sqlite_database.cc
+++ b/third_party/blink/renderer/modules/webdatabase/sqlite/sqlite_database.cc
@@ -46,10 +46,14 @@ std::tuple<int, sqlite3*> OpenDatabase(const String& filename) {
                               /*make_default=*/false);
 
   sqlite3* connection;
+#ifdef OS_OHOS
+   int status = sqlite3_open(filename.Utf8().c_str(), &connection);
+#else
   constexpr int open_flags =
       SQLITE_OPEN_READWRITE | SQLITE_OPEN_CREATE | SQLITE_OPEN_PRIVATECACHE;
   int status = sqlite3_open_v2(filename.Utf8().c_str(), &connection, open_flags,
                                kSqliteVfsName);
+#endif
   if (status != SQLITE_OK) {
     // SQLite creates a connection handle in most cases where open fails.
     if (connection) {
diff --git a/third_party/blink/renderer/platform/blob/blob_bytes_provider.cc b/third_party/blink/renderer/platform/blob/blob_bytes_provider.cc
index 7aa139649f7ec..2a46cd2464387 100644
--- a/third_party/blink/renderer/platform/blob/blob_bytes_provider.cc
+++ b/third_party/blink/renderer/platform/blob/blob_bytes_provider.cc
@@ -31,13 +31,10 @@ class BlobBytesStreamer {
 
  public:
   BlobBytesStreamer(Vector<scoped_refptr<RawData>> data,
-                    mojo::ScopedDataPipeProducerHandle pipe,
-                    scoped_refptr<base::SequencedTaskRunner> task_runner)
+                    mojo::ScopedDataPipeProducerHandle pipe)
       : data_(std::move(data)),
         pipe_(std::move(pipe)),
-        watcher_(FROM_HERE,
-                 mojo::SimpleWatcher::ArmingPolicy::AUTOMATIC,
-                 std::move(task_runner)) {
+        watcher_(FROM_HERE, mojo::SimpleWatcher::ArmingPolicy::AUTOMATIC) {
     watcher_.Watch(pipe_.get(), MOJO_HANDLE_SIGNAL_WRITABLE,
                    MOJO_WATCH_CONDITION_SATISFIED,
                    WTF::BindRepeating(&BlobBytesStreamer::OnWritable,
@@ -45,6 +42,8 @@ class BlobBytesStreamer {
   }
 
   void OnWritable(MojoResult result, const mojo::HandleSignalsState& state) {
+    DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
+
     if (result == MOJO_RESULT_CANCELLED ||
         result == MOJO_RESULT_FAILED_PRECONDITION) {
       delete this;
@@ -84,15 +83,18 @@ class BlobBytesStreamer {
 
  private:
   // The index of the item currently being written.
-  size_t current_item_ = 0;
+  wtf_size_t current_item_ GUARDED_BY_CONTEXT(sequence_checker_) = 0;
   // The offset into the current item of the first byte not yet written to the
   // data pipe.
-  size_t current_item_offset_ = 0;
+  size_t current_item_offset_ GUARDED_BY_CONTEXT(sequence_checker_) = 0;
   // The data being written.
-  Vector<scoped_refptr<RawData>> data_;
+  Vector<scoped_refptr<RawData>> data_ GUARDED_BY_CONTEXT(sequence_checker_);
+
+  mojo::ScopedDataPipeProducerHandle pipe_
+      GUARDED_BY_CONTEXT(sequence_checker_);
+  mojo::SimpleWatcher watcher_ GUARDED_BY_CONTEXT(sequence_checker_);
 
-  mojo::ScopedDataPipeProducerHandle pipe_;
-  mojo::SimpleWatcher watcher_;
+  SEQUENCE_CHECKER(sequence_checker_);
 };
 
 // This keeps the process alive while blobs are being transferred.
@@ -118,31 +120,8 @@ void DecreaseChildProcessRefCount() {
 
 constexpr size_t BlobBytesProvider::kMaxConsolidatedItemSizeInBytes;
 
-// static
-BlobBytesProvider* BlobBytesProvider::CreateAndBind(
-    mojo::PendingReceiver<mojom::blink::BytesProvider> receiver) {
-  auto task_runner = base::ThreadPool::CreateSequencedTaskRunner(
-      {base::MayBlock(), base::TaskPriority::USER_VISIBLE});
-  auto provider = base::WrapUnique(new BlobBytesProvider(task_runner));
-  auto* result = provider.get();
-  // TODO(mek): Consider binding BytesProvider on the IPC thread instead, only
-  // using the MayBlock taskrunner for actual file operations.
-  PostCrossThreadTask(
-      *task_runner, FROM_HERE,
-      CrossThreadBindOnce(
-          [](std::unique_ptr<BlobBytesProvider> provider,
-             mojo::PendingReceiver<mojom::blink::BytesProvider> receiver) {
-            mojo::MakeSelfOwnedReceiver(std::move(provider),
-                                        std::move(receiver));
-          },
-          std::move(provider), std::move(receiver)));
-  return result;
-}
-
-// static
-std::unique_ptr<BlobBytesProvider> BlobBytesProvider::CreateForTesting(
-    scoped_refptr<base::SequencedTaskRunner> task_runner) {
-  return base::WrapUnique(new BlobBytesProvider(std::move(task_runner)));
+BlobBytesProvider::BlobBytesProvider() {
+  IncreaseChildProcessRefCount();
 }
 
 BlobBytesProvider::~BlobBytesProvider() {
@@ -150,6 +129,8 @@ BlobBytesProvider::~BlobBytesProvider() {
 }
 
 void BlobBytesProvider::AppendData(scoped_refptr<RawData> data) {
+  DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
+
   if (!data_.IsEmpty()) {
     uint64_t last_offset = offsets_.IsEmpty() ? 0 : offsets_.back();
     offsets_.push_back(last_offset + data_.back()->length());
@@ -158,6 +139,8 @@ void BlobBytesProvider::AppendData(scoped_refptr<RawData> data) {
 }
 
 void BlobBytesProvider::AppendData(base::span<const char> data) {
+  DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
+
   if (data_.IsEmpty() ||
       data_.back()->length() + data.size() > kMaxConsolidatedItemSizeInBytes) {
     AppendData(RawData::Create());
@@ -165,8 +148,30 @@ void BlobBytesProvider::AppendData(base::span<const char> data) {
   data_.back()->MutableData()->Append(data.data(), data.size());
 }
 
+void BlobBytesProvider::Bind(
+ std::unique_ptr<BlobBytesProvider> provider,
+     mojo::PendingReceiver<mojom::blink::BytesProvider> receiver) {
+      DCHECK_CALLED_ON_VALID_SEQUENCE(provider->sequence_checker_);
+        DETACH_FROM_SEQUENCE(provider->sequence_checker_);
+
+          auto task_runner = base::ThreadPool::CreateSequencedTaskRunner(
+                    {base::MayBlock(), base::TaskPriority::USER_VISIBLE});
+            // TODO(mek): Consider binding BytesProvider on the IPC thread instead, only
+            // using the MayBlock taskrunner for actual file operations.
+            PostCrossThreadTask(
+                *task_runner, FROM_HERE,
+                CrossThreadBindOnce(
+                   [](std::unique_ptr<BlobBytesProvider> provider,
+                        mojo::PendingReceiver<mojom::blink::BytesProvider> receiver) {
+                       DCHECK_CALLED_ON_VALID_SEQUENCE(provider->sequence_checker_);
+                       mojo::MakeSelfOwnedReceiver(std::move(provider),
+                                                   std::move(receiver));
+                    },
+                    std::move(provider), std::move(receiver)));
+}
+
 void BlobBytesProvider::RequestAsReply(RequestAsReplyCallback callback) {
-  DCHECK(task_runner_->RunsTasksInCurrentSequence());
+  DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
   // TODO(mek): Once better metrics are created we could experiment with ways
   // to reduce the number of copies of data that are made here.
   Vector<uint8_t> result;
@@ -177,9 +182,10 @@ void BlobBytesProvider::RequestAsReply(RequestAsReplyCallback callback) {
 
 void BlobBytesProvider::RequestAsStream(
     mojo::ScopedDataPipeProducerHandle pipe) {
-  DCHECK(task_runner_->RunsTasksInCurrentSequence());
+  DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
+
   // BlobBytesStreamer will self delete when done.
-  new BlobBytesStreamer(std::move(data_), std::move(pipe), task_runner_);
+  new BlobBytesStreamer(std::move(data_), std::move(pipe));
 }
 
 void BlobBytesProvider::RequestAsFile(uint64_t source_offset,
@@ -187,7 +193,7 @@ void BlobBytesProvider::RequestAsFile(uint64_t source_offset,
                                       base::File file,
                                       uint64_t file_offset,
                                       RequestAsFileCallback callback) {
-  DCHECK(task_runner_->RunsTasksInCurrentSequence());
+  DCHECK_CALLED_ON_VALID_SEQUENCE(sequence_checker_);
 
   if (!file.IsValid()) {
     std::move(callback).Run(base::nullopt);
@@ -255,10 +261,4 @@ void BlobBytesProvider::RequestAsFile(uint64_t source_offset,
   std::move(callback).Run(info.last_modified);
 }
 
-BlobBytesProvider::BlobBytesProvider(
-    scoped_refptr<base::SequencedTaskRunner> task_runner)
-    : task_runner_(std::move(task_runner)) {
-  IncreaseChildProcessRefCount();
-}
-
 }  // namespace blink
diff --git a/third_party/blink/renderer/platform/blob/blob_bytes_provider.h b/third_party/blink/renderer/platform/blob/blob_bytes_provider.h
index 59b019a6ce9c6..eb4f778e72dcc 100644
--- a/third_party/blink/renderer/platform/blob/blob_bytes_provider.h
+++ b/third_party/blink/renderer/platform/blob/blob_bytes_provider.h
@@ -5,6 +5,7 @@
 #ifndef THIRD_PARTY_BLINK_RENDERER_PLATFORM_BLOB_BLOB_BYTES_PROVIDER_H_
 #define THIRD_PARTY_BLINK_RENDERER_PLATFORM_BLOB_BLOB_BYTES_PROVIDER_H_
 
+#include "base/sequence_checker.h"
 #include "base/sequenced_task_runner.h"
 #include "third_party/blink/public/mojom/blob/blob_registry.mojom-blink-forward.h"
 #include "third_party/blink/public/mojom/blob/data_element.mojom-blink.h"
@@ -16,8 +17,8 @@ namespace blink {
 // making up a blob to the browser process, at the request of the blob service.
 //
 // Typical usage of this class creates and calls AppendData on one thread, and
-// then transfers ownership of the class to a different thread where it will be
-// bound to a mojo pipe, such that the various Request* methods are called on a
+// then transfers ownership of the class to a different thread using the `Bind`
+// method. This ensures that the various Request* methods are called on a
 // thread that is allowed to do File IO.
 class PLATFORM_EXPORT BlobBytesProvider : public mojom::blink::BytesProvider {
  public:
@@ -25,19 +26,17 @@ class PLATFORM_EXPORT BlobBytesProvider : public mojom::blink::BytesProvider {
   // data appended to the same item.
   static constexpr size_t kMaxConsolidatedItemSizeInBytes = 15 * 1024;
 
-  // Creates a new instance, and binds it on a new SequencedTaskRunner. The
-  // returned instance should only be considered valid as long as the request
-  // passed in to this method is still known to be valid.
-  static BlobBytesProvider* CreateAndBind(
-      mojo::PendingReceiver<mojom::blink::BytesProvider>);
-  static std::unique_ptr<BlobBytesProvider> CreateForTesting(
-      scoped_refptr<base::SequencedTaskRunner>);
-
+  BlobBytesProvider();
   ~BlobBytesProvider() override;
 
   void AppendData(scoped_refptr<RawData>);
   void AppendData(base::span<const char>);
 
+  // Binds `provider` to `receiver` on a threadpool task runner, transferring
+  // ownership.
+  static void Bind(std::unique_ptr<BlobBytesProvider> provider,
+                   mojo::PendingReceiver<mojom::blink::BytesProvider> receiver);
+
   // BytesProvider implementation:
   void RequestAsReply(RequestAsReplyCallback) override;
   void RequestAsStream(mojo::ScopedDataPipeProducerHandle) override;
@@ -50,17 +49,13 @@ class PLATFORM_EXPORT BlobBytesProvider : public mojom::blink::BytesProvider {
  private:
   FRIEND_TEST_ALL_PREFIXES(BlobBytesProviderTest, Consolidation);
 
-  BlobBytesProvider(scoped_refptr<base::SequencedTaskRunner>);
-
-  // The task runner this class is bound on, as well as what is used by the
-  // RequestAsStream method to monitor the data pipe.
-  scoped_refptr<base::SequencedTaskRunner> task_runner_;
-
-  Vector<scoped_refptr<RawData>> data_;
+  Vector<scoped_refptr<RawData>> data_ GUARDED_BY_CONTEXT(sequence_checker_);
   // |offsets_| always contains exactly one fewer item than |data_| (except when
   // |data_| itself is empty).
   // offsets_[x] is equal to the sum of data_[i].length for all i <= x.
-  Vector<uint64_t> offsets_;
+  Vector<uint64_t> offsets_ GUARDED_BY_CONTEXT(sequence_checker_);
+
+  SEQUENCE_CHECKER(sequence_checker_);
 };
 
 }  // namespace blink
diff --git a/third_party/blink/renderer/platform/blob/blob_bytes_provider_test.cc b/third_party/blink/renderer/platform/blob/blob_bytes_provider_test.cc
index abacfde3a7a1e..1366396668fef 100644
--- a/third_party/blink/renderer/platform/blob/blob_bytes_provider_test.cc
+++ b/third_party/blink/renderer/platform/blob/blob_bytes_provider_test.cc
@@ -52,8 +52,7 @@ class BlobBytesProviderTest : public testing::Test {
 
   std::unique_ptr<BlobBytesProvider> CreateProvider(
       scoped_refptr<RawData> data = nullptr) {
-    auto result = BlobBytesProvider::CreateForTesting(
-        blink::scheduler::GetSequencedTaskRunnerForTesting());
+    auto result = std::make_unique<BlobBytesProvider>();
     if (data)
       result->AppendData(std::move(data));
     return result;
@@ -73,6 +72,7 @@ class BlobBytesProviderTest : public testing::Test {
 
 TEST_F(BlobBytesProviderTest, Consolidation) {
   auto data = CreateProvider();
+  DCHECK_CALLED_ON_VALID_SEQUENCE(data->sequence_checker_);
   data->AppendData(base::make_span("abc", 3));
   data->AppendData(base::make_span("def", 3));
   data->AppendData(base::make_span("ps1", 3));
diff --git a/third_party/blink/renderer/platform/blob/blob_data.cc b/third_party/blink/renderer/platform/blob/blob_data.cc
index a381dbc314076..feeae4779a5e5 100644
--- a/third_party/blink/renderer/platform/blob/blob_data.cc
+++ b/third_party/blink/renderer/platform/blob/blob_data.cc
@@ -106,6 +106,12 @@ BlobData::BlobData(FileCompositionStatus composition)
 BlobData::~BlobData() = default;
 
 Vector<mojom::blink::DataElementPtr> BlobData::ReleaseElements() {
+  if (last_bytes_provider_) {
+    DCHECK(last_bytes_provider_receiver_);
+    BlobBytesProvider::Bind(std::move(last_bytes_provider_),
+                            std::move(last_bytes_provider_receiver_));
+  }
+
   return std::move(elements_);
 }
 
@@ -140,16 +146,6 @@ std::unique_ptr<BlobData> BlobData::CreateForFileSystemURLWithUnknownSize(
   return data;
 }
 
-void BlobData::DetachFromCurrentThread() {
-  content_type_ = content_type_.IsolatedCopy();
-  for (auto& element : elements_) {
-    if (element->is_file_filesystem()) {
-      auto& file_element = element->get_file_filesystem();
-      file_element->url = file_element->url.Copy();
-    }
-  }
-}
-
 void BlobData::SetContentType(const String& content_type) {
   if (IsValidBlobType(content_type))
     content_type_ = content_type;
@@ -273,6 +269,7 @@ void BlobData::AppendDataInternal(base::span<const char> data,
   if (!elements_.IsEmpty() && elements_.back()->is_bytes()) {
     // Append bytes to previous element.
     DCHECK(last_bytes_provider_);
+    DCHECK(last_bytes_provider_receiver_);
     const auto& bytes_element = elements_.back()->get_bytes();
     bytes_element->length += data.size();
     if (should_embed_bytes && bytes_element->embedded_data) {
@@ -283,9 +280,18 @@ void BlobData::AppendDataInternal(base::span<const char> data,
       bytes_element->embedded_data = base::nullopt;
     }
   } else {
+    if (last_bytes_provider_) {
+      // If `last_bytes_provider_` is set, but the previous element is not a
+      // bytes element, a new BytesProvider will be created and we need to
+      // make sure to bind the previous one first.
+      DCHECK(last_bytes_provider_receiver_);
+      BlobBytesProvider::Bind(std::move(last_bytes_provider_),
+                              std::move(last_bytes_provider_receiver_));
+    }
     mojo::PendingRemote<BytesProvider> bytes_provider_remote;
-    last_bytes_provider_ = BlobBytesProvider::CreateAndBind(
-        bytes_provider_remote.InitWithNewPipeAndPassReceiver());
+    last_bytes_provider_ = std::make_unique<BlobBytesProvider>();
+    last_bytes_provider_receiver_ =
+        bytes_provider_remote.InitWithNewPipeAndPassReceiver();
 
     auto bytes_element = DataElementBytes::New(
         data.size(), base::nullopt, std::move(bytes_provider_remote));
diff --git a/third_party/blink/renderer/platform/blob/blob_data.h b/third_party/blink/renderer/platform/blob/blob_data.h
index 697c6ce501e1a..0b627619e772e 100644
--- a/third_party/blink/renderer/platform/blob/blob_data.h
+++ b/third_party/blink/renderer/platform/blob/blob_data.h
@@ -43,6 +43,7 @@
 #include "base/thread_annotations.h"
 #include "mojo/public/cpp/bindings/pending_remote.h"
 #include "mojo/public/cpp/bindings/struct_ptr.h"
+#include "third_party/blink/public/mojom/blob/data_element.mojom-blink-forward.h"
 #include "third_party/blink/renderer/platform/weborigin/kurl.h"
 #include "third_party/blink/renderer/platform/wtf/allocator/allocator.h"
 #include "third_party/blink/renderer/platform/wtf/forward.h"
@@ -117,13 +118,12 @@ class PLATFORM_EXPORT BlobData {
       const KURL& file_system_url,
       const base::Optional<base::Time>& expected_modification_time);
 
-  // Detaches from current thread so that it can be passed to another thread.
-  void DetachFromCurrentThread();
+
 
   const String& ContentType() const { return content_type_; }
   void SetContentType(const String&);
 
-  const Vector<mojom::blink::DataElementPtr>& Elements() const {
+  const Vector<mojom::blink::DataElementPtr>& ElementsForTesting() const {
     return elements_;
   }
   Vector<mojom::blink::DataElementPtr> ReleaseElements();
@@ -165,7 +165,14 @@ class PLATFORM_EXPORT BlobData {
 
   Vector<mojom::blink::DataElementPtr> elements_;
   size_t current_memory_population_ = 0;
-  BlobBytesProvider* last_bytes_provider_ = nullptr;
+  // These two members are used to combine multiple consecutive 'bytes' elements
+  // (as created by `AppendBytes`, `AppendData` or `AppendText`) into a single
+  // element. When one has a value the other also has a value. Before using
+  // `elements_` to actually create a blob, `last_bytes_provider_` should be
+  // bound to `last_bytes_provider_receiver_`.
+  std::unique_ptr<BlobBytesProvider> last_bytes_provider_;
+  mojo::PendingReceiver<mojom::blink::BytesProvider>
+      last_bytes_provider_receiver_;
 
   DISALLOW_COPY_AND_ASSIGN(BlobData);
 };
diff --git a/third_party/blink/renderer/platform/blob/blob_data_test.cc b/third_party/blink/renderer/platform/blob/blob_data_test.cc
index b515e0b11ad3e..b0e2aae532fbd 100644
--- a/third_party/blink/renderer/platform/blob/blob_data_test.cc
+++ b/third_party/blink/renderer/platform/blob/blob_data_test.cc
@@ -313,7 +313,7 @@ TEST_F(BlobDataHandleTest, CreateFromMergedBytes) {
   auto data = std::make_unique<BlobData>();
   data->AppendBytes(medium_test_data_.data(), medium_test_data_.size());
   data->AppendBytes(small_test_data_.data(), small_test_data_.size());
-  EXPECT_EQ(1u, data->Elements().size());
+  EXPECT_EQ(1u, data->ElementsForTesting().size());
 
   Vector<uint8_t> expected_data = medium_test_data_;
   expected_data.AppendVector(small_test_data_);
@@ -329,7 +329,7 @@ TEST_F(BlobDataHandleTest, CreateFromMergedLargeAndSmallBytes) {
   auto data = std::make_unique<BlobData>();
   data->AppendBytes(large_test_data_.data(), large_test_data_.size());
   data->AppendBytes(small_test_data_.data(), small_test_data_.size());
-  EXPECT_EQ(1u, data->Elements().size());
+  EXPECT_EQ(1u, data->ElementsForTesting().size());
 
   Vector<uint8_t> expected_data = large_test_data_;
   expected_data.AppendVector(small_test_data_);
@@ -345,7 +345,7 @@ TEST_F(BlobDataHandleTest, CreateFromMergedSmallAndLargeBytes) {
   auto data = std::make_unique<BlobData>();
   data->AppendBytes(small_test_data_.data(), small_test_data_.size());
   data->AppendBytes(large_test_data_.data(), large_test_data_.size());
-  EXPECT_EQ(1u, data->Elements().size());
+  EXPECT_EQ(1u, data->ElementsForTesting().size());
 
   Vector<uint8_t> expected_data = small_test_data_;
   expected_data.AppendVector(large_test_data_);
diff --git a/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc b/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc
index 8355cb96cb44c..04880ad2c1edf 100644
--- a/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc
+++ b/third_party/blink/renderer/platform/graphics/gpu/webgl_image_conversion.cc
@@ -3996,8 +3996,10 @@ bool WebGLImageConversion::ExtractTextureData(
   data.resize(width * height * bytes_per_pixel);
 
   unsigned image_size_in_bytes, skip_size_in_bytes;
-  ComputeImageSizeInBytes(format, type, width, height, 1, unpack_params,
-                          &image_size_in_bytes, nullptr, &skip_size_in_bytes);
+  if (ComputeImageSizeInBytes(format, type, width, height, 1, unpack_params,
+                              &image_size_in_bytes, nullptr,
+                              &skip_size_in_bytes) != GL_NO_ERROR)
+    return false;
   const uint8_t* src_data = static_cast<const uint8_t*>(pixels);
   if (skip_size_in_bytes) {
     src_data += skip_size_in_bytes;
diff --git a/third_party/blink/renderer/platform/loader/fetch/resource_load_scheduler.cc b/third_party/blink/renderer/platform/loader/fetch/resource_load_scheduler.cc
index 33552b6c6d25d..0642aabc26bee 100644
--- a/third_party/blink/renderer/platform/loader/fetch/resource_load_scheduler.cc
+++ b/third_party/blink/renderer/platform/loader/fetch/resource_load_scheduler.cc
@@ -16,6 +16,7 @@
 #include "third_party/blink/public/common/features.h"
 #include "third_party/blink/public/mojom/devtools/console_message.mojom-blink.h"
 #include "third_party/blink/public/platform/platform.h"
+#include "third_party/blink/renderer/platform/heap/persistent.h"
 #include "third_party/blink/renderer/platform/instrumentation/histogram.h"
 #include "third_party/blink/renderer/platform/loader/fetch/console_logger.h"
 #include "third_party/blink/renderer/platform/loader/fetch/loading_behavior_observer.h"
@@ -23,6 +24,7 @@
 #include "third_party/blink/renderer/platform/runtime_enabled_features.h"
 #include "third_party/blink/renderer/platform/scheduler/public/aggregated_metric_reporter.h"
 #include "third_party/blink/renderer/platform/scheduler/public/frame_status.h"
+#include "third_party/blink/renderer/platform/wtf/functional.h"
 
 namespace blink {
 
@@ -104,7 +106,9 @@ ResourceLoadScheduler::ResourceLoadScheduler(
                                kTightLimitForRendererSideResourceScheduler);
 
   scheduler_observer_handle_ = frame_or_worker_scheduler->AddLifecycleObserver(
-      FrameScheduler::ObserverType::kLoader, this);
+      FrameScheduler::ObserverType::kLoader,
+      WTF::BindRepeating(&ResourceLoadScheduler::OnLifecycleStateChanged,
+                         WrapWeakPersistent(this)));
 }
 
 ResourceLoadScheduler::~ResourceLoadScheduler() = default;
diff --git a/third_party/blink/renderer/platform/loader/fetch/resource_load_scheduler.h b/third_party/blink/renderer/platform/loader/fetch/resource_load_scheduler.h
index 7d824a1b94215..ca1fc48d8dfba 100644
--- a/third_party/blink/renderer/platform/loader/fetch/resource_load_scheduler.h
+++ b/third_party/blink/renderer/platform/loader/fetch/resource_load_scheduler.h
@@ -89,8 +89,7 @@ class PLATFORM_EXPORT ResourceLoadSchedulerClient
 //     and the milestones being experimented with are first paint and first
 //     contentful paint so far.
 class PLATFORM_EXPORT ResourceLoadScheduler final
-    : public GarbageCollected<ResourceLoadScheduler>,
-      public FrameOrWorkerScheduler::Observer {
+    : public GarbageCollected<ResourceLoadScheduler> {
  public:
   // An option to use in calling Request(). If kCanNotBeStoppedOrThrottled is
   // specified, the request should be granted and Run() should be called
@@ -176,7 +175,7 @@ class PLATFORM_EXPORT ResourceLoadScheduler final
                         FrameOrWorkerScheduler*,
                         DetachableConsoleLogger& console_logger,
                         LoadingBehaviorObserver* loading_behavior_observer);
-  ~ResourceLoadScheduler() override;
+  ~ResourceLoadScheduler();
 
   void Trace(Visitor*) const;
 
@@ -221,8 +220,8 @@ class PLATFORM_EXPORT ResourceLoadScheduler final
   }
   void SetOutstandingLimitForTesting(size_t tight_limit, size_t normal_limit);
 
-  // FrameOrWorkerScheduler::Observer overrides:
-  void OnLifecycleStateChanged(scheduler::SchedulingLifecycleState) override;
+  // FrameOrWorkerScheduler lifecycle observer callback.
+  void OnLifecycleStateChanged(scheduler::SchedulingLifecycleState);
 
   // The caller is the owner of the |clock|. The |clock| must outlive the
   // ResourceLoadScheduler.
diff --git a/third_party/blink/renderer/platform/runtime_enabled_features.json5 b/third_party/blink/renderer/platform/runtime_enabled_features.json5
index 955dd1ee1e2e1..71b5be9b34f09 100644
--- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
+++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
@@ -1228,7 +1228,7 @@
     },
     {
       name: "MediaCapture",
-      status: {"Android": "stable"},
+      status: "stable",
     },
     {
       name: "MediaCaptureDepthVideoKind",
diff --git a/third_party/blink/renderer/platform/scheduler/common/frame_or_worker_scheduler.cc b/third_party/blink/renderer/platform/scheduler/common/frame_or_worker_scheduler.cc
index d84ae60ddc4f6..ef22c49c9dc6e 100644
--- a/third_party/blink/renderer/platform/scheduler/common/frame_or_worker_scheduler.cc
+++ b/third_party/blink/renderer/platform/scheduler/common/frame_or_worker_scheduler.cc
@@ -4,16 +4,20 @@
 
 #include "third_party/blink/renderer/platform/scheduler/public/frame_or_worker_scheduler.h"
 
+#include <memory>
+#include <utility>
+
+#include "base/callback.h"
+
 namespace blink {
 
 FrameOrWorkerScheduler::LifecycleObserverHandle::LifecycleObserverHandle(
-    FrameOrWorkerScheduler* scheduler,
-    Observer* observer)
-    : scheduler_(scheduler->GetWeakPtr()), observer_(observer) {}
+    FrameOrWorkerScheduler* scheduler)
+    : scheduler_(scheduler->GetWeakPtr()) {}
 
 FrameOrWorkerScheduler::LifecycleObserverHandle::~LifecycleObserverHandle() {
   if (scheduler_)
-    scheduler_->RemoveLifecycleObserver(observer_);
+    scheduler_->RemoveLifecycleObserver(this);
 }
 
 FrameOrWorkerScheduler::SchedulingAffectingFeatureHandle::
@@ -68,25 +72,28 @@ void FrameOrWorkerScheduler::RegisterStickyFeature(
 }
 
 std::unique_ptr<FrameOrWorkerScheduler::LifecycleObserverHandle>
-FrameOrWorkerScheduler::AddLifecycleObserver(ObserverType type,
-                                             Observer* observer) {
-  DCHECK(observer);
-  observer->OnLifecycleStateChanged(CalculateLifecycleState(type));
-  lifecycle_observers_.Set(observer, type);
-  return std::make_unique<LifecycleObserverHandle>(this, observer);
+FrameOrWorkerScheduler::AddLifecycleObserver(
+    ObserverType type,
+    OnLifecycleStateChangedCallback callback) {
+  callback.Run(CalculateLifecycleState(type));
+  auto handle = std::make_unique<LifecycleObserverHandle>(this);
+  lifecycle_observers_.Set(
+      handle.get(), std::make_unique<ObserverState>(type, std::move(callback)));
+  return handle;
 }
 
-void FrameOrWorkerScheduler::RemoveLifecycleObserver(Observer* observer) {
-  DCHECK(observer);
-  const auto found = lifecycle_observers_.find(observer);
+void FrameOrWorkerScheduler::RemoveLifecycleObserver(
+    LifecycleObserverHandle* handle) {
+  DCHECK(handle);
+  const auto found = lifecycle_observers_.find(handle);
   DCHECK(lifecycle_observers_.end() != found);
   lifecycle_observers_.erase(found);
 }
 
 void FrameOrWorkerScheduler::NotifyLifecycleObservers() {
   for (const auto& observer : lifecycle_observers_) {
-    observer.key->OnLifecycleStateChanged(
-        CalculateLifecycleState(observer.value));
+    observer.value->GetCallback().Run(
+        CalculateLifecycleState(observer.value->GetObserverType()));
   }
 }
 
@@ -99,4 +106,11 @@ base::WeakPtr<FrameOrWorkerScheduler> FrameOrWorkerScheduler::GetWeakPtr() {
   return weak_factory_.GetWeakPtr();
 }
 
+FrameOrWorkerScheduler::ObserverState::ObserverState(
+    FrameOrWorkerScheduler::ObserverType observer_type,
+    FrameOrWorkerScheduler::OnLifecycleStateChangedCallback callback)
+    : observer_type_(observer_type), callback_(callback) {}
+
+FrameOrWorkerScheduler::ObserverState::~ObserverState() = default;
+
 }  // namespace blink
diff --git a/third_party/blink/renderer/platform/scheduler/main_thread/frame_scheduler_impl_unittest.cc b/third_party/blink/renderer/platform/scheduler/main_thread/frame_scheduler_impl_unittest.cc
index b4be66f898d46..c6719f0fad2ed 100644
--- a/third_party/blink/renderer/platform/scheduler/main_thread/frame_scheduler_impl_unittest.cc
+++ b/third_party/blink/renderer/platform/scheduler/main_thread/frame_scheduler_impl_unittest.cc
@@ -496,7 +496,7 @@ class FrameSchedulerImplStopInBackgroundDisabledTest
 
 namespace {
 
-class MockLifecycleObserver final : public FrameScheduler::Observer {
+class MockLifecycleObserver {
  public:
   MockLifecycleObserver()
       : not_throttled_count_(0u),
@@ -516,7 +516,7 @@ class MockLifecycleObserver final : public FrameScheduler::Observer {
     EXPECT_EQ(stopped_count_expectation, stopped_count_) << from.ToString();
   }
 
-  void OnLifecycleStateChanged(SchedulingLifecycleState state) override {
+  void OnLifecycleStateChanged(SchedulingLifecycleState state) {
     switch (state) {
       case SchedulingLifecycleState::kNotThrottled:
         not_throttled_count_++;
@@ -534,6 +534,11 @@ class MockLifecycleObserver final : public FrameScheduler::Observer {
     }
   }
 
+  FrameOrWorkerScheduler::OnLifecycleStateChangedCallback GetCallback() {
+    return base::BindRepeating(&MockLifecycleObserver::OnLifecycleStateChanged,
+                               base::Unretained(this));
+  }
+
  private:
   size_t not_throttled_count_;
   size_t hidden_count_;
@@ -1110,7 +1115,7 @@ TEST_F(FrameSchedulerImplTestWithUnfreezableLoading,
   EXPECT_EQ(2, counter);
 }
 
-// Tests if throttling observer interfaces work.
+// Tests if throttling observer callbacks work.
 TEST_F(FrameSchedulerImplTest, LifecycleObserver) {
   std::unique_ptr<MockLifecycleObserver> observer =
       std::make_unique<MockLifecycleObserver>();
@@ -1124,7 +1129,7 @@ TEST_F(FrameSchedulerImplTest, LifecycleObserver) {
                                throttled_count, stopped_count);
 
   auto observer_handle = frame_scheduler_->AddLifecycleObserver(
-      FrameScheduler::ObserverType::kLoader, observer.get());
+      FrameScheduler::ObserverType::kLoader, observer->GetCallback());
 
   // Initial state should be synchronously notified here.
   // We assume kNotThrottled is notified as an initial state, but it could
@@ -1223,10 +1228,11 @@ TEST_F(FrameSchedulerImplTest, SubesourceLoadingPaused) {
 
   // Adding the observers should recieve a non-throttled response
   auto loader_observer_handle = frame_scheduler_->AddLifecycleObserver(
-      FrameScheduler::ObserverType::kLoader, loader_observer.get());
+      FrameScheduler::ObserverType::kLoader, loader_observer->GetCallback());
 
   auto worker_observer_handle = frame_scheduler_->AddLifecycleObserver(
-      FrameScheduler::ObserverType::kWorkerScheduler, worker_observer.get());
+      FrameScheduler::ObserverType::kWorkerScheduler,
+      worker_observer->GetCallback());
 
   loader_observer->CheckObserverState(
       FROM_HERE, ++loader_not_throttled_count, loader_hidden_count,
@@ -1253,7 +1259,7 @@ TEST_F(FrameSchedulerImplTest, SubesourceLoadingPaused) {
     auto loader_observer_added_after_stopped_handle =
         frame_scheduler_->AddLifecycleObserver(
             FrameScheduler::ObserverType::kLoader,
-            loader_observer_added_after_stopped.get());
+            loader_observer_added_after_stopped->GetCallback());
     // This observer should see stopped when added.
     loader_observer_added_after_stopped->CheckObserverState(FROM_HERE, 0, 0, 0,
                                                             1u);
diff --git a/third_party/blink/renderer/platform/scheduler/public/frame_or_worker_scheduler.h b/third_party/blink/renderer/platform/scheduler/public/frame_or_worker_scheduler.h
index 8b7cf12337127..e8c8ed5948587 100644
--- a/third_party/blink/renderer/platform/scheduler/public/frame_or_worker_scheduler.h
+++ b/third_party/blink/renderer/platform/scheduler/public/frame_or_worker_scheduler.h
@@ -5,6 +5,7 @@
 #ifndef THIRD_PARTY_BLINK_RENDERER_PLATFORM_SCHEDULER_PUBLIC_FRAME_OR_WORKER_SCHEDULER_H_
 #define THIRD_PARTY_BLINK_RENDERER_PLATFORM_SCHEDULER_PUBLIC_FRAME_OR_WORKER_SCHEDULER_H_
 
+#include "base/callback.h"
 #include "base/memory/weak_ptr.h"
 #include "base/types/strong_alias.h"
 #include "third_party/blink/renderer/platform/platform_export.h"
@@ -24,28 +25,19 @@ class PLATFORM_EXPORT FrameOrWorkerScheduler {
   // Observer type that regulates conditions to invoke callbacks.
   enum class ObserverType { kLoader, kWorkerScheduler };
 
-  // Observer interface to receive scheduling policy change events.
-  class Observer {
-   public:
-    virtual ~Observer() = default;
-
-    // Notified when throttling state is changed. May be called consecutively
-    // with the same value.
-    virtual void OnLifecycleStateChanged(
-        scheduler::SchedulingLifecycleState) = 0;
-  };
+// Callback type for receiving scheduling policy change events.
+  using OnLifecycleStateChangedCallback =
+      base::RepeatingCallback<void(scheduler::SchedulingLifecycleState)>;
 
   class PLATFORM_EXPORT LifecycleObserverHandle {
     USING_FAST_MALLOC(LifecycleObserverHandle);
 
    public:
-    LifecycleObserverHandle(FrameOrWorkerScheduler* scheduler,
-                            Observer* observer);
+    explicit LifecycleObserverHandle(FrameOrWorkerScheduler* scheduler);
     ~LifecycleObserverHandle();
 
    private:
     base::WeakPtr<FrameOrWorkerScheduler> scheduler_;
-    Observer* observer_;
 
     DISALLOW_COPY_AND_ASSIGN(LifecycleObserverHandle);
   };
@@ -109,14 +101,21 @@ class PLATFORM_EXPORT FrameOrWorkerScheduler {
   void RegisterStickyFeature(SchedulingPolicy::Feature feature,
                              SchedulingPolicy policy);
 
-  // Adds an Observer instance to be notified on scheduling policy changed.
-  // When an Observer is added, the initial state will be notified synchronously
-  // through the Observer interface.
-  // A RAII handle is returned and observer is unregistered when the handle is
-  // destroyed.
-  std::unique_ptr<LifecycleObserverHandle> AddLifecycleObserver(ObserverType,
-                                                                Observer*)
-      WARN_UNUSED_RESULT;
+  // Adds an observer callback to be notified on scheduling policy changed.
+  // When a callback is added, the initial state will be notified synchronously
+  // through the callback. The callback may be invoked consecutively with the
+  // same value. Returns a RAII handle that unregisters the callback when the
+  // handle is destroyed.
+  //
+  // New usage outside of platform/ should be rare. Prefer using
+  // ExecutionContextLifecycleStateObserver to observe paused and frozenness
+  // changes and PageVisibilityObserver to observe visibility changes. One
+  // exception is that this observer enables observing visibility changes of the
+  // associated page in workers, whereas PageVisibilityObserver does not
+  // (crbug.com/1286570).
+  std::unique_ptr<LifecycleObserverHandle> AddLifecycleObserver(
+      ObserverType,
+      OnLifecycleStateChangedCallback) WARN_UNUSED_RESULT;
 
   virtual FrameScheduler* ToFrameScheduler() { return nullptr; }
 
@@ -140,10 +139,25 @@ class PLATFORM_EXPORT FrameOrWorkerScheduler {
   virtual base::WeakPtr<FrameOrWorkerScheduler> GetDocumentBoundWeakPtr();
 
  private:
-  void RemoveLifecycleObserver(Observer* observer);
+  class ObserverState {
+   public:
+    ObserverState(ObserverType, OnLifecycleStateChangedCallback);
+    ObserverState(const ObserverState&) = delete;
+    ObserverState& operator=(const ObserverState&) = delete;
+    ~ObserverState();
+
+    ObserverType GetObserverType() const { return observer_type_; }
+    OnLifecycleStateChangedCallback& GetCallback() { return callback_; }
+
+   private:
+    ObserverType observer_type_;
+    OnLifecycleStateChangedCallback callback_;
+  };
+
+  void RemoveLifecycleObserver(LifecycleObserverHandle* handle);
 
-  // Observers are not owned by the scheduler.
-  HashMap<Observer*, ObserverType> lifecycle_observers_;
+  HashMap<LifecycleObserverHandle*, std::unique_ptr<ObserverState>>
+      lifecycle_observers_;
   base::WeakPtrFactory<FrameOrWorkerScheduler> weak_factory_{this};
 };
 
diff --git a/third_party/blink/renderer/platform/scheduler/worker/worker_scheduler_proxy.cc b/third_party/blink/renderer/platform/scheduler/worker/worker_scheduler_proxy.cc
index 3ff3afde1c688..9d73ff80b2e4a 100644
--- a/third_party/blink/renderer/platform/scheduler/worker/worker_scheduler_proxy.cc
+++ b/third_party/blink/renderer/platform/scheduler/worker/worker_scheduler_proxy.cc
@@ -16,7 +16,9 @@ namespace scheduler {
 WorkerSchedulerProxy::WorkerSchedulerProxy(FrameOrWorkerScheduler* scheduler) {
   DCHECK(scheduler);
   throttling_observer_handle_ = scheduler->AddLifecycleObserver(
-      FrameOrWorkerScheduler::ObserverType::kWorkerScheduler, this);
+      FrameOrWorkerScheduler::ObserverType::kWorkerScheduler,
+      base::BindRepeating(&WorkerSchedulerProxy::OnLifecycleStateChanged,
+                          base::Unretained(this)));
   if (FrameScheduler* frame_scheduler = scheduler->ToFrameScheduler()) {
     parent_frame_type_ = GetFrameOriginType(frame_scheduler);
     initial_frame_status_ = GetFrameStatus(frame_scheduler);
diff --git a/third_party/blink/renderer/platform/scheduler/worker/worker_scheduler_proxy.h b/third_party/blink/renderer/platform/scheduler/worker/worker_scheduler_proxy.h
index b72d4eddabf81..39662fff73d0b 100644
--- a/third_party/blink/renderer/platform/scheduler/worker/worker_scheduler_proxy.h
+++ b/third_party/blink/renderer/platform/scheduler/worker/worker_scheduler_proxy.h
@@ -30,17 +30,15 @@ class WorkerScheduler;
 // on the parent thread. It's passed to WorkerScheduler during its
 // construction. Given that DedicatedWorkerThread object outlives worker thread,
 // this class outlives worker thread too.
-class PLATFORM_EXPORT WorkerSchedulerProxy
-    : public FrameOrWorkerScheduler::Observer {
+class PLATFORM_EXPORT WorkerSchedulerProxy {
  public:
   explicit WorkerSchedulerProxy(FrameOrWorkerScheduler* scheduler);
-  ~WorkerSchedulerProxy() override;
+  ~WorkerSchedulerProxy();
 
   void OnWorkerSchedulerCreated(
       base::WeakPtr<WorkerScheduler> worker_scheduler);
 
-  void OnLifecycleStateChanged(
-      SchedulingLifecycleState lifecycle_state) override;
+  void OnLifecycleStateChanged(SchedulingLifecycleState lifecycle_state);
 
   // Accessed only during init.
   SchedulingLifecycleState lifecycle_state() const {
diff --git a/third_party/blink/web_tests/editing/pasteboard/drag-and-drop-svg-use-sanitize.html b/third_party/blink/web_tests/editing/pasteboard/drag-and-drop-svg-use-sanitize.html
new file mode 100644
index 0000000000000..58551d28341d8
--- /dev/null
+++ b/third_party/blink/web_tests/editing/pasteboard/drag-and-drop-svg-use-sanitize.html
@@ -0,0 +1,47 @@
+<!doctype html>
+<script src="../../resources/testharness.js"></script>
+<script src="../../resources/testharnessreport.js"></script>
+
+<div id="drag-from" draggable=true>Drag from</div>
+<div id="drag-to" contenteditable>Drag to</div>
+
+<script>
+function computePoint(element) {
+  return {
+     x: element.offsetLeft + element.offsetWidth / 2,
+     y: element.offsetTop + element.offsetHeight / 2
+  };
+}
+
+let dragged = false;
+let executed = false;
+const payload = `
+  <svg><use href="data:image/svg+xml,&lt;svg id='x' xmlns='http://www.w3.org/2000/svg'&gt;&lt;image href='fake' onerror='executed=true' /&gt;&lt;/svg&gt;#x" />
+`;
+
+const dragFrom = document.getElementById('drag-from');
+dragFrom.ondragstart = event => {
+  dragged = true;
+  event.dataTransfer.setData('text/html', payload);
+}
+
+const dragTo = document.getElementById('drag-to');
+
+promise_test(async test => {
+  assert_own_property(window, 'eventSender', 'This test requires eventSender to simulate drag and drop');
+
+  const fromPoint = computePoint(dragFrom);
+  eventSender.mouseMoveTo(fromPoint.x, fromPoint.y);
+  eventSender.mouseDown();
+
+  const toPoint = computePoint(dragTo);
+  eventSender.mouseMoveTo(toPoint.x, toPoint.y);
+  eventSender.mouseUp();
+
+  assert_true(dragged, 'Element should be dragged');
+
+  // The 'error' event is dispatched asynchronously.
+  await new Promise(resolve => test.step_timeout(resolve, 100));
+  assert_false(executed, 'Script should be blocked');
+}, 'Script in SVG use href should be sanitized');
+</script>
diff --git a/third_party/blink/web_tests/inspector-protocol/input/dispatchKeyEvent-expected.txt b/third_party/blink/web_tests/inspector-protocol/input/dispatchKeyEvent-expected.txt
index 890dfe3338ad0..d945321a90071 100644
--- a/third_party/blink/web_tests/inspector-protocol/input/dispatchKeyEvent-expected.txt
+++ b/third_party/blink/web_tests/inspector-protocol/input/dispatchKeyEvent-expected.txt
@@ -34,4 +34,6 @@ keyCode: 16
 location: 2
 code: ShiftRight
 
+Expect error for invalid text or unmodifiedText:
+Error: Invalid 'text' parameter
 
diff --git a/third_party/blink/web_tests/inspector-protocol/input/dispatchKeyEvent.js b/third_party/blink/web_tests/inspector-protocol/input/dispatchKeyEvent.js
index 405a599a64c1a..0a9846f6faf1b 100644
--- a/third_party/blink/web_tests/inspector-protocol/input/dispatchKeyEvent.js
+++ b/third_party/blink/web_tests/inspector-protocol/input/dispatchKeyEvent.js
@@ -80,5 +80,13 @@
   }));
 
   testRunner.log(await session.evaluate(`window.logs.join('\\n')`));
+
+  testRunner.log('Expect error for invalid text or unmodifiedText:')
+  dumpError(await dp.Input.dispatchKeyEvent({
+    type: 'char',
+    text: 'oops',
+    unmodifiedText: 'SNAP'
+  }));
+
   testRunner.completeTest();
 })
diff --git a/third_party/blink/web_tests/wpt_internal/fenced_frame/restrict-size.https.html b/third_party/blink/web_tests/wpt_internal/fenced_frame/restrict-size.https.html
new file mode 100644
index 0000000000000..5668407d7e1e6
--- /dev/null
+++ b/third_party/blink/web_tests/wpt_internal/fenced_frame/restrict-size.https.html
@@ -0,0 +1,15 @@
+<!DOCTYPE html>
+<title>Test fencedframe size restrictions in opaque ads mode.</title>
+<script src="/resources/testharness.js"></script>
+<script src="/resources/testharnessreport.js"></script>
+<script src="/common/utils.js"></script>
+<script src="/common/dispatcher/dispatcher.js"></script>
+<script src="resources/utils.js"></script>
+
+<body>
+<script>
+promise_test(async () => {
+  const frame = attachFencedFrameContext();
+}, 'restrict fencedframe size');
+</script>
+</body>
diff --git a/third_party/freetype/README.chromium b/third_party/freetype/README.chromium
index 8a5d441992607..fadd7cdc14cda 100644
--- a/third_party/freetype/README.chromium
+++ b/third_party/freetype/README.chromium
@@ -1,7 +1,7 @@
 Name: FreeType
 URL: http://www.freetype.org/
-Version: VER-2-10-4-188-ge9c50fa77
-Revision: e9c50fa77de58b749b4b95706f7b55bfff0dd27f
+Version: VER-2-10-4-0
+Revision: 6a2b3e4007e794bfc6c91030d0ed987f925164a8
 CPEPrefix: cpe:/a:freetype:freetype:2.10.4
 License: Custom license "inspired by the BSD, Artistic, and IJG (Independent
          JPEG Group) licenses"
diff --git a/tools/metrics/histograms/enums.xml b/tools/metrics/histograms/enums.xml
index 808a241114bbf..4af899b058a6a 100644
--- a/tools/metrics/histograms/enums.xml
+++ b/tools/metrics/histograms/enums.xml
@@ -68571,6 +68571,7 @@ https://www.dmtf.org/sites/default/files/standards/documents/DSP0134_2.7.1.pdf
   <int value="394" label="FILELOC"/>
   <int value="395" label="WEBLOC"/>
   <int value="396" label="XSD"/>
+  <int value="397" label="INETLOC"/>
 </enum>
 
 <enum name="SBClientDownloadIsSignedBinary">
diff --git a/ui/aura/gestures/gesture_recognizer_unittest.cc b/ui/aura/gestures/gesture_recognizer_unittest.cc
index 40ad046607507..fafd5cb6096de 100644
--- a/ui/aura/gestures/gesture_recognizer_unittest.cc
+++ b/ui/aura/gestures/gesture_recognizer_unittest.cc
@@ -29,6 +29,7 @@
 #include "ui/events/event_utils.h"
 #include "ui/events/gesture_detection/gesture_configuration.h"
 #include "ui/events/gesture_detection/gesture_provider.h"
+#include "ui/events/gestures/gesture_recognizer_impl.h"
 #include "ui/events/gestures/gesture_types.h"
 #include "ui/events/test/event_generator.h"
 #include "ui/events/test/events_test_utils.h"
@@ -1737,6 +1738,75 @@ TEST_F(GestureRecognizerTest, GestureTapFollowedByScroll) {
   EXPECT_TRUE(delegate->fling());
 }
 
+// Verifies that destroying a gesture provider aura instance before a touch
+// event is ACKed works as expected (see https://crbug.com/1292264).
+TEST_F(GestureRecognizerTest, DestroyGestureProviderAuraBeforeAck) {
+  TimedEvents tes;
+  const int kTouchId = 4;
+  std::unique_ptr<GestureEventConsumeDelegate> delegate(
+      new GestureEventConsumeDelegate());
+  std::unique_ptr<aura::Window> window1(CreateTestWindowWithDelegate(
+      delegate.get(), /*id=*/-2345, /*bounds=*/gfx::Rect(0, 0, 50, 50),
+      /*parent=*/root_window()));
+
+  // Touch press then release on `window1`.
+  constexpr gfx::Point touch_location(/*x=*/10, /*y=*/20);
+  ui::TouchEvent press(
+      ui::ET_TOUCH_PRESSED, touch_location, /*time_stamp=*/tes.Now(),
+      ui::PointerDetails(ui::EventPointerType::kTouch, kTouchId));
+  delegate->Reset();
+  DispatchEventUsingWindowDispatcher(&press);
+  EXPECT_TRUE(delegate->tap_down());
+  delegate->Reset();
+  ui::TouchEvent release(
+      ui::ET_TOUCH_RELEASED, touch_location,
+      /*time_stamp=*/press.time_stamp() + base::Milliseconds(50),
+      ui::PointerDetails(ui::EventPointerType::kTouch, kTouchId));
+  DispatchEventUsingWindowDispatcher(&release);
+  EXPECT_FALSE(delegate->tap_down());
+
+  // Verify that the gesture provider for `window1` is created.
+  auto* gesture_recognizer = static_cast<ui::GestureRecognizerImpl*>(
+      aura::Env::GetInstance()->gesture_recognizer());
+  const auto& consumer_provider_mappings =
+      gesture_recognizer->consumer_gesture_provider_;
+  EXPECT_NE(consumer_provider_mappings.cend(),
+            consumer_provider_mappings.find(window1.get()));
+
+  // Create a second window for handling touch events.
+  std::unique_ptr<QueueTouchEventDelegate> delegate2(
+      new QueueTouchEventDelegate(host()->dispatcher()));
+  const int kTouchId2 = 4;
+  std::unique_ptr<aura::Window> window2(CreateTestWindowWithDelegate(
+      delegate2.get(), /*id=*/-1234, /*bounds=*/gfx::Rect(100, 100, 500, 500),
+      root_window()));
+  delegate2->set_window(window2.get());
+
+  // Send a press event on `window2`. Verify that the gesture provider for
+  // `window2` is created.
+  ui::TouchEvent press2(
+      ui::ET_TOUCH_PRESSED, /*location=*/gfx::Point(200, 200),
+      /*time_stamp=*/tes.Now(),
+      ui::PointerDetails(ui::EventPointerType::kTouch, kTouchId2));
+  DispatchEventUsingWindowDispatcher(&press2);
+  EXPECT_NE(consumer_provider_mappings.cend(),
+            consumer_provider_mappings.find(window2.get()));
+
+  // Verify that `press2` is associated with a gesture provider raw pointer.
+  const auto& event_provider_mappings =
+      gesture_recognizer->event_to_gesture_provider_;
+  EXPECT_NE(event_provider_mappings.cend(),
+            event_provider_mappings.find(press2.unique_event_id()));
+
+  // Before ACKing `press2`, replacing the gesture provider of `window2` with a
+  // new value through event transferal.
+  aura::Env::GetInstance()->gesture_recognizer()->TransferEventsTo(
+      window1.get(), window2.get(), ui::TransferTouchesBehavior::kCancel);
+
+  // ACK the press event.
+  delegate2->ReceivedAck();
+}
+
 TEST_F(GestureRecognizerTest, AsynchronousGestureRecognition) {
   std::unique_ptr<QueueTouchEventDelegate> queued_delegate(
       new QueueTouchEventDelegate(host()->dispatcher()));
diff --git a/ui/events/gestures/gesture_provider_aura.cc b/ui/events/gestures/gesture_provider_aura.cc
index eb43a56ceda5c..3d100093bb466 100644
--- a/ui/events/gestures/gesture_provider_aura.cc
+++ b/ui/events/gestures/gesture_provider_aura.cc
@@ -39,7 +39,9 @@ GestureProviderAura::GestureProviderAura(GestureConsumer* consumer,
       kDoubleTapPlatformSupport);
 }
 
-GestureProviderAura::~GestureProviderAura() {}
+GestureProviderAura::~GestureProviderAura() {
+  client_->OnGestureProviderAuraWillBeDestroyed(this);
+}
 
 bool GestureProviderAura::OnTouchEvent(TouchEvent* event) {
   if (!pointer_state_.OnTouch(*event))
@@ -110,4 +112,4 @@ void GestureProviderAura::OnTouchEnter(int pointer_id, float x, float y) {
                   false /* is_source_touch_event_set_blocking */);
 }
 
-}  // namespace content
+}  // namespace ui
diff --git a/ui/events/gestures/gesture_provider_aura.h b/ui/events/gestures/gesture_provider_aura.h
index 1cf2b3a47dc30..1a7ff93aa0a33 100644
--- a/ui/events/gestures/gesture_provider_aura.h
+++ b/ui/events/gestures/gesture_provider_aura.h
@@ -27,6 +27,10 @@ class EVENTS_EXPORT GestureProviderAuraClient {
   virtual ~GestureProviderAuraClient() {}
   virtual void OnGestureEvent(GestureConsumer* consumer,
                               GestureEvent* event) = 0;
+
+  // Called when `gesture_provider` will be destroyed.
+  virtual void OnGestureProviderAuraWillBeDestroyed(
+      GestureProviderAura* gesture_provider) {}
 };
 
 // Provides gesture detection and dispatch given a sequence of touch events
diff --git a/ui/events/gestures/gesture_recognizer_impl.cc b/ui/events/gestures/gesture_recognizer_impl.cc
index 85912f5ad4eb5..344412f1c2993 100644
--- a/ui/events/gestures/gesture_recognizer_impl.cc
+++ b/ui/events/gestures/gesture_recognizer_impl.cc
@@ -393,6 +393,18 @@ void GestureRecognizerImpl::OnGestureEvent(GestureConsumer* raw_input_consumer,
   DispatchGestureEvent(raw_input_consumer, event);
 }
 
+void GestureRecognizerImpl::OnGestureProviderAuraWillBeDestroyed(
+    GestureProviderAura* gesture_provider) {
+  // Clean `event_to_gesture_provider_` by removing invalid raw pointers.
+  for (auto iter = event_to_gesture_provider_.begin();
+       iter != event_to_gesture_provider_.end();) {
+    if (iter->second == gesture_provider)
+      iter = event_to_gesture_provider_.erase(iter);
+    else
+      ++iter;
+  }
+}
+
 GestureEventHelper* GestureRecognizerImpl::FindDispatchHelperForConsumer(
     GestureConsumer* consumer) {
   std::vector<GestureEventHelper*>::iterator it;
diff --git a/ui/events/gestures/gesture_recognizer_impl.h b/ui/events/gestures/gesture_recognizer_impl.h
index 54d9c1079a30a..b2a24c0fbdfba 100644
--- a/ui/events/gestures/gesture_recognizer_impl.h
+++ b/ui/events/gestures/gesture_recognizer_impl.h
@@ -19,6 +19,11 @@
 #include "ui/events/types/event_type.h"
 #include "ui/gfx/geometry/point.h"
 
+namespace aura::test {
+FORWARD_DECLARE_TEST(GestureRecognizerTest,
+                     DestroyGestureProviderAuraBeforeAck);
+}  // namespace aura::test
+
 namespace ui {
 class GestureConsumer;
 class GestureEvent;
@@ -73,6 +78,9 @@ class EVENTS_EXPORT GestureRecognizerImpl : public GestureRecognizer,
                                     GestureConsumer* consumer) override;
 
  private:
+  FRIEND_TEST_ALL_PREFIXES(aura::test::GestureRecognizerTest,
+                           DestroyGestureProviderAuraBeforeAck);
+
   // Sets up the target consumer for gestures based on the touch-event.
   void SetupTargets(const TouchEvent& event, GestureConsumer* consumer);
 
@@ -94,6 +102,8 @@ class EVENTS_EXPORT GestureRecognizerImpl : public GestureRecognizer,
   // Overridden from GestureProviderAuraClient
   void OnGestureEvent(GestureConsumer* raw_input_consumer,
                       GestureEvent* event) override;
+  void OnGestureProviderAuraWillBeDestroyed(
+      GestureProviderAura* gesture_provider) override;
 
   // Convenience method to find the GestureEventHelper that can dispatch events
   // to a specific |consumer|.
diff --git a/ui/gfx/native_widget_types.h b/ui/gfx/native_widget_types.h
index 334d61f1f33bf..cb0f72b6da19b 100644
--- a/ui/gfx/native_widget_types.h
+++ b/ui/gfx/native_widget_types.h
@@ -247,6 +247,9 @@ constexpr AcceleratedWidget kNullAcceleratedWidget = 0;
 #elif defined(OS_ANDROID)
 typedef ANativeWindow* AcceleratedWidget;
 constexpr AcceleratedWidget kNullAcceleratedWidget = 0;
+#elif defined(OS_OHOS)
+typedef uint32_t AcceleratedWidget;
+constexpr AcceleratedWidget kNullAcceleratedWidget = 0;
 #elif defined(USE_OZONE) || defined(USE_X11)
 typedef uint32_t AcceleratedWidget;
 constexpr AcceleratedWidget kNullAcceleratedWidget = 0;
diff --git a/ui/gl/BUILD.gn b/ui/gl/BUILD.gn
index 51da9df3d5d28..5b8ff425e8128 100644
--- a/ui/gl/BUILD.gn
+++ b/ui/gl/BUILD.gn
@@ -48,6 +48,13 @@ config("gl_config") {
   }
 }
 
+component("native_window_tracker") {
+  sources = [
+    "nweb_native_window_tracker.cc",
+    "nweb_native_window_tracker.h",
+  ]
+}
+
 component("gl") {
   output_name = "gl_wrapper"  # Avoid colliding with OS X"s libGL.dylib.
 
@@ -141,6 +148,19 @@ component("gl") {
     "trace_util.h",
   ]
 
+  if (is_ohos) {
+    import("//build/config/ohos/config.gni")
+    sources += [
+      "gl_surface_egl_ohos.cc",
+      "gl_surface_egl_ohos.h",
+    ]
+
+    libs = [
+      "surface.z",
+    ]
+    lib_dirs = ohos_libs_dir
+  }
+
   if (is_android) {
     sources += [
       "android/scoped_java_surface.cc",
@@ -172,6 +192,11 @@ component("gl") {
     # ANGLE includes are used cross-platform.
     "//third_party/angle:includes",
   ]
+  if (is_ohos) {
+    deps += [
+      ":native_window_tracker",
+    ]
+  }
   public_deps = [
     "//base",
     "//third_party/mesa_headers",
diff --git a/ui/gl/gl_surface_egl_ohos.cc b/ui/gl/gl_surface_egl_ohos.cc
new file mode 100644
index 0000000000000..3da5f22041582
--- /dev/null
+++ b/ui/gl/gl_surface_egl_ohos.cc
@@ -0,0 +1,97 @@
+// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
+// Use of this source code is governed by a BSD-style license that can be
+// found in the LICENSE file.
+
+#include "ui/gl/gl_surface_egl_ohos.h"
+
+#include <surface.h>
+#include <sys/time.h>
+#include <window.h>
+#include <iomanip>
+#include <thread>
+#include "nweb_native_window_tracker.h"
+
+namespace {
+static int64_t GetNowTime() {
+  struct timeval start = {};
+  gettimeofday(&start, nullptr);
+  constexpr uint32_t kSecToUsec = 1000 * 1000;
+  return static_cast<int64_t>(start.tv_sec) * kSecToUsec + start.tv_usec;
+}
+}  // namespace
+
+namespace gl {
+
+scoped_refptr<gl::NativeViewGLSurfaceEGLOhos>
+NativeViewGLSurfaceEGLOhos::CreateNativeViewGLSurfaceEGLOhos(
+    gfx::AcceleratedWidget widget) {
+  NativeWindow* window =
+      (NativeWindow*)NWebNativeWindowTracker::Instance().GetNativeWindow(
+          widget);
+  return scoped_refptr<NativeViewGLSurfaceEGLOhos>(
+      new NativeViewGLSurfaceEGLOhos(EGLNativeWindowType(window)));
+}
+
+NativeViewGLSurfaceEGLOhos::NativeViewGLSurfaceEGLOhos(
+    EGLNativeWindowType window)
+    : NativeViewGLSurfaceEGL(window, nullptr) {
+  frame_counter_.reset(new FrameCounter);
+  if (frame_counter_) {
+    frame_counter_->Start();
+  }
+}
+
+gfx::SwapResult NativeViewGLSurfaceEGLOhos::SwapBuffers(
+    PresentationCallback callback) {
+  auto result = NativeViewGLSurfaceEGL::SwapBuffers(std::move(callback));
+  if (frame_counter_) {
+    frame_counter_->Update(result == gfx::SwapResult::SWAP_FAILED ? false
+                                                                  : true);
+  }
+  return result;
+}
+
+void NativeViewGLSurfaceEGLOhos::FrameCounter::Start() {
+  std::weak_ptr<FrameCounter> frame_counter_weak(shared_from_this());
+  std::thread frame_stat_thread([frame_counter_weak]() {
+    while (!frame_counter_weak.expired()) {
+      {
+        auto frame_counter = frame_counter_weak.lock();
+        std::unique_lock<std::mutex> lk(frame_counter->frame_stat_mtx_);
+        int64_t curr_time = GetNowTime();
+        if (frame_counter->last_time_ == 0) {
+          frame_counter->local_render_count_ = 0;
+          frame_counter->last_time_ = curr_time;
+          continue;
+        }
+        if (frame_counter->local_render_count_ != 0) {
+          auto fps_cur = 1000.0 * 1000 * frame_counter->local_render_count_ /
+                         (curr_time - frame_counter->last_time_);
+          LOG(INFO) << "NWeb fps_cur=" << std::fixed << std::setprecision(1)
+                    << fps_cur << " frame_output_count="
+                    << frame_counter->frame_render_count_
+                    << " frame_miss_count=" << frame_counter->frame_miss_count_;
+        }
+        frame_counter->local_render_count_ = 0;
+        frame_counter->last_time_ = curr_time;
+      }
+      // during sleep(), frame_counter_weak should not be
+      // promote to shared_ptr, to avoid add refcount
+      constexpr int kFrameStatUpdateDur = 1;
+      sleep(kFrameStatUpdateDur);
+    }
+  });
+  frame_stat_thread.detach();
+}
+
+void NativeViewGLSurfaceEGLOhos::FrameCounter::Update(bool flag) {
+  std::unique_lock<std::mutex> lk(frame_stat_mtx_);
+  if (flag) {
+    frame_render_count_++;
+    local_render_count_++;
+  } else {
+    frame_miss_count_++;
+  }
+}
+
+}  // namespace gl
diff --git a/ui/gl/gl_surface_egl_ohos.h b/ui/gl/gl_surface_egl_ohos.h
new file mode 100644
index 0000000000000..c1c1f00eac9a0
--- /dev/null
+++ b/ui/gl/gl_surface_egl_ohos.h
@@ -0,0 +1,45 @@
+// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
+// Use of this source code is governed by a BSD-style license that can be
+// found in the LICENSE file.
+
+#ifndef UI_GL_GL_SURFACE_EGL_OHOS_H_
+#define UI_GL_GL_SURFACE_EGL_OHOS_H_
+
+#include <condition_variable>
+#include <memory>
+#include <mutex>
+#include "ui/gl/gl_export.h"
+#include "ui/gl/gl_surface_egl.h"
+
+namespace gl {
+
+class GL_EXPORT NativeViewGLSurfaceEGLOhos : public NativeViewGLSurfaceEGL {
+ public:
+  explicit NativeViewGLSurfaceEGLOhos(EGLNativeWindowType window);
+  NativeViewGLSurfaceEGLOhos(const NativeViewGLSurfaceEGLOhos& other) = delete;
+  NativeViewGLSurfaceEGLOhos& operator=(const NativeViewGLSurfaceEGLOhos& rhs) =
+      delete;
+
+  static scoped_refptr<gl::NativeViewGLSurfaceEGLOhos>
+  CreateNativeViewGLSurfaceEGLOhos(gfx::AcceleratedWidget window);
+  gfx::SwapResult SwapBuffers(PresentationCallback callback) override;
+
+ private:
+  class FrameCounter : public std::enable_shared_from_this<FrameCounter> {
+   public:
+    void Start();
+    void Update(bool flag);
+
+   private:
+    std::mutex frame_stat_mtx_;
+    int64_t frame_render_count_ = 0L;
+    int64_t frame_miss_count_ = 0L;
+    int64_t local_render_count_ = 0L;
+    int64_t last_time_ = 0L;
+  };
+  std::shared_ptr<FrameCounter> frame_counter_;
+};
+
+}  // namespace gl
+
+#endif  // UI_GL_GL_SURFACE_EGL_OHOS_H_
diff --git a/ui/gl/init/BUILD.gn b/ui/gl/init/BUILD.gn
index e447744aa69ff..bdd961184867b 100644
--- a/ui/gl/init/BUILD.gn
+++ b/ui/gl/init/BUILD.gn
@@ -36,6 +36,13 @@ component("init") {
     deps += [ "//third_party/angle:libEGL_static" ]
   }
 
+  if (is_ohos) {
+    sources += [
+      "gl_factory_ohos.cc",
+      "gl_factory_ohos.h",
+    ]
+  }
+
   if (is_android) {
     sources += [
       "gl_factory_android.cc",
diff --git a/ui/gl/init/gl_factory_ohos.cc b/ui/gl/init/gl_factory_ohos.cc
new file mode 100644
index 0000000000000..a5614e1068874
--- /dev/null
+++ b/ui/gl/init/gl_factory_ohos.cc
@@ -0,0 +1,18 @@
+// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
+// Use of this source code is governed by a BSD-style license that can be
+// found in the LICENSE file.
+
+#include "ui/gl/init/gl_factory_ohos.h"
+
+namespace gl {
+
+namespace init {
+
+scoped_refptr<GLSurface> CreateViewGLSurfaceOhos(
+    gfx::AcceleratedWidget window) {
+  return InitializeGLSurface(
+      NativeViewGLSurfaceEGLOhos::CreateNativeViewGLSurfaceEGLOhos(window));
+}
+
+}  // namespace init
+}  // namespace gl
diff --git a/ui/gl/init/gl_factory_ohos.h b/ui/gl/init/gl_factory_ohos.h
new file mode 100644
index 0000000000000..5e853b9ed9ead
--- /dev/null
+++ b/ui/gl/init/gl_factory_ohos.h
@@ -0,0 +1,23 @@
+// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
+// Use of this source code is governed by a BSD-style license that can be
+// found in the LICENSE file.
+
+#ifndef UI_GL_INIT_GL_FACTORY_OHOS_H_
+#define UI_GL_INIT_GL_FACTORY_OHOS_H_
+
+#include "base/memory/ref_counted.h"
+#include "ui/gl/gl_surface_egl_ohos.h"
+namespace gl {
+
+class GLSurface;
+
+namespace init {
+
+// Creates a GL surface that renders directly to a view.
+scoped_refptr<GLSurface> CreateViewGLSurfaceOhos(gfx::AcceleratedWidget window);
+
+}  // namespace init
+
+}  // namespace gl
+
+#endif  // UI_GL_INIT_GL_FACTORY_OHOS_H_
diff --git a/ui/gl/init/gl_factory_ozone.cc b/ui/gl/init/gl_factory_ozone.cc
index a53de798086f6..5ede7cafde8e1 100644
--- a/ui/gl/init/gl_factory_ozone.cc
+++ b/ui/gl/init/gl_factory_ozone.cc
@@ -24,6 +24,10 @@
 #include "ui/gl/init/gl_factory_linux_x11.h"
 #endif
 
+#if defined(OS_OHOS)
+#include "ui/gl/init/gl_factory_ohos.h"
+#endif
+
 namespace gl {
 namespace init {
 
@@ -99,6 +103,10 @@ scoped_refptr<GLSurface> CreateViewGLSurface(gfx::AcceleratedWidget window) {
     return gl::init::CreateViewGLSurfaceX11(window);
 #endif
 
+#if defined(OS_OHOS)
+  return gl::init::CreateViewGLSurfaceOhos(window);
+#endif
+
 #if defined(USE_OZONE)
   TRACE_EVENT0("gpu", "gl::init::CreateViewGLSurface");
 
diff --git a/ui/gl/nweb_native_window_tracker.cc b/ui/gl/nweb_native_window_tracker.cc
new file mode 100644
index 0000000000000..c56670e35d4c3
--- /dev/null
+++ b/ui/gl/nweb_native_window_tracker.cc
@@ -0,0 +1,26 @@
+// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
+// Use of this source code is governed by a BSD-style license that can be
+// found in the LICENSE file.
+
+#include "nweb_native_window_tracker.h"
+
+NWebNativeWindowTracker& NWebNativeWindowTracker::Instance() {
+  static NWebNativeWindowTracker tracker;
+  return tracker;
+}
+
+uint32_t NWebNativeWindowTracker::AddNativeWindow(void* native_window) {
+  std::lock_guard<std::mutex> lock(native_window_map_lock_);
+  uint32_t native_window_id = ++next_native_window_id_;
+  native_window_map_.emplace(native_window_id, (void*)native_window);
+  return native_window_id;
+}
+
+void* NWebNativeWindowTracker::GetNativeWindow(uint32_t native_window_id) {
+  std::lock_guard<std::mutex> lock(native_window_map_lock_);
+  auto it = native_window_map_.find(native_window_id);
+  if (it == native_window_map_.end()) {
+    return nullptr;
+  }
+  return it->second;
+}
\ No newline at end of file
diff --git a/ui/gl/nweb_native_window_tracker.h b/ui/gl/nweb_native_window_tracker.h
new file mode 100644
index 0000000000000..cd20878eaf5a5
--- /dev/null
+++ b/ui/gl/nweb_native_window_tracker.h
@@ -0,0 +1,25 @@
+// Copyright (c) 2022 Huawei Device Co., Ltd. All rights reserved.
+// Use of this source code is governed by a BSD-style license that can be
+// found in the LICENSE file.
+
+#ifndef NWEB_NATIVE_WINDOW_TRACKER_H
+#define NWEB_NATIVE_WINDOW_TRACKER_H
+
+#define NWEB_EXPORT __attribute__((visibility("default")))
+
+#include <mutex>
+#include <unordered_map>
+
+class NWEB_EXPORT NWebNativeWindowTracker {
+ public:
+  static NWebNativeWindowTracker& Instance();
+  uint32_t AddNativeWindow(void* native_window);
+  void* GetNativeWindow(uint32_t native_window_id);
+
+ private:
+  std::mutex native_window_map_lock_;
+  std::unordered_map<uint32_t, void*> native_window_map_;
+  uint32_t next_native_window_id_ = 0;
+};
+
+#endif  // NWEB_NATIVE_WINDOW_TRACKER_H
\ No newline at end of file
diff --git a/ui/ozone/common/egl_util.cc b/ui/ozone/common/egl_util.cc
index 5c5a416cfcc6f..0f48712ece7d5 100644
--- a/ui/ozone/common/egl_util.cc
+++ b/ui/ozone/common/egl_util.cc
@@ -42,7 +42,7 @@ const base::FilePath::CharType kDefaultGlesSoname[] =
     FILE_PATH_LITERAL("libGLESv2.so");
 #else
 const base::FilePath::CharType kDefaultGlesSoname[] =
-    FILE_PATH_LITERAL("libGLES_mali.so");
+    FILE_PATH_LITERAL("libGLESv2.so");
 #endif
 #else
 const base::FilePath::CharType kDefaultEglSoname[] =
diff --git a/ui/views/controls/textfield/textfield.cc b/ui/views/controls/textfield/textfield.cc
index 6de25634ed3d5..5dec2aada87f4 100644
--- a/ui/views/controls/textfield/textfield.cc
+++ b/ui/views/controls/textfield/textfield.cc
@@ -2577,6 +2577,12 @@ void Textfield::UpdateContextMenu() {
       MenuRunner::HAS_MNEMONICS | MenuRunner::CONTEXT_MENU);
 }
 
+void Textfield::InvalidateContextMenu() {
+  // Ensure that the Runner doesn't outlive the Model.
+  context_menu_runner_.reset();
+  context_menu_contents_.reset();
+}
+
 bool Textfield::ImeEditingAllowed() const {
   // Disallow input method editing of password fields.
   ui::TextInputType t = GetTextInputType();
diff --git a/ui/views/controls/textfield/textfield.h b/ui/views/controls/textfield/textfield.h
index 1d76407d6f32b..03671d5b3e7f4 100644
--- a/ui/views/controls/textfield/textfield.h
+++ b/ui/views/controls/textfield/textfield.h
@@ -514,6 +514,11 @@ class VIEWS_EXPORT Textfield : public View,
   // Update the cursor position in the text field.
   void UpdateCursorViewPosition();
 
+  // If there's an existing context menu, invalidate it, maybe closing it if
+  // it's showing. This is required if part of the context menu's model is about
+  // to be destroyed.
+  void InvalidateContextMenu();
+
  private:
   friend class TextfieldTestApi;
 
diff --git a/url/url_util.cc b/url/url_util.cc
index d26124174f7b3..6aa707ea10109 100644
--- a/url/url_util.cc
+++ b/url/url_util.cc
@@ -430,6 +430,13 @@ bool DoReplaceComponents(const char* spec,
     // ref).
     Replacements<CHAR> replacements_no_scheme = replacements;
     replacements_no_scheme.SetScheme(NULL, Component());
+    // If the input URL has potentially dangling markup, set the flag on the
+    // output too. Note that in some cases the replacement gets rid of the
+    // potentially dangling markup, but this ok since the check will fail
+    // closed.
+    if (parsed.potentially_dangling_markup) {
+      out_parsed->potentially_dangling_markup = true;
+    }
     return DoReplaceComponents(recanonicalized.data(), recanonicalized.length(),
                                recanonicalized_parsed, replacements_no_scheme,
                                charset_converter, output, out_parsed);
diff --git a/url/url_util_unittest.cc b/url/url_util_unittest.cc
index ac28f6925b6ce..572788a5ea9c7 100644
--- a/url/url_util_unittest.cc
+++ b/url/url_util_unittest.cc
@@ -482,6 +482,26 @@ TEST_F(URLUtilTest, PotentiallyDanglingMarkup) {
   }
 }
 
+TEST_F(URLUtilTest, PotentiallyDanglingMarkupAfterSchemeOnlyReplacement) {
+  // Parse a URL with potentially dangling markup.
+  Parsed original_parsed;
+  RawCanonOutput<32> original;
+  const char* url = "http://example.com/\n/<path";
+  Canonicalize(url, strlen(url), false, nullptr, &original, &original_parsed);
+  ASSERT_TRUE(original_parsed.potentially_dangling_markup);
+
+  // Perform a replacement, and validate that the potentially_dangling_markup
+  // flag carried over to the new Parsed object.
+  Replacements<char> replacements;
+  const char* new_scheme = "https";
+  replacements.SetScheme(new_scheme, Component(0, strlen(new_scheme)));
+  Parsed replaced_parsed;
+  RawCanonOutput<32> replaced;
+  ReplaceComponents(original.data(), original.length(), original_parsed,
+                    replacements, nullptr, &replaced, &replaced_parsed);
+  EXPECT_TRUE(replaced_parsed.potentially_dangling_markup);
+}
+
 TEST_F(URLUtilTest, TestDomainIs) {
   const struct {
     const char* canonicalized_host;
